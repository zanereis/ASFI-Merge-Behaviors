[{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/751125582","html_url":"https://github.com/apache/incubator-annotator/issues/83#issuecomment-751125582","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/83","id":751125582,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTEyNTU4Mg==","user":{"login":"robertknight","id":2458,"node_id":"MDQ6VXNlcjI0NTg=","avatar_url":"https://avatars.githubusercontent.com/u/2458?v=4","gravatar_id":"","url":"https://api.github.com/users/robertknight","html_url":"https://github.com/robertknight","followers_url":"https://api.github.com/users/robertknight/followers","following_url":"https://api.github.com/users/robertknight/following{/other_user}","gists_url":"https://api.github.com/users/robertknight/gists{/gist_id}","starred_url":"https://api.github.com/users/robertknight/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robertknight/subscriptions","organizations_url":"https://api.github.com/users/robertknight/orgs","repos_url":"https://api.github.com/users/robertknight/repos","events_url":"https://api.github.com/users/robertknight/events{/privacy}","received_events_url":"https://api.github.com/users/robertknight/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T22:30:56Z","updated_at":"2020-12-24T22:32:42Z","author_association":"NONE","body":"> CC @robertknight (happy to hear if you have more research notes, experimental results or other relevant tips from your experience developing this!)\r\n\r\nAside from taking ideas from Hypothesis's technical implementation, which you've already posted pointers to, the other resource I would suggest to make use of from Hypothesis are datasets of annotations in the \"Public\" channel. Here are some I found useful for testing quote matching performance and accuracy:\r\n\r\n- The American Yawp project: http://www.americanyawp.com. In particular, the early chapters have a lot of public annotations\r\n- Annotations on Wikipedia: `https://hypothes.is/search?q=url%3Ahttps%3A%2F%2Fen.wikipedia.org%2F*`. In particular, check out articles which have many annotations made on older versions (say from 2018 or earlier) and have had many edits since then\r\n\r\nThe new quote matching implementation in Hypothesis has a couple of areas where we've noticed matching quality can be improved:\r\n\r\n1. It can find spurious matches for short quotes (in particular, those of one or two words). In [the PR](https://github.com/hypothesis/client/pull/2779) I mention a couple of examples.\r\n2. In the case where the match is not exact, alignment can be sub-optimal in some cases. Looking at public Hypothesis annotations on http://www.americanyawp.com/text/01-the-new-world/ for example you can find cases where the Hypothesis client draws highlights that start or end in unlikely places (eg. middle of a word).\r\n\r\nRelated to point (1), one of the goals of the new implementation was to try to make it easier for other Hypothesis developers and staff to understand how exactly the \"fuzzy\" aspect of \"fuzzy matching\" works. The thinking is that if it is imperfect, then there is value in at least being predictable.\r\n\r\nIn terms of performance, the new implementation is indeed a lot faster in the worst case where there are many selectors that either do not match at all or match with significant edits. The actual approximate string matching code is pretty well optimized at this point. The next lowest-hanging fruit is optimizing the extraction of text from the document and mapping between text positions and DOM (node, offset) points. If we find that we need to make significant improvements from the current implementation in future then we'd likely need to do some offline processing of the document text before searching for matches.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/751125582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/754701314","html_url":"https://github.com/apache/incubator-annotator/issues/92#issuecomment-754701314","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/92","id":754701314,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDcwMTMxNA==","user":{"login":"vrish88","id":36475,"node_id":"MDQ6VXNlcjM2NDc1","avatar_url":"https://avatars.githubusercontent.com/u/36475?v=4","gravatar_id":"","url":"https://api.github.com/users/vrish88","html_url":"https://github.com/vrish88","followers_url":"https://api.github.com/users/vrish88/followers","following_url":"https://api.github.com/users/vrish88/following{/other_user}","gists_url":"https://api.github.com/users/vrish88/gists{/gist_id}","starred_url":"https://api.github.com/users/vrish88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrish88/subscriptions","organizations_url":"https://api.github.com/users/vrish88/orgs","repos_url":"https://api.github.com/users/vrish88/repos","events_url":"https://api.github.com/users/vrish88/events{/privacy}","received_events_url":"https://api.github.com/users/vrish88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T15:20:01Z","updated_at":"2021-01-05T15:20:01Z","author_association":"CONTRIBUTOR","body":"Hey all! Sorry I haven't been able to make the subsequent meetings. \r\n\r\nI'd be interested in using some of these non-versioned releases. Are there any constraints around publishing a \"latest\" build? Would you be open to a pr that does it in GH actions?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/754701314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/754737777","html_url":"https://github.com/apache/incubator-annotator/issues/92#issuecomment-754737777","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/92","id":754737777,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDczNzc3Nw==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T16:17:11Z","updated_at":"2021-01-05T16:17:11Z","author_association":"CONTRIBUTOR","body":"> I'd be interested in using some of these non-versioned releases. Are there any constraints around publishing a \"latest\" build? Would you be open to a pr that does it in GH actions?\r\n\r\nI was just looking yesterday at the status of yarn 2, to see if I could use that to directly depend on this git repository (as explained above, our monorepo/multi-package structure makes it impossible to depend on using yarn 1 or npm). I don’t know if @tilgovi has gotten further with this?\r\n\r\nIn any case, even though directly depending on the git repo seems more elegant, it might take a while for us to move to yarn 2 (or not?), and it would force people to use yarn 2 until (if) monorepo dependencies are supported more widely. So to be pragmatic I think we should just auto-publish on npm indeed. I’d tag it `dev` instead of `latest`, to be clear it is not the latest release.\r\n\r\nPRs would probably be very welcome! It depends on @tilgovi who was looking into this, but I don’t think we had anything set up yet.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/754737777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/755425903","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-755425903","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":755425903,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTQyNTkwMw==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T16:57:29Z","updated_at":"2021-01-06T16:57:29Z","author_association":"CONTRIBUTOR","body":":100: :tada: \r\n\r\nI just played a bit with publishing from the command line. I think we may want to publish each package in our monorepo, instead of only the `apache-annotator` meta-package. It seems `lerna publish` is made for publishing all at once. Instead of `--tag dev` it would need `--dist-tag dev`. In case we do want to use yarn to only publish that one package, we should check the build script is executed before publishing (because I think that’s normally done by the `prepublishOnly` script in the top-level package).\r\n\r\n> I _think_ publishing with a dist tag will be sufficient to get the new package out there. However I might be mistaken and we will have to publish a new version as well. In the latter case, we could publish a [prerelease version](https://docs.npmjs.com/cli/v7/using-npm/semver#prerelease-identifiers).\r\n\r\nFrom my attempt, it seems both yarn and lerna would ask for the version number when only a tag is provided. So giving it a prelease identifier seems the solution indeed; we could call it `dev` instead of `alpha` using the option `--preid dev`. It may be nice to include the commit hash as well; lerna’s `--canary` option does this, making an id like `0.1.1-dev.0+1fb8be2`; if we use yarn I guess we’d have to supply it manually (at least I don’t see an equivalent option).\r\n\r\nPublishing as a prerelease requires us to choose whether to increase the patch, minor or major part of the version number. I guess we could just hardcode that we always work on a ‘prerelease of a patch’, even if we might publish it as a minor or major release. Example: while the last release is 0.1.0, a dev release would be numbered `0.1.1-dev.0+1a2b3c4`, even if our next release will be `0.2.0` and we’ll never publish a `0.1.1`.\r\n\r\nSo for publishing all packages, the command could become more or less: `lerna publish --dist-tag dev --preid dev --canary`. On my command line this gives:\r\n\r\n```\r\nuser@code:incubator-annotator» npx lerna publish --preid dev --dist-tag dev --canary\r\nlerna notice cli v3.20.2\r\nlerna info canary enabled\r\nlerna info Looking for changed packages since c4b5598^..c4b5598\r\n\r\nFound 3 packages to publish:\r\n - apache-annotator => 0.1.1-dev.102+c4b5598\r\n - @annotator/dom => 0.1.1-dev.102+c4b5598\r\n - @annotator/selector => 0.1.1-dev.102+c4b5598\r\n\r\n? Are you sure you want to publish these packages? (ynH) \r\n```\r\n\r\nPerhaps a `--yes` is needed too. (also, no idea why it starts at number 102 here.. but should not matter, I hope)\r\n\r\n>  It doesn't check the result of the Travis CI tests.\r\n\r\nHmm.. so if our development branch is broken, our development release is broken — makes sense to me actually. Might sometimes even be desirable, so that one can test the broken version. And anyone relying on a development release in production would anyhow be wise to lock their dependency to a specific version.\r\n\r\n@tilgovi thoughts from your side?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/755425903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/755792070","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-755792070","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":755792070,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTc5MjA3MA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T00:19:09Z","updated_at":"2021-01-07T00:19:09Z","author_association":"CONTRIBUTOR","body":"Your comments sound exactly right to me, @Treora.\r\n\r\nThe reason for the 102 is that this is the number of commits since the previous tag. This number makes it so that later builds sort later than earlier ones by semver.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/755792070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756234396","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-756234396","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":756234396,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjIzNDM5Ng==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T16:45:46Z","updated_at":"2021-01-07T16:45:46Z","author_association":"CONTRIBUTOR","body":"To keep things all together, would you be up for porting this to Travis? I can help out if you get stuck.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756234396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756327928","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-756327928","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":756327928,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMyNzkyOA==","user":{"login":"vrish88","id":36475,"node_id":"MDQ6VXNlcjM2NDc1","avatar_url":"https://avatars.githubusercontent.com/u/36475?v=4","gravatar_id":"","url":"https://api.github.com/users/vrish88","html_url":"https://github.com/vrish88","followers_url":"https://api.github.com/users/vrish88/followers","following_url":"https://api.github.com/users/vrish88/following{/other_user}","gists_url":"https://api.github.com/users/vrish88/gists{/gist_id}","starred_url":"https://api.github.com/users/vrish88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrish88/subscriptions","organizations_url":"https://api.github.com/users/vrish88/orgs","repos_url":"https://api.github.com/users/vrish88/repos","events_url":"https://api.github.com/users/vrish88/events{/privacy}","received_events_url":"https://api.github.com/users/vrish88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:25:45Z","updated_at":"2021-01-07T19:25:45Z","author_association":"CONTRIBUTOR","body":"@tilgovi lol didn't even know that Travis could do such a thing! With 78433e4 it now will utilize Travis to publish use the lerna command that @Treora provided.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756327928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756332122","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-756332122","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":756332122,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMzMjEyMg==","user":{"login":"vrish88","id":36475,"node_id":"MDQ6VXNlcjM2NDc1","avatar_url":"https://avatars.githubusercontent.com/u/36475?v=4","gravatar_id":"","url":"https://api.github.com/users/vrish88","html_url":"https://github.com/vrish88","followers_url":"https://api.github.com/users/vrish88/followers","following_url":"https://api.github.com/users/vrish88/following{/other_user}","gists_url":"https://api.github.com/users/vrish88/gists{/gist_id}","starred_url":"https://api.github.com/users/vrish88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrish88/subscriptions","organizations_url":"https://api.github.com/users/vrish88/orgs","repos_url":"https://api.github.com/users/vrish88/repos","events_url":"https://api.github.com/users/vrish88/events{/privacy}","received_events_url":"https://api.github.com/users/vrish88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:30:18Z","updated_at":"2021-01-07T19:30:18Z","author_association":"CONTRIBUTOR","body":"I found this https://github.com/lerna/lerna/issues/2022 and was using that as a guide. Do we also need these bits?\r\n\r\n```yaml\r\nafter_success:\r\n  - echo \"//registry.npmjs.org/:_authToken=${NPM_TOKEN}\" > ~/.npmrc\r\n  - git remote add pub https://${GH_TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git\r\n  - git fetch pub master # needed?\r\n  - git checkout master # got an error w/o this one\r\n```\r\n\r\n@tilgovi yes, I may need some help on this one 😃 ","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756332122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756452883","html_url":"https://github.com/apache/incubator-annotator/issues/97#issuecomment-756452883","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/97","id":756452883,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ1Mjg4Mw==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T23:39:38Z","updated_at":"2021-01-07T23:39:38Z","author_association":"CONTRIBUTOR","body":"@tilgovi Could you share/describe your attempt with tsdoc so far? I am curious what you used if not `api-documenter`, because it [looks like][1] `@microsoft/tsdoc` is not made for direct consumption:\r\n\r\n> By itself, the @microsoft/tsdoc package is not a documentation solution you can use directly. It is an engine component used by other tools such as API Extractor. The NPM dependency report is an easy way to find tools that implement TSDoc.\r\n\r\nUpon quick inspection I don’t see anything listed that look more mature than the api-documenter I tried in #101, but would be glad to find something nicer (it gets the job done though)\r\n\r\n[1]: https://tsdoc.org/pages/intro/using_tsdoc/\r\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756452883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756455419","html_url":"https://github.com/apache/incubator-annotator/issues/97#issuecomment-756455419","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/97","id":756455419,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ1NTQxOQ==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T23:47:26Z","updated_at":"2021-01-07T23:47:26Z","author_association":"CONTRIBUTOR","body":"Oh wait, there’s tsdoc.org and there is typedoc.org; please excuse my confusion. :) I suppose that’s what you tried; I’d be glad to try both and compare. It may still be helpful to see your setup, if you could push that as a branch.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756455419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756806744","html_url":"https://github.com/apache/incubator-annotator/pull/99#issuecomment-756806744","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/99","id":756806744,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjgwNjc0NA==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T15:12:07Z","updated_at":"2021-01-08T15:12:07Z","author_association":"CONTRIBUTOR","body":"With positive feedback in yesterday’s call about rounding up to word boundaries, and I think little else that could be objectionable in this PR, I hope it’s okay I’ll merge it already; mainly to reduce merge conflicts later on with the work on documentation. Happy to change things again later if desired.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/756806744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/757024702","html_url":"https://github.com/apache/incubator-annotator/pull/101#issuecomment-757024702","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/101","id":757024702,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzAyNDcwMg==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T22:12:17Z","updated_at":"2021-01-08T22:12:17Z","author_association":"CONTRIBUTOR","body":"I pushed some documentation-in-progress in the [more-docs][1] branch. One apparent problem that should be solved: linking to items in other packages does not work yet. In that branch, the console ouput of `yarn docs` is full of messages like this:\r\n\r\n> WARNING: Unable to resolve reference \"@annotator/selector#TextQuoteSelector\": The package \"@annotator/selector\" could not be located\r\n\r\nPerhaps it would be easier and would suffice to get the problem with the meta-package fixed, if we accept to just only use that one for generating all the docs. But quite possibly the underlying cause is the same.\r\n\r\n[1]: https://github.com/apache/incubator-annotator/tree/more-docs","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/757024702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/759909836","html_url":"https://github.com/apache/incubator-annotator/pull/102#issuecomment-759909836","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/102","id":759909836,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTkwOTgzNg==","user":{"login":"vrish88","id":36475,"node_id":"MDQ6VXNlcjM2NDc1","avatar_url":"https://avatars.githubusercontent.com/u/36475?v=4","gravatar_id":"","url":"https://api.github.com/users/vrish88","html_url":"https://github.com/vrish88","followers_url":"https://api.github.com/users/vrish88/followers","following_url":"https://api.github.com/users/vrish88/following{/other_user}","gists_url":"https://api.github.com/users/vrish88/gists{/gist_id}","starred_url":"https://api.github.com/users/vrish88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrish88/subscriptions","organizations_url":"https://api.github.com/users/vrish88/orgs","repos_url":"https://api.github.com/users/vrish88/repos","events_url":"https://api.github.com/users/vrish88/events{/privacy}","received_events_url":"https://api.github.com/users/vrish88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T03:58:30Z","updated_at":"2021-01-14T03:58:30Z","author_association":"CONTRIBUTOR","body":"This all makes sense. However this should probably be merged in first and then https://github.com/apache/incubator-annotator/pull/100 so that way we publish the packages to the right destination.\r\n\r\nOnce you get this in, @tilgovi would you be willing to help out on #100 ? I could use some TravisCI guidance.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/759909836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/760293296","html_url":"https://github.com/apache/incubator-annotator/pull/102#issuecomment-760293296","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/102","id":760293296,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDI5MzI5Ng==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T16:05:22Z","updated_at":"2021-01-14T16:05:22Z","author_association":"CONTRIBUTOR","body":"@vrish88 sounds good. I'll merge this and then I can help out with Travis!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/760293296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761884766","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-761884766","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":761884766,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTg4NDc2Ng==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-17T21:39:36Z","updated_at":"2021-01-17T21:39:36Z","author_association":"CONTRIBUTOR","body":"I don't know why they would need this `after_success` block, but it make sense to have something like that first command in the deployment script block so that Travis can authenticate with NPM. I'll have to mint a token and put it in the Travis secrets.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761884766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761933424","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-761933424","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":761933424,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTkzMzQyNA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T02:07:48Z","updated_at":"2021-01-18T02:07:48Z","author_association":"CONTRIBUTOR","body":"I'm taking a closer look at this again and reminding myself about our publishing steps. We have a bit of an uncommon process for official releases, because we need to vote on the artifact, but that's not necessary for these. The lerna command alone should suffice, I think, but I'll give it a try locally.\r\n\r\nHere are our release steps, just for reference: https://github.com/apache/incubator-annotator/wiki/Creating-a-Release\r\n\r\nWe have a prepublishOnly step in the root package.json, which I hope lerna will run before publish.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761933424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761934297","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-761934297","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":761934297,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTkzNDI5Nw==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T02:11:25Z","updated_at":"2021-01-18T02:11:25Z","author_association":"CONTRIBUTOR","body":"So, I'm guessing Travis checks out the commit detached, which is why the fetch and checkout are needed. The `git remote` part is probably needed to get lerna permission to push the tag. That may not be necessary. There is a `--no-push` argument to `lerna version`, but that might require us to do this in two steps.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761934297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761936348","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-761936348","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":761936348,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTkzNjM0OA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T02:18:45Z","updated_at":"2021-01-18T02:18:45Z","author_association":"CONTRIBUTOR","body":"It seems like the `--no-git-tag-version` and  `--no-push` arguments to `lerna publish` work.\r\n\r\nSo, this command should do the trick: `npx lerna publish --no-git-tag-version --no-push --canary --preid dev --yes`.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761936348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761939408","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-761939408","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":761939408,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTkzOTQwOA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T02:30:19Z","updated_at":"2021-01-18T02:30:19Z","author_association":"CONTRIBUTOR","body":"With no tagging and no pushing there should be no need for token in the `git remote` step. In fact, the remote might already be configured (as `origin`, read-only) and there may be no need for the remote step at all. That might only be necessary for packages that are trying to push the tag back to GitHub, but I'm not sure I see a strong reason to since the that version number that gets published contains a short sha of the current commit on master (not a commit after bumping the version numbers).\r\n\r\nLet's simplify and make it part of the deploy steps. This might work:\r\n\r\n```\r\ndeploy:\r\n  - provider: script\r\n    script:\r\n      - git checkout master\r\n      - npx lerna publish --preid dev --dist-tag dev --canary --yes\r\n    skip_cleanup: true\r\n    on:\r\n      branch: master\r\n```","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761939408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761939557","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-761939557","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":761939557,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTkzOTU1Nw==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T02:30:53Z","updated_at":"2021-01-18T02:30:53Z","author_association":"CONTRIBUTOR","body":"If you get that going, I think it will fail, but we can merge it. I can add the token step and the encrypted token variable.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/761939557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/762870567","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-762870567","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":762870567,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjg3MDU2Nw==","user":{"login":"vrish88","id":36475,"node_id":"MDQ6VXNlcjM2NDc1","avatar_url":"https://avatars.githubusercontent.com/u/36475?v=4","gravatar_id":"","url":"https://api.github.com/users/vrish88","html_url":"https://github.com/vrish88","followers_url":"https://api.github.com/users/vrish88/followers","following_url":"https://api.github.com/users/vrish88/following{/other_user}","gists_url":"https://api.github.com/users/vrish88/gists{/gist_id}","starred_url":"https://api.github.com/users/vrish88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrish88/subscriptions","organizations_url":"https://api.github.com/users/vrish88/orgs","repos_url":"https://api.github.com/users/vrish88/repos","events_url":"https://api.github.com/users/vrish88/events{/privacy}","received_events_url":"https://api.github.com/users/vrish88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T14:22:08Z","updated_at":"2021-01-19T14:22:08Z","author_association":"CONTRIBUTOR","body":"@tilgovi I've updated the PR, thanks for the help! The one change I made was to concatenate the script commands with `&&` because it didn't look like deploy script took an array (via https://stackoverflow.com/a/60281081)","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/762870567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/764761154","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-764761154","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":764761154,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDc2MTE1NA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T16:17:11Z","updated_at":"2021-01-21T16:17:11Z","author_association":"CONTRIBUTOR","body":"I'm going to merge this so I can work on the token situation on master. Thanks, @vrish88.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/764761154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/764836598","html_url":"https://github.com/apache/incubator-annotator/pull/100#issuecomment-764836598","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/100","id":764836598,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDgzNjU5OA==","user":{"login":"vrish88","id":36475,"node_id":"MDQ6VXNlcjM2NDc1","avatar_url":"https://avatars.githubusercontent.com/u/36475?v=4","gravatar_id":"","url":"https://api.github.com/users/vrish88","html_url":"https://github.com/vrish88","followers_url":"https://api.github.com/users/vrish88/followers","following_url":"https://api.github.com/users/vrish88/following{/other_user}","gists_url":"https://api.github.com/users/vrish88/gists{/gist_id}","starred_url":"https://api.github.com/users/vrish88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrish88/subscriptions","organizations_url":"https://api.github.com/users/vrish88/orgs","repos_url":"https://api.github.com/users/vrish88/repos","events_url":"https://api.github.com/users/vrish88/events{/privacy}","received_events_url":"https://api.github.com/users/vrish88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T18:07:33Z","updated_at":"2021-01-21T18:07:33Z","author_association":"CONTRIBUTOR","body":"Awesome thanks, @tilgovi !","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/764836598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/769245893","html_url":"https://github.com/apache/incubator-annotator/pull/101#issuecomment-769245893","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/101","id":769245893,"node_id":"MDEyOklzc3VlQ29tbWVudDc2OTI0NTg5Mw==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-28T17:25:03Z","updated_at":"2021-01-28T17:25:03Z","author_association":"CONTRIBUTOR","body":">  One apparent problem that should be solved: linking to items in other packages does not work yet.\r\n\r\nI forgot about that during the call. I fixed it now, by having api-extractor throw the output from several packages into the same (temporary) directory, and unleashing api-documenter in that directory.\r\n\r\nDocumenting the meta-package still does not work, but documenting everything except the meta-package (using `lerna exec`’s `--ignore` option) seems equally fine as a solution.\r\n\r\nI think this is ready to merge, next step then is automatically copying `/docs/api` into the website (I’m calling it a day now; @tilgovi feel free to continue with that if you like, otherwise I’ll get to it soon)","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/769245893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/773022066","html_url":"https://github.com/apache/incubator-annotator/issues/81#issuecomment-773022066","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/81","id":773022066,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzAyMjA2Ng==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T04:36:45Z","updated_at":"2021-02-04T04:36:45Z","author_association":"CONTRIBUTOR","body":"Closing this. Sounds like we've got ideas for supporting synchronous APIs, but we don't have any urgency around it.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/773022066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/803463486","html_url":"https://github.com/apache/incubator-annotator/issues/106#issuecomment-803463486","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/106","id":803463486,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzQ2MzQ4Ng==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T21:08:55Z","updated_at":"2021-03-20T21:08:55Z","author_association":"CONTRIBUTOR","body":"The disclaimer must be provided by Apache projects during incubation because some Apache projects may have code that was not licensed as Apache License 2.0 at the time the project moved to Apache. Those projects may need to go through a process of re-licensing components or appending the project notifications to their license files and notice files. The intention of the disclaimer is to allow incubating projects to make releases without necessarily having identified and resolved all such issues.\r\n\r\nAnnotator has no outside work that would be under any other license, but we are required to provide the disclaimer during the incubation process. The disclaimer is there so that you know that the Apache Software Foundation does not guarantee that our license is complete and accurate and that you may wish to inspect the code to make your own determination as to whether the LICENSE and NOTICE files completely describe the correct status of the work.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/803463486/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/803463802","html_url":"https://github.com/apache/incubator-annotator/issues/106#issuecomment-803463802","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/106","id":803463802,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzQ2MzgwMg==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T21:11:45Z","updated_at":"2021-03-20T21:11:45Z","author_association":"CONTRIBUTOR","body":"For example, the Apache Annotator was originally considered to be a potential home for the older Annotator.js project, but all the contributors have instead determined to implement things from scratch, with inspiration (but not code) from the Annotator.js project.\r\n\r\nTherefore, it is my belief that all of our code is properly under the Apache License 2.0, but the foundation has not done a thorough review as part of a process whereby the project would graduate from incubation to full project of the foundation.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/803463802/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/808962821","html_url":"https://github.com/apache/incubator-annotator/pull/107#issuecomment-808962821","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/107","id":808962821,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODk2MjgyMQ==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-28T21:33:33Z","updated_at":"2021-03-28T21:33:33Z","author_association":"CONTRIBUTOR","body":"Thanks for helping out, @lnceballosz. I appreciate the contribution and the effort to encourage reuse. Unfortunately, the ASF prefers that projects do not include a copyright in the license header. Individual contributors maintain copyright, not the foundation.\r\n\r\nIt is possible for us to include the SPDX license name but not the copyright, though, if you think that's still valuable.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/808962821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/809147483","html_url":"https://github.com/apache/incubator-annotator/pull/107#issuecomment-809147483","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/107","id":809147483,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE0NzQ4Mw==","user":{"login":"lnceballosz","id":74302755,"node_id":"MDQ6VXNlcjc0MzAyNzU1","avatar_url":"https://avatars.githubusercontent.com/u/74302755?v=4","gravatar_id":"","url":"https://api.github.com/users/lnceballosz","html_url":"https://github.com/lnceballosz","followers_url":"https://api.github.com/users/lnceballosz/followers","following_url":"https://api.github.com/users/lnceballosz/following{/other_user}","gists_url":"https://api.github.com/users/lnceballosz/gists{/gist_id}","starred_url":"https://api.github.com/users/lnceballosz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lnceballosz/subscriptions","organizations_url":"https://api.github.com/users/lnceballosz/orgs","repos_url":"https://api.github.com/users/lnceballosz/repos","events_url":"https://api.github.com/users/lnceballosz/events{/privacy}","received_events_url":"https://api.github.com/users/lnceballosz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T07:37:45Z","updated_at":"2021-03-29T07:37:45Z","author_association":"CONTRIBUTOR","body":"Hello, \r\nabsolutely, applying SPDX standard headers is always a good practice, so applying only SPDX license headers is fine, In this case the project won't be REUSE compliant, but feel free to adapt it to your needs. \r\nBest,\r\nLina","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/809147483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812953810","html_url":"https://github.com/apache/incubator-annotator/issues/106#issuecomment-812953810","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/106","id":812953810,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjk1MzgxMA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T01:29:36Z","updated_at":"2021-04-04T01:29:36Z","author_association":"CONTRIBUTOR","body":"@raphael10-collab I'm going to close this, but please follow up if you have further questions!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812953810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812954550","html_url":"https://github.com/apache/incubator-annotator/issues/92#issuecomment-812954550","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/92","id":812954550,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjk1NDU1MA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T01:38:19Z","updated_at":"2021-04-04T01:38:19Z","author_association":"CONTRIBUTOR","body":"After a long adventure and much confusion, I finally resolved this and the packages are publishing. The major hurdle was just that lerna had undocumented issues with using automation tokens and I had to use the beta v2 publishing providers from Travis.\r\n\r\nIn the process, I started running tests only against a current Node.js. That seems fine for now. We have linting and tooling designed to manage the compatibility, but let's keep the CI setup simple and snappy until we have a stronger need to guarantee stability.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812954550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812954790","html_url":"https://github.com/apache/incubator-annotator/pull/105#issuecomment-812954790","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/105","id":812954790,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjk1NDc5MA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T01:41:21Z","updated_at":"2021-04-04T01:41:21Z","author_association":"CONTRIBUTOR","body":"Perfect! Thank you for the contribution!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812954790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812977488","html_url":"https://github.com/apache/incubator-annotator/pull/101#issuecomment-812977488","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/101","id":812977488,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjk3NzQ4OA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T05:41:37Z","updated_at":"2021-04-04T05:41:37Z","author_association":"CONTRIBUTOR","body":"I took another try at enabling typedoc and it worked without much issue. Maybe things improved in the more recent releases, but I wasn't getting any of the errors I had been getting. I merged that up to master, so I'm going to close this.\r\n\r\nAs a separate thing, we can try to add the markdown plugin and then import the result into the website, but I left that out for now.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812977488/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812977513","html_url":"https://github.com/apache/incubator-annotator/pull/101#issuecomment-812977513","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/101","id":812977513,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjk3NzUxMw==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T05:42:01Z","updated_at":"2021-04-04T05:42:01Z","author_association":"CONTRIBUTOR","body":"I won't delete this branch, in case you need it. But if you have a local copy and/or do not need to keep this, please feel free to delete to keep the branches tidy!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812977513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812977560","html_url":"https://github.com/apache/incubator-annotator/issues/104#issuecomment-812977560","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/104","id":812977560,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjk3NzU2MA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T05:42:27Z","updated_at":"2021-04-04T05:42:27Z","author_association":"CONTRIBUTOR","body":"Closed by #105.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/812977560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/814582768","html_url":"https://github.com/apache/incubator-annotator/pull/108#issuecomment-814582768","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/108","id":814582768,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDU4Mjc2OA==","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T04:01:02Z","updated_at":"2021-04-07T04:01:02Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this! The syntax on a few of those footnotes was wrong.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/814582768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/817668144","html_url":"https://github.com/apache/incubator-annotator/issues/106#issuecomment-817668144","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/106","id":817668144,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzY2ODE0NA==","user":{"login":"raphael10-collab","id":70313067,"node_id":"MDQ6VXNlcjcwMzEzMDY3","avatar_url":"https://avatars.githubusercontent.com/u/70313067?v=4","gravatar_id":"","url":"https://api.github.com/users/raphael10-collab","html_url":"https://github.com/raphael10-collab","followers_url":"https://api.github.com/users/raphael10-collab/followers","following_url":"https://api.github.com/users/raphael10-collab/following{/other_user}","gists_url":"https://api.github.com/users/raphael10-collab/gists{/gist_id}","starred_url":"https://api.github.com/users/raphael10-collab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphael10-collab/subscriptions","organizations_url":"https://api.github.com/users/raphael10-collab/orgs","repos_url":"https://api.github.com/users/raphael10-collab/repos","events_url":"https://api.github.com/users/raphael10-collab/events{/privacy}","received_events_url":"https://api.github.com/users/raphael10-collab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T09:54:44Z","updated_at":"2021-04-12T09:54:44Z","author_association":"NONE","body":"Thank you for your kind explanation","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/817668144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/855264195","html_url":"https://github.com/apache/incubator-annotator/issues/109#issuecomment-855264195","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/109","id":855264195,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTI2NDE5NQ==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-05T16:37:47Z","updated_at":"2021-06-05T16:37:47Z","author_association":"CONTRIBUTOR","body":"Fixed by #110.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/855264195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868084962","html_url":"https://github.com/apache/incubator-annotator/issues/111#issuecomment-868084962","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/111","id":868084962,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODA4NDk2Mg==","user":{"login":"ziodave","id":11438,"node_id":"MDQ6VXNlcjExNDM4","avatar_url":"https://avatars.githubusercontent.com/u/11438?v=4","gravatar_id":"","url":"https://api.github.com/users/ziodave","html_url":"https://github.com/ziodave","followers_url":"https://api.github.com/users/ziodave/followers","following_url":"https://api.github.com/users/ziodave/following{/other_user}","gists_url":"https://api.github.com/users/ziodave/gists{/gist_id}","starred_url":"https://api.github.com/users/ziodave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ziodave/subscriptions","organizations_url":"https://api.github.com/users/ziodave/orgs","repos_url":"https://api.github.com/users/ziodave/repos","events_url":"https://api.github.com/users/ziodave/events{/privacy}","received_events_url":"https://api.github.com/users/ziodave/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T00:04:35Z","updated_at":"2021-06-25T00:04:59Z","author_association":"NONE","body":"If I revert https://github.com/apache/incubator-annotator/commit/7f9461da824297947196a34ac5c3af7e52e2caf7#diff-1a23dff7a2e2636f389f030fcf64a2a1f6b4f8c278a0c2b231a910906b4454a3R67 to return a `Range` it works.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868084962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868328208","html_url":"https://github.com/apache/incubator-annotator/issues/111#issuecomment-868328208","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/111","id":868328208,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODMyODIwOA==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T08:41:51Z","updated_at":"2021-06-25T08:41:51Z","author_association":"CONTRIBUTOR","body":"Hi David, this indeed happens because we recently changed the API for CssSelectors. My reasoning was that the target of a CssSelector will always be an Element (or multiple), so returning that element may be more natural, and more practical especially for people that only use the CssSelector and not others.\r\n\r\nOn the other hand, it makes that not every matcher function returns the same type of match. The change went together with making every matcher function accept either a Range or an Element for their `scope` argument (instead of just a Range), so that you can still e.g. refine a CssSelector with a TextQuoteSelector (i.e. the CssSelector’s matching element(s) is the scope within which the quote will be searched). You make me realise that we should then also change `highlightRange` to accept an Element too (and rename it accordingly).\r\n\r\nYour thoughts on these API changes are very welcome; we need more user feedback to learn what works for people. Perhaps we could make more breaking changes to elicit such responses. ;)","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868328208/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868375110","html_url":"https://github.com/apache/incubator-annotator/issues/111#issuecomment-868375110","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/111","id":868375110,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODM3NTExMA==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T09:42:27Z","updated_at":"2021-06-25T09:42:27Z","author_association":"CONTRIBUTOR","body":"I renamed `highlightRange` to `highlightText` (seems a better name in any case!), and made it accept either a Node or Range (internally we just use a function `toRange` to convert it to a range, easy enough). Your example code should work now, if you pull the latest commit and update the import to reflect the renaming.\r\n\r\nBy the way, you could let TypeScript help you find errors like this by giving the `matcher` argument a type (instead of `any`). In your case it could be `Matcher<Element, Element | Range>`: the `TScope` type parameter only needs to be `Element`, because you always pass it `document.body`, and all Matcher functions in the dom package yield either `Range`s or `Element`s. Or, if you want to make it more generic, I think the type could be `Matcher<Node | Range, Node | Range>`: you can pass any `Node` or `Range` to any of the matchers, and every Element is a Node so if you like symmetry the `TMatch` type parameter could also be made `Node | Range` (as `highlightText` now accepts this too).","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868375110/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868380706","html_url":"https://github.com/apache/incubator-annotator/issues/111#issuecomment-868380706","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/111","id":868380706,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODM4MDcwNg==","user":{"login":"ziodave","id":11438,"node_id":"MDQ6VXNlcjExNDM4","avatar_url":"https://avatars.githubusercontent.com/u/11438?v=4","gravatar_id":"","url":"https://api.github.com/users/ziodave","html_url":"https://github.com/ziodave","followers_url":"https://api.github.com/users/ziodave/followers","following_url":"https://api.github.com/users/ziodave/following{/other_user}","gists_url":"https://api.github.com/users/ziodave/gists{/gist_id}","starred_url":"https://api.github.com/users/ziodave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ziodave/subscriptions","organizations_url":"https://api.github.com/users/ziodave/orgs","repos_url":"https://api.github.com/users/ziodave/repos","events_url":"https://api.github.com/users/ziodave/events{/privacy}","received_events_url":"https://api.github.com/users/ziodave/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T09:51:35Z","updated_at":"2021-06-25T09:51:35Z","author_association":"NONE","body":"> Your thoughts on these API changes are very welcome; we need more user feedback to learn what works for people. Perhaps we could make more breaking changes to elicit such responses. ;)\r\n\r\nI am trying to build a prototype using this project, I'll share my feedback as much as possible of course.\r\n\r\nDo you also have on- or off-line events, community chat or similar where we can get to know each other and share more knowledge about the project and how to use it?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868380706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868443072","html_url":"https://github.com/apache/incubator-annotator/issues/112#issuecomment-868443072","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/112","id":868443072,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODQ0MzA3Mg==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T11:49:03Z","updated_at":"2021-06-25T11:49:03Z","author_association":"CONTRIBUTOR","body":"Can reproduce. The issue is that if the DOM is changed (by `highlightRange`/`highlightText`) while the TextQuoteSelector is being matched, it can end up finding the quote again and again. (note that the `refinedBy` part is not relevant here, the TextQuoteSelector could be passed to `createMatcher` directly)\r\n\r\nI would like our text matching to be resistant to DOM changes that do not modify the text content. I am not sure how easy or hard this may be to achieve. If we cannot fix this, it seems unhelpful to return an (async) iterable, and we’d better just return an array with the matches.\r\n\r\nFor now, best is to avoid changing the DOM while running the matcher, and first collect the matches in an array. For example, we do this in the demo:\r\n\r\n```\r\n  const matchAll = createMatcher(selector);\r\n  const ranges = [];\r\n\r\n  for await (const range of matchAll(target)) {\r\n    ranges.push(range);\r\n  }\r\n\r\n  for (const range of ranges) {\r\n    const removeHighlight = highlightText(range);\r\n    moduleState.cleanupFunctions.push(removeHighlight);\r\n  }\r\n```\r\n\r\nI see now that I gave the simpler but broken example in the [getting started](https://annotator.apache.org/docs/getting-started/) page. I will add update and a note!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/868443072/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/876530636","html_url":"https://github.com/apache/incubator-annotator/pull/107#issuecomment-876530636","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/107","id":876530636,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjUzMDYzNg==","user":{"login":"BigBlueHat","id":43209,"node_id":"MDQ6VXNlcjQzMjA5","avatar_url":"https://avatars.githubusercontent.com/u/43209?v=4","gravatar_id":"","url":"https://api.github.com/users/BigBlueHat","html_url":"https://github.com/BigBlueHat","followers_url":"https://api.github.com/users/BigBlueHat/followers","following_url":"https://api.github.com/users/BigBlueHat/following{/other_user}","gists_url":"https://api.github.com/users/BigBlueHat/gists{/gist_id}","starred_url":"https://api.github.com/users/BigBlueHat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BigBlueHat/subscriptions","organizations_url":"https://api.github.com/users/BigBlueHat/orgs","repos_url":"https://api.github.com/users/BigBlueHat/repos","events_url":"https://api.github.com/users/BigBlueHat/events{/privacy}","received_events_url":"https://api.github.com/users/BigBlueHat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T15:23:08Z","updated_at":"2021-07-08T15:23:08Z","author_association":"MEMBER","body":"> Unfortunately, the ASF prefers that projects do not include a copyright in the license header. Individual contributors maintain copyright, not the foundation.\r\n\r\nActually... 😃 The ASF holds the copyright to all their projects. We \"grant\" a copyright license to the Foundation--so they can defend their projects as a collective work owned by the ASF non-profit. We _also_ keep our personal copyrights (hence the \"grant a license\" language), such that each of us still holds copyright over our individual contributions--though none of us individually own the whole of Apache Annotator (only the ASF does).\r\n\r\nSo, the copyright claim in the files is fine--however, we may want to consider automating this or teaching [Apache Rat](https://creadur.apache.org/rat/#About_Rat) these tricks. 😁 ","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/876530636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/877183935","html_url":"https://github.com/apache/incubator-annotator/issues/111#issuecomment-877183935","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/111","id":877183935,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzE4MzkzNQ==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T13:22:19Z","updated_at":"2021-07-09T13:22:19Z","author_association":"CONTRIBUTOR","body":"> Do you also have on- or off-line events, community chat or similar where we can get to know each other and share more knowledge about the project and how to use it?\r\n\r\nApologies for the lack of response to this. You are more than welcome to join our IRC channel and mailing list (details on our [homepage](https://annotator.apache.org), and join our community call (usually Thursdays 15:00 UTC on [jitsi](https://meet.jit.si/apache-annotator) — but best to always check on IRC if people are available that week). Or just reach out to have a chat anytime.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/877183935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/877218726","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-877218726","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":877218726,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzIxODcyNg==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T14:11:43Z","updated_at":"2021-07-09T14:11:43Z","author_association":"CONTRIBUTOR","body":"Correct, the package is currently not pre-bundled for use in the browser, as the [getting started](https://annotator.apache.org/docs/getting-started/) page says: *“Currently we only support installation through NPM packages. You will need to use a bundler (such as webpack) to use the modules in a web browser.”*\r\n\r\nIf there is demand for it, and apparently there is, this would be a nice thing to provide, either in the npm packages, or we could distribute bundled/browser-compatible packages separately.\r\n\r\n@tilgovi do you have ideas about this? What approaches we could take?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/877218726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/877289041","html_url":"https://github.com/apache/incubator-annotator/issues/112#issuecomment-877289041","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/112","id":877289041,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzI4OTA0MQ==","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T16:00:18Z","updated_at":"2021-07-09T16:00:18Z","author_association":"CONTRIBUTOR","body":"For now, I just added warnings to the documentation. Longer term, I’d really like to fix this, but it is not trivial to deal with search in a changing DOM. However, while robustness to arbitrary DOM changes may be hard, it gets easier if we limit ourselves to limited changes. In any case, it seems fair to limit our effort to DOM changes that keep the scope’s `textContent` unchanged. Within these changes, we could consider:\r\n\r\n1. changes that split text nodes (as done by `highlightText`)\r\n2. changes that merge text nodes\r\n3. changes that wrap text nodes in elements, or unwrap them (also done in highlightText; but I suppose this is not a problem for us anyway, as we simply iterate through text nodes)\r\n4. changes that replace a node with another that has the same text content.\r\n\r\nBesides these kinds of changes, we could distinguish between changes on the nodes where the search is currently looking, changes before it, and changes ahead of it. Perhaps changes before and after it need not be a problem either, but we’d probably more often deal with changes at the nodes that are currently searched in (for highlighting and such).\r\n\r\nI would probably start with changing the approach of the abstract [text quote matcher implementation](https://github.com/apache/incubator-annotator/blob/main/packages/selector/src/text/match-text-quote.ts). Currently, it manually walks through chunks, but I think it could be simpler by using a TextSeeker to do this. Then, perhaps we can create robustness to split nodes/chunks in there, by e.g. always checking if `this.offsetInChunk < chunk.length` at the start of any function, and walking to the correct chunk if not. Perhaps there will be more problems though.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/877289041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/879344731","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-879344731","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":879344731,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTM0NDczMQ==","user":{"login":"DellCliff","id":14116124,"node_id":"MDQ6VXNlcjE0MTE2MTI0","avatar_url":"https://avatars.githubusercontent.com/u/14116124?v=4","gravatar_id":"","url":"https://api.github.com/users/DellCliff","html_url":"https://github.com/DellCliff","followers_url":"https://api.github.com/users/DellCliff/followers","following_url":"https://api.github.com/users/DellCliff/following{/other_user}","gists_url":"https://api.github.com/users/DellCliff/gists{/gist_id}","starred_url":"https://api.github.com/users/DellCliff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DellCliff/subscriptions","organizations_url":"https://api.github.com/users/DellCliff/orgs","repos_url":"https://api.github.com/users/DellCliff/repos","events_url":"https://api.github.com/users/DellCliff/events{/privacy}","received_events_url":"https://api.github.com/users/DellCliff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T19:30:57Z","updated_at":"2021-07-13T19:30:57Z","author_association":"NONE","body":"It could run in the browser, if imports like these (ES6 imports instead of node imports) were generated:\r\n\r\n```\r\nimport _Object$keys from \"../@babel/runtime-corejs3/core-js/object/keys\";\r\nimport _sliceInstanceProperty from \"../@babel/runtime-corejs3/core-js/instance/slice\";\r\nimport _Array$from from \"../@babel/runtime-corejs3/core-js/array/from\";\r\nimport _Symbol from \"../@babel/runtime-corejs3/core-js/symbol\";\r\nimport _getIteratorMethod from \"../@babel/runtime-corejs3/core-js/get-iterator-method\";\r\nimport _getIterator from \"../@babel/runtime-corejs3/core-js/get-iterator\";\r\n```\r\n\r\n`../` here would walk up to the `node_modules` folder.\r\n\r\nThis presumes that those babel imports also generate ES6 style module files.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/879344731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/879345253","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-879345253","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":879345253,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTM0NTI1Mw==","user":{"login":"DellCliff","id":14116124,"node_id":"MDQ6VXNlcjE0MTE2MTI0","avatar_url":"https://avatars.githubusercontent.com/u/14116124?v=4","gravatar_id":"","url":"https://api.github.com/users/DellCliff","html_url":"https://github.com/DellCliff","followers_url":"https://api.github.com/users/DellCliff/followers","following_url":"https://api.github.com/users/DellCliff/following{/other_user}","gists_url":"https://api.github.com/users/DellCliff/gists{/gist_id}","starred_url":"https://api.github.com/users/DellCliff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DellCliff/subscriptions","organizations_url":"https://api.github.com/users/DellCliff/orgs","repos_url":"https://api.github.com/users/DellCliff/repos","events_url":"https://api.github.com/users/DellCliff/events{/privacy}","received_events_url":"https://api.github.com/users/DellCliff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T19:31:49Z","updated_at":"2021-07-13T19:32:22Z","author_association":"NONE","body":"Maybe there is also a way to tell TypeScript (or which ever compiler is responsible) to generate ES6 module imports instead of node imports.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/879345253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/880797588","html_url":"https://github.com/apache/incubator-annotator/issues/114#issuecomment-880797588","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/114","id":880797588,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDc5NzU4OA==","user":{"login":"BigBlueHat","id":43209,"node_id":"MDQ6VXNlcjQzMjA5","avatar_url":"https://avatars.githubusercontent.com/u/43209?v=4","gravatar_id":"","url":"https://api.github.com/users/BigBlueHat","html_url":"https://github.com/BigBlueHat","followers_url":"https://api.github.com/users/BigBlueHat/followers","following_url":"https://api.github.com/users/BigBlueHat/following{/other_user}","gists_url":"https://api.github.com/users/BigBlueHat/gists{/gist_id}","starred_url":"https://api.github.com/users/BigBlueHat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BigBlueHat/subscriptions","organizations_url":"https://api.github.com/users/BigBlueHat/orgs","repos_url":"https://api.github.com/users/BigBlueHat/repos","events_url":"https://api.github.com/users/BigBlueHat/events{/privacy}","received_events_url":"https://api.github.com/users/BigBlueHat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T15:35:16Z","updated_at":"2021-07-15T15:35:16Z","author_association":"MEMBER","body":"@DellCliff what shell are you using? PowerShell? CMD? Bash for Windows (which typically installs with `git`)?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/880797588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/880860003","html_url":"https://github.com/apache/incubator-annotator/issues/114#issuecomment-880860003","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/114","id":880860003,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDg2MDAwMw==","user":{"login":"DellCliff","id":14116124,"node_id":"MDQ6VXNlcjE0MTE2MTI0","avatar_url":"https://avatars.githubusercontent.com/u/14116124?v=4","gravatar_id":"","url":"https://api.github.com/users/DellCliff","html_url":"https://github.com/DellCliff","followers_url":"https://api.github.com/users/DellCliff/followers","following_url":"https://api.github.com/users/DellCliff/following{/other_user}","gists_url":"https://api.github.com/users/DellCliff/gists{/gist_id}","starred_url":"https://api.github.com/users/DellCliff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DellCliff/subscriptions","organizations_url":"https://api.github.com/users/DellCliff/orgs","repos_url":"https://api.github.com/users/DellCliff/repos","events_url":"https://api.github.com/users/DellCliff/events{/privacy}","received_events_url":"https://api.github.com/users/DellCliff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T16:53:25Z","updated_at":"2021-07-15T16:53:25Z","author_association":"NONE","body":"@BigBlueHat CMD and PowerShell. Same error in both.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/880860003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/882519923","html_url":"https://github.com/apache/incubator-annotator/issues/115#issuecomment-882519923","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/115","id":882519923,"node_id":"IC_kwDOBIM4r840mi9z","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T12:49:22Z","updated_at":"2021-07-19T12:49:22Z","author_association":"CONTRIBUTOR","body":"You are completely correct that there is no need for the current functions to be async. The reason they are async is to make it easier to do async stuff in the future, without needing to change the API. For example, fuzzy text search may be computationally expensive, and could be offloaded to a worker thread.\r\n\r\nNote that e.g. a `TextPositionSelector` can never produce multiple results, so besides not needing to be async its matcher would not even have be a generator. However, the idea is to have a coherency in the function signatures, and making all matchers return async generators seemed the most flexible option, allowing for easy composition of matchers; that is, to have a single function able to handle various types of Selectors, dispatching them to the appropriate functions, as we do [in the demo](https://github.com/apache/incubator-annotator/blob/a352fff9b9abda66d4627d4644ea5a2e2218d7c4/web/index.js#L101-L113).\r\n\r\nWe are aware that this choice of generality does impose constraints on the users of the functions, who need to await each result, and whose functions thus have to become async themselves; ‘async infection’ as you call it. We have been thinking about a practical way to provide a synchronous API in addition to an asynchronous API. See the discussion in #81; suggestions are welcome!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/882519923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/882816203","html_url":"https://github.com/apache/incubator-annotator/issues/115#issuecomment-882816203","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/115","id":882816203,"node_id":"IC_kwDOBIM4r840nrTL","user":{"login":"DellCliff","id":14116124,"node_id":"MDQ6VXNlcjE0MTE2MTI0","avatar_url":"https://avatars.githubusercontent.com/u/14116124?v=4","gravatar_id":"","url":"https://api.github.com/users/DellCliff","html_url":"https://github.com/DellCliff","followers_url":"https://api.github.com/users/DellCliff/followers","following_url":"https://api.github.com/users/DellCliff/following{/other_user}","gists_url":"https://api.github.com/users/DellCliff/gists{/gist_id}","starred_url":"https://api.github.com/users/DellCliff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DellCliff/subscriptions","organizations_url":"https://api.github.com/users/DellCliff/orgs","repos_url":"https://api.github.com/users/DellCliff/repos","events_url":"https://api.github.com/users/DellCliff/events{/privacy}","received_events_url":"https://api.github.com/users/DellCliff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T19:54:31Z","updated_at":"2021-07-19T19:56:09Z","author_association":"NONE","body":"This kinda smells like speculative generality. IMO I would make those matchers not adhere to some common interface and let them have their own signature. A user can then pick and choose. Maybe supply helper functions which take a matcher and produce one with the desired signature, or offer both sync and async out of the box or fuzzy/non-fuzzy. One can always make a sync function into async one, but not the other way around.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/882816203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/883082208","html_url":"https://github.com/apache/incubator-annotator/issues/115#issuecomment-883082208","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/115","id":883082208,"node_id":"IC_kwDOBIM4r840osPg","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T05:45:52Z","updated_at":"2021-07-20T05:46:40Z","author_association":"CONTRIBUTOR","body":"> One can always make a sync function into async one, but not the other way around.\r\n\r\nYes, that's the reason for making everything async now. If we compose higher level pipelines with sync interfaces then we won't be ample to incorporate async building blocks, but if all the composition is asynchronous then it admits synchronous or asynchronous building blocks.\r\n\r\nI hear the concern about speculative generality, but it's not baseless speculative. I had use cases like streaming corpuses in mind as we designed this.\r\n\r\nInitial designs had an interface that allowed selector implementations to implement synchronous or asynchronous functions (or both), but I dropped that to make the surface area smaller.\r\n\r\nIn any case, feedback is appreciated and I'm open to changing this but I don't want to jump to conclusions. If you find you're really working with the APIs a lot and async is really proving cumbersome, I'd love to see examples of the kinds of code that feels hard to modify to be asynchronous.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/883082208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/883091895","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-883091895","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":883091895,"node_id":"IC_kwDOBIM4r840oum3","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T05:58:47Z","updated_at":"2021-07-20T05:58:47Z","author_association":"CONTRIBUTOR","body":"We are generating ES6 imports/exports. We don't actually ship CommonJS at all right now. But npm package imports are not valid in the browser because the browser only allows imports from URLs (relative or absolute).\r\n\r\nI would have expected some of the CDNs that support bundling to work, like importing `import dom from 'https://cdn.skypack.dev/@apache-annotator/dom@dev'`. It looks like the `optimal-select` package declares a its `src/index.js` as its `module` entrypoint, though, but doesn't ship the `src` directory in its npm package, so that breaks.\r\n\r\nWe can try to fix that, and we should absolutely consider more ways to package and ship, so we appreciate hearing what would be helpful and even more appreciate any help updating the packaging!\r\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/883091895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/883097394","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-883097394","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":883097394,"node_id":"IC_kwDOBIM4r840ov8y","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T06:05:35Z","updated_at":"2021-07-20T06:05:35Z","author_association":"CONTRIBUTOR","body":"Looks like that problem has been reported here: https://github.com/autarc/optimal-select/issues/70\r\n\r\nWe could drop the \"describe\" support for Element -> CSS selector conversion, or try to find another package for that, or roll our own basic one. That package hasn't been updated since 2017.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/883097394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/883248684","html_url":"https://github.com/apache/incubator-annotator/issues/115#issuecomment-883248684","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/115","id":883248684,"node_id":"IC_kwDOBIM4r840pU4s","user":{"login":"DellCliff","id":14116124,"node_id":"MDQ6VXNlcjE0MTE2MTI0","avatar_url":"https://avatars.githubusercontent.com/u/14116124?v=4","gravatar_id":"","url":"https://api.github.com/users/DellCliff","html_url":"https://github.com/DellCliff","followers_url":"https://api.github.com/users/DellCliff/followers","following_url":"https://api.github.com/users/DellCliff/following{/other_user}","gists_url":"https://api.github.com/users/DellCliff/gists{/gist_id}","starred_url":"https://api.github.com/users/DellCliff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DellCliff/subscriptions","organizations_url":"https://api.github.com/users/DellCliff/orgs","repos_url":"https://api.github.com/users/DellCliff/repos","events_url":"https://api.github.com/users/DellCliff/events{/privacy}","received_events_url":"https://api.github.com/users/DellCliff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T09:34:26Z","updated_at":"2021-07-20T09:34:26Z","author_association":"NONE","body":"One of my use cases is a Vue.js component. The only way I get it to work with async is using a cache (called \"computed\" in Vue.js) since Vue.js needs functions to return the actual value (string) and not Promise<string>. The function now has to check the cache on each call, return the computed value if it already exists or return an empty string and trigger the async computation. It adds another layer of complexity on the side of the user of the library, of what could have been 3 lines of sync code.\r\n\r\nI understand the pipeline idea, but I'd rather keep the function signatures true and minimal to what they actually need and handle pipelines through composition through helper functions. That way users can opt-in. Right now, there is no way for them to opt-out.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/883248684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/901270903","html_url":"https://github.com/apache/incubator-annotator/issues/115#issuecomment-901270903","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/115","id":901270903,"node_id":"IC_kwDOBIM4r841uE13","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-18T16:51:25Z","updated_at":"2021-08-18T16:51:25Z","author_association":"CONTRIBUTOR","body":"I've been thinking more about this and I think we should try to tackle it for the next release.\r\n\r\nOne option would be to just make sure that our API allows context to be passed in that makes it possible to process things (synchronously) in chunks, so that higher level, async APIs could limit the amount of work they do before returning to the event loop.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/901270903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/912789963","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-912789963","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":912789963,"node_id":"IC_kwDOBIM4r842aBHL","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T20:22:36Z","updated_at":"2021-09-03T20:22:36Z","author_association":"CONTRIBUTOR","body":"I propose we switch to [@medv/finder](https://github.com/antonmedv/finder). It is actively maintained (for now), written in TypeScript, seems properly packaged, has no dependencies, and has an MIT license.\r\n\r\nWe could still consider shipping browser bundles, but at least this change should make it possible to load a browser bundle through a CDN like snowpack.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/912789963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/912790948","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-912790948","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":912790948,"node_id":"IC_kwDOBIM4r842aBWk","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T20:24:37Z","updated_at":"2021-09-03T20:24:37Z","author_association":"CONTRIBUTOR","body":"There's a project that compares some of these CSS selector generation libraries, and it seems to find this one favorable, too: https://github.com/fczbkk/css-selector-generator-benchmark\r\n\r\nI checked out the code and it also looks like it support passing a document in explicitly—so it doesn't have any dependencies on globals—and passing in a root element—great for generating refining selectors.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/912790948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/913777213","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-913777213","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":913777213,"node_id":"IC_kwDOBIM4r842dyI9","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-06T17:10:10Z","updated_at":"2021-09-06T17:10:10Z","author_association":"CONTRIBUTOR","body":"Regarding replacing the `optimal-select` dependency, I described my earlier research in commit message c8ef340e34b1:\r\n\r\n    I tried a few css selector generators, listed here:\r\n    <https://github.com/fczbkk/css-selector-generator-benchmark>\r\n    \r\n    - css-selector-generator failed when a root (= scope) is passed; see\r\n      issue <https://github.com/fczbkk/css-selector-generator/issues/65>.\r\n    \r\n    - using @mdev/finder instead gave syntax errors due to ‘export’ token.\r\n      (perhaps because we don’t transpile dependencies; worth considering?)\r\n    \r\n    - optimal-select seemed to work; whatever works is good enough for now.\r\n \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/913777213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/913791968","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-913791968","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":913791968,"node_id":"IC_kwDOBIM4r842d1vg","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-06T17:54:49Z","updated_at":"2021-09-06T17:54:49Z","author_association":"CONTRIBUTOR","body":"Ah, I see. It shouldn't be a problem that `@mdef/finder` is ESM-only, since we only support versions of Node that have stable ESM support. However, it looks like the landscape of TypeScript -> ESM -> Mocha is very fresh right now.\r\n\r\nIt's easy to stop transforming the module syntax by changing our Babel configuration, but Mocha still won't recognize the `.ts` files as ESM. The `@babel/register` package doesn't support ESM, because ESM loader support in Node.js is still experimental. There are packages like `babel-register-esm` and `ts-node` that try to use this, and we would be able to use this with the `loader` option in newer versions of Mocha, but this all seems like a bleeding edge minefield right now.\r\n\r\nAlternatively, we might compile our dependencies, or at least that one, which is a change we could make in our Babel config.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/913791968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/913793451","html_url":"https://github.com/apache/incubator-annotator/issues/113#issuecomment-913793451","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/113","id":913793451,"node_id":"IC_kwDOBIM4r842d2Gr","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-06T17:59:53Z","updated_at":"2021-09-06T17:59:53Z","author_association":"CONTRIBUTOR","body":"Actually, even compiling the dependencies won't work, because `@mdev/finder` specifies `\"type\": \"module\"` in its `package.json`, which means Node will try to load it as ESM anyway, even if it is compiled to no longer uses the `export` syntax.\r\n\r\nI'll continue to work on this.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/913793451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/945211415","html_url":"https://github.com/apache/incubator-annotator/pull/116#issuecomment-945211415","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/116","id":945211415,"node_id":"IC_kwDOBIM4r844VsgX","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-17T23:07:34Z","updated_at":"2021-10-17T23:07:34Z","author_association":"CONTRIBUTOR","body":"This is a great start! I'll check out the branch locally, see if there are any tweaks to make, and maybe try to push up changes to make the verify command interactive. How does that sound?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/945211415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/962694567","html_url":"https://github.com/apache/incubator-annotator/pull/116#issuecomment-962694567","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/116","id":962694567,"node_id":"IC_kwDOBIM4r845YY2n","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T22:43:38Z","updated_at":"2021-11-07T22:43:38Z","author_association":"CONTRIBUTOR","body":"> This is a great start! I'll check out the branch locally, see if there are any tweaks to make, and maybe try to push up changes to make the verify command interactive. How does that sound?\r\n\r\nSounds good! Sorry for my lack of reply before. As said, feel free to build on this or deviate from it.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/962694567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1083611111","html_url":"https://github.com/apache/incubator-annotator/issues/120#issuecomment-1083611111","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/120","id":1083611111,"node_id":"IC_kwDOBIM4r85Alpfn","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T20:48:17Z","updated_at":"2022-03-30T20:48:35Z","author_association":"CONTRIBUTOR","body":"In which situation are empty text nodes added? That sounds like a potential bug. Only the start and/or end node should be splitted, and only if it is partially selected by the range. See [these lines](https://github.com/apache/incubator-annotator/blob/0821e0640a811d87f111023ee406469c0dd47deb/packages/dom/src/highlight-text.ts#L75-L90):\r\n\r\n```\r\n  // If the start or end node is a text node and only partly in the range, split it.\r\n  if (isTextNode(range.startContainer) && range.startOffset > 0) {\r\n    const endOffset = range.endOffset; // (this may get lost when the splitting the node)\r\n    const createdNode = range.startContainer.splitText(range.startOffset);\r\n    if (range.endContainer === range.startContainer) {\r\n      // If the end was in the same container, it will now be in the newly created node.\r\n      range.setEnd(createdNode, endOffset - range.startOffset);\r\n    }\r\n    range.setStart(createdNode, 0);\r\n  }\r\n  if (\r\n    isTextNode(range.endContainer) &&\r\n    range.endOffset < range.endContainer.length\r\n  ) {\r\n    range.endContainer.splitText(range.endOffset);\r\n  }\r\n```\r\n\r\nAs discussed in issue #80, the highlighter does not run `.normalize()`, simply to not touch dom nodes when it’s not necessary. However, as written there, I’d be happy to add a few lines that undo the splitting of the start and end nodes, if any splitting happened, so that removing the highlight becomes a “perfect undo”.\r\n\r\nBut again, empty text nodes should not appear due to our highlighter, so I’d be glad if you have an example case to help debugging this!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1083611111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1083617104","html_url":"https://github.com/apache/incubator-annotator/issues/120#issuecomment-1083617104","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/120","id":1083617104,"node_id":"IC_kwDOBIM4r85Alq9Q","user":{"login":"reckart","id":1410238,"node_id":"MDQ6VXNlcjE0MTAyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1410238?v=4","gravatar_id":"","url":"https://api.github.com/users/reckart","html_url":"https://github.com/reckart","followers_url":"https://api.github.com/users/reckart/followers","following_url":"https://api.github.com/users/reckart/following{/other_user}","gists_url":"https://api.github.com/users/reckart/gists{/gist_id}","starred_url":"https://api.github.com/users/reckart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reckart/subscriptions","organizations_url":"https://api.github.com/users/reckart/orgs","repos_url":"https://api.github.com/users/reckart/repos","events_url":"https://api.github.com/users/reckart/events{/privacy}","received_events_url":"https://api.github.com/users/reckart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T20:55:41Z","updated_at":"2022-03-30T20:55:41Z","author_association":"MEMBER","body":"It seems to happen in particular with overlapping/nesting highlights like e.g. `<mark><mark>foo</mark> bar</mark>` - the more overlap/nesting, the more it seems to happen.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1083617104/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1083618408","html_url":"https://github.com/apache/incubator-annotator/issues/120#issuecomment-1083618408","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/120","id":1083618408,"node_id":"IC_kwDOBIM4r85AlrRo","user":{"login":"reckart","id":1410238,"node_id":"MDQ6VXNlcjE0MTAyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1410238?v=4","gravatar_id":"","url":"https://api.github.com/users/reckart","html_url":"https://github.com/reckart","followers_url":"https://api.github.com/users/reckart/followers","following_url":"https://api.github.com/users/reckart/following{/other_user}","gists_url":"https://api.github.com/users/reckart/gists{/gist_id}","starred_url":"https://api.github.com/users/reckart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reckart/subscriptions","organizations_url":"https://api.github.com/users/reckart/orgs","repos_url":"https://api.github.com/users/reckart/repos","events_url":"https://api.github.com/users/reckart/events{/privacy}","received_events_url":"https://api.github.com/users/reckart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T20:57:18Z","updated_at":"2022-03-30T20:57:18Z","author_association":"MEMBER","body":"Also consider cases like `<mark data-id=\"1\">foo<mark data-id=\"2\"><mark data-id=\"1\">bar</mark></mark><mark data-id=\"2\">blah</mark>`","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1083618408/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1083812835","html_url":"https://github.com/apache/incubator-annotator/pull/116#issuecomment-1083812835","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/116","id":1083812835,"node_id":"IC_kwDOBIM4r85Amavj","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T00:02:40Z","updated_at":"2022-03-31T00:02:40Z","author_association":"CONTRIBUTOR","body":"I added a commit that downloads RAT, removes comments, removes the sleep pauses too. But I get an error when running this, which looks unrelated to the current change:\r\n\r\n```\r\n$ VERSION=0.2.0 RC=1 ../incubator-annotator/scripts/obtain-rc.sh\r\n…\r\n$ VERSION=0.2.0 RC=1 ../incubator-annotator/scripts/verify-rc.sh\r\n…\r\ntar: apache-annotator-0.2.0-incubating/.git/objects/pack/pack-4e188f5a157612fce8b35a7c799ff1c71b2af004.idx: Cannot open: Permission denied\r\ntar: apache-annotator-0.2.0-incubating/.git/objects/pack/pack-4e188f5a157612fce8b35a7c799ff1c71b2af004.pack: Cannot open: Permission denied\r\n```\r\n\r\nCould you perhaps check if it works for you, @tilgovi (or anyone)?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1083812835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1091971113","html_url":"https://github.com/apache/incubator-annotator/issues/118#issuecomment-1091971113","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/118","id":1091971113,"node_id":"IC_kwDOBIM4r85BFigp","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-07T16:43:30Z","updated_at":"2022-04-07T16:43:30Z","author_association":"CONTRIBUTOR","body":"Hi Jaime, sorry for the silence from our side. I hope I can answer on behalf of the other two too. :)\r\n\r\nAs for calls, you may have just noticed it on the mailing list: we’ll have a call again tomorrow 14:30 UTC (in ±22 hours from now). Find more timezones here: https://everytimezone.com/s/a9dec85f Hope you can make it! We’ll use our usual spot: https://meet.jit.si/apache-annotator\r\n\r\nApache Annotator is very much designed to be modular and portable to other documents and scenarios. We’d love to help you get it adapted for use on e.g. PDFs!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1091971113/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1092822136","html_url":"https://github.com/apache/incubator-annotator/issues/118#issuecomment-1092822136","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/118","id":1092822136,"node_id":"IC_kwDOBIM4r85BIyR4","user":{"login":"jaime-rivas","id":19812916,"node_id":"MDQ6VXNlcjE5ODEyOTE2","avatar_url":"https://avatars.githubusercontent.com/u/19812916?v=4","gravatar_id":"","url":"https://api.github.com/users/jaime-rivas","html_url":"https://github.com/jaime-rivas","followers_url":"https://api.github.com/users/jaime-rivas/followers","following_url":"https://api.github.com/users/jaime-rivas/following{/other_user}","gists_url":"https://api.github.com/users/jaime-rivas/gists{/gist_id}","starred_url":"https://api.github.com/users/jaime-rivas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaime-rivas/subscriptions","organizations_url":"https://api.github.com/users/jaime-rivas/orgs","repos_url":"https://api.github.com/users/jaime-rivas/repos","events_url":"https://api.github.com/users/jaime-rivas/events{/privacy}","received_events_url":"https://api.github.com/users/jaime-rivas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-08T12:45:37Z","updated_at":"2022-04-08T12:45:37Z","author_association":"NONE","body":"Thank you @Treora!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1092822136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1092831505","html_url":"https://github.com/apache/incubator-annotator/issues/118#issuecomment-1092831505","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/118","id":1092831505,"node_id":"IC_kwDOBIM4r85BI0kR","user":{"login":"xavicn","id":953812,"node_id":"MDQ6VXNlcjk1MzgxMg==","avatar_url":"https://avatars.githubusercontent.com/u/953812?v=4","gravatar_id":"","url":"https://api.github.com/users/xavicn","html_url":"https://github.com/xavicn","followers_url":"https://api.github.com/users/xavicn/followers","following_url":"https://api.github.com/users/xavicn/following{/other_user}","gists_url":"https://api.github.com/users/xavicn/gists{/gist_id}","starred_url":"https://api.github.com/users/xavicn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xavicn/subscriptions","organizations_url":"https://api.github.com/users/xavicn/orgs","repos_url":"https://api.github.com/users/xavicn/repos","events_url":"https://api.github.com/users/xavicn/events{/privacy}","received_events_url":"https://api.github.com/users/xavicn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-08T12:56:53Z","updated_at":"2022-04-08T12:56:53Z","author_association":"NONE","body":"Hello @Treora, nice to meet you! I'm Xavi from Synergy, I will also join the meeting along with my teammate @F-Fontinha.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1092831505/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1093228436","html_url":"https://github.com/apache/incubator-annotator/issues/118#issuecomment-1093228436","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/118","id":1093228436,"node_id":"IC_kwDOBIM4r85BKVeU","user":{"login":"BigBlueHat","id":43209,"node_id":"MDQ6VXNlcjQzMjA5","avatar_url":"https://avatars.githubusercontent.com/u/43209?v=4","gravatar_id":"","url":"https://api.github.com/users/BigBlueHat","html_url":"https://github.com/BigBlueHat","followers_url":"https://api.github.com/users/BigBlueHat/followers","following_url":"https://api.github.com/users/BigBlueHat/following{/other_user}","gists_url":"https://api.github.com/users/BigBlueHat/gists{/gist_id}","starred_url":"https://api.github.com/users/BigBlueHat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BigBlueHat/subscriptions","organizations_url":"https://api.github.com/users/BigBlueHat/orgs","repos_url":"https://api.github.com/users/BigBlueHat/repos","events_url":"https://api.github.com/users/BigBlueHat/events{/privacy}","received_events_url":"https://api.github.com/users/BigBlueHat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-08T18:50:20Z","updated_at":"2022-04-08T18:50:20Z","author_association":"MEMBER","body":"> @BigBlueHat you mentioned that you \"miss the \"connection\" with app builders\". We've been using the annotatorjs library but would be very happy to integrate apache annotator (web annotation, pdf in pdfjs, and more) and share our experience and feedback going forward.\r\n\r\nReally sorry for the delay here! I need better ways to track all the activity all the scattered places. 😝 \r\n\r\nNow that you've found us, it might be good for us to do some sort of \"guest Q&A\" (maybe) and post it to the site (and/or a blog we can make for such purposes)--or at least hear about things via the mailing list!\r\n\r\nAny/all of that would show signs of life/interest that would go along way to revitalizing our little (still fledgling) project--and would be greatly appreciated! ❤️ ","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1093228436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1101919490","html_url":"https://github.com/apache/incubator-annotator/issues/118#issuecomment-1101919490","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/118","id":1101919490,"node_id":"IC_kwDOBIM4r85BrfUC","user":{"login":"jaime-rivas","id":19812916,"node_id":"MDQ6VXNlcjE5ODEyOTE2","avatar_url":"https://avatars.githubusercontent.com/u/19812916?v=4","gravatar_id":"","url":"https://api.github.com/users/jaime-rivas","html_url":"https://github.com/jaime-rivas","followers_url":"https://api.github.com/users/jaime-rivas/followers","following_url":"https://api.github.com/users/jaime-rivas/following{/other_user}","gists_url":"https://api.github.com/users/jaime-rivas/gists{/gist_id}","starred_url":"https://api.github.com/users/jaime-rivas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaime-rivas/subscriptions","organizations_url":"https://api.github.com/users/jaime-rivas/orgs","repos_url":"https://api.github.com/users/jaime-rivas/repos","events_url":"https://api.github.com/users/jaime-rivas/events{/privacy}","received_events_url":"https://api.github.com/users/jaime-rivas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-19T02:03:38Z","updated_at":"2022-04-19T02:03:38Z","author_association":"NONE","body":"We would love to participate in a guest Q&A! Please let us know for the next call and @xavicn @F-Fontinha and I would be very happy to share our use cases and experiences. Thank you!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1101919490/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1103381492","html_url":"https://github.com/apache/incubator-annotator/pull/116#issuecomment-1103381492","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/116","id":1103381492,"node_id":"IC_kwDOBIM4r85BxEP0","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-20T02:12:06Z","updated_at":"2022-04-20T02:12:06Z","author_association":"CONTRIBUTOR","body":"@Treora I would be fine to drop the RAT steps. It feels strange to download a jar and leave it on the machine. Unless we download it to the current directory.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1103381492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1103382982","html_url":"https://github.com/apache/incubator-annotator/pull/116#issuecomment-1103382982","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/116","id":1103382982,"node_id":"IC_kwDOBIM4r85BxEnG","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-20T02:13:22Z","updated_at":"2022-04-20T02:13:22Z","author_association":"CONTRIBUTOR","body":"As for the error, something must be wrong with the permissions on the git directory that gets created.\r\n\r\nI am thinking that initializing a git repository inside the archive is a bit surprising. It definitely looks wrong to have a `.git` directory. I can make a PR to use `git archive` instead of `git clone`. It will just make the steps to compare the archive against the tag a little bit different.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1103382982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1229518195","html_url":"https://github.com/apache/incubator-annotator/issues/129#issuecomment-1229518195","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/129","id":1229518195,"node_id":"IC_kwDOBIM4r85JSPVz","user":{"login":"reckart","id":1410238,"node_id":"MDQ6VXNlcjE0MTAyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1410238?v=4","gravatar_id":"","url":"https://api.github.com/users/reckart","html_url":"https://github.com/reckart","followers_url":"https://api.github.com/users/reckart/followers","following_url":"https://api.github.com/users/reckart/following{/other_user}","gists_url":"https://api.github.com/users/reckart/gists{/gist_id}","starred_url":"https://api.github.com/users/reckart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reckart/subscriptions","organizations_url":"https://api.github.com/users/reckart/orgs","repos_url":"https://api.github.com/users/reckart/repos","events_url":"https://api.github.com/users/reckart/events{/privacy}","received_events_url":"https://api.github.com/users/reckart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-28T17:49:59Z","updated_at":"2022-08-28T17:49:59Z","author_association":"MEMBER","body":"Try looking at the HTML code of the page at that location after you have selected the word - what does it look like? Does it make sense?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1229518195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1237844279","html_url":"https://github.com/apache/incubator-annotator/issues/129#issuecomment-1237844279","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/129","id":1237844279,"node_id":"IC_kwDOBIM4r85JyAE3","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T08:43:39Z","updated_at":"2022-09-06T08:44:39Z","author_association":"CONTRIBUTOR","body":"A quick look at that website ([link](https://intelligencequarterly.com/energy/crude-oil-inventories-week-ending-19-august-2022/)) reveals it has a css rule for `<mark>` element:\r\n![image](https://user-images.githubusercontent.com/4191409/188588338-c3e83a9a-0626-40d4-bb63-794431a60385.png)\r\nBootstrap styles it with padding, hence if you have two mark elements right besides each other (e.g. because you first highlight one part, then another), it will create the result you saw with padding between the elements.\r\n\r\nWe should fix most occurrences of this issue by normalising consecutive text nodes, to avoid multiple mark elements when we only need one. (I forgot what the state of this is, did we perhaps fix it already but is it not released yet? #80  )\r\n\r\nAlso it would be nice if the webpage’s CSS does not apply to your annotation tool’s highlights. Perhaps the mark elements can be given a rule `all: revert !important;`?\r\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1237844279/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1237855931","html_url":"https://github.com/apache/incubator-annotator/issues/129#issuecomment-1237855931","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/129","id":1237855931,"node_id":"IC_kwDOBIM4r85JyC67","user":{"login":"raphael10-collab","id":70313067,"node_id":"MDQ6VXNlcjcwMzEzMDY3","avatar_url":"https://avatars.githubusercontent.com/u/70313067?v=4","gravatar_id":"","url":"https://api.github.com/users/raphael10-collab","html_url":"https://github.com/raphael10-collab","followers_url":"https://api.github.com/users/raphael10-collab/followers","following_url":"https://api.github.com/users/raphael10-collab/following{/other_user}","gists_url":"https://api.github.com/users/raphael10-collab/gists{/gist_id}","starred_url":"https://api.github.com/users/raphael10-collab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphael10-collab/subscriptions","organizations_url":"https://api.github.com/users/raphael10-collab/orgs","repos_url":"https://api.github.com/users/raphael10-collab/repos","events_url":"https://api.github.com/users/raphael10-collab/events{/privacy}","received_events_url":"https://api.github.com/users/raphael10-collab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T08:53:00Z","updated_at":"2022-09-06T10:01:38Z","author_association":"NONE","body":"@Treora Interesting. Thank you very much . I do hope it will be fixed soon","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1237855931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1247988367","html_url":"https://github.com/apache/incubator-annotator/issues/131#issuecomment-1247988367","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/131","id":1247988367,"node_id":"IC_kwDOBIM4r85KYsqP","user":{"login":"reckart","id":1410238,"node_id":"MDQ6VXNlcjE0MTAyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1410238?v=4","gravatar_id":"","url":"https://api.github.com/users/reckart","html_url":"https://github.com/reckart","followers_url":"https://api.github.com/users/reckart/followers","following_url":"https://api.github.com/users/reckart/following{/other_user}","gists_url":"https://api.github.com/users/reckart/gists{/gist_id}","starred_url":"https://api.github.com/users/reckart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reckart/subscriptions","organizations_url":"https://api.github.com/users/reckart/orgs","repos_url":"https://api.github.com/users/reckart/repos","events_url":"https://api.github.com/users/reckart/events{/privacy}","received_events_url":"https://api.github.com/users/reckart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T11:41:58Z","updated_at":"2022-09-15T11:42:23Z","author_association":"MEMBER","body":"Another case could be mathml sections or SVGs.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1247988367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1248013365","html_url":"https://github.com/apache/incubator-annotator/issues/128#issuecomment-1248013365","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/128","id":1248013365,"node_id":"IC_kwDOBIM4r85KYyw1","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T12:07:02Z","updated_at":"2022-09-15T12:07:02Z","author_association":"CONTRIBUTOR","body":"A quick response, as I (nor others, it seems) get around to look further at your issue. From your description it’s not clear to me what you mean. If you mean to create a TextPositionSelector, see the [describeTextPosition](https://annotator.apache.org/docs/api/modules/dom.html#describetextposition). Best to get the position of the selection before highlighting it (if you do both), because the highlighter will modify the dom and thereby the selection.\r\nIf you mean position as in coordinates on the page, you can get those from the browser’s APIs, e.g. [`Range.getBoundingClientRect`](https://developer.mozilla.org/en-US/docs/Web/API/Range/getBoundingClientRect). I hope that helps.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1248013365/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1248026159","html_url":"https://github.com/apache/incubator-annotator/pull/130#issuecomment-1248026159","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/130","id":1248026159,"node_id":"IC_kwDOBIM4r85KY14v","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T12:20:01Z","updated_at":"2022-09-15T12:20:01Z","author_association":"CONTRIBUTOR","body":"Sorry for the silence, and thanks a lot for the contribution! Glad to hear this library is useful to you; we’d love to hear in what way it helps you, for what purpose, and how it could be more helpful still!\r\n\r\nSo far we not focussed on actual performance, though we have kept it in mind while designing the APIs (hence the small functions, the generators, async functions everywhere, etc.). Profiling the code execution is a great start already.\r\n\r\nI think I added that check myself. Within the class, you may well be right that we do not need such a check at all. I probably added for in case somebody would use the chunker in other ways, to not return an invalid chunk if the given node is outside of the scope. Perhaps we can split the method into a private method without the check, and keep the public method that does the check and then runs the private method?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1248026159/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1314581741","html_url":"https://github.com/apache/incubator-annotator/issues/114#issuecomment-1314581741","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/114","id":1314581741,"node_id":"IC_kwDOBIM4r85OWuzt","user":{"login":"PermissionError","id":27805472,"node_id":"MDQ6VXNlcjI3ODA1NDcy","avatar_url":"https://avatars.githubusercontent.com/u/27805472?v=4","gravatar_id":"","url":"https://api.github.com/users/PermissionError","html_url":"https://github.com/PermissionError","followers_url":"https://api.github.com/users/PermissionError/followers","following_url":"https://api.github.com/users/PermissionError/following{/other_user}","gists_url":"https://api.github.com/users/PermissionError/gists{/gist_id}","starred_url":"https://api.github.com/users/PermissionError/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PermissionError/subscriptions","organizations_url":"https://api.github.com/users/PermissionError/orgs","repos_url":"https://api.github.com/users/PermissionError/repos","events_url":"https://api.github.com/users/PermissionError/events{/privacy}","received_events_url":"https://api.github.com/users/PermissionError/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T00:17:39Z","updated_at":"2022-11-15T00:17:39Z","author_association":"CONTRIBUTOR","body":"Hi, I have submitted #132 to solve ` 'cp' is not recognized as an internal or external command,`.\r\n\r\nHowever, on my Windows system, I still get the following error after that small fix:\r\n\r\n`Error [ERR_UNSUPPORTED_ESM_URL_SCHEME]: Only URLs with a scheme in: file, data are supported by the default ESM loader. On Windows, absolute paths must be valid file:// URLs. Received protocol 'd:'`\r\n\r\nThis looks like an issue with `babel-register-esm` and how Windows file paths are structured with the drive letter. AFAICT this loader is only used for the Mocha tests - so I'm currently investigating how I can mitigate these build issues further on Windows.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1314581741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1314651433","html_url":"https://github.com/apache/incubator-annotator/issues/114#issuecomment-1314651433","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/114","id":1314651433,"node_id":"IC_kwDOBIM4r85OW_0p","user":{"login":"PermissionError","id":27805472,"node_id":"MDQ6VXNlcjI3ODA1NDcy","avatar_url":"https://avatars.githubusercontent.com/u/27805472?v=4","gravatar_id":"","url":"https://api.github.com/users/PermissionError","html_url":"https://github.com/PermissionError","followers_url":"https://api.github.com/users/PermissionError/followers","following_url":"https://api.github.com/users/PermissionError/following{/other_user}","gists_url":"https://api.github.com/users/PermissionError/gists{/gist_id}","starred_url":"https://api.github.com/users/PermissionError/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PermissionError/subscriptions","organizations_url":"https://api.github.com/users/PermissionError/orgs","repos_url":"https://api.github.com/users/PermissionError/repos","events_url":"https://api.github.com/users/PermissionError/events{/privacy}","received_events_url":"https://api.github.com/users/PermissionError/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T01:58:08Z","updated_at":"2022-11-15T01:58:08Z","author_association":"CONTRIBUTOR","body":"I've submitted a potential fix to the ESM loader at giltayar/babel-register-esm#3.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1314651433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1316708378","html_url":"https://github.com/apache/incubator-annotator/pull/132#issuecomment-1316708378","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/132","id":1316708378,"node_id":"IC_kwDOBIM4r85Oe2Aa","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T09:49:53Z","updated_at":"2022-11-16T09:49:53Z","author_association":"CONTRIBUTOR","body":"Looks good, thanks!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1316708378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1316711927","html_url":"https://github.com/apache/incubator-annotator/issues/114#issuecomment-1316711927","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/114","id":1316711927,"node_id":"IC_kwDOBIM4r85Oe233","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T09:52:22Z","updated_at":"2022-11-16T09:52:22Z","author_association":"CONTRIBUTOR","body":"Thanks for investigating! Once (if) the remaining issue is fixed upstream be welcome to make a PR with the dependency upgrade.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1316711927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1316785124","html_url":"https://github.com/apache/incubator-annotator/issues/70#issuecomment-1316785124","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/70","id":1316785124,"node_id":"IC_kwDOBIM4r85OfIvk","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T10:42:59Z","updated_at":"2022-11-16T10:42:59Z","author_association":"CONTRIBUTOR","body":"I recently looked what’s around, and found this [simple-annotation-server](https://github.com/jankaszel/simple-annotation-server) look possibily useful for a start, by virtue of being simple. We may however want something more LDP-savvy, to open the way to support different serialisations and use other powers of linked data (signatures, notifications, …).\r\n\r\nI made a fork of it (converting it to TypeScript and using Express instead of hapi) for the [web-annotation-discovery-server](https://code.treora.com/gerben/web-annotation-discovery-server).\r\n\r\nI added both of these to our [Other Web Annotation Projects](https://github.com/apache/incubator-annotator/wiki/Other-Web-Annotation-Projects) wiki page.\r\n\r\nPerhaps something of/like this could be included in Apache Annotator; but it would be quite a separate project from what we are currently making, and that already is getting too little love. So, while this situation continues, to me it feels wiser to keep focus and do one thing well.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1316785124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1325723751","html_url":"https://github.com/apache/incubator-annotator/issues/133#issuecomment-1325723751","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/133","id":1325723751,"node_id":"IC_kwDOBIM4r85PBPBn","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T22:21:51Z","updated_at":"2022-11-23T22:21:51Z","author_association":"CONTRIBUTOR","body":"Generally “since the code is already there” seems a weak argument to do more work on that code (if it is of little use, it might better be dropped altogether). In this case, there may indeed be some value, and combined with other utilities around the WA data model it could be material for a separate package indeed.\r\n\r\nCoincidentally, I was recently thinking to suggest creating such a package (I thought to call it `@apache-annotator/annotation`), to incorporate some code from [this module](https://code.treora.com/gerben/web-annotation-utils) that I had made to satisfy my own needs. I don’t know if I’ll get back to it soon, so I just pushed some my work-in-progress, see #137.\r\n\r\nIf we end up adding this package, that would be a good home for the validation test too. We should also ensure that the TypeScript type I introduce there corresponds to the validation tests. (ideally we would deduplicate things and generate both the type and validator at once from a specification..)\r\n","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1325723751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1354112845","html_url":"https://github.com/apache/incubator-annotator/issues/142#issuecomment-1354112845","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/142","id":1354112845,"node_id":"IC_kwDOBIM4r85Qth9N","user":{"login":"pkspyder007","id":19896788,"node_id":"MDQ6VXNlcjE5ODk2Nzg4","avatar_url":"https://avatars.githubusercontent.com/u/19896788?v=4","gravatar_id":"","url":"https://api.github.com/users/pkspyder007","html_url":"https://github.com/pkspyder007","followers_url":"https://api.github.com/users/pkspyder007/followers","following_url":"https://api.github.com/users/pkspyder007/following{/other_user}","gists_url":"https://api.github.com/users/pkspyder007/gists{/gist_id}","starred_url":"https://api.github.com/users/pkspyder007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkspyder007/subscriptions","organizations_url":"https://api.github.com/users/pkspyder007/orgs","repos_url":"https://api.github.com/users/pkspyder007/repos","events_url":"https://api.github.com/users/pkspyder007/events{/privacy}","received_events_url":"https://api.github.com/users/pkspyder007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-16T02:55:35Z","updated_at":"2022-12-16T02:55:35Z","author_association":"NONE","body":"I'll be happy to work on the project to fix stuff and learn more about it.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1354112845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1367296047","html_url":"https://github.com/apache/incubator-annotator/issues/142#issuecomment-1367296047","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/142","id":1367296047,"node_id":"IC_kwDOBIM4r85Rf0gv","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-29T12:47:52Z","updated_at":"2022-12-29T12:47:52Z","author_association":"CONTRIBUTOR","body":"Hi!\r\n\r\nThe numbered versions on npm indeed lag far behind the main branch. As an incubating Apache project, each official release needs to be verified and upvoted by three team members (’committers’), and also by project mentors. We’ve had too few actively involved people to smoothly publish releases..\r\n\r\nYou may want to try the `dev` tag on npm instead; it corresponds directly to the main branch. See https://annotator.apache.org/docs/getting-started/\r\n\r\n> Is this project still active or one using it should seek forking it or alternatives?\r\n\r\nIt’s active in the sense that it is not abandoned, but us core developers have hardly gotten around to work on it lately. We’d be happy if others join the effort, or continue with it in other ways if they prefer.\r\n\r\n> I'll be happy to work on the project to fix stuff and learn more about it.\r\n\r\nFeel free!","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1367296047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1367306132","html_url":"https://github.com/apache/incubator-annotator/issues/131#issuecomment-1367306132","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/131","id":1367306132,"node_id":"IC_kwDOBIM4r85Rf2-U","user":{"login":"Treora","id":4191409,"node_id":"MDQ6VXNlcjQxOTE0MDk=","avatar_url":"https://avatars.githubusercontent.com/u/4191409?v=4","gravatar_id":"","url":"https://api.github.com/users/Treora","html_url":"https://github.com/Treora","followers_url":"https://api.github.com/users/Treora/followers","following_url":"https://api.github.com/users/Treora/following{/other_user}","gists_url":"https://api.github.com/users/Treora/gists{/gist_id}","starred_url":"https://api.github.com/users/Treora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Treora/subscriptions","organizations_url":"https://api.github.com/users/Treora/orgs","repos_url":"https://api.github.com/users/Treora/repos","events_url":"https://api.github.com/users/Treora/events{/privacy}","received_events_url":"https://api.github.com/users/Treora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-29T13:05:50Z","updated_at":"2022-12-29T13:05:50Z","author_association":"CONTRIBUTOR","body":"Yet another issue in this theme: table layout can be messed up by the added `<mark>` elements.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1367306132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1742172280","html_url":"https://github.com/apache/incubator-annotator/pull/147#issuecomment-1742172280","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/147","id":1742172280,"node_id":"IC_kwDOBIM4r85n13B4","user":{"login":"reckart","id":1410238,"node_id":"MDQ6VXNlcjE0MTAyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1410238?v=4","gravatar_id":"","url":"https://api.github.com/users/reckart","html_url":"https://github.com/reckart","followers_url":"https://api.github.com/users/reckart/followers","following_url":"https://api.github.com/users/reckart/following{/other_user}","gists_url":"https://api.github.com/users/reckart/gists{/gist_id}","starred_url":"https://api.github.com/users/reckart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reckart/subscriptions","organizations_url":"https://api.github.com/users/reckart/orgs","repos_url":"https://api.github.com/users/reckart/repos","events_url":"https://api.github.com/users/reckart/events{/privacy}","received_events_url":"https://api.github.com/users/reckart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-01T19:12:09Z","updated_at":"2023-10-01T19:12:30Z","author_association":"MEMBER","body":"@tilgovi @BigBlueHat @Treora I have done pretty radical update of dependencies here. Looks like the build process is happy. Anybody care to have a look at these changes since I'm not really too familiar with the tooling used by Apache Annotator. \r\n\r\nI still think switching to plain npm would be better these days (and drop lerna and yarn). Also I thing esbuild instead of webpack would be nice :) ... but that would be a different issue/PR.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1742172280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1742227086","html_url":"https://github.com/apache/incubator-annotator/pull/147#issuecomment-1742227086","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/147","id":1742227086,"node_id":"IC_kwDOBIM4r85n2EaO","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-01T22:47:48Z","updated_at":"2023-10-01T22:47:48Z","author_association":"CONTRIBUTOR","body":"Looks great. I will make a PR to drop Yarn for NPM, because I don't think there is any benefit to continuing to use Yarn (especially not without the advanced features).\n\nCan you say anything about the non-dependency changes here? The ajv invocation and the lerna.json?","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1742227086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1742228103","html_url":"https://github.com/apache/incubator-annotator/pull/147#issuecomment-1742228103","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/147","id":1742228103,"node_id":"IC_kwDOBIM4r85n2EqH","user":{"login":"tilgovi","id":20818,"node_id":"MDQ6VXNlcjIwODE4","avatar_url":"https://avatars.githubusercontent.com/u/20818?v=4","gravatar_id":"","url":"https://api.github.com/users/tilgovi","html_url":"https://github.com/tilgovi","followers_url":"https://api.github.com/users/tilgovi/followers","following_url":"https://api.github.com/users/tilgovi/following{/other_user}","gists_url":"https://api.github.com/users/tilgovi/gists{/gist_id}","starred_url":"https://api.github.com/users/tilgovi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tilgovi/subscriptions","organizations_url":"https://api.github.com/users/tilgovi/orgs","repos_url":"https://api.github.com/users/tilgovi/repos","events_url":"https://api.github.com/users/tilgovi/events{/privacy}","received_events_url":"https://api.github.com/users/tilgovi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-01T22:51:20Z","updated_at":"2023-10-01T22:51:20Z","author_association":"CONTRIBUTOR","body":"I'm guessing useWorkspaces is just gone these days.\n\nI started looking at updating Lerna and trying out Nx a while back. I'll see where my branch got and try to see whether it's worth doing anything with these tools still.\n\nThanks again for looking at this.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1742228103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1742373065","html_url":"https://github.com/apache/incubator-annotator/pull/147#issuecomment-1742373065","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/147","id":1742373065,"node_id":"IC_kwDOBIM4r85n2oDJ","user":{"login":"reckart","id":1410238,"node_id":"MDQ6VXNlcjE0MTAyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1410238?v=4","gravatar_id":"","url":"https://api.github.com/users/reckart","html_url":"https://github.com/reckart","followers_url":"https://api.github.com/users/reckart/followers","following_url":"https://api.github.com/users/reckart/following{/other_user}","gists_url":"https://api.github.com/users/reckart/gists{/gist_id}","starred_url":"https://api.github.com/users/reckart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reckart/subscriptions","organizations_url":"https://api.github.com/users/reckart/orgs","repos_url":"https://api.github.com/users/reckart/repos","events_url":"https://api.github.com/users/reckart/events{/privacy}","received_events_url":"https://api.github.com/users/reckart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-02T04:07:03Z","updated_at":"2023-10-02T04:07:03Z","author_association":"MEMBER","body":"Lerna said that `useWorkspaces` no longer exists.\r\n\r\nAnd `auto` was no longer a valid value for `schemaId` in `Ajv`. I considered specifying a particular schema version, but since the parameter is optional and the build works without specifying a version, I left it without the `schemaId`.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1742373065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744797684","html_url":"https://github.com/apache/incubator-annotator/pull/145#issuecomment-1744797684","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/145","id":1744797684,"node_id":"IC_kwDOBIM4r85n_3_0","user":{"login":"reckart","id":1410238,"node_id":"MDQ6VXNlcjE0MTAyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1410238?v=4","gravatar_id":"","url":"https://api.github.com/users/reckart","html_url":"https://github.com/reckart","followers_url":"https://api.github.com/users/reckart/followers","following_url":"https://api.github.com/users/reckart/following{/other_user}","gists_url":"https://api.github.com/users/reckart/gists{/gist_id}","starred_url":"https://api.github.com/users/reckart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reckart/subscriptions","organizations_url":"https://api.github.com/users/reckart/orgs","repos_url":"https://api.github.com/users/reckart/repos","events_url":"https://api.github.com/users/reckart/events{/privacy}","received_events_url":"https://api.github.com/users/reckart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-03T11:46:36Z","updated_at":"2023-10-03T11:46:36Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744797684/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744798051","html_url":"https://github.com/apache/incubator-annotator/pull/141#issuecomment-1744798051","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/141","id":1744798051,"node_id":"IC_kwDOBIM4r85n_4Fj","user":{"login":"reckart","id":1410238,"node_id":"MDQ6VXNlcjE0MTAyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1410238?v=4","gravatar_id":"","url":"https://api.github.com/users/reckart","html_url":"https://github.com/reckart","followers_url":"https://api.github.com/users/reckart/followers","following_url":"https://api.github.com/users/reckart/following{/other_user}","gists_url":"https://api.github.com/users/reckart/gists{/gist_id}","starred_url":"https://api.github.com/users/reckart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reckart/subscriptions","organizations_url":"https://api.github.com/users/reckart/orgs","repos_url":"https://api.github.com/users/reckart/repos","events_url":"https://api.github.com/users/reckart/events{/privacy}","received_events_url":"https://api.github.com/users/reckart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-03T11:46:53Z","updated_at":"2023-10-03T11:46:53Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744798051/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744798083","html_url":"https://github.com/apache/incubator-annotator/pull/145#issuecomment-1744798083","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/145","id":1744798083,"node_id":"IC_kwDOBIM4r85n_4GD","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-03T11:46:55Z","updated_at":"2023-10-03T11:46:55Z","author_association":"CONTRIBUTOR","body":"Looks like word-wrap is no longer a dependency, so this is no longer needed.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744798083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744798204","html_url":"https://github.com/apache/incubator-annotator/pull/140#issuecomment-1744798204","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/140","id":1744798204,"node_id":"IC_kwDOBIM4r85n_4H8","user":{"login":"reckart","id":1410238,"node_id":"MDQ6VXNlcjE0MTAyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/1410238?v=4","gravatar_id":"","url":"https://api.github.com/users/reckart","html_url":"https://github.com/reckart","followers_url":"https://api.github.com/users/reckart/followers","following_url":"https://api.github.com/users/reckart/following{/other_user}","gists_url":"https://api.github.com/users/reckart/gists{/gist_id}","starred_url":"https://api.github.com/users/reckart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reckart/subscriptions","organizations_url":"https://api.github.com/users/reckart/orgs","repos_url":"https://api.github.com/users/reckart/repos","events_url":"https://api.github.com/users/reckart/events{/privacy}","received_events_url":"https://api.github.com/users/reckart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-03T11:47:01Z","updated_at":"2023-10-03T11:47:01Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744798204/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744798488","html_url":"https://github.com/apache/incubator-annotator/pull/141#issuecomment-1744798488","issue_url":"https://api.github.com/repos/apache/incubator-annotator/issues/141","id":1744798488,"node_id":"IC_kwDOBIM4r85n_4MY","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-03T11:47:13Z","updated_at":"2023-10-03T11:47:13Z","author_association":"CONTRIBUTOR","body":"Looks like express is up-to-date now, so this is no longer needed.","reactions":{"url":"https://api.github.com/repos/apache/incubator-annotator/issues/comments/1744798488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]