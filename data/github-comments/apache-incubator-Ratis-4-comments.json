[{"url":"https://api.github.com/repos/apache/ratis/issues/comments/665482467","html_url":"https://github.com/apache/ratis/pull/150#issuecomment-665482467","issue_url":"https://api.github.com/repos/apache/ratis/issues/150","id":665482467,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTQ4MjQ2Nw==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-29T07:18:54Z","updated_at":"2020-07-29T07:18:54Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/665482467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666206013","html_url":"https://github.com/apache/ratis/pull/140#issuecomment-666206013","issue_url":"https://api.github.com/repos/apache/ratis/issues/140","id":666206013,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjIwNjAxMw==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T07:58:51Z","updated_at":"2020-07-30T07:58:51Z","author_association":"CONTRIBUTOR","body":"@cyrus-jackson Thanks for the contribution! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666206013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666543544","html_url":"https://github.com/apache/ratis/pull/155#issuecomment-666543544","issue_url":"https://api.github.com/repos/apache/ratis/issues/155","id":666543544,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjU0MzU0NA==","user":{"login":"avijayanhwx","id":14299376,"node_id":"MDQ6VXNlcjE0Mjk5Mzc2","avatar_url":"https://avatars.githubusercontent.com/u/14299376?v=4","gravatar_id":"","url":"https://api.github.com/users/avijayanhwx","html_url":"https://github.com/avijayanhwx","followers_url":"https://api.github.com/users/avijayanhwx/followers","following_url":"https://api.github.com/users/avijayanhwx/following{/other_user}","gists_url":"https://api.github.com/users/avijayanhwx/gists{/gist_id}","starred_url":"https://api.github.com/users/avijayanhwx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avijayanhwx/subscriptions","organizations_url":"https://api.github.com/users/avijayanhwx/orgs","repos_url":"https://api.github.com/users/avijayanhwx/repos","events_url":"https://api.github.com/users/avijayanhwx/events{/privacy}","received_events_url":"https://api.github.com/users/avijayanhwx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T17:25:18Z","updated_at":"2020-07-30T17:25:18Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this @anshkhannasbu. I am +1 on this. ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666543544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666771200","html_url":"https://github.com/apache/ratis/pull/156#issuecomment-666771200","issue_url":"https://api.github.com/repos/apache/ratis/issues/156","id":666771200,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njc3MTIwMA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-30T23:26:02Z","updated_at":"2020-07-30T23:26:02Z","author_association":"CONTRIBUTOR","body":"+1 this is really nice!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666771200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666938196","html_url":"https://github.com/apache/ratis/pull/150#issuecomment-666938196","issue_url":"https://api.github.com/repos/apache/ratis/issues/150","id":666938196,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjkzODE5Ng==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T05:43:41Z","updated_at":"2020-07-31T05:43:41Z","author_association":"CONTRIBUTOR","body":"@GlenGeng Thanks for the contribution! @runzhiwang Thanks for the review! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666938196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666957655","html_url":"https://github.com/apache/ratis/pull/159#issuecomment-666957655","issue_url":"https://api.github.com/repos/apache/ratis/issues/159","id":666957655,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Njk1NzY1NQ==","user":{"login":"bshashikant","id":31469764,"node_id":"MDQ6VXNlcjMxNDY5NzY0","avatar_url":"https://avatars.githubusercontent.com/u/31469764?v=4","gravatar_id":"","url":"https://api.github.com/users/bshashikant","html_url":"https://github.com/bshashikant","followers_url":"https://api.github.com/users/bshashikant/followers","following_url":"https://api.github.com/users/bshashikant/following{/other_user}","gists_url":"https://api.github.com/users/bshashikant/gists{/gist_id}","starred_url":"https://api.github.com/users/bshashikant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bshashikant/subscriptions","organizations_url":"https://api.github.com/users/bshashikant/orgs","repos_url":"https://api.github.com/users/bshashikant/repos","events_url":"https://api.github.com/users/bshashikant/events{/privacy}","received_events_url":"https://api.github.com/users/bshashikant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T06:40:11Z","updated_at":"2020-07-31T06:40:11Z","author_association":"CONTRIBUTOR","body":"Thanks @anshkhannasbu . Can you add some unit tests?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/666957655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667045014","html_url":"https://github.com/apache/ratis/pull/49#issuecomment-667045014","issue_url":"https://api.github.com/repos/apache/ratis/issues/49","id":667045014,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzA0NTAxNA==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T10:07:34Z","updated_at":"2020-07-31T10:07:34Z","author_association":"CONTRIBUTOR","body":"@maobaolong Can you please rebase and push an empty commit so that we get a CI run?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667045014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667168373","html_url":"https://github.com/apache/ratis/pull/49#issuecomment-667168373","issue_url":"https://api.github.com/repos/apache/ratis/issues/49","id":667168373,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzE2ODM3Mw==","user":{"login":"maobaolong","id":17329931,"node_id":"MDQ6VXNlcjE3MzI5OTMx","avatar_url":"https://avatars.githubusercontent.com/u/17329931?v=4","gravatar_id":"","url":"https://api.github.com/users/maobaolong","html_url":"https://github.com/maobaolong","followers_url":"https://api.github.com/users/maobaolong/followers","following_url":"https://api.github.com/users/maobaolong/following{/other_user}","gists_url":"https://api.github.com/users/maobaolong/gists{/gist_id}","starred_url":"https://api.github.com/users/maobaolong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maobaolong/subscriptions","organizations_url":"https://api.github.com/users/maobaolong/orgs","repos_url":"https://api.github.com/users/maobaolong/repos","events_url":"https://api.github.com/users/maobaolong/events{/privacy}","received_events_url":"https://api.github.com/users/maobaolong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-31T15:05:38Z","updated_at":"2020-07-31T15:05:38Z","author_association":"MEMBER","body":"@lokeshj1703 Thanks for your review, this is my first blood for the ratis, I'd like to make more contribution after this. ðŸ˜„","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667168373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667440248","html_url":"https://github.com/apache/ratis/pull/49#issuecomment-667440248","issue_url":"https://api.github.com/repos/apache/ratis/issues/49","id":667440248,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQ0MDI0OA==","user":{"login":"maobaolong","id":17329931,"node_id":"MDQ6VXNlcjE3MzI5OTMx","avatar_url":"https://avatars.githubusercontent.com/u/17329931?v=4","gravatar_id":"","url":"https://api.github.com/users/maobaolong","html_url":"https://github.com/maobaolong","followers_url":"https://api.github.com/users/maobaolong/followers","following_url":"https://api.github.com/users/maobaolong/following{/other_user}","gists_url":"https://api.github.com/users/maobaolong/gists{/gist_id}","starred_url":"https://api.github.com/users/maobaolong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maobaolong/subscriptions","organizations_url":"https://api.github.com/users/maobaolong/orgs","repos_url":"https://api.github.com/users/maobaolong/repos","events_url":"https://api.github.com/users/maobaolong/events{/privacy}","received_events_url":"https://api.github.com/users/maobaolong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T00:45:01Z","updated_at":"2020-08-01T00:45:01Z","author_association":"MEMBER","body":"@arp7 Thank you very much for merge this for me","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667440248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667461318","html_url":"https://github.com/apache/ratis/pull/159#issuecomment-667461318","issue_url":"https://api.github.com/repos/apache/ratis/issues/159","id":667461318,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzQ2MTMxOA==","user":{"login":"anshkhannasbu","id":54566284,"node_id":"MDQ6VXNlcjU0NTY2Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/54566284?v=4","gravatar_id":"","url":"https://api.github.com/users/anshkhannasbu","html_url":"https://github.com/anshkhannasbu","followers_url":"https://api.github.com/users/anshkhannasbu/followers","following_url":"https://api.github.com/users/anshkhannasbu/following{/other_user}","gists_url":"https://api.github.com/users/anshkhannasbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anshkhannasbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anshkhannasbu/subscriptions","organizations_url":"https://api.github.com/users/anshkhannasbu/orgs","repos_url":"https://api.github.com/users/anshkhannasbu/repos","events_url":"https://api.github.com/users/anshkhannasbu/events{/privacy}","received_events_url":"https://api.github.com/users/anshkhannasbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T03:26:35Z","updated_at":"2020-08-01T03:26:35Z","author_association":"CONTRIBUTOR","body":"@bshashikant , i added the tests. Could you please check once and let me know your review?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667461318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667783199","html_url":"https://github.com/apache/ratis/pull/103#issuecomment-667783199","issue_url":"https://api.github.com/repos/apache/ratis/issues/103","id":667783199,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzc4MzE5OQ==","user":{"login":"dineshchitlangia","id":7876939,"node_id":"MDQ6VXNlcjc4NzY5Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/7876939?v=4","gravatar_id":"","url":"https://api.github.com/users/dineshchitlangia","html_url":"https://github.com/dineshchitlangia","followers_url":"https://api.github.com/users/dineshchitlangia/followers","following_url":"https://api.github.com/users/dineshchitlangia/following{/other_user}","gists_url":"https://api.github.com/users/dineshchitlangia/gists{/gist_id}","starred_url":"https://api.github.com/users/dineshchitlangia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dineshchitlangia/subscriptions","organizations_url":"https://api.github.com/users/dineshchitlangia/orgs","repos_url":"https://api.github.com/users/dineshchitlangia/repos","events_url":"https://api.github.com/users/dineshchitlangia/events{/privacy}","received_events_url":"https://api.github.com/users/dineshchitlangia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T03:25:56Z","updated_at":"2020-08-03T03:25:56Z","author_association":"CONTRIBUTOR","body":"Thanks everyone!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667783199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667796929","html_url":"https://github.com/apache/ratis/pull/49#issuecomment-667796929","issue_url":"https://api.github.com/repos/apache/ratis/issues/49","id":667796929,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzc5NjkyOQ==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T04:31:50Z","updated_at":"2020-08-03T04:31:50Z","author_association":"CONTRIBUTOR","body":"@maobaolong Looking forward to your contributions. :)","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667796929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667976089","html_url":"https://github.com/apache/ratis/pull/162#issuecomment-667976089","issue_url":"https://api.github.com/repos/apache/ratis/issues/162","id":667976089,"node_id":"MDEyOklzc3VlQ29tbWVudDY2Nzk3NjA4OQ==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T11:43:48Z","updated_at":"2020-08-03T11:43:48Z","author_association":"CONTRIBUTOR","body":"@bshashikant @lokeshj1703 Could you help review this patch ? Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/667976089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668023884","html_url":"https://github.com/apache/ratis/pull/162#issuecomment-668023884","issue_url":"https://api.github.com/repos/apache/ratis/issues/162","id":668023884,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODAyMzg4NA==","user":{"login":"bshashikant","id":31469764,"node_id":"MDQ6VXNlcjMxNDY5NzY0","avatar_url":"https://avatars.githubusercontent.com/u/31469764?v=4","gravatar_id":"","url":"https://api.github.com/users/bshashikant","html_url":"https://github.com/bshashikant","followers_url":"https://api.github.com/users/bshashikant/followers","following_url":"https://api.github.com/users/bshashikant/following{/other_user}","gists_url":"https://api.github.com/users/bshashikant/gists{/gist_id}","starred_url":"https://api.github.com/users/bshashikant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bshashikant/subscriptions","organizations_url":"https://api.github.com/users/bshashikant/orgs","repos_url":"https://api.github.com/users/bshashikant/repos","events_url":"https://api.github.com/users/bshashikant/events{/privacy}","received_events_url":"https://api.github.com/users/bshashikant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T13:30:19Z","updated_at":"2020-08-03T13:30:19Z","author_association":"CONTRIBUTOR","body":"Thanks @runzhiwang for the contribution. I have committed this.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668023884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668050580","html_url":"https://github.com/apache/ratis/pull/159#issuecomment-668050580","issue_url":"https://api.github.com/repos/apache/ratis/issues/159","id":668050580,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODA1MDU4MA==","user":{"login":"bshashikant","id":31469764,"node_id":"MDQ6VXNlcjMxNDY5NzY0","avatar_url":"https://avatars.githubusercontent.com/u/31469764?v=4","gravatar_id":"","url":"https://api.github.com/users/bshashikant","html_url":"https://github.com/bshashikant","followers_url":"https://api.github.com/users/bshashikant/followers","following_url":"https://api.github.com/users/bshashikant/following{/other_user}","gists_url":"https://api.github.com/users/bshashikant/gists{/gist_id}","starred_url":"https://api.github.com/users/bshashikant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bshashikant/subscriptions","organizations_url":"https://api.github.com/users/bshashikant/orgs","repos_url":"https://api.github.com/users/bshashikant/repos","events_url":"https://api.github.com/users/bshashikant/events{/privacy}","received_events_url":"https://api.github.com/users/bshashikant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T14:21:45Z","updated_at":"2020-08-03T14:21:45Z","author_association":"CONTRIBUTOR","body":"/retest","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668050580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668257772","html_url":"https://github.com/apache/ratis/pull/159#issuecomment-668257772","issue_url":"https://api.github.com/repos/apache/ratis/issues/159","id":668257772,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODI1Nzc3Mg==","user":{"login":"anshkhannasbu","id":54566284,"node_id":"MDQ6VXNlcjU0NTY2Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/54566284?v=4","gravatar_id":"","url":"https://api.github.com/users/anshkhannasbu","html_url":"https://github.com/anshkhannasbu","followers_url":"https://api.github.com/users/anshkhannasbu/followers","following_url":"https://api.github.com/users/anshkhannasbu/following{/other_user}","gists_url":"https://api.github.com/users/anshkhannasbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anshkhannasbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anshkhannasbu/subscriptions","organizations_url":"https://api.github.com/users/anshkhannasbu/orgs","repos_url":"https://api.github.com/users/anshkhannasbu/repos","events_url":"https://api.github.com/users/anshkhannasbu/events{/privacy}","received_events_url":"https://api.github.com/users/anshkhannasbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T21:46:33Z","updated_at":"2020-08-03T21:46:33Z","author_association":"CONTRIBUTOR","body":"@bshashikant build passed.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668257772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668536705","html_url":"https://github.com/apache/ratis/pull/163#issuecomment-668536705","issue_url":"https://api.github.com/repos/apache/ratis/issues/163","id":668536705,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODUzNjcwNQ==","user":{"login":"bshashikant","id":31469764,"node_id":"MDQ6VXNlcjMxNDY5NzY0","avatar_url":"https://avatars.githubusercontent.com/u/31469764?v=4","gravatar_id":"","url":"https://api.github.com/users/bshashikant","html_url":"https://github.com/bshashikant","followers_url":"https://api.github.com/users/bshashikant/followers","following_url":"https://api.github.com/users/bshashikant/following{/other_user}","gists_url":"https://api.github.com/users/bshashikant/gists{/gist_id}","starred_url":"https://api.github.com/users/bshashikant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bshashikant/subscriptions","organizations_url":"https://api.github.com/users/bshashikant/orgs","repos_url":"https://api.github.com/users/bshashikant/repos","events_url":"https://api.github.com/users/bshashikant/events{/privacy}","received_events_url":"https://api.github.com/users/bshashikant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-04T11:18:42Z","updated_at":"2020-08-04T11:18:42Z","author_association":"CONTRIBUTOR","body":"Thanks @runzhiwang for the contribution. I have committed this.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668536705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668537626","html_url":"https://github.com/apache/ratis/pull/159#issuecomment-668537626","issue_url":"https://api.github.com/repos/apache/ratis/issues/159","id":668537626,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODUzNzYyNg==","user":{"login":"bshashikant","id":31469764,"node_id":"MDQ6VXNlcjMxNDY5NzY0","avatar_url":"https://avatars.githubusercontent.com/u/31469764?v=4","gravatar_id":"","url":"https://api.github.com/users/bshashikant","html_url":"https://github.com/bshashikant","followers_url":"https://api.github.com/users/bshashikant/followers","following_url":"https://api.github.com/users/bshashikant/following{/other_user}","gists_url":"https://api.github.com/users/bshashikant/gists{/gist_id}","starred_url":"https://api.github.com/users/bshashikant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bshashikant/subscriptions","organizations_url":"https://api.github.com/users/bshashikant/orgs","repos_url":"https://api.github.com/users/bshashikant/repos","events_url":"https://api.github.com/users/bshashikant/events{/privacy}","received_events_url":"https://api.github.com/users/bshashikant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-04T11:20:50Z","updated_at":"2020-08-04T11:20:50Z","author_association":"CONTRIBUTOR","body":"Thanks @anshkhannasbu for the contribution. I have committed this.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668537626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668914373","html_url":"https://github.com/apache/ratis/pull/166#issuecomment-668914373","issue_url":"https://api.github.com/repos/apache/ratis/issues/166","id":668914373,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODkxNDM3Mw==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T01:15:25Z","updated_at":"2020-08-05T01:15:25Z","author_association":"CONTRIBUTOR","body":"@bshashikant @lokeshj1703 Could you help review this patch ? Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668914373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668914938","html_url":"https://github.com/apache/ratis/pull/161#issuecomment-668914938","issue_url":"https://api.github.com/repos/apache/ratis/issues/161","id":668914938,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODkxNDkzOA==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T01:16:59Z","updated_at":"2020-08-05T01:16:59Z","author_association":"CONTRIBUTOR","body":"@szetszwo @bshashikant @lokeshj1703 @GlenGeng Could you help review this patch ? Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668914938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668934768","html_url":"https://github.com/apache/ratis/pull/167#issuecomment-668934768","issue_url":"https://api.github.com/repos/apache/ratis/issues/167","id":668934768,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODkzNDc2OA==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T02:15:25Z","updated_at":"2020-08-05T02:15:25Z","author_association":"CONTRIBUTOR","body":"@bshashikant @lokeshj1703 Could you help review this patch ? Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668934768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668981073","html_url":"https://github.com/apache/ratis/pull/166#issuecomment-668981073","issue_url":"https://api.github.com/repos/apache/ratis/issues/166","id":668981073,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODk4MTA3Mw==","user":{"login":"bshashikant","id":31469764,"node_id":"MDQ6VXNlcjMxNDY5NzY0","avatar_url":"https://avatars.githubusercontent.com/u/31469764?v=4","gravatar_id":"","url":"https://api.github.com/users/bshashikant","html_url":"https://github.com/bshashikant","followers_url":"https://api.github.com/users/bshashikant/followers","following_url":"https://api.github.com/users/bshashikant/following{/other_user}","gists_url":"https://api.github.com/users/bshashikant/gists{/gist_id}","starred_url":"https://api.github.com/users/bshashikant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bshashikant/subscriptions","organizations_url":"https://api.github.com/users/bshashikant/orgs","repos_url":"https://api.github.com/users/bshashikant/repos","events_url":"https://api.github.com/users/bshashikant/events{/privacy}","received_events_url":"https://api.github.com/users/bshashikant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T05:01:49Z","updated_at":"2020-08-05T05:01:49Z","author_association":"CONTRIBUTOR","body":"Thanks @runzhiwang for the contribution. I have committed this.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/668981073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669011760","html_url":"https://github.com/apache/ratis/pull/168#issuecomment-669011760","issue_url":"https://api.github.com/repos/apache/ratis/issues/168","id":669011760,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTAxMTc2MA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T06:42:15Z","updated_at":"2020-08-05T06:42:15Z","author_association":"CONTRIBUTOR","body":"This is my first time to submit a patch to Ratis. Any suggestion is much appreciated. ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669011760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669012107","html_url":"https://github.com/apache/ratis/pull/168#issuecomment-669012107","issue_url":"https://api.github.com/repos/apache/ratis/issues/168","id":669012107,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTAxMjEwNw==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T06:43:09Z","updated_at":"2020-08-05T06:43:09Z","author_association":"CONTRIBUTOR","body":"@bshashikant could you take a look?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669012107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669036900","html_url":"https://github.com/apache/ratis/pull/168#issuecomment-669036900","issue_url":"https://api.github.com/repos/apache/ratis/issues/168","id":669036900,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTAzNjkwMA==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T07:42:41Z","updated_at":"2020-08-05T07:42:41Z","author_association":"CONTRIBUTOR","body":"@amaliujia Please change your title to **RATIS-1023. During installing snapshot, when snapshot file is corrup**","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669036900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669307292","html_url":"https://github.com/apache/ratis/pull/166#issuecomment-669307292","issue_url":"https://api.github.com/repos/apache/ratis/issues/166","id":669307292,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTMwNzI5Mg==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T16:51:19Z","updated_at":"2020-08-05T16:51:19Z","author_association":"CONTRIBUTOR","body":"Hello! Can you tell me what is UT for Ratis? Is it integration tests tool? ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669307292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669309968","html_url":"https://github.com/apache/ratis/pull/168#issuecomment-669309968","issue_url":"https://api.github.com/repos/apache/ratis/issues/168","id":669309968,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTMwOTk2OA==","user":{"login":"bshashikant","id":31469764,"node_id":"MDQ6VXNlcjMxNDY5NzY0","avatar_url":"https://avatars.githubusercontent.com/u/31469764?v=4","gravatar_id":"","url":"https://api.github.com/users/bshashikant","html_url":"https://github.com/bshashikant","followers_url":"https://api.github.com/users/bshashikant/followers","following_url":"https://api.github.com/users/bshashikant/following{/other_user}","gists_url":"https://api.github.com/users/bshashikant/gists{/gist_id}","starred_url":"https://api.github.com/users/bshashikant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bshashikant/subscriptions","organizations_url":"https://api.github.com/users/bshashikant/orgs","repos_url":"https://api.github.com/users/bshashikant/repos","events_url":"https://api.github.com/users/bshashikant/events{/privacy}","received_events_url":"https://api.github.com/users/bshashikant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T16:56:39Z","updated_at":"2020-08-05T16:56:39Z","author_association":"CONTRIBUTOR","body":"Thanks Rui Wang for starting working on this. Can you please add some details as to why renaming temp snapshot file to .corrupt is required?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669309968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669317208","html_url":"https://github.com/apache/ratis/pull/168#issuecomment-669317208","issue_url":"https://api.github.com/repos/apache/ratis/issues/168","id":669317208,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTMxNzIwOA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T17:10:54Z","updated_at":"2020-08-05T17:10:54Z","author_association":"CONTRIBUTOR","body":"Thanks @bshashikant! I updated the JIRA and we can discuss there.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669317208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669325790","html_url":"https://github.com/apache/ratis/pull/161#issuecomment-669325790","issue_url":"https://api.github.com/repos/apache/ratis/issues/161","id":669325790,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTMyNTc5MA==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T17:28:33Z","updated_at":"2020-08-05T17:28:33Z","author_association":"CONTRIBUTOR","body":"@runzhiwang thanks for working on this.\r\n\r\n> ... the voters have not received heartbeats from a valid leader for at least a baseline election timeout ...\r\n\r\nThis requirement seems not yet implemented in the current change.\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669325790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669326952","html_url":"https://github.com/apache/ratis/pull/161#issuecomment-669326952","issue_url":"https://api.github.com/repos/apache/ratis/issues/161","id":669326952,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTMyNjk1Mg==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T17:30:51Z","updated_at":"2020-08-05T17:30:51Z","author_association":"CONTRIBUTOR","body":"> 2. the follower is not in the conf.\r\n\r\nI cannot see this requirement in the paper.  Could you give me a pointer?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669326952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669616104","html_url":"https://github.com/apache/ratis/pull/164#issuecomment-669616104","issue_url":"https://api.github.com/repos/apache/ratis/issues/164","id":669616104,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTYxNjEwNA==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T00:38:04Z","updated_at":"2020-08-06T00:38:04Z","author_association":"CONTRIBUTOR","body":"Please move DataStreamApi and RaftDataOutputStream to org.apache.ratis.client.api in Ratis-client.  These are public client APIs.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669616104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669650068","html_url":"https://github.com/apache/ratis/pull/164#issuecomment-669650068","issue_url":"https://api.github.com/repos/apache/ratis/issues/164","id":669650068,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY1MDA2OA==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T02:43:57Z","updated_at":"2020-08-06T02:43:57Z","author_association":"CONTRIBUTOR","body":"- After some thoughts, let's change all the class names to use \"DataStream\" as the prefix except for NettyDataStreamFactory.\r\n\r\n- DataStreamRequest and DataStreamReply should extends a common base class, say DataStreamMessage.\r\n\r\n- Also, let's remove  some of the code which is not yet clear how to use them.  We should work on the implementation and design these methods.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669650068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669653007","html_url":"https://github.com/apache/ratis/pull/161#issuecomment-669653007","issue_url":"https://api.github.com/repos/apache/ratis/issues/161","id":669653007,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY1MzAwNw==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T02:55:18Z","updated_at":"2020-08-06T02:55:18Z","author_association":"CONTRIBUTOR","body":"> \r\n> ... the voters have not received heartbeats from a valid leader for at least a baseline election timeout ...\r\n> \r\n> This requirement seems not yet implemented in the current change.\r\n\r\n@szetszwo  Thanks for review. You are right, I did not implement it in this PR because I want to make this PR simpler to review, and I will implement it after this PR. Even though without checkout timeout,  it will not introduce new bug, because in this case pre-vote passed and trigger a new leader election. I can also implement it in this PR, it's ok to me.  Which one do you prefer ?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669653007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669657731","html_url":"https://github.com/apache/ratis/pull/161#issuecomment-669657731","issue_url":"https://api.github.com/repos/apache/ratis/issues/161","id":669657731,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY1NzczMQ==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T03:13:36Z","updated_at":"2020-08-06T03:13:36Z","author_association":"CONTRIBUTOR","body":"> the follower is not in the conf.\r\n> I cannot see this requirement in the paper. Could you give me a pointer?\r\n\r\n@szetszwo You are right, it does not exist in the paper. I implement it to adapt current ratis implementation. Because in current ratis, when leader election, leader will send shutdown to follower if follower, such as follower1, is not in leader's conf at [shouldSendShutdown(candidateId, candidateLastEntry)](https://github.com/apache/incubator-ratis/blob/master/ratis-server/src/main/java/org/apache/ratis/server/impl/RaftServerImpl.java#L860).  So I have two choice to make follower1 shutdown: 1.pass the pre-vote in this case, so that follower1 can shutdown in real leader election; 2.pre-vote in charge of shutdown follower1, but this will make pre-vote complicated. So I choose the first option. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669657731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669750024","html_url":"https://github.com/apache/ratis/pull/166#issuecomment-669750024","issue_url":"https://api.github.com/repos/apache/ratis/issues/166","id":669750024,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTc1MDAyNA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T07:11:25Z","updated_at":"2020-08-06T07:11:25Z","author_association":"CONTRIBUTOR","body":"I just realized UT means unit tests :-)","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/669750024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670047887","html_url":"https://github.com/apache/ratis/pull/164#issuecomment-670047887","issue_url":"https://api.github.com/repos/apache/ratis/issues/164","id":670047887,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDA0Nzg4Nw==","user":{"login":"anshkhannasbu","id":54566284,"node_id":"MDQ6VXNlcjU0NTY2Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/54566284?v=4","gravatar_id":"","url":"https://api.github.com/users/anshkhannasbu","html_url":"https://github.com/anshkhannasbu","followers_url":"https://api.github.com/users/anshkhannasbu/followers","following_url":"https://api.github.com/users/anshkhannasbu/following{/other_user}","gists_url":"https://api.github.com/users/anshkhannasbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anshkhannasbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anshkhannasbu/subscriptions","organizations_url":"https://api.github.com/users/anshkhannasbu/orgs","repos_url":"https://api.github.com/users/anshkhannasbu/repos","events_url":"https://api.github.com/users/anshkhannasbu/events{/privacy}","received_events_url":"https://api.github.com/users/anshkhannasbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T16:50:39Z","updated_at":"2020-08-06T16:50:39Z","author_association":"CONTRIBUTOR","body":"thanks nicholas! @szetszwo ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670047887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670148089","html_url":"https://github.com/apache/ratis/pull/161#issuecomment-670148089","issue_url":"https://api.github.com/repos/apache/ratis/issues/161","id":670148089,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDE0ODA4OQ==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T19:26:04Z","updated_at":"2020-08-06T19:26:04Z","author_association":"CONTRIBUTOR","body":"@runzhiwang Let's just implement exactly raft paper section 9.6.\r\n\r\nWhen the follower is not in the conf, it should not allowed to join the group.  Otherwise, any followers could join any groups.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670148089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670247608","html_url":"https://github.com/apache/ratis/pull/161#issuecomment-670247608","issue_url":"https://api.github.com/repos/apache/ratis/issues/161","id":670247608,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI0NzYwOA==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T23:56:34Z","updated_at":"2020-08-06T23:56:42Z","author_association":"CONTRIBUTOR","body":"> When the follower is not in the conf, it should not allowed to join the group. Otherwise, any followers could join any groups.\r\n\r\n@szetszwo Thanks for explanation. Do you mean shutdown the follower not in the conf when pre-vote ? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670247608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670306841","html_url":"https://github.com/apache/ratis/pull/161#issuecomment-670306841","issue_url":"https://api.github.com/repos/apache/ratis/issues/161","id":670306841,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDMwNjg0MQ==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T03:52:37Z","updated_at":"2020-08-07T03:52:37Z","author_association":"CONTRIBUTOR","body":"Yes, we should shutdown the follower for that group.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670306841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670318566","html_url":"https://github.com/apache/ratis/pull/161#issuecomment-670318566","issue_url":"https://api.github.com/repos/apache/ratis/issues/161","id":670318566,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDMxODU2Ng==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T04:44:22Z","updated_at":"2020-08-07T04:44:22Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for review. I have updated the patch. Could you help review it again ?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670318566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670494227","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-670494227","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":670494227,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDQ5NDIyNw==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T12:34:06Z","updated_at":"2020-08-07T12:34:06Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670494227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670644698","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-670644698","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":670644698,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY0NDY5OA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T18:13:19Z","updated_at":"2020-08-07T18:13:41Z","author_association":"CONTRIBUTOR","body":"Newbie question:\r\n\r\nWith/without this change, UT still work means that the complete purge logic is not properly tested, right? Can you point me to which UT is covering purge logic? ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670644698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670645467","html_url":"https://github.com/apache/ratis/pull/169#issuecomment-670645467","issue_url":"https://api.github.com/repos/apache/ratis/issues/169","id":670645467,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY0NTQ2Nw==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T18:15:15Z","updated_at":"2020-08-07T18:15:15Z","author_association":"CONTRIBUTOR","body":"@szetszwo \r\n\r\nPer file history I am guessing you are the right person to review this PR. Can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670645467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670800174","html_url":"https://github.com/apache/ratis/pull/172#issuecomment-670800174","issue_url":"https://api.github.com/repos/apache/ratis/issues/172","id":670800174,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgwMDE3NA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T01:00:58Z","updated_at":"2020-08-08T01:00:58Z","author_association":"CONTRIBUTOR","body":"R: @joshelser ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670800174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670805865","html_url":"https://github.com/apache/ratis/pull/169#issuecomment-670805865","issue_url":"https://api.github.com/repos/apache/ratis/issues/169","id":670805865,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgwNTg2NQ==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T01:45:13Z","updated_at":"2020-08-08T01:45:13Z","author_association":"CONTRIBUTOR","body":"@amaliujia , could you see if the failed unit test is related?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670805865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670816629","html_url":"https://github.com/apache/ratis/pull/169#issuecomment-670816629","issue_url":"https://api.github.com/repos/apache/ratis/issues/169","id":670816629,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDgxNjYyOQ==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T03:24:13Z","updated_at":"2020-08-08T03:24:13Z","author_association":"CONTRIBUTOR","body":"@szetszwo\r\n\r\nThe failed UT is not related. `org.apache.ratis.TestMultiRaftGroup` has failed and I created https://issues.apache.org/jira/browse/RATIS-1026 to track it.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/670816629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671002744","html_url":"https://github.com/apache/ratis/pull/173#issuecomment-671002744","issue_url":"https://api.github.com/repos/apache/ratis/issues/173","id":671002744,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTAwMjc0NA==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T03:58:11Z","updated_at":"2020-08-09T03:58:11Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671002744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671010842","html_url":"https://github.com/apache/ratis/pull/174#issuecomment-671010842","issue_url":"https://api.github.com/repos/apache/ratis/issues/174","id":671010842,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTAxMDg0Mg==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T05:58:10Z","updated_at":"2020-08-09T05:58:10Z","author_association":"CONTRIBUTOR","body":"R: @anshkhannasbu @bshashikant ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671010842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671010918","html_url":"https://github.com/apache/ratis/pull/174#issuecomment-671010918","issue_url":"https://api.github.com/repos/apache/ratis/issues/174","id":671010918,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTAxMDkxOA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T05:59:13Z","updated_at":"2020-08-09T05:59:13Z","author_association":"CONTRIBUTOR","body":"This PR is related to #159.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671010918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671017173","html_url":"https://github.com/apache/ratis/pull/174#issuecomment-671017173","issue_url":"https://api.github.com/repos/apache/ratis/issues/174","id":671017173,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTAxNzE3Mw==","user":{"login":"anshkhannasbu","id":54566284,"node_id":"MDQ6VXNlcjU0NTY2Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/54566284?v=4","gravatar_id":"","url":"https://api.github.com/users/anshkhannasbu","html_url":"https://github.com/anshkhannasbu","followers_url":"https://api.github.com/users/anshkhannasbu/followers","following_url":"https://api.github.com/users/anshkhannasbu/following{/other_user}","gists_url":"https://api.github.com/users/anshkhannasbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anshkhannasbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anshkhannasbu/subscriptions","organizations_url":"https://api.github.com/users/anshkhannasbu/orgs","repos_url":"https://api.github.com/users/anshkhannasbu/repos","events_url":"https://api.github.com/users/anshkhannasbu/events{/privacy}","received_events_url":"https://api.github.com/users/anshkhannasbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T07:16:01Z","updated_at":"2020-08-09T07:16:01Z","author_association":"CONTRIBUTOR","body":"@amaliujia, if the identifier is not null then metrics should be set. Since there is no other way to set the identifier. Is there some case where metrics cannot be created?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671017173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671018098","html_url":"https://github.com/apache/ratis/pull/174#issuecomment-671018098","issue_url":"https://api.github.com/repos/apache/ratis/issues/174","id":671018098,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTAxODA5OA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T07:26:43Z","updated_at":"2020-08-09T07:26:43Z","author_association":"CONTRIBUTOR","body":"@anshkhannasbu \r\n\r\nI accepted your suggestion and then give another look.  I think it is better to have a separate `if (metrics == null)` check (see my last commit). WDYT? ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671018098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671018282","html_url":"https://github.com/apache/ratis/pull/174#issuecomment-671018282","issue_url":"https://api.github.com/repos/apache/ratis/issues/174","id":671018282,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTAxODI4Mg==","user":{"login":"anshkhannasbu","id":54566284,"node_id":"MDQ6VXNlcjU0NTY2Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/54566284?v=4","gravatar_id":"","url":"https://api.github.com/users/anshkhannasbu","html_url":"https://github.com/anshkhannasbu","followers_url":"https://api.github.com/users/anshkhannasbu/followers","following_url":"https://api.github.com/users/anshkhannasbu/following{/other_user}","gists_url":"https://api.github.com/users/anshkhannasbu/gists{/gist_id}","starred_url":"https://api.github.com/users/anshkhannasbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anshkhannasbu/subscriptions","organizations_url":"https://api.github.com/users/anshkhannasbu/orgs","repos_url":"https://api.github.com/users/anshkhannasbu/repos","events_url":"https://api.github.com/users/anshkhannasbu/events{/privacy}","received_events_url":"https://api.github.com/users/anshkhannasbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T07:29:04Z","updated_at":"2020-08-09T07:29:04Z","author_association":"CONTRIBUTOR","body":"> @anshkhannasbu\r\n> \r\n> I accepted your suggestion and then give another look. I think it is better to have a separate `if (metrics == null)` check (see my last commit). WDYT?\r\n\r\n@amaliujia sure looks good.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671018282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671261126","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-671261126","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":671261126,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTI2MTEyNg==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T09:47:37Z","updated_at":"2020-08-10T09:47:37Z","author_association":"CONTRIBUTOR","body":"> With/without this change, UT still work means that the complete purge logic is not properly tested, right? Can you point me to which UT is covering purge logic?\r\n\r\n@amaliujia Please check TestSegmentedRaftLog. Purge currently considers cached segments for purging and currently in code we are evicting the cache. This leads to scenarios where segments are never purged.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671261126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671287412","html_url":"https://github.com/apache/ratis/pull/148#issuecomment-671287412","issue_url":"https://api.github.com/repos/apache/ratis/issues/148","id":671287412,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTI4NzQxMg==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T10:53:13Z","updated_at":"2020-08-10T10:53:13Z","author_association":"CONTRIBUTOR","body":"@cyrus-jackson Thanks for the contribution! @runzhiwang Thanks for review! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671287412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671312666","html_url":"https://github.com/apache/ratis/pull/175#issuecomment-671312666","issue_url":"https://api.github.com/repos/apache/ratis/issues/175","id":671312666,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTMxMjY2Ng==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T11:58:24Z","updated_at":"2020-08-10T11:58:24Z","author_association":"CONTRIBUTOR","body":"Still working.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671312666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671459251","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-671459251","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":671459251,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTQ1OTI1MQ==","user":{"login":"hanishakoneru","id":10237377,"node_id":"MDQ6VXNlcjEwMjM3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/10237377?v=4","gravatar_id":"","url":"https://api.github.com/users/hanishakoneru","html_url":"https://github.com/hanishakoneru","followers_url":"https://api.github.com/users/hanishakoneru/followers","following_url":"https://api.github.com/users/hanishakoneru/following{/other_user}","gists_url":"https://api.github.com/users/hanishakoneru/gists{/gist_id}","starred_url":"https://api.github.com/users/hanishakoneru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanishakoneru/subscriptions","organizations_url":"https://api.github.com/users/hanishakoneru/orgs","repos_url":"https://api.github.com/users/hanishakoneru/repos","events_url":"https://api.github.com/users/hanishakoneru/events{/privacy}","received_events_url":"https://api.github.com/users/hanishakoneru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T16:32:56Z","updated_at":"2020-08-10T16:32:56Z","author_association":"CONTRIBUTOR","body":"@lokeshj1703, if I understand correctly, this fix will purge the logs instead of evicting them from cache.\r\n\r\nThis might lead to more frequent install snapshots requests if a follower is lagging behind a few log segments. Currently in Ozone, the maximum number of cached segments is set to 2 in both Datanodes and Ozone. \r\n\r\n1. Instead of purging logs when they need to be evicted from cache, can the purge implementation be fixed to also consider the logs  on disk and not in cache. With this approach, we would have  to take care of tracking on disk logs for other cases as well (for example {{RaftLog#getStartIndex}}).\r\n2. Another option would be to align the cache eviction logic with the log purge logic but this might not be optimal if the purge limit is set very high. \r\n\r\nI think the first approach would be the clean solution. What are your thoughts?\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671459251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671475188","html_url":"https://github.com/apache/ratis/pull/169#issuecomment-671475188","issue_url":"https://api.github.com/repos/apache/ratis/issues/169","id":671475188,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTQ3NTE4OA==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T17:05:01Z","updated_at":"2020-08-10T17:05:01Z","author_association":"CONTRIBUTOR","body":"Thanks, @amaliujia .  I just have merged this.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671475188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671539223","html_url":"https://github.com/apache/ratis/pull/169#issuecomment-671539223","issue_url":"https://api.github.com/repos/apache/ratis/issues/169","id":671539223,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTUzOTIyMw==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T19:18:01Z","updated_at":"2020-08-10T19:18:01Z","author_association":"CONTRIBUTOR","body":"Thank you!","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671539223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671644726","html_url":"https://github.com/apache/ratis/pull/172#issuecomment-671644726","issue_url":"https://api.github.com/repos/apache/ratis/issues/172","id":671644726,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY0NDcyNg==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T23:47:30Z","updated_at":"2020-08-10T23:47:30Z","author_association":"CONTRIBUTOR","body":"@joshelser thanks!\r\n\r\nThe failed check is not relevant to this PR\r\n```\r\n[ERROR] Tests run: 5, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 13.368 s <<< FAILURE! - in org.apache.ratis.server.simulation.TestServerRestartWithSimulatedRpc\r\n[ERROR] testRestartFollower(org.apache.ratis.server.simulation.TestServerRestartWithSimulatedRpc)  Time elapsed: 9.885 s  <<< FAILURE!\r\njava.lang.AssertionError\r\n\tat org.junit.Assert.fail(Assert.java:86)\r\n\tat org.junit.Assert.assertTrue(Assert.java:41)\r\n\tat org.junit.Assert.assertTrue(Assert.java:52)\r\n\tat org.apache.ratis.server.ServerRestartTests.lambda$runTestRestartFollower$1(ServerRestartTests.java:116)\r\n\tat org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:160)\r\n\tat org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:146)\r\n\tat org.apache.ratis.server.ServerRestartTests.runTestRestartFollower(ServerRestartTests.java:115)\r\n\tat org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)\r\n\tat org.apache.ratis.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)\r\n\tat org.apache.ratis.server.ServerRestartTests.testRestartFollower(ServerRestartTests.java:91)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671644726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671654149","html_url":"https://github.com/apache/ratis/pull/172#issuecomment-671654149","issue_url":"https://api.github.com/repos/apache/ratis/issues/172","id":671654149,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY1NDE0OQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T00:21:29Z","updated_at":"2020-08-11T00:21:29Z","author_association":"MEMBER","body":"> The failed check is not relevant to this PR\r\n\r\nYup! I saw. Just pushed it.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671654149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671756053","html_url":"https://github.com/apache/ratis/pull/177#issuecomment-671756053","issue_url":"https://api.github.com/repos/apache/ratis/issues/177","id":671756053,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTc1NjA1Mw==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T06:30:42Z","updated_at":"2020-08-11T06:30:42Z","author_association":"CONTRIBUTOR","body":"Please add some unit tests.  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/671756053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/672263476","html_url":"https://github.com/apache/ratis/pull/173#issuecomment-672263476","issue_url":"https://api.github.com/repos/apache/ratis/issues/173","id":672263476,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjI2MzQ3Ng==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T20:30:21Z","updated_at":"2020-08-11T20:30:21Z","author_association":"CONTRIBUTOR","body":"@szetszwo \r\n\r\nI am wondering if you can commit this. If we have agreed to enable `avoid import start`, the earlier we enable it, the better. ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/672263476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/672324312","html_url":"https://github.com/apache/ratis/pull/173#issuecomment-672324312","issue_url":"https://api.github.com/repos/apache/ratis/issues/173","id":672324312,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjMyNDMxMg==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T22:27:47Z","updated_at":"2020-08-11T22:27:47Z","author_association":"CONTRIBUTOR","body":"Thank you! \r\n\r\nThose changes are automatically done by my IntelliJ which has configured by CheckStyle, and I assumed checks pass means these changes are good to Ratis\r\n\r\nI will take another look on your comments about java import ordering.  But I also agreed we should put more time on other areas. So if such checkstyle work needs too much time, I will postpone this change.\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/672324312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/672642449","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-672642449","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":672642449,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjY0MjQ0OQ==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T06:43:19Z","updated_at":"2020-08-12T06:43:19Z","author_association":"CONTRIBUTOR","body":"> @lokeshj1703, if I understand correctly, this fix will purge the logs instead of evicting them from cache.\r\n> \r\n> This might lead to more frequent install snapshots requests if a follower is lagging behind a few log segments. Currently in Ozone, the maximum number of cached segments is set to 2 in both Datanodes and Ozone.\r\n> \r\n\r\nI think you are referring to the change in TestSegmentedRaftLog#syncWithSnapshot. So this function is called in follower after install snapshot or notify install snapshot. Since the snapshot has already been installed in the follower I think it is ok to purge the logs. Leader would have the snapshot too. \r\nCurrently purge is called in StateMachineUpdater#takeSnapshot. I think follower where snapshot is getting installed would not call takeSnapshot until later and thus may not be able to purge logs.\r\n\r\n> 1. Instead of purging logs when they need to be evicted from cache, can the purge implementation be fixed to also consider the logs  on disk and not in cache. With this approach, we would have  to take care of tracking on disk logs for other cases as well (for example {{RaftLog#getStartIndex}}).\r\n\r\nThe change will not purge logs when they need to be evicted. If you look at SegmentedRaftLogCache#evictCache it only evicts the entry cache. It still tracks the log segment in the SegmentedRaftLogCache#closedSegments list. Log segments are removed from closedSegments during purge or truncate.\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/672642449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/672784212","html_url":"https://github.com/apache/ratis/pull/168#issuecomment-672784212","issue_url":"https://api.github.com/repos/apache/ratis/issues/168","id":672784212,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mjc4NDIxMg==","user":{"login":"bshashikant","id":31469764,"node_id":"MDQ6VXNlcjMxNDY5NzY0","avatar_url":"https://avatars.githubusercontent.com/u/31469764?v=4","gravatar_id":"","url":"https://api.github.com/users/bshashikant","html_url":"https://github.com/bshashikant","followers_url":"https://api.github.com/users/bshashikant/followers","following_url":"https://api.github.com/users/bshashikant/following{/other_user}","gists_url":"https://api.github.com/users/bshashikant/gists{/gist_id}","starred_url":"https://api.github.com/users/bshashikant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bshashikant/subscriptions","organizations_url":"https://api.github.com/users/bshashikant/orgs","repos_url":"https://api.github.com/users/bshashikant/repos","events_url":"https://api.github.com/users/bshashikant/events{/privacy}","received_events_url":"https://api.github.com/users/bshashikant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T10:14:09Z","updated_at":"2020-08-12T10:14:09Z","author_association":"CONTRIBUTOR","body":"Thanks @amaliujia for the contribution and @runzhiwang for the review.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/672784212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/673673687","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-673673687","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":673673687,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzY3MzY4Nw==","user":{"login":"hanishakoneru","id":10237377,"node_id":"MDQ6VXNlcjEwMjM3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/10237377?v=4","gravatar_id":"","url":"https://api.github.com/users/hanishakoneru","html_url":"https://github.com/hanishakoneru","followers_url":"https://api.github.com/users/hanishakoneru/followers","following_url":"https://api.github.com/users/hanishakoneru/following{/other_user}","gists_url":"https://api.github.com/users/hanishakoneru/gists{/gist_id}","starred_url":"https://api.github.com/users/hanishakoneru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanishakoneru/subscriptions","organizations_url":"https://api.github.com/users/hanishakoneru/orgs","repos_url":"https://api.github.com/users/hanishakoneru/repos","events_url":"https://api.github.com/users/hanishakoneru/events{/privacy}","received_events_url":"https://api.github.com/users/hanishakoneru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T19:41:45Z","updated_at":"2020-08-13T19:41:45Z","author_association":"CONTRIBUTOR","body":"Consider the following scenario.\r\nSnapshot is taken every 25 transactions. PurgeUptoSnapshotIndex is set to false. This implies when snapshot is taken, only logs up to min commit index on all nodes will be purged.\r\nNow let's say we have log segments _log_11_20_, _log_21_30_ and _log_31_40_ on disk. Snapshot was taken at index 25 but one of the nodes had commit index 12. So only _log_0_10_ is purged. When this node is restarted, it will not add _log_11_20_ to its closedSegments because of the following logic in _SegmentedRaftLogCache_. When purge is called next, _log_11_20_ will not be purged as it is not in the cached closedSegments list. \r\n\r\n```\r\nvoid loadSegment(LogPathAndIndex pi, boolean keepEntryInCache,\r\n      Consumer<LogEntryProto> logConsumer, long lastIndexInSnapshot) throws IOException {\r\n    LogSegment logSegment = LogSegment.loadSegment(storage, pi.getPath().toFile(),\r\n        pi.getStartIndex(), pi.getEndIndex(), pi.isOpen(), keepEntryInCache, logConsumer, raftLogMetrics);\r\n    if (logSegment != null && logSegment.getEndIndex() > lastIndexInSnapshot) {\r\n      addSegment(logSegment);\r\n    }\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/673673687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/673994822","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-673994822","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":673994822,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzk5NDgyMg==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T09:54:32Z","updated_at":"2020-08-14T09:54:32Z","author_association":"CONTRIBUTOR","body":"> When purge is called next, log_11_20 will not be purged as it is not in the cached closedSegments list.\r\n\r\nGood point! I think this can be fixed by the following change. \r\n```\r\nvoid loadSegment(LogPathAndIndex pi, boolean keepEntryInCache,\r\n      Consumer<LogEntryProto> logConsumer, long lastIndexInSnapshot) throws IOException {\r\n    LogSegment logSegment = LogSegment.loadSegment(storage, pi.getPath().toFile(),\r\n        pi.getStartIndex(), pi.getEndIndex(), pi.isOpen(), keepEntryInCache, logConsumer, raftLogMetrics);\r\n    if (logSegment != null) {\r\n      addSegment(logSegment);\r\n    }\r\n  }\r\n```\r\nThe point is if we have a list of all log segments during startup the purge works correctly. The log segment references should be light-weight if the entry cache is evicted from the log segment. I think we can avoid directory scan during purge with this precondition.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/673994822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/674437550","html_url":"https://github.com/apache/ratis/pull/177#issuecomment-674437550","issue_url":"https://api.github.com/repos/apache/ratis/issues/177","id":674437550,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQzNzU1MA==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T19:17:35Z","updated_at":"2020-08-15T19:17:35Z","author_association":"CONTRIBUTOR","body":"@anshkhannasbu , TestDataStream failed.  Please take a look.  Thanks.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/674437550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/675757890","html_url":"https://github.com/apache/ratis/pull/180#issuecomment-675757890","issue_url":"https://api.github.com/repos/apache/ratis/issues/180","id":675757890,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTc1Nzg5MA==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T22:51:38Z","updated_at":"2020-08-18T22:51:38Z","author_association":"CONTRIBUTOR","body":"@anshkhannasbu , we need a new JIRA for this change since RATIS-1031 is already resolved.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/675757890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/679975438","html_url":"https://github.com/apache/ratis/pull/181#issuecomment-679975438","issue_url":"https://api.github.com/repos/apache/ratis/issues/181","id":679975438,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTk3NTQzOA==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T11:46:37Z","updated_at":"2020-08-25T11:46:37Z","author_association":"CONTRIBUTOR","body":"@szetszwo Could you help review this patch ? Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/679975438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/680410528","html_url":"https://github.com/apache/ratis/pull/182#issuecomment-680410528","issue_url":"https://api.github.com/repos/apache/ratis/issues/182","id":680410528,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDQxMDUyOA==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T01:44:05Z","updated_at":"2020-08-26T01:44:05Z","author_association":"CONTRIBUTOR","body":"@szetszwo Could you help review this patch ? Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/680410528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/680707327","html_url":"https://github.com/apache/ratis/pull/183#issuecomment-680707327","issue_url":"https://api.github.com/repos/apache/ratis/issues/183","id":680707327,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDcwNzMyNw==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T07:22:19Z","updated_at":"2020-08-26T07:22:19Z","author_association":"CONTRIBUTOR","body":"@szetszwo @hanishakoneru \r\n\r\nI am working on adding `pause` to Ratis. As RATIS-624 describes, it is useful when a follower is lagging behind. When that happens, we can pause that follower and then do a snapshot install to help that follower catches up.\r\n\r\nThis PR is still WIP. As I kept hacking a solution, I realized it is a fairly complicated change (at least to me).  \r\n\r\nCan I ask for some help: am I working on the right track? Am I adding the API in the right classes (e.g. RaftClient, RaftServerProxy, etc.) Any suggestions that I can improve my current thought?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/680707327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681019415","html_url":"https://github.com/apache/ratis/pull/183#issuecomment-681019415","issue_url":"https://api.github.com/repos/apache/ratis/issues/183","id":681019415,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTAxOTQxNQ==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T17:29:17Z","updated_at":"2020-08-26T17:29:17Z","author_association":"CONTRIBUTOR","body":"Or, can I tackle this problem by starting from server implementation without considering client/rpc call? (not sure as this is the first time I touch Ratis core).","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681019415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681088525","html_url":"https://github.com/apache/ratis/pull/183#issuecomment-681088525","issue_url":"https://api.github.com/repos/apache/ratis/issues/183","id":681088525,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTA4ODUyNQ==","user":{"login":"szetszwo","id":907380,"node_id":"MDQ6VXNlcjkwNzM4MA==","avatar_url":"https://avatars.githubusercontent.com/u/907380?v=4","gravatar_id":"","url":"https://api.github.com/users/szetszwo","html_url":"https://github.com/szetszwo","followers_url":"https://api.github.com/users/szetszwo/followers","following_url":"https://api.github.com/users/szetszwo/following{/other_user}","gists_url":"https://api.github.com/users/szetszwo/gists{/gist_id}","starred_url":"https://api.github.com/users/szetszwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szetszwo/subscriptions","organizations_url":"https://api.github.com/users/szetszwo/orgs","repos_url":"https://api.github.com/users/szetszwo/repos","events_url":"https://api.github.com/users/szetszwo/events{/privacy}","received_events_url":"https://api.github.com/users/szetszwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T19:49:45Z","updated_at":"2020-08-26T19:49:45Z","author_association":"CONTRIBUTOR","body":"I have briefly checked the code change.  Let's discuss the design in the JIRA.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681088525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681168526","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-681168526","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":681168526,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTE2ODUyNg==","user":{"login":"hanishakoneru","id":10237377,"node_id":"MDQ6VXNlcjEwMjM3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/10237377?v=4","gravatar_id":"","url":"https://api.github.com/users/hanishakoneru","html_url":"https://github.com/hanishakoneru","followers_url":"https://api.github.com/users/hanishakoneru/followers","following_url":"https://api.github.com/users/hanishakoneru/following{/other_user}","gists_url":"https://api.github.com/users/hanishakoneru/gists{/gist_id}","starred_url":"https://api.github.com/users/hanishakoneru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanishakoneru/subscriptions","organizations_url":"https://api.github.com/users/hanishakoneru/orgs","repos_url":"https://api.github.com/users/hanishakoneru/repos","events_url":"https://api.github.com/users/hanishakoneru/events{/privacy}","received_events_url":"https://api.github.com/users/hanishakoneru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T23:06:26Z","updated_at":"2020-08-26T23:06:26Z","author_association":"CONTRIBUTOR","body":">   I think we can avoid directory scan during purge with this precondition.\r\n\r\nAgreed. Its best if directory scan can be avoided.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681168526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681419059","html_url":"https://github.com/apache/ratis/pull/182#issuecomment-681419059","issue_url":"https://api.github.com/repos/apache/ratis/issues/182","id":681419059,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTQxOTA1OQ==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T04:40:18Z","updated_at":"2020-08-27T05:30:53Z","author_association":"CONTRIBUTOR","body":"@szetszwo Thanks for review. I have updated the PR.\r\n\r\n> Please also add a test for the timeout case.\r\n\r\nI add test at: https://github.com/apache/incubator-ratis/blob/9bc000a89e2b03f56ca46d45e1776a40e1abc49f/ratis-server/src/test/java/org/apache/ratis/server/impl/GroupManagementBaseTest.java#L127","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681419059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681659998","html_url":"https://github.com/apache/ratis/pull/184#issuecomment-681659998","issue_url":"https://api.github.com/repos/apache/ratis/issues/184","id":681659998,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTY1OTk5OA==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T07:09:44Z","updated_at":"2020-08-27T07:09:44Z","author_association":"CONTRIBUTOR","body":"@szetszwo  Could you help review this patch ? Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/681659998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/682210650","html_url":"https://github.com/apache/ratis/pull/183#issuecomment-682210650","issue_url":"https://api.github.com/repos/apache/ratis/issues/183","id":682210650,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjIxMDY1MA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T21:54:52Z","updated_at":"2020-08-27T21:54:52Z","author_association":"CONTRIBUTOR","body":"Per the discussion in JIRA, this work will break into several JIRA so will close this draft now.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/682210650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/682353467","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-682353467","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":682353467,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjM1MzQ2Nw==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T06:31:26Z","updated_at":"2020-08-28T06:31:26Z","author_association":"CONTRIBUTOR","body":"@hanishakoneru Thanks for review! I have added a commit which fixes the logic for loading log segments.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/682353467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/683131449","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-683131449","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":683131449,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzEzMTQ0OQ==","user":{"login":"hanishakoneru","id":10237377,"node_id":"MDQ6VXNlcjEwMjM3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/10237377?v=4","gravatar_id":"","url":"https://api.github.com/users/hanishakoneru","html_url":"https://github.com/hanishakoneru","followers_url":"https://api.github.com/users/hanishakoneru/followers","following_url":"https://api.github.com/users/hanishakoneru/following{/other_user}","gists_url":"https://api.github.com/users/hanishakoneru/gists{/gist_id}","starred_url":"https://api.github.com/users/hanishakoneru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanishakoneru/subscriptions","organizations_url":"https://api.github.com/users/hanishakoneru/orgs","repos_url":"https://api.github.com/users/hanishakoneru/repos","events_url":"https://api.github.com/users/hanishakoneru/events{/privacy}","received_events_url":"https://api.github.com/users/hanishakoneru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T20:24:12Z","updated_at":"2020-08-28T20:24:12Z","author_association":"CONTRIBUTOR","body":"Thanks @lokeshj1703.\r\nLGTM. +1 pending CI.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/683131449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/683755235","html_url":"https://github.com/apache/ratis/pull/187#issuecomment-683755235","issue_url":"https://api.github.com/repos/apache/ratis/issues/187","id":683755235,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mzc1NTIzNQ==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T12:44:51Z","updated_at":"2020-08-31T12:44:51Z","author_association":"CONTRIBUTOR","body":"@szetszwo Could you help review this patch ? Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/683755235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684092035","html_url":"https://github.com/apache/ratis/pull/188#issuecomment-684092035","issue_url":"https://api.github.com/repos/apache/ratis/issues/188","id":684092035,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDA5MjAzNQ==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T23:18:18Z","updated_at":"2020-08-31T23:18:18Z","author_association":"CONTRIBUTOR","body":"@szetszwo \r\n\r\ncan you take a look and give some suggestions?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684092035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684092182","html_url":"https://github.com/apache/ratis/pull/188#issuecomment-684092182","issue_url":"https://api.github.com/repos/apache/ratis/issues/188","id":684092182,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDA5MjE4Mg==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T23:18:45Z","updated_at":"2020-08-31T23:18:52Z","author_association":"CONTRIBUTOR","body":"Also @runzhiwang would you mind giving some suggestions?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684092182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684105687","html_url":"https://github.com/apache/ratis/pull/188#issuecomment-684105687","issue_url":"https://api.github.com/repos/apache/ratis/issues/188","id":684105687,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDEwNTY4Nw==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T23:46:05Z","updated_at":"2020-08-31T23:46:05Z","author_association":"CONTRIBUTOR","body":"@amaliujia Thanks for you work.  `follower.pause`  do you mean this pause method should be called by leader ?  When leader should do this ?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684105687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684112568","html_url":"https://github.com/apache/ratis/pull/188#issuecomment-684112568","issue_url":"https://api.github.com/repos/apache/ratis/issues/188","id":684112568,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDExMjU2OA==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T00:08:41Z","updated_at":"2020-09-01T03:45:34Z","author_association":"CONTRIBUTOR","body":"@runzhiwang `PAUSING` and `PAUSED` states are in the LifeCycle so technically speaking, any role (leader, follower, candidate) who can be in a `RUNNING` state can be paused.\r\n\r\nHowever, the current known usage is to pause a lagging follower and install a snapshot to help the follower catch up (e.g. lagging OM in Ozone HA mode or lagging followers on Ozone DataNode). \r\n\r\nThat's why I left a comment say `pause()` might only matter for a follower now. \r\n\r\nRegarding who will call the `pause()`, it is not decided yet and I will have a design for it (relevant context: https://issues.apache.org/jira/browse/RATIS-624?focusedCommentId=17185513&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17185513)","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684112568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684125141","html_url":"https://github.com/apache/ratis/pull/188#issuecomment-684125141","issue_url":"https://api.github.com/repos/apache/ratis/issues/188","id":684125141,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDEyNTE0MQ==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T00:49:43Z","updated_at":"2020-09-01T00:49:43Z","author_association":"CONTRIBUTOR","body":"> In Ozone, once an OM realizes that it is lagging behind, it would call this RaftServer#pause and then install the snapshot. It should not need a client to tell it to pause the Ratis server. Install snapshot in OM happens automatically when required.\r\n\r\n@amaliujia I copied this from https://issues.apache.org/jira/browse/RATIS-624.  If I'm wrong, please correct me.\r\nAs this comment said, the follower should detect the lag behind by itself, and then the follower call `pause` by itself,  rather than leader call `follower.pause`. ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684125141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684161345","html_url":"https://github.com/apache/ratis/pull/188#issuecomment-684161345","issue_url":"https://api.github.com/repos/apache/ratis/issues/188","id":684161345,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE2MTM0NQ==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T02:48:36Z","updated_at":"2020-09-01T02:48:36Z","author_association":"CONTRIBUTOR","body":"@runzhiwang \r\n\r\nI believe when and who to call `pause` is still not decided. I hope I can have a concrete design after 1) have pause()/resume() implemented 2) have an implementation for lag detection.\r\n\r\nHowever, at least I think `pause->take/install snapshot->resume` should be managed by either leader or application, but not follower.\r\n","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684161345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684163270","html_url":"https://github.com/apache/ratis/pull/188#issuecomment-684163270","issue_url":"https://api.github.com/repos/apache/ratis/issues/188","id":684163270,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE2MzI3MA==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T02:54:34Z","updated_at":"2020-09-01T02:54:34Z","author_association":"CONTRIBUTOR","body":"@hanishakoneru cc.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/684163270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/685008260","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-685008260","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":685008260,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTAwODI2MA==","user":{"login":"hanishakoneru","id":10237377,"node_id":"MDQ6VXNlcjEwMjM3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/10237377?v=4","gravatar_id":"","url":"https://api.github.com/users/hanishakoneru","html_url":"https://github.com/hanishakoneru","followers_url":"https://api.github.com/users/hanishakoneru/followers","following_url":"https://api.github.com/users/hanishakoneru/following{/other_user}","gists_url":"https://api.github.com/users/hanishakoneru/gists{/gist_id}","starred_url":"https://api.github.com/users/hanishakoneru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanishakoneru/subscriptions","organizations_url":"https://api.github.com/users/hanishakoneru/orgs","repos_url":"https://api.github.com/users/hanishakoneru/repos","events_url":"https://api.github.com/users/hanishakoneru/events{/privacy}","received_events_url":"https://api.github.com/users/hanishakoneru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T17:12:25Z","updated_at":"2020-09-01T17:12:25Z","author_association":"CONTRIBUTOR","body":"@lokeshj1703 are the CI failures related?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/685008260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/685991632","html_url":"https://github.com/apache/ratis/pull/185#issuecomment-685991632","issue_url":"https://api.github.com/repos/apache/ratis/issues/185","id":685991632,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTk5MTYzMg==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T20:53:01Z","updated_at":"2020-09-02T22:31:36Z","author_association":"CONTRIBUTOR","body":"I am wondering whether this change is related to https://issues.apache.org/jira/browse/RATIS-624.\r\n\r\nIn RATIS-624, what I am trying to do is \r\n1) add pause()/resume() to RatisServerImpl \r\n2) design something to detect whether a follower is lagging too far.\r\n3) design a way to allow pause the lagging follower, install a snapshot to make the follower catch up, then resume the follower.\r\n\r\n\r\nThis PR seems to be relevant to 2) by comparing commitIndex lags and allow follower initialize a faster heartbeat?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/685991632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/686394507","html_url":"https://github.com/apache/ratis/pull/185#issuecomment-686394507","issue_url":"https://api.github.com/repos/apache/ratis/issues/185","id":686394507,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjM5NDUwNw==","user":{"login":"elek","id":170549,"node_id":"MDQ6VXNlcjE3MDU0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/170549?v=4","gravatar_id":"","url":"https://api.github.com/users/elek","html_url":"https://github.com/elek","followers_url":"https://api.github.com/users/elek/followers","following_url":"https://api.github.com/users/elek/following{/other_user}","gists_url":"https://api.github.com/users/elek/gists{/gist_id}","starred_url":"https://api.github.com/users/elek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elek/subscriptions","organizations_url":"https://api.github.com/users/elek/orgs","repos_url":"https://api.github.com/users/elek/repos","events_url":"https://api.github.com/users/elek/events{/privacy}","received_events_url":"https://api.github.com/users/elek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T10:18:20Z","updated_at":"2020-09-03T10:18:20Z","author_association":"MEMBER","body":"> This PR seems to be relevant to 2) by comparing commitIndex lags and allow follower initialize a faster heartbeat?\r\n\r\nCan be relevant, but based on my measurement we didn't have a real lag. Usually the follower didn't inform the leader about the last comitted index. The datanode was paused for 2.5 seconds, but the lag between the follower and leader was not significant (1-3 indexes) ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/686394507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688090215","html_url":"https://github.com/apache/ratis/pull/189#issuecomment-688090215","issue_url":"https://api.github.com/repos/apache/ratis/issues/189","id":688090215,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODA5MDIxNQ==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T07:13:13Z","updated_at":"2020-09-07T07:13:13Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688090215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688220271","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-688220271","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":688220271,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODIyMDI3MQ==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T10:06:52Z","updated_at":"2020-09-07T10:06:52Z","author_association":"CONTRIBUTOR","body":"@hanishakoneru The failure does not seem to be related. Retriggered CI.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688220271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688259942","html_url":"https://github.com/apache/ratis/pull/189#issuecomment-688259942","issue_url":"https://api.github.com/repos/apache/ratis/issues/189","id":688259942,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODI1OTk0Mg==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T11:20:29Z","updated_at":"2020-09-07T11:20:29Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688259942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688265225","html_url":"https://github.com/apache/ratis/pull/189#issuecomment-688265225","issue_url":"https://api.github.com/repos/apache/ratis/issues/189","id":688265225,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODI2NTIyNQ==","user":{"login":"runzhiwang","id":51938049,"node_id":"MDQ6VXNlcjUxOTM4MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/51938049?v=4","gravatar_id":"","url":"https://api.github.com/users/runzhiwang","html_url":"https://github.com/runzhiwang","followers_url":"https://api.github.com/users/runzhiwang/followers","following_url":"https://api.github.com/users/runzhiwang/following{/other_user}","gists_url":"https://api.github.com/users/runzhiwang/gists{/gist_id}","starred_url":"https://api.github.com/users/runzhiwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runzhiwang/subscriptions","organizations_url":"https://api.github.com/users/runzhiwang/orgs","repos_url":"https://api.github.com/users/runzhiwang/repos","events_url":"https://api.github.com/users/runzhiwang/events{/privacy}","received_events_url":"https://api.github.com/users/runzhiwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T11:30:44Z","updated_at":"2020-09-07T11:30:44Z","author_association":"CONTRIBUTOR","body":"@elek  Thanks the patch, I have merged it. ","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688265225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688457676","html_url":"https://github.com/apache/ratis/pull/188#issuecomment-688457676","issue_url":"https://api.github.com/repos/apache/ratis/issues/188","id":688457676,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODQ1NzY3Ng==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T17:55:41Z","updated_at":"2020-09-07T17:55:41Z","author_association":"CONTRIBUTOR","body":"Friendly ping to raise attention on this PR.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688457676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688458061","html_url":"https://github.com/apache/ratis/pull/178#issuecomment-688458061","issue_url":"https://api.github.com/repos/apache/ratis/issues/178","id":688458061,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODQ1ODA2MQ==","user":{"login":"amaliujia","id":1938382,"node_id":"MDQ6VXNlcjE5MzgzODI=","avatar_url":"https://avatars.githubusercontent.com/u/1938382?v=4","gravatar_id":"","url":"https://api.github.com/users/amaliujia","html_url":"https://github.com/amaliujia","followers_url":"https://api.github.com/users/amaliujia/followers","following_url":"https://api.github.com/users/amaliujia/following{/other_user}","gists_url":"https://api.github.com/users/amaliujia/gists{/gist_id}","starred_url":"https://api.github.com/users/amaliujia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaliujia/subscriptions","organizations_url":"https://api.github.com/users/amaliujia/orgs","repos_url":"https://api.github.com/users/amaliujia/repos","events_url":"https://api.github.com/users/amaliujia/events{/privacy}","received_events_url":"https://api.github.com/users/amaliujia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T17:57:05Z","updated_at":"2020-09-07T17:57:05Z","author_association":"CONTRIBUTOR","body":"@runzhiwang \r\n\r\nDo you think whether this patch is useful for Ratis?","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688458061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688660817","html_url":"https://github.com/apache/ratis/pull/170#issuecomment-688660817","issue_url":"https://api.github.com/repos/apache/ratis/issues/170","id":688660817,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODY2MDgxNw==","user":{"login":"lokeshj1703","id":9255455,"node_id":"MDQ6VXNlcjkyNTU0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9255455?v=4","gravatar_id":"","url":"https://api.github.com/users/lokeshj1703","html_url":"https://github.com/lokeshj1703","followers_url":"https://api.github.com/users/lokeshj1703/followers","following_url":"https://api.github.com/users/lokeshj1703/following{/other_user}","gists_url":"https://api.github.com/users/lokeshj1703/gists{/gist_id}","starred_url":"https://api.github.com/users/lokeshj1703/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lokeshj1703/subscriptions","organizations_url":"https://api.github.com/users/lokeshj1703/orgs","repos_url":"https://api.github.com/users/lokeshj1703/repos","events_url":"https://api.github.com/users/lokeshj1703/events{/privacy}","received_events_url":"https://api.github.com/users/lokeshj1703/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T06:58:33Z","updated_at":"2020-09-08T06:58:33Z","author_association":"CONTRIBUTOR","body":"@hanishakoneru Thanks for review! I have committed the PR to master branch.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688660817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688716855","html_url":"https://github.com/apache/ratis/pull/190#issuecomment-688716855","issue_url":"https://api.github.com/repos/apache/ratis/issues/190","id":688716855,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODcxNjg1NQ==","user":{"login":"maobaolong","id":17329931,"node_id":"MDQ6VXNlcjE3MzI5OTMx","avatar_url":"https://avatars.githubusercontent.com/u/17329931?v=4","gravatar_id":"","url":"https://api.github.com/users/maobaolong","html_url":"https://github.com/maobaolong","followers_url":"https://api.github.com/users/maobaolong/followers","following_url":"https://api.github.com/users/maobaolong/following{/other_user}","gists_url":"https://api.github.com/users/maobaolong/gists{/gist_id}","starred_url":"https://api.github.com/users/maobaolong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maobaolong/subscriptions","organizations_url":"https://api.github.com/users/maobaolong/orgs","repos_url":"https://api.github.com/users/maobaolong/repos","events_url":"https://api.github.com/users/maobaolong/events{/privacy}","received_events_url":"https://api.github.com/users/maobaolong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T08:41:24Z","updated_at":"2020-09-08T08:41:24Z","author_association":"MEMBER","body":"@runzhiwang Please take a look at this PR. no try-resource-block cannot ensure the `afos` will close when exception happen.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688716855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688726895","html_url":"https://github.com/apache/ratis/pull/191#issuecomment-688726895","issue_url":"https://api.github.com/repos/apache/ratis/issues/191","id":688726895,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODcyNjg5NQ==","user":{"login":"maobaolong","id":17329931,"node_id":"MDQ6VXNlcjE3MzI5OTMx","avatar_url":"https://avatars.githubusercontent.com/u/17329931?v=4","gravatar_id":"","url":"https://api.github.com/users/maobaolong","html_url":"https://github.com/maobaolong","followers_url":"https://api.github.com/users/maobaolong/followers","following_url":"https://api.github.com/users/maobaolong/following{/other_user}","gists_url":"https://api.github.com/users/maobaolong/gists{/gist_id}","starred_url":"https://api.github.com/users/maobaolong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maobaolong/subscriptions","organizations_url":"https://api.github.com/users/maobaolong/orgs","repos_url":"https://api.github.com/users/maobaolong/repos","events_url":"https://api.github.com/users/maobaolong/events{/privacy}","received_events_url":"https://api.github.com/users/maobaolong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T08:58:29Z","updated_at":"2020-09-08T08:58:29Z","author_association":"MEMBER","body":"@runzhiwang Please take a look at this PR, I think the related test have a wrong assertion.","reactions":{"url":"https://api.github.com/repos/apache/ratis/issues/comments/688726895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]