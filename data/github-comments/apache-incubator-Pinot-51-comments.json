[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/543421070","html_url":"https://github.com/apache/pinot/issues/4719#issuecomment-543421070","issue_url":"https://api.github.com/repos/apache/pinot/issues/4719","id":543421070,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MzQyMTA3MA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-18T00:17:16Z","updated_at":"2019-10-18T00:17:16Z","author_association":"CONTRIBUTOR","body":"The work is tentatively split into 3 phases:\r\n\r\n1. POC: This includes experimentation, explore design approaches, understanding performance and functionality. This is currently in progress\r\n2. Finalize design\r\n3. Implementation","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/543421070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/543973817","html_url":"https://github.com/apache/pinot/pull/4722#issuecomment-543973817","issue_url":"https://api.github.com/repos/apache/pinot/issues/4722","id":543973817,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Mzk3MzgxNw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-18T22:07:08Z","updated_at":"2019-10-18T22:07:08Z","author_association":"CONTRIBUTOR","body":"Why do you need the class to be the same? As long as you can cast it to `SegmentMetadataImpl` (a subclass of `SegmentMetadataImpl`), you should be able to call all its API.\r\n\r\nWe should not allow setters for SegmentMetadata.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/543973817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544020495","html_url":"https://github.com/apache/pinot/pull/4722#issuecomment-544020495","issue_url":"https://api.github.com/repos/apache/pinot/issues/4722","id":544020495,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDAyMDQ5NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-19T00:20:59Z","updated_at":"2019-10-19T00:20:59Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4722?src=pr&el=h1) Report\n> Merging [#4722](https://codecov.io/gh/apache/incubator-pinot/pull/4722?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3579aae5a2cfb6086009cdc3c1b7372351ab8fe3?src=pr&el=desc) will **decrease** coverage by `19.61%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4722/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4722?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4722       +/-   ##\n=============================================\n- Coverage     57.92%   38.31%   -19.62%     \n=============================================\n  Files          1213     1213               \n  Lines         65135    65143        +8     \n  Branches       9488     9488               \n=============================================\n- Hits          37732    24957    -12775     \n- Misses        24544    37906    +13362     \n+ Partials       2859     2280      -579\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4722?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../core/indexsegment/mutable/MutableSegmentImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pbmRleHNlZ21lbnQvbXV0YWJsZS9NdXRhYmxlU2VnbWVudEltcGwuamF2YQ==) | `69.2% <100%> (-13.34%)` | `0 <0> (ø)` | |\n| [.../pinot/core/segment/index/SegmentMetadataImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L1NlZ21lbnRNZXRhZGF0YUltcGwuamF2YQ==) | `64.03% <100%> (-16.79%)` | `0 <0> (ø)` | |\n| [.../org/apache/pinot/common/http/MultiGetRequest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vaHR0cC9NdWx0aUdldFJlcXVlc3QuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...n/function/PercentileEstMVAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlRXN0TVZBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/common/restlet/resources/TablesList.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvVGFibGVzTGlzdC5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ransformer/timeunit/CustomTimeUnitTransformer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vdHJhbnNmb3JtZXIvdGltZXVuaXQvQ3VzdG9tVGltZVVuaXRUcmFuc2Zvcm1lci5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/pql/parsers/pql2/ast/OptionsAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9PcHRpb25zQXN0Tm9kZS5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ot/core/query/scheduler/TableBasedGroupMapper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvVGFibGVCYXNlZEdyb3VwTWFwcGVyLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...t/core/segment/index/readers/OnHeapDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvT25IZWFwRGljdGlvbmFyeS5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...mmon/config/instance/InstanceAssignmentConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL2luc3RhbmNlL0luc3RhbmNlQXNzaWdubWVudENvbmZpZy5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| ... and [591 more](https://codecov.io/gh/apache/incubator-pinot/pull/4722/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4722?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4722?src=pr&el=footer). Last update [3579aae...406a2db](https://codecov.io/gh/apache/incubator-pinot/pull/4722?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544020495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544080202","html_url":"https://github.com/apache/pinot/pull/4722#issuecomment-544080202","issue_url":"https://api.github.com/repos/apache/pinot/issues/4722","id":544080202,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDA4MDIwMg==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-19T03:43:06Z","updated_at":"2019-10-19T03:43:06Z","author_association":"CONTRIBUTOR","body":"> Why do you need the class to be the same? As long as you can cast it to `SegmentMetadataImpl` (a subclass of `SegmentMetadataImpl`), you should be able to call all its API.\r\n> \r\n> We should not allow setters for SegmentMetadata.\r\n\r\nIt seems ok casting to `SegmentMetadataImpl` where I'm using it - just looks weird SegmentMetadata being a MutableSegment class, and need to cast it wherever it's used to avoid potential issues.\r\n\r\nIs it required to have no setters for SegmentMetadata? Overriding the getter methods kind of shows there is such need for mutable segments.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544080202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544220289","html_url":"https://github.com/apache/pinot/pull/4722#issuecomment-544220289","issue_url":"https://api.github.com/repos/apache/pinot/issues/4722","id":544220289,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDIyMDI4OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-20T04:44:04Z","updated_at":"2019-10-20T04:44:04Z","author_association":"CONTRIBUTOR","body":"> > Why do you need the class to be the same? As long as you can cast it to `SegmentMetadataImpl` (a subclass of `SegmentMetadataImpl`), you should be able to call all its API.\r\n> > We should not allow setters for SegmentMetadata.\r\n> \r\n> It seems ok casting to `SegmentMetadataImpl` where I'm using it - just looks weird SegmentMetadata being a MutableSegment class, and need to cast it wherever it's used to avoid potential issues.\r\n> \r\n> Is it required to have no setters for SegmentMetadata? Overriding the getter methods kind of shows there is such need for mutable segments.\r\n\r\nThe `SegmentMetadata` interface should not have any setters (segment metadata represents the state of the segment, and allow user to set it seems weird to me).\r\nI agree it looks weird to have `SegmentMetadataImpl` inside MutableSegment. The reason why we override `SegmentMetadataImpl` instead of implementing `SegmentMetadata` (which is cleaner) for MutableSegment is because some historical package issue, where `SegmentMetadata` interface cannot include `ColumnMetadata`, and this is also the reason why we have to cast the `SegmentMetadata` to `SegmentMetadataImpl` in order to read `ColumnMetadata`.\r\nLong term wise, we want to re-organize the package so that `SegmentMetadata` can include `ColumnMetadata`, and MutableSegment should implement its own segment metadata.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544220289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544529620","html_url":"https://github.com/apache/pinot/pull/4726#issuecomment-544529620","issue_url":"https://api.github.com/repos/apache/pinot/issues/4726","id":544529620,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDUyOTYyMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T14:03:37Z","updated_at":"2019-10-22T03:21:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4726?src=pr&el=h1) Report\n> Merging [#4726](https://codecov.io/gh/apache/incubator-pinot/pull/4726?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/6bc6e55f5f9fc991110e5f84efd755d9d0033418?src=pr&el=desc) will **increase** coverage by `26.56%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4726/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4726?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4726       +/-   ##\n=============================================\n+ Coverage      38.2%   64.77%   +26.56%     \n- Complexity        0        4        +4     \n=============================================\n  Files          1203     1051      -152     \n  Lines         64654    56135     -8519     \n  Branches       9401     8328     -1073     \n=============================================\n+ Hits          24704    36363    +11659     \n+ Misses        37712    17061    -20651     \n- Partials       2238     2711      +473\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4726?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `54.87% <0%> (-10.98%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `45.12% <0%> (-6.1%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `60.21% <0%> (-3.23%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/client/DynamicBrokerSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvRHluYW1pY0Jyb2tlclNlbGVjdG9yLmphdmE=) | `69.69% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `58.73% <0%> (-1.59%)` | `0% <0%> (ø)` | |\n| [.../broker/routing/HelixExternalViewBasedRouting.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUm91dGluZy5qYXZh) | `90.03% <0%> (ø)` | `0% <0%> (ø)` | :arrow_down: |\n| [...n/java/org/apache/pinot/tools/SegmentDumpTool.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL1NlZ21lbnREdW1wVG9vbC5qYXZh) | | | |\n| [...segment/converter/PinotSegmentToJsonConverter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL3NlZ21lbnQvY29udmVydGVyL1Bpbm90U2VnbWVudFRvSnNvbkNvbnZlcnRlci5qYXZh) | | | |\n| [...ache/pinot/hadoop/job/SegmentPreprocessingJob.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3Avam9iL1NlZ21lbnRQcmVwcm9jZXNzaW5nSm9iLmphdmE=) | | | |\n| [...ot/tools/query/comparison/SegmentInfoProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL3F1ZXJ5L2NvbXBhcmlzb24vU2VnbWVudEluZm9Qcm92aWRlci5qYXZh) | | | |\n| ... and [719 more](https://codecov.io/gh/apache/incubator-pinot/pull/4726/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4726?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4726?src=pr&el=footer). Last update [6bc6e55...207e3af](https://codecov.io/gh/apache/incubator-pinot/pull/4726?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544529620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544613956","html_url":"https://github.com/apache/pinot/pull/4726#issuecomment-544613956","issue_url":"https://api.github.com/repos/apache/pinot/issues/4726","id":544613956,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDYxMzk1Ng==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T17:10:53Z","updated_at":"2019-10-21T17:10:53Z","author_association":"CONTRIBUTOR","body":"overall lgtm, some minor comments","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544613956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544652677","html_url":"https://github.com/apache/pinot/pull/4725#issuecomment-544652677","issue_url":"https://api.github.com/repos/apache/pinot/issues/4725","id":544652677,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDY1MjY3Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T18:45:21Z","updated_at":"2019-10-29T20:21:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4725?src=pr&el=h1) Report\n> Merging [#4725](https://codecov.io/gh/apache/incubator-pinot/pull/4725?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/716a3b256fec36dee9f2290ea393f483eed9637a?src=pr&el=desc) will **decrease** coverage by `7.89%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4725/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4725?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master    #4725     +/-   ##\n===========================================\n- Coverage     57.79%   49.89%   -7.9%     \n  Complexity        4        4             \n===========================================\n  Files          1207     1207             \n  Lines         64744    64744             \n  Branches       9413     9413             \n===========================================\n- Hits          37419    32306   -5113     \n- Misses        24493    29891   +5398     \n+ Partials       2832     2547    -285\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4725?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/pinot/sql/parsers/CalciteSqlCompiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsQ29tcGlsZXIuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/realtime/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vTWVzc2FnZUJhdGNoLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/hadoop/io/CombineAvroKeyInputFormat.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3AvaW8vQ29tYmluZUF2cm9LZXlJbnB1dEZvcm1hdC5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...starter/helix/DefaultHelixStarterServerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9EZWZhdWx0SGVsaXhTdGFydGVyU2VydmVyQ29uZmlnLmphdmE=) | `0% <0%> (-96.16%)` | `0% <0%> (ø)` | |\n| [...re/data/manager/config/TableDataManagerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvY29uZmlnL1RhYmxlRGF0YU1hbmFnZXJDb25maWcuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...converter/stats/RealtimeSegmentStatsContainer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9jb252ZXJ0ZXIvc3RhdHMvUmVhbHRpbWVTZWdtZW50U3RhdHNDb250YWluZXIuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...ot/hadoop/job/partitioners/GenericPartitioner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3Avam9iL3BhcnRpdGlvbmVycy9HZW5lcmljUGFydGl0aW9uZXIuamF2YQ==) | `0% <0%> (-93.34%)` | `0% <0%> (ø)` | |\n| [...a/org/apache/pinot/common/metrics/ServerTimer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9TZXJ2ZXJUaW1lci5qYXZh) | `0% <0%> (-88.89%)` | `0% <0%> (ø)` | |\n| [...ot/tools/query/comparison/SegmentInfoProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL3F1ZXJ5L2NvbXBhcmlzb24vU2VnbWVudEluZm9Qcm92aWRlci5qYXZh) | `0% <0%> (-88.68%)` | `0% <0%> (ø)` | |\n| [...esthandler/ConnectionPoolBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQ29ubmVjdGlvblBvb2xCcm9rZXJSZXF1ZXN0SGFuZGxlci5qYXZh) | `0% <0%> (-88.2%)` | `0% <0%> (ø)` | |\n| ... and [281 more](https://codecov.io/gh/apache/incubator-pinot/pull/4725/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4725?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4725?src=pr&el=footer). Last update [716a3b2...e91f365](https://codecov.io/gh/apache/incubator-pinot/pull/4725?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544652677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544726898","html_url":"https://github.com/apache/pinot/pull/4727#issuecomment-544726898","issue_url":"https://api.github.com/repos/apache/pinot/issues/4727","id":544726898,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDcyNjg5OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T22:02:00Z","updated_at":"2019-10-21T22:02:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4727?src=pr&el=h1) Report\n> Merging [#4727](https://codecov.io/gh/apache/incubator-pinot/pull/4727?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/a6f8f1e3e870aa3d242a67f92ffb28a7f6142770?src=pr&el=desc) will **increase** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4727/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4727?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4727      +/-   ##\n============================================\n+ Coverage     57.59%   57.61%   +0.01%     \n  Complexity        4        4              \n============================================\n  Files          1204     1204              \n  Lines         64728    64728              \n  Branches       9414     9414              \n============================================\n+ Hits          37281    37291      +10     \n+ Misses        24610    24597      -13     \n- Partials       2837     2840       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4727?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.05% <0%> (-39.75%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `41.09% <0%> (-34.25%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `53.76% <0%> (-13.98%)` | `0% <0%> (ø)` | |\n| [...ache/pinot/common/utils/TarGzCompressionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVGFyR3pDb21wcmVzc2lvblV0aWxzLmphdmE=) | `68.23% <0%> (-12.95%)` | `0% <0%> (ø)` | |\n| [...n/java/org/apache/pinot/core/transport/Server.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvU2VydmVyLmphdmE=) | `59.25% <0%> (-7.41%)` | `0% <0%> (ø)` | |\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `84.09% <0%> (-4.55%)` | `0% <0%> (ø)` | |\n| [...nsport/netty/PooledNettyClientResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvUG9vbGVkTmV0dHlDbGllbnRSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `85.41% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/client/DynamicBrokerSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvRHluYW1pY0Jyb2tlclNlbGVjdG9yLmphdmE=) | `69.69% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [.../broker/routing/HelixExternalViewBasedRouting.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUm91dGluZy5qYXZh) | `88.47% <0%> (-2.5%)` | `0% <0%> (ø)` | |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvQ29ubmVjdGlvbi5qYXZh) | `47.61% <0%> (-2.39%)` | `0% <0%> (ø)` | |\n| ... and [23 more](https://codecov.io/gh/apache/incubator-pinot/pull/4727/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4727?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4727?src=pr&el=footer). Last update [a6f8f1e...5b50e88](https://codecov.io/gh/apache/incubator-pinot/pull/4727?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544726898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544729997","html_url":"https://github.com/apache/pinot/pull/4727#issuecomment-544729997","issue_url":"https://api.github.com/repos/apache/pinot/issues/4727","id":544729997,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDcyOTk5Nw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T22:12:26Z","updated_at":"2019-10-21T22:12:26Z","author_association":"CONTRIBUTOR","body":"Checked one test that encounters quite some exceptions (FlakyConsumerRealtimeClusterIntegrationTests) and the logs increase by about 3% since all exceptions are logged.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544729997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544742650","html_url":"https://github.com/apache/pinot/pull/4728#issuecomment-544742650","issue_url":"https://api.github.com/repos/apache/pinot/issues/4728","id":544742650,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc0MjY1MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T22:57:29Z","updated_at":"2019-10-26T00:04:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4728?src=pr&el=h1) Report\n> Merging [#4728](https://codecov.io/gh/apache/incubator-pinot/pull/4728?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/a6f8f1e3e870aa3d242a67f92ffb28a7f6142770?src=pr&el=desc) will **increase** coverage by `0.06%`.\n> The diff coverage is `92.91%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4728/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4728?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4728      +/-   ##\n============================================\n+ Coverage     57.59%   57.66%   +0.06%     \n  Complexity        4        4              \n============================================\n  Files          1204     1204              \n  Lines         64728    64732       +4     \n  Branches       9414     9403      -11     \n============================================\n+ Hits          37281    37328      +47     \n+ Misses        24610    24562      -48     \n- Partials       2837     2842       +5\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4728?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...rator/query/AggregationGroupByOrderByOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9xdWVyeS9BZ2dyZWdhdGlvbkdyb3VwQnlPcmRlckJ5T3BlcmF0b3IuamF2YQ==) | `92.5% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...core/operator/blocks/IntermediateResultsBlock.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9ibG9ja3MvSW50ZXJtZWRpYXRlUmVzdWx0c0Jsb2NrLmphdmE=) | `85.36% <0%> (-1.06%)` | `0 <0> (ø)` | |\n| [...ion/groupby/AggregationGroupByTrimmingService.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L0FnZ3JlZ2F0aW9uR3JvdXBCeVRyaW1taW5nU2VydmljZS5qYXZh) | `94.44% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...e/pinot/core/query/reduce/BrokerReduceService.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQnJva2VyUmVkdWNlU2VydmljZS5qYXZh) | `83.41% <50%> (-0.45%)` | `0 <0> (ø)` | |\n| [.../java/org/apache/pinot/core/util/GroupByUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL0dyb3VwQnlVdGlscy5qYXZh) | `46.66% <50%> (+10.3%)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/core/operator/CombineGroupByOrderByOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9Db21iaW5lR3JvdXBCeU9yZGVyQnlPcGVyYXRvci5qYXZh) | `72.72% <75%> (+1.72%)` | `0 <0> (ø)` | :arrow_down: |\n| [...org/apache/pinot/core/data/table/IndexedTable.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL0luZGV4ZWRUYWJsZS5qYXZh) | `90.47% <88.88%> (-9.53%)` | `0 <0> (ø)` | |\n| [.../pinot/core/data/table/ConcurrentIndexedTable.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL0NvbmN1cnJlbnRJbmRleGVkVGFibGUuamF2YQ==) | `89.39% <91.66%> (-6.17%)` | `0 <0> (ø)` | |\n| [...ache/pinot/core/data/table/SimpleIndexedTable.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL1NpbXBsZUluZGV4ZWRUYWJsZS5qYXZh) | `94.73% <92.85%> (-1.82%)` | `0 <0> (ø)` | |\n| [...che/pinot/core/data/table/IndexedTableResizer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL0luZGV4ZWRUYWJsZVJlc2l6ZXIuamF2YQ==) | `98.44% <98.44%> (ø)` | `0 <0> (?)` | |\n| ... and [37 more](https://codecov.io/gh/apache/incubator-pinot/pull/4728/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4728?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4728?src=pr&el=footer). Last update [a6f8f1e...90a1272](https://codecov.io/gh/apache/incubator-pinot/pull/4728?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544742650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544744330","html_url":"https://github.com/apache/pinot/pull/4729#issuecomment-544744330","issue_url":"https://api.github.com/repos/apache/pinot/issues/4729","id":544744330,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc0NDMzMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T23:04:13Z","updated_at":"2019-10-21T23:04:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4729?src=pr&el=h1) Report\n> Merging [#4729](https://codecov.io/gh/apache/incubator-pinot/pull/4729?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/860cb92c8a83a1dbbc4d7f857a40fb503db8e617?src=pr&el=desc) will **increase** coverage by `0.06%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4729/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4729?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4729      +/-   ##\n============================================\n+ Coverage     57.66%   57.72%   +0.06%     \n  Complexity        4        4              \n============================================\n  Files          1204     1204              \n  Lines         64728    64728              \n  Branches       9414     9414              \n============================================\n+ Hits          37323    37363      +40     \n+ Misses        24567    24517      -50     \n- Partials       2838     2848      +10\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4729?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `48.78% <0%> (-15.86%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `46.34% <0%> (-14.64%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-13.21%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `43.01% <0%> (-9.68%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `67.74% <0%> (-3.23%)` | `0% <0%> (ø)` | |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `76.41% <0%> (-3.08%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `58.73% <0%> (-1.59%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `69.51% <0%> (-1.22%)` | `0% <0%> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `66.29% <0%> (-1.13%)` | `0% <0%> (ø)` | |\n| ... and [15 more](https://codecov.io/gh/apache/incubator-pinot/pull/4729/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4729?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4729?src=pr&el=footer). Last update [860cb92...eec2c77](https://codecov.io/gh/apache/incubator-pinot/pull/4729?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544744330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544746606","html_url":"https://github.com/apache/pinot/pull/4730#issuecomment-544746606","issue_url":"https://api.github.com/repos/apache/pinot/issues/4730","id":544746606,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc0NjYwNg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T23:14:33Z","updated_at":"2019-10-21T23:14:33Z","author_association":"CONTRIBUTOR","body":"How is adding logs going to help with this?\r\nWhenever a test failed, we should analyze the stack trace instead of the the log inside the tests.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544746606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544751224","html_url":"https://github.com/apache/pinot/pull/4730#issuecomment-544751224","issue_url":"https://api.github.com/repos/apache/pinot/issues/4730","id":544751224,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc1MTIyNA==","user":{"login":"jenniferdai","id":5035129,"node_id":"MDQ6VXNlcjUwMzUxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/5035129?v=4","gravatar_id":"","url":"https://api.github.com/users/jenniferdai","html_url":"https://github.com/jenniferdai","followers_url":"https://api.github.com/users/jenniferdai/followers","following_url":"https://api.github.com/users/jenniferdai/following{/other_user}","gists_url":"https://api.github.com/users/jenniferdai/gists{/gist_id}","starred_url":"https://api.github.com/users/jenniferdai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenniferdai/subscriptions","organizations_url":"https://api.github.com/users/jenniferdai/orgs","repos_url":"https://api.github.com/users/jenniferdai/repos","events_url":"https://api.github.com/users/jenniferdai/events{/privacy}","received_events_url":"https://api.github.com/users/jenniferdai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T23:33:57Z","updated_at":"2019-10-21T23:33:57Z","author_association":"MEMBER","body":"spoke offline, will see if it is worth it to throw exception instead of log for zkstop","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544751224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544751518","html_url":"https://github.com/apache/pinot/pull/4730#issuecomment-544751518","issue_url":"https://api.github.com/repos/apache/pinot/issues/4730","id":544751518,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc1MTUxOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T23:35:24Z","updated_at":"2019-10-21T23:35:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4730?src=pr&el=h1) Report\n> Merging [#4730](https://codecov.io/gh/apache/incubator-pinot/pull/4730?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/860cb92c8a83a1dbbc4d7f857a40fb503db8e617?src=pr&el=desc) will **decrease** coverage by `0.12%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4730/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4730?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4730      +/-   ##\n============================================\n- Coverage     57.66%   57.53%   -0.13%     \n  Complexity        4        4              \n============================================\n  Files          1204     1204              \n  Lines         64728    64728              \n  Branches       9414     9414              \n============================================\n- Hits          37323    37239      -84     \n- Misses        24567    24662      +95     \n+ Partials       2838     2827      -11\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4730?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `37.8% <0%> (-23.18%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `48.78% <0%> (-15.86%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `46.03% <0%> (-14.29%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-13.21%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `63.25% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `64.51% <0%> (-6.46%)` | `0% <0%> (ø)` | |\n| [.../pinot/core/operator/docidsets/BitmapDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvQml0bWFwRG9jSWRTZXQuamF2YQ==) | `78.12% <0%> (-6.25%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `64.63% <0%> (-6.1%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `87.28% <0%> (-5.79%)` | `0% <0%> (ø)` | |\n| ... and [32 more](https://codecov.io/gh/apache/incubator-pinot/pull/4730/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4730?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4730?src=pr&el=footer). Last update [860cb92...af6e461](https://codecov.io/gh/apache/incubator-pinot/pull/4730?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544751518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544755390","html_url":"https://github.com/apache/pinot/issues/4731#issuecomment-544755390","issue_url":"https://api.github.com/repos/apache/pinot/issues/4731","id":544755390,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc1NTM5MA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T23:54:17Z","updated_at":"2019-10-21T23:54:17Z","author_association":"MEMBER","body":"One suggestion is to first refactor Pinot modules to something like this\r\nPinot-batch-reader (Implements RecordReader)\r\n- parquet\r\n- csv\r\n- json\r\n- avro\r\n- thrift\r\n\r\nPinot-stream-decoders (StreamMessageDecoder)\r\n- json\r\n- avro\r\n- protobuf\r\n- Thrift\r\n\r\nPinot-connectors (For real-time StreamConsumerFactory etc) (PinotFS for batch)\r\n- Kafka\r\n- Hdfs\r\n- S3\r\n- ADLS\r\n- GCS\r\n\r\nPinot-ingestion-job (no interface here) \r\n- Hadoop\r\n- Spark\r\n- Flink\r\n- Samza","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544755390/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544755602","html_url":"https://github.com/apache/pinot/pull/4722#issuecomment-544755602","issue_url":"https://api.github.com/repos/apache/pinot/issues/4722","id":544755602,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc1NTYwMg==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-21T23:55:12Z","updated_at":"2019-10-21T23:55:12Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang thanks for the input! Agree a more thorough refactor is more ideal. Since this is not a blocker for me, I will abandon this fix.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544755602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544770576","html_url":"https://github.com/apache/pinot/pull/4733#issuecomment-544770576","issue_url":"https://api.github.com/repos/apache/pinot/issues/4733","id":544770576,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc3MDU3Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T01:12:59Z","updated_at":"2019-10-22T01:13:13Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4733?src=pr&el=h1) Report\n> Merging [#4733](https://codecov.io/gh/apache/incubator-pinot/pull/4733?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/860cb92c8a83a1dbbc4d7f857a40fb503db8e617?src=pr&el=desc) will **increase** coverage by `0.01%`.\n> The diff coverage is `0%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4733/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4733?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4733      +/-   ##\n============================================\n+ Coverage     57.66%   57.67%   +0.01%     \n  Complexity        4        4              \n============================================\n  Files          1204     1204              \n  Lines         64728    64728              \n  Branches       9414     9415       +1     \n============================================\n+ Hits          37323    37335      +12     \n  Misses        24567    24567              \n+ Partials       2838     2826      -12\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4733?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ava/org/apache/pinot/filesystem/HadoopPinotFS.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wLWZpbGVzeXN0ZW0vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2ZpbGVzeXN0ZW0vSGFkb29wUGlub3RGUy5qYXZh) | `0% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...main/java/org/apache/pinot/filesystem/PinotFS.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9maWxlc3lzdGVtL1Bpbm90RlMuamF2YQ==) | `71.42% <0%> (-7.15%)` | `0 <0> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `37.8% <0%> (-23.18%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `48.78% <0%> (-15.86%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `56.09% <0%> (-14.64%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `61.29% <0%> (-9.68%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `63.25% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `87.86% <0%> (-5.21%)` | `0% <0%> (ø)` | |\n| [...nsport/netty/PooledNettyClientResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvUG9vbGVkTmV0dHlDbGllbnRSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `85.41% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| ... and [31 more](https://codecov.io/gh/apache/incubator-pinot/pull/4733/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4733?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4733?src=pr&el=footer). Last update [860cb92...857ecae](https://codecov.io/gh/apache/incubator-pinot/pull/4733?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544770576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544780440","html_url":"https://github.com/apache/pinot/pull/4734#issuecomment-544780440","issue_url":"https://api.github.com/repos/apache/pinot/issues/4734","id":544780440,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc4MDQ0MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T02:16:11Z","updated_at":"2019-10-22T02:16:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4734?src=pr&el=h1) Report\n> Merging [#4734](https://codecov.io/gh/apache/incubator-pinot/pull/4734?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/6bc6e55f5f9fc991110e5f84efd755d9d0033418?src=pr&el=desc) will **increase** coverage by `26.42%`.\n> The diff coverage is `33.33%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4734/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4734?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4734       +/-   ##\n=============================================\n+ Coverage      38.2%   64.63%   +26.42%     \n- Complexity        0        4        +4     \n=============================================\n  Files          1203     1051      -152     \n  Lines         64654    56152     -8502     \n  Branches       9401     8329     -1072     \n=============================================\n+ Hits          24704    36295    +11591     \n+ Misses        37712    17146    -20566     \n- Partials       2238     2711      +473\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4734?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ntroller/helix/core/rebalance/TableRebalancer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYmFsYW5jZS9UYWJsZVJlYmFsYW5jZXIuamF2YQ==) | `66.66% <32.25%> (+66.66%)` | `0 <0> (ø)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `64.44% <50%> (+12.17%)` | `0 <0> (ø)` | :arrow_down: |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `25% <0%> (-15%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `37.8% <0%> (-13.42%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `73.07% <0%> (-8.98%)` | `0% <0%> (ø)` | |\n| [...n/java/org/apache/pinot/core/transport/Server.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvU2VydmVyLmphdmE=) | `59.25% <0%> (-7.41%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `59.13% <0%> (-5.38%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `60.97% <0%> (-4.88%)` | `0% <0%> (ø)` | |\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `84.09% <0%> (-4.55%)` | `0% <0%> (ø)` | |\n| ... and [723 more](https://codecov.io/gh/apache/incubator-pinot/pull/4734/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4734?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4734?src=pr&el=footer). Last update [6bc6e55...80e46e4](https://codecov.io/gh/apache/incubator-pinot/pull/4734?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/544780440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545079185","html_url":"https://github.com/apache/pinot/pull/4733#issuecomment-545079185","issue_url":"https://api.github.com/repos/apache/pinot/issues/4733","id":545079185,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTA3OTE4NQ==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T17:52:49Z","updated_at":"2019-10-22T17:52:49Z","author_association":"CONTRIBUTOR","body":"> Thanks for the fix. I think the scope of this PR should be fix the PinotFS.move() for non-local FS. Adding an integration test seems too much for this fix (which will add 2-3 minutes to each Travis run), is it possible to cover this by enhancing the unit test for PinotFS?\r\n\r\nI can add a unit test to PinotFS to cover this function. The integration test is important to us though because we use LLC+HDFS and needs some integration test coverage. The bug is found when we run the integration test. Currently we run an integration test internally and wanted to contribute it back to open source. Is there any way to make Travis run faster (e.g., to do parallel run of tests)? If that is hard, I could think about other ways to do integration tests in separate PRs.  ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545079185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545084585","html_url":"https://github.com/apache/pinot/pull/4733#issuecomment-545084585","issue_url":"https://api.github.com/repos/apache/pinot/issues/4733","id":545084585,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTA4NDU4NQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T18:06:21Z","updated_at":"2019-10-22T18:06:21Z","author_association":"CONTRIBUTOR","body":"> > Thanks for the fix. I think the scope of this PR should be fix the PinotFS.move() for non-local FS. Adding an integration test seems too much for this fix (which will add 2-3 minutes to each Travis run), is it possible to cover this by enhancing the unit test for PinotFS?\r\n> \r\n> I can add a unit test to PinotFS to cover this function. The integration test is important to us though because we use LLC+HDFS and needs some integration test coverage. The bug is found when we run the integration test. Currently we run an integration test internally and wanted to contribute it back to open source. Is there any way to make Travis run faster (e.g., to do parallel run of tests)? If that is hard, I could think about other ways to do integration tests in separate PRs.\r\n\r\nTravis is free for open-source project, but has very limited resource. One way to test this in integration test but not adding another test is by using random in the existing LLC integration test to randomly use localFS or HadoopFS. The reason why I'm against adding another integration test for this is because all the query engine tests are the same as the existing LLC integration test. PinotFS tests should be able to to cover all the FS related code.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545084585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545093454","html_url":"https://github.com/apache/pinot/pull/4735#issuecomment-545093454","issue_url":"https://api.github.com/repos/apache/pinot/issues/4735","id":545093454,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTA5MzQ1NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T18:28:29Z","updated_at":"2019-10-22T18:46:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4735?src=pr&el=h1) Report\n> Merging [#4735](https://codecov.io/gh/apache/incubator-pinot/pull/4735?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/f015c68f2f68c263da141394d64a9db92baabafb?src=pr&el=desc) will **increase** coverage by `7.08%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4735/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4735?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4735      +/-   ##\n============================================\n+ Coverage     57.55%   64.63%   +7.08%     \n  Complexity        4        4              \n============================================\n  Files          1203     1051     -152     \n  Lines         64660    56135    -8525     \n  Branches       9402     8328    -1074     \n============================================\n- Hits          37216    36284     -932     \n+ Misses        24607    17146    -7461     \n+ Partials       2837     2705     -132\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4735?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-13.21%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `53.65% <0%> (-8.54%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/client/DynamicBrokerSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvRHluYW1pY0Jyb2tlclNlbGVjdG9yLmphdmE=) | `69.69% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `29.48% <0%> (-2.57%)` | `0% <0%> (ø)` | |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvQ29ubmVjdGlvbi5qYXZh) | `47.61% <0%> (-2.39%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `58.73% <0%> (-1.59%)` | `0% <0%> (ø)` | |\n| [...roker/requesthandler/BaseBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `75.76% <0%> (-1.54%)` | `0% <0%> (ø)` | |\n| [...g/apache/pinot/common/utils/helix/HelixHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvaGVsaXgvSGVsaXhIZWxwZXIuamF2YQ==) | `49.7% <0%> (-0.6%)` | `0% <0%> (ø)` | |\n| ... and [167 more](https://codecov.io/gh/apache/incubator-pinot/pull/4735/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4735?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4735?src=pr&el=footer). Last update [f015c68...bdf968c](https://codecov.io/gh/apache/incubator-pinot/pull/4735?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545093454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545099586","html_url":"https://github.com/apache/pinot/issues/4731#issuecomment-545099586","issue_url":"https://api.github.com/repos/apache/pinot/issues/4731","id":545099586,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTA5OTU4Ng==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T18:44:25Z","updated_at":"2019-10-22T18:44:25Z","author_association":"CONTRIBUTOR","body":"Great idea, and also agree with the initial refactoring.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545099586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545132699","html_url":"https://github.com/apache/pinot/issues/4731#issuecomment-545132699","issue_url":"https://api.github.com/repos/apache/pinot/issues/4731","id":545132699,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTEzMjY5OQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T20:10:35Z","updated_at":"2019-10-22T20:10:35Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nPerhaps we can split PinotFS and Realtime ingestion connectors.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545132699/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545197108","html_url":"https://github.com/apache/pinot/issues/2715#issuecomment-545197108","issue_url":"https://api.github.com/repos/apache/pinot/issues/2715","id":545197108,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTE5NzEwOA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-22T23:23:31Z","updated_at":"2019-10-22T23:28:31Z","author_association":"CONTRIBUTOR","body":"1. Segment Merge Service (first doc by @Jackie-Jiang)\r\nhttps://docs.google.com/document/d/1zoklHjbli-HIy0JAiBITABNsBOuC2jFthcjwGqsFVFQ/edit?usp=sharing\r\n\r\n2. Segment Merge and Rollup\r\nhttps://docs.google.com/document/d/1gcRBibLvyu4jPQLthVeyhrK68PqqHnC6gpiaSEkYlx0/edit?usp=sharing\r\n\r\n3. Broker Routing for Merged Segment\r\nhttps://docs.google.com/document/d/1__6AZthhR8E0h-Y1C72exoIXgJQ4eFHpn0AVcgTX1sY/edit?usp=sharing\r\n\r\n4. Minion Segment Conversion Framework\r\nhttps://docs.google.com/document/d/1XqEdpg--ehbk4oaEP_VDNsbyVsytt2siFl06iSl0o10/edit?usp=sharing\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545197108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545207979","html_url":"https://github.com/apache/pinot/pull/4736#issuecomment-545207979","issue_url":"https://api.github.com/repos/apache/pinot/issues/4736","id":545207979,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTIwNzk3OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T00:12:53Z","updated_at":"2019-10-23T06:02:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4736?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@3a77194`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `66.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4736/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4736?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4736   +/-   ##\n=========================================\n  Coverage          ?   64.66%           \n  Complexity        ?        4           \n=========================================\n  Files             ?     1051           \n  Lines             ?    56156           \n  Branches          ?     8329           \n=========================================\n  Hits              ?    36314           \n  Misses            ?    17125           \n  Partials          ?     2717\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4736?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pinot/server/realtime/ControllerLeaderLocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4736/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL0NvbnRyb2xsZXJMZWFkZXJMb2NhdG9yLmphdmE=) | `92.22% <60%> (ø)` | `0 <0> (?)` | |\n| [...apache/pinot/controller/LeadControllerManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4736/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9MZWFkQ29udHJvbGxlck1hbmFnZXIuamF2YQ==) | `73.73% <71.42%> (ø)` | `0 <0> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4736?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4736?src=pr&el=footer). Last update [3a77194...c86701d](https://codecov.io/gh/apache/incubator-pinot/pull/4736?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545207979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545228750","html_url":"https://github.com/apache/pinot/pull/4385#issuecomment-545228750","issue_url":"https://api.github.com/repos/apache/pinot/issues/4385","id":545228750,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTIyODc1MA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T01:56:31Z","updated_at":"2019-10-23T01:56:31Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu Addressed all the comments, please take another look","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545228750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545237688","html_url":"https://github.com/apache/pinot/pull/4737#issuecomment-545237688","issue_url":"https://api.github.com/repos/apache/pinot/issues/4737","id":545237688,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTIzNzY4OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T02:36:30Z","updated_at":"2019-10-23T02:36:30Z","author_association":"MEMBER","body":"we have too many modules at the top level. lets move the package to a sub-folder (pinot-contrib). renamed the module to druid-2-pinot-migration or something like that.\r\n\r\nHow can a user this tool?\r\n\r\nWill it be something like, Druid2Pinot <druid_cluster_endpoint_config>  <pinot_cluster_endpoint_config>?\r\n\r\nAt a high level, what are the various steps involved in this? A simple issue with some description will help in understanding the goal and reviewing this PR.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545237688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545560896","html_url":"https://github.com/apache/pinot/pull/4485#issuecomment-545560896","issue_url":"https://api.github.com/repos/apache/pinot/issues/4485","id":545560896,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTU2MDg5Ng==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T17:51:09Z","updated_at":"2019-10-23T17:51:09Z","author_association":"NONE","body":"@harleyjj  Can you resolve conflicts?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545560896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545572887","html_url":"https://github.com/apache/pinot/pull/4485#issuecomment-545572887","issue_url":"https://api.github.com/repos/apache/pinot/issues/4485","id":545572887,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTU3Mjg4Nw==","user":{"login":"harleyjj","id":10106733,"node_id":"MDQ6VXNlcjEwMTA2NzMz","avatar_url":"https://avatars.githubusercontent.com/u/10106733?v=4","gravatar_id":"","url":"https://api.github.com/users/harleyjj","html_url":"https://github.com/harleyjj","followers_url":"https://api.github.com/users/harleyjj/followers","following_url":"https://api.github.com/users/harleyjj/following{/other_user}","gists_url":"https://api.github.com/users/harleyjj/gists{/gist_id}","starred_url":"https://api.github.com/users/harleyjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harleyjj/subscriptions","organizations_url":"https://api.github.com/users/harleyjj/orgs","repos_url":"https://api.github.com/users/harleyjj/repos","events_url":"https://api.github.com/users/harleyjj/events{/privacy}","received_events_url":"https://api.github.com/users/harleyjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T18:19:44Z","updated_at":"2019-10-23T18:19:44Z","author_association":"CONTRIBUTOR","body":"@xiaohui-sun Thank you for reviewing.  The conflicts are resolved now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545572887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545673979","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-545673979","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":545673979,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTY3Mzk3OQ==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T23:12:12Z","updated_at":"2019-10-23T23:12:12Z","author_association":"CONTRIBUTOR","body":"@snleee @mayankshriv can you please review this PR. \r\n\r\nThe context is that we would like presto's use of the date_trunc (using PR https://github.com/prestodb/presto/pull/13504 in the prestodb) to be translated to this new presto compatible date_trunc I am adding in pinot. This will ensure faithful translation supporting both timezones and week truncations. \r\n\r\nCurrently the Pinot dateTimeConvert function truncates to the week starting at Thursday and that is incorrect from presto's standpoint.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545673979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545683395","html_url":"https://github.com/apache/pinot/pull/4739#issuecomment-545683395","issue_url":"https://api.github.com/repos/apache/pinot/issues/4739","id":545683395,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTY4MzM5NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-23T23:53:10Z","updated_at":"2019-10-23T23:53:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4739?src=pr&el=h1) Report\n> Merging [#4739](https://codecov.io/gh/apache/incubator-pinot/pull/4739?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/b00b66c9497e142ca46fbd1b06fcb290607e5ad8?src=pr&el=desc) will **decrease** coverage by `0.1%`.\n> The diff coverage is `66.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4739/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4739?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4739      +/-   ##\n============================================\n- Coverage     57.66%   57.55%   -0.11%     \n  Complexity        4        4              \n============================================\n  Files          1203     1203              \n  Lines         64681    64685       +4     \n  Branches       9403     9404       +1     \n============================================\n- Hits          37298    37232      -66     \n- Misses        24530    24620      +90     \n+ Partials       2853     2833      -20\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4739?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../core/realtime/PinotLLCRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90TExDUmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `74.35% <66.66%> (-0.23%)` | `0 <0> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `61.29% <0%> (-10.76%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `35% <0%> (-10%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `73.07% <0%> (-8.98%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `63.25% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `37.8% <0%> (-6.1%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `87.28% <0%> (-5.21%)` | `0% <0%> (ø)` | |\n| ... and [30 more](https://codecov.io/gh/apache/incubator-pinot/pull/4739/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4739?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4739?src=pr&el=footer). Last update [b00b66c...48d6b3a](https://codecov.io/gh/apache/incubator-pinot/pull/4739?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545683395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545703969","html_url":"https://github.com/apache/pinot/pull/4741#issuecomment-545703969","issue_url":"https://api.github.com/repos/apache/pinot/issues/4741","id":545703969,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTcwMzk2OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T01:38:57Z","updated_at":"2019-10-24T01:38:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4741?src=pr&el=h1) Report\n> Merging [#4741](https://codecov.io/gh/apache/incubator-pinot/pull/4741?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/b00b66c9497e142ca46fbd1b06fcb290607e5ad8?src=pr&el=desc) will **increase** coverage by `6.96%`.\n> The diff coverage is `31.57%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4741/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4741?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4741      +/-   ##\n============================================\n+ Coverage     57.66%   64.63%   +6.96%     \n  Complexity        4        4              \n============================================\n  Files          1203     1051     -152     \n  Lines         64681    56164    -8517     \n  Branches       9403     8330    -1073     \n============================================\n- Hits          37298    36300     -998     \n+ Misses        24530    17159    -7371     \n+ Partials       2853     2705     -148\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4741?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `44.44% <0%> (-0.18%)` | `0 <0> (ø)` | |\n| [.../core/realtime/PinotLLCRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90TExDUmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `74.58% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...metadata/segment/LLCRealtimeSegmentZKMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvc2VnbWVudC9MTENSZWFsdGltZVNlZ21lbnRaS01ldGFkYXRhLmphdmE=) | `42.18% <41.66%> (-2.08%)` | `0 <0> (ø)` | |\n| [.../org/apache/pinot/client/PinotClientException.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvUGlub3RDbGllbnRFeGNlcHRpb24uamF2YQ==) | `33.33% <0%> (-33.34%)` | `0% <0%> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `52.68% <0%> (-19.36%)` | `0% <0%> (ø)` | |\n| [...pinot/broker/api/resources/PinotClientRequest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdENsaWVudFJlcXVlc3QuamF2YQ==) | `23.8% <0%> (-19.05%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvSnNvbkFzeW5jSHR0cFBpbm90Q2xpZW50VHJhbnNwb3J0LmphdmE=) | `58.69% <0%> (-15.22%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `56.09% <0%> (-8.54%)` | `0% <0%> (ø)` | |\n| ... and [180 more](https://codecov.io/gh/apache/incubator-pinot/pull/4741/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4741?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4741?src=pr&el=footer). Last update [b00b66c...8ff764e](https://codecov.io/gh/apache/incubator-pinot/pull/4741?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545703969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545728143","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-545728143","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":545728143,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTcyODE0Mw==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T03:35:01Z","updated_at":"2019-10-24T03:35:01Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @Jackie-Jiang and @kishoreg. Updated per your feedback.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545728143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545736804","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-545736804","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":545736804,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTczNjgwNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T04:19:04Z","updated_at":"2019-10-29T18:58:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4740?src=pr&el=h1) Report\n> Merging [#4740](https://codecov.io/gh/apache/incubator-pinot/pull/4740?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/716a3b256fec36dee9f2290ea393f483eed9637a?src=pr&el=desc) will **decrease** coverage by `0.03%`.\n> The diff coverage is `55.55%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4740/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4740?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4740      +/-   ##\n============================================\n- Coverage     57.79%   57.75%   -0.04%     \n  Complexity        4        4              \n============================================\n  Files          1207     1209       +2     \n  Lines         64744    64933     +189     \n  Branches       9413     9456      +43     \n============================================\n+ Hits          37419    37503      +84     \n- Misses        24493    24586      +93     \n- Partials       2832     2844      +12\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4740?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...r/transform/function/TransformFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25GYWN0b3J5LmphdmE=) | `69.64% <100%> (+0.55%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../core/operator/transform/function/TimeZoneKey.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVGltZVpvbmVLZXkuamF2YQ==) | `38.93% <38.93%> (ø)` | `0 <0> (?)` | |\n| [...transform/function/DateTruncTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vRGF0ZVRydW5jVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `80% <80%> (ø)` | `0 <0> (?)` | |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `46.03% <0%> (-14.29%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `60.21% <0%> (-12.91%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `37.8% <0%> (-8.54%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `56.09% <0%> (-7.32%)` | `0% <0%> (ø)` | |\n| [...e/pinot/common/utils/FileUploadDownloadClient.java](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRmlsZVVwbG9hZERvd25sb2FkQ2xpZW50LmphdmE=) | `63.25% <0%> (-6.63%)` | `0% <0%> (ø)` | |\n| ... and [30 more](https://codecov.io/gh/apache/incubator-pinot/pull/4740/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4740?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4740?src=pr&el=footer). Last update [716a3b2...a6e01b2](https://codecov.io/gh/apache/incubator-pinot/pull/4740?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545736804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545744608","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-545744608","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":545744608,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTc0NDYwOA==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T04:58:06Z","updated_at":"2019-10-24T04:58:06Z","author_association":"CONTRIBUTOR","body":"I am not sure what lead to the massive decrease in code coverage. The report looks fishy and lists several unrelated files. I did add unit tests for these new classes :). Can you help me figure out if the code coverage decrease is legit or not. Thanks !","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545744608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545799154","html_url":"https://github.com/apache/pinot/pull/4742#issuecomment-545799154","issue_url":"https://api.github.com/repos/apache/pinot/issues/4742","id":545799154,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTc5OTE1NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T08:07:29Z","updated_at":"2019-10-26T02:26:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4742?src=pr&el=h1) Report\n> Merging [#4742](https://codecov.io/gh/apache/incubator-pinot/pull/4742?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/2f7243246b11d50418cfac7d39e3794e61a88d0b?src=pr&el=desc) will **decrease** coverage by `6.9%`.\n> The diff coverage is `53.33%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4742/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4742?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4742      +/-   ##\n============================================\n- Coverage      64.6%   57.69%   -6.91%     \n  Complexity        4        4              \n============================================\n  Files          1051     1204     +153     \n  Lines         56160    64742    +8582     \n  Branches       8330     9406    +1076     \n============================================\n+ Hits          36284    37356    +1072     \n- Misses        17168    24547    +7379     \n- Partials       2708     2839     +131\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4742?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...rg/apache/pinot/hadoop/job/JobConfigConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3Avam9iL0pvYkNvbmZpZ0NvbnN0YW50cy5qYXZh) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...va/org/apache/pinot/hadoop/job/BaseSegmentJob.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3Avam9iL0Jhc2VTZWdtZW50Sm9iLmphdmE=) | `74.41% <0%> (ø)` | `0 <0> (?)` | |\n| [...inot/hadoop/job/mappers/SegmentCreationMapper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3Avam9iL21hcHBlcnMvU2VnbWVudENyZWF0aW9uTWFwcGVyLmphdmE=) | `66.66% <61.53%> (ø)` | `0 <0> (?)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.05% <0%> (-50.01%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `41.09% <0%> (-34.25%)` | `0% <0%> (ø)` | |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | `0% <0%> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `46.34% <0%> (-14.64%)` | `0% <0%> (ø)` | |\n| [...ache/pinot/common/utils/TarGzCompressionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVGFyR3pDb21wcmVzc2lvblV0aWxzLmphdmE=) | `68.23% <0%> (-12.95%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/core/data/table/IndexedTable.java](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL0luZGV4ZWRUYWJsZS5qYXZh) | `90.47% <0%> (-9.53%)` | `0% <0%> (ø)` | |\n| ... and [201 more](https://codecov.io/gh/apache/incubator-pinot/pull/4742/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4742?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4742?src=pr&el=footer). Last update [2f72432...46f9b5e](https://codecov.io/gh/apache/incubator-pinot/pull/4742?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/545799154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546088342","html_url":"https://github.com/apache/pinot/pull/4385#issuecomment-546088342","issue_url":"https://api.github.com/repos/apache/pinot/issues/4385","id":546088342,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjA4ODM0Mg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T20:26:16Z","updated_at":"2019-10-24T20:26:16Z","author_association":"CONTRIBUTOR","body":"> It will be nice if you can add a single test case in which both valueBuffer and offsetBuffer limits are reached in the same add() call, instead of leaving it to happen at random. You may need to add getters to expose the limits of the buffers, but it is worth it, I believe.\r\n\r\nThis 2 buffers are handled independently (first process offsetBuffer, then valueBuffer), so I believe it is not necessary to test that explicitly. Also, with 100_000 writes per test, there should be pretty high chance to hit this scenario.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546088342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546092366","html_url":"https://github.com/apache/pinot/pull/4741#issuecomment-546092366","issue_url":"https://api.github.com/repos/apache/pinot/issues/4741","id":546092366,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjA5MjM2Ng==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T20:37:04Z","updated_at":"2019-10-24T20:37:04Z","author_association":"CONTRIBUTOR","body":"Let's hold on this change. I'm against putting server url into the segment ZK metadata for the following reasons:\r\n- Server should not modify segment ZK metadata, segment ZK metadata should only be touched by controller. We use segment ZK metadata as the segment lock, and if we allow server to modify segment ZK metadata, we might run into certain unknown race conditions.\r\n- Whenever segment moves from one server to another server, it is hard to keep the segment ZK metadata consistent with the segment location. Think of rebalance where all segments might be moved, which will cause multiple modifications on all segment ZK metadata for the table.\r\n- Storing server url along with deep storage url implies server should return the segment in the same format as deep storage, which is not the case. Server keeps segment un-compressed while deep storage stores compressed segment.\r\n\r\nInstead, I am proposing the following approach:\r\n- Keep the download uri in segment ZK metadata only points to deep storage\r\n- Introduce a concept of downloading segment from peer, which allow server to download segment from other servers serving the same segment if deep storage is down.\r\n- When deep storage is down, server can read the table's external view, find other ONLINE servers with the segment, and construct download uri based on the ONLINE server instance id.\r\n\r\nWith the new approach:\r\n- No need to touch segment ZK metadata\r\n- The logic is cleaner. First try the deep storage, if failed, go to the peer download approach\r\n- Segment move can be automatically picked up by the external view\r\n- When downloading the segment from peer, expect the segment to be uncompressed, without extra handling for both compressed and uncompressed segment.\r\n- Offline table can also benefit from the peer download.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546092366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546094554","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-546094554","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":546094554,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjA5NDU1NA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T20:43:02Z","updated_at":"2019-10-24T20:43:02Z","author_association":"CONTRIBUTOR","body":"@agrawaldevesh You don't need to worry about the code coverage. It could be that some coverage files are not sent to the server.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546094554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546098055","html_url":"https://github.com/apache/pinot/pull/4741#issuecomment-546098055","issue_url":"https://api.github.com/repos/apache/pinot/issues/4741","id":546098055,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjA5ODA1NQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T20:52:02Z","updated_at":"2019-10-24T20:52:02Z","author_association":"CONTRIBUTOR","body":"@chenboat we briefly discussed this approach proposed by @Jackie-Jiang  and it does have advantages in terms of keeping segment metadata update to one entity (something we had discussed when the proposal was first brought up). It is worth thinking through one more level, and make sure that it satisfies the needs of the project. \r\nNote that we can still make the metadata field a list, just that servers are not there in the list.\r\n\r\nIt also does not prevent a PR from changing the server to provide an endpoint to download a segment.\r\n\r\nCan you give it some thought?\r\n\r\nOne thing that I am not very clear about is any race conditions:\r\n- Are there any subtle situations where while transitioning from CONSUMING to ONLINE it is possible that the server with the segment is not yet available in externalview? Can retries solve the problem or do we need more things to work around this?\r\n- Are there similar race conditions during rebalance or while moving completed segments to a different set of servers?\r\n\r\nAt any rate, it will be good if you can capture the idea in the design doc, thanks.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546098055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546107778","html_url":"https://github.com/apache/pinot/pull/4728#issuecomment-546107778","issue_url":"https://api.github.com/repos/apache/pinot/issues/4728","id":546107778,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjEwNzc3OA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T21:18:28Z","updated_at":"2019-10-24T21:18:28Z","author_association":"CONTRIBUTOR","body":"Performance numbers from BenchmarkCombineGroupBy:\r\nThis PR makes the numbers slightly better than the previous numbers with IndexedTable. We are still not completely at par with non IndexedTable approach \r\n<img width=\"690\" alt=\"Screen Shot 2019-10-24 at 2 16 06 PM\" src=\"https://user-images.githubusercontent.com/19693933/67526179-1f619a80-f669-11e9-890f-d80dbeb1705f.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546107778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546119575","html_url":"https://github.com/apache/pinot/pull/4585#issuecomment-546119575","issue_url":"https://api.github.com/repos/apache/pinot/issues/4585","id":546119575,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjExOTU3NQ==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T21:56:52Z","updated_at":"2019-10-24T21:56:52Z","author_association":"CONTRIBUTOR","body":"> Good in general.\r\n> I still feel it is better to make it NullValueVector for the following reasons:\r\n> \r\n> * Underlying bitmap is nullValueBitmap\r\n> * Always set null instead of set non-null\r\n> * We only need to check whether the value is null (all the return for isPresent() is reversed)\r\n> \r\n> I understand the intention for PresenceVector is to fast return the presenceBitmap, but if the underlying storage is actually a nullValueBitmap, it is quite confusing. In the following PRs, we can maintain two bitmaps in memory, but still only store nullValueBitmap on disk. @kishoreg Thoughts?\r\n\r\nModified to NullValueVector as per suggestion","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546119575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546154132","html_url":"https://github.com/apache/pinot/pull/4741#issuecomment-546154132","issue_url":"https://api.github.com/repos/apache/pinot/issues/4741","id":546154132,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjE1NDEzMg==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T00:37:53Z","updated_at":"2019-10-25T00:37:53Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang @mcvsubbu First thank you for the comments and proposals.  I have updated the design doc with a new[ section](https://cwiki.apache.org/confluence/display/PINOT/By-passing+deep-store+requirement+for+Realtime+segment+completion#By-passingdeep-storerequirementforRealtimesegmentcompletion-SegmentDownload\r\n) to capture the key issue above discussion so far. Please comment there if you have further issues. \r\n\r\nAs for Jackie's points, \r\n - the update to Zk metadata need NOT be done by servers: server can invoke controller API to do the update. \r\n\r\n- The more important issue is how to discover such server list, I do agree that using External View is better (i remember we briefly discussed about this idea as well). We also need to double check all current download processes using the download_url can fallback to use EV to download from peer servers.\r\n\r\n- For segment download format, currently the commit server already Gzips its segment and then upload to the controller as a single file. The new download REST API on the Pinot server uses the same process and also sends such GZip'd file to the server which needs the segment. Therefore Gzip compression is mainly for REST download easiness. I am not sure if there is an easy not to Gzip a segment here. I am not sure if we want to do too much optimization here -- given segment download in LLC is in fact a rare event and the change is further reduced by available deep storage copies.       \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546154132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546163227","html_url":"https://github.com/apache/pinot/pull/4715#issuecomment-546163227","issue_url":"https://api.github.com/repos/apache/pinot/issues/4715","id":546163227,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjE2MzIyNw==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T01:29:17Z","updated_at":"2019-10-25T01:29:17Z","author_association":"CONTRIBUTOR","body":"Made changes for realtime.\r\nInterface related changes and comments are yet to be addressed","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546163227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546165081","html_url":"https://github.com/apache/pinot/pull/4741#issuecomment-546165081","issue_url":"https://api.github.com/repos/apache/pinot/issues/4741","id":546165081,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjE2NTA4MQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T01:39:48Z","updated_at":"2019-10-25T01:39:48Z","author_association":"CONTRIBUTOR","body":"@chenboat I didn't find the new section to discuss this downloading from peer proposal without touching segment ZK metadata but using external view.\r\n\r\n- Server call controller API has no difference with server directly modify the segment ZK metadata. The point here is that it is very hard to keep segment ZK metadata consistent with the actual segment locations. Who is in charge of updating the segment ZK metadata? When segment moves from one server to another server, how to update the segment ZK metadata? What if one server is down during the move? What if the segment goes into ERROR state? There are so many things to consider, and it is very hard to cover all scenarios. On contrast, external view already gathered all these information, and it is just way simpler than keep modifying the segment ZK metadata. As long as we provide the same REST API on each server, we can easily construct the download url from the instance id.\r\n- Segment download format is another independent design discussion. Compressing segment is a CPU intensive operation, which could hurt server's performance.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546165081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546195354","html_url":"https://github.com/apache/pinot/pull/4741#issuecomment-546195354","issue_url":"https://api.github.com/repos/apache/pinot/issues/4741","id":546195354,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjE5NTM1NA==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T04:25:18Z","updated_at":"2019-10-25T04:25:18Z","author_association":"CONTRIBUTOR","body":"> @chenboat I didn't find the new section to discuss this downloading from peer proposal without touching segment ZK metadata but using external view.\r\n\r\nThe section is here with title \"Segment Download\"\r\nhttps://cwiki.apache.org/confluence/display/PINOT/By-passing+deep-store+requirement+for+Realtime+segment+completion#By-passingdeep-storerequirementforRealtimesegmentcompletion-SegmentDownload\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546195354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546213224","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-546213224","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":546213224,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjIxMzIyNA==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T05:58:24Z","updated_at":"2019-10-25T05:58:24Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Thanks for your comments earlier. I have incorporated all of your feedback. Thank you !","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546213224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546458541","html_url":"https://github.com/apache/pinot/pull/4618#issuecomment-546458541","issue_url":"https://api.github.com/repos/apache/pinot/issues/4618","id":546458541,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjQ1ODU0MQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T18:17:26Z","updated_at":"2019-10-25T18:17:26Z","author_association":"CONTRIBUTOR","body":"A repeated transient exception is eventually turned into a permanent exception, so I am fine with this. Can you please re-start the tests and get them to pass? We can commit this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546458541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546476505","html_url":"https://github.com/apache/pinot/pull/4618#issuecomment-546476505","issue_url":"https://api.github.com/repos/apache/pinot/issues/4618","id":546476505,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjQ3NjUwNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T19:09:29Z","updated_at":"2019-10-25T19:16:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4618?src=pr&el=h1) Report\n> Merging [#4618](https://codecov.io/gh/apache/incubator-pinot/pull/4618?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/8d593f384787fc8cdec604629229f8d33ee15c8a?src=pr&el=desc) will **decrease** coverage by `26.22%`.\n> The diff coverage is `37.5%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4618/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4618?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4618       +/-   ##\n=============================================\n- Coverage     64.33%   38.11%   -26.23%     \n=============================================\n  Files          1072     1204      +132     \n  Lines         55702    64777     +9075     \n  Branches       8131     9422     +1291     \n=============================================\n- Hits          35836    24688    -11148     \n- Misses        17216    37838    +20622     \n+ Partials       2650     2251      -399\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4618?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../data/aggregator/PercentileEstValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvUGVyY2VudGlsZUVzdFZhbHVlQWdncmVnYXRvci5qYXZh) | `0% <ø> (-100%)` | `0 <0> (ø)` | |\n| [...time/impl/dictionary/OffHeapMutableBytesStore.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvT2ZmSGVhcE11dGFibGVCeXRlc1N0b3JlLmphdmE=) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...va/org/apache/pinot/common/config/TableConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1RhYmxlQ29uZmlnLmphdmE=) | `58.02% <ø> (-21.92%)` | `0 <0> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `83.81% <ø> (-3.47%)` | `0 <0> (ø)` | |\n| [...ion/function/DistinctCountAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `0% <ø> (-38.54%)` | `0 <0> (ø)` | |\n| [...ion/function/PercentileEstAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlRXN0QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `0% <ø> (-53.25%)` | `0 <0> (ø)` | |\n| [...gation/function/PercentileAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `0% <ø> (-75%)` | `0 <0> (ø)` | |\n| [.../data/manager/offline/OfflineTableDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvb2ZmbGluZS9PZmZsaW5lVGFibGVEYXRhTWFuYWdlci5qYXZh) | `85.71% <ø> (-14.29%)` | `0 <0> (ø)` | |\n| [...ator/query/DictionaryBasedAggregationOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9xdWVyeS9EaWN0aW9uYXJ5QmFzZWRBZ2dyZWdhdGlvbk9wZXJhdG9yLmphdmE=) | `89.28% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...nction/PercentileTDigestMVAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlVERpZ2VzdE1WQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `0% <ø> (-66.67%)` | `0 <0> (ø)` | |\n| ... and [947 more](https://codecov.io/gh/apache/incubator-pinot/pull/4618/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4618?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4618?src=pr&el=footer). Last update [8d593f3...0613984](https://codecov.io/gh/apache/incubator-pinot/pull/4618?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546476505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546576065","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-546576065","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":546576065,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjU3NjA2NQ==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-26T06:46:20Z","updated_at":"2019-10-26T06:46:20Z","author_association":"CONTRIBUTOR","body":"Hi @siddharthteotia ... take a look at the PR now. I added the requested e2e unit test and also added documentation. So this UDF is now \"unhidden\" and can be used by anyone. \r\n\r\nI believe this should allay your concerns and allow this PR to be merged in. Let me know if you think something else needs to be done here.\r\n\r\nThanks for the review !","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546576065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546584338","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-546584338","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":546584338,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjU4NDMzOA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-26T08:53:23Z","updated_at":"2019-10-26T08:53:23Z","author_association":"CONTRIBUTOR","body":"> Hi @siddharthteotia ... take a look at the PR now. I added the requested e2e unit test and also added documentation. So this UDF is now \"unhidden\" and can be used by anyone.\r\n> \r\n> I believe this should allay your concerns and allow this PR to be merged in. Let me know if you think something else needs to be done here.\r\n> \r\n> Thanks for the review !\r\n\r\nThanks, @agrawaldevesh. LGTM","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546584338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546625544","html_url":"https://github.com/apache/pinot/issues/4351#issuecomment-546625544","issue_url":"https://api.github.com/repos/apache/pinot/issues/4351","id":546625544,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjYyNTU0NA==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-26T17:57:49Z","updated_at":"2019-10-26T17:57:49Z","author_association":"CONTRIBUTOR","body":"4. Use a range to OR bitmaps in BitmapDocIdSet (for bitmap based filter operator). This will be done after the ranges have been updated (as part of filter optimization). ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546625544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546748517","html_url":"https://github.com/apache/pinot/pull/4746#issuecomment-546748517","issue_url":"https://api.github.com/repos/apache/pinot/issues/4746","id":546748517,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Njc0ODUxNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T23:57:21Z","updated_at":"2019-10-27T23:57:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4746?src=pr&el=h1) Report\n> Merging [#4746](https://codecov.io/gh/apache/incubator-pinot/pull/4746?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/a8c6f8d3bb96ea9fe7b5336bdda7fafd127d90fa?src=pr&el=desc) will **increase** coverage by `0.06%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4746/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4746?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4746      +/-   ##\n============================================\n+ Coverage     57.61%   57.68%   +0.06%     \n  Complexity        4        4              \n============================================\n  Files          1204     1204              \n  Lines         64742    64742              \n  Branches       9406     9406              \n============================================\n+ Hits          37303    37348      +45     \n+ Misses        24602    24544      -58     \n- Partials       2837     2850      +13\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4746?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...he/pinot/tools/admin/command/AddSchemaCommand.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2FkbWluL2NvbW1hbmQvQWRkU2NoZW1hQ29tbWFuZC5qYXZh) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | `0% <0%> (ø)` | |\n| [...startree/executor/StarTreeAggregationExecutor.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9leGVjdXRvci9TdGFyVHJlZUFnZ3JlZ2F0aW9uRXhlY3V0b3IuamF2YQ==) | `72.72% <0%> (-27.28%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `39.02% <0%> (-14.64%)` | `0% <0%> (ø)` | |\n| [...aggregation/function/CountAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9Db3VudEFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `70.73% <0%> (-14.64%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-13.21%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/core/transport/DataTableHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvRGF0YVRhYmxlSGFuZGxlci5qYXZh) | `88% <0%> (-12%)` | `0% <0%> (ø)` | |\n| [...ng/builder/DefaultRealtimeRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0RlZmF1bHRSZWFsdGltZVJvdXRpbmdUYWJsZUJ1aWxkZXIuamF2YQ==) | `61.9% <0%> (-4.77%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `45.16% <0%> (-3.23%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/client/DynamicBrokerSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvRHluYW1pY0Jyb2tlclNlbGVjdG9yLmphdmE=) | `69.69% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| ... and [23 more](https://codecov.io/gh/apache/incubator-pinot/pull/4746/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4746?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4746?src=pr&el=footer). Last update [a8c6f8d...afb8d26](https://codecov.io/gh/apache/incubator-pinot/pull/4746?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/546748517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547029458","html_url":"https://github.com/apache/pinot/pull/3849#issuecomment-547029458","issue_url":"https://api.github.com/repos/apache/pinot/issues/3849","id":547029458,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzAyOTQ1OA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T16:28:03Z","updated_at":"2019-10-28T16:28:03Z","author_association":"CONTRIBUTOR","body":"Let's avoid the extra copy in the localFS case. Like you suggested, adding an isLocal check should be an okay approach for now.\r\nOne thing we could do is  push the entire logic of fetching file and building Response into the PinotFS interface. But that wouldn't be very clean either, as it is too specific a task for an FS to perform. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547029458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547096282","html_url":"https://github.com/apache/pinot/pull/4745#issuecomment-547096282","issue_url":"https://api.github.com/repos/apache/pinot/issues/4745","id":547096282,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzA5NjI4Mg==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T18:57:17Z","updated_at":"2019-10-28T18:57:17Z","author_association":"CONTRIBUTOR","body":"LGTM. Let's merge once we get a clean build. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547096282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547142511","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-547142511","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":547142511,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzE0MjUxMQ==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T20:57:05Z","updated_at":"2019-10-28T20:57:05Z","author_association":"CONTRIBUTOR","body":"HI @Jackie-Jiang .. \r\n\r\nFirst some context: This diff didn't start its life out (and it is not my intention) to be a general time truncation UDF. Instead, it was meant to be called only by the presto-pinot connector and thus generate a value that presto can understand natively. Thus it returned \"long milliseconds since epoch in UTC\" because that is what presto natively understands as time.\r\n\r\nThe typical way for this function to be invoked is:\r\n\r\nPinot lacks a proper timestamp type. A type that can encode other bits of information associated with it: the timezone and the granularity. \r\n\r\nPresto achieves this with two timestamp types: \r\n\r\n* timestamp -> Stores the milliseconds since epoch and is always in UTC\r\n* timestamp_with_tz -> Stores the 'timestamp above' and a couple of bits to denote the timezone.\r\n\r\nGiven this:\r\n* date_trunc('hour', timestamp) -> returns a timestamp\r\n* date_trunc('hour', timestamp_with_tz) -> returns a timestamp with timezone.\r\n\r\nThey also have functions to change timezones, ie to go from a timestamp to a timestamp_with_tz and to change the timezone burned into a timestamp_with_tz.\r\n\r\nIn the absence of a proper pinot type representing time or timezones, we need to inline that into the return type and thus have arguments to configure them. For example, we can have additional input arguments saying what the output timezone and the output time granularity are in. \r\n\r\nWe similarly need additional arguments to specify what the input granularity and timezone are. \r\n\r\nAnd thus the need for 6 or so arguments: \r\n* Input long value\r\n* Truncation interval: hour, day, quarter etc\r\n* Input granularity (ms or seconds etc)\r\n* Input timezone\r\n* Output granularity. (When called from Presto this is always in Milliseconds)\r\n* Output timezone. (When called from Presto this is always UTC)\r\n\r\n(For full disclosure, I don't think we should allow the output timezone to be changed. What would a user do with that ? Because now they need to remember what the output timezone is)\r\n\r\nWhat do you think ? Should we make this function be fully general with these 6 arguments or should we keep it very custom and specific to Presto and thereby reduce it down to three arguments:\r\n\r\n* Input long value\r\n* Truncation interval: hour, day, quarter etc\r\n* ~~Input granularity (Hardcoded to seconds when called via Presto)~~\r\n* Input timezone\r\n* ~~Output granularity. (Hardcoded to milliseconds when called via Presto)~~\r\n* ~~Output timezone. (When called from Presto this is always UTC)~~\r\n\r\nI like your idea of thinking about this more fully and introducing more time UDFs like timezone conversion, or something to print timestamps with timezones. But I think that is widening the scope of this PR: I need something minimal such that our presto-pinot customers can translate their presto expressions like below to pinot:\r\n```\r\ndate_trunc('month', from_unixtime(ts_in_millis / 1000, 'America/Los_Angeles'))\r\n```\r\n\r\nIf it unblocks this PR: I can create an issue for better time handling in Pinot and narrow this PR to be very Presto specific and remove this function from the Pinot documentation (ie let it remain hidden). \r\n\r\nPlease let me know what would you need to see in this PR such that it can be merged in.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547142511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547159128","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-547159128","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":547159128,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzE1OTEyOA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T21:44:06Z","updated_at":"2019-10-28T21:44:06Z","author_association":"CONTRIBUTOR","body":"@agrawaldevesh Thanks for the explanation. \r\nIMO, `date_trunc()` should not have any knowledge of the timezone, but only truncate the time based on the given timestamp. Given the input value, `date_trunc()` should be able to figure out the input granularity automatically, and truncate it to the specified truncation interval. With these, we can achieve the standard `date_trunc()` semantic with only 2 arguments, e.g. `date_trunc('DAYS', timestamp)`.\r\nThen the missing part is a timezone conversion function from arbitrary timezone & value to a timestamp in another timezone. The time value can be of numeric type or string type (e.g. DateTimeFormat).\r\nWith these 2 functions de-coupled and chain-able, it becomes much more flexible. We can support timestamp/DateTimeFormat input in any timezone, and return truncated timestamp in another timezone. Also, we have the standard semantic for `date_trunc()` function.\r\nWhat do you think? Does this proposal meet all the requirements for the Presto connector?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547159128/reactions","total_count":1,"+1":0,"-1":1,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547172125","html_url":"https://github.com/apache/pinot/pull/4747#issuecomment-547172125","issue_url":"https://api.github.com/repos/apache/pinot/issues/4747","id":547172125,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzE3MjEyNQ==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T22:26:28Z","updated_at":"2019-10-28T22:26:28Z","author_association":"CONTRIBUTOR","body":"cc @mcvsubbu ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547172125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547172896","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-547172896","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":547172896,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzE3Mjg5Ng==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T22:29:01Z","updated_at":"2019-10-28T22:29:01Z","author_association":"CONTRIBUTOR","body":"HI @Jackie-Jiang ... I understand that splitting up the functions and making them be composable is flexible and great. But I am afraid that the approach you have pointed, won't work:\r\n\r\nIn the library joda-time we are using: Truncation depends on the timezone. Which makes sense: How do you truncate to a quarter, when the quarter starts at different timestamps across the world ?\r\n\r\nWe cannot work around the fact that Pinot does not have a \"Timestamp with TZ\" type: so there is no way to known of the input timezone without specifying that as an argument. So at the minimum we need to have three arguments: Namely the input timezone, the truncation granularity 'hour'/'week' etc, and the input value. \r\n\r\nWe need the timezone from truncation: either as an input field or as a whole new type. The latter is obviously a much bigger change :-)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547172896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547195922","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-547195922","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":547195922,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzE5NTkyMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T23:53:53Z","updated_at":"2019-10-28T23:53:53Z","author_association":"CONTRIBUTOR","body":"@agrawaldevesh I think I might have missed something? Within the same timezone (both input and output value in the same timezone), will `date_trunc` always return the same value?\r\nE.g. \r\n- Input value in timezone1, truncate the time in timezone1, output value in timezone 2: `timezone_convert(date_trunc('DAYS', input), timezone1, timezone2)`\r\n- Input value in timezone1, output value in timezone2, truncate the time in timezone2:\r\n`date_trunc('DAYS', timezone_convert(input, timezone1, timezone2))`\r\n\r\nIf this does not work, and we need to have the timezone info, then I agree we should put at as an input field. We can make it optional and default to UTC.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547195922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547207333","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-547207333","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":547207333,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzIwNzMzMw==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T00:45:48Z","updated_at":"2019-10-29T00:45:48Z","author_association":"CONTRIBUTOR","body":"> * Input value in timezone1, truncate the time in timezone1, output value in timezone 2: `timezone_convert(date_trunc('DAYS', input), timezone1, timezone2)`\r\n\r\nThe problem is that \"input\" is just a long. How would date_trunc know that 'input' is in timezone1 ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547207333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547209660","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-547209660","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":547209660,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzIwOTY2MA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T00:58:18Z","updated_at":"2019-10-29T00:58:18Z","author_association":"CONTRIBUTOR","body":"@agrawaldevesh I see where I was missing. So both the input and output values are unix time (in UTC), and we just want to truncate the time based on some timezone right?\r\nThen the current approach is good. My suggestion would be making timezone (default UTC), input granularity (default millis) and output granularity (default millis) optional. The function can take 2-5 arguments, and by default using UTC to truncate in millis.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547209660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547210222","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-547210222","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":547210222,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzIxMDIyMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T01:01:02Z","updated_at":"2019-10-29T01:01:02Z","author_association":"CONTRIBUTOR","body":"Also, based on the input value, input granularity can also be automatically figured out","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547210222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547231852","html_url":"https://github.com/apache/pinot/pull/4750#issuecomment-547231852","issue_url":"https://api.github.com/repos/apache/pinot/issues/4750","id":547231852,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzIzMTg1Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T02:45:57Z","updated_at":"2019-10-29T02:46:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4750?src=pr&el=h1) Report\n> Merging [#4750](https://codecov.io/gh/apache/incubator-pinot/pull/4750?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/74aea8564e6b8d289b2946247fa63e892c75453f?src=pr&el=desc) will **increase** coverage by `0.11%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4750/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4750?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4750      +/-   ##\n============================================\n+ Coverage      57.7%   57.81%   +0.11%     \n  Complexity        4        4              \n============================================\n  Files          1207     1207              \n  Lines         64766    64743      -23     \n  Branches       9414     9413       -1     \n============================================\n+ Hits          37371    37431      +60     \n+ Misses        24568    24456     -112     \n- Partials       2827     2856      +29\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4750?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/pinot/common/metrics/ControllerMeter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0ZXIuamF2YQ==) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../core/realtime/PinotLLCRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90TExDUmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `74.47% <ø> (+0.11%)` | `0 <0> (ø)` | :arrow_down: |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `76.27% <ø> (+35.17%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `70.42% <ø> (+0.53%)` | `0 <0> (ø)` | :arrow_down: |\n| [...er/validation/BrokerResourceValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL0Jyb2tlclJlc291cmNlVmFsaWRhdGlvbk1hbmFnZXIuamF2YQ==) | `25% <0%> (-56.25%)` | `0% <0%> (ø)` | |\n| [...ache/pinot/common/utils/TarGzCompressionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVGFyR3pDb21wcmVzc2lvblV0aWxzLmphdmE=) | `68.23% <0%> (-12.95%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `59.13% <0%> (-8.61%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `62.19% <0%> (-8.54%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `66.66% <0%> (-6.46%)` | `0% <0%> (ø)` | |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `76.92% <0%> (-6.16%)` | `0% <0%> (ø)` | |\n| ... and [34 more](https://codecov.io/gh/apache/incubator-pinot/pull/4750/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4750?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4750?src=pr&el=footer). Last update [74aea85...09931aa](https://codecov.io/gh/apache/incubator-pinot/pull/4750?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547231852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547259202","html_url":"https://github.com/apache/pinot/pull/4740#issuecomment-547259202","issue_url":"https://api.github.com/repos/apache/pinot/issues/4740","id":547259202,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzI1OTIwMg==","user":{"login":"agrawaldevesh","id":20564223,"node_id":"MDQ6VXNlcjIwNTY0MjIz","avatar_url":"https://avatars.githubusercontent.com/u/20564223?v=4","gravatar_id":"","url":"https://api.github.com/users/agrawaldevesh","html_url":"https://github.com/agrawaldevesh","followers_url":"https://api.github.com/users/agrawaldevesh/followers","following_url":"https://api.github.com/users/agrawaldevesh/following{/other_user}","gists_url":"https://api.github.com/users/agrawaldevesh/gists{/gist_id}","starred_url":"https://api.github.com/users/agrawaldevesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrawaldevesh/subscriptions","organizations_url":"https://api.github.com/users/agrawaldevesh/orgs","repos_url":"https://api.github.com/users/agrawaldevesh/repos","events_url":"https://api.github.com/users/agrawaldevesh/events{/privacy}","received_events_url":"https://api.github.com/users/agrawaldevesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T05:11:51Z","updated_at":"2019-10-29T05:11:51Z","author_association":"CONTRIBUTOR","body":"Hi @Jackie-Jiang ... thanks for discussing the shape of this function with me on Slack. I have updated it per what we discussed:\r\n\r\nThe new argument format is: \r\n* truncation granularity\r\n* Input value that is always since UTC epoch\r\n* input granularity: milliseconds, seconds etc\r\n* optional: Truncation TZ defaulting to UTC\r\n* optional: Output granularity defaulting to Input granularity\r\n\r\nThanks for helping me nail this interface.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547259202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547541279","html_url":"https://github.com/apache/pinot/pull/4747#issuecomment-547541279","issue_url":"https://api.github.com/repos/apache/pinot/issues/4747","id":547541279,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzU0MTI3OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T17:32:24Z","updated_at":"2019-11-06T19:52:39Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4747?src=pr&el=h1) Report\n> Merging [#4747](https://codecov.io/gh/apache/incubator-pinot/pull/4747?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3c3c71614ed69925959f97a3fca15e1eb289b173?src=pr&el=desc) will **increase** coverage by `7.77%`.\n> The diff coverage is `32.61%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4747/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4747?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4747      +/-   ##\n============================================\n+ Coverage     49.81%   57.58%   +7.77%     \n  Complexity        4        4              \n============================================\n  Files          1204     1211       +7     \n  Lines         64742    65572     +830     \n  Branches       9406     9559     +153     \n============================================\n+ Hits          32252    37761    +5509     \n+ Misses        29940    24944    -4996     \n- Partials       2550     2867     +317\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4747?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/pinot/tools/admin/PinotAdministrator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2FkbWluL1Bpbm90QWRtaW5pc3RyYXRvci5qYXZh) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...inot/tools/admin/command/AnonymizeDataCommand.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2FkbWluL2NvbW1hbmQvQW5vbnltaXplRGF0YUNvbW1hbmQuamF2YQ==) | `0% <0%> (ø)` | `0 <0> (?)` | |\n| [...l/parsers/pql2/ast/ComparisonPredicateAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9Db21wYXJpc29uUHJlZGljYXRlQXN0Tm9kZS5qYXZh) | `45.16% <100%> (+1.25%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ava/org/apache/pinot/pql/parsers/Pql2Compiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QcWwyQ29tcGlsZXIuamF2YQ==) | `69.12% <100%> (+3.71%)` | `0 <0> (ø)` | :arrow_down: |\n| [...pache/pinot/tools/PinotDataAndQueryAnonymizer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL1Bpbm90RGF0YUFuZFF1ZXJ5QW5vbnltaXplci5qYXZh) | `34.36% <34.36%> (ø)` | `0 <0> (?)` | |\n| [...ache/pinot/pql/parsers/pql2/ast/SelectAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9TZWxlY3RBc3ROb2RlLmphdmE=) | `97.8% <75%> (+1.25%)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/org/apache/pinot/core/operator/BaseOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9CYXNlT3BlcmF0b3IuamF2YQ==) | `21.42% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| [...inot/transport/netty/NettyTCPClientConnection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlUQ1BDbGllbnRDb25uZWN0aW9uLmphdmE=) | `81.45% <0%> (-3.32%)` | `0% <0%> (ø)` | |\n| [...ache/pinot/common/data/DateTimeFormatUnitSpec.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YS9EYXRlVGltZUZvcm1hdFVuaXRTcGVjLmphdmE=) | `69.04% <0%> (-2.39%)` | `0% <0%> (ø)` | |\n| [...n/config/SegmentsValidationAndRetentionConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1NlZ21lbnRzVmFsaWRhdGlvbkFuZFJldGVudGlvbkNvbmZpZy5qYXZh) | `48.88% <0%> (-1.12%)` | `0% <0%> (ø)` | |\n| ... and [323 more](https://codecov.io/gh/apache/incubator-pinot/pull/4747/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4747?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4747?src=pr&el=footer). Last update [3c3c716...9c6717a](https://codecov.io/gh/apache/incubator-pinot/pull/4747?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547541279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547610359","html_url":"https://github.com/apache/pinot/issues/3538#issuecomment-547610359","issue_url":"https://api.github.com/repos/apache/pinot/issues/3538","id":547610359,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzYxMDM1OQ==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T20:17:49Z","updated_at":"2019-10-29T20:17:49Z","author_association":"CONTRIBUTOR","body":"Based on Xiang's comments - looks like this is not supported in HLC. Closing issue.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547610359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547620159","html_url":"https://github.com/apache/pinot/pull/4752#issuecomment-547620159","issue_url":"https://api.github.com/repos/apache/pinot/issues/4752","id":547620159,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzYyMDE1OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T20:42:13Z","updated_at":"2019-10-29T20:44:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4752?src=pr&el=h1) Report\n> Merging [#4752](https://codecov.io/gh/apache/incubator-pinot/pull/4752?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/4f849eafd004072a130321a8bcd96456bfee130d?src=pr&el=desc) will **increase** coverage by `19.59%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4752/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4752?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4752       +/-   ##\n=============================================\n+ Coverage     38.19%   57.79%   +19.59%     \n- Complexity        0        4        +4     \n=============================================\n  Files          1209     1209               \n  Lines         64933    64933               \n  Branches       9456     9456               \n=============================================\n+ Hits          24804    37527    +12723     \n+ Misses        37864    24532    -13332     \n- Partials       2265     2874      +609\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4752?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `59.13% <0%> (-8.61%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `60.21% <0%> (-4.31%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `57.31% <0%> (-3.66%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `50.53% <0%> (-3.23%)` | `0% <0%> (ø)` | |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `76.92% <0%> (-2.2%)` | `0% <0%> (ø)` | |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `80% <0%> (-1.67%)` | `0% <0%> (ø)` | |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `35.1% <0%> (+0.4%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...i/resources/PinotSegmentUploadRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZFJlc3RsZXRSZXNvdXJjZS5qYXZh) | `67.67% <0%> (+0.5%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...core/query/executor/ServerQueryExecutorV1Impl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9leGVjdXRvci9TZXJ2ZXJRdWVyeUV4ZWN1dG9yVjFJbXBsLmphdmE=) | `80.71% <0%> (+0.71%)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [579 more](https://codecov.io/gh/apache/incubator-pinot/pull/4752/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4752?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4752?src=pr&el=footer). Last update [4f849ea...0d93679](https://codecov.io/gh/apache/incubator-pinot/pull/4752?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547620159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547621725","html_url":"https://github.com/apache/pinot/pull/4116#issuecomment-547621725","issue_url":"https://api.github.com/repos/apache/pinot/issues/4116","id":547621725,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzYyMTcyNQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T20:46:08Z","updated_at":"2019-10-29T20:46:08Z","author_association":"MEMBER","body":"@Jackie-Jiang is this still valid. should we merge this change or close this pr?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547621725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547622470","html_url":"https://github.com/apache/pinot/pull/4754#issuecomment-547622470","issue_url":"https://api.github.com/repos/apache/pinot/issues/4754","id":547622470,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzYyMjQ3MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T20:47:57Z","updated_at":"2019-10-29T20:47:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4754?src=pr&el=h1) Report\n> Merging [#4754](https://codecov.io/gh/apache/incubator-pinot/pull/4754?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/4f849eafd004072a130321a8bcd96456bfee130d?src=pr&el=desc) will **increase** coverage by `11.71%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4754/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4754?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4754       +/-   ##\n=============================================\n+ Coverage     38.19%   49.91%   +11.71%     \n- Complexity        0        4        +4     \n=============================================\n  Files          1209     1209               \n  Lines         64933    64933               \n  Branches       9456     9456               \n=============================================\n+ Hits          24804    32413     +7609     \n+ Misses        37864    29959     -7905     \n- Partials       2265     2561      +296\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4754?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/pinot/sql/parsers/CalciteSqlCompiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsQ29tcGlsZXIuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/realtime/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vTWVzc2FnZUJhdGNoLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/hadoop/io/CombineAvroKeyInputFormat.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3AvaW8vQ29tYmluZUF2cm9LZXlJbnB1dEZvcm1hdC5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...starter/helix/DefaultHelixStarterServerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9EZWZhdWx0SGVsaXhTdGFydGVyU2VydmVyQ29uZmlnLmphdmE=) | `0% <0%> (-96.16%)` | `0% <0%> (ø)` | |\n| [...re/data/manager/config/TableDataManagerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvY29uZmlnL1RhYmxlRGF0YU1hbmFnZXJDb25maWcuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...converter/stats/RealtimeSegmentStatsContainer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9jb252ZXJ0ZXIvc3RhdHMvUmVhbHRpbWVTZWdtZW50U3RhdHNDb250YWluZXIuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...ot/hadoop/job/partitioners/GenericPartitioner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3Avam9iL3BhcnRpdGlvbmVycy9HZW5lcmljUGFydGl0aW9uZXIuamF2YQ==) | `0% <0%> (-93.34%)` | `0% <0%> (ø)` | |\n| [...a/org/apache/pinot/common/metrics/ServerTimer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9TZXJ2ZXJUaW1lci5qYXZh) | `0% <0%> (-88.89%)` | `0% <0%> (ø)` | |\n| [...ot/tools/query/comparison/SegmentInfoProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL3F1ZXJ5L2NvbXBhcmlzb24vU2VnbWVudEluZm9Qcm92aWRlci5qYXZh) | `0% <0%> (-88.68%)` | `0% <0%> (ø)` | |\n| [...server/starter/helix/HelixInstanceDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeEluc3RhbmNlRGF0YU1hbmFnZXIuamF2YQ==) | `0% <0%> (-87.5%)` | `0% <0%> (ø)` | |\n| ... and [728 more](https://codecov.io/gh/apache/incubator-pinot/pull/4754/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4754?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4754?src=pr&el=footer). Last update [4f849ea...4aed564](https://codecov.io/gh/apache/incubator-pinot/pull/4754?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547622470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547637544","html_url":"https://github.com/apache/pinot/pull/4755#issuecomment-547637544","issue_url":"https://api.github.com/repos/apache/pinot/issues/4755","id":547637544,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzYzNzU0NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T21:28:43Z","updated_at":"2019-10-29T21:33:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4755?src=pr&el=h1) Report\n> Merging [#4755](https://codecov.io/gh/apache/incubator-pinot/pull/4755?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/4f849eafd004072a130321a8bcd96456bfee130d?src=pr&el=desc) will **increase** coverage by `19.47%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4755/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4755?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4755       +/-   ##\n=============================================\n+ Coverage     38.19%   57.67%   +19.47%     \n- Complexity        0        4        +4     \n=============================================\n  Files          1209     1209               \n  Lines         64933    64933               \n  Branches       9456     9456               \n=============================================\n+ Hits          24804    37450    +12646     \n+ Misses        37864    24629    -13235     \n- Partials       2265     2854      +589\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4755?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.05% <0%> (-50.01%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `47.45% <0%> (-28.82%)` | `0% <0%> (ø)` | |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `35.11% <0%> (-15.27%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `48.78% <0%> (-12.2%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-8.34%)` | `0% <0%> (ø)` | |\n| [...n/java/org/apache/pinot/core/transport/Server.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvU2VydmVyLmphdmE=) | `59.25% <0%> (-7.41%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `87.28% <0%> (-5.21%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `40% <0%> (-5%)` | `0% <0%> (ø)` | |\n| [...ng/builder/DefaultRealtimeRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0RlZmF1bHRSZWFsdGltZVJvdXRpbmdUYWJsZUJ1aWxkZXIuamF2YQ==) | `61.9% <0%> (-4.77%)` | `0% <0%> (ø)` | |\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `84.09% <0%> (-4.55%)` | `0% <0%> (ø)` | |\n| ... and [588 more](https://codecov.io/gh/apache/incubator-pinot/pull/4755/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4755?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4755?src=pr&el=footer). Last update [4f849ea...4514638](https://codecov.io/gh/apache/incubator-pinot/pull/4755?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547637544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547655941","html_url":"https://github.com/apache/pinot/pull/4755#issuecomment-547655941","issue_url":"https://api.github.com/repos/apache/pinot/issues/4755","id":547655941,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzY1NTk0MQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T22:24:04Z","updated_at":"2019-10-29T22:24:04Z","author_association":"CONTRIBUTOR","body":"@dbhaskaran  thanks for your interest and contribution to pinot.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547655941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547656192","html_url":"https://github.com/apache/pinot/pull/4751#issuecomment-547656192","issue_url":"https://api.github.com/repos/apache/pinot/issues/4751","id":547656192,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzY1NjE5Mg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T22:24:53Z","updated_at":"2019-10-29T22:24:53Z","author_association":"CONTRIBUTOR","body":"@sekikn  thanks for your contribution to pinot","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547656192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547659641","html_url":"https://github.com/apache/pinot/issues/4115#issuecomment-547659641","issue_url":"https://api.github.com/repos/apache/pinot/issues/4115","id":547659641,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzY1OTY0MQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T22:36:07Z","updated_at":"2019-10-29T22:36:07Z","author_association":"CONTRIBUTOR","body":"@bd2019us Thanks for the fix. The change has been merged.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547659641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547678578","html_url":"https://github.com/apache/pinot/pull/4756#issuecomment-547678578","issue_url":"https://api.github.com/repos/apache/pinot/issues/4756","id":547678578,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzY3ODU3OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T23:50:20Z","updated_at":"2019-10-29T23:53:14Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4756?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@5b97d06`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4756/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4756?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4756   +/-   ##\n=========================================\n  Coverage          ?   57.77%           \n  Complexity        ?        4           \n=========================================\n  Files             ?     1209           \n  Lines             ?    64933           \n  Branches          ?     9456           \n=========================================\n  Hits              ?    37516           \n  Misses            ?    24546           \n  Partials          ?     2871\n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4756?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4756?src=pr&el=footer). Last update [5b97d06...c4f6265](https://codecov.io/gh/apache/incubator-pinot/pull/4756?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547678578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547748095","html_url":"https://github.com/apache/pinot/pull/4737#issuecomment-547748095","issue_url":"https://api.github.com/repos/apache/pinot/issues/4737","id":547748095,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzc0ODA5NQ==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T05:49:00Z","updated_at":"2019-10-30T05:50:50Z","author_association":"CONTRIBUTOR","body":"> we have too many modules at the top level. lets move the package to a sub-folder (pinot-contrib). renamed the module to druid-2-pinot-migration or something like that.\r\n> \r\n> How can a user this tool?\r\n> \r\n> Will it be something like, Druid2Pinot <druid_cluster_endpoint_config> <pinot_cluster_endpoint_config>?\r\n> \r\n> At a high level, what are the various steps involved in this? A simple issue with some description will help in understanding the goal and reviewing this PR.\r\n\r\n@kishoreg \r\n\r\nWe will address the package location before we check in this pr. We were also debating top level vs `pinot-contrib`. \r\n\r\nWhat's your opinion on adding druid dependency to `pinot-tools` or `pinot-hadoop`? If we want to use existing segment generation tools (e.g. `pinot-admin's SegmentGenerationCommand` or in `PinotSegmentGeneration` hadoop job), we need to pull druid dependency. (`pinot-tools` and `pinot-hadoop` will pull `pinot-druid-migration`, which pulls druid.\r\n\r\nAnother approach is to provide this tool as a completely separate code outside of Pinot project. In that case, we can add the standalone class with its own Main function for cmd line tool and provide a standalone hadoop job. All code will be under `pinot-contrib/pinot-druid-migration` and other part of Pinot code won't import this package.\r\n\r\nFor user interface, our current approach is to reuse the existing segment generation tools (cmd line, hadoop job) and add `DRUID_SEGMENT` as an extra input data format that we support.\r\n\r\nWe can add more tools around segment converter to automatize end-to-end migration process.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547748095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547753102","html_url":"https://github.com/apache/pinot/pull/4737#issuecomment-547753102","issue_url":"https://api.github.com/repos/apache/pinot/issues/4737","id":547753102,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzc1MzEwMg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T06:11:01Z","updated_at":"2019-10-30T06:11:01Z","author_association":"MEMBER","body":"> > we have too many modules at the top level. lets move the package to a sub-folder (pinot-contrib). renamed the module to druid-2-pinot-migration or something like that.\r\n> > How can a user this tool?\r\n> > Will it be something like, Druid2Pinot <druid_cluster_endpoint_config> <pinot_cluster_endpoint_config>?\r\n> > At a high level, what are the various steps involved in this? A simple issue with some description will help in understanding the goal and reviewing this PR.\r\n> \r\n> @kishoreg\r\n> \r\n> We will address the package location before we check in this pr. We were also debating top level vs `pinot-contrib`.\r\n> \r\n> What's your opinion on adding druid dependency to `pinot-tools` or `pinot-hadoop`? If we want to use existing segment generation tools (e.g. `pinot-admin's SegmentGenerationCommand` or in `PinotSegmentGeneration` hadoop job), we need to pull druid dependency. (`pinot-tools` and `pinot-hadoop` will pull `pinot-druid-migration`, which pulls druid.\r\n> \r\n> Another approach is to provide this tool as a completely separate code outside of Pinot project. In that case, we can add the standalone class with its own Main function for cmd line tool and provide a standalone hadoop job. All code will be under `pinot-contrib/pinot-druid-migration` and other part of Pinot code won't import this package.\r\n> \r\n> For user interface, our current approach is to reuse the existing segment generation tools (cmd line, hadoop job) and add `DRUID_SEGMENT` as an extra input data format that we support.\r\n> \r\n> We can add more tools around segment converter to automatize end-to-end migration process.\r\n\r\nLet's not add druid dependency in pinot-tools/hadoop.  Its better to keep this as a separate project for now. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547753102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547755034","html_url":"https://github.com/apache/pinot/pull/3849#issuecomment-547755034","issue_url":"https://api.github.com/repos/apache/pinot/issues/3849","id":547755034,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzc1NTAzNA==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T06:20:05Z","updated_at":"2019-10-30T06:20:05Z","author_association":"CONTRIBUTOR","body":"> Let's avoid the extra copy in the localFS case. Like you suggested, adding an isLocal check should be an okay approach for now.\r\n> One thing we could do is push the entire logic of fetching file and building Response into the PinotFS interface. But that wouldn't be very clean either, as it is too specific a task for an FS to perform.\r\n\r\nOk. I filed a new PR #4757 to replace this one which is too old to update.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547755034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547821521","html_url":"https://github.com/apache/pinot/pull/4758#issuecomment-547821521","issue_url":"https://api.github.com/repos/apache/pinot/issues/4758","id":547821521,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzgyMTUyMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T09:53:46Z","updated_at":"2019-10-30T09:55:34Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4758?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@367f7e4`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4758/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4758?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4758   +/-   ##\n=========================================\n  Coverage          ?   57.73%           \n  Complexity        ?        4           \n=========================================\n  Files             ?     1209           \n  Lines             ?    64938           \n  Branches          ?     9458           \n=========================================\n  Hits              ?    37489           \n  Misses            ?    24602           \n  Partials          ?     2847\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4758?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/realtime/impl/kafka/KafkaJSONMessageDecoder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4758/diff?src=pr&el=tree#diff-cGlub3QtY29ubmVjdG9ycy9waW5vdC1jb25uZWN0b3Ita2Fma2EtYmFzZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2thZmthL0thZmthSlNPTk1lc3NhZ2VEZWNvZGVyLmphdmE=) | `78.94% <100%> (ø)` | `0 <0> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4758?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4758?src=pr&el=footer). Last update [367f7e4...1a7d0a5](https://codecov.io/gh/apache/incubator-pinot/pull/4758?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547821521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547997388","html_url":"https://github.com/apache/pinot/issues/4192#issuecomment-547997388","issue_url":"https://api.github.com/repos/apache/pinot/issues/4192","id":547997388,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Nzk5NzM4OA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T16:35:22Z","updated_at":"2019-10-30T16:35:22Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang  I think this featrure is now supported. If so, can you close this issue?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/547997388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548017095","html_url":"https://github.com/apache/pinot/pull/4754#issuecomment-548017095","issue_url":"https://api.github.com/repos/apache/pinot/issues/4754","id":548017095,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODAxNzA5NQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T17:16:12Z","updated_at":"2019-10-30T17:16:12Z","author_association":"CONTRIBUTOR","body":"Changing jackson version has caused us a problem in the past, due to incompatible changes across versions.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548017095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548017654","html_url":"https://github.com/apache/pinot/pull/4752#issuecomment-548017654","issue_url":"https://api.github.com/repos/apache/pinot/issues/4752","id":548017654,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODAxNzY1NA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T17:17:21Z","updated_at":"2019-10-30T17:17:21Z","author_association":"CONTRIBUTOR","body":"This change may need to be verified in our production environment. @Jackie-Jiang  do you have any comments on it?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548017654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548025639","html_url":"https://github.com/apache/pinot/issues/4192#issuecomment-548025639","issue_url":"https://api.github.com/repos/apache/pinot/issues/4192","id":548025639,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODAyNTYzOQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T17:34:17Z","updated_at":"2019-10-30T17:34:17Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu Yes, all the segment assignment/rebalance/relocation are supported by the new ResourceAssignment. The only part missing is the Routing change.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548025639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548031706","html_url":"https://github.com/apache/pinot/pull/4752#issuecomment-548031706","issue_url":"https://api.github.com/repos/apache/pinot/issues/4752","id":548031706,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODAzMTcwNg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T17:47:09Z","updated_at":"2019-10-30T17:47:09Z","author_association":"CONTRIBUTOR","body":"> This change may need to be verified in our production environment. @Jackie-Jiang do you have any comments on it?\r\n\r\nI don't have much concern on this, this version is available in our artifactory, so we can update the version and try it in our production environment.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548031706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548042615","html_url":"https://github.com/apache/pinot/issues/4525#issuecomment-548042615","issue_url":"https://api.github.com/repos/apache/pinot/issues/4525","id":548042615,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA0MjYxNQ==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T18:08:21Z","updated_at":"2019-10-30T18:10:38Z","author_association":"CONTRIBUTOR","body":"Here's how we can plan our PRs (based on Ting's recommendation)\r\n\r\n1) PR to decouple using instance name/ID for routing requests (basically don't assume instance name/ID is a valid discoverable host name. Instead use this iD to look up the real host name)\r\n2) PR to change HelixServerStarter to accept a logical instance iD, host and port for starting a server.\r\n\r\n@kishoreg @mayankshriv any thoughts on this before I proceed ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548042615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548055689","html_url":"https://github.com/apache/pinot/issues/4525#issuecomment-548055689","issue_url":"https://api.github.com/repos/apache/pinot/issues/4525","id":548055689,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA1NTY4OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T18:38:06Z","updated_at":"2019-10-30T18:38:06Z","author_association":"MEMBER","body":"> Here's how we can plan our PRs (based on Ting's recommendation)\r\n> \r\n> 1. PR to decouple using instance name/ID for routing requests (basically don't assume instance name/ID is a valid discoverable host name. Instead use this iD to look up the real host name)\r\nThis can be done asap.\r\n> 2. PR to change HelixServerStarter to accept a logical instance iD, host and port for starting a server.\r\nhost and port are optional, right?. If the instanceId already exists in Helix, we should change the host/port in the instanceconfig rt.\r\n> \r\n> @kishoreg @mayankshriv any thoughts on this before I proceed ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548055689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548056847","html_url":"https://github.com/apache/pinot/issues/4525#issuecomment-548056847","issue_url":"https://api.github.com/repos/apache/pinot/issues/4525","id":548056847,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA1Njg0Nw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T18:40:35Z","updated_at":"2019-10-30T18:40:35Z","author_association":"MEMBER","body":"Unrelated to this PR, it will be great if we can support a mode where a node starts and grabs any available instanceId. This will be useful in cloud/kubernetes deployment where a new pinot server can provisioned and started on any host.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548056847/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548063103","html_url":"https://github.com/apache/pinot/issues/4525#issuecomment-548063103","issue_url":"https://api.github.com/repos/apache/pinot/issues/4525","id":548063103,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA2MzEwMw==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T18:55:41Z","updated_at":"2019-10-30T18:55:41Z","author_association":"CONTRIBUTOR","body":"> Unrelated to this PR, it will be great if we can support a mode where a node starts and grabs any available instanceId. This will be useful in cloud/kubernetes deployment where a new pinot server can provisioned and started on any host.\r\n\r\n@kishoreg Yes, that can be an extension to this issue. We can have 2 ways of assigning instance ID:\r\na) Explicitly in HelixServerStarter (this is very useful in our environment wherein the instanceId is centrally coordinated outside of Pinot and explicitly assigned)\r\nb) Auto assign via some discovery mechanism (either by Pinot controller or external component).\r\n\r\nFor now, are you ok with this approach ? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548063103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548068448","html_url":"https://github.com/apache/pinot/issues/4525#issuecomment-548068448","issue_url":"https://api.github.com/repos/apache/pinot/issues/4525","id":548068448,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA2ODQ0OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T19:09:07Z","updated_at":"2019-10-30T19:09:07Z","author_association":"MEMBER","body":"Looks good to me. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548068448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548088007","html_url":"https://github.com/apache/pinot/issues/4525#issuecomment-548088007","issue_url":"https://api.github.com/repos/apache/pinot/issues/4525","id":548088007,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA4ODAwNw==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T20:02:23Z","updated_at":"2019-10-30T20:02:23Z","author_association":"CONTRIBUTOR","body":"@kishoreg thinking more about PR (1):\r\n\r\nA performance side effect of decoupling is that every single reference to instance name will result in a Zk call (naive implementation). I'm guessing this is why the instance name was constructed with this information in the first place (which is a nice hack).\r\n\r\nFor a clean design, how about we create a helper class which caches the map of instance name to <host,port> info ? We can implement a Helix spectator to keep this map updated. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548088007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548089481","html_url":"https://github.com/apache/pinot/issues/4762#issuecomment-548089481","issue_url":"https://api.github.com/repos/apache/pinot/issues/4762","id":548089481,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODA4OTQ4MQ==","user":{"login":"afilipchik","id":1406795,"node_id":"MDQ6VXNlcjE0MDY3OTU=","avatar_url":"https://avatars.githubusercontent.com/u/1406795?v=4","gravatar_id":"","url":"https://api.github.com/users/afilipchik","html_url":"https://github.com/afilipchik","followers_url":"https://api.github.com/users/afilipchik/followers","following_url":"https://api.github.com/users/afilipchik/following{/other_user}","gists_url":"https://api.github.com/users/afilipchik/gists{/gist_id}","starred_url":"https://api.github.com/users/afilipchik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afilipchik/subscriptions","organizations_url":"https://api.github.com/users/afilipchik/orgs","repos_url":"https://api.github.com/users/afilipchik/repos","events_url":"https://api.github.com/users/afilipchik/events{/privacy}","received_events_url":"https://api.github.com/users/afilipchik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T20:06:11Z","updated_at":"2019-10-31T02:20:04Z","author_association":"NONE","body":"I deployed pinot to our kubernetes cluster using slightly modified version of skaffold templates from: kubernetes/examples/gke/skaffold\r\n\r\nOnce cluster was UP if used port forwarding to expose coordinator on localhost:\r\n```kubectl port-forward service/pinot-controller 9000:9000 -n pinot```\r\n\r\nValidated that console on localhost:9000 worked. Calls to localhost were reflected in coordinator logs. \r\nHowever, when I tried to use admin tool to add a schema it did nothing (no errors in admin logs). I also didn't see any errors in coordinator logs. \r\n\r\nI switched to debugging, stepped through add schema command and saw that error is 404 without any reason.\r\n\r\nI was able to register schema using both curl and Swagger UI in the same time.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548089481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548143693","html_url":"https://github.com/apache/pinot/issues/4525#issuecomment-548143693","issue_url":"https://api.github.com/repos/apache/pinot/issues/4525","id":548143693,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODE0MzY5Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-30T22:43:37Z","updated_at":"2019-10-30T22:43:37Z","author_association":"MEMBER","body":"Broker already listens to the changes in instance config and caches it. This should be fairly straightforward. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548143693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548172347","html_url":"https://github.com/apache/pinot/issues/4692#issuecomment-548172347","issue_url":"https://api.github.com/repos/apache/pinot/issues/4692","id":548172347,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODE3MjM0Nw==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-31T00:54:09Z","updated_at":"2019-10-31T00:54:09Z","author_association":"CONTRIBUTOR","body":"This has been resolved with the PR above. Closing.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548172347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548173120","html_url":"https://github.com/apache/pinot/issues/4225#issuecomment-548173120","issue_url":"https://api.github.com/repos/apache/pinot/issues/4225","id":548173120,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODE3MzEyMA==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-31T00:58:44Z","updated_at":"2019-10-31T00:58:44Z","author_association":"CONTRIBUTOR","body":"Design doc (after offline discussions with @mcvsubbu @Jackie-Jiang @npawar ): https://docs.google.com/document/d/1WxXeHstWvj79nomz3iXS_Y9pM93B7BwSN199TZ140ZQ/edit","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548173120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548215897","html_url":"https://github.com/apache/pinot/pull/4764#issuecomment-548215897","issue_url":"https://api.github.com/repos/apache/pinot/issues/4764","id":548215897,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODIxNTg5Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-31T04:51:36Z","updated_at":"2019-10-31T23:51:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4764?src=pr&el=h1) Report\n> Merging [#4764](https://codecov.io/gh/apache/incubator-pinot/pull/4764?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/6d3c7de777e65798fab2b203c4735fa73b36b6ee?src=pr&el=desc) will **increase** coverage by `12.07%`.\n> The diff coverage is `71.42%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4764/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4764?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4764       +/-   ##\n=============================================\n+ Coverage     37.91%   49.98%   +12.07%     \n- Complexity        0        4        +4     \n=============================================\n  Files          1209     1209               \n  Lines         64947    64973       +26     \n  Branches       9460     9467        +7     \n=============================================\n+ Hits          24622    32479     +7857     \n+ Misses        38078    29931     -8147     \n- Partials       2247     2563      +316\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4764?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/org/apache/pinot/core/operator/BaseOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9CYXNlT3BlcmF0b3IuamF2YQ==) | `21.42% <0%> (-3.58%)` | `0 <0> (ø)` | |\n| [...rg/apache/pinot/core/operator/CombineOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9Db21iaW5lT3BlcmF0b3IuamF2YQ==) | `69.44% <66.66%> (+4.79%)` | `0 <0> (ø)` | :arrow_down: |\n| [...he/pinot/core/operator/CombineGroupByOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9Db21iaW5lR3JvdXBCeU9wZXJhdG9yLmphdmE=) | `83.69% <77.77%> (+7.83%)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/core/operator/CombineGroupByOrderByOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9Db21iaW5lR3JvdXBCeU9yZGVyQnlPcGVyYXRvci5qYXZh) | `79.8% <77.77%> (+79.8%)` | `0 <0> (ø)` | :arrow_down: |\n| [...va/org/apache/pinot/core/plan/CombinePlanNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL0NvbWJpbmVQbGFuTm9kZS5qYXZh) | `75.4% <81.81%> (+3.98%)` | `0 <0> (ø)` | :arrow_down: |\n| [...g/apache/pinot/sql/parsers/CalciteSqlCompiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsQ29tcGlsZXIuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/realtime/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vTWVzc2FnZUJhdGNoLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/hadoop/io/CombineAvroKeyInputFormat.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3AvaW8vQ29tYmluZUF2cm9LZXlJbnB1dEZvcm1hdC5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...starter/helix/DefaultHelixStarterServerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9EZWZhdWx0SGVsaXhTdGFydGVyU2VydmVyQ29uZmlnLmphdmE=) | `0% <0%> (-96.16%)` | `0% <0%> (ø)` | |\n| [...re/data/manager/config/TableDataManagerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvY29uZmlnL1RhYmxlRGF0YU1hbmFnZXJDb25maWcuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| ... and [738 more](https://codecov.io/gh/apache/incubator-pinot/pull/4764/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4764?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4764?src=pr&el=footer). Last update [6d3c7de...324449a](https://codecov.io/gh/apache/incubator-pinot/pull/4764?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548215897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548593899","html_url":"https://github.com/apache/pinot/pull/4767#issuecomment-548593899","issue_url":"https://api.github.com/repos/apache/pinot/issues/4767","id":548593899,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODU5Mzg5OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-31T22:27:02Z","updated_at":"2019-10-31T22:48:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4767?src=pr&el=h1) Report\n> Merging [#4767](https://codecov.io/gh/apache/incubator-pinot/pull/4767?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/5439e77f60d6f7efb78acc928a58ba64eca87fee?src=pr&el=desc) will **decrease** coverage by `12%`.\n> The diff coverage is `54.54%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4767/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4767?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4767       +/-   ##\n=============================================\n- Coverage     49.95%   37.94%   -12.01%     \n=============================================\n  Files          1209     1209               \n  Lines         64938    64947        +9     \n  Branches       9458     9460        +2     \n=============================================\n- Hits          32437    24645     -7792     \n- Misses        29942    38046     +8104     \n+ Partials       2559     2256      -303\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4767?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `32.69% <ø> (+7.69%)` | `0 <0> (ø)` | :arrow_down: |\n| [...er/routing/builder/RoutingTableInstancePruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL1JvdXRpbmdUYWJsZUluc3RhbmNlUHJ1bmVyLmphdmE=) | `60.86% <25%> (-23.35%)` | `0 <0> (ø)` | |\n| [.../broker/routing/HelixExternalViewBasedRouting.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9IZWxpeEV4dGVybmFsVmlld0Jhc2VkUm91dGluZy5qYXZh) | `89.87% <71.42%> (+41.9%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../org/apache/pinot/common/http/MultiGetRequest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vaHR0cC9NdWx0aUdldFJlcXVlc3QuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...nullvalue/RealtimeNullValueVectorReaderWriter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL251bGx2YWx1ZS9SZWFsdGltZU51bGxWYWx1ZVZlY3RvclJlYWRlcldyaXRlci5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...n/function/PercentileEstMVAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlRXN0TVZBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/common/restlet/resources/TablesList.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvVGFibGVzTGlzdC5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ransformer/timeunit/CustomTimeUnitTransformer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vdHJhbnNmb3JtZXIvdGltZXVuaXQvQ3VzdG9tVGltZVVuaXRUcmFuc2Zvcm1lci5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/pql/parsers/pql2/ast/OptionsAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9PcHRpb25zQXN0Tm9kZS5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ot/core/query/scheduler/TableBasedGroupMapper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvVGFibGVCYXNlZEdyb3VwTWFwcGVyLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| ... and [734 more](https://codecov.io/gh/apache/incubator-pinot/pull/4767/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4767?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4767?src=pr&el=footer). Last update [5439e77...7387778](https://codecov.io/gh/apache/incubator-pinot/pull/4767?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548593899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548607833","html_url":"https://github.com/apache/pinot/pull/4763#issuecomment-548607833","issue_url":"https://api.github.com/repos/apache/pinot/issues/4763","id":548607833,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODYwNzgzMw==","user":{"login":"harleyjj","id":10106733,"node_id":"MDQ6VXNlcjEwMTA2NzMz","avatar_url":"https://avatars.githubusercontent.com/u/10106733?v=4","gravatar_id":"","url":"https://api.github.com/users/harleyjj","html_url":"https://github.com/harleyjj","followers_url":"https://api.github.com/users/harleyjj/followers","following_url":"https://api.github.com/users/harleyjj/following{/other_user}","gists_url":"https://api.github.com/users/harleyjj/gists{/gist_id}","starred_url":"https://api.github.com/users/harleyjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harleyjj/subscriptions","organizations_url":"https://api.github.com/users/harleyjj/orgs","repos_url":"https://api.github.com/users/harleyjj/repos","events_url":"https://api.github.com/users/harleyjj/events{/privacy}","received_events_url":"https://api.github.com/users/harleyjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-31T23:26:46Z","updated_at":"2019-10-31T23:26:46Z","author_association":"CONTRIBUTOR","body":"Thank you for the really valuable feedback @xiaohui-sun.  I made all the changes you noted.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548607833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548699263","html_url":"https://github.com/apache/pinot/pull/4770#issuecomment-548699263","issue_url":"https://api.github.com/repos/apache/pinot/issues/4770","id":548699263,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODY5OTI2Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-01T07:53:12Z","updated_at":"2019-11-01T07:53:12Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4770?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@5d30495`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4770/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4770?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4770   +/-   ##\n=========================================\n  Coverage          ?   57.91%           \n  Complexity        ?        4           \n=========================================\n  Files             ?     1209           \n  Lines             ?    64973           \n  Branches          ?     9467           \n=========================================\n  Hits              ?    37626           \n  Misses            ?    24477           \n  Partials          ?     2870\n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4770?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4770?src=pr&el=footer). Last update [5d30495...4a546de](https://codecov.io/gh/apache/incubator-pinot/pull/4770?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548699263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548839783","html_url":"https://github.com/apache/pinot/pull/4770#issuecomment-548839783","issue_url":"https://api.github.com/repos/apache/pinot/issues/4770","id":548839783,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODgzOTc4Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-01T15:50:17Z","updated_at":"2019-11-01T15:50:17Z","author_association":"MEMBER","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/548839783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]