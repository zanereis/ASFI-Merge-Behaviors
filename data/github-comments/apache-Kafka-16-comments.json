[{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145022726","html_url":"https://github.com/apache/kafka/pull/270#issuecomment-145022726","issue_url":"https://api.github.com/repos/apache/kafka/issues/270","id":145022726,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTAyMjcyNg==","user":{"login":"rhauch","id":84732,"node_id":"MDQ6VXNlcjg0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/84732?v=4","gravatar_id":"","url":"https://api.github.com/users/rhauch","html_url":"https://github.com/rhauch","followers_url":"https://api.github.com/users/rhauch/followers","following_url":"https://api.github.com/users/rhauch/following{/other_user}","gists_url":"https://api.github.com/users/rhauch/gists{/gist_id}","starred_url":"https://api.github.com/users/rhauch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rhauch/subscriptions","organizations_url":"https://api.github.com/users/rhauch/orgs","repos_url":"https://api.github.com/users/rhauch/repos","events_url":"https://api.github.com/users/rhauch/events{/privacy}","received_events_url":"https://api.github.com/users/rhauch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T13:37:40Z","updated_at":"2015-10-02T13:39:02Z","author_association":"CONTRIBUTOR","body":"@ijuma, from the [Java SE 8 Language Specification](https://docs.oracle.com/javase/specs/jls/se8/html/jls-13.html), \"inserting new class or interface types in the type hierarchy\" will be binary compatible. That means that adding the Java 8 interfaces (e.g., `BiPredicate`) as super interfaces of our's (e.g., `...streams.Predicate`) will be binary compatible. \n\nHowever, you are right that _changing_ the method signature (e.g., `KStreams.filter(Predicate<K,V>)` to `filter(BiPredicate<K,V>)`) will not be binary compatible. So rather than change the method signature, we can easily achieve binary compatibility by _overloading_ the methods that take these types (e.g., in `KStreams` methods we can _add_ default methods `filter(BiPredicate<K,V>)` and `filterOut(BiPredicate<K,V>)` that delegate to the existing methods, or vice versa). Also, the places where they're used are not functional interfaces, so adding the method should not be a problem -- even if they were functional interfaces, we can always add default methods to keep the interfaces functional.\n\nThe result is that the new Kafka version that will use Java 8 will be binary compatible: anyone trying to upgrade to the new Kafka version with or without recompiling would be fine, as they'd use the existing interfaces and methods, while those writing code against the newer Kafka version could use either the standard or Kafka functional interfaces. (BTW, this if we go this route, we should deprecate the older interfaces and older methods, giving some guidance as to which overloaded methods we want people to use.)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145022726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145028262","html_url":"https://github.com/apache/kafka/pull/270#issuecomment-145028262","issue_url":"https://api.github.com/repos/apache/kafka/issues/270","id":145028262,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTAyODI2Mg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T13:53:54Z","updated_at":"2015-10-02T13:53:54Z","author_association":"MEMBER","body":"@rhauch, right, this is exactly the issue I am outlining. You are now suggesting overloading, which is I mentioned in the original message is problematic:\n\n\"API design is hard. It was hard before, it has gotten harder now. With Java 8, if any of your API methods’ arguments are a functional interface, think twice about overloading that API method. And once you’ve concluded to proceed with overloading, think again, a third time whether this is really a good idea.\"\nhttp://blog.jooq.org/2015/01/29/you-will-regret-applying-overloading-with-lambdas/\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145028262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145028864","html_url":"https://github.com/apache/kafka/pull/270#issuecomment-145028864","issue_url":"https://api.github.com/repos/apache/kafka/issues/270","id":145028864,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTAyODg2NA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T13:56:41Z","updated_at":"2015-10-02T13:56:41Z","author_association":"MEMBER","body":"Having said that, it would be good to verify our exact case, if we use overloads, does it cause inference issues when using them with lambdas?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145028864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145035775","html_url":"https://github.com/apache/kafka/pull/273#issuecomment-145035775","issue_url":"https://api.github.com/repos/apache/kafka/issues/273","id":145035775,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTAzNTc3NQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T14:22:42Z","updated_at":"2015-10-02T14:22:42Z","author_association":"NONE","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145035775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145040172","html_url":"https://github.com/apache/kafka/pull/270#issuecomment-145040172","issue_url":"https://api.github.com/repos/apache/kafka/issues/270","id":145040172,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTA0MDE3Mg==","user":{"login":"rhauch","id":84732,"node_id":"MDQ6VXNlcjg0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/84732?v=4","gravatar_id":"","url":"https://api.github.com/users/rhauch","html_url":"https://github.com/rhauch","followers_url":"https://api.github.com/users/rhauch/followers","following_url":"https://api.github.com/users/rhauch/following{/other_user}","gists_url":"https://api.github.com/users/rhauch/gists{/gist_id}","starred_url":"https://api.github.com/users/rhauch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rhauch/subscriptions","organizations_url":"https://api.github.com/users/rhauch/orgs","repos_url":"https://api.github.com/users/rhauch/repos","events_url":"https://api.github.com/users/rhauch/events{/privacy}","received_events_url":"https://api.github.com/users/rhauch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T14:33:38Z","updated_at":"2015-10-02T14:33:38Z","author_association":"CONTRIBUTOR","body":"@ijuma, good catch. I tried making the changes locally (including jumping to Java 8), and overloading the methods does make using lambda's ambiguous. So, unless there's another way to do this, it looks like we're \"stuck\" with our interfaces -- which is perfectly fine. :-) They'll become functional interfaces when Kafka requires Java 8, and users will be able to use lambdas. \n\nThen the question is: do we still want to make the changes in this PR? Personally, I think it is better to at least align with the names and concepts of standard Java 8 API, but that is completely a personal preference. \n\n@ijuma, @guozhangwang, others: Thoughts?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145040172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145044154","html_url":"https://github.com/apache/kafka/pull/270#issuecomment-145044154","issue_url":"https://api.github.com/repos/apache/kafka/issues/270","id":145044154,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTA0NDE1NA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T14:43:10Z","updated_at":"2015-10-02T14:43:10Z","author_association":"MEMBER","body":"Thanks for trying it. I think the changes are still worth doing. I just wanted to make sure we understood our options going forward.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145044154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145071915","html_url":"https://github.com/apache/kafka/pull/273#issuecomment-145071915","issue_url":"https://api.github.com/repos/apache/kafka/issues/273","id":145071915,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTA3MTkxNQ==","user":{"login":"benstopford","id":1297498,"node_id":"MDQ6VXNlcjEyOTc0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1297498?v=4","gravatar_id":"","url":"https://api.github.com/users/benstopford","html_url":"https://github.com/benstopford","followers_url":"https://api.github.com/users/benstopford/followers","following_url":"https://api.github.com/users/benstopford/following{/other_user}","gists_url":"https://api.github.com/users/benstopford/gists{/gist_id}","starred_url":"https://api.github.com/users/benstopford/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benstopford/subscriptions","organizations_url":"https://api.github.com/users/benstopford/orgs","repos_url":"https://api.github.com/users/benstopford/repos","events_url":"https://api.github.com/users/benstopford/events{/privacy}","received_events_url":"https://api.github.com/users/benstopford/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T16:02:59Z","updated_at":"2015-10-02T16:02:59Z","author_association":"CONTRIBUTOR","body":"Nice. LGTM!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145071915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145084471","html_url":"https://github.com/apache/kafka/pull/270#issuecomment-145084471","issue_url":"https://api.github.com/repos/apache/kafka/issues/270","id":145084471,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTA4NDQ3MQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T16:51:10Z","updated_at":"2015-10-02T16:51:10Z","author_association":"CONTRIBUTOR","body":"@ijuma Thanks for pointing out the ambiguity issue, I have not considered this before. Currently we do not have two methods that takes the same number of interface functions yet, but I agree that moving forward we might.\n\nI think we can still move forward with the name alignment just to keep the door open for now.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145084471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145143977","html_url":"https://github.com/apache/kafka/pull/229#issuecomment-145143977","issue_url":"https://api.github.com/repos/apache/kafka/issues/229","id":145143977,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE0Mzk3Nw==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T20:15:58Z","updated_at":"2015-10-02T20:15:58Z","author_association":"CONTRIBUTOR","body":"@granders besides the Kafka version issue I commented on, I think there are still a bunch of services pointing at `/opt/kafka`, which has now been changed to `/opt/kafka-trunk`. At the moment, I can't get any of the tests to run.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145143977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145155933","html_url":"https://github.com/apache/kafka/pull/272#issuecomment-145155933","issue_url":"https://api.github.com/repos/apache/kafka/issues/272","id":145155933,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE1NTkzMw==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T21:09:52Z","updated_at":"2015-10-02T21:09:52Z","author_association":"CONTRIBUTOR","body":"LGTM. Nice to get rid of those `completeAll` methods -- I hadn't realized we had removed all uses of them!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145155933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145161976","html_url":"https://github.com/apache/kafka/pull/273#issuecomment-145161976","issue_url":"https://api.github.com/repos/apache/kafka/issues/273","id":145161976,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE2MTk3Ng==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T21:44:20Z","updated_at":"2015-10-02T21:44:20Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch. LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145161976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145164791","html_url":"https://github.com/apache/kafka/pull/272#issuecomment-145164791","issue_url":"https://api.github.com/repos/apache/kafka/issues/272","id":145164791,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE2NDc5MQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T21:52:59Z","updated_at":"2015-10-02T21:52:59Z","author_association":"MEMBER","body":"Agreed. :)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145164791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145166989","html_url":"https://github.com/apache/kafka/pull/246#issuecomment-145166989","issue_url":"https://api.github.com/repos/apache/kafka/issues/246","id":145166989,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE2Njk4OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T22:03:48Z","updated_at":"2015-10-02T22:03:48Z","author_association":"CONTRIBUTOR","body":"LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145166989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145167246","html_url":"https://github.com/apache/kafka/pull/258#issuecomment-145167246","issue_url":"https://api.github.com/repos/apache/kafka/issues/258","id":145167246,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE2NzI0Ng==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T22:05:43Z","updated_at":"2015-10-02T22:05:43Z","author_association":"CONTRIBUTOR","body":"LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145167246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145168441","html_url":"https://github.com/apache/kafka/pull/259#issuecomment-145168441","issue_url":"https://api.github.com/repos/apache/kafka/issues/259","id":145168441,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE2ODQ0MQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T22:14:42Z","updated_at":"2015-10-02T22:14:42Z","author_association":"CONTRIBUTOR","body":"Should these two be folders, hence \".recommenders/\"?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145168441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145170725","html_url":"https://github.com/apache/kafka/pull/259#issuecomment-145170725","issue_url":"https://api.github.com/repos/apache/kafka/issues/259","id":145170725,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE3MDcyNQ==","user":{"login":"rhauch","id":84732,"node_id":"MDQ6VXNlcjg0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/84732?v=4","gravatar_id":"","url":"https://api.github.com/users/rhauch","html_url":"https://github.com/rhauch","followers_url":"https://api.github.com/users/rhauch/followers","following_url":"https://api.github.com/users/rhauch/following{/other_user}","gists_url":"https://api.github.com/users/rhauch/gists{/gist_id}","starred_url":"https://api.github.com/users/rhauch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rhauch/subscriptions","organizations_url":"https://api.github.com/users/rhauch/orgs","repos_url":"https://api.github.com/users/rhauch/repos","events_url":"https://api.github.com/users/rhauch/events{/privacy}","received_events_url":"https://api.github.com/users/rhauch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T22:31:26Z","updated_at":"2015-10-02T22:31:26Z","author_association":"CONTRIBUTOR","body":"@guozhangwang, the leading `/` is used to say the rule only applies to a top-level directory. But a trailing `/` is optional (e.g., see `.svn`, `.settings`, etc.).\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145170725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145173584","html_url":"https://github.com/apache/kafka/pull/204#issuecomment-145173584","issue_url":"https://api.github.com/repos/apache/kafka/issues/204","id":145173584,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE3MzU4NA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T22:42:14Z","updated_at":"2015-10-02T22:42:14Z","author_association":"CONTRIBUTOR","body":"LGTM, one minor comment.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145173584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145176763","html_url":"https://github.com/apache/kafka/pull/259#issuecomment-145176763","issue_url":"https://api.github.com/repos/apache/kafka/issues/259","id":145176763,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE3Njc2Mw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T22:59:26Z","updated_at":"2015-10-02T22:59:26Z","author_association":"CONTRIBUTOR","body":"Thanks for the explanation, LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145176763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145183616","html_url":"https://github.com/apache/kafka/pull/233#issuecomment-145183616","issue_url":"https://api.github.com/repos/apache/kafka/issues/233","id":145183616,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE4MzYxNg==","user":{"login":"auradkar","id":877969,"node_id":"MDQ6VXNlcjg3Nzk2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/877969?v=4","gravatar_id":"","url":"https://api.github.com/users/auradkar","html_url":"https://github.com/auradkar","followers_url":"https://api.github.com/users/auradkar/followers","following_url":"https://api.github.com/users/auradkar/following{/other_user}","gists_url":"https://api.github.com/users/auradkar/gists{/gist_id}","starred_url":"https://api.github.com/users/auradkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/auradkar/subscriptions","organizations_url":"https://api.github.com/users/auradkar/orgs","repos_url":"https://api.github.com/users/auradkar/repos","events_url":"https://api.github.com/users/auradkar/events{/privacy}","received_events_url":"https://api.github.com/users/auradkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-02T23:36:49Z","updated_at":"2015-10-02T23:36:49Z","author_association":"CONTRIBUTOR","body":"Fixed the diff. Addressed comments.\nJoel - can you take another look?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145183616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145190540","html_url":"https://github.com/apache/kafka/pull/129#issuecomment-145190540","issue_url":"https://api.github.com/repos/apache/kafka/issues/129","id":145190540,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE5MDU0MA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-03T01:03:46Z","updated_at":"2015-10-03T01:03:46Z","author_association":"CONTRIBUTOR","body":"LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145190540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145191186","html_url":"https://github.com/apache/kafka/pull/265#issuecomment-145191186","issue_url":"https://api.github.com/repos/apache/kafka/issues/265","id":145191186,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTE5MTE4Ng==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-03T01:16:28Z","updated_at":"2015-10-03T01:16:28Z","author_association":"CONTRIBUTOR","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145191186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145250266","html_url":"https://github.com/apache/kafka/pull/171#issuecomment-145250266","issue_url":"https://api.github.com/repos/apache/kafka/issues/171","id":145250266,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTI1MDI2Ng==","user":{"login":"gwenshap","id":1189030,"node_id":"MDQ6VXNlcjExODkwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1189030?v=4","gravatar_id":"","url":"https://api.github.com/users/gwenshap","html_url":"https://github.com/gwenshap","followers_url":"https://api.github.com/users/gwenshap/followers","following_url":"https://api.github.com/users/gwenshap/following{/other_user}","gists_url":"https://api.github.com/users/gwenshap/gists{/gist_id}","starred_url":"https://api.github.com/users/gwenshap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwenshap/subscriptions","organizations_url":"https://api.github.com/users/gwenshap/orgs","repos_url":"https://api.github.com/users/gwenshap/repos","events_url":"https://api.github.com/users/gwenshap/events{/privacy}","received_events_url":"https://api.github.com/users/gwenshap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-03T13:49:40Z","updated_at":"2015-10-03T13:49:40Z","author_association":"CONTRIBUTOR","body":"LGTM!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145250266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145261332","html_url":"https://github.com/apache/kafka/pull/205#issuecomment-145261332","issue_url":"https://api.github.com/repos/apache/kafka/issues/205","id":145261332,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTI2MTMzMg==","user":{"login":"rajinisivaram","id":13164074,"node_id":"MDQ6VXNlcjEzMTY0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/13164074?v=4","gravatar_id":"","url":"https://api.github.com/users/rajinisivaram","html_url":"https://github.com/rajinisivaram","followers_url":"https://api.github.com/users/rajinisivaram/followers","following_url":"https://api.github.com/users/rajinisivaram/following{/other_user}","gists_url":"https://api.github.com/users/rajinisivaram/gists{/gist_id}","starred_url":"https://api.github.com/users/rajinisivaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajinisivaram/subscriptions","organizations_url":"https://api.github.com/users/rajinisivaram/orgs","repos_url":"https://api.github.com/users/rajinisivaram/repos","events_url":"https://api.github.com/users/rajinisivaram/events{/privacy}","received_events_url":"https://api.github.com/users/rajinisivaram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-03T16:09:09Z","updated_at":"2015-10-03T16:09:09Z","author_association":"CONTRIBUTOR","body":"Latest changes:\n- Address review comments\n- Use inheritance to reuse tests in SelectorTest.\n- Move tests added in this PR to SSLTransportLayerTest. Renegotiation test will be updated in a separate JIRA since more tests are required\n- Add more tests for SSL transport layer to ensure SSL configuration options are being handled correctly\n- Rebase branch\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145261332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145394908","html_url":"https://github.com/apache/kafka/pull/62#issuecomment-145394908","issue_url":"https://api.github.com/repos/apache/kafka/issues/62","id":145394908,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTM5NDkwOA==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-04T22:32:38Z","updated_at":"2015-10-04T22:32:38Z","author_association":"CONTRIBUTOR","body":"@pronix Sorry for the slow follow up. I was never able to test this with libvirt on OS X. I think the vagrant-libvirt plugin doesn't support the vbox support in libvirt, so it's not easy to test there -- only on platforms where qemu or kvm are usable.\n\nI have a Linux box handy now that I can test on. The current patch had a few minor problems under that environment (Ubuntu trusty box with KVM, Vagrant 1.7.4). But once I cleaned up the bash scripts under `vagrant/` a bit, things worked ok, including the `vagrant/zk.sh` and `vagrant/broker.sh` scripts. If we update the patch, I'll test once more, but I think this will be ready to merge.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145394908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145425027","html_url":"https://github.com/apache/kafka/pull/268#issuecomment-145425027","issue_url":"https://api.github.com/repos/apache/kafka/issues/268","id":145425027,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTQyNTAyNw==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T04:03:07Z","updated_at":"2015-10-05T04:03:07Z","author_association":"CONTRIBUTOR","body":"LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145425027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145425311","html_url":"https://github.com/apache/kafka/pull/268#issuecomment-145425311","issue_url":"https://api.github.com/repos/apache/kafka/issues/268","id":145425311,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTQyNTMxMQ==","user":{"login":"GabrielNicolasAvellaneda","id":1248101,"node_id":"MDQ6VXNlcjEyNDgxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1248101?v=4","gravatar_id":"","url":"https://api.github.com/users/GabrielNicolasAvellaneda","html_url":"https://github.com/GabrielNicolasAvellaneda","followers_url":"https://api.github.com/users/GabrielNicolasAvellaneda/followers","following_url":"https://api.github.com/users/GabrielNicolasAvellaneda/following{/other_user}","gists_url":"https://api.github.com/users/GabrielNicolasAvellaneda/gists{/gist_id}","starred_url":"https://api.github.com/users/GabrielNicolasAvellaneda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GabrielNicolasAvellaneda/subscriptions","organizations_url":"https://api.github.com/users/GabrielNicolasAvellaneda/orgs","repos_url":"https://api.github.com/users/GabrielNicolasAvellaneda/repos","events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/events{/privacy}","received_events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T04:07:54Z","updated_at":"2015-10-05T04:07:54Z","author_association":"CONTRIBUTOR","body":"@ewencp Do I need to do anything else for this PR to be merged?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145425311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145425349","html_url":"https://github.com/apache/kafka/pull/269#issuecomment-145425349","issue_url":"https://api.github.com/repos/apache/kafka/issues/269","id":145425349,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTQyNTM0OQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T04:08:28Z","updated_at":"2015-10-05T04:08:28Z","author_association":"CONTRIBUTOR","body":"LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145425349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145425844","html_url":"https://github.com/apache/kafka/pull/268#issuecomment-145425844","issue_url":"https://api.github.com/repos/apache/kafka/issues/268","id":145425844,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTQyNTg0NA==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T04:11:24Z","updated_at":"2015-10-05T04:11:24Z","author_association":"CONTRIBUTOR","body":"@GabrielNicolasAvellaneda I assigned you on the JIRA, marked it as \"Patch Available\" and assigned Guozhang as a reviewer so it'll be noticed. Unless someone raises an issue, you shouldn't need to do anything except remind us if it gets lost in the shuffle.\n\nThanks for the patch!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145425844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145426569","html_url":"https://github.com/apache/kafka/pull/268#issuecomment-145426569","issue_url":"https://api.github.com/repos/apache/kafka/issues/268","id":145426569,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTQyNjU2OQ==","user":{"login":"GabrielNicolasAvellaneda","id":1248101,"node_id":"MDQ6VXNlcjEyNDgxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1248101?v=4","gravatar_id":"","url":"https://api.github.com/users/GabrielNicolasAvellaneda","html_url":"https://github.com/GabrielNicolasAvellaneda","followers_url":"https://api.github.com/users/GabrielNicolasAvellaneda/followers","following_url":"https://api.github.com/users/GabrielNicolasAvellaneda/following{/other_user}","gists_url":"https://api.github.com/users/GabrielNicolasAvellaneda/gists{/gist_id}","starred_url":"https://api.github.com/users/GabrielNicolasAvellaneda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GabrielNicolasAvellaneda/subscriptions","organizations_url":"https://api.github.com/users/GabrielNicolasAvellaneda/orgs","repos_url":"https://api.github.com/users/GabrielNicolasAvellaneda/repos","events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/events{/privacy}","received_events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T04:15:50Z","updated_at":"2015-10-05T04:15:50Z","author_association":"CONTRIBUTOR","body":"@ewencp Thanks for your response. \nOkay, Perfect, more changes are coming soon... :)\nHappy to help. :+1: \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145426569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145430555","html_url":"https://github.com/apache/kafka/pull/269#issuecomment-145430555","issue_url":"https://api.github.com/repos/apache/kafka/issues/269","id":145430555,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTQzMDU1NQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T05:00:13Z","updated_at":"2015-10-05T05:00:13Z","author_association":"NONE","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145430555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145446967","html_url":"https://github.com/apache/kafka/pull/271#issuecomment-145446967","issue_url":"https://api.github.com/repos/apache/kafka/issues/271","id":145446967,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTQ0Njk2Nw==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T07:12:51Z","updated_at":"2015-10-05T07:12:51Z","author_association":"CONTRIBUTOR","body":"@rajinisivaram This is looking good. I left a bunch of comments, but the core functionality that adds SSL test support seems solid. The changes I suggested are mostly targeted at code organization for the tests since the functionality seems ok.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145446967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145507922","html_url":"https://github.com/apache/kafka/pull/205#issuecomment-145507922","issue_url":"https://api.github.com/repos/apache/kafka/issues/205","id":145507922,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTUwNzkyMg==","user":{"login":"rajinisivaram","id":13164074,"node_id":"MDQ6VXNlcjEzMTY0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/13164074?v=4","gravatar_id":"","url":"https://api.github.com/users/rajinisivaram","html_url":"https://github.com/rajinisivaram","followers_url":"https://api.github.com/users/rajinisivaram/followers","following_url":"https://api.github.com/users/rajinisivaram/following{/other_user}","gists_url":"https://api.github.com/users/rajinisivaram/gists{/gist_id}","starred_url":"https://api.github.com/users/rajinisivaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajinisivaram/subscriptions","organizations_url":"https://api.github.com/users/rajinisivaram/orgs","repos_url":"https://api.github.com/users/rajinisivaram/repos","events_url":"https://api.github.com/users/rajinisivaram/events{/privacy}","received_events_url":"https://api.github.com/users/rajinisivaram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T12:09:30Z","updated_at":"2015-10-05T12:09:30Z","author_association":"CONTRIBUTOR","body":"@ijuma Have removed the space left over during rebase by mistake.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145507922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145602718","html_url":"https://github.com/apache/kafka/pull/267#issuecomment-145602718","issue_url":"https://api.github.com/repos/apache/kafka/issues/267","id":145602718,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTYwMjcxOA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T17:16:09Z","updated_at":"2015-10-05T17:16:09Z","author_association":"CONTRIBUTOR","body":"@onurkaraman @guozhangwang Ready for another look.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145602718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145613631","html_url":"https://github.com/apache/kafka/pull/272#issuecomment-145613631","issue_url":"https://api.github.com/repos/apache/kafka/issues/272","id":145613631,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTYxMzYzMQ==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T17:54:11Z","updated_at":"2015-10-05T17:54:11Z","author_association":"CONTRIBUTOR","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145613631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145625387","html_url":"https://github.com/apache/kafka/pull/129#issuecomment-145625387","issue_url":"https://api.github.com/repos/apache/kafka/issues/129","id":145625387,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTYyNTM4Nw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T18:36:07Z","updated_at":"2015-10-05T18:36:07Z","author_association":"CONTRIBUTOR","body":"@becketqin Before committing this fix we need to figure out one thing, that this issue is ONLY due to an unclean election, and since in this case inconsistency will probably happen already we may allow follower to be different from leader. But as @junrao mentioned this can be also triggered by other scenarios then we cannot allow replicas to be inconsistent.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145625387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145631269","html_url":"https://github.com/apache/kafka/pull/271#issuecomment-145631269","issue_url":"https://api.github.com/repos/apache/kafka/issues/271","id":145631269,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTYzMTI2OQ==","user":{"login":"rajinisivaram","id":13164074,"node_id":"MDQ6VXNlcjEzMTY0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/13164074?v=4","gravatar_id":"","url":"https://api.github.com/users/rajinisivaram","html_url":"https://github.com/rajinisivaram","followers_url":"https://api.github.com/users/rajinisivaram/followers","following_url":"https://api.github.com/users/rajinisivaram/following{/other_user}","gists_url":"https://api.github.com/users/rajinisivaram/gists{/gist_id}","starred_url":"https://api.github.com/users/rajinisivaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajinisivaram/subscriptions","organizations_url":"https://api.github.com/users/rajinisivaram/orgs","repos_url":"https://api.github.com/users/rajinisivaram/repos","events_url":"https://api.github.com/users/rajinisivaram/events{/privacy}","received_events_url":"https://api.github.com/users/rajinisivaram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T18:55:21Z","updated_at":"2015-10-05T18:55:21Z","author_association":"CONTRIBUTOR","body":"@ewencp @ijuma Thank you for review comments. I will work on the changes tomorrow and submit an update soon.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145631269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145631899","html_url":"https://github.com/apache/kafka/pull/272#issuecomment-145631899","issue_url":"https://api.github.com/repos/apache/kafka/issues/272","id":145631899,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTYzMTg5OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T18:57:56Z","updated_at":"2015-10-05T18:57:56Z","author_association":"CONTRIBUTOR","body":"LGTM, thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145631899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145653272","html_url":"https://github.com/apache/kafka/pull/276#issuecomment-145653272","issue_url":"https://api.github.com/repos/apache/kafka/issues/276","id":145653272,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTY1MzI3Mg==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T20:09:43Z","updated_at":"2015-10-05T20:09:43Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch. LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145653272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145664670","html_url":"https://github.com/apache/kafka/pull/229#issuecomment-145664670","issue_url":"https://api.github.com/repos/apache/kafka/issues/229","id":145664670,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTY2NDY3MA==","user":{"login":"granders","id":1295932,"node_id":"MDQ6VXNlcjEyOTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1295932?v=4","gravatar_id":"","url":"https://api.github.com/users/granders","html_url":"https://github.com/granders","followers_url":"https://api.github.com/users/granders/followers","following_url":"https://api.github.com/users/granders/following{/other_user}","gists_url":"https://api.github.com/users/granders/gists{/gist_id}","starred_url":"https://api.github.com/users/granders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granders/subscriptions","organizations_url":"https://api.github.com/users/granders/orgs","repos_url":"https://api.github.com/users/granders/repos","events_url":"https://api.github.com/users/granders/events{/privacy}","received_events_url":"https://api.github.com/users/granders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T20:51:08Z","updated_at":"2015-10-05T23:57:52Z","author_association":"CONTRIBUTOR","body":"@ewencp Sorry about that oversight, I believe I caught the remaining offenders.\n\nRunning tests here (using base ubunto ami): http://jenkins.confluent.io/job/kafka_system_tests_branch_builder/88/\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145664670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145668417","html_url":"https://github.com/apache/kafka/pull/204#issuecomment-145668417","issue_url":"https://api.github.com/repos/apache/kafka/issues/204","id":145668417,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTY2ODQxNw==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T21:06:02Z","updated_at":"2015-10-05T21:06:02Z","author_association":"CONTRIBUTOR","body":"The test failures seem irrelevant.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145668417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145669121","html_url":"https://github.com/apache/kafka/pull/129#issuecomment-145669121","issue_url":"https://api.github.com/repos/apache/kafka/issues/129","id":145669121,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTY2OTEyMQ==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T21:09:18Z","updated_at":"2015-10-05T21:09:18Z","author_association":"CONTRIBUTOR","body":"@guozhangwang The other issue is tracked by KAFKA-2477. After that is fixed, we should not see the OffsetOutOfRangeException triggered by that issue.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145669121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145741515","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-145741515","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":145741515,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTc0MTUxNQ==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T04:51:44Z","updated_at":"2015-10-06T04:51:44Z","author_association":"MEMBER","body":"@granders @ewencp @guozhangwang I have addressed comments received so far and all 3 quota test succeed on my desktop.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145741515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145768957","html_url":"https://github.com/apache/kafka/pull/262#issuecomment-145768957","issue_url":"https://api.github.com/repos/apache/kafka/issues/262","id":145768957,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTc2ODk1Nw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T07:38:19Z","updated_at":"2015-10-06T07:38:19Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145768957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145827324","html_url":"https://github.com/apache/kafka/pull/280#issuecomment-145827324","issue_url":"https://api.github.com/repos/apache/kafka/issues/280","id":145827324,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTgyNzMyNA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T11:32:31Z","updated_at":"2015-10-06T11:32:31Z","author_association":"MEMBER","body":"Review by @junrao please.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145827324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145927890","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-145927890","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":145927890,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTkyNzg5MA==","user":{"login":"granders","id":1295932,"node_id":"MDQ6VXNlcjEyOTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1295932?v=4","gravatar_id":"","url":"https://api.github.com/users/granders","html_url":"https://github.com/granders","followers_url":"https://api.github.com/users/granders/followers","following_url":"https://api.github.com/users/granders/following{/other_user}","gists_url":"https://api.github.com/users/granders/gists{/gist_id}","starred_url":"https://api.github.com/users/granders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granders/subscriptions","organizations_url":"https://api.github.com/users/granders/orgs","repos_url":"https://api.github.com/users/granders/repos","events_url":"https://api.github.com/users/granders/events{/privacy}","received_events_url":"https://api.github.com/users/granders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T17:00:06Z","updated_at":"2015-10-06T17:00:06Z","author_association":"CONTRIBUTOR","body":"@lindong28 fyi I am seeing a failure in test_shared_quota when I run on aws:\nhttp://jenkins.confluent.io/job/kafka_system_tests_branch_builder/90/console\n\nSummary report:\nhttp://jenkins.confluent.io/job/kafka_system_tests_branch_builder/90/artifact/results/KAFKA-2527/2015-10-06--001/report.html\n\nArtifacts:\nhttp://jenkins.confluent.io/job/kafka_system_tests_branch_builder/90/artifact/results/KAFKA-2527/2015-10-06--001/\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145927890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145931508","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-145931508","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":145931508,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTkzMTUwOA==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T17:14:49Z","updated_at":"2015-10-06T17:16:39Z","author_association":"MEMBER","body":"@granders Thanks for your information. This also happens occasionally in my test. This test try to verify that, when 2 consumer shares the same quota, maximum value of sum of their throughput at any given time <= quota \\* (1+50%). However, it sometimes exceeds the quota by almost 100%. I need to investigate 1) the quota implementation in kafka and 2) metrics calculation in the kafka and client source code to understand why deviation can be as much as 100%. \n\nAs far as quota system test is concerned, I have modified the threshold to 100% to suppress the problem.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145931508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145936885","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-145936885","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":145936885,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTkzNjg4NQ==","user":{"login":"granders","id":1295932,"node_id":"MDQ6VXNlcjEyOTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1295932?v=4","gravatar_id":"","url":"https://api.github.com/users/granders","html_url":"https://github.com/granders","followers_url":"https://api.github.com/users/granders/followers","following_url":"https://api.github.com/users/granders/following{/other_user}","gists_url":"https://api.github.com/users/granders/gists{/gist_id}","starred_url":"https://api.github.com/users/granders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granders/subscriptions","organizations_url":"https://api.github.com/users/granders/orgs","repos_url":"https://api.github.com/users/granders/repos","events_url":"https://api.github.com/users/granders/events{/privacy}","received_events_url":"https://api.github.com/users/granders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T17:32:52Z","updated_at":"2015-10-06T17:32:52Z","author_association":"CONTRIBUTOR","body":"@lindong28 \nDoesn't upping the threshold to suppress the failure defeat the purpose of this particular test?\n\nI would think it'd be better to have a test that fails + a followup JIRA to investigate whether the failure is real than a false pass.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145936885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145939019","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-145939019","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":145939019,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTkzOTAxOQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T17:36:41Z","updated_at":"2015-10-06T17:36:41Z","author_association":"CONTRIBUTOR","body":"Agreed it defeats the purpose of the test. Didn't something like this come up at some point during the evaluation of the original patch, maybe in one of the unit tests or something? I think one proposed possibility was that the windows used to compute stats for the quota system and for metrics was different, which could account for the difference.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145939019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145949691","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-145949691","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":145949691,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTk0OTY5MQ==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T18:09:51Z","updated_at":"2015-10-06T18:10:18Z","author_association":"MEMBER","body":"@granders @ewencp I think the purpose of system tests is to notify developers of bugs so we can fix it. But it is not clear that there is any bug in the quota implementation even though the deviation can be high, for the following reasons:\n\n-- Immediate goal of quote is to ensure that the maximum throughput per clientId on broker averaged over a given window <= quota. This is verified in the original evaluation when quota >= 10MB (posted in KAFKA-2528). But it doesn't guarantee that the maximum throughput measured on the client side <= quota, because 1) there is variable delay between broker and consumer, and 2) consumer uses different configuration and implementation for its rate metrics.\n\n-- This high deviation happens in the shared quota test, which may additionally be explained by the variable delay between broker and consumers. For example, say broker allocates 100% quota to consumer 1 at time t, and allocates 100% quota to consumer 2 at time t+1. If the batches of messages arrives at both consumers at the same time, then the sum of measured byte-in-rate would double the quota.\n\nOverall the quota is working, because without quota you would observe much higher byte-in rate or byte-out rate in the test. I would say there is problem if the sum of average throughput over entire experiment >= quota. I plan to do further investigation to explain the gap here. But we probably should not mark test as FAIL if this doesn't indicate problem in kafka implementation.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145949691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145951522","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-145951522","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":145951522,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTk1MTUyMg==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T18:15:11Z","updated_at":"2015-10-06T18:15:11Z","author_association":"MEMBER","body":"Thinking more about this, maybe I should also collect byte-in rate and byte-out rate directly from broker in this system test.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145951522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145951956","html_url":"https://github.com/apache/kafka/pull/268#issuecomment-145951956","issue_url":"https://api.github.com/repos/apache/kafka/issues/268","id":145951956,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTk1MTk1Ng==","user":{"login":"GabrielNicolasAvellaneda","id":1248101,"node_id":"MDQ6VXNlcjEyNDgxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1248101?v=4","gravatar_id":"","url":"https://api.github.com/users/GabrielNicolasAvellaneda","html_url":"https://github.com/GabrielNicolasAvellaneda","followers_url":"https://api.github.com/users/GabrielNicolasAvellaneda/followers","following_url":"https://api.github.com/users/GabrielNicolasAvellaneda/following{/other_user}","gists_url":"https://api.github.com/users/GabrielNicolasAvellaneda/gists{/gist_id}","starred_url":"https://api.github.com/users/GabrielNicolasAvellaneda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GabrielNicolasAvellaneda/subscriptions","organizations_url":"https://api.github.com/users/GabrielNicolasAvellaneda/orgs","repos_url":"https://api.github.com/users/GabrielNicolasAvellaneda/repos","events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/events{/privacy}","received_events_url":"https://api.github.com/users/GabrielNicolasAvellaneda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T18:16:52Z","updated_at":"2015-10-06T18:16:52Z","author_association":"CONTRIBUTOR","body":"LGTM :+1: \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145951956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145957387","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-145957387","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":145957387,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTk1NzM4Nw==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T18:32:17Z","updated_at":"2015-10-06T18:32:17Z","author_association":"CONTRIBUTOR","body":"@lindong28 Yeah, I think that explanation of how you can get a window where the client sees the quota exceeded was the explanation I had seen, probably in that discussion in KAFKA-2528. I think the key thing in this test is to figure out the exact ways in which the measured value can exceed the quota and document that clearly in the test. I think the 2x number makes sense -- as long as we never exceed that then we can consider it valid. Measuring byte-in and byte-out rates directly would also be good for validation. Those shouldn't skew as much, but could also deviate since they are measured at a different point than the quota is enforced, right? What would be the acceptable deviation from the quota there?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145957387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145987698","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-145987698","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":145987698,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTk4NzY5OA==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T20:20:28Z","updated_at":"2015-10-06T20:20:28Z","author_association":"MEMBER","body":"Ah.. Closed by mistake.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145987698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145992492","html_url":"https://github.com/apache/kafka/pull/262#issuecomment-145992492","issue_url":"https://api.github.com/repos/apache/kafka/issues/262","id":145992492,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NTk5MjQ5Mg==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T20:35:34Z","updated_at":"2015-10-06T20:35:34Z","author_association":"CONTRIBUTOR","body":"LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/145992492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146001149","html_url":"https://github.com/apache/kafka/pull/234#issuecomment-146001149","issue_url":"https://api.github.com/repos/apache/kafka/issues/234","id":146001149,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjAwMTE0OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T21:07:36Z","updated_at":"2015-10-06T21:07:36Z","author_association":"CONTRIBUTOR","body":"LGTM, thanks.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146001149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146005685","html_url":"https://github.com/apache/kafka/pull/249#issuecomment-146005685","issue_url":"https://api.github.com/repos/apache/kafka/issues/249","id":146005685,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjAwNTY4NQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T21:21:11Z","updated_at":"2015-10-06T21:21:11Z","author_association":"CONTRIBUTOR","body":"LGTM (not a hundred percent familiar with some EasyMock functions but the unit test works fine).\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146005685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146011083","html_url":"https://github.com/apache/kafka/pull/250#issuecomment-146011083","issue_url":"https://api.github.com/repos/apache/kafka/issues/250","id":146011083,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjAxMTA4Mw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T21:47:12Z","updated_at":"2015-10-06T21:47:12Z","author_association":"CONTRIBUTOR","body":"LGTM, just a minor comment.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146011083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146013835","html_url":"https://github.com/apache/kafka/pull/250#issuecomment-146013835","issue_url":"https://api.github.com/repos/apache/kafka/issues/250","id":146013835,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjAxMzgzNQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T21:58:08Z","updated_at":"2015-10-06T21:58:08Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, @guozhangwang. Updated to fix the missing javadoc info.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146013835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146030087","html_url":"https://github.com/apache/kafka/pull/270#issuecomment-146030087","issue_url":"https://api.github.com/repos/apache/kafka/issues/270","id":146030087,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjAzMDA4Nw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T23:10:09Z","updated_at":"2015-10-06T23:10:09Z","author_association":"CONTRIBUTOR","body":"LGTM, could you rebase on the latest trunk?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146030087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146030489","html_url":"https://github.com/apache/kafka/pull/256#issuecomment-146030489","issue_url":"https://api.github.com/repos/apache/kafka/issues/256","id":146030489,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjAzMDQ4OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-06T23:13:03Z","updated_at":"2015-10-06T23:13:03Z","author_association":"CONTRIBUTOR","body":"@rhauch Do you think the new org.apache.kafka.common.cache.LRUCache can be reused here?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146030489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146045599","html_url":"https://github.com/apache/kafka/pull/281#issuecomment-146045599","issue_url":"https://api.github.com/repos/apache/kafka/issues/281","id":146045599,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjA0NTU5OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T00:48:04Z","updated_at":"2015-10-07T00:48:04Z","author_association":"CONTRIBUTOR","body":"LGTM except minor comments. Could you rebase?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146045599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146053821","html_url":"https://github.com/apache/kafka/pull/281#issuecomment-146053821","issue_url":"https://api.github.com/repos/apache/kafka/issues/281","id":146053821,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjA1MzgyMQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T01:43:22Z","updated_at":"2015-10-07T01:43:22Z","author_association":"CONTRIBUTOR","body":"@guozhangwang merged and addressed most of your comments. The one I wasn't sure about was the one about invalidating parameter values as non-strings. Can you clarify what you were looking for there?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146053821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146054605","html_url":"https://github.com/apache/kafka/pull/233#issuecomment-146054605","issue_url":"https://api.github.com/repos/apache/kafka/issues/233","id":146054605,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjA1NDYwNQ==","user":{"login":"jjkoshy","id":112339,"node_id":"MDQ6VXNlcjExMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/112339?v=4","gravatar_id":"","url":"https://api.github.com/users/jjkoshy","html_url":"https://github.com/jjkoshy","followers_url":"https://api.github.com/users/jjkoshy/followers","following_url":"https://api.github.com/users/jjkoshy/following{/other_user}","gists_url":"https://api.github.com/users/jjkoshy/gists{/gist_id}","starred_url":"https://api.github.com/users/jjkoshy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjkoshy/subscriptions","organizations_url":"https://api.github.com/users/jjkoshy/orgs","repos_url":"https://api.github.com/users/jjkoshy/repos","events_url":"https://api.github.com/users/jjkoshy/events{/privacy}","received_events_url":"https://api.github.com/users/jjkoshy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T01:51:13Z","updated_at":"2015-10-07T01:51:13Z","author_association":"CONTRIBUTOR","body":"+1 apart from the above minor comments. I think this needs a rebase though.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146054605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146062081","html_url":"https://github.com/apache/kafka/pull/279#issuecomment-146062081","issue_url":"https://api.github.com/repos/apache/kafka/issues/279","id":146062081,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjA2MjA4MQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T02:38:54Z","updated_at":"2015-10-07T02:38:54Z","author_association":"CONTRIBUTOR","body":"@Ishiihara KAFKA-2482 has been merged, so you could cherry-pick/merge this to get a clean PR including only your changes.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146062081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146075501","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-146075501","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":146075501,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjA3NTUwMQ==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T04:41:24Z","updated_at":"2015-10-07T04:41:24Z","author_association":"MEMBER","body":"@ewencp In response to your earlier comments on the acceptable deviation -- in theory, the broker's byte-in rate or byte-out rate could deviate from quota's rate sensor for reasons you mentioned. I wouldn't be able to comment on the exact acceptable deviation percentage except for doing the test. Fortunately it appears that the maximum per-minute broker byte-in rate and byte-out rate are always lower than their respective quota. Please see below evaluation results when 2 consumers share the quota.\n\nBased on the following results I would bound the deviation between broker's byte rate and quota by 5%. Does it sound good?\n\n```\nproducer produced 100000 messages\nconsumer consumed 100000 messages\nproducer has maximum throughput 4487708.66 bps with producer quota 3750000.00 bps\nbroker has maximum byte-in rate 2792396.09 bps with producer quota 3750000.00 bps\nconsumer has maximum throughput 4397383.20 bps with consumer quota 3000000.00 bps\nbroker has maximum byte-out rate 2527560.97 bps with consumer quota 3000000.00 bps\n```\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146075501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146079387","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-146079387","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":146079387,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjA3OTM4Nw==","user":{"login":"granders","id":1295932,"node_id":"MDQ6VXNlcjEyOTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1295932?v=4","gravatar_id":"","url":"https://api.github.com/users/granders","html_url":"https://github.com/granders","followers_url":"https://api.github.com/users/granders/followers","following_url":"https://api.github.com/users/granders/following{/other_user}","gists_url":"https://api.github.com/users/granders/gists{/gist_id}","starred_url":"https://api.github.com/users/granders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granders/subscriptions","organizations_url":"https://api.github.com/users/granders/orgs","repos_url":"https://api.github.com/users/granders/repos","events_url":"https://api.github.com/users/granders/events{/privacy}","received_events_url":"https://api.github.com/users/granders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T05:17:20Z","updated_at":"2015-10-07T05:17:20Z","author_association":"CONTRIBUTOR","body":"@lindong28 fyi I just merged a ducktape PR (https://github.com/confluentinc/ducktape/pull/108) which makes it possible to specify test parameters at the command-line (version `0.3.6`). Hopefully this makes parametrization more convenient.\n\nE.g. \n`ducktape tests/.../a_test.py::TestClass.test_something --parameters '{\"x\": 1, \"y\": \"a_string\"}'`\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146079387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146083502","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-146083502","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":146083502,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjA4MzUwMg==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T05:56:08Z","updated_at":"2015-10-07T05:56:08Z","author_association":"CONTRIBUTOR","body":"@lindong28 It does look like the broker rates are under the quotas, but it'd be good to reason from first principles what the right limit is so we'll see a regression if it is violated. If the broker rates are per-minute and the quotas are computed per second, wouldn't the maximum limit be `(61 * quota_rate / 60)`? We always just need to match up the measured period with the period of the rate limiting, with some slack to account for mismatches in time windows.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146083502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146200308","html_url":"https://github.com/apache/kafka/pull/271#issuecomment-146200308","issue_url":"https://api.github.com/repos/apache/kafka/issues/271","id":146200308,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjIwMDMwOA==","user":{"login":"rajinisivaram","id":13164074,"node_id":"MDQ6VXNlcjEzMTY0MDc0","avatar_url":"https://avatars.githubusercontent.com/u/13164074?v=4","gravatar_id":"","url":"https://api.github.com/users/rajinisivaram","html_url":"https://github.com/rajinisivaram","followers_url":"https://api.github.com/users/rajinisivaram/followers","following_url":"https://api.github.com/users/rajinisivaram/following{/other_user}","gists_url":"https://api.github.com/users/rajinisivaram/gists{/gist_id}","starred_url":"https://api.github.com/users/rajinisivaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajinisivaram/subscriptions","organizations_url":"https://api.github.com/users/rajinisivaram/orgs","repos_url":"https://api.github.com/users/rajinisivaram/repos","events_url":"https://api.github.com/users/rajinisivaram/events{/privacy}","received_events_url":"https://api.github.com/users/rajinisivaram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T13:45:24Z","updated_at":"2015-10-07T13:45:24Z","author_association":"CONTRIBUTOR","body":"Test failure is unrelated to this PR.\n\nHave addressed most of the issues raised. I didn't used mixin for security config, but have changed the code layout as suggested by @ewencp .\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146200308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146215372","html_url":"https://github.com/apache/kafka/pull/256#issuecomment-146215372","issue_url":"https://api.github.com/repos/apache/kafka/issues/256","id":146215372,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjIxNTM3Mg==","user":{"login":"rhauch","id":84732,"node_id":"MDQ6VXNlcjg0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/84732?v=4","gravatar_id":"","url":"https://api.github.com/users/rhauch","html_url":"https://github.com/rhauch","followers_url":"https://api.github.com/users/rhauch/followers","following_url":"https://api.github.com/users/rhauch/following{/other_user}","gists_url":"https://api.github.com/users/rhauch/gists{/gist_id}","starred_url":"https://api.github.com/users/rhauch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rhauch/subscriptions","organizations_url":"https://api.github.com/users/rhauch/orgs","repos_url":"https://api.github.com/users/rhauch/repos","events_url":"https://api.github.com/users/rhauch/events{/privacy}","received_events_url":"https://api.github.com/users/rhauch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T14:40:10Z","updated_at":"2015-10-07T14:40:10Z","author_association":"CONTRIBUTOR","body":"@guozhangwang, the new `org.apache.kafka.common.cache.LRUCache` class just wraps a `LinkedHashMap`, whereas we're using one directly. Also, we require a hook into the cache to respond when an entry is removed, and the `org.apache.kafka.common.cache.LRUCache` doesn't currently provide a way to do that.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146215372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146219612","html_url":"https://github.com/apache/kafka/pull/270#issuecomment-146219612","issue_url":"https://api.github.com/repos/apache/kafka/issues/270","id":146219612,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjIxOTYxMg==","user":{"login":"rhauch","id":84732,"node_id":"MDQ6VXNlcjg0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/84732?v=4","gravatar_id":"","url":"https://api.github.com/users/rhauch","html_url":"https://github.com/rhauch","followers_url":"https://api.github.com/users/rhauch/followers","following_url":"https://api.github.com/users/rhauch/following{/other_user}","gists_url":"https://api.github.com/users/rhauch/gists{/gist_id}","starred_url":"https://api.github.com/users/rhauch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rhauch/subscriptions","organizations_url":"https://api.github.com/users/rhauch/orgs","repos_url":"https://api.github.com/users/rhauch/repos","events_url":"https://api.github.com/users/rhauch/events{/privacy}","received_events_url":"https://api.github.com/users/rhauch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T14:54:06Z","updated_at":"2015-10-07T14:54:06Z","author_association":"CONTRIBUTOR","body":"@guozhangwang, rebased as requested, successfully retested the branch locally, and pushed the new commits.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146219612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146246259","html_url":"https://github.com/apache/kafka/pull/233#issuecomment-146246259","issue_url":"https://api.github.com/repos/apache/kafka/issues/233","id":146246259,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjI0NjI1OQ==","user":{"login":"auradkar","id":877969,"node_id":"MDQ6VXNlcjg3Nzk2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/877969?v=4","gravatar_id":"","url":"https://api.github.com/users/auradkar","html_url":"https://github.com/auradkar","followers_url":"https://api.github.com/users/auradkar/followers","following_url":"https://api.github.com/users/auradkar/following{/other_user}","gists_url":"https://api.github.com/users/auradkar/gists{/gist_id}","starred_url":"https://api.github.com/users/auradkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/auradkar/subscriptions","organizations_url":"https://api.github.com/users/auradkar/orgs","repos_url":"https://api.github.com/users/auradkar/repos","events_url":"https://api.github.com/users/auradkar/events{/privacy}","received_events_url":"https://api.github.com/users/auradkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T16:08:37Z","updated_at":"2015-10-07T16:08:37Z","author_association":"CONTRIBUTOR","body":"Joel - I think I've addressed all your comments. take a look.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146246259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146251981","html_url":"https://github.com/apache/kafka/pull/205#issuecomment-146251981","issue_url":"https://api.github.com/repos/apache/kafka/issues/205","id":146251981,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjI1MTk4MQ==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T16:25:35Z","updated_at":"2015-10-07T16:25:35Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch. LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146251981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146252287","html_url":"https://github.com/apache/kafka/pull/255#issuecomment-146252287","issue_url":"https://api.github.com/repos/apache/kafka/issues/255","id":146252287,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjI1MjI4Nw==","user":{"login":"rhauch","id":84732,"node_id":"MDQ6VXNlcjg0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/84732?v=4","gravatar_id":"","url":"https://api.github.com/users/rhauch","html_url":"https://github.com/rhauch","followers_url":"https://api.github.com/users/rhauch/followers","following_url":"https://api.github.com/users/rhauch/following{/other_user}","gists_url":"https://api.github.com/users/rhauch/gists{/gist_id}","starred_url":"https://api.github.com/users/rhauch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rhauch/subscriptions","organizations_url":"https://api.github.com/users/rhauch/orgs","repos_url":"https://api.github.com/users/rhauch/repos","events_url":"https://api.github.com/users/rhauch/events{/privacy}","received_events_url":"https://api.github.com/users/rhauch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T16:26:14Z","updated_at":"2015-10-07T16:26:14Z","author_association":"CONTRIBUTOR","body":"@guozhangwang, rebased this PR. The Jenkins build seemed to have failed on `core` -- is there a way I can resubmit it?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146252287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146254521","html_url":"https://github.com/apache/kafka/pull/277#issuecomment-146254521","issue_url":"https://api.github.com/repos/apache/kafka/issues/277","id":146254521,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjI1NDUyMQ==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T16:33:18Z","updated_at":"2015-10-07T16:33:18Z","author_association":"CONTRIBUTOR","body":"@Parth-Brahmbhatt : Thanks for the patch. LGTM. Could you address the minor comments from Ismael?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146254521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146261603","html_url":"https://github.com/apache/kafka/pull/205#issuecomment-146261603","issue_url":"https://api.github.com/repos/apache/kafka/issues/205","id":146261603,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjI2MTYwMw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T16:57:38Z","updated_at":"2015-10-07T16:57:38Z","author_association":"MEMBER","body":"Nice to have this in (both the fixes and the tests), subtle to get this right.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146261603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146281118","html_url":"https://github.com/apache/kafka/pull/282#issuecomment-146281118","issue_url":"https://api.github.com/repos/apache/kafka/issues/282","id":146281118,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjI4MTExOA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T18:09:21Z","updated_at":"2015-10-07T18:09:21Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146281118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146285277","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-146285277","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":146285277,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjI4NTI3Nw==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T18:26:12Z","updated_at":"2015-10-07T18:26:12Z","author_association":"MEMBER","body":"@ewencp  BrokerTopicMetrics uses EWMA, configured to be ticked every 5 seconds, to calculate 1-minute rate. Quota uses the sliding window algorithm, configured with 11 samples of 1 second each, to calculate 11-second rate. Since 60-seconds can be covered by 11-seconds_6, a possibly loose bound is that `max(broker_metric_rate) <= max(quota_rate)_66/60 = (1+10%)*max(quota_metric_rate)`\n\nHowever, note that there is no bound on how much `quota_metric_rate` can exceed `quota` since the quota metric is updated before we decide whether to throttled request. The deviation depends on the number of inflight requests between broker and clients. Adding to the complexity, there is also difference in when the broker's byte-in rate and quota's byte-in rate are updated -- broker's byte-in rate is updated immediate after broker appends data to log, while quota's byte-in rate is updated after necessary acks are received from follower.\n\nIn short, 10% seems a reasonable bound on the deviation between broker's rate and quota. Though there is no guarantee that this will be satisfied all the time, from users's perspective it is good enough if in most tests the `maximum broker rate <= (1+10%) quota` .\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146285277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146299816","html_url":"https://github.com/apache/kafka/pull/277#issuecomment-146299816","issue_url":"https://api.github.com/repos/apache/kafka/issues/277","id":146299816,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjI5OTgxNg==","user":{"login":"Parth-Brahmbhatt","id":6914358,"node_id":"MDQ6VXNlcjY5MTQzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6914358?v=4","gravatar_id":"","url":"https://api.github.com/users/Parth-Brahmbhatt","html_url":"https://github.com/Parth-Brahmbhatt","followers_url":"https://api.github.com/users/Parth-Brahmbhatt/followers","following_url":"https://api.github.com/users/Parth-Brahmbhatt/following{/other_user}","gists_url":"https://api.github.com/users/Parth-Brahmbhatt/gists{/gist_id}","starred_url":"https://api.github.com/users/Parth-Brahmbhatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Parth-Brahmbhatt/subscriptions","organizations_url":"https://api.github.com/users/Parth-Brahmbhatt/orgs","repos_url":"https://api.github.com/users/Parth-Brahmbhatt/repos","events_url":"https://api.github.com/users/Parth-Brahmbhatt/events{/privacy}","received_events_url":"https://api.github.com/users/Parth-Brahmbhatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T19:14:16Z","updated_at":"2015-10-07T19:14:16Z","author_association":"CONTRIBUTOR","body":"comments addressed.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146299816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146303996","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-146303996","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":146303996,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjMwMzk5Ng==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T19:32:09Z","updated_at":"2015-10-07T19:32:09Z","author_association":"MEMBER","body":"@ewencp @granders @guozhangwang I have updated patch to address the comments received so far. Thanks for your help.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146303996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146314613","html_url":"https://github.com/apache/kafka/pull/255#issuecomment-146314613","issue_url":"https://api.github.com/repos/apache/kafka/issues/255","id":146314613,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjMxNDYxMw==","user":{"login":"rhauch","id":84732,"node_id":"MDQ6VXNlcjg0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/84732?v=4","gravatar_id":"","url":"https://api.github.com/users/rhauch","html_url":"https://github.com/rhauch","followers_url":"https://api.github.com/users/rhauch/followers","following_url":"https://api.github.com/users/rhauch/following{/other_user}","gists_url":"https://api.github.com/users/rhauch/gists{/gist_id}","starred_url":"https://api.github.com/users/rhauch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rhauch/subscriptions","organizations_url":"https://api.github.com/users/rhauch/orgs","repos_url":"https://api.github.com/users/rhauch/repos","events_url":"https://api.github.com/users/rhauch/events{/privacy}","received_events_url":"https://api.github.com/users/rhauch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T20:11:48Z","updated_at":"2015-10-07T20:11:48Z","author_association":"CONTRIBUTOR","body":"@guozhangwang, I just added a commit that replaces all of the static factory methods for the different kinds of key-value stores with a simple builder mechanism. Although a fluent API can be used for some parameters, most still have to be passed in to the final 'create(...)' method -- this keeps the API and the implementation very simple. (We could break up more of the parameters into separate fluent-style methods, but this very quickly makes the builder very complicated. See comments above for detail why.)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146314613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146346242","html_url":"https://github.com/apache/kafka/pull/285#issuecomment-146346242","issue_url":"https://api.github.com/repos/apache/kafka/issues/285","id":146346242,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjM0NjI0Mg==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T22:05:03Z","updated_at":"2015-10-07T22:05:03Z","author_association":"CONTRIBUTOR","body":"@guozhangwang Quick follow up to the logical types patch. I realized we can't avoid adding a Time type for now since we need it for SQL types in the JDBC connector. Should be a quick review since this is basically the same as the Date type, just zeroing out the date fields instead of the time fields.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146346242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146349135","html_url":"https://github.com/apache/kafka/pull/285#issuecomment-146349135","issue_url":"https://api.github.com/repos/apache/kafka/issues/285","id":146349135,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjM0OTEzNQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T22:21:00Z","updated_at":"2015-10-07T22:21:00Z","author_association":"CONTRIBUTOR","body":"Actually, hold off on review. I realized there's an issue with validating values when you use Struct.put() that I still need to resolve.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146349135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146355383","html_url":"https://github.com/apache/kafka/pull/285#issuecomment-146355383","issue_url":"https://api.github.com/repos/apache/kafka/issues/285","id":146355383,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjM1NTM4Mw==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-07T22:52:31Z","updated_at":"2015-10-07T22:52:31Z","author_association":"CONTRIBUTOR","body":"Ok, updated to handle logical types in validation, which is really only happening in Struct.put() for now. Should really be ready for review now, @guozhangwang \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146355383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146420029","html_url":"https://github.com/apache/kafka/pull/204#issuecomment-146420029","issue_url":"https://api.github.com/repos/apache/kafka/issues/204","id":146420029,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjQyMDAyOQ==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T04:58:06Z","updated_at":"2015-10-08T04:58:06Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch. LGTM.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146420029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146421214","html_url":"https://github.com/apache/kafka/pull/286#issuecomment-146421214","issue_url":"https://api.github.com/repos/apache/kafka/issues/286","id":146421214,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjQyMTIxNA==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T05:11:14Z","updated_at":"2015-10-08T05:11:14Z","author_association":"MEMBER","body":"@becketqin Could you take a look?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146421214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146454580","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-146454580","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":146454580,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjQ1NDU4MA==","user":{"login":"granders","id":1295932,"node_id":"MDQ6VXNlcjEyOTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1295932?v=4","gravatar_id":"","url":"https://api.github.com/users/granders","html_url":"https://github.com/granders","followers_url":"https://api.github.com/users/granders/followers","following_url":"https://api.github.com/users/granders/following{/other_user}","gists_url":"https://api.github.com/users/granders/gists{/gist_id}","starred_url":"https://api.github.com/users/granders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granders/subscriptions","organizations_url":"https://api.github.com/users/granders/orgs","repos_url":"https://api.github.com/users/granders/repos","events_url":"https://api.github.com/users/granders/events{/privacy}","received_events_url":"https://api.github.com/users/granders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T08:26:07Z","updated_at":"2015-10-08T08:26:07Z","author_association":"CONTRIBUTOR","body":"@lindong28 \nThanks a lot for your adjustments!\n\nIn hindsight, I think jmxtool possibly has too much internal state to be a good mixin, and the multiple inheritance here is evidently making it a bit hard to use - e.g. there seem to be a few awkward and dangerous things happening with a mix of old and new-style calls to superclass methods which I think were sortof necessitated by the multiple inheritance and the method signatures.\n\nThat said, if you adjust the `stop_node` call so `test_console_consumer` passes, this seems basically good.\n\nA couple of things should happen in a followup\n- incorporate the ducktape update which allows the async `ssh_capture` call and remove the `ssh_capture(..).next()` trick which can cause problems if there are no lines of output (`next()` raises `StopIteration` error if there is no output, as in the `test_console_consumer` sanity check)\n  - I can tweak the jmx tool and the old-style super calls when I merge your changes into my upcoming patch\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146454580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146585578","html_url":"https://github.com/apache/kafka/pull/288#issuecomment-146585578","issue_url":"https://api.github.com/repos/apache/kafka/issues/288","id":146585578,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjU4NTU3OA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T15:50:26Z","updated_at":"2015-10-08T15:50:26Z","author_association":"MEMBER","body":"Tests passed locally.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146585578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146624903","html_url":"https://github.com/apache/kafka/pull/204#issuecomment-146624903","issue_url":"https://api.github.com/repos/apache/kafka/issues/204","id":146624903,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjYyNDkwMw==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T17:03:33Z","updated_at":"2015-10-08T17:03:33Z","author_association":"CONTRIBUTOR","body":"Thanks @junrao.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146624903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146626187","html_url":"https://github.com/apache/kafka/pull/275#issuecomment-146626187","issue_url":"https://api.github.com/repos/apache/kafka/issues/275","id":146626187,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjYyNjE4Nw==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T17:08:55Z","updated_at":"2015-10-08T17:08:55Z","author_association":"MEMBER","body":"@granders Thanks much as well for your review and help to update Ducktape! The `stop_node` is fixed now.\n\nI have two questions:\n\n-- Could you elaborate a bit more on why there is too much internal state in JmxMixin? It seems to me that this JmxMixin will have no performance overhead if user doesn't want to query any jmx attribute. And it requires only the necessary overhead, e.g. start jmx process at beginning and read and analyze jmx log at the end, to provide user with average and maximum value for each jmx attribute. In other words, is there any better way to allow multiple service query jmx attribute via mixin?\n\n-- I have used `ssh_capture(..).next()` in order to wait for producer/consumer to start before I start jmx tool. I think the best solution is for ducktape to support `ssh_capture(..).hasNext()`. Do you think this is a useful API for Ducktape to provide? If developer were to wait for process to start without this support, they have to do `ps ax | grep -i console_consumer` (in ConsoleConsumer) or `tail kafka.log` (in KafkaService), both require extra ssh_command.\n\nI agree with you that the way clients (e.g. producer performance and console consumer) calls super class methods is awkward due to multiple inheritance and method signatures. It will be nice if we can find a way to solve this problem.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146626187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146638165","html_url":"https://github.com/apache/kafka/pull/287#issuecomment-146638165","issue_url":"https://api.github.com/repos/apache/kafka/issues/287","id":146638165,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjYzODE2NQ==","user":{"login":"lindong28","id":5873403,"node_id":"MDQ6VXNlcjU4NzM0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5873403?v=4","gravatar_id":"","url":"https://api.github.com/users/lindong28","html_url":"https://github.com/lindong28","followers_url":"https://api.github.com/users/lindong28/followers","following_url":"https://api.github.com/users/lindong28/following{/other_user}","gists_url":"https://api.github.com/users/lindong28/gists{/gist_id}","starred_url":"https://api.github.com/users/lindong28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lindong28/subscriptions","organizations_url":"https://api.github.com/users/lindong28/orgs","repos_url":"https://api.github.com/users/lindong28/repos","events_url":"https://api.github.com/users/lindong28/events{/privacy}","received_events_url":"https://api.github.com/users/lindong28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T17:57:01Z","updated_at":"2015-10-08T17:57:01Z","author_association":"MEMBER","body":"Thanks. LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146638165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146653766","html_url":"https://github.com/apache/kafka/pull/255#issuecomment-146653766","issue_url":"https://api.github.com/repos/apache/kafka/issues/255","id":146653766,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjY1Mzc2Ng==","user":{"login":"rhauch","id":84732,"node_id":"MDQ6VXNlcjg0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/84732?v=4","gravatar_id":"","url":"https://api.github.com/users/rhauch","html_url":"https://github.com/rhauch","followers_url":"https://api.github.com/users/rhauch/followers","following_url":"https://api.github.com/users/rhauch/following{/other_user}","gists_url":"https://api.github.com/users/rhauch/gists{/gist_id}","starred_url":"https://api.github.com/users/rhauch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rhauch/subscriptions","organizations_url":"https://api.github.com/users/rhauch/orgs","repos_url":"https://api.github.com/users/rhauch/repos","events_url":"https://api.github.com/users/rhauch/events{/privacy}","received_events_url":"https://api.github.com/users/rhauch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T18:56:11Z","updated_at":"2015-10-08T18:56:11Z","author_association":"CONTRIBUTOR","body":"Once again, the Jenkins test failures seem irrelevant.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146653766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146666244","html_url":"https://github.com/apache/kafka/pull/153#issuecomment-146666244","issue_url":"https://api.github.com/repos/apache/kafka/issues/153","id":146666244,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjY2NjI0NA==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T19:42:39Z","updated_at":"2015-10-08T19:42:39Z","author_association":"CONTRIBUTOR","body":"@jjkoshy Good point about IllegalStateException, I think we need to shutdown KafkaScheduler at last of the shutdown server sequence. We actually start the scheduler at first when startup. I checked the usage of KafkaScheduler.schedule() and it seems OK to shutdown the scheduler at last.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146666244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146675723","html_url":"https://github.com/apache/kafka/pull/271#issuecomment-146675723","issue_url":"https://api.github.com/repos/apache/kafka/issues/271","id":146675723,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjY3NTcyMw==","user":{"login":"granders","id":1295932,"node_id":"MDQ6VXNlcjEyOTU5MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1295932?v=4","gravatar_id":"","url":"https://api.github.com/users/granders","html_url":"https://github.com/granders","followers_url":"https://api.github.com/users/granders/followers","following_url":"https://api.github.com/users/granders/following{/other_user}","gists_url":"https://api.github.com/users/granders/gists{/gist_id}","starred_url":"https://api.github.com/users/granders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granders/subscriptions","organizations_url":"https://api.github.com/users/granders/orgs","repos_url":"https://api.github.com/users/granders/repos","events_url":"https://api.github.com/users/granders/events{/privacy}","received_events_url":"https://api.github.com/users/granders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T20:25:07Z","updated_at":"2015-10-08T20:25:07Z","author_association":"CONTRIBUTOR","body":"@rajinisivaram \nAll tests passing: http://jenkins.confluent.io/job/kafka_system_tests_branch_builder/98/console\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146675723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146677337","html_url":"https://github.com/apache/kafka/pull/153#issuecomment-146677337","issue_url":"https://api.github.com/repos/apache/kafka/issues/153","id":146677337,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjY3NzMzNw==","user":{"login":"becketqin","id":5778611,"node_id":"MDQ6VXNlcjU3Nzg2MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5778611?v=4","gravatar_id":"","url":"https://api.github.com/users/becketqin","html_url":"https://github.com/becketqin","followers_url":"https://api.github.com/users/becketqin/followers","following_url":"https://api.github.com/users/becketqin/following{/other_user}","gists_url":"https://api.github.com/users/becketqin/gists{/gist_id}","starred_url":"https://api.github.com/users/becketqin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/becketqin/subscriptions","organizations_url":"https://api.github.com/users/becketqin/orgs","repos_url":"https://api.github.com/users/becketqin/repos","events_url":"https://api.github.com/users/becketqin/events{/privacy}","received_events_url":"https://api.github.com/users/becketqin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T20:31:13Z","updated_at":"2015-10-08T20:31:13Z","author_association":"CONTRIBUTOR","body":"@jjkoshy I just rebased on trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146677337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146680660","html_url":"https://github.com/apache/kafka/pull/153#issuecomment-146680660","issue_url":"https://api.github.com/repos/apache/kafka/issues/153","id":146680660,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjY4MDY2MA==","user":{"login":"jjkoshy","id":112339,"node_id":"MDQ6VXNlcjExMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/112339?v=4","gravatar_id":"","url":"https://api.github.com/users/jjkoshy","html_url":"https://github.com/jjkoshy","followers_url":"https://api.github.com/users/jjkoshy/followers","following_url":"https://api.github.com/users/jjkoshy/following{/other_user}","gists_url":"https://api.github.com/users/jjkoshy/gists{/gist_id}","starred_url":"https://api.github.com/users/jjkoshy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjkoshy/subscriptions","organizations_url":"https://api.github.com/users/jjkoshy/orgs","repos_url":"https://api.github.com/users/jjkoshy/repos","events_url":"https://api.github.com/users/jjkoshy/events{/privacy}","received_events_url":"https://api.github.com/users/jjkoshy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T20:47:16Z","updated_at":"2015-10-08T20:47:16Z","author_association":"CONTRIBUTOR","body":"Can you confirm that shutting down the scheduler at the end is safe? Say, if the log cleaner, or offset cache compaction process runs after those components have been closed - would that be an issue?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146680660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146681055","html_url":"https://github.com/apache/kafka/pull/153#issuecomment-146681055","issue_url":"https://api.github.com/repos/apache/kafka/issues/153","id":146681055,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjY4MTA1NQ==","user":{"login":"jjkoshy","id":112339,"node_id":"MDQ6VXNlcjExMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/112339?v=4","gravatar_id":"","url":"https://api.github.com/users/jjkoshy","html_url":"https://github.com/jjkoshy","followers_url":"https://api.github.com/users/jjkoshy/followers","following_url":"https://api.github.com/users/jjkoshy/following{/other_user}","gists_url":"https://api.github.com/users/jjkoshy/gists{/gist_id}","starred_url":"https://api.github.com/users/jjkoshy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjkoshy/subscriptions","organizations_url":"https://api.github.com/users/jjkoshy/orgs","repos_url":"https://api.github.com/users/jjkoshy/repos","events_url":"https://api.github.com/users/jjkoshy/events{/privacy}","received_events_url":"https://api.github.com/users/jjkoshy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T20:49:07Z","updated_at":"2015-10-08T20:49:07Z","author_association":"CONTRIBUTOR","body":"I actually think that might be weird right? E.g., for the offset manager it will actually run (since we don't explicitly check if the offset manager has shut down or not). Basically I think it is better to shutdown the scheduler first - to avoid the possibility of some code in a specific component running after that component has been shut down.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146681055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146709577","html_url":"https://github.com/apache/kafka/pull/165#issuecomment-146709577","issue_url":"https://api.github.com/repos/apache/kafka/issues/165","id":146709577,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjcwOTU3Nw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T22:47:58Z","updated_at":"2015-10-08T23:01:14Z","author_association":"CONTRIBUTOR","body":"@ewencp @guozhangwang @onurkaraman I've updated this patch based on the latest proposal (https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Client-side+Assignment+Proposal), which uses a single client to do the group assignment. I'm still doing a bit of polishing and adding tests, but since most existing tests are passing, it seems ready to start reviewing. There is one failing kstreams test that I have yet to investigate.\n\nA few general notes on the patch:\n- One significant difference from the proposal is that I had to push the assignment strategies out of the consumer's embedded protocol and into the JoinGroup request as a \"subProtocols\" field. This allows the coordinator to do assignment strategy selection similar to the initial patch. It also lets the coordinator reject incompatible members without forcing a group rebalance. Otherwise, we can only detect inconsistencies after the group has rebalanced and the leader sees the metadata from all members. The problem then becomes how the group should handle the inconsistency? We could let the leader kick certain members out of the group, but that complicates the protocol. We could also just fail the entire group, but that seemed extreme. In the end, it seemed simplest to give the coordinator a mechanism to validate compatibility of group members. \n- This brings up the issue of whether each \"subProtocol\" (or assignment strategy) needs to have its own metadata and embedded as in the initial patch. Without it, any assignment-strategy-specific information must itself be embedded in the member metadata included in the JoinGroup request. This is easy if the consumer is using a metadata format like JSON, but trickier with packed arrays. The advantage of keeping everything in the same metadata, however, is that it simplifies the protocol and avoids redundancies such as including subscriptions multiple times.\n- If the leader has an unexpected error during synchronization, the patch does not provide a way to propagate that error to the rest of the group as the proposal called for. Instead, the leader will propagate the exception to the user and the leader's session timeout will expire on the coordinator which will allow for a new leader to be elected. The problem I found when trying to implement this feature is that it requires a new state on the coordinator which is basically like Stable except contains an error to be propagated when the rest of the group syncs, which adds considerable complexity. It also creates a race condition where some members might see the error and immediately rejoin which forces the group out of that state. This means that some members wouldn't generally see the error. In the end, it felt like the cost of propagating the error through the coordinator was too high to justify capability it was exposing. Since unexpected leader failures should be rare, the simpler approach is just to let it timeout.\n- The versioning in the consumer's embedded protocol (as contained in ConsumerProtocol.java) is clearly inadequate and will require further consideration. I'm inclined to push that to a separate JIRA so that we can consider it without the rest of the noise around this patch.\n- The protocol implemented here provides no special support for regex handling. As before, each member watches metadata and adds a normal topic subscription when it finds a new matching topic. If we want to have special handling, that can also be pushed to another JIRA.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146709577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146711278","html_url":"https://github.com/apache/kafka/pull/213#issuecomment-146711278","issue_url":"https://api.github.com/repos/apache/kafka/issues/213","id":146711278,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjcxMTI3OA==","user":{"login":"jjkoshy","id":112339,"node_id":"MDQ6VXNlcjExMjMzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/112339?v=4","gravatar_id":"","url":"https://api.github.com/users/jjkoshy","html_url":"https://github.com/jjkoshy","followers_url":"https://api.github.com/users/jjkoshy/followers","following_url":"https://api.github.com/users/jjkoshy/following{/other_user}","gists_url":"https://api.github.com/users/jjkoshy/gists{/gist_id}","starred_url":"https://api.github.com/users/jjkoshy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjkoshy/subscriptions","organizations_url":"https://api.github.com/users/jjkoshy/orgs","repos_url":"https://api.github.com/users/jjkoshy/repos","events_url":"https://api.github.com/users/jjkoshy/events{/privacy}","received_events_url":"https://api.github.com/users/jjkoshy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T23:00:23Z","updated_at":"2015-10-08T23:00:23Z","author_association":"CONTRIBUTOR","body":"Also, just left a comment on the original delay computation RB - I think it will be helpful to update the comment on the delay computation as described (https://reviews.apache.org/r/33049/)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146711278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146712941","html_url":"https://github.com/apache/kafka/pull/289#issuecomment-146712941","issue_url":"https://api.github.com/repos/apache/kafka/issues/289","id":146712941,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjcxMjk0MQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T23:11:32Z","updated_at":"2015-10-08T23:11:32Z","author_association":"CONTRIBUTOR","body":"lgtm.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146712941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146713786","html_url":"https://github.com/apache/kafka/pull/289#issuecomment-146713786","issue_url":"https://api.github.com/repos/apache/kafka/issues/289","id":146713786,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjcxMzc4Ng==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-08T23:17:19Z","updated_at":"2015-10-08T23:17:19Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/146713786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]