[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776172403","html_url":"https://github.com/apache/hudi/issues/2498#issuecomment-776172403","issue_url":"https://api.github.com/repos/apache/hudi/issues/2498","id":776172403,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjE3MjQwMw==","user":{"login":"andormarkus","id":51825189,"node_id":"MDQ6VXNlcjUxODI1MTg5","avatar_url":"https://avatars.githubusercontent.com/u/51825189?v=4","gravatar_id":"","url":"https://api.github.com/users/andormarkus","html_url":"https://github.com/andormarkus","followers_url":"https://api.github.com/users/andormarkus/followers","following_url":"https://api.github.com/users/andormarkus/following{/other_user}","gists_url":"https://api.github.com/users/andormarkus/gists{/gist_id}","starred_url":"https://api.github.com/users/andormarkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andormarkus/subscriptions","organizations_url":"https://api.github.com/users/andormarkus/orgs","repos_url":"https://api.github.com/users/andormarkus/repos","events_url":"https://api.github.com/users/andormarkus/events{/privacy}","received_events_url":"https://api.github.com/users/andormarkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T19:09:40Z","updated_at":"2021-02-09T19:09:40Z","author_association":"NONE","body":"Thanks @vinothchandar \r\nAs soon someone confirms Apache Spark not affected with this issue I can raise an AWS Support ticket.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776172403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776190924","html_url":"https://github.com/apache/hudi/issues/2240#issuecomment-776190924","issue_url":"https://api.github.com/repos/apache/hudi/issues/2240","id":776190924,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjE5MDkyNA==","user":{"login":"kpurella","id":67808897,"node_id":"MDQ6VXNlcjY3ODA4ODk3","avatar_url":"https://avatars.githubusercontent.com/u/67808897?v=4","gravatar_id":"","url":"https://api.github.com/users/kpurella","html_url":"https://github.com/kpurella","followers_url":"https://api.github.com/users/kpurella/followers","following_url":"https://api.github.com/users/kpurella/following{/other_user}","gists_url":"https://api.github.com/users/kpurella/gists{/gist_id}","starred_url":"https://api.github.com/users/kpurella/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpurella/subscriptions","organizations_url":"https://api.github.com/users/kpurella/orgs","repos_url":"https://api.github.com/users/kpurella/repos","events_url":"https://api.github.com/users/kpurella/events{/privacy}","received_events_url":"https://api.github.com/users/kpurella/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T19:38:11Z","updated_at":"2021-02-09T19:44:34Z","author_association":"NONE","body":"@nsivabalan @bvaradar Thank you . for your support .. Sorry i forgot to update to this thread , we were able to achieve required Performance with @bvaradar  Suggestions.How ever cleanup an issue.So redesigned our table structure to store less rows which improved a lot in upsert performance.\r\n\r\nThank you for your support. you can close the ticket.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776190924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776254596","html_url":"https://github.com/apache/hudi/issues/2546#issuecomment-776254596","issue_url":"https://api.github.com/repos/apache/hudi/issues/2546","id":776254596,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjI1NDU5Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T21:26:00Z","updated_at":"2021-02-09T21:26:00Z","author_association":"CONTRIBUTOR","body":"@robin-su : Can you kindly elaborate the question ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776254596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776298049","html_url":"https://github.com/apache/hudi/issues/2561#issuecomment-776298049","issue_url":"https://api.github.com/repos/apache/hudi/issues/2561","id":776298049,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjI5ODA0OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T22:52:31Z","updated_at":"2021-02-09T22:52:31Z","author_association":"CONTRIBUTOR","body":"Please take a look at https://github.com/apache/hudi/blob/master/hudi-spark-datasource/hudi-spark/src/test/java/HoodieJavaStreamingApp.java for an example ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776298049/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776311165","html_url":"https://github.com/apache/hudi/issues/2240#issuecomment-776311165","issue_url":"https://api.github.com/repos/apache/hudi/issues/2240","id":776311165,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjMxMTE2NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-09T23:20:59Z","updated_at":"2021-02-09T23:20:59Z","author_association":"MEMBER","body":"great. if you have any stories to share for a blog or tuning guide, that would also help everyone! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776311165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776413023","html_url":"https://github.com/apache/hudi/pull/2192#issuecomment-776413023","issue_url":"https://api.github.com/repos/apache/hudi/issues/2192","id":776413023,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjQxMzAyMw==","user":{"login":"jingweiz2017","id":26279097,"node_id":"MDQ6VXNlcjI2Mjc5MDk3","avatar_url":"https://avatars.githubusercontent.com/u/26279097?v=4","gravatar_id":"","url":"https://api.github.com/users/jingweiz2017","html_url":"https://github.com/jingweiz2017","followers_url":"https://api.github.com/users/jingweiz2017/followers","following_url":"https://api.github.com/users/jingweiz2017/following{/other_user}","gists_url":"https://api.github.com/users/jingweiz2017/gists{/gist_id}","starred_url":"https://api.github.com/users/jingweiz2017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jingweiz2017/subscriptions","organizations_url":"https://api.github.com/users/jingweiz2017/orgs","repos_url":"https://api.github.com/users/jingweiz2017/repos","events_url":"https://api.github.com/users/jingweiz2017/events{/privacy}","received_events_url":"https://api.github.com/users/jingweiz2017/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T03:28:29Z","updated_at":"2021-02-10T03:28:29Z","author_association":"NONE","body":"@yanghua Filed [HUDI-1607 ](https://issues.apache.org/jira/projects/HUDI/issues/HUDI-1607?filter=allissues)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776413023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776452167","html_url":"https://github.com/apache/hudi/pull/2548#issuecomment-776452167","issue_url":"https://api.github.com/repos/apache/hudi/issues/2548","id":776452167,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjQ1MjE2Nw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T05:26:45Z","updated_at":"2021-02-10T05:26:45Z","author_association":"CONTRIBUTOR","body":"> > What I mean is that whether we need to freeze the more changes via releasing a minor branch.\r\n> \r\n> definitely the cleaner approach. but not sure if the time is worth investing in, to re-release 0.5.3.1, 0.6.0.1 etc. All of them need to run validation, voting, etc. :(\r\n> \r\n> if these sort of fixes are accepted in other large projects, we can follow suit and land the PRs. So the release branches are buildable again.\r\n\r\nMaybe `0.5.4` not `0.5.3.1`? The simplest and rude way is not to freeze, just pick the commit into the relevant release branch.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776452167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776512247","html_url":"https://github.com/apache/hudi/pull/2431#issuecomment-776512247","issue_url":"https://api.github.com/repos/apache/hudi/issues/2431","id":776512247,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjUxMjI0Nw==","user":{"login":"teeyog","id":19678557,"node_id":"MDQ6VXNlcjE5Njc4NTU3","avatar_url":"https://avatars.githubusercontent.com/u/19678557?v=4","gravatar_id":"","url":"https://api.github.com/users/teeyog","html_url":"https://github.com/teeyog","followers_url":"https://api.github.com/users/teeyog/followers","following_url":"https://api.github.com/users/teeyog/following{/other_user}","gists_url":"https://api.github.com/users/teeyog/gists{/gist_id}","starred_url":"https://api.github.com/users/teeyog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teeyog/subscriptions","organizations_url":"https://api.github.com/users/teeyog/orgs","repos_url":"https://api.github.com/users/teeyog/repos","events_url":"https://api.github.com/users/teeyog/events{/privacy}","received_events_url":"https://api.github.com/users/teeyog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T07:44:22Z","updated_at":"2021-02-10T07:44:22Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Modified according to your opinion, please review again, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776512247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776660622","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-776660622","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":776660622,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjY2MDYyMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T12:02:50Z","updated_at":"2021-02-10T12:02:50Z","author_association":"CONTRIBUTOR","body":"Have created a jira https://issues.apache.org/jira/browse/HUDI-1608. Will be investigating it further. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776660622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776698432","html_url":"https://github.com/apache/hudi/pull/2316#issuecomment-776698432","issue_url":"https://api.github.com/repos/apache/hudi/issues/2316","id":776698432,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjY5ODQzMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T13:16:08Z","updated_at":"2021-02-10T13:16:08Z","author_association":"CONTRIBUTOR","body":"Don't have permission to update this patch. hence have put up another patch. \r\nhttps://github.com/apache/hudi/pull/2562\r\n@sbernauer : my bad. your original patch was the right one. sorry to have delayed this long. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776698432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776699878","html_url":"https://github.com/apache/hudi/pull/2316#issuecomment-776699878","issue_url":"https://api.github.com/repos/apache/hudi/issues/2316","id":776699878,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjY5OTg3OA==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T13:18:32Z","updated_at":"2021-02-10T13:18:32Z","author_association":"CONTRIBUTOR","body":"No problem and thanks @nsivabalan for creating the PR!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776699878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776721370","html_url":"https://github.com/apache/hudi/pull/2562#issuecomment-776721370","issue_url":"https://api.github.com/repos/apache/hudi/issues/2562","id":776721370,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjcyMTM3MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T13:55:37Z","updated_at":"2021-02-10T13:58:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2562?src=pr&el=h1) Report\n> Merging [#2562](https://codecov.io/gh/apache/hudi/pull/2562?src=pr&el=desc) (5258866) into [master](https://codecov.io/gh/apache/hudi/commit/a2f85d90de73a58e924b4de757d09d6133b046a4?el=desc) (a2f85d9) will **decrease** coverage by `0.00%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2562/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2562?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2562      +/-   ##\n============================================\n- Coverage     50.90%   50.90%   -0.01%     \n- Complexity     3167     3168       +1     \n============================================\n  Files           433      433              \n  Lines         19806    19806              \n  Branches       2032     2032              \n============================================\n- Hits          10083    10082       -1     \n- Misses         8904     8905       +1     \n  Partials        819      819              \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `36.90% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.38% <ø> (-0.03%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `43.21% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.16% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `69.46% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `66.49% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.51% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2562?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2562/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | `26.00% <0.00%> (ø%)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2562/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.86% <0.00%> (+0.35%)` | `51.00% <0.00%> (+1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776721370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776821258","html_url":"https://github.com/apache/hudi/issues/2123#issuecomment-776821258","issue_url":"https://api.github.com/repos/apache/hudi/issues/2123","id":776821258,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjgyMTI1OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T16:10:02Z","updated_at":"2021-02-10T16:10:02Z","author_association":"CONTRIBUTOR","body":"@kimberlyamandalu : were you able to file a support ticket w/ athena? Once done, can you reference a link here. \r\nCC @umehrot2 : fyi, timestamp datatype conversion in hudi to athena has problems. As per satish, we might need a fix in athena. You can read this entire ticket for reference.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776821258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776838940","html_url":"https://github.com/apache/hudi/issues/1679#issuecomment-776838940","issue_url":"https://api.github.com/repos/apache/hudi/issues/1679","id":776838940,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjgzODk0MA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T16:33:13Z","updated_at":"2021-02-10T16:33:13Z","author_association":"CONTRIBUTOR","body":"@bvaradar : fyi I have created a sec:critical jira on this https://issues.apache.org/jira/browse/HUDI-1609. Please reduce priority if you feel otherwise. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776838940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776860248","html_url":"https://github.com/apache/hudi/pull/2500#issuecomment-776860248","issue_url":"https://api.github.com/repos/apache/hudi/issues/2500","id":776860248,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Njg2MDI0OA==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T16:58:37Z","updated_at":"2021-02-10T16:58:37Z","author_association":"CONTRIBUTOR","body":"This gives me a big pain right now. Will try to monitor this PR as close as possible.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776860248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776886916","html_url":"https://github.com/apache/hudi/pull/2562#issuecomment-776886916","issue_url":"https://api.github.com/repos/apache/hudi/issues/2562","id":776886916,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Njg4NjkxNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T17:38:03Z","updated_at":"2021-02-10T17:38:03Z","author_association":"CONTRIBUTOR","body":"@nsivabalan can you confirm that the package is relocated and not a hard dependency on the actual package ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776886916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776893408","html_url":"https://github.com/apache/hudi/pull/2486#issuecomment-776893408","issue_url":"https://api.github.com/repos/apache/hudi/issues/2486","id":776893408,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Njg5MzQwOA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T17:48:22Z","updated_at":"2021-02-10T17:48:22Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @quitozang Can we just add a transformer that does this ? https://github.com/apache/hudi/blob/master/hudi-utilities/src/main/java/org/apache/hudi/utilities/transform/Transformer.java.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776893408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776894429","html_url":"https://github.com/apache/hudi/pull/2486#issuecomment-776894429","issue_url":"https://api.github.com/repos/apache/hudi/issues/2486","id":776894429,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Njg5NDQyOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T17:50:06Z","updated_at":"2021-02-10T17:50:06Z","author_association":"CONTRIBUTOR","body":"yes, but its feasible only w/ delta streamer right. if someone is using datasource directly? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776894429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776922542","html_url":"https://github.com/apache/hudi/pull/2500#issuecomment-776922542","issue_url":"https://api.github.com/repos/apache/hudi/issues/2500","id":776922542,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjkyMjU0Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T18:35:49Z","updated_at":"2021-02-10T18:35:49Z","author_association":"CONTRIBUTOR","body":"@bvaradar @vinothchandar : you can review the patch. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776922542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776932935","html_url":"https://github.com/apache/hudi/pull/2500#issuecomment-776932935","issue_url":"https://api.github.com/repos/apache/hudi/issues/2500","id":776932935,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NjkzMjkzNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T18:52:59Z","updated_at":"2021-03-14T07:30:28Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2500?src=pr&el=h1) Report\n> Merging [#2500](https://codecov.io/gh/apache/hudi/pull/2500?src=pr&el=desc) (5af6449) into [master](https://codecov.io/gh/apache/hudi/commit/a2f85d90de73a58e924b4de757d09d6133b046a4?el=desc) (a2f85d9) will **increase** coverage by `18.57%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2500/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2500?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2500       +/-   ##\n=============================================\n+ Coverage     50.90%   69.48%   +18.57%     \n+ Complexity     3167      364     -2803     \n=============================================\n  Files           433       53      -380     \n  Lines         19806     1963    -17843     \n  Branches       2032      235     -1797     \n=============================================\n- Hits          10083     1364     -8719     \n+ Misses         8904      466     -8438     \n+ Partials        819      133      -686     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.48% <ø> (+0.01%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2500?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...hudi/utilities/sources/helpers/KafkaOffsetGen.java](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9LYWZrYU9mZnNldEdlbi5qYXZh) | `85.84% <0.00%> (-2.94%)` | `20.00% <0.00%> (+4.00%)` | :arrow_down: |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `68.72% <0.00%> (-0.26%)` | `18.00% <0.00%> (ø%)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.34% <0.00%> (-0.16%)` | `53.00% <0.00%> (+3.00%)` | :arrow_down: |\n| [...ies/sources/helpers/DatePartitionPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9EYXRlUGFydGl0aW9uUGF0aFNlbGVjdG9yLmphdmE=) | `54.68% <0.00%> (-0.16%)` | `13.00% <0.00%> (ø%)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <0.00%> (ø)` | `18.00% <0.00%> (ø%)` | |\n| [.../java/org/apache/hudi/HoodieDataSourceHelpers.java](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllRGF0YVNvdXJjZUhlbHBlcnMuamF2YQ==) | | | |\n| [...ache/hudi/common/table/timeline/TimelineUtils.java](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL1RpbWVsaW5lVXRpbHMuamF2YQ==) | | | |\n| [.../apache/hudi/common/util/DefaultSizeEstimator.java](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvRGVmYXVsdFNpemVFc3RpbWF0b3IuamF2YQ==) | | | |\n| [...g/apache/hudi/common/util/RocksDBSchemaHelper.java](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvUm9ja3NEQlNjaGVtYUhlbHBlci5qYXZh) | | | |\n| [...rc/main/scala/org/apache/hudi/cli/DeDupeType.scala](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9EZUR1cGVUeXBlLnNjYWxh) | | | |\n| ... and [373 more](https://codecov.io/gh/apache/hudi/pull/2500/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776932935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776974860","html_url":"https://github.com/apache/hudi/issues/2123#issuecomment-776974860","issue_url":"https://api.github.com/repos/apache/hudi/issues/2123","id":776974860,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Njk3NDg2MA==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T19:55:58Z","updated_at":"2021-02-10T19:55:58Z","author_association":"NONE","body":"@nsivabalan I have not filed a support ticket with Athena. I can do it and will reference ticket in here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/776974860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777044719","html_url":"https://github.com/apache/hudi/issues/2123#issuecomment-777044719","issue_url":"https://api.github.com/repos/apache/hudi/issues/2123","id":777044719,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzA0NDcxOQ==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T21:22:11Z","updated_at":"2021-02-10T21:22:11Z","author_association":"NONE","body":"I have raised Case# 7979845961 with AWS support for this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777044719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777083810","html_url":"https://github.com/apache/hudi/pull/2562#issuecomment-777083810","issue_url":"https://api.github.com/repos/apache/hudi/issues/2562","id":777083810,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzA4MzgxMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T22:40:49Z","updated_at":"2021-02-10T22:40:49Z","author_association":"MEMBER","body":"so the reason, this was left out was that we could use it from spark/hive etc, who should already have this?  whats the actual problem we are addressing here , by including these jars?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777083810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777084003","html_url":"https://github.com/apache/hudi/pull/2562#issuecomment-777084003","issue_url":"https://api.github.com/repos/apache/hudi/issues/2562","id":777084003,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzA4NDAwMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T22:41:11Z","updated_at":"2021-02-10T22:41:11Z","author_association":"MEMBER","body":"+1 on relocation. we need to be really sure about relocating or not.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777084003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777120159","html_url":"https://github.com/apache/hudi/pull/2565#issuecomment-777120159","issue_url":"https://api.github.com/repos/apache/hudi/issues/2565","id":777120159,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzEyMDE1OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-10T23:55:21Z","updated_at":"2021-02-18T22:58:14Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2565?src=pr&el=h1) Report\n> Merging [#2565](https://codecov.io/gh/apache/hudi/pull/2565?src=pr&el=desc) (9e7e18b) into [master](https://codecov.io/gh/apache/hudi/commit/26da4f546275e8ab6496537743efe73510cb723d?el=desc) (26da4f5) will **decrease** coverage by `41.24%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2565/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2565?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2565       +/-   ##\n============================================\n- Coverage     50.92%   9.68%   -41.25%     \n+ Complexity     3168      48     -3120     \n============================================\n  Files           433      53      -380     \n  Lines         19812    1931    -17881     \n  Branches       2033     230     -1803     \n============================================\n- Hits          10090     187     -9903     \n+ Misses         8902    1731     -7171     \n+ Partials        820      13      -807     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.68% <ø> (-59.84%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2565?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [409 more](https://codecov.io/gh/apache/hudi/pull/2565/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777120159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777136239","html_url":"https://github.com/apache/hudi/issues/736#issuecomment-777136239","issue_url":"https://api.github.com/repos/apache/hudi/issues/736","id":777136239,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzEzNjIzOQ==","user":{"login":"badri03iter","id":20469911,"node_id":"MDQ6VXNlcjIwNDY5OTEx","avatar_url":"https://avatars.githubusercontent.com/u/20469911?v=4","gravatar_id":"","url":"https://api.github.com/users/badri03iter","html_url":"https://github.com/badri03iter","followers_url":"https://api.github.com/users/badri03iter/followers","following_url":"https://api.github.com/users/badri03iter/following{/other_user}","gists_url":"https://api.github.com/users/badri03iter/gists{/gist_id}","starred_url":"https://api.github.com/users/badri03iter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/badri03iter/subscriptions","organizations_url":"https://api.github.com/users/badri03iter/orgs","repos_url":"https://api.github.com/users/badri03iter/repos","events_url":"https://api.github.com/users/badri03iter/events{/privacy}","received_events_url":"https://api.github.com/users/badri03iter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T00:38:26Z","updated_at":"2021-02-11T00:39:04Z","author_association":"NONE","body":"Hi Team,\r\nwhile running ./run_sync_tool.sh  --jdbc-url jdbc:hive2://localhost:10000/default --user *** --pass *** --partitioned-by data_load_date --base-path XXX--database default --table default.table , I am facing the same issue as above mentioned..\r\n2021-02-10 16:07:16,381 ERROR [main] metastore.RetryingHMSHandler (RetryingHMSHandler.java:invokeInternal(204)) - java.lang.NoClassDefFoundError: org/datanucleus/NucleusContext\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.apache.hadoop.hive.metastore.MetaStoreUtils.getClass(MetaStoreUtils.java:1674)\r\n\tat org.apache.hadoop.hive.metastore.RawStoreProxy.getProxy(RawStoreProxy.java:64)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.newRawStoreForConf(HiveMetaStore.java:628)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMSForConf(HiveMetaStore.java:594)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.getMS(HiveMetaStore.java:588)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB(HiveMetaStore.java:655)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.init(HiveMetaStore.java:431)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:148)\r\n\tat org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:107)\r\n\tat org.apache.hadoop.hive.metastore.RetryingHMSHandler.<init>(RetryingHMSHandler.java:79)\r\n\tat org.apache.hadoop.hive.metastore.RetryingHMSHandler.getProxy(RetryingHMSHandler.java:92)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStore.newRetryingHMSHandler(HiveMetaStore.java:6891)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.<init>(HiveMetaStoreClient.java:164)\r\n\tat org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient.<init>(SessionHiveMetaStoreClient.java:70)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.apache.hadoop.hive.metastore.MetaStoreUtils.newInstance(MetaStoreUtils.java:1706)\r\n\tat org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.<init>(RetryingMetaStoreClient.java:83)\r\n\tat org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.getProxy(RetryingMetaStoreClient.java:133)\r\n\tat org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.getProxy(RetryingMetaStoreClient.java:104)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.createMetaStoreClient(Hive.java:3600)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.getMSC(Hive.java:3652)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.getMSC(Hive.java:3632)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.getAllFunctions(Hive.java:3894)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.reloadFunctions(Hive.java:248)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.registerAllFunctionsOnce(Hive.java:231)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.<init>(Hive.java:388)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.create(Hive.java:332)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.getInternal(Hive.java:312)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.get(Hive.java:288)\r\n\tat org.apache.hudi.hive.HoodieHiveClient.<init>(HoodieHiveClient.java:91)\r\n\tat org.apache.hudi.hive.HiveSyncTool.<init>(HiveSyncTool.java:66)\r\n\tat org.apache.hudi.hive.HiveSyncTool.main(HiveSyncTool.java:231)\r\nCaused by: java.lang.ClassNotFoundException: org.datanucleus.NucleusContext\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 41 more\r\n\r\n\r\ndatanucleus packages are present in\r\n/mnt/apache-hive-2.3.5-bin/lib\r\n\r\nAny pointers ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777136239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777179487","html_url":"https://github.com/apache/hudi/pull/2532#issuecomment-777179487","issue_url":"https://api.github.com/repos/apache/hudi/issues/2532","id":777179487,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzE3OTQ4Nw==","user":{"login":"vinnielhj","id":28946792,"node_id":"MDQ6VXNlcjI4OTQ2Nzky","avatar_url":"https://avatars.githubusercontent.com/u/28946792?v=4","gravatar_id":"","url":"https://api.github.com/users/vinnielhj","html_url":"https://github.com/vinnielhj","followers_url":"https://api.github.com/users/vinnielhj/followers","following_url":"https://api.github.com/users/vinnielhj/following{/other_user}","gists_url":"https://api.github.com/users/vinnielhj/gists{/gist_id}","starred_url":"https://api.github.com/users/vinnielhj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinnielhj/subscriptions","organizations_url":"https://api.github.com/users/vinnielhj/orgs","repos_url":"https://api.github.com/users/vinnielhj/repos","events_url":"https://api.github.com/users/vinnielhj/events{/privacy}","received_events_url":"https://api.github.com/users/vinnielhj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T03:16:56Z","updated_at":"2021-02-11T03:16:56Z","author_association":"NONE","body":"hi  @satishkotha ,please review,thank you very much","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777179487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777182932","html_url":"https://github.com/apache/hudi/issues/2537#issuecomment-777182932","issue_url":"https://api.github.com/repos/apache/hudi/issues/2537","id":777182932,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzE4MjkzMg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T03:31:55Z","updated_at":"2021-02-11T03:31:55Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @jiangok2006 : Yes, the sql query format \"select x,y,z from <SRC>\" is correct","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777182932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777186070","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-777186070","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":777186070,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzE4NjA3MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T03:45:39Z","updated_at":"2021-02-11T03:45:39Z","author_association":"CONTRIBUTOR","body":"@rswagatika : Can you run the following hudi cli and add the output to the ticket:\r\n\r\nshow fsview all\r\n\r\n\r\nAlso, can you list the .hoodie folder and add the output","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777186070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777189612","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-777189612","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":777189612,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzE4OTYxMg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T04:01:59Z","updated_at":"2021-02-11T04:01:59Z","author_association":"CONTRIBUTOR","body":"Can you check if you have the spark-sql_2.12-3.x is present in your class-path ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777189612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777189845","html_url":"https://github.com/apache/hudi/issues/2563#issuecomment-777189845","issue_url":"https://api.github.com/repos/apache/hudi/issues/2563","id":777189845,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzE4OTg0NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T04:02:58Z","updated_at":"2021-02-11T04:02:58Z","author_association":"CONTRIBUTOR","body":"@nsivabalan : Can you kindly track this request ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777189845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777201735","html_url":"https://github.com/apache/hudi/pull/2567#issuecomment-777201735","issue_url":"https://api.github.com/repos/apache/hudi/issues/2567","id":777201735,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzIwMTczNQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T04:53:06Z","updated_at":"2021-02-11T04:56:10Z","author_association":"MEMBER","body":"hi @danny0405 @yanghua have a review if you are free, thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777201735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777202452","html_url":"https://github.com/apache/hudi/pull/2567#issuecomment-777202452","issue_url":"https://api.github.com/repos/apache/hudi/issues/2567","id":777202452,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzIwMjQ1Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T04:56:00Z","updated_at":"2021-02-11T08:54:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2567?src=pr&el=h1) Report\n> Merging [#2567](https://codecov.io/gh/apache/hudi/pull/2567?src=pr&el=desc) (872f834) into [master](https://codecov.io/gh/apache/hudi/commit/26da4f546275e8ab6496537743efe73510cb723d?el=desc) (26da4f5) will **decrease** coverage by `41.23%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2567/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2567?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2567       +/-   ##\n============================================\n- Coverage     50.92%   9.69%   -41.24%     \n+ Complexity     3168      48     -3120     \n============================================\n  Files           433      53      -380     \n  Lines         19812    1929    -17883     \n  Branches       2033     229     -1804     \n============================================\n- Hits          10090     187     -9903     \n+ Misses         8902    1729     -7173     \n+ Partials        820      13      -807     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.69% <ø> (-59.83%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2567?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [410 more](https://codecov.io/gh/apache/hudi/pull/2567/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777202452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777224119","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-777224119","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":777224119,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzIyNDExOQ==","user":{"login":"jtmzheng","id":3466206,"node_id":"MDQ6VXNlcjM0NjYyMDY=","avatar_url":"https://avatars.githubusercontent.com/u/3466206?v=4","gravatar_id":"","url":"https://api.github.com/users/jtmzheng","html_url":"https://github.com/jtmzheng","followers_url":"https://api.github.com/users/jtmzheng/followers","following_url":"https://api.github.com/users/jtmzheng/following{/other_user}","gists_url":"https://api.github.com/users/jtmzheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jtmzheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtmzheng/subscriptions","organizations_url":"https://api.github.com/users/jtmzheng/orgs","repos_url":"https://api.github.com/users/jtmzheng/repos","events_url":"https://api.github.com/users/jtmzheng/events{/privacy}","received_events_url":"https://api.github.com/users/jtmzheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T06:10:30Z","updated_at":"2021-02-11T06:11:52Z","author_association":"NONE","body":"I tried modifying `spark.jars.packages` to be `\"org.apache.hudi:hudi-spark-bundle_2.12:0.7.0,org.apache.spark:spark-avro_2.12:3.0.0,org.apache.spark:spark-sql_2.12:3.0.0\"` which still leads to the same error in the test. \r\n\r\nEdit: Changing the table type to COPY_ON_WRITE gets the test to pass, seems to only affect MOR (which makes sense based on the stacktrace).\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777224119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777257283","html_url":"https://github.com/apache/hudi/pull/2567#issuecomment-777257283","issue_url":"https://api.github.com/repos/apache/hudi/issues/2567","id":777257283,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzI1NzI4Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T07:47:59Z","updated_at":"2021-02-11T07:47:59Z","author_association":"MEMBER","body":"hey hey.. looks whos back :) \r\nwelcome again @lamber-ken !","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777257283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777259245","html_url":"https://github.com/apache/hudi/pull/2567#issuecomment-777259245","issue_url":"https://api.github.com/repos/apache/hudi/issues/2567","id":777259245,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzI1OTI0NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T07:53:13Z","updated_at":"2021-02-11T07:53:13Z","author_association":"CONTRIBUTOR","body":"> hey hey.. looks whos back :)\r\n> welcome again @lamber-ken !\r\n\r\nYeah, welcome back @lamber-ken and happy Chinese new year!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777259245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777265595","html_url":"https://github.com/apache/hudi/pull/2567#issuecomment-777265595","issue_url":"https://api.github.com/repos/apache/hudi/issues/2567","id":777265595,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzI2NTU5NQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T08:08:48Z","updated_at":"2021-02-11T08:08:48Z","author_association":"MEMBER","body":"hi @yanghua, thanks for the suggestion. Patch is updated accordingly.\r\n\r\nthanks @vinothchandar @vinothchandar, I'm sorry I didn't work for the community for a long time in the past. Will continue to work for hudi project as well as I can in the new year(chinese new year). 🔋 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777265595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777297507","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-777297507","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":777297507,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzI5NzUwNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T09:09:52Z","updated_at":"2021-02-11T09:09:52Z","author_association":"CONTRIBUTOR","body":"@umehrot2 : Any idea why this is happening in 0.7 ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777297507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777320125","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-777320125","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":777320125,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzMyMDEyNQ==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T09:47:24Z","updated_at":"2021-02-11T09:47:33Z","author_association":"CONTRIBUTOR","body":"Are you running this on AWS EMR ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777320125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777570192","html_url":"https://github.com/apache/hudi/issues/2533#issuecomment-777570192","issue_url":"https://api.github.com/repos/apache/hudi/issues/2533","id":777570192,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzU3MDE5Mg==","user":{"login":"abhijeetkushe","id":2093096,"node_id":"MDQ6VXNlcjIwOTMwOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2093096?v=4","gravatar_id":"","url":"https://api.github.com/users/abhijeetkushe","html_url":"https://github.com/abhijeetkushe","followers_url":"https://api.github.com/users/abhijeetkushe/followers","following_url":"https://api.github.com/users/abhijeetkushe/following{/other_user}","gists_url":"https://api.github.com/users/abhijeetkushe/gists{/gist_id}","starred_url":"https://api.github.com/users/abhijeetkushe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhijeetkushe/subscriptions","organizations_url":"https://api.github.com/users/abhijeetkushe/orgs","repos_url":"https://api.github.com/users/abhijeetkushe/repos","events_url":"https://api.github.com/users/abhijeetkushe/events{/privacy}","received_events_url":"https://api.github.com/users/abhijeetkushe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T15:20:02Z","updated_at":"2021-02-11T15:22:29Z","author_association":"NONE","body":"I did not find hudi-cli restore option in the available options.I did try \r\n```repair corrupted clean files``` closest to what I felt would help me.That did not fail but the spark task did not finish for 2 hours so I had to kill it.Executors were dead as well.Was not able to see any other details on the DAG\r\n```\r\nbootstrap index showmapping - Show bootstrap index mapping\r\n* bootstrap index showpartitions - Show bootstrap indexed partitions\r\n* bootstrap run - Run a bootstrap action for current Hudi table\r\n* clean showpartitions - Show partition level details of a clean\r\n* cleans refresh - Refresh table metadata\r\n* cleans run - run clean\r\n* cleans show - Show the cleans\r\n* clear - Clears the console\r\n* cls - Clears the console\r\n* commit rollback - Rollback a commit\r\n* commits compare - Compare commits with another Hoodie table\r\n* commit showfiles - Show file level details of a commit\r\n* commit showpartitions - Show partition level details of a commit\r\n* commits refresh - Refresh table metadata\r\n* commits show - Show the commits\r\n* commits showarchived - Show the archived commits\r\n* commits sync - Compare commits with another Hoodie table\r\n* compaction repair - Renames the files to make them consistent with the timeline as dictated by Hoodie metadata. Use when compaction unschedule fails partially.\r\n* compaction run - Run Compaction for given instant time\r\n* compaction schedule - Schedule Compaction\r\n* compaction show - Shows compaction details for a specific compaction instant\r\n* compaction showarchived - Shows compaction details for a specific compaction instant\r\n* compactions show all - Shows all compactions that are in active timeline\r\n* compactions showarchived - Shows compaction details for specified time window\r\n* compaction unschedule - Unschedule Compaction\r\n* compaction unscheduleFileId - UnSchedule Compaction for a fileId\r\n* compaction validate - Validate Compaction\r\n* connect - Connect to a hoodie table\r\n* create - Create a hoodie table if not present\r\n* date - Displays the local date and time\r\n* desc - Describe Hoodie Table properties\r\n* exit - Exits the shell\r\n* export instants - Export Instants and their metadata from the Timeline\r\n* hdfsparquetimport - Imports Parquet table to a hoodie table\r\n* help - List all commands usage\r\n* metadata refresh - Refresh table metadata\r\n* quit - Exits the shell\r\n* refresh - Refresh table metadata\r\n* repair addpartitionmeta - Add partition metadata to a table, if not present\r\n* repair corrupted clean files - repair corrupted clean files\r\n* repair deduplicate - De-duplicate a partition path contains duplicates & produce repaired files to replace with\r\n* repair overwrite-hoodie-props - Overwrite hoodie.properties with provided file. Risky operation. Proceed with caution!\r\n* savepoint create - Savepoint a commit\r\n* savepoint delete - Delete the savepoint\r\n* savepoint rollback - Savepoint a commit\r\n* savepoints refresh - Refresh table metadata\r\n* savepoints show - Show the savepoints\r\n* script - Parses the specified resource file and executes its commands\r\n* set - Set spark launcher env to cli\r\n* show archived commits - Read commits from archived files and show details\r\n* show archived commit stats - Read commits from archived files and show details\r\n* show env - Show spark launcher env by key\r\n* show envs all - Show spark launcher envs\r\n* show fsview all - Show entire file-system view\r\n* show fsview latest - Show latest file-system view\r\n* show logfile metadata - Read commit metadata from log files\r\n* show logfile records - Read records from log files\r\n* show rollback - Show details of a rollback instant\r\n* show rollbacks - List all rollback instants\r\n* stats filesizes - File Sizes. Display summary stats on sizes of files\r\n* stats wa - Write Amplification. Ratio of how many records were upserted to how many records were actually written\r\n* sync validate - Validate the sync by counting the number of records\r\n* system properties - Shows the shell's properties\r\n* temp_delete - Delete view name\r\n* temp_query - query against created temp view\r\n* temp delete - Delete view name\r\n* temp query - query against created temp view\r\n* temps_show - Show all views name\r\n* temps show - Show all views name\r\n* utils loadClass - Load a class\r\n* version - Displays shell version\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777570192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777589973","html_url":"https://github.com/apache/hudi/issues/2255#issuecomment-777589973","issue_url":"https://api.github.com/repos/apache/hudi/issues/2255","id":777589973,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzU4OTk3Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T15:45:07Z","updated_at":"2021-02-11T15:45:07Z","author_association":"CONTRIBUTOR","body":"@WTa-hash : there are some nuances here. looks like read optimized may not work well if you have inserts. But if you have just updates, then it would be honored for sure. Similarly, global_bloom also works as expected w/ snapshot query. just that w/ read optimized query may not work as expected if you have inserts. Closing this for now. I will update the tracking ticket. may be will revisit later based on customer needs. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777589973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777592168","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-777592168","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":777592168,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzU5MjE2OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T15:47:53Z","updated_at":"2021-02-11T15:47:53Z","author_association":"MEMBER","body":"Thanks @rubenssoto for narrowing it down. \r\n\r\n```\r\n  @Test\r\n  def testArchivalIssue(): Unit = {\r\n    println(s\"Basepath : ${basePath}\");\r\n    for (i <- 1 to 20) {\r\n      val records = recordsToStrings(dataGen.generateInserts(\"%05d\".format(i), 100)).toList\r\n      val inputDF = spark.read.json(spark.sparkContext.parallelize(records, 2))\r\n      inputDF.write.format(\"hudi\")\r\n        .options(commonOpts)\r\n        .option(\"hoodie.keep.min.commits\", \"2\")\r\n        .option(\"hoodie.keep.max.commits\", \"3\")\r\n        .option(\"hoodie.cleaner.commits.retained\", \"1\")\r\n        .option(\"hoodie.datasource.write.row.writer.enable\", \"true\")\r\n        .option(DataSourceWriteOptions.OPERATION_OPT_KEY, DataSourceWriteOptions.BULK_INSERT_OPERATION_OPT_VAL)\r\n        .mode(if (i == 0) SaveMode.Overwrite else SaveMode.Append)\r\n        .save(basePath)\r\n      println(s\"Round ${i} of inserts.\")\r\n    }\r\n    Thread.sleep(Int.MaxValue)\r\n  }\r\n```\r\n\r\nreproduces this. Issue is mostly that the row writer just passed in Option.empty extra metadata, while the writeclient path passed in an empty hashmap (so the fix I cited above was working). \r\n\r\nFor now, please just limit row writer to the initial bulk_insert (it only works with bulk_insert atm anyway). I ll have a PR out soon. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777592168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777594171","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-777594171","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":777594171,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzU5NDE3MQ==","user":{"login":"low-on-mana","id":8509512,"node_id":"MDQ6VXNlcjg1MDk1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/8509512?v=4","gravatar_id":"","url":"https://api.github.com/users/low-on-mana","html_url":"https://github.com/low-on-mana","followers_url":"https://api.github.com/users/low-on-mana/followers","following_url":"https://api.github.com/users/low-on-mana/following{/other_user}","gists_url":"https://api.github.com/users/low-on-mana/gists{/gist_id}","starred_url":"https://api.github.com/users/low-on-mana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/low-on-mana/subscriptions","organizations_url":"https://api.github.com/users/low-on-mana/orgs","repos_url":"https://api.github.com/users/low-on-mana/repos","events_url":"https://api.github.com/users/low-on-mana/events{/privacy}","received_events_url":"https://api.github.com/users/low-on-mana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T15:50:49Z","updated_at":"2021-02-11T15:50:49Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I am getting exact same error, when `_hoodie_is_deleted` is true. Are these related ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777594171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777631422","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-777631422","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":777631422,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzYzMTQyMg==","user":{"login":"rswagatika","id":76132270,"node_id":"MDQ6VXNlcjc2MTMyMjcw","avatar_url":"https://avatars.githubusercontent.com/u/76132270?v=4","gravatar_id":"","url":"https://api.github.com/users/rswagatika","html_url":"https://github.com/rswagatika","followers_url":"https://api.github.com/users/rswagatika/followers","following_url":"https://api.github.com/users/rswagatika/following{/other_user}","gists_url":"https://api.github.com/users/rswagatika/gists{/gist_id}","starred_url":"https://api.github.com/users/rswagatika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rswagatika/subscriptions","organizations_url":"https://api.github.com/users/rswagatika/orgs","repos_url":"https://api.github.com/users/rswagatika/repos","events_url":"https://api.github.com/users/rswagatika/events{/privacy}","received_events_url":"https://api.github.com/users/rswagatika/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T16:44:47Z","updated_at":"2021-02-11T16:44:47Z","author_association":"NONE","body":"@bvaradar Thank you for your response.\r\n\r\n UPDATE => Today morning when I ran the above query I could see the cleaning triggered and it did delete the files. So for production use I changed my config 'hoodie.cleaner.commits.retained': 4 from 1 and ran the test and it did work.\r\n\r\nAfter that I ran commit again for 6 times and as per my understanding at the 5th commit the cleaning should be triggered?\r\nI am having hard time to understand when exactly the cleaning is triggering is it after compaction with 5 commit or does it wait for certain amount of time before triggering the clean up activity? If you can help me better understand the process would be helpful.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777631422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777643385","html_url":"https://github.com/apache/hudi/pull/2296#issuecomment-777643385","issue_url":"https://api.github.com/repos/apache/hudi/issues/2296","id":777643385,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzY0MzM4NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T17:01:59Z","updated_at":"2021-02-11T17:01:59Z","author_association":"CONTRIBUTOR","body":"Thanks for the pointers @vinothchandar. So, guess we can't go ahead w/ this patch as is. Do you think it would be worth adding in a new config like skipEmptyCommitOnNoRecords or something. Interested users can leverage this. For rest, behavior stays the same. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777643385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777649047","html_url":"https://github.com/apache/hudi/pull/2160#issuecomment-777649047","issue_url":"https://api.github.com/repos/apache/hudi/issues/2160","id":777649047,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzY0OTA0Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T17:10:18Z","updated_at":"2021-02-11T17:10:18Z","author_association":"CONTRIBUTOR","body":"@lw309637554 : Can you please check the feedback and address them. would be nice to have this in. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777649047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777649890","html_url":"https://github.com/apache/hudi/pull/2141#issuecomment-777649890","issue_url":"https://api.github.com/repos/apache/hudi/issues/2141","id":777649890,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzY0OTg5MA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T17:11:33Z","updated_at":"2021-02-11T17:11:33Z","author_association":"CONTRIBUTOR","body":"@bvaradar : can you check my previous comment. We can close this out if not required. If not, let me know.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777649890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777651412","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-777651412","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":777651412,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzY1MTQxMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T17:14:01Z","updated_at":"2021-02-11T17:14:01Z","author_association":"CONTRIBUTOR","body":"@lw309637554 @vinothchandar : can you folks get this to completion, its been open for a while. Would be nice to have this in. We might also add more documentation in fax or somewhere as to what switches are compatible. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777651412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777671840","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-777671840","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":777671840,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzY3MTg0MA==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T17:46:03Z","updated_at":"2021-02-11T17:46:03Z","author_association":"NONE","body":"Thank you so much @vinothchandar , I'm happy to help!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777671840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777673847","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-777673847","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":777673847,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzY3Mzg0Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T17:49:11Z","updated_at":"2021-02-11T17:49:11Z","author_association":"MEMBER","body":"No. it seems be tied to row writing afaict. Do you have that enabled?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777673847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777679071","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-777679071","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":777679071,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzY3OTA3MQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T17:57:40Z","updated_at":"2021-02-11T17:57:40Z","author_association":"NONE","body":"@vinothchandar @satishkotha @zuyanton \r\n\r\nI think the only workaround here is to convert the timestamp column to string, do you have better ideas?\r\nMy timestamp column is not timestamp micro, my hudi avro timestamp is, it make senses?\r\n\r\nthank you.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777679071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777704535","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-777704535","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":777704535,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzcwNDUzNQ==","user":{"login":"jtmzheng","id":3466206,"node_id":"MDQ6VXNlcjM0NjYyMDY=","avatar_url":"https://avatars.githubusercontent.com/u/3466206?v=4","gravatar_id":"","url":"https://api.github.com/users/jtmzheng","html_url":"https://github.com/jtmzheng","followers_url":"https://api.github.com/users/jtmzheng/followers","following_url":"https://api.github.com/users/jtmzheng/following{/other_user}","gists_url":"https://api.github.com/users/jtmzheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jtmzheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtmzheng/subscriptions","organizations_url":"https://api.github.com/users/jtmzheng/orgs","repos_url":"https://api.github.com/users/jtmzheng/repos","events_url":"https://api.github.com/users/jtmzheng/events{/privacy}","received_events_url":"https://api.github.com/users/jtmzheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T18:40:18Z","updated_at":"2021-02-11T18:40:18Z","author_association":"NONE","body":"No, this is just running `pytest` locally in a python virtualenv. I can try and dockerize the setup to isolate for any env issues I might have.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777704535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777808336","html_url":"https://github.com/apache/hudi/issues/2537#issuecomment-777808336","issue_url":"https://api.github.com/repos/apache/hudi/issues/2537","id":777808336,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzgwODMzNg==","user":{"login":"jiangok2006","id":14916370,"node_id":"MDQ6VXNlcjE0OTE2Mzcw","avatar_url":"https://avatars.githubusercontent.com/u/14916370?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangok2006","html_url":"https://github.com/jiangok2006","followers_url":"https://api.github.com/users/jiangok2006/followers","following_url":"https://api.github.com/users/jiangok2006/following{/other_user}","gists_url":"https://api.github.com/users/jiangok2006/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangok2006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangok2006/subscriptions","organizations_url":"https://api.github.com/users/jiangok2006/orgs","repos_url":"https://api.github.com/users/jiangok2006/repos","events_url":"https://api.github.com/users/jiangok2006/events{/privacy}","received_events_url":"https://api.github.com/users/jiangok2006/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T21:37:09Z","updated_at":"2021-02-11T21:38:11Z","author_association":"NONE","body":"@nsivabalan It is not about the sql statement I think. If I use a simple dataframe, sql transformer works fine with my or Sudha's sql query. But my kafka data in production seems to cause deSer issue for sql transformer. I admit that my kafka data is special because each of them is big and has complex data type (e.g. logical type). Flink 1.11 cannot handle it after two bugs are fixed in Flink 1.12.\r\nhttps://issues.apache.org/jira/browse/FLINK-19491\r\nhttps://issues.apache.org/jira/browse/FLINK-19339\r\n\r\nI guess the easier way is to provide sample avro from my kafka for trouble shooting. If so, I may need to work with my team for exposing sample data. Thought?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777808336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777858335","html_url":"https://github.com/apache/hudi/issues/630#issuecomment-777858335","issue_url":"https://api.github.com/repos/apache/hudi/issues/630","id":777858335,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Nzg1ODMzNQ==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-11T23:15:22Z","updated_at":"2021-02-11T23:15:22Z","author_association":"NONE","body":"After experimenting with changes on the Quickstart I got \"pyspark.sql.utils.AnalysisException: Unable to infer schema for Parquet. It must be specified manually.\" when running:\r\n```\r\ntripsSnapshotDF = spark. \\\r\n  read. \\\r\n  format(\"hudi\"). \\\r\n  load(basePath + \"/*/*/*/*\")\r\n```\r\n\r\nThe solution was to change to below (check the depth of folders by running this linux command: ```find <basePath>``` ):\r\n```\r\ntripsSnapshotDF = spark. \\\r\n  read. \\\r\n  format(\"hudi\"). \\\r\n  load(basePath + \"/*/*\")\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777858335/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777992760","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-777992760","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":777992760,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Nzk5Mjc2MA==","user":{"login":"low-on-mana","id":8509512,"node_id":"MDQ6VXNlcjg1MDk1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/8509512?v=4","gravatar_id":"","url":"https://api.github.com/users/low-on-mana","html_url":"https://github.com/low-on-mana","followers_url":"https://api.github.com/users/low-on-mana/followers","following_url":"https://api.github.com/users/low-on-mana/following{/other_user}","gists_url":"https://api.github.com/users/low-on-mana/gists{/gist_id}","starred_url":"https://api.github.com/users/low-on-mana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/low-on-mana/subscriptions","organizations_url":"https://api.github.com/users/low-on-mana/orgs","repos_url":"https://api.github.com/users/low-on-mana/repos","events_url":"https://api.github.com/users/low-on-mana/events{/privacy}","received_events_url":"https://api.github.com/users/low-on-mana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T05:55:38Z","updated_at":"2021-02-12T05:55:38Z","author_association":"CONTRIBUTOR","body":"@vinothchandar nope. Attaching config for your reference. This is happening when a row is being deleted. The deletion is happening successfully, but archival post that fails.\r\n```\r\nspark-submit \r\n--packages org.apache.spark:spark-avro_2.12:3.0.1,org.apache.hudi:hudi-utilities-bundle_2.12:0.7.0 \r\n--class org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer \r\n--master yarn \r\n--num-executors 1 \r\n--conf spark.scheduler.mode=FAIR \r\n--conf spark.task.maxFailures=5 \r\n--conf spark.rdd.compress=true \r\n--conf spark.serializer=org.apache.spark.serializer.KryoSerializer \r\n--conf spark.shuffle.service.enabled=true \r\n--conf spark.sql.hive.convertMetastoreParquet=false \r\n--conf spark.executor.heartbeatInterval=120s \r\n--conf spark.network.timeout=600s \r\n--conf spark.eventLog.overwrite=true \r\n--conf spark.eventLog.enabled=true \r\n--conf spark.yarn.max.executor.failures=5 \r\n--conf spark.sql.catalogImplementation=hive \r\n--deploy-mode client /home/hadoop/deltastreamer-addons-1.0-SNAPSHOT.jar \r\n--enable-sync \r\n--hoodie-conf hoodie.deltastreamer.schemaprovider.registry.url=https://dataplatform-schema-registry.nnn.prod.tech.in/subjects/auth_service.public.users-value/versions/latest \r\n--hoodie-conf hoodie.datasource.hive_sync.database=auth_service \r\n--hoodie-conf hoodie.datasource.hive_sync.table=usersv2 \r\n--hoodie-conf hoodie.datasource.hive_sync.partition_extractor_class=org.apache.hudi.hive.NonPartitionedExtractor \r\n--hoodie-conf hoodie.datasource.write.recordkey.field=id \r\n--hoodie-conf hoodie.datasource.write.precombine.field=__lsn \r\n--hoodie-conf hoodie.datasource.write.partitionpath.field='' \r\n--hoodie-conf hoodie.parquet.compression.codec=snappy \r\n--hoodie-conf hoodie.deltastreamer.source.kafka.topic=auth_service.public.users \r\n--hoodie-conf group.id=beta-delta-streamer-usersv2 \r\n--hoodie-conf partition.assignment.strategy=org.apache.kafka.clients.consumer.RangeAssignor \r\n--hoodie-conf hive.metastore.disallow.incompatible.col.type.changes=false \r\n--hoodie-conf hoodie.deltastreamer.schemaprovider.spark_avro_post_processor.enable=false \r\n--hoodie-conf auto.offset.reset=latest \r\n--table-type MERGE_ON_READ \r\n--source-ordering-field __lsn \r\n--source-class org.apache.hudi.utilities.sources.AvroKafkaSource \r\n--schemaprovider-class com.nnn.schema.CustomSchemaRegistryProvider \r\n--target-base-path s3://navi-emr-poc/delta-streamer-test/tables/usersv2 \r\n--target-table usersv2 \r\n--props s3://navi-emr-poc/delta-streamer-test/config/kafka-source-prod.properties \r\n--transformer-class com.nnn.transform.CustomTransformer \r\n--continuous\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/777992760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778040139","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-778040139","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":778040139,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODA0MDEzOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T07:57:01Z","updated_at":"2021-02-12T07:57:01Z","author_association":"CONTRIBUTOR","body":"That would be helpful to debug !!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778040139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778040596","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-778040596","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":778040596,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODA0MDU5Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T07:58:11Z","updated_at":"2021-02-12T07:58:11Z","author_association":"CONTRIBUTOR","body":"You can enable INFO logging to see what is going on","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778040596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778041438","html_url":"https://github.com/apache/hudi/issues/2573#issuecomment-778041438","issue_url":"https://api.github.com/repos/apache/hudi/issues/2573","id":778041438,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODA0MTQzOA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T08:00:22Z","updated_at":"2021-02-12T08:00:22Z","author_association":"CONTRIBUTOR","body":"You can simply copy the whole folder at the dataset level to the new location and it should work. All metadata is relative to the dataset path and it should be ok to copy them.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778041438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778149262","html_url":"https://github.com/apache/hudi/pull/2382#issuecomment-778149262","issue_url":"https://api.github.com/repos/apache/hudi/issues/2382","id":778149262,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODE0OTI2Mg==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T11:49:11Z","updated_at":"2021-02-12T11:49:11Z","author_association":"CONTRIBUTOR","body":"> @shenh062326 Thanks for your contribution, the PR looks good to me. I think we would do some refactor between different engine implementation since most of the code would be shared, and please file a jira ticket to track.\r\n\r\nAdd a jira ticket to track, https://issues.apache.org/jira/browse/HUDI-1614","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778149262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778192878","html_url":"https://github.com/apache/hudi/pull/2320#issuecomment-778192878","issue_url":"https://api.github.com/repos/apache/hudi/issues/2320","id":778192878,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODE5Mjg3OA==","user":{"login":"manijndl7","id":70282609,"node_id":"MDQ6VXNlcjcwMjgyNjA5","avatar_url":"https://avatars.githubusercontent.com/u/70282609?v=4","gravatar_id":"","url":"https://api.github.com/users/manijndl7","html_url":"https://github.com/manijndl7","followers_url":"https://api.github.com/users/manijndl7/followers","following_url":"https://api.github.com/users/manijndl7/following{/other_user}","gists_url":"https://api.github.com/users/manijndl7/gists{/gist_id}","starred_url":"https://api.github.com/users/manijndl7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manijndl7/subscriptions","organizations_url":"https://api.github.com/users/manijndl7/orgs","repos_url":"https://api.github.com/users/manijndl7/repos","events_url":"https://api.github.com/users/manijndl7/events{/privacy}","received_events_url":"https://api.github.com/users/manijndl7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T13:23:42Z","updated_at":"2021-02-12T13:23:57Z","author_association":"NONE","body":"@vinothchandar can i close this PR ? since other people will work on this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778192878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778267262","html_url":"https://github.com/apache/hudi/pull/2562#issuecomment-778267262","issue_url":"https://api.github.com/repos/apache/hudi/issues/2562","id":778267262,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODI2NzI2Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T15:36:46Z","updated_at":"2021-02-12T15:36:46Z","author_association":"CONTRIBUTOR","body":"mvn dependency:tree -Dincludes=commons-codec:commons-codec\r\n\r\n```\r\n.\r\n.\r\n[INFO] ---------------< org.apache.hudi:hudi-spark-bundle_2.11 >---------------\r\n[INFO] Building hudi-spark-bundle_2.11 0.8.0-SNAPSHOT                   [24/42]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-dependency-plugin:3.1.1:tree (default-cli) @ hudi-spark-bundle_2.11 ---\r\n[INFO] org.apache.hudi:hudi-spark-bundle_2.11:jar:0.8.0-SNAPSHOT\r\n[INFO] \\- org.apache.hive:hive-service:jar:2.3.1:provided\r\n[INFO]    \\- commons-codec:commons-codec:jar:1.4:compile\r\n.\r\n.\r\n[INFO] ------------------< org.apache.hudi:hudi-spark2_2.11 >------------------\r\n[INFO] Building hudi-spark2_2.11 0.8.0-SNAPSHOT                         [12/42]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-dependency-plugin:3.1.1:tree (default-cli) @ hudi-spark2_2.11 ---\r\n[INFO] org.apache.hudi:hudi-spark2_2.11:jar:0.8.0-SNAPSHOT\r\n[INFO] \\- org.apache.hudi:hudi-client-common:jar:0.8.0-SNAPSHOT:compile\r\n[INFO]    \\- org.apache.hadoop:hadoop-hdfs:jar:tests:2.7.3:compile\r\n[INFO]       \\- commons-codec:commons-codec:jar:1.4:compile\r\n[INFO] \r\n[INFO] ------------------< org.apache.hudi:hudi-spark3_2.12 >------------------\r\n[INFO] Building hudi-spark3_2.12 0.8.0-SNAPSHOT                         [13/42]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-dependency-plugin:3.1.1:tree (default-cli) @ hudi-spark3_2.12 ---\r\n[INFO] org.apache.hudi:hudi-spark3_2.12:jar:0.8.0-SNAPSHOT\r\n[INFO] \\- org.apache.spark:spark-sql_2.12:jar:3.0.0:compile (optional) \r\n[INFO]    \\- org.apache.spark:spark-catalyst_2.12:jar:3.0.0:compile (optional) \r\n[INFO]       \\- commons-codec:commons-codec:jar:1.10:compile\r\n[INFO] \r\n[INFO] ------------------< org.apache.hudi:hudi-spark_2.11 >-------------------\r\n[INFO] Building hudi-spark_2.11 0.8.0-SNAPSHOT                          [14/42]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-dependency-plugin:3.1.1:tree (default-cli) @ hudi-spark_2.11 ---\r\n[INFO] org.apache.hudi:hudi-spark_2.11:jar:0.8.0-SNAPSHOT\r\n[INFO] \\- org.apache.hadoop:hadoop-common:jar:2.7.3:provided\r\n[INFO]    \\- commons-codec:commons-codec:jar:1.4:compile\r\n.\r\n.\r\n[INFO] ----------------< org.apache.hudi:hudi-utilities_2.11 >-----------------\r\n[INFO] Building hudi-utilities_2.11 0.8.0-SNAPSHOT                      [15/42]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-dependency-plugin:3.1.1:tree (default-cli) @ hudi-utilities_2.11 ---\r\n[INFO] org.apache.hudi:hudi-utilities_2.11:jar:0.8.0-SNAPSHOT\r\n[INFO] \\- org.apache.hadoop:hadoop-hdfs:jar:tests:2.7.3:test\r\n[INFO]    \\- commons-codec:commons-codec:jar:1.4:compile\r\n.\r\n[INFO] -------------< org.apache.hudi:hudi-utilities-bundle_2.11 >-------------\r\n[INFO] Building hudi-utilities-bundle_2.11 0.8.0-SNAPSHOT               [16/42]\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-dependency-plugin:3.1.1:tree (default-cli) @ hudi-utilities-bundle_2.11 ---\r\n[INFO] org.apache.hudi:hudi-utilities-bundle_2.11:jar:0.8.0-SNAPSHOT\r\n[INFO] \\- org.apache.hive:hive-service:jar:2.3.1:provided\r\n[INFO]    \\- commons-codec:commons-codec:jar:1.4:compile\r\n.\r\n.\r\n```\r\n\r\nFull output: https://gist.github.com/nsivabalan/aa5b78c8346045e966b2b916821cbed6","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778267262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778283971","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-778283971","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":778283971,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODI4Mzk3MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T16:05:18Z","updated_at":"2021-02-12T16:05:18Z","author_association":"MEMBER","body":"@t0il3ts0ap I am onto this. So the issue seems to be related to how the schema is set \r\n\r\nSo the issue seems to be that the the schema value seems to be null in `extraMetadata`. For deletes also I suspect we are not setting this to null, since the delete dataframe has a different schema. Let me trace the deltastreamer code path as well.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778283971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778287412","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-778287412","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":778287412,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODI4NzQxMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T16:11:06Z","updated_at":"2021-02-12T16:11:28Z","author_association":"MEMBER","body":"For now, if you try the one line fix in `CommitUtils`, we will be out of the woods. I have raised a sev:critical JIRA here https://issues.apache.org/jira/browse/HUDI-1615  for the fix \r\n\r\n```\r\npublic static HoodieCommitMetadata buildMetadata(List<HoodieWriteStat> writeStats,\r\n                                                   Map<String, List<String>> partitionToReplaceFileIds,\r\n                                                   Option<Map<String, String>> extraMetadata,\r\n                                                   WriteOperationType operationType,\r\n                                                   String schemaToStoreInCommit,\r\n                                                   String commitActionType) {\r\n\r\n    HoodieCommitMetadata commitMetadata = buildMetadataFromStats(writeStats, partitionToReplaceFileIds, commitActionType, operationType);\r\n\r\n    // add in extra metadata\r\n    if (extraMetadata.isPresent()) {\r\n      extraMetadata.get().forEach(commitMetadata::addMetadata);\r\n    }\r\n\r\n    // this is the bandaid\r\n    commitMetadata.addMetadata(HoodieCommitMetadata.SCHEMA_KEY, schemaToStoreInCommit == null ? \"\" : schemaToStoreInCommit);\r\n    commitMetadata.setOperationType(operationType);\r\n    return commitMetadata;\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778287412/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778307082","html_url":"https://github.com/apache/hudi/pull/2500#issuecomment-778307082","issue_url":"https://api.github.com/repos/apache/hudi/issues/2500","id":778307082,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODMwNzA4Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T16:45:27Z","updated_at":"2021-02-12T16:45:27Z","author_association":"CONTRIBUTOR","body":"yeah, that's what I initially thought. but wasn't sure if we need to do two checks \r\n```\r\nif(fsDataInputStream.getWrappedStream() instance of FSDataInputStream && ((FSDataInputStream)fsDataInputStream.getWrappedStream()).getWrappedStream() instance of FSInputStream)\r\n```\r\nhence, thought will use catch block to fallback which might be easier for readability. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778307082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778309343","html_url":"https://github.com/apache/hudi/pull/2500#issuecomment-778309343","issue_url":"https://api.github.com/repos/apache/hudi/issues/2500","id":778309343,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODMwOTM0Mw==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T16:49:25Z","updated_at":"2021-02-12T16:49:25Z","author_association":"CONTRIBUTOR","body":"> yeah, that's what I initially thought. but wasn't sure if we need to do two checks\r\n> \r\n> ```\r\n> if(fsDataInputStream.getWrappedStream() instance of FSDataInputStream && ((FSDataInputStream)fsDataInputStream.getWrappedStream()).getWrappedStream() instance of FSInputStream)\r\n> ```\r\n> \r\n> hence, thought will use catch block to fallback which might be easier for readability.\r\n\r\nAgreed. LGTM.\r\nHowever, I have no way to approve it. My permissions for the projects are still almost R/O ;)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778309343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778314249","html_url":"https://github.com/apache/hudi/pull/2500#issuecomment-778314249","issue_url":"https://api.github.com/repos/apache/hudi/issues/2500","id":778314249,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODMxNDI0OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T16:57:42Z","updated_at":"2021-02-12T16:57:42Z","author_association":"CONTRIBUTOR","body":"@bvaradar : this patch might be of interest to you. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778314249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778321055","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-778321055","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":778321055,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODMyMTA1NQ==","user":{"login":"mauropelucchi","id":16307145,"node_id":"MDQ6VXNlcjE2MzA3MTQ1","avatar_url":"https://avatars.githubusercontent.com/u/16307145?v=4","gravatar_id":"","url":"https://api.github.com/users/mauropelucchi","html_url":"https://github.com/mauropelucchi","followers_url":"https://api.github.com/users/mauropelucchi/followers","following_url":"https://api.github.com/users/mauropelucchi/following{/other_user}","gists_url":"https://api.github.com/users/mauropelucchi/gists{/gist_id}","starred_url":"https://api.github.com/users/mauropelucchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mauropelucchi/subscriptions","organizations_url":"https://api.github.com/users/mauropelucchi/orgs","repos_url":"https://api.github.com/users/mauropelucchi/repos","events_url":"https://api.github.com/users/mauropelucchi/events{/privacy}","received_events_url":"https://api.github.com/users/mauropelucchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T17:09:21Z","updated_at":"2021-02-12T17:09:21Z","author_association":"NONE","body":"@bvaradar We are running this conf for 2 separate locations:\r\n\r\nhudi_options = {\r\n 'hoodie.table.name': table_name,\r\n 'hoodie.datasource.write.recordkey.field': 'key',\r\n 'hoodie.datasource.write.partitionpath.field': 'range_partition',\r\n 'hoodie.datasource.write.table.name': 'tablename',\r\n 'hoodie.datasource.write.precombine.field': 'update_date',\r\n 'hoodie.datasource.write.table.type': 'MERGE_ON_READ',\r\n 'hoodie.cleaner.policy': 'KEEP_LATEST_COMMITS',\r\n 'hoodie.consistency.check.enabled': True,\r\n 'hoodie.bloom.index.filter.type': 'dynamic_v0',\r\n 'hoodie.bloom.index.bucketized.checking': False,\r\n 'hoodie.memory.merge.max.size': '2004857600000',\r\n 'hoodie.upsert.shuffle.parallelism': parallelism,\r\n 'hoodie.insert.shuffle.parallelism': parallelism,\r\n 'hoodie.bulkinsert.shuffle.parallelism': parallelism,\r\n 'hoodie.parquet.small.file.limit': '204857600',\r\n 'hoodie.parquet.max.file.size': '434217728',\r\n 'hoodie.memory.compaction.fraction': '384402653184',\r\n 'hoodie.write.buffer.limit.bytes': str(128 * 1024 * 1024),\r\n 'hoodie.compact.inline': True,\r\n 'hoodie.compact.inline.max.delta.commits': 1,\r\n 'hoodie.datasource.compaction.async.enable': False,\r\n 'hoodie.parquet.compression.ratio': '0.35',\r\n 'hoodie.logfile.max.size': '268435456',\r\n 'hoodie.logfile.to.parquet.compression.ratio': '0.5',\r\n 'hoodie.datasource.write.hive_style_partitioning': True,\r\n 'hoodie.keep.min.commits': 5,\r\n 'hoodie.keep.max.commits': 6,\r\n 'hoodie.copyonwrite.record.size.estimate': 32,\r\n 'hoodie.cleaner.commits.retained': 4,\r\n 'hoodie.clean.automatic': True,\r\n 'hoodie.datasource.write.operation': 'upsert'\r\n}\r\n\r\nFor this folder, we cannot see the triggering of the cleaning task (but the hoodie.clean.automatic is activated): \r\n \r\n![image](https://user-images.githubusercontent.com/16307145/107798638-b968bd00-6d5c-11eb-819b-6c552414ca42.png)\r\n\r\nBut for this folder, we can see the triggering of the cleaning task: \r\n\r\n![image](https://user-images.githubusercontent.com/16307145/107798701-cb4a6000-6d5c-11eb-8fc3-1f0de651cb75.png)\r\n\r\nboth the script used to merge the data in the 2 folders use the same configuration.\r\n\r\nFrom hudi-cli (by the command cleans run), we also tried to force the cleaning task without any success.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778321055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778324814","html_url":"https://github.com/apache/hudi/issues/2123#issuecomment-778324814","issue_url":"https://api.github.com/repos/apache/hudi/issues/2123","id":778324814,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODMyNDgxNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T17:15:57Z","updated_at":"2021-02-12T17:15:57Z","author_association":"CONTRIBUTOR","body":"Thanks @kimberlyamandalu. Will close this out. Please do reach out to us if you need any more assistance. thanks for helping to better Hudi community :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778324814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778344811","html_url":"https://github.com/apache/hudi/pull/2400#issuecomment-778344811","issue_url":"https://api.github.com/repos/apache/hudi/issues/2400","id":778344811,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODM0NDgxMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T17:50:52Z","updated_at":"2021-02-12T17:50:52Z","author_association":"MEMBER","body":"@n3nash @nsivabalan I would like for some of this to run on every commit. at least 1 test for each COW and MOR. Can one of you be able to add that to the CI?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778344811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778464849","html_url":"https://github.com/apache/hudi/issues/2123#issuecomment-778464849","issue_url":"https://api.github.com/repos/apache/hudi/issues/2123","id":778464849,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODQ2NDg0OQ==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T21:28:25Z","updated_at":"2021-02-12T21:28:25Z","author_association":"NONE","body":"For reference, this is their response for the ticket.\r\nThey have suggested a workaround.\r\n\r\nGreetings Kim,\r\nThank you for contacting AWS Premium Support. This is Mrunmayee and I will be assisting you with the case.\r\nI did some investigation on the timestamps not being displayed correctly in Athena. As pointed out by you, this is caused When a Glue crawler is run on the parquet files, the field is confirmed as TIMESTAMP as granularity of timestamp file fields is in \"TIMESTAMP_MICROS\".\r\nIn the Presto documentation [1], it is given that timestamp granularity up to millisecond is supported but not microseconds.  As Athena uses Presto engine as the backend query engine, this limitation of Presto validates for Athena also which is why we are not being able to see the correct timestamp for those columns in Athena console.\r\n\r\nIn order to deal with this issue, one possible workaround is to change the data type of timestamp columns from \"timestamp\" to \"bigint\" by editing the schema of your table “table_name”. Here “createdt” is the column of concern\r\n\r\nYou can do this by following the below mentioned steps:\r\n\r\n1. Go to the Glue console.\r\n2. Navigate to the \"Tables\" option on the sidebar on the left hand side of the console.\r\n3. Select your table, “table_name”\r\n4. On the right hand side of the console, select the \"Edit Schemas\" option.\r\n5. For the field \"createdt\", select on the datatype (which is currently set to timestamp) and change it to bigint by selecting on it.\r\n6. Click on \"Save\" to save the changes.\r\n\r\nThen we can create a view over the table using Presto functions eg. \"from_unixtime\" [2].\r\n\r\nFor example : I have changed the 'createdt' data type as bigint and ran the following query to get the the desired result with correct timestamp value :\r\n\r\n------------\r\nSELECT id, code, from_unixtime(createdt/1000000) AS createdt FROM \"default”.”table”_name limit 10;\r\n------------\r\n\r\nLet me know if this workaround works for you. As far as a patch/fix is concerned, at the moment, I do not have visibility into it. That being said, I will look into this and provide you with an update as soon as I have one. Apologies for the inconvenience cause.\r\nI hope you find this information useful. Apologies in advance if I misunderstood your case. Please feel free to get in touch with me if you have any questions or need clarifications with anything.\r\n\r\nReferences :\r\n[1] TIMESTAMP limitations - http://teradata.github.io/presto/docs/127t/release/unsupported.html\r\n[2] from_unixtime() - https://prestodb.github.io/docs/current/functions/datetime.html\r\n\r\nWe value your feedback. Please share your experience by rating this correspondence using the AWS Support Center link at the end of this correspondence. Each correspondence can also be rated by selecting the stars in top right corner of each correspondence within the AWS Support Center.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778464849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778473048","html_url":"https://github.com/apache/hudi/pull/2400#issuecomment-778473048","issue_url":"https://api.github.com/repos/apache/hudi/issues/2400","id":778473048,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODQ3MzA0OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T21:48:31Z","updated_at":"2021-02-12T21:48:31Z","author_association":"CONTRIBUTOR","body":"@n3nash : https://issues.apache.org/jira/browse/HUDI-1616\r\n@vinothchandar : sure. I will sync up with nishith on this and will take it up. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778473048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778473518","html_url":"https://github.com/apache/hudi/pull/2530#issuecomment-778473518","issue_url":"https://api.github.com/repos/apache/hudi/issues/2530","id":778473518,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODQ3MzUxOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T21:49:32Z","updated_at":"2021-02-12T21:49:32Z","author_association":"CONTRIBUTOR","body":"sorry, will test it out locally and will update here. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778473518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778477581","html_url":"https://github.com/apache/hudi/pull/2574#issuecomment-778477581","issue_url":"https://api.github.com/repos/apache/hudi/issues/2574","id":778477581,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODQ3NzU4MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T21:58:36Z","updated_at":"2021-02-12T22:52:18Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2574?src=pr&el=h1) Report\n> Merging [#2574](https://codecov.io/gh/apache/hudi/pull/2574?src=pr&el=desc) (9419cb5) into [master](https://codecov.io/gh/apache/hudi/commit/d5f202821b11659693a2e934d4b8f4c99f19755e?el=desc) (d5f2028) will **decrease** coverage by `0.00%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2574/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2574?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2574      +/-   ##\n============================================\n- Coverage     50.92%   50.92%   -0.01%     \n- Complexity     3167     3168       +1     \n============================================\n  Files           433      433              \n  Lines         19814    19814              \n  Branches       2034     2034              \n============================================\n- Hits          10091    10090       -1     \n- Misses         8903     8904       +1     \n  Partials        820      820              \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `36.90% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.38% <ø> (-0.03%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `43.21% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.16% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `69.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `66.49% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.44% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2574?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2574/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | `26.00% <0.00%> (ø%)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2574/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.35% <0.00%> (+0.35%)` | `51.00% <0.00%> (+1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778477581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778483406","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-778483406","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":778483406,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODQ4MzQwNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T22:13:24Z","updated_at":"2021-02-12T22:13:24Z","author_association":"MEMBER","body":"@t0il3ts0ap I fixed the row writing part locally. but wanted to check your situation as well, before I send a PR. For delta streamer/upsert (can you confirm that the operation is acutally `upsert`), schema should be passed in successfully. Could you check if your .deltacommit/.commit files contain the schema field in `extraMetadata` field of json. \r\n\r\nI ll also try and confirm this locally","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778483406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778491246","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-778491246","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":778491246,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODQ5MTI0Ng==","user":{"login":"low-on-mana","id":8509512,"node_id":"MDQ6VXNlcjg1MDk1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/8509512?v=4","gravatar_id":"","url":"https://api.github.com/users/low-on-mana","html_url":"https://github.com/low-on-mana","followers_url":"https://api.github.com/users/low-on-mana/followers","following_url":"https://api.github.com/users/low-on-mana/following{/other_user}","gists_url":"https://api.github.com/users/low-on-mana/gists{/gist_id}","starred_url":"https://api.github.com/users/low-on-mana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/low-on-mana/subscriptions","organizations_url":"https://api.github.com/users/low-on-mana/orgs","repos_url":"https://api.github.com/users/low-on-mana/repos","events_url":"https://api.github.com/users/low-on-mana/events{/privacy}","received_events_url":"https://api.github.com/users/low-on-mana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-12T22:29:34Z","updated_at":"2021-02-12T22:29:34Z","author_association":"CONTRIBUTOR","body":"@vinothchandar \r\nI checked in most recent deltacommit file. `schema` key is present. \r\n```\r\n  \"extraMetadata\" : {\r\n    \"schema\" : \"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"hoodie_source\\\",\\\"namespace\\\":\\\"hoodie.source\\\",\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"int\\\"},{\\\"name\\\":\\\"username\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"password\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"email\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"created_on\\\",\\\"type\\\":\\\"long\\\"},{\\\"name\\\":\\\"last_login\\\",\\\"type\\\":[\\\"long\\\",\\\"null\\\"]},{\\\"name\\\":\\\"__lsn\\\",\\\"type\\\":[\\\"long\\\",\\\"null\\\"]},{\\\"name\\\":\\\"_hoodie_is_deleted\\\",\\\"type\\\":[\\\"boolean\\\",\\\"null\\\"]}]}\",\r\n    \"deltastreamer.checkpoint.key\" : \"to_be_deleted.public.accounts,0:3382,1:2,2:0\"\r\n  },\r\n  \"operationType\" : \"UPSERT\",\r\n  ```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778491246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778579563","html_url":"https://github.com/apache/hudi/pull/2568#issuecomment-778579563","issue_url":"https://api.github.com/repos/apache/hudi/issues/2568","id":778579563,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODU3OTU2Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-13T07:54:39Z","updated_at":"2021-02-13T07:54:39Z","author_association":"CONTRIBUTOR","body":"@vinothchandar There is another PR that works for the `README` file of the project.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778579563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778597885","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-778597885","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":778597885,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODU5Nzg4NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-13T10:41:06Z","updated_at":"2021-02-13T10:41:06Z","author_association":"CONTRIBUTOR","body":"Can you run 'show fsview all' on both datasets and also list the .hoodie folders ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778597885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778674782","html_url":"https://github.com/apache/hudi/pull/2534#issuecomment-778674782","issue_url":"https://api.github.com/repos/apache/hudi/issues/2534","id":778674782,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODY3NDc4Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-13T20:37:32Z","updated_at":"2021-02-13T20:37:32Z","author_association":"CONTRIBUTOR","body":"@yanghua : addressed your feedback. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778674782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778675900","html_url":"https://github.com/apache/hudi/pull/2562#issuecomment-778675900","issue_url":"https://api.github.com/repos/apache/hudi/issues/2562","id":778675900,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODY3NTkwMA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-13T20:45:53Z","updated_at":"2021-02-13T20:45:53Z","author_association":"CONTRIBUTOR","body":"and yes, it is relocated as well.\r\n\r\ntar -tvf packaging/hudi-utilities-bundle/target/hudi-utilities-bundle_2.11-0.8.0-SNAPSHOT.jar | grep commons.codec | head -3\r\ndrwxrwxr-x  0 0      0           0 Feb 13 15:39 org/apache/hudi/org/apache/commons/codec/\r\ndrwxrwxr-x  0 0      0           0 Feb 13 15:39 org/apache/hudi/org/apache/commons/codec/binary/\r\n-rw-rw-r--  0 0      0       11317 Feb 13 15:39 org/apache/hudi/org/apache/commons/codec/binary/Base64.class\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778675900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778700777","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-778700777","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":778700777,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODcwMDc3Nw==","user":{"login":"SureshK-T2S","id":17935082,"node_id":"MDQ6VXNlcjE3OTM1MDgy","avatar_url":"https://avatars.githubusercontent.com/u/17935082?v=4","gravatar_id":"","url":"https://api.github.com/users/SureshK-T2S","html_url":"https://github.com/SureshK-T2S","followers_url":"https://api.github.com/users/SureshK-T2S/followers","following_url":"https://api.github.com/users/SureshK-T2S/following{/other_user}","gists_url":"https://api.github.com/users/SureshK-T2S/gists{/gist_id}","starred_url":"https://api.github.com/users/SureshK-T2S/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SureshK-T2S/subscriptions","organizations_url":"https://api.github.com/users/SureshK-T2S/orgs","repos_url":"https://api.github.com/users/SureshK-T2S/repos","events_url":"https://api.github.com/users/SureshK-T2S/events{/privacy}","received_events_url":"https://api.github.com/users/SureshK-T2S/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-14T00:46:55Z","updated_at":"2021-02-14T00:46:55Z","author_association":"NONE","body":"Hi guys, any ideas on this one? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778700777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778777681","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-778777681","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":778777681,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODc3NzY4MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-14T13:25:35Z","updated_at":"2021-02-15T15:25:58Z","author_association":"CONTRIBUTOR","body":"looks like there could be a bug. Here is the reason:\r\nDeltastreamer works fine for Dataset \\<Row\\> sources w/o providing schema provider. But looks like in multi table delta streamer we missed to hold on to that assumption. Tests written for multi table delta streamer are for Dataset \\<GenericRecord\\> and hence schema providers are mandatory. \r\n\r\n```\r\ngit diff\r\ndiff --git a/hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java b/hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java\r\nindex 9d5ca3ca..91742ec0 100644\r\n--- a/hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java\r\n+++ b/hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java\r\n@@ -147,7 +147,7 @@ public class HoodieMultiTableDeltaStreamer {\r\n   }\r\n \r\n   private void populateSchemaProviderProps(HoodieDeltaStreamer.Config cfg, TypedProperties typedProperties) {\r\n-    if (cfg.schemaProviderClassName.equals(SchemaRegistryProvider.class.getName())) {\r\n+    if (cfg.schemaProviderClassName != null && cfg.schemaProviderClassName.equals(SchemaRegistryProvider.class.getName())) {\r\n       String schemaRegistryBaseUrl = typedProperties.getString(Constants.SCHEMA_REGISTRY_BASE_URL_PROP);\r\n       String schemaRegistrySuffix = typedProperties.getString(Constants.SCHEMA_REGISTRY_URL_SUFFIX_PROP);\r\n       typedProperties.setProperty(Constants.SOURCE_SCHEMA_REGISTRY_URL_PROP, schemaRegistryBaseUrl + typedProperties.getString(Constants.KAFKA_TOPIC_PROP) + schemaRegistrySuffix);\r\n```\r\n\r\nAs you might have figured out, I don't have exp with this code base before. So, will have to write tests to ensure the fix works. But in the mean time, if you have access to StructType (schema), then you can try using [RowBasedSchemaProvider](https://github.com/apache/hudi/blob/master/hudi-utilities/src/main/java/org/apache/hudi/utilities/schema/RowBasedSchemaProvider.java ) to unblock for now. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778777681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778816525","html_url":"https://github.com/apache/hudi/issues/2439#issuecomment-778816525","issue_url":"https://api.github.com/repos/apache/hudi/issues/2439","id":778816525,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODgxNjUyNQ==","user":{"login":"rakeshramakrishnan","id":6533326,"node_id":"MDQ6VXNlcjY1MzMzMjY=","avatar_url":"https://avatars.githubusercontent.com/u/6533326?v=4","gravatar_id":"","url":"https://api.github.com/users/rakeshramakrishnan","html_url":"https://github.com/rakeshramakrishnan","followers_url":"https://api.github.com/users/rakeshramakrishnan/followers","following_url":"https://api.github.com/users/rakeshramakrishnan/following{/other_user}","gists_url":"https://api.github.com/users/rakeshramakrishnan/gists{/gist_id}","starred_url":"https://api.github.com/users/rakeshramakrishnan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rakeshramakrishnan/subscriptions","organizations_url":"https://api.github.com/users/rakeshramakrishnan/orgs","repos_url":"https://api.github.com/users/rakeshramakrishnan/repos","events_url":"https://api.github.com/users/rakeshramakrishnan/events{/privacy}","received_events_url":"https://api.github.com/users/rakeshramakrishnan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-14T18:10:07Z","updated_at":"2021-02-14T18:10:17Z","author_association":"NONE","body":"@n3nash The PR #2449  is closed now. Is there any other PR that tracks this issue?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778816525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778854746","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-778854746","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":778854746,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODg1NDc0Ng==","user":{"login":"jtmzheng","id":3466206,"node_id":"MDQ6VXNlcjM0NjYyMDY=","avatar_url":"https://avatars.githubusercontent.com/u/3466206?v=4","gravatar_id":"","url":"https://api.github.com/users/jtmzheng","html_url":"https://github.com/jtmzheng","followers_url":"https://api.github.com/users/jtmzheng/followers","following_url":"https://api.github.com/users/jtmzheng/following{/other_user}","gists_url":"https://api.github.com/users/jtmzheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jtmzheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtmzheng/subscriptions","organizations_url":"https://api.github.com/users/jtmzheng/orgs","repos_url":"https://api.github.com/users/jtmzheng/repos","events_url":"https://api.github.com/users/jtmzheng/events{/privacy}","received_events_url":"https://api.github.com/users/jtmzheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-14T22:46:26Z","updated_at":"2021-02-14T22:46:26Z","author_association":"NONE","body":"```\r\n# NB: We use this base image for leveraging Docker support on EMR 6.x\r\nFROM amazoncorretto:8\r\n\r\nRUN yum -y update\r\nRUN yum -y install yum-utils\r\nRUN yum -y groupinstall development\r\n\r\nRUN yum -y install python3 python3-dev python3-pip python3-virtualenv\r\nRUN yum -y install lzo-devel lzo\r\n\r\nENV PYSPARK_DRIVER_PYTHON python3\r\nENV PYSPARK_PYTHON python3\r\n\r\nRUN ln -sf /usr/bin/python3 /usr/bin/python & \\\r\n    ln -sf /usr/bin/pip3 /usr/bin/pip\r\n\r\nRUN pip install pyspark==3.0.0\r\nRUN pip install pytest==6.1.1\r\nCOPY ./test_hudi.py .\r\n\r\n# RUN py.test -s --verbose test_hudi.py\r\n```\r\n\r\nI was able to reproduce this issue with the above Dockerfile, building with `docker build -f hudi.Dockerfile -t test_hudi .` and running `py.test -s --verbose test_hudi.py` in the container. I have edited `test_hudi.py` to the below (mainly to add `spark-sql_2.12:3.0.0` though exact same issue as initial test:\r\n\r\n```\r\nimport pytest\r\nfrom pyspark import SparkConf\r\nfrom pyspark import SparkContext\r\nfrom pyspark.sql import SparkSession\r\n\r\nfrom pyspark.sql import Row\r\n\r\n\r\ndef test_hudi(tmp_path):\r\n    SparkContext.getOrCreate(\r\n        conf=SparkConf()\r\n        .setAppName(\"testing\")\r\n        .setMaster(\"local[6]\")\r\n        .set(\r\n            \"spark.jars.packages\",\r\n            \"org.apache.hudi:hudi-spark-bundle_2.12:0.7.0,org.apache.spark:spark-avro_2.12:3.0.0,org.apache.spark:spark-sql_2.12:3.0.0\",\r\n        )\r\n        .set(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\")\r\n        .set(\"spark.sql.hive.convertMetastoreParquet\", \"false\")\r\n    )\r\n    spark = SparkSession.builder.getOrCreate()\r\n\r\n    hudi_options = {\r\n        \"hoodie.table.name\": \"test\",\r\n        \"hoodie.datasource.write.recordkey.field\": \"id\",\r\n        \"hoodie.datasource.write.keygenerator.class\": \"org.apache.hudi.keygen.ComplexKeyGenerator\",\r\n        \"hoodie.datasource.write.partitionpath.field\": \"year,month,day\",\r\n        \"hoodie.datasource.write.table.name\": \"test\",\r\n        \"hoodie.datasource.write.table.type\": \"MERGE_ON_READ\",\r\n        \"hoodie.datasource.write.operation\": \"upsert\",\r\n        \"hoodie.datasource.write.precombine.field\": \"ts\",\r\n    }\r\n    df = spark.createDataFrame(\r\n        [\r\n            Row(id=1, year=2020, month=7, day=5, ts=1),\r\n        ]\r\n    )\r\n    df.write.format(\"hudi\").options(**hudi_options).mode(\"append\").save(str(tmp_path))\r\n    read_df = spark.read.format(\"parquet\").load(str(tmp_path) + \"/*/*/*\")\r\n    # This works\r\n    print(read_df.collect())\r\n\r\n    read_df = spark.read.format(\"hudi\").load(str(tmp_path) + \"/*/*/*\")\r\n    # This does not\r\n    print(read_df.collect())\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/778854746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779288308","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-779288308","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":779288308,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTI4ODMwOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T15:19:27Z","updated_at":"2021-02-15T15:19:27Z","author_association":"CONTRIBUTOR","body":"Have put up a fix here: https://github.com/apache/hudi/pull/2577. The aforementioned fix works. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779288308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779292118","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-779292118","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":779292118,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTI5MjExOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T15:25:11Z","updated_at":"2021-02-15T15:25:11Z","author_association":"CONTRIBUTOR","body":"Also, looks like we don't have good coverage of tests in multi table delta streamer. have added a jira [here](https://issues.apache.org/jira/browse/HUDI-1619). ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779292118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779293082","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-779293082","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":779293082,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTI5MzA4Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T15:26:38Z","updated_at":"2021-02-15T15:26:38Z","author_association":"CONTRIBUTOR","body":"Closing this for now. Please do reach out to us if you need more help. Happy to help you out. Thanks for helping improve Hudi for better :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779293082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779312995","html_url":"https://github.com/apache/hudi/pull/2577#issuecomment-779312995","issue_url":"https://api.github.com/repos/apache/hudi/issues/2577","id":779312995,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTMxMjk5NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T15:58:24Z","updated_at":"2021-02-28T17:12:12Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2577?src=pr&el=h1) Report\n> Merging [#2577](https://codecov.io/gh/apache/hudi/pull/2577?src=pr&el=desc) (d5fb81f) into [master](https://codecov.io/gh/apache/hudi/commit/be257b58c689510a21529019a766b7a2bfc7ebe6?el=desc) (be257b5) will **increase** coverage by `18.16%`.\n> The diff coverage is `66.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2577/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2577?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2577       +/-   ##\n=============================================\n+ Coverage     51.27%   69.44%   +18.16%     \n+ Complexity     3241      363     -2878     \n=============================================\n  Files           438       53      -385     \n  Lines         20126     1944    -18182     \n  Branches       2079      235     -1844     \n=============================================\n- Hits          10320     1350     -8970     \n+ Misses         8954      460     -8494     \n+ Partials        852      134      -718     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.44% <66.66%> (ø)` | `0.00 <1.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2577?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <66.66%> (ø)` | `18.00 <1.00> (ø)` | |\n| [...udi/common/table/log/block/HoodieCorruptBlock.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9ibG9jay9Ib29kaWVDb3JydXB0QmxvY2suamF2YQ==) | | | |\n| [.../apache/hudi/operator/InstantGenerateOperator.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9vcGVyYXRvci9JbnN0YW50R2VuZXJhdGVPcGVyYXRvci5qYXZh) | | | |\n| [...i/common/table/view/HoodieTableFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvSG9vZGllVGFibGVGaWxlU3lzdGVtVmlldy5qYXZh) | | | |\n| [.../org/apache/hudi/io/storage/HoodieHFileReader.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vc3RvcmFnZS9Ib29kaWVIRmlsZVJlYWRlci5qYXZh) | | | |\n| [.../apache/hudi/timeline/service/TimelineService.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvVGltZWxpbmVTZXJ2aWNlLmphdmE=) | | | |\n| [.../hive/SlashEncodedHourPartitionValueExtractor.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvU2xhc2hFbmNvZGVkSG91clBhcnRpdGlvblZhbHVlRXh0cmFjdG9yLmphdmE=) | | | |\n| [...pache/hudi/hadoop/config/HoodieRealtimeConfig.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL2NvbmZpZy9Ib29kaWVSZWFsdGltZUNvbmZpZy5qYXZh) | | | |\n| [...a/org/apache/hudi/common/util/ReflectionUtils.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvUmVmbGVjdGlvblV0aWxzLmphdmE=) | | | |\n| [...e/hudi/common/table/timeline/dto/FileGroupDTO.java](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL2R0by9GaWxlR3JvdXBEVE8uamF2YQ==) | | | |\n| ... and [376 more](https://codecov.io/gh/apache/hudi/pull/2577/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779312995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779329301","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-779329301","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":779329301,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTMyOTMwMQ==","user":{"login":"rswagatika","id":76132270,"node_id":"MDQ6VXNlcjc2MTMyMjcw","avatar_url":"https://avatars.githubusercontent.com/u/76132270?v=4","gravatar_id":"","url":"https://api.github.com/users/rswagatika","html_url":"https://github.com/rswagatika","followers_url":"https://api.github.com/users/rswagatika/followers","following_url":"https://api.github.com/users/rswagatika/following{/other_user}","gists_url":"https://api.github.com/users/rswagatika/gists{/gist_id}","starred_url":"https://api.github.com/users/rswagatika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rswagatika/subscriptions","organizations_url":"https://api.github.com/users/rswagatika/orgs","repos_url":"https://api.github.com/users/rswagatika/repos","events_url":"https://api.github.com/users/rswagatika/events{/privacy}","received_events_url":"https://api.github.com/users/rswagatika/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T16:26:37Z","updated_at":"2021-02-15T17:51:54Z","author_association":"NONE","body":"@bvaradar \r\n\r\n**For the first folder where cleaning triggered  => \"show fsview all\" and below is the screenshots**\r\n\r\n<img width=\"917\" alt=\"Screen Shot 2021-02-15 at 11 13 23 AM\" src=\"https://user-images.githubusercontent.com/76132270/107970528-396e6d00-6f7f-11eb-9dc0-52306cbd75a7.png\">\r\n\r\n**And the  folder is** =>\r\n<img width=\"1098\" alt=\"Screen Shot 2021-02-15 at 11 17 49 AM\" src=\"https://user-images.githubusercontent.com/76132270/107970761-8c482480-6f7f-11eb-8fa9-0bcfd1da32fd.png\">\r\n\r\n**And the .hoodie folder is** =>\r\n\r\n<img width=\"1085\" alt=\"Screen Shot 2021-02-15 at 11 18 02 AM\" src=\"https://user-images.githubusercontent.com/76132270/107970778-923e0580-6f7f-11eb-8ebe-c086e2860535.png\">\r\n<img width=\"1084\" alt=\"Screen Shot 2021-02-15 at 11 19 01 AM\" src=\"https://user-images.githubusercontent.com/76132270/107970862-b13c9780-6f7f-11eb-838a-f62dac7ced43.png\">\r\n<img width=\"1092\" alt=\"Screen Shot 2021-02-15 at 11 19 13 AM\" src=\"https://user-images.githubusercontent.com/76132270/107970866-b1d52e00-6f7f-11eb-953a-71c4769a9776.png\">\r\n<img width=\"1087\" alt=\"Screen Shot 2021-02-15 at 11 19 23 AM\" src=\"https://user-images.githubusercontent.com/76132270/107970868-b1d52e00-6f7f-11eb-8025-e654616bbfd3.png\">\r\n<img width=\"1087\" alt=\"Screen Shot 2021-02-15 at 11 19 49 AM\" src=\"https://user-images.githubusercontent.com/76132270/107970901-bdc0f000-6f7f-11eb-9863-ed37bb6efaa7.png\">\r\n\r\n\r\n**For the second folder where cleaning did not triggered => \"show fsview all\" and below is the screenshots**\r\n\r\n<img width=\"911\" alt=\"Screen Shot 2021-02-15 at 11 26 12 AM\" src=\"https://user-images.githubusercontent.com/76132270/107971550-9dddfc00-6f80-11eb-9227-e99fc5dfc80d.png\">\r\n\r\n\r\n<img width=\"1036\" alt=\"Screen Shot 2021-02-15 at 11 23 31 AM\" src=\"https://user-images.githubusercontent.com/76132270/107971250-3e7fec00-6f80-11eb-9808-cfa4135ab864.png\">\r\n\r\n**And the .hoodie folder is** =>\r\n<img width=\"1080\" alt=\"Screen Shot 2021-02-15 at 11 24 03 AM\" src=\"https://user-images.githubusercontent.com/76132270/107971407-6cfdc700-6f80-11eb-934b-c405c5a896e9.png\">\r\n<img width=\"1090\" alt=\"Screen Shot 2021-02-15 at 11 24 18 AM\" src=\"https://user-images.githubusercontent.com/76132270/107971410-6ec78a80-6f80-11eb-85d3-3b9df31975f2.png\">\r\n<img width=\"1086\" alt=\"Screen Shot 2021-02-15 at 11 24 24 AM\" src=\"https://user-images.githubusercontent.com/76132270/107971414-6f602100-6f80-11eb-85a4-3a758bda6c76.png\">\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779329301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779339281","html_url":"https://github.com/apache/hudi/issues/2439#issuecomment-779339281","issue_url":"https://api.github.com/repos/apache/hudi/issues/2439","id":779339281,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTMzOTI4MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T16:44:30Z","updated_at":"2021-02-15T16:44:30Z","author_association":"CONTRIBUTOR","body":"@rakeshramakrishnan : would be nice if you can respond w/ any recent updates. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779339281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779341027","html_url":"https://github.com/apache/hudi/pull/2449#issuecomment-779341027","issue_url":"https://api.github.com/repos/apache/hudi/issues/2449","id":779341027,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTM0MTAyNw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T16:47:38Z","updated_at":"2021-04-02T12:02:03Z","author_association":"CONTRIBUTOR","body":"@Trevor-zhang : sorry, I didn't suggest to close this out. I am also getting conversant w/ hive sync in general. So, was trying to clarify few things. \r\n\r\nif I am not wrong, metastore flow(non JDBC flow)  is already supported. Just that config value for \"hive.metastore.uris\" is taken from Hadoop configuration and there is no direct way to pass in as as argument. If you intention is to add an argument to make it convenient, then this patch is the right approach. If not, lets discuss on what exactly are we trying to achieve here. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779341027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779344573","html_url":"https://github.com/apache/hudi/pull/2578#issuecomment-779344573","issue_url":"https://api.github.com/repos/apache/hudi/issues/2578","id":779344573,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTM0NDU3Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T16:53:14Z","updated_at":"2021-02-15T17:01:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2578?src=pr&el=h1) Report\n> Merging [#2578](https://codecov.io/gh/apache/hudi/pull/2578?src=pr&el=desc) (94c4ce1) into [master](https://codecov.io/gh/apache/hudi/commit/302bd29dab2866e07eb71823e4142f2da9addbb4?el=desc) (302bd29) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2578/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2578?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2578      +/-   ##\n============================================\n- Coverage     50.94%   50.92%   -0.02%     \n+ Complexity     3168     3167       -1     \n============================================\n  Files           433      433              \n  Lines         19814    19814              \n  Branches       2034     2034              \n============================================\n- Hits          10094    10091       -3     \n- Misses         8900     8903       +3     \n  Partials        820      820              \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `36.90% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.40% <ø> (-0.04%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `43.21% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.16% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `69.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `66.49% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.39% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2578?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2578/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `15.00% <0.00%> (-1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779344573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779361949","html_url":"https://github.com/apache/hudi/issues/1679#issuecomment-779361949","issue_url":"https://api.github.com/repos/apache/hudi/issues/1679","id":779361949,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTM2MTk0OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T17:26:19Z","updated_at":"2021-02-15T17:26:19Z","author_association":"CONTRIBUTOR","body":"@bvaradar : I could not reproduce w/ local docker set up. Do you have any pointers on how to go about triaging this. Also, I am running into some other issue locally which I documented in https://issues.apache.org/jira/browse/HUDI-1609. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779361949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779364218","html_url":"https://github.com/apache/hudi/issues/1679#issuecomment-779364218","issue_url":"https://api.github.com/repos/apache/hudi/issues/1679","id":779364218,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTM2NDIxOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T17:31:31Z","updated_at":"2021-02-15T17:31:31Z","author_association":"CONTRIBUTOR","body":"@kimberlyamandalu : in the mean time, would you mind responding to Balaji's doubts. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779364218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779365428","html_url":"https://github.com/apache/hudi/issues/2537#issuecomment-779365428","issue_url":"https://api.github.com/repos/apache/hudi/issues/2537","id":779365428,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTM2NTQyOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T17:34:02Z","updated_at":"2021-02-15T17:34:02Z","author_association":"CONTRIBUTOR","body":"@jiangjiguang : yes, sure, definitely would be helpful. Once you have the sample Avro, do update it here, we can take a shot at reproducing and investigating further. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779365428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779368051","html_url":"https://github.com/apache/hudi/issues/2508#issuecomment-779368051","issue_url":"https://api.github.com/repos/apache/hudi/issues/2508","id":779368051,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTM2ODA1MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T17:39:51Z","updated_at":"2021-02-15T17:39:51Z","author_association":"CONTRIBUTOR","body":"@rubenssoto : would you mind responding to this whenever you can. If it worked for you, do let us know so that we can close the ticket. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779368051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779369612","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-779369612","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":779369612,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTM2OTYxMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T17:42:59Z","updated_at":"2021-02-15T17:42:59Z","author_association":"CONTRIBUTOR","body":"@rubenssoto : Here is a link to suggestions from Athena support on timestamp conversion.\r\nhttps://github.com/apache/hudi/issues/2123#issuecomment-778464849\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779369612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779369814","html_url":"https://github.com/apache/hudi/issues/2123#issuecomment-779369814","issue_url":"https://api.github.com/repos/apache/hudi/issues/2123","id":779369814,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTM2OTgxNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-15T17:43:25Z","updated_at":"2021-02-15T17:43:25Z","author_association":"CONTRIBUTOR","body":"@kimberlyamandalu : great. thanks a bunch. We will try to add it to our faq. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779369814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779545095","html_url":"https://github.com/apache/hudi/issues/2573#issuecomment-779545095","issue_url":"https://api.github.com/repos/apache/hudi/issues/2573","id":779545095,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTU0NTA5NQ==","user":{"login":"getniz","id":29088488,"node_id":"MDQ6VXNlcjI5MDg4NDg4","avatar_url":"https://avatars.githubusercontent.com/u/29088488?v=4","gravatar_id":"","url":"https://api.github.com/users/getniz","html_url":"https://github.com/getniz","followers_url":"https://api.github.com/users/getniz/followers","following_url":"https://api.github.com/users/getniz/following{/other_user}","gists_url":"https://api.github.com/users/getniz/gists{/gist_id}","starred_url":"https://api.github.com/users/getniz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/getniz/subscriptions","organizations_url":"https://api.github.com/users/getniz/orgs","repos_url":"https://api.github.com/users/getniz/repos","events_url":"https://api.github.com/users/getniz/events{/privacy}","received_events_url":"https://api.github.com/users/getniz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-16T02:43:09Z","updated_at":"2021-02-16T02:43:09Z","author_association":"NONE","body":"Thanks @bvaradar let me take a look if I can recreate with this approach. With this, I can resume the ELT script assuming the table is intact and the metastore will sync to Hive automatically for App layer after first ELT run. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779545095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779579274","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-779579274","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":779579274,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTU3OTI3NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-16T04:50:11Z","updated_at":"2021-02-16T04:50:11Z","author_association":"MEMBER","body":"@t0il3ts0ap sorry for the delay. long weekend here. \r\nSo this is weird then, could you check all the .deltacommit file and commit files? and see if any of them have `\"schema\": null` ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779579274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779609442","html_url":"https://github.com/apache/hudi/pull/2565#issuecomment-779609442","issue_url":"https://api.github.com/repos/apache/hudi/issues/2565","id":779609442,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTYwOTQ0Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-16T06:13:57Z","updated_at":"2021-02-16T06:13:57Z","author_association":"CONTRIBUTOR","body":"@nbalajee Can you review this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779609442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]