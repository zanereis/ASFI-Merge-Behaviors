[{"url":"https://api.github.com/repos/apache/jena/issues/comments/2231775841","html_url":"https://github.com/apache/jena/pull/2581#issuecomment-2231775841","issue_url":"https://api.github.com/repos/apache/jena/issues/2581","id":2231775841,"node_id":"IC_kwDOAHF7Ec6FBjJh","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-16T20:30:46Z","updated_at":"2024-07-16T20:30:46Z","author_association":"CONTRIBUTOR","body":"I added some additional tests with multiple `update()` calls on the builder. I'd say I am done with the revision.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2231775841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233065641","html_url":"https://github.com/apache/jena/pull/2590#issuecomment-2233065641","issue_url":"https://api.github.com/repos/apache/jena/issues/2590","id":2233065641,"node_id":"IC_kwDOAHF7Ec6FGeCp","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T11:20:14Z","updated_at":"2024-07-17T11:20:14Z","author_association":"MEMBER","body":"Like #2574, this PR does not work.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233065641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233067603","html_url":"https://github.com/apache/jena/pull/2574#issuecomment-2233067603","issue_url":"https://api.github.com/repos/apache/jena/issues/2574","id":2233067603,"node_id":"IC_kwDOAHF7Ec6FGehT","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T11:21:18Z","updated_at":"2024-07-17T11:21:18Z","author_association":"MEMBER","body":"Replaced by #2590, which also does not work for the same reason.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233067603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233068424","html_url":"https://github.com/apache/jena/pull/2574#issuecomment-2233068424","issue_url":"https://api.github.com/repos/apache/jena/issues/2574","id":2233068424,"node_id":"IC_kwDOAHF7Ec6FGeuI","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T11:21:48Z","updated_at":"2024-07-17T11:21:48Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233068424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233467191","html_url":"https://github.com/apache/jena/issues/2585#issuecomment-2233467191","issue_url":"https://api.github.com/repos/apache/jena/issues/2585","id":2233467191,"node_id":"IC_kwDOAHF7Ec6FIAE3","user":{"login":"ajtucker","id":261235,"node_id":"MDQ6VXNlcjI2MTIzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/261235?v=4","gravatar_id":"","url":"https://api.github.com/users/ajtucker","html_url":"https://github.com/ajtucker","followers_url":"https://api.github.com/users/ajtucker/followers","following_url":"https://api.github.com/users/ajtucker/following{/other_user}","gists_url":"https://api.github.com/users/ajtucker/gists{/gist_id}","starred_url":"https://api.github.com/users/ajtucker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajtucker/subscriptions","organizations_url":"https://api.github.com/users/ajtucker/orgs","repos_url":"https://api.github.com/users/ajtucker/repos","events_url":"https://api.github.com/users/ajtucker/events{/privacy}","received_events_url":"https://api.github.com/users/ajtucker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T14:28:53Z","updated_at":"2024-07-17T14:57:28Z","author_association":"CONTRIBUTOR","body":"It looks as though [`checkValidLocalname()`](https://github.com/apache/jena/blob/main/jena-arq/src/main/java/org/apache/jena/sparql/util/FmtUtils.java#L474) doesn't quite match the production for [PN_LOCAL](https://www.w3.org/TR/sparql11-query/#rPN_LOCAL), in that the first character of the local name is restricted to: \r\n\r\n> [PN_CHARS_U](https://www.w3.org/TR/sparql11-query/#rPN_CHARS_U) | ':' | [0-9] | [PLX](https://www.w3.org/TR/sparql11-query/#rPLX)\r\n\r\nwhile the rest are allowed to be:\r\n\r\n> ([PN_CHARS](https://www.w3.org/TR/sparql11-query/#rPN_CHARS) | '.' | ':' | [PLX](https://www.w3.org/TR/sparql11-query/#rPLX))* ([PN_CHARS](https://www.w3.org/TR/sparql11-query/#rPN_CHARS) | ':' | [PLX](https://www.w3.org/TR/sparql11-query/#rPLX))\r\n\r\nAdding the following test fails:\r\n\r\n```diff\r\ndiff --git a/jena-arq/src/test/java/org/apache/jena/sparql/syntax/TestSerialization.java b/jena-arq/src/test/java/org/apache/jena/sparql/syntax/TestSerialization.java\r\nindex 08c3fd708f..6efb1eaef4 100644\r\n--- a/jena-arq/src/test/java/org/apache/jena/sparql/syntax/TestSerialization.java\r\n+++ b/jena-arq/src/test/java/org/apache/jena/sparql/syntax/TestSerialization.java\r\n@@ -118,6 +118,9 @@ public class TestSerialization\r\n     @Test public void test_PName_Bad_7()\r\n     { fmtURI_Prefix(\"http://example/x.\", \"<http://example/x.>\", pmap1) ; }\r\n \r\n+    @Test public void test_PName_Bad_8()\r\n+    { fmtURI_Prefix(\"http://default/-x\", \"<http://default/-x>\", pmap1) ; }\r\n+\r\n     // Dots\r\n     @Test public void test_Dots_1() // Internal DOT\r\n     { fmtURI_Prefix(\"http://example/x#a.b\", \"ex:a.b\", pmap1) ; }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233467191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233481730","html_url":"https://github.com/apache/jena/issues/2578#issuecomment-2233481730","issue_url":"https://api.github.com/repos/apache/jena/issues/2578","id":2233481730,"node_id":"IC_kwDOAHF7Ec6FIDoC","user":{"login":"Ostrzyciel","id":56843159,"node_id":"MDQ6VXNlcjU2ODQzMTU5","avatar_url":"https://avatars.githubusercontent.com/u/56843159?v=4","gravatar_id":"","url":"https://api.github.com/users/Ostrzyciel","html_url":"https://github.com/Ostrzyciel","followers_url":"https://api.github.com/users/Ostrzyciel/followers","following_url":"https://api.github.com/users/Ostrzyciel/following{/other_user}","gists_url":"https://api.github.com/users/Ostrzyciel/gists{/gist_id}","starred_url":"https://api.github.com/users/Ostrzyciel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ostrzyciel/subscriptions","organizations_url":"https://api.github.com/users/Ostrzyciel/orgs","repos_url":"https://api.github.com/users/Ostrzyciel/repos","events_url":"https://api.github.com/users/Ostrzyciel/events{/privacy}","received_events_url":"https://api.github.com/users/Ostrzyciel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-17T14:35:16Z","updated_at":"2024-07-17T14:49:18Z","author_association":"CONTRIBUTOR","body":"@afs Thank you for the detailed answer, that actually explains a lot!\r\n\r\nI've updated the code to read directly from `StreamRDF` instead of constructing a dataset – the results now are different:\r\n\r\n<details>\r\n\r\n        Empty output for null graph in TriG/pretty\r\n        Failed to write null graph in JSON-LD-11/pretty\r\n        org.apache.jena.shared.JenaException: Exception while writing JSON-LD 1.1\r\n\t        at org.apache.jena.riot.writer.JsonLD11Writer.write$(JsonLD11Writer.java:123)\r\n\t        at org.apache.jena.riot.writer.JsonLD11Writer.write(JsonLD11Writer.java:73)\r\n\t        at org.apache.jena.riot.RDFWriter.write$(RDFWriter.java:261)\r\n\t        at org.apache.jena.riot.RDFWriter.output(RDFWriter.java:219)\r\n\t        at org.apache.jena.riot.RDFWriter.output(RDFWriter.java:158)\r\n\t        at org.apache.jena.riot.RDFWriterBuilder.output(RDFWriterBuilder.java:207)\r\n\t        at org.apache.jena.riot.RDFDataMgr.write$(RDFDataMgr.java:809)\r\n\t        at org.apache.jena.riot.RDFDataMgr.write(RDFDataMgr.java:754)\r\n\t        at org.example.Main.main(Main.java:68)\r\n        Caused by: java.lang.NullPointerException: Cannot invoke \"org.apache.jena.graph.Node.isBlank()\" because \"node\" is null\r\n\t        at org.apache.jena.riot.system.JenaTitanium.resource(JenaTitanium.java:133)\r\n\t        at org.apache.jena.riot.system.JenaTitanium.lambda$convert$0(JenaTitanium.java:60)\r\n\t        at org.apache.jena.atlas.iterator.Iter$IterMap.lambda$forEachRemaining$0(Iter.java:432)\r\n\t        at org.apache.jena.mem2.store.fast.FastArrayBunch$1.forEachRemaining(FastArrayBunch.java:164)\r\n\t        at org.apache.jena.mem2.iterator.IteratorOfJenaSets.forEachRemaining(IteratorOfJenaSets.java:71)\r\n\t        at org.apache.jena.atlas.iterator.Iter$IterMap.forEachRemaining(Iter.java:432)\r\n\t        at org.apache.jena.atlas.iterator.Iter.forEachRemaining(Iter.java:927)\r\n\t        at org.apache.jena.atlas.iterator.IteratorConcat.forEachRemaining(IteratorConcat.java:99)\r\n\t        at org.apache.jena.riot.system.JenaTitanium.convert(JenaTitanium.java:49)\r\n\t        at org.apache.jena.riot.writer.JsonLD11Writer.write$(JsonLD11Writer.java:91)\r\n\t        ... 8 more\r\n        \r\n        To serialize                       Format                   Status/deserialized\r\n        null graph                         TriG/pretty              empty output   \r\n        null graph                         JSON-LD-11/pretty        serialization failed\r\n        null graph                         N-Quads/utf-8            Quad.defaultGraphNodeGenerated\r\n        null graph                         RDF-PROTO                null graph     \r\n        null graph                         RDF-THRIFT               triple instead of quad\r\n        Quad.defaultGraphNodeGenerated     TriG/pretty              Quad.defaultGraphNodeGenerated\r\n        Quad.defaultGraphNodeGenerated     JSON-LD-11/pretty        triple instead of quad\r\n        Quad.defaultGraphNodeGenerated     N-Quads/utf-8            Quad.defaultGraphNodeGenerated\r\n        Quad.defaultGraphNodeGenerated     RDF-PROTO                triple instead of quad\r\n        Quad.defaultGraphNodeGenerated     RDF-THRIFT               triple instead of quad\r\n        Quad.defaultGraphIRI               TriG/pretty              Quad.defaultGraphNodeGenerated\r\n        Quad.defaultGraphIRI               JSON-LD-11/pretty        triple instead of quad\r\n        Quad.defaultGraphIRI               N-Quads/utf-8            Quad.defaultGraphNodeGenerated\r\n        Quad.defaultGraphIRI               RDF-PROTO                triple instead of quad\r\n        Quad.defaultGraphIRI               RDF-THRIFT               triple instead of quad\r\n\r\n</details>\r\n\r\n- TriG and N-Quads parsers output `Quad.defaultGraphNodeGenerated`\r\n- JSON-LD and Thrift parsers output a triple instead of a quad\r\n- Protobuf parser behaves like Thrift, except the case where the file was serialized from a quad that had null for the graph, then the parser output is also null.\r\n\r\nSo, to summarize (please correct me if I'm wrong here):\r\n\r\n- Parsers when handling quads that the source file explicitly specifies as being in the default graph, should call `StreamRDF.quad(Quad(Quad.defaultGraphNodeGenerated, _, _, _))` – this is something to fix in my parser.\r\n- Parsers when handling triples that may or may not be in the default graph, should call `StreamRDF.triple`.\r\n- Writers when handling triples should write them as triples.\r\n- Writers when handling quads:\r\n  - If `quad.isTriple()`, should output a triple (if the format supports it), or a quad in the default graph otherwise.\r\n  - If `Quad.isDefaultGraph()`, should output a quad in the default graph (if the format supports it), or a triple otherwise.\r\n\r\nI will try to fix the JSON-LD and TriG issues in a PR.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2233481730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2238616615","html_url":"https://github.com/apache/jena/issues/2584#issuecomment-2238616615","issue_url":"https://api.github.com/repos/apache/jena/issues/2584","id":2238616615,"node_id":"IC_kwDOAHF7Ec6FbpQn","user":{"login":"awoestmann","id":20797843,"node_id":"MDQ6VXNlcjIwNzk3ODQz","avatar_url":"https://avatars.githubusercontent.com/u/20797843?v=4","gravatar_id":"","url":"https://api.github.com/users/awoestmann","html_url":"https://github.com/awoestmann","followers_url":"https://api.github.com/users/awoestmann/followers","following_url":"https://api.github.com/users/awoestmann/following{/other_user}","gists_url":"https://api.github.com/users/awoestmann/gists{/gist_id}","starred_url":"https://api.github.com/users/awoestmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awoestmann/subscriptions","organizations_url":"https://api.github.com/users/awoestmann/orgs","repos_url":"https://api.github.com/users/awoestmann/repos","events_url":"https://api.github.com/users/awoestmann/events{/privacy}","received_events_url":"https://api.github.com/users/awoestmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-19T08:13:58Z","updated_at":"2024-07-19T08:13:58Z","author_association":"NONE","body":"Hi @afs,\r\n\r\nthanks for quick reply.\r\n\r\nI will try to give you some context:\r\n\r\n> What is the server configuration - the stack trace has DatasetImpl so is it some kind of configuration file setup.\r\n\r\nI am not entirely sure what you mean here. We are creating the dataset using something like:\r\n\r\n```java\r\nDataset dataset = TDB2Factory.connectDataset(\"path/to/tdb/dir\")\r\n```\r\n\r\n> What operation of the server is this occurring at the time of the stacktrace?\r\n\r\nAt the time of the stacktrace the server is handling a request that should return the result of a sparql query. The error then occurs when we start the transaction to execute the query:\r\n\r\n```java\r\n    dataset.begin(TxnType.READ);\r\n    try {\r\n      //Execute query and return result\r\n    } finally {\r\n      dataset.end();\r\n    }\r\n```\r\n\r\n> How is data loaded into this dataset?\r\n\r\nLike mentioned above we are using `TDB2Factory.connectDataset(String location)` once when the REST-Controller is created.\r\n\r\n> Is it HTTP/1 or HTTP/2 connections to the server?\r\n\r\nWe only have HTTP/1 connections.\r\n\r\n> Are calling clients properly ending their closing their HTTP connections?\r\n\r\nIt looks like the connections are closed properly, we could not find any requests with connections that have been aborted before the response was sent.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2238616615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2238784390","html_url":"https://github.com/apache/jena/issues/2584#issuecomment-2238784390","issue_url":"https://api.github.com/repos/apache/jena/issues/2584","id":2238784390,"node_id":"IC_kwDOAHF7Ec6FcSOG","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-19T09:42:03Z","updated_at":"2024-07-19T09:42:03Z","author_association":"MEMBER","body":"> > What is the server configuration - the stack trace has DatasetImpl so is it some kind of configuration file setup.\r\n>\r\n> I am not entirely sure what you mean here. We are creating the dataset using something like:\r\n\r\nAndy initially assumed that this was an issue with the Fuseki server provided by the project, likely because the potential related issue you referenced was specific to Fuseki.\r\n\r\n> Like mentioned above we are using `TDB2Factory.connectDataset(String location)` once when the REST-Controller is created.\r\n\r\nAre you certain that is only gets created once?  Depending on what REST framework you are using there's no guarantee that it doesn't create and destroy instances of your REST controller over the lifetime of your server, have you tried adding some logging to verify whether this is the case?\r\n\r\nThe REST framework used may be a pertinent detail here.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2238784390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2238896857","html_url":"https://github.com/apache/jena/issues/2593#issuecomment-2238896857","issue_url":"https://api.github.com/repos/apache/jena/issues/2593","id":2238896857,"node_id":"IC_kwDOAHF7Ec6FctrZ","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-19T10:54:39Z","updated_at":"2024-07-19T10:54:39Z","author_association":"MEMBER","body":"Note for anyone else who encounters this it can be worked around by adding the following `<exclusions>` into your `jena-arq` dependency e.g.\r\n\r\n```xml\r\n<dependency>\r\n    <groupId>org.apache.jena</groupId>\r\n    <artifactId>jena-arq</artifactId>\r\n    <version>${dependency.jena}</version>\r\n    <exclusions>\r\n        <exclusion>\r\n            <groupId>org.junit.platform</groupId>\r\n            <artifactId>junit-platform-suite-engine</artifactId>\r\n        </exclusion>\r\n    </exclusions>\r\n</dependency>\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2238896857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2241538730","html_url":"https://github.com/apache/jena/issues/2487#issuecomment-2241538730","issue_url":"https://api.github.com/repos/apache/jena/issues/2487","id":2241538730,"node_id":"IC_kwDOAHF7Ec6Fmyqq","user":{"login":"sszuev","id":17473366,"node_id":"MDQ6VXNlcjE3NDczMzY2","avatar_url":"https://avatars.githubusercontent.com/u/17473366?v=4","gravatar_id":"","url":"https://api.github.com/users/sszuev","html_url":"https://github.com/sszuev","followers_url":"https://api.github.com/users/sszuev/followers","following_url":"https://api.github.com/users/sszuev/following{/other_user}","gists_url":"https://api.github.com/users/sszuev/gists{/gist_id}","starred_url":"https://api.github.com/users/sszuev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sszuev/subscriptions","organizations_url":"https://api.github.com/users/sszuev/orgs","repos_url":"https://api.github.com/users/sszuev/repos","events_url":"https://api.github.com/users/sszuev/events{/privacy}","received_events_url":"https://api.github.com/users/sszuev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-21T09:12:31Z","updated_at":"2024-07-21T09:12:31Z","author_association":"CONTRIBUTOR","body":"all work on this task has been completed. can be closed","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2241538730/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2241757470","html_url":"https://github.com/apache/jena/issues/2584#issuecomment-2241757470","issue_url":"https://api.github.com/repos/apache/jena/issues/2584","id":2241757470,"node_id":"IC_kwDOAHF7Ec6FnoEe","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-21T20:00:08Z","updated_at":"2024-07-21T20:00:08Z","author_association":"MEMBER","body":"Yes, I was assuming this was inside Fuseki because of the link to #1499.\r\n \r\n`TDB2Factory.connectDataset` returns the same dataset on all calls for the same location. There's a `computeIfAbsent` cache. \r\nThere shouldn't be a need to create it more than once and keep an object reference.\r\n\r\nIs the `TDB2Factory.connectDataset` always was same directory path?\r\n\r\nI'm assuming that writes are not blocking before this problem is seen.\r\n\r\nIt looks like somewhere that is a code path which is not ending a read transaction code.\r\nThat's what was behind #1499.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2241757470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2242282379","html_url":"https://github.com/apache/jena/issues/2584#issuecomment-2242282379","issue_url":"https://api.github.com/repos/apache/jena/issues/2584","id":2242282379,"node_id":"IC_kwDOAHF7Ec6FpoOL","user":{"login":"awoestmann","id":20797843,"node_id":"MDQ6VXNlcjIwNzk3ODQz","avatar_url":"https://avatars.githubusercontent.com/u/20797843?v=4","gravatar_id":"","url":"https://api.github.com/users/awoestmann","html_url":"https://github.com/awoestmann","followers_url":"https://api.github.com/users/awoestmann/followers","following_url":"https://api.github.com/users/awoestmann/following{/other_user}","gists_url":"https://api.github.com/users/awoestmann/gists{/gist_id}","starred_url":"https://api.github.com/users/awoestmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awoestmann/subscriptions","organizations_url":"https://api.github.com/users/awoestmann/orgs","repos_url":"https://api.github.com/users/awoestmann/repos","events_url":"https://api.github.com/users/awoestmann/events{/privacy}","received_events_url":"https://api.github.com/users/awoestmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-22T07:33:15Z","updated_at":"2024-07-22T07:33:15Z","author_association":"NONE","body":"> Yes, I was assuming this was inside Fuseki because of the link to https://github.com/apache/jena/issues/1499.\r\n\r\nSorry for the confusion there.\r\n\r\n> Is the TDB2Factory.connectDataset always was same directory path?\r\n\r\nThe path is read from a config file and should not change during the runtime.\r\n\r\n> \r\n> Are you certain that is only gets created once? Depending on what REST framework you are using there's no guarantee that it doesn't create and destroy instances of your REST controller over the lifetime of your server, have you tried adding some logging to verify whether this is the case?\r\n> \r\n> The REST framework used may be a pertinent detail here.\r\n> \r\n\r\nWe are using Spring boot for this application. The dataset is created in the constructor of a `@ApplicationScope` repository class that is injected in the REST-Controller. So i would think that there should only be one instance of the dataset.\r\n\r\nI will add some logging and try to confirm that there is only a single instance.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2242282379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2243009944","html_url":"https://github.com/apache/jena/issues/2584#issuecomment-2243009944","issue_url":"https://api.github.com/repos/apache/jena/issues/2584","id":2243009944,"node_id":"IC_kwDOAHF7Ec6FsZ2Y","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-22T13:48:18Z","updated_at":"2024-07-22T14:20:19Z","author_association":"MEMBER","body":"OK - I think I've found the problem.\r\n\r\nIt seems that there are lots of threads. `.end()` is failing to release a lock - the lock is re-entrant so this only goes wrong when a many threads are created.  If the threads are from a pool, the lock is used as a re-entrant lock and the system limit isn't reached.\r\n\r\nCould you please try:\r\n\r\n```java\r\n dataset.begin(TxnType.READ);\r\n    try {\r\n      // Execute query\r\n      dataset.commit();\r\n      // return result\r\n    } finally {\r\n      dataset.end();\r\n    }\r\n```\r\nto confirm this analysis.\r\n\r\nFYI: There is support for this pattern --\r\n```\r\n    result = dataset.calculateRead(()->1);\r\n```\r\nwhich will achieve the same (albeit boxed if a primitive type).\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2243009944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2244340925","html_url":"https://github.com/apache/jena/issues/2584#issuecomment-2244340925","issue_url":"https://api.github.com/repos/apache/jena/issues/2584","id":2244340925,"node_id":"IC_kwDOAHF7Ec6Fxey9","user":{"login":"awoestmann","id":20797843,"node_id":"MDQ6VXNlcjIwNzk3ODQz","avatar_url":"https://avatars.githubusercontent.com/u/20797843?v=4","gravatar_id":"","url":"https://api.github.com/users/awoestmann","html_url":"https://github.com/awoestmann","followers_url":"https://api.github.com/users/awoestmann/followers","following_url":"https://api.github.com/users/awoestmann/following{/other_user}","gists_url":"https://api.github.com/users/awoestmann/gists{/gist_id}","starred_url":"https://api.github.com/users/awoestmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awoestmann/subscriptions","organizations_url":"https://api.github.com/users/awoestmann/orgs","repos_url":"https://api.github.com/users/awoestmann/repos","events_url":"https://api.github.com/users/awoestmann/events{/privacy}","received_events_url":"https://api.github.com/users/awoestmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-23T06:19:02Z","updated_at":"2024-07-23T06:19:02Z","author_association":"NONE","body":"My first test in a development environment looks promising:\r\n\r\nThe application hast processed 109k requests without any issue, whereas before the error occurred after less than 60k requests.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2244340925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2245024496","html_url":"https://github.com/apache/jena/issues/1795#issuecomment-2245024496","issue_url":"https://api.github.com/repos/apache/jena/issues/1795","id":2245024496,"node_id":"IC_kwDOAHF7Ec6F0Frw","user":{"login":"Afler","id":49097219,"node_id":"MDQ6VXNlcjQ5MDk3MjE5","avatar_url":"https://avatars.githubusercontent.com/u/49097219?v=4","gravatar_id":"","url":"https://api.github.com/users/Afler","html_url":"https://github.com/Afler","followers_url":"https://api.github.com/users/Afler/followers","following_url":"https://api.github.com/users/Afler/following{/other_user}","gists_url":"https://api.github.com/users/Afler/gists{/gist_id}","starred_url":"https://api.github.com/users/Afler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Afler/subscriptions","organizations_url":"https://api.github.com/users/Afler/orgs","repos_url":"https://api.github.com/users/Afler/repos","events_url":"https://api.github.com/users/Afler/events{/privacy}","received_events_url":"https://api.github.com/users/Afler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-23T11:51:14Z","updated_at":"2024-07-23T11:51:14Z","author_association":"NONE","body":"@afs Hello\r\nWhat is the status of this embeddable Fuseki admin UI feature? Also, the previous workaround is actual or there is more relevant solution for now? ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2245024496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2245160043","html_url":"https://github.com/apache/jena/issues/1795#issuecomment-2245160043","issue_url":"https://api.github.com/repos/apache/jena/issues/1795","id":2245160043,"node_id":"IC_kwDOAHF7Ec6F0mxr","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-23T12:47:45Z","updated_at":"2024-07-23T12:47:45Z","author_association":"MEMBER","body":"> @afs Hello What is the status of this embeddable Fuseki admin UI feature? Also, the previous workaround is actual or there is more relevant solution for now?\r\n\r\nI don't believe there's been any progress on this since the issue was last updated.  I know it's something @afs still wants to do but hasn't got to yet","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2245160043/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2245929603","html_url":"https://github.com/apache/jena/pull/2605#issuecomment-2245929603","issue_url":"https://api.github.com/repos/apache/jena/issues/2605","id":2245929603,"node_id":"IC_kwDOAHF7Ec6F3iqD","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-23T18:11:21Z","updated_at":"2024-07-23T18:11:31Z","author_association":"MEMBER","body":"\"Draft\" pending further verification.\r\n\r\nThe comment changes are improvements while working on the code \r\n\r\nThe fix is the change in [DatasetGraphTxnCtl.end()](https://github.com/apache/jena/pull/2605/files#diff-4a3e6190a882fd877e11abe11f264529460733c41f7a70d64a1b8bbe988d7f07R168-R175).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2245929603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2245931503","html_url":"https://github.com/apache/jena/issues/2584#issuecomment-2245931503","issue_url":"https://api.github.com/repos/apache/jena/issues/2584","id":2245931503,"node_id":"IC_kwDOAHF7Ec6F3jHv","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-23T18:11:54Z","updated_at":"2024-07-23T18:11:54Z","author_association":"MEMBER","body":"Excellent. The lock count limit is 64k.\r\n\r\nI've also tested with Java21 virtual threads. They behave the same as platform threads (where one thread that use one OS thread). Same situation - the lock limit applies to virtual threads.\r\n\r\nPR #2605.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2245931503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247132378","html_url":"https://github.com/apache/jena/pull/2608#issuecomment-2247132378","issue_url":"https://api.github.com/repos/apache/jena/issues/2608","id":2247132378,"node_id":"IC_kwDOAHF7Ec6F8ITa","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2024-07-24T07:46:32Z","updated_at":"2024-07-24T07:46:32Z","author_association":"CONTRIBUTOR","body":"Looks like eslint-plugin-promise is up-to-date now, so this is no longer needed.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247132378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247147804","html_url":"https://github.com/apache/jena/pull/2609#issuecomment-2247147804","issue_url":"https://api.github.com/repos/apache/jena/issues/2609","id":2247147804,"node_id":"IC_kwDOAHF7Ec6F8MEc","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-24T07:55:04Z","updated_at":"2024-07-24T08:41:53Z","author_association":"MEMBER","body":"Converted to draft.\r\nSee #2590 and #2574.\r\n\r\nDetails from #2574: https://github.com/apache/jena/pull/2574#issuecomment-2220389628\r\n\r\n<details>\r\n<summary>Log of the build step with this PR</summary>\r\n\r\n```\r\n[INFO] --- frontend:1.15.0:yarn (yarn run test:unit) @ jena-fuseki-ui ---\r\n[INFO] Running 'yarn run test:unit' in /home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui\r\n[INFO] yarn run v1.22.17\r\n[INFO] $ vitest run --environment jsdom\r\n[INFO] \r\n[INFO]  RUN  v2.0.4 /home/afs/ASF/jena-review/jena-fuseki2/jena-fuseki-ui\r\n[INFO] \r\n[INFO]  ✓ tests/unit/utils/query.spec.js  (1 test) 1ms\r\n[INFO]  ✓ tests/unit/services/fuseki.service.spec.js  (20 tests) 13ms\r\n[INFO]  ✓ tests/unit/components/dataset/tablelisting.vue.spec.js  (2 tests) 30ms\r\n[INFO]  ✓ tests/unit/components/serverstatus.vue.spec.js  (3 tests) 20ms\r\n[INFO]  ✓ tests/unit/components/dataset/pagination.vue.spec.js  (4 tests) 44ms\r\n[INFO]  ❯ tests/unit/views/dataset/query.vue.spec.js  (1 test | 1 failed) 4ms\r\n[INFO]    × Query view > is created with the correct initial values\r\n[INFO]      → vi.useFakeTimers({ toFake: [\"nextTick\"] }) is not supported in node:child_process. Use --pool=threads if mocking nextTick is required.\r\n[INFO] \r\n[INFO] ⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯\r\n[INFO] \r\n[INFO]  FAIL  tests/unit/views/dataset/query.vue.spec.js > Query view > is created with the correct initial values\r\n[INFO] Error: vi.useFakeTimers({ toFake: [\"nextTick\"] }) is not supported in node:child_process. Use --pool=threads if mocking nextTick is required.\r\n[INFO]  ❯ tests/unit/views/dataset/query.vue.spec.js:59:8\r\n[INFO]      57|     document.body.append(yasqeDiv)\r\n[INFO]      58|     // we will have to mock setTimeout and nextTick at least, for the …\r\n[INFO]      59|     vi.useFakeTimers({\r\n[INFO]        |        ^\r\n[INFO]      60|       toFake: [\r\n[INFO]      61|         'Date',\r\n[INFO] \r\n[INFO] ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯\r\n[INFO] \r\n[INFO]  Test Files  1 failed | 5 passed (6)\r\n[INFO]       Tests  1 failed | 30 passed (31)\r\n[INFO]    Start at  08:56:19\r\n[INFO]    Duration  889ms (transform 463ms, setup 0ms, collect 1.09s, tests 112ms, environment 1.19s, prepare 431ms)\r\n[INFO] \r\n[INFO] error Command failed with exit code 1.\r\n[INFO] error Command failed with exit code 1.info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n</details>\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247147804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247149286","html_url":"https://github.com/apache/jena/pull/2590#issuecomment-2247149286","issue_url":"https://api.github.com/repos/apache/jena/issues/2590","id":2247149286,"node_id":"IC_kwDOAHF7Ec6F8Mbm","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-24T07:55:54Z","updated_at":"2024-07-24T07:55:54Z","author_association":"MEMBER","body":"Replaced by #2609","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247149286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247149359","html_url":"https://github.com/apache/jena/pull/2590#issuecomment-2247149359","issue_url":"https://api.github.com/repos/apache/jena/issues/2590","id":2247149359,"node_id":"IC_kwDOAHF7Ec6F8Mcv","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2024-07-24T07:55:56Z","updated_at":"2024-07-24T07:55:56Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247149359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247303809","html_url":"https://github.com/apache/jena/pull/2609#issuecomment-2247303809","issue_url":"https://api.github.com/repos/apache/jena/issues/2609","id":2247303809,"node_id":"IC_kwDOAHF7Ec6F8yKB","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-24T09:05:51Z","updated_at":"2024-07-24T09:05:51Z","author_association":"MEMBER","body":"PR #2612 is needed and should be applied first.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2247303809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2254630143","html_url":"https://github.com/apache/jena/issues/1795#issuecomment-2254630143","issue_url":"https://api.github.com/repos/apache/jena/issues/1795","id":2254630143,"node_id":"IC_kwDOAHF7Ec6GYuz_","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-28T20:07:04Z","updated_at":"2024-07-28T20:07:04Z","author_association":"MEMBER","body":"Hi @Afler - no concrete progress but it's getting nearer.\r\n\r\n@Afler, @benjaminaaron  -- a few refinement questions --\r\n\r\nThere are several areas within the UI: query, data loading, endpoint stats database creation/deletion (roughly - 2x2 matrix is (read,write) X (data, admin).\r\n\r\nWhich functionality of the UI are you interested in?\r\n\r\nThere are authorization issues which are currently not properly separated out, at least in the default configuration. \r\n\r\nDo you have \"one user\" usage in mind or with different people with different responsibilities?\r\n\r\nAnything else you'd like to comment on?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2254630143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2254636920","html_url":"https://github.com/apache/jena/issues/1795#issuecomment-2254636920","issue_url":"https://api.github.com/repos/apache/jena/issues/1795","id":2254636920,"node_id":"IC_kwDOAHF7Ec6GYwd4","user":{"login":"Afler","id":49097219,"node_id":"MDQ6VXNlcjQ5MDk3MjE5","avatar_url":"https://avatars.githubusercontent.com/u/49097219?v=4","gravatar_id":"","url":"https://api.github.com/users/Afler","html_url":"https://github.com/Afler","followers_url":"https://api.github.com/users/Afler/followers","following_url":"https://api.github.com/users/Afler/following{/other_user}","gists_url":"https://api.github.com/users/Afler/gists{/gist_id}","starred_url":"https://api.github.com/users/Afler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Afler/subscriptions","organizations_url":"https://api.github.com/users/Afler/orgs","repos_url":"https://api.github.com/users/Afler/repos","events_url":"https://api.github.com/users/Afler/events{/privacy}","received_events_url":"https://api.github.com/users/Afler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-28T20:35:09Z","updated_at":"2024-07-28T20:35:26Z","author_association":"NONE","body":"@afs\r\nTy for response\r\nFirst of all, I would like to be able to execute queries and to view all dataset data (pageable statements for example). Secondly, db creation/deletion, and data export/import. \r\nIn the production environment there is a few dev's who would be able to use whole UI functionality which can be interpreted as \"single user admin mode\" and each dev knows username/password for admin user.\r\nThis would be nice to have from start\r\nSeeing further, dataset visualization as a graph would be nice. Also, data viewing in some readable format where data grouped by resource would be convenient (i.e. all properties and relation of a resource display in a single UI block) which is, essentially, representation as a graph.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2254636920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2260390625","html_url":"https://github.com/apache/jena/pull/2614#issuecomment-2260390625","issue_url":"https://api.github.com/repos/apache/jena/issues/2614","id":2260390625,"node_id":"IC_kwDOAHF7Ec6GutLh","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-31T12:19:36Z","updated_at":"2024-07-31T12:19:36Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2260390625/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2260391198","html_url":"https://github.com/apache/jena/pull/2615#issuecomment-2260391198","issue_url":"https://api.github.com/repos/apache/jena/issues/2615","id":2260391198,"node_id":"IC_kwDOAHF7Ec6GutUe","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-31T12:19:56Z","updated_at":"2024-07-31T12:19:56Z","author_association":"MEMBER","body":"@dependabot rebase\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2260391198/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2265076412","html_url":"https://github.com/apache/jena/issues/2616#issuecomment-2265076412","issue_url":"https://api.github.com/repos/apache/jena/issues/2616","id":2265076412,"node_id":"IC_kwDOAHF7Ec6HAlK8","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-02T10:33:12Z","updated_at":"2024-08-02T10:33:12Z","author_association":"MEMBER","body":"Hi @agustaf9,\r\n\r\nThanks for the complete report.\r\n\r\nI've managed to reproduce the problem at my end.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2265076412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2265824649","html_url":"https://github.com/apache/jena/issues/2617#issuecomment-2265824649","issue_url":"https://api.github.com/repos/apache/jena/issues/2617","id":2265824649,"node_id":"IC_kwDOAHF7Ec6HDb2J","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-02T17:15:47Z","updated_at":"2024-08-02T17:15:47Z","author_association":"MEMBER","body":"It seems to work -- possibly because the example default file is setting the `credentialsMatcher`.\r\n```\r\n[main]\r\nplainMatcher=org.apache.shiro.authc.credential.SimpleCredentialsMatcher\r\niniRealm.credentialsMatcher = $plainMatcher\r\n\r\n[users]\r\nuser99=password99\r\n\r\n[urls]\r\n/** = authcBasic,user[user99]\r\n```\r\n\r\nIt would be better to update the documentation and default file to use argon2 as suggested.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2265824649/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2265867912","html_url":"https://github.com/apache/jena/pull/2405#issuecomment-2265867912","issue_url":"https://api.github.com/repos/apache/jena/issues/2405","id":2265867912,"node_id":"IC_kwDOAHF7Ec6HDmaI","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-02T17:47:00Z","updated_at":"2024-08-02T17:47:00Z","author_association":"MEMBER","body":"Running `mvn clean install`\r\n\r\nSorry - fixing licenses is something the submitter has to do.\r\n\r\n```\r\nFiles with unapproved licenses:\r\n\r\n  jena-benchmarks/jena-benchmarks-jmh/src/test/java/org/apache/jena/sparql/engine/join/QueryTaskCurrent.java\r\n  jena-benchmarks/jena-benchmarks-jmh/src/test/java/org/apache/jena/sparql/engine/join/QueryTask480.java\r\n  jena-benchmarks/jena-benchmarks-jmh/src/test/java/org/apache/jena/sparql/engine/join/TestHashJoin.java\r\n  jena-benchmarks/jena-benchmarks-jmh/src/test/java/org/apache/jena/sparql/engine/benchmark/QueryTask.java\r\n  jena-benchmarks/jena-benchmarks-jmh/src/test/java/org/apache/jena/sparql/engine/benchmark/QueryTaskResult.java\r\n  jena-benchmarks/jena-benchmarks-jmh/src/test/java/org/apache/jena/sparql/engine/benchmark/QueryTaskReader.java\r\n  jena-arq/src/main/java/org/apache/jena/sparql/engine/join/ImmutableUniqueList.java\r\n```\r\n\r\nother than that, it builds OK.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2265867912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2266737331","html_url":"https://github.com/apache/jena/pull/2373#issuecomment-2266737331","issue_url":"https://api.github.com/repos/apache/jena/issues/2373","id":2266737331,"node_id":"IC_kwDOAHF7Ec6HG6qz","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-03T14:35:30Z","updated_at":"2024-08-03T14:35:30Z","author_association":"MEMBER","body":"ping @afs , @rvesse  :point_up: Don't recall much about the context here, but reading the comments, looks like I was waiting for other opinions on the best approach here. Any thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2266737331/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267538851","html_url":"https://github.com/apache/jena/issues/2619#issuecomment-2267538851","issue_url":"https://api.github.com/repos/apache/jena/issues/2619","id":2267538851,"node_id":"IC_kwDOAHF7Ec6HJ-Wj","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-04T13:12:30Z","updated_at":"2024-08-04T13:12:30Z","author_association":"CONTRIBUTOR","body":"Where's the `rdf:RDF` root element? It should contain the the namespace declarations.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267538851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267540246","html_url":"https://github.com/apache/jena/issues/2619#issuecomment-2267540246","issue_url":"https://api.github.com/repos/apache/jena/issues/2619","id":2267540246,"node_id":"IC_kwDOAHF7Ec6HJ-sW","user":{"login":"sszuev","id":17473366,"node_id":"MDQ6VXNlcjE3NDczMzY2","avatar_url":"https://avatars.githubusercontent.com/u/17473366?v=4","gravatar_id":"","url":"https://api.github.com/users/sszuev","html_url":"https://github.com/sszuev","followers_url":"https://api.github.com/users/sszuev/followers","following_url":"https://api.github.com/users/sszuev/following{/other_user}","gists_url":"https://api.github.com/users/sszuev/gists{/gist_id}","starred_url":"https://api.github.com/users/sszuev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sszuev/subscriptions","organizations_url":"https://api.github.com/users/sszuev/orgs","repos_url":"https://api.github.com/users/sszuev/repos","events_url":"https://api.github.com/users/sszuev/events{/privacy}","received_events_url":"https://api.github.com/users/sszuev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-04T13:17:13Z","updated_at":"2024-08-04T13:17:13Z","author_association":"CONTRIBUTOR","body":"This is a part of negative test which worked fine on Jena 4.x.\r\nI guess the question \"should round-trip work\" is reasonable.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267540246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267650165","html_url":"https://github.com/apache/jena/issues/2619#issuecomment-2267650165","issue_url":"https://api.github.com/repos/apache/jena/issues/2619","id":2267650165,"node_id":"IC_kwDOAHF7Ec6HKZh1","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-04T19:51:17Z","updated_at":"2024-08-04T19:54:42Z","author_association":"MEMBER","body":"This is not #2473.\r\n\r\nJena4 doesn't write it as an RDF XMLLiteral - it's using `rdf:datatype` not `rdf:parseType=\"Literal\"` - because it is illegal by RDF 1.0 which has complex rules for RDF XML Literals.\r\n\r\nI suspect it is because Jena 5.1.0 has the RDF 1.1 definition of RDF XML Literal.The implementation of the datatype has changed.\r\n\r\nIf namespaces are set it work as a `rdf:parseType=\"Literal\"` in Jena5\r\n\r\nJena 4.10 had the RDF 1.0 definition.\r\n\r\nTry this, then change the literal to \"<ns:text>ABC\" -  not handling an illegal rdf:XMLliteral properly in Jena5.\r\n\r\n```java\r\n    public static void main(String... args) {\r\n        String literal = \"<ns:text>ABC</ns:text>\";\r\n        var m = ModelFactory.createDefaultModel();//createOntologyModel();\r\n        m.createResource().addProperty(RDFS.comment, m.createTypedLiteral(literal, RDF.dtXMLLiteral));\r\n        m.setNsPrefix(\"ns\",  \"http://example/\");\r\n\r\n        System.out.println(\"---- Lang.TTL\");\r\n        RDFWriter.source(m).lang(Lang.TTL).output(System.out);\r\n        System.out.println(\"---- model - rdf/xml\");\r\n        m.write(System.out, \"rdf/xml\");\r\n        System.out.println(\"---- RDFFormat.RDFXML_ABBREV\");\r\n        RDFWriter.source(m).format(RDFFormat.RDFXML_ABBREV).output(System.out);\r\n        System.out.println(\"---- RDFFormat.RDFXML_PLAIN\");\r\n        RDFWriter.source(m).format(RDFFormat.RDFXML_PLAIN).output(System.out);\r\n        System.out.println(\"----\");\r\n\r\n        StringWriter sw = new StringWriter();\r\n        m.write(sw, \"rdf/xml\");\r\n        System.out.println(sw);\r\n        StringReader sr = new StringReader(sw.toString());\r\n        ModelFactory.createDefaultModel().read(sr, null, \"rdf/xml\");\r\n        System.out.println(\"---- done\");\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267650165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267652124","html_url":"https://github.com/apache/jena/issues/2620#issuecomment-2267652124","issue_url":"https://api.github.com/repos/apache/jena/issues/2620","id":2267652124,"node_id":"IC_kwDOAHF7Ec6HKaAc","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-04T19:59:44Z","updated_at":"2024-08-04T20:03:36Z","author_association":"MEMBER","body":"There are a lot of warnings.\r\n\r\nBut it parses for me using `riot` for both Jena 4.10.0 and Jena 5.1.0 - different RDF though.\r\nRDF/XML documents don't have to have a rdf:RDF.\r\n\r\nWould it be possible to have more concise examples of problems? It should only need a short example.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267652124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267653512","html_url":"https://github.com/apache/jena/issues/2619#issuecomment-2267653512","issue_url":"https://api.github.com/repos/apache/jena/issues/2619","id":2267653512,"node_id":"IC_kwDOAHF7Ec6HKaWI","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-04T20:04:42Z","updated_at":"2024-08-04T20:04:42Z","author_association":"MEMBER","body":"> Where's the `rdf:RDF` root element? It should contain the the namespace declarations.\r\n\r\nRDF/XML documents of a single element don't need to have `rdf:RDF`. See #2620.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2267653512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268267729","html_url":"https://github.com/apache/jena/issues/2620#issuecomment-2268267729","issue_url":"https://api.github.com/repos/apache/jena/issues/2620","id":2268267729,"node_id":"IC_kwDOAHF7Ec6HMwTR","user":{"login":"sszuev","id":17473366,"node_id":"MDQ6VXNlcjE3NDczMzY2","avatar_url":"https://avatars.githubusercontent.com/u/17473366?v=4","gravatar_id":"","url":"https://api.github.com/users/sszuev","html_url":"https://github.com/sszuev","followers_url":"https://api.github.com/users/sszuev/followers","following_url":"https://api.github.com/users/sszuev/following{/other_user}","gists_url":"https://api.github.com/users/sszuev/gists{/gist_id}","starred_url":"https://api.github.com/users/sszuev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sszuev/subscriptions","organizations_url":"https://api.github.com/users/sszuev/orgs","repos_url":"https://api.github.com/users/sszuev/repos","events_url":"https://api.github.com/users/sszuev/events{/privacy}","received_events_url":"https://api.github.com/users/sszuev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-05T06:24:00Z","updated_at":"2024-08-05T06:24:00Z","author_association":"CONTRIBUTOR","body":"What about this ?\r\n```java\r\nString data = \"\"\"\r\n        <?xml version=\"1.0\"?>\r\n        <Ontology xmlns=\"http://www.w3.org/2002/07/owl#\"\r\n             xml:base=\"http://www.w3.org/2002/07/owl#\"\r\n             xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n             xmlns:xml=\"http://www.w3.org/XML/1998/namespace\"\r\n             xmlns:xsd=\"http://www.w3.org/2001/XMLSchema#\"\r\n             xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\">\r\n            <Prefix name=\"owl\" IRI=\"http://www.w3.org/2002/07/owl#\"/>\r\n            <Prefix name=\"rdf\" IRI=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"/>\r\n            <Prefix name=\"xml\" IRI=\"http://www.w3.org/XML/1998/namespace\"/>\r\n            <Prefix name=\"xsd\" IRI=\"http://www.w3.org/2001/XMLSchema#\"/>\r\n            <Prefix name=\"rdfs\" IRI=\"http://www.w3.org/2000/01/rdf-schema#\"/>\r\n            <Declaration>\r\n                <Class IRI=\"http://x#X\"/>\r\n            </Declaration>\r\n        </Ontology>\r\n        \"\"\";\r\nModelFactory.createDefaultModel()\r\n        .read(new StringReader(data), null, \"rdf/xml\")\r\n        .setNsPrefixes(PrefixMapping.Standard).write(System.out, \"ttl\");\r\n```\r\noutput\r\n```\r\nPREFIX dc:   <http://purl.org/dc/elements/1.1/>\r\nPREFIX owl:  <http://www.w3.org/2002/07/owl#>\r\nPREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nPREFIX xsd:  <http://www.w3.org/2001/XMLSchema#>\r\n\r\n[ rdf:type         owl:Ontology;\r\n  owl:Declaration  [ rdf:type  owl:Class ];\r\n  owl:Prefix       \"\"\r\n] .\r\n```\r\nTo create such a document, OWLAPI or owlcs/ONTAPI can be used:\r\n```java\r\nOWLOntologyManager m = OntManagers.createOWLAPIImplManager();\r\nOWLOntology ont = m.createOntology();\r\nont.add(m.getOWLDataFactory().getOWLDeclarationAxiom(m.getOWLDataFactory().getOWLClass(IRI.create(\"http://x#X\"))));\r\nont.saveOntology(new OWLXMLDocumentFormat(), System.out);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268267729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268779015","html_url":"https://github.com/apache/jena/pull/2405#issuecomment-2268779015","issue_url":"https://api.github.com/repos/apache/jena/issues/2405","id":2268779015,"node_id":"IC_kwDOAHF7Ec6HOtIH","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-05T10:51:07Z","updated_at":"2024-08-05T10:51:07Z","author_association":"CONTRIBUTOR","body":"My bad, license headers should be fixed now.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268779015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268879778","html_url":"https://github.com/apache/jena/issues/2620#issuecomment-2268879778","issue_url":"https://api.github.com/repos/apache/jena/issues/2620","id":2268879778,"node_id":"IC_kwDOAHF7Ec6HPFui","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-05T11:46:36Z","updated_at":"2024-08-05T11:46:36Z","author_association":"MEMBER","body":"I can't make Jena4 cause an error parsing; it does throw an exception when writing the model due to a relative IRI for a property.\r\n\r\nJena4 parsing issues warnings, as does Jena5.\r\n\r\nThere is a difference output between Jena4 and Jena5.\r\n\r\n```xml\r\n<?xml version=\"1.0\"?>\r\n\r\n<Ontology xmlns:p=\"http://example/ns#\">\r\n  <Prefix p:name=\"rdf\"/>\r\n</Ontology>\r\n```\r\nwith `p:name` - no warnings. If the XML attribute is `name=` (no namespace) there is a warning.\r\n\r\nIn Jena4, ARP issues a warning and outputs a relative URI property. It also generate an relative URI for `Ontology`.\r\n\r\nIn Jena5, RRX issues a warning and skips the triple. It resolves the `Ontology` against the base (and there is always a base which may be external).\r\n\r\nThis is by design. In writing RRX, I checked all the cases ARP supports. It was decided by the RDF 1.0 WG that bare attributes were not legal - they had been in the earlier design phases but that never made it to a spec. So in RRX it a warning and skipping, it is not a hard error due to legacy with ARP. Relative URIs will get into trouble later!\r\n\r\nI'd be happy for that to become a error, not warning.\r\n\r\nThe fact that the doc parses as RDF/XML at all is because the root qname does not have to be `rdf:RDF`, for a single top-level element, that can be omitted. This is the case Jena4 and Jena5, in ARP and RRX.\r\n\r\nARP (0 - the original; 1 - more integrated into RIOT error handling) is available in Jena5, at the moment, as lang name \"arp0\", \"arp1\" or as a file extension, and deprecated constant `RRX.RDFXML_ARP0`\r\n\r\nExpect ARP0 to go away soon. \r\n\r\nARP1 was the RDF/XML parser from started in 4.7.0 to 4.10.0,\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268879778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268885380","html_url":"https://github.com/apache/jena/issues/2620#issuecomment-2268885380","issue_url":"https://api.github.com/repos/apache/jena/issues/2620","id":2268885380,"node_id":"IC_kwDOAHF7Ec6HPHGE","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-05T11:49:54Z","updated_at":"2024-08-05T11:49:54Z","author_association":"MEMBER","body":"As the distingushing RDF/XML from OWL/XML, it hard/impossible in the most general case. It would be better to read the input, snoop for the top level element and decide then reparse (all after checking MIME type and file extension if available).\r\n\r\nFile extension `owl` was never registered and in the wild, you can find `owl` for RDF/XML.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268885380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268909891","html_url":"https://github.com/apache/jena/issues/2620#issuecomment-2268909891","issue_url":"https://api.github.com/repos/apache/jena/issues/2620","id":2268909891,"node_id":"IC_kwDOAHF7Ec6HPNFD","user":{"login":"sszuev","id":17473366,"node_id":"MDQ6VXNlcjE3NDczMzY2","avatar_url":"https://avatars.githubusercontent.com/u/17473366?v=4","gravatar_id":"","url":"https://api.github.com/users/sszuev","html_url":"https://github.com/sszuev","followers_url":"https://api.github.com/users/sszuev/followers","following_url":"https://api.github.com/users/sszuev/following{/other_user}","gists_url":"https://api.github.com/users/sszuev/gists{/gist_id}","starred_url":"https://api.github.com/users/sszuev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sszuev/subscriptions","organizations_url":"https://api.github.com/users/sszuev/orgs","repos_url":"https://api.github.com/users/sszuev/repos","events_url":"https://api.github.com/users/sszuev/events{/privacy}","received_events_url":"https://api.github.com/users/sszuev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-05T12:03:52Z","updated_at":"2024-08-05T12:03:52Z","author_association":"CONTRIBUTOR","body":"> I can't make Jena4 cause an error parsing; it does throw an exception when writing the model due to a relative IRI for a property.\r\n\r\nIt seems need to use the original ontology document https://github.com/owlcs/ont-api/blob/4.x.x/src/test/resources/owlapi/owlxml_anonloop.owx\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2268909891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2269154700","html_url":"https://github.com/apache/jena/issues/2620#issuecomment-2269154700","issue_url":"https://api.github.com/repos/apache/jena/issues/2620","id":2269154700,"node_id":"IC_kwDOAHF7Ec6HQI2M","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-05T14:01:17Z","updated_at":"2024-08-05T14:01:17Z","author_association":"MEMBER","body":"What's the error message, and is there a small extract that picks up the feature in error?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2269154700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2269166214","html_url":"https://github.com/apache/jena/issues/2620#issuecomment-2269166214","issue_url":"https://api.github.com/repos/apache/jena/issues/2620","id":2269166214,"node_id":"IC_kwDOAHF7Ec6HQLqG","user":{"login":"sszuev","id":17473366,"node_id":"MDQ6VXNlcjE3NDczMzY2","avatar_url":"https://avatars.githubusercontent.com/u/17473366?v=4","gravatar_id":"","url":"https://api.github.com/users/sszuev","html_url":"https://github.com/sszuev","followers_url":"https://api.github.com/users/sszuev/followers","following_url":"https://api.github.com/users/sszuev/following{/other_user}","gists_url":"https://api.github.com/users/sszuev/gists{/gist_id}","starred_url":"https://api.github.com/users/sszuev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sszuev/subscriptions","organizations_url":"https://api.github.com/users/sszuev/orgs","repos_url":"https://api.github.com/users/sszuev/repos","events_url":"https://api.github.com/users/sszuev/events{/privacy}","received_events_url":"https://api.github.com/users/sszuev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-05T14:06:20Z","updated_at":"2024-08-05T14:06:20Z","author_association":"CONTRIBUTOR","body":"```\r\n<?xml version=\"1.0\"?>\r\n<Ontology xmlns=\"http://www.w3.org/2002/07/owl#\"\r\n     xml:base=\"http://www.derivo.de/ontologies/examples/anonymous-individuals\"\r\n     xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\"\r\n     xmlns:xsd=\"http://www.w3.org/2001/XMLSchema#\"\r\n     xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\r\n     xmlns:xml=\"http://www.w3.org/XML/1998/namespace\"\r\n     ontologyIRI=\"http://www.derivo.de/ontologies/examples/anonymous-individuals\">\r\n    <Prefix name=\"\" IRI=\"http://www.derivo.de/ontologies/examples/anonymous-individuals#\"/>\r\n    <Prefix name=\"owl\" IRI=\"http://www.w3.org/2002/07/owl#\"/>\r\n    <Prefix name=\"rdf\" IRI=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"/>\r\n    <Prefix name=\"xsd\" IRI=\"http://www.w3.org/2001/XMLSchema#\"/>\r\n    <Prefix name=\"rdfs\" IRI=\"http://www.w3.org/2000/01/rdf-schema#\"/>\r\n    <ClassAssertion>\r\n        <Class IRI=\"#C\"/>\r\n        <AnonymousIndividual nodeID=\"a\"/>\r\n    </ClassAssertion>\r\n</Ontology>\r\n```\r\n```\r\nException in thread \"main\" org.apache.jena.riot.RiotException: [line: 16, col: 42] {E201} Multiple children of property element\r\n\tat org.apache.jena.riot.system.ErrorHandlerFactory$ErrorHandlerStd.error(ErrorHandlerFactory.java:160)\r\n\tat org.apache.jena.riot.lang.ReaderRIOTRDFXML$ErrorHandlerBridge.error(ReaderRIOTRDFXML.java:292)\r\n\tat org.apache.jena.rdfxml.xmlinput.impl.ARPSaxErrorHandler.error(ARPSaxErrorHandler.java:37)\r\n\tat org.apache.jena.rdfxml.xmlinput.impl.XMLHandler.warning(XMLHandler.java:206)\r\n\tat org.apache.jena.rdfxml.xmlinput.impl.XMLHandler.warning(XMLHandler.java:183)\r\n\tat org.apache.jena.rdfxml.xmlinput.impl.XMLHandler.warning(XMLHandler.java:178)\r\n\tat org.apache.jena.rdfxml.xmlinput.impl.ParserSupport.warning(ParserSupport.java:147)\r\n\tat org.apache.jena.rdfxml.xmlinput.states.Frame.warning(Frame.java:57)\r\n\tat org.apache.jena.rdfxml.xmlinput.states.WantLiteralValueOrDescription.startElement(WantLiteralValueOrDescription.java:38)\r\n\tat org.apache.jena.rdfxml.xmlinput.impl.XMLHandler.startElement(XMLHandler.java:121)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:510)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:183)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:351)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2710)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:534)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:888)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:824)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1216)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:635)\r\n\tat org.apache.jena.rdfxml.xmlinput.impl.RDFXMLParser.parse(RDFXMLParser.java:100)\r\n\tat org.apache.jena.rdfxml.xmlinput.impl.RDFXMLParser.parse(RDFXMLParser.java:88)\r\n\tat org.apache.jena.rdfxml.xmlinput.ARP.load(ARP.java:101)\r\n\tat org.apache.jena.riot.lang.ReaderRIOTRDFXML.parse(ReaderRIOTRDFXML.java:173)\r\n\tat org.apache.jena.riot.lang.ReaderRIOTRDFXML.read(ReaderRIOTRDFXML.java:72)\r\n\tat org.apache.jena.riot.RDFParser.read(RDFParser.java:420)\r\n\tat org.apache.jena.riot.RDFParser.parseNotUri(RDFParser.java:406)\r\n\tat org.apache.jena.riot.RDFParser.parse(RDFParser.java:356)\r\n\tat org.apache.jena.riot.RDFParserBuilder.parse(RDFParserBuilder.java:570)\r\n\tat org.apache.jena.riot.RDFDataMgr.parseFromReader(RDFDataMgr.java:728)\r\n\tat org.apache.jena.riot.RDFDataMgr.read(RDFDataMgr.java:287)\r\n\tat org.apache.jena.riot.RDFDataMgr.read(RDFDataMgr.java:271)\r\n\tat org.apache.jena.riot.adapters.RDFReaderRIOT.read(RDFReaderRIOT.java:62)\r\n\tat org.apache.jena.rdf.model.impl.ModelCom.read(ModelCom.java:245)\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2269166214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2269387320","html_url":"https://github.com/apache/jena/pull/2373#issuecomment-2269387320","issue_url":"https://api.github.com/repos/apache/jena/issues/2373","id":2269387320,"node_id":"IC_kwDOAHF7Ec6HRBo4","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-05T15:47:43Z","updated_at":"2024-08-05T15:47:43Z","author_association":"MEMBER","body":"Hi @kinow,\r\n\r\nReading back ...\r\n\r\nIf the client is doing checking and it will give better error messages. e.g. no actual spaces !!!\r\nThe server is going to check anyway but all it can say to a request is \"no\" or \"yes\".\r\n\r\nIf the client side parses the URI with [uri-js](https://www.npmjs.com/package/uri-js/) that should be good. It is RFC 3986 compliant.\r\n\r\nAddition checks for common mistakes (spaces!) are nice - better error messages. \r\n\r\nAside :: On the server side, Java java.net.URI is not good - it's more like the old [RFC 2396](https://datatracker.ietf.org/doc/html/rfc2396), not [RFC3986](https://datatracker.ietf.org/doc/html/rfc3986). Jena does not use it.\r\n\r\nPercent should be allowed end-to-end - a URI really does have `%-2-3` in it. The URI parser should be happy then when sent the request should be making it a safe - avoid applying the algorithm twice, once in Jane JS code and once by the HTTP client. The receiving code should decode the request properly once.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2269387320/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2271499391","html_url":"https://github.com/apache/jena/issues/2619#issuecomment-2271499391","issue_url":"https://api.github.com/repos/apache/jena/issues/2619","id":2271499391,"node_id":"IC_kwDOAHF7Ec6HZFR_","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-06T14:56:18Z","updated_at":"2024-08-06T14:56:18Z","author_association":"MEMBER","body":"Changes at Jena5 affected the RDF/XML writer. It does not properly test for a legal `rdf:XMLLiteral`. \r\n\r\nThe lexical space of a xml literal must be a self contained XML document fragment - it must include it's namepsaces.\r\nhttps://www.w3.org/TR/rdf11-concepts/#section-XMLLiteral\r\n\r\nThe example above is not a valid literal.\r\n\r\nIt therefore should be written with `rdf:datatype`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2271499391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2272939032","html_url":"https://github.com/apache/jena/pull/2624#issuecomment-2272939032","issue_url":"https://api.github.com/repos/apache/jena/issues/2624","id":2272939032,"node_id":"IC_kwDOAHF7Ec6HekwY","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-07T08:41:10Z","updated_at":"2024-08-07T08:41:10Z","author_association":"MEMBER","body":"> Looked at ci-builds.apache.org to see if this had been tested, but couldn't find a successful run. And the UI seems to be failing on Jenkins (I think I read somewhere about Cypress). Will look into that, but I updated these libs recently in another project. Only had issue with vitest + istanbul coverage (which is not included here). So I think it should be OK to update.\r\n\r\nYes, the development test build isn't working. It's a dependencies issue with Cypress with the host environment (old LTS of Ubuntu) - details on the mailing list.\r\n\r\nAnd we don't have a PR builder.\r\n\r\nI pulled this PR and built it locally in maven. No problems.\r\n \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2272939032/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2272976579","html_url":"https://github.com/apache/jena/issues/2620#issuecomment-2272976579","issue_url":"https://api.github.com/repos/apache/jena/issues/2620","id":2272976579,"node_id":"IC_kwDOAHF7Ec6Het7D","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-07T09:00:31Z","updated_at":"2024-08-07T09:00:31Z","author_association":"MEMBER","body":"The error occurs because of two objects:\r\n\r\n```\r\n        <Outer xmlns=\"http://BASE/\">\r\n          <Prop>\r\n            <A/>\r\n            <B/>\r\n          </Prop>\r\n        </Outer>\r\n```\r\n\r\nOnly the SAX based RRX parser is affected - the two StAX based ones, and ARP, detect this mistake.\r\n\r\nParsing OWLx (\".owx\") as RDF/XML and expecting an error isn't guaranteed. There are some simple documents that will pass.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2272976579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2275620147","html_url":"https://github.com/apache/jena/issues/2626#issuecomment-2275620147","issue_url":"https://api.github.com/repos/apache/jena/issues/2626","id":2275620147,"node_id":"IC_kwDOAHF7Ec6HozUz","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-08T11:45:44Z","updated_at":"2024-08-08T11:50:12Z","author_association":"MEMBER","body":"Yes it is well formed RDF/XML or Jena would have produced a parser error\n\nYou have received a warning because as the warning states the URI used doesn't meet the rules for the `urn` URI scheme. Jena still processes it just fine it's just making you aware you have potential issues in your data\n\nWarning != Error\n\nFWIW there's plenty of malformed `urn` URIs out in the wild, it's not necessarily a problem unless your data encounters a system that strictly enforced URI scheme rules ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2275620147/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2275714886","html_url":"https://github.com/apache/jena/issues/2626#issuecomment-2275714886","issue_url":"https://api.github.com/repos/apache/jena/issues/2626","id":2275714886,"node_id":"IC_kwDOAHF7Ec6HpKdG","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-08T12:35:58Z","updated_at":"2024-08-08T12:35:58Z","author_association":"MEMBER","body":"URNs have two mandatory parts NID and NSS\r\n\r\n` \"urn\" \":\" NID \":\" NSS`\r\n\r\nNamespace Identifier (NID)\r\nNamespace Specific String (NSS)\r\n\r\nhttps://datatracker.ietf.org/doc/html/rfc8141\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2275714886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2276374652","html_url":"https://github.com/apache/jena/issues/2626#issuecomment-2276374652","issue_url":"https://api.github.com/repos/apache/jena/issues/2626","id":2276374652,"node_id":"IC_kwDOAHF7Ec6Hrrh8","user":{"login":"justin2004","id":16325158,"node_id":"MDQ6VXNlcjE2MzI1MTU4","avatar_url":"https://avatars.githubusercontent.com/u/16325158?v=4","gravatar_id":"","url":"https://api.github.com/users/justin2004","html_url":"https://github.com/justin2004","followers_url":"https://api.github.com/users/justin2004/followers","following_url":"https://api.github.com/users/justin2004/following{/other_user}","gists_url":"https://api.github.com/users/justin2004/gists{/gist_id}","starred_url":"https://api.github.com/users/justin2004/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justin2004/subscriptions","organizations_url":"https://api.github.com/users/justin2004/orgs","repos_url":"https://api.github.com/users/justin2004/repos","events_url":"https://api.github.com/users/justin2004/events{/privacy}","received_events_url":"https://api.github.com/users/justin2004/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-08T18:00:12Z","updated_at":"2024-08-08T18:00:12Z","author_association":"NONE","body":"thanks guys!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2276374652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2281429482","html_url":"https://github.com/apache/jena/issues/2617#issuecomment-2281429482","issue_url":"https://api.github.com/repos/apache/jena/issues/2617","id":2281429482,"node_id":"IC_kwDOAHF7Ec6H-9nq","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-10T12:20:55Z","updated_at":"2024-12-19T10:31:45Z","author_association":"CONTRIBUTOR","body":"This is a working example:\r\n\r\n**using command line hasher:** (https://shiro.apache.org/command-line-hasher.html)\r\n```bash\r\n# change shiro version to current version in case of  updated/improved defaults \r\nexport SHIRO_VERSION=2.0.1\r\n# download shiro-tools-hasher to local repository\r\nmvn dependency:get -DgroupId=org.apache.shiro.tools -DartifactId=shiro-tools-hasher -Dclassifier=cli -Dversion=$SHIRO_VERSION\r\n```\r\n```console\r\n# output\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------< org.apache.maven:standalone-pom >-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- dependency:3.7.0:get (default-cli) @ standalone-pom ---\r\n[INFO] Resolving org.apache.shiro.tools:shiro-tools-hasher:jar:cli:2.0.1 with transitive dependencies\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.802 s\r\n[INFO] Finished at: 2024-08-10T13:25:46+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n```bash\r\n# for more fine-grained control of configuring consult the shiro-tools-hasher docs, or run it with no parameters to list options\r\n# run shiro-tools-hasher from local repository\r\njava -jar ~/.m2/repository/org/apache/shiro/tools/shiro-tools-hasher/${SHIRO_VERSION}/shiro-tools-hasher-${SHIRO_VERSION}-cli.jar -p\r\n```\r\n```\r\n# cli prompts for password using the default configurations\r\n# \"pw\" used as input in this example\r\n*Password to hash: *\r\n*Password to hash (confirm): *\r\n```\r\n\r\n```\r\n# output\r\n*$shiro2$argon2id$v=19$t=1,m=65536,p=4$Wr/2XKxWeYZt8JE5HCONQw$yev4bLiGzbeIZ8qDWrIY7J2msL2vRO/aYksb4RMeX7Y*\r\n```\r\n\r\n**shiro.ini**\r\n```\r\n[main]\r\npasswordMatcher = org.apache.shiro.authc.credential.PasswordMatcher\r\niniRealm.credentialsMatcher = $passwordMatcher\r\n\r\n[users]\r\n# quote is required around the supplied string for shiro to properly parse parameters\r\nexample=\"$shiro2$argon2id$v=19$t=1,m=65536,p=4$Wr/2XKxWeYZt8JE5HCONQw$yev4bLiGzbeIZ8qDWrIY7J2msL2vRO/aYksb4RMeX7Y\"\r\n\r\n[urls]\r\n/** = authcBasic,user[example]\r\n\r\n```\r\n\r\nSince unencrypted still works, should both versions be present and commented in the ini files and the docs, or should the current configuration be replaced?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2281429482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2284034104","html_url":"https://github.com/apache/jena/issues/2638#issuecomment-2284034104","issue_url":"https://api.github.com/repos/apache/jena/issues/2638","id":2284034104,"node_id":"IC_kwDOAHF7Ec6II5g4","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-12T13:43:50Z","updated_at":"2024-08-13T14:21:30Z","author_association":"CONTRIBUTOR","body":"I stumbled upon the commit that you re-added `-proc:none` - which conflicted before with https://github.com/apache/jena/pull/2493#issuecomment-2143961015\r\n\r\nPerhaps the option could go into a property which defaults to `-proc:none` but which can be overridden on the jmh module?\r\n\r\n```xml\r\n<!-- in main pom.xml -->\r\n<properties>\r\n  <compiler.proc>-proc:none</compiler.proc>\r\n</properties>\r\n...\r\n<compilerArgs>\r\n  <arg>${compiler.proc}</arg>\r\n</compilerArgs>\r\n```\r\n\r\n```xml\r\n<!-- in benchmark pom.xml -->\r\n<properties>\r\n  <compiler.proc></compiler.proc>\r\n</properties>\r\n```\r\n\r\nif an effectively empty `<arg />` causes warning/error, then perhaps a dummy arg (not sure which) could be used.\r\nAlternatively, the benchmark module could have its own compiler plugin section.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2284034104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2285835669","html_url":"https://github.com/apache/jena/pull/2639#issuecomment-2285835669","issue_url":"https://api.github.com/repos/apache/jena/issues/2639","id":2285835669,"node_id":"IC_kwDOAHF7Ec6IPxWV","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-13T09:47:25Z","updated_at":"2024-08-13T09:47:25Z","author_association":"MEMBER","body":"This is a step forward on #2638. When checking the build output, there are fewer WARNING log messages which makes scanning the output for new items of note easier.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2285835669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2285844673","html_url":"https://github.com/apache/jena/issues/2616#issuecomment-2285844673","issue_url":"https://api.github.com/repos/apache/jena/issues/2616","id":2285844673,"node_id":"IC_kwDOAHF7Ec6IPzjB","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-13T09:52:11Z","updated_at":"2024-08-13T15:28:23Z","author_association":"MEMBER","body":"Reproduced outside Fuseki and reduced to smaller data.\r\nThe NPE occurs on the attempt to delete <code>rdfs:range rdfs:subPropertyOf rdfs:range</code>.\r\n\r\n```java\r\n    public static void testCaseGH2616() {\r\n        JenaSystem.init();\r\n        String PREFIXES = \"\"\"\r\n                PREFIX rdfs:   <http://www.w3.org/2000/01/rdf-schema#>\r\n                PREFIX rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n\r\n                \"\"\";\r\n        String queryString = PREFIXES + \"\"\"\r\n                SELECT * {\r\n                   VALUES ?s { rdfs:range rdfs:subPropertyOf }\r\n                    ?s ?p ?o .\r\n                }\r\n                    \"\"\";\r\n        String updateString = PREFIXES + \"\"\"\r\n                DELETE {?s ?p ?o}\r\n                WHERE {\r\n                   VALUES ?s {\r\n                       ## Only this order, both needed, one single operation.\r\n                       rdfs:range\r\n                       rdfs:subPropertyOf\r\n                    }\r\n                    ?s ?p ?o .\r\n                    ## Exclude this and there is no NPE\r\n                    ##FILTER ( ! ( ?s = rdfs:range && ?p = rdfs:subPropertyOf && ?o = rdfs:range ) )\r\n\r\n                    ## No effect - this isn't reached in the gathered triples to delete.\r\n                    ##FILTER ( ! ( ?s = rdfs:subPropertyOf && ?p = rdf:type && ?o = rdf:Property ) )\r\n                }\r\n                    \"\"\";\r\n\r\n        String data = PREFIXES + \"\"\"\r\n                    ## Triple that triggers the problem.\r\n                    rdfs:range  rdfs:subPropertyOf  rdfs:range .\r\n                    ## Must be   rdf:type rdf:Property\r\n                    rdfs:subPropertyOf  rdf:type  rdf:Property .\r\n                \"\"\";\r\n\r\n        Model base = RDFParser.fromString(data, Lang.TTL).toModel();\r\n        InfModel inf = ModelFactory.createRDFSModel(base);\r\n\r\n        // This is the delete order\r\n        System.out.println(\"==== Deletes preview:\");\r\n        try ( QueryExecution qExec = QueryExecution.model(inf).query(queryString).build()) {\r\n            ResultSetFormatter.out(qExec.execSelect(),qExec.getQuery());\r\n        }\r\n\r\n        System.out.println(\"==== Update\");\r\n        System.out.flush();\r\n        Dataset ds = DatasetFactory.wrap(inf);\r\n        UpdateExecution uExec = UpdateExecution\r\n                    //.model(inf)\r\n                    .dataset(ds)\r\n                    .update(updateString)\r\n                    .build();\r\n\r\n        uExec.execute();\r\n        System.out.println(\"DONE\");\r\n    }\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2285844673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2286382687","html_url":"https://github.com/apache/jena/pull/2639#issuecomment-2286382687","issue_url":"https://api.github.com/repos/apache/jena/issues/2639","id":2286382687,"node_id":"IC_kwDOAHF7Ec6IR25f","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-13T14:20:43Z","updated_at":"2024-08-13T14:20:43Z","author_association":"CONTRIBUTOR","body":"I left a note about the -proc commit which I stumbled across: https://github.com/apache/jena/issues/2638#issuecomment-2284034104","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2286382687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2286575871","html_url":"https://github.com/apache/jena/issues/2638#issuecomment-2286575871","issue_url":"https://api.github.com/repos/apache/jena/issues/2638","id":2286575871,"node_id":"IC_kwDOAHF7Ec6ISmD_","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-13T15:47:29Z","updated_at":"2024-08-13T15:47:29Z","author_association":"MEMBER","body":"It really would be helpful to have the build only output what is necessary because when new output occurs, it can get missed. The build output is currently about 6,500 lines.\r\n\r\nI'm not sure setting the property will work - when does the substitution happen? The compiler plugin can't be declared in `<build>` in the top POM because then every module gets the compiler plugin.\r\n\r\nPutting a configuration into the compiler plugin for `jena-benchmarks-jmh` seems the best choice - it's clearest.\r\n\r\nWhat should the `-proc` setting be `jena-benchmarks-jmh`? `-proc:full` seems to work, `-proc:only` does not.\r\n\r\nOther:\r\nAdded to this PR.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2286575871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2286759448","html_url":"https://github.com/apache/jena/issues/2638#issuecomment-2286759448","issue_url":"https://api.github.com/repos/apache/jena/issues/2638","id":2286759448,"node_id":"IC_kwDOAHF7Ec6ITS4Y","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-13T17:26:50Z","updated_at":"2024-08-13T17:29:37Z","author_association":"CONTRIBUTOR","body":"I suppose `-proc:full` is the future - but overall it seems it might be a pain because of different behavior with past and future Java versions, see: https://inside.java/2024/06/18/quality-heads-up/\r\n\r\n\r\n> Putting a configuration into the compiler plugin for jena-benchmarks-jmh seems the best choice - it's clearest.\r\n\r\nI think so too.\r\nI am not sure about the exact implications with proc:full - in the worst case this module would need legacy profile for the java compiler without the -proc:full option. But this could be done as a separate PR.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2286759448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2288132316","html_url":"https://github.com/apache/jena/issues/2638#issuecomment-2288132316","issue_url":"https://api.github.com/repos/apache/jena/issues/2638","id":2288132316,"node_id":"IC_kwDOAHF7Ec6IYiDc","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-14T08:19:42Z","updated_at":"2024-08-14T08:19:42Z","author_association":"MEMBER","body":"https://inside.java/2024/06/18/quality-heads-up/ :\r\n> As of the April 2024 JDK security updates, support for -proc:full has been backported to 17u (17.0.11) and 11u (11.0.23) for both Oracle JDK and OpenJDK distributions. Additionally, Oracle’s 8u release (8u411) also supports -proc:full.\r\n\r\nFor OpenJDK, no legacy profile is needed, only an up-to-date compiler for Java17.\r\n\r\nWe could set `-processor*` for `jena-benchmarks-jmh`.\r\n\r\nI tried the POM setup in https://www.baeldung.com/java-microbenchmark-harness#start (briefly) but I found that it still needed `-proc` but that should work.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2288132316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2288177667","html_url":"https://github.com/apache/jena/pull/2641#issuecomment-2288177667","issue_url":"https://api.github.com/repos/apache/jena/issues/2641","id":2288177667,"node_id":"IC_kwDOAHF7Ec6IYtID","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-14T08:38:38Z","updated_at":"2024-08-14T08:38:38Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2288177667/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2288177915","html_url":"https://github.com/apache/jena/pull/2642#issuecomment-2288177915","issue_url":"https://api.github.com/repos/apache/jena/issues/2642","id":2288177915,"node_id":"IC_kwDOAHF7Ec6IYtL7","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-14T08:38:46Z","updated_at":"2024-08-14T08:38:46Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2288177915/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2288178113","html_url":"https://github.com/apache/jena/pull/2643#issuecomment-2288178113","issue_url":"https://api.github.com/repos/apache/jena/issues/2643","id":2288178113,"node_id":"IC_kwDOAHF7Ec6IYtPB","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-14T08:38:53Z","updated_at":"2024-08-14T08:38:53Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2288178113/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2295298347","html_url":"https://github.com/apache/jena/pull/2595#issuecomment-2295298347","issue_url":"https://api.github.com/repos/apache/jena/issues/2595","id":2295298347,"node_id":"IC_kwDOAHF7Ec6Iz3kr","user":{"login":"ajtucker","id":261235,"node_id":"MDQ6VXNlcjI2MTIzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/261235?v=4","gravatar_id":"","url":"https://api.github.com/users/ajtucker","html_url":"https://github.com/ajtucker","followers_url":"https://api.github.com/users/ajtucker/followers","following_url":"https://api.github.com/users/ajtucker/following{/other_user}","gists_url":"https://api.github.com/users/ajtucker/gists{/gist_id}","starred_url":"https://api.github.com/users/ajtucker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajtucker/subscriptions","organizations_url":"https://api.github.com/users/ajtucker/orgs","repos_url":"https://api.github.com/users/ajtucker/repos","events_url":"https://api.github.com/users/ajtucker/events{/privacy}","received_events_url":"https://api.github.com/users/ajtucker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-18T15:19:21Z","updated_at":"2024-08-18T15:19:21Z","author_association":"CONTRIBUTOR","body":"> There functions for the tests in `RiotChars`. Having one place is better and also the `RiotChars` are not dependent of what Java defines as a letter or digit which is Unicode version dependent.\r\n\r\nThanks. I missed these when looking, being thrown by suspecting that the parser source had been generated.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2295298347/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2296635982","html_url":"https://github.com/apache/jena/issues/2645#issuecomment-2296635982","issue_url":"https://api.github.com/repos/apache/jena/issues/2645","id":2296635982,"node_id":"IC_kwDOAHF7Ec6I4-JO","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-19T13:52:33Z","updated_at":"2024-08-19T13:52:33Z","author_association":"MEMBER","body":"There is a profile in `jena-service-enhancer` to do a similar thing.\r\n\r\nOnly having a shaded jena-geosparql could risk choosing the version of a  dependency the application may be including directly.\r\n\r\nA hack that may work is to add `jena-fuseki-geosparql` to extras because the extras are at the end of the classpath. The duplication should be safe and the earlier choices taken. But it is a bit of a hack. (Not tested.)\r\n\r\nLong term (no timescale!), I'd like to have `jena-fuseki-fulljar` be Fuseki Main+modules. There would modules for the admin functions, two UI modules (split in two as \"workbench\" and \"admin UI\"), geosparql, Shiro, prometheus and maybe others. It woudl be possible to enable/disable modules from the config.ttl or the command line.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2296635982/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2297548787","html_url":"https://github.com/apache/jena/issues/2645#issuecomment-2297548787","issue_url":"https://api.github.com/repos/apache/jena/issues/2645","id":2297548787,"node_id":"IC_kwDOAHF7Ec6I8c_z","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-19T22:09:56Z","updated_at":"2024-08-19T22:09:56Z","author_association":"CONTRIBUTOR","body":"Thank you for the information.\r\n\r\nThe `jena-service-enhancer` jar profile `bundle` which shades it, is not running during the normal build, and has to be activated, to run.  For the short term, would an inactive similar `bundle` profile for `jena-geosparql` have the same purpose as moving it to the end of jena-extra, e.g not interfere with dependencies, unless activated? It looks like the bundle profile would have to run from the sub-directories, like the example in the service enhancer docs. The artifacts that needs to be bundled, could then run after the main build has finished, as extra steps? (Changing to directories, running with -Pbundle set).\r\n\r\nLong term solution sounds neat. A fork of AFS/fuseki-mods, https://github.com/AKSW/fuseki-mods/tree/adaptions/jena-fmod-geosparql added geosparql as one of the modules, but is a bit behind on version.\r\n\r\nIn my experience there seems to often be issues with dropping in jars. New missing classes from dependencies etc., I should try to use/learn a more maven/java centric configuration/setup.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2297548787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299140467","html_url":"https://github.com/apache/jena/pull/2595#issuecomment-2299140467","issue_url":"https://api.github.com/repos/apache/jena/issues/2595","id":2299140467,"node_id":"IC_kwDOAHF7Ec6JChlz","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-20T15:28:39Z","updated_at":"2024-08-20T15:28:39Z","author_association":"MEMBER","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299140467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299306253","html_url":"https://github.com/apache/jena/issues/2650#issuecomment-2299306253","issue_url":"https://api.github.com/repos/apache/jena/issues/2650","id":2299306253,"node_id":"IC_kwDOAHF7Ec6JDKEN","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-20T16:46:34Z","updated_at":"2024-08-20T16:46:34Z","author_association":"MEMBER","body":"`initialBinding()` is deprecated because it has far more inconsistent behaviour. It relies upon internal details of Jena's query engine so behaviour has changed )often subtly) over time as internals have changed. Also injecting parameters in this way means they don't have any effect of optimisation so could get worse performance.\n\nAnother alternative to substitution is to use parameterised strings which relies on textual replacement so may be another option","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299306253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299601430","html_url":"https://github.com/apache/jena/issues/2650#issuecomment-2299601430","issue_url":"https://api.github.com/repos/apache/jena/issues/2650","id":2299601430,"node_id":"IC_kwDOAHF7Ec6JESIW","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-20T19:24:16Z","updated_at":"2024-08-20T19:33:05Z","author_association":"CONTRIBUTOR","body":"Funny that just today I stumbled over the same issue: In [ExprTransformNodeElement](https://github.com/apache/jena/blob/c84f8df37f8523c185ab678f7deec00abaa0f133/jena-arq/src/main/java/org/apache/jena/sparql/syntax/syntaxtransform/ExprTransformNodeElement.java#L34) I had added the following as a fix in my own copy of the class which just today I wanted to remove from my code base :smile: \r\n\r\n```java\r\n    @Override\r\n    public Expr transform(ExprAggregator eAgg) {\r\n        return eAgg.applyNodeTransform(nodeTransform);\r\n    }\r\n```\r\n\r\n> I don't know if that's a bug or intended. \r\n\r\nMe neither, that's why I was living with my own copy so far.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299601430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299649087","html_url":"https://github.com/apache/jena/issues/2645#issuecomment-2299649087","issue_url":"https://api.github.com/repos/apache/jena/issues/2645","id":2299649087,"node_id":"IC_kwDOAHF7Ec6JEdw_","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-20T19:51:55Z","updated_at":"2024-08-20T20:16:19Z","author_association":"CONTRIBUTOR","body":"> A fork of AFS/fuseki-mods, https://github.com/AKSW/fuseki-mods/tree/adaptions/jena-fmod-geosparql added geosparql as one of the modules, but is a bit behind on version.\r\n\r\nJust a note on the fork: The module uses an adapted version of jena-geosparql (based on our AKSW/jena fork) where @LorenzBuehmann and @SimonBin added support for having spatial indexes on a per graph basis. The current module only supports one index over all graphs. The fuseki module also adds a little servlet where one can manually trigger recreation of the index for selected graphs or all.\r\n\r\nThe main problem is, that jena-geosparql somewhat incorrectly builds upon the Resource abstraction, whereas Node would have been better, because the latter is serializable and the former not. So Lorenz retrofitted serialization with [kryo](https://github.com/EsotericSoftware/kryo) but this is under BSD3 license and AFAIK incompatible with Apache V2. The right solution would be to replace most references to Resource with Node in jena-geosparql, but unfortunately so far we didn't have time to address this.\r\n\r\n(An evaluation of this was also part of our GeoSPARQL/Jena presentation at the [GeoLD workshop](https://i3mainz.github.io/GeoLD2024/#submission) at ESWC2024: [slides](https://i3mainz.github.io/GeoLD2024/presentations/paper2_presentation.pdf), p15, p16. When we find time we'd like to contribute the good parts back, but so far no timeline.)\r\n\r\n\r\nOf course we'd also favor a long term solution for managing Fuseki modules.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299649087/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299762250","html_url":"https://github.com/apache/jena/issues/2650#issuecomment-2299762250","issue_url":"https://api.github.com/repos/apache/jena/issues/2650","id":2299762250,"node_id":"IC_kwDOAHF7Ec6JE5ZK","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-20T21:04:04Z","updated_at":"2024-08-20T21:18:41Z","author_association":"MEMBER","body":"@shawnsmith - Thank you for the detailed report.\r\n\r\nIt's a bug.\r\n\r\n@Aklakan's fix should do it - `QueryTransformOps.transform` does not take scoping into account.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299762250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299820240","html_url":"https://github.com/apache/jena/pull/2405#issuecomment-2299820240","issue_url":"https://api.github.com/repos/apache/jena/issues/2405","id":2299820240,"node_id":"IC_kwDOAHF7Ec6JFHjQ","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-20T21:46:50Z","updated_at":"2024-08-20T21:46:50Z","author_association":"MEMBER","body":"Hi @Aklakan,\r\n\r\nJust checking - is this stable now?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2299820240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301216813","html_url":"https://github.com/apache/jena/pull/2405#issuecomment-2301216813","issue_url":"https://api.github.com/repos/apache/jena/issues/2405","id":2301216813,"node_id":"IC_kwDOAHF7Ec6JKcgt","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-21T06:17:08Z","updated_at":"2024-08-21T06:17:08Z","author_association":"CONTRIBUTOR","body":"Yes, it's stable.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301216813/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301327663","html_url":"https://github.com/apache/jena/issues/2654#issuecomment-2301327663","issue_url":"https://api.github.com/repos/apache/jena/issues/2654","id":2301327663,"node_id":"IC_kwDOAHF7Ec6JK3kv","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-21T07:25:03Z","updated_at":"2024-08-21T07:25:03Z","author_association":"CONTRIBUTOR","body":"Hi, \r\nThe `org.apache.jena.graph.NodeFactory` still offers plenty of ways to create literals.\r\nWhich kind of literal do you want to create?\r\n  \r\n  Arne","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301327663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301626062","html_url":"https://github.com/apache/jena/issues/2654#issuecomment-2301626062","issue_url":"https://api.github.com/repos/apache/jena/issues/2654","id":2301626062,"node_id":"IC_kwDOAHF7Ec6JMAbO","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-21T09:46:25Z","updated_at":"2024-08-21T09:46:25Z","author_association":"MEMBER","body":"`rdf:parseType=\"Literal\"` is the RDF/XML form syntax.\r\n\r\nIt may not get written out using `rdf:parseType=\"Literal\"` because that only happens if the value is valid for the `rdf:XMLLiteral` value space. Otherwise, it will be written with `rdf:datatype` and a string with escaped XML characters.\r\n\r\nJena 5.1.0 supports the RDF 1.1 definition of the value space. While simpler than the RDF 1.0 definition of exclusive canonicalization, it still quite complicated.\r\n\r\nhttps://www.w3.org/TR/rdf11-concepts/#section-XMLLiteral\r\n\r\nEither way of writing is the same RDF term.\r\n\r\n`NodeFactory`:\r\n```java\r\n    NodeFactory.createLiteralDT(String, RDF.dtXMLLiteral)`.\r\n```\r\n\r\n`RDF.dtXMLLiteral`is an `RDFDatatype`.\r\n\r\nand for `Model`:\r\n\r\n```\r\n    Literal createTypedLiteral(String lex, RDF.dtXMLLiteral);\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301626062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301692534","html_url":"https://github.com/apache/jena/issues/2645#issuecomment-2301692534","issue_url":"https://api.github.com/repos/apache/jena/issues/2645","id":2301692534,"node_id":"IC_kwDOAHF7Ec6JMQp2","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-21T10:20:04Z","updated_at":"2024-08-21T10:20:04Z","author_association":"MEMBER","body":"The conditions for other licenses is at https://www.apache.org/legal/resolved.html with many licenses already approved.\r\n\r\n\"cat-A\" is fine; it may need updates to the appropriate NOTICE file. \r\nThe top level NOTICE applies to the source code in the repository.\r\nThe binaries have different, longer NOTICE files. If it is unmodified kryo, it is a binary dependency.\r\n\r\n\"cat-B\" is, roughly, \"with care and binary only\" and not in the formal source release (the `jena-X.Y.Z-source-release.zip` file).\r\n\r\n\"cat-X\" is not possible due to imposing additional conditions on the work, restrictions on use, and various other reasons.\r\n\r\nBSD3 (if you mean 3-clause BSD - the \"BSD\" name is used for quite a lot of things) is cat-A - including source code.\r\n\r\nThe Eclipse _Distribution_ License is 3-clause BSD. (The Eclipse _Public_ License is not).\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301692534/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301700937","html_url":"https://github.com/apache/jena/pull/2653#issuecomment-2301700937","issue_url":"https://api.github.com/repos/apache/jena/issues/2653","id":2301700937,"node_id":"IC_kwDOAHF7Ec6JMStJ","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-21T10:24:40Z","updated_at":"2024-08-21T10:24:40Z","author_association":"MEMBER","body":"@dependabot rebase","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2301700937/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2302429416","html_url":"https://github.com/apache/jena/pull/2405#issuecomment-2302429416","issue_url":"https://api.github.com/repos/apache/jena/issues/2405","id":2302429416,"node_id":"IC_kwDOAHF7Ec6JPEjo","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-21T15:54:02Z","updated_at":"2024-08-21T15:54:02Z","author_association":"CONTRIBUTOR","body":"Thanks for the code smell pointers, they shouldn't be too hard to address.\r\n\r\n> Unfortunately, I was only able to identify potential code smells or areas for improvement, as I couldn't fully grasp your code and all of its implications.\r\n\r\nFeel free to point me to the parts of the code for which I should provide clarifications.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2302429416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2302875188","html_url":"https://github.com/apache/jena/issues/2650#issuecomment-2302875188","issue_url":"https://api.github.com/repos/apache/jena/issues/2650","id":2302875188,"node_id":"IC_kwDOAHF7Ec6JQxY0","user":{"login":"shawnsmith","id":295675,"node_id":"MDQ6VXNlcjI5NTY3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/295675?v=4","gravatar_id":"","url":"https://api.github.com/users/shawnsmith","html_url":"https://github.com/shawnsmith","followers_url":"https://api.github.com/users/shawnsmith/followers","following_url":"https://api.github.com/users/shawnsmith/following{/other_user}","gists_url":"https://api.github.com/users/shawnsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/shawnsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shawnsmith/subscriptions","organizations_url":"https://api.github.com/users/shawnsmith/orgs","repos_url":"https://api.github.com/users/shawnsmith/repos","events_url":"https://api.github.com/users/shawnsmith/events{/privacy}","received_events_url":"https://api.github.com/users/shawnsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-21T19:37:24Z","updated_at":"2024-08-21T19:37:24Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick feedback!\r\n\r\nFwiw I tested this change today, and it's not complete:\r\n```java\r\n@Override\r\npublic Expr transform(ExprAggregator eAgg) {\r\n    return eAgg.applyNodeTransform(nodeTransform);\r\n}\r\n```\r\nThe aggregators in the `Query.aggregators` field also need to be transformed, but aren't. Something along these lines:\r\n```patch\r\ndiff --git a/jena-arq/src/main/java/org/apache/jena/sparql/syntax/syntaxtransform/QueryTransformOps.java b/jena-arq/src/main/java/org/apache/jena/sparql/syntax/syntaxtransform/QueryTransformOps.java\r\nindex b461a0a7e0..8d54370290 100644\r\n--- a/jena-arq/src/main/java/org/apache/jena/sparql/syntax/syntaxtransform/QueryTransformOps.java\r\n+++ b/jena-arq/src/main/java/org/apache/jena/sparql/syntax/syntaxtransform/QueryTransformOps.java\r\n@@ -37,6 +37,7 @@ import org.apache.jena.shared.impl.PrefixMappingImpl;\r\n import org.apache.jena.sparql.ARQException;\r\n import org.apache.jena.sparql.core.*;\r\n import org.apache.jena.sparql.expr.Expr;\r\n+import org.apache.jena.sparql.expr.ExprAggregator;\r\n import org.apache.jena.sparql.expr.ExprTransform;\r\n import org.apache.jena.sparql.expr.ExprTransformer;\r\n import org.apache.jena.sparql.expr.ExprVar;\r\n@@ -78,6 +79,7 @@ public class QueryTransformOps {\r\n         if (q2.getOrderBy() != null)\r\n             mutateSortConditions(q2.getOrderBy(), exprTransform);\r\n         mutateQueryPattern(q2, transform, exprTransform);\r\n+        transformAggregators(query, q2, exprTransform);\r\n         if ( query.isQueryResultStar() ) {\r\n             // Reset internal to only what now can be seen.\r\n             q2.resetResultVars();\r\n@@ -111,6 +113,12 @@ public class QueryTransformOps {\r\n         }\r\n     }\r\n \r\n+    private static void transformAggregators(Query query, Query newQuery, ExprTransform exprTransform) {\r\n+        for (ExprAggregator aggregator : query.getAggregators()) {\r\n+            newQuery.getAggregators().add((ExprAggregator) exprTransform.transform(aggregator));\r\n+        }\r\n+    }\r\n+\r\n     // Do the result form part of the cloned query.\r\n     private static void mutateByQueryType(Query q2, ElementTransform transform, ExprTransform exprTransform) {\r\n         switch(q2.queryType()) {\r\n@@ -300,9 +308,6 @@ public class QueryTransformOps {\r\n                 for (String x : desc.getNamedGraphURIs())\r\n                     newQuery.addNamedGraphURI(x);\r\n             }\r\n-\r\n-            // Aggregators.\r\n-            newQuery.getAggregators().addAll(query.getAggregators());\r\n         }\r\n \r\n         @Override\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2302875188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2303049656","html_url":"https://github.com/apache/jena/issues/2650#issuecomment-2303049656","issue_url":"https://api.github.com/repos/apache/jena/issues/2650","id":2303049656,"node_id":"IC_kwDOAHF7Ec6JRb-4","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-21T21:33:11Z","updated_at":"2024-08-21T21:33:11Z","author_association":"MEMBER","body":"@shawnsmith - thanks - I've added that to the PR.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2303049656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2304432903","html_url":"https://github.com/apache/jena/issues/2654#issuecomment-2304432903","issue_url":"https://api.github.com/repos/apache/jena/issues/2654","id":2304432903,"node_id":"IC_kwDOAHF7Ec6JWtsH","user":{"login":"vuras","id":14833197,"node_id":"MDQ6VXNlcjE0ODMzMTk3","avatar_url":"https://avatars.githubusercontent.com/u/14833197?v=4","gravatar_id":"","url":"https://api.github.com/users/vuras","html_url":"https://github.com/vuras","followers_url":"https://api.github.com/users/vuras/followers","following_url":"https://api.github.com/users/vuras/following{/other_user}","gists_url":"https://api.github.com/users/vuras/gists{/gist_id}","starred_url":"https://api.github.com/users/vuras/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vuras/subscriptions","organizations_url":"https://api.github.com/users/vuras/orgs","repos_url":"https://api.github.com/users/vuras/repos","events_url":"https://api.github.com/users/vuras/events{/privacy}","received_events_url":"https://api.github.com/users/vuras/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-22T11:27:06Z","updated_at":"2024-08-22T11:27:23Z","author_association":"NONE","body":"Hi everyone,\r\n\r\nThank you for the answers.\r\n\r\nI managed to find the solution myself before reading your answers.\r\n\r\nLooks similar to what afs proposed:\r\n\r\n` Literal createTypedLiteral(String lex, XMLLiteralType.theXMLLiteralType);`","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2304432903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2304483742","html_url":"https://github.com/apache/jena/issues/2654#issuecomment-2304483742","issue_url":"https://api.github.com/repos/apache/jena/issues/2654","id":2304483742,"node_id":"IC_kwDOAHF7Ec6JW6Ge","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-22T11:54:36Z","updated_at":"2024-08-22T11:54:36Z","author_association":"MEMBER","body":"@vuras - Glad to hear you found it.\r\n\r\n`RDF.dtXMLLiteral` and `XMLLiteralType.theXMLLiteralType` are the same constant.\r\n`RDF.dtXMLLiteral` is slightly better to use.\r\n\r\n`XMLLiteralType.theXMLLiteralType` isn't a good name because nothing else is \"the...\". It really ought to be be migrated to more normal name.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2304483742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2308549755","html_url":"https://github.com/apache/jena/pull/2656#issuecomment-2308549755","issue_url":"https://api.github.com/repos/apache/jena/issues/2656","id":2308549755,"node_id":"IC_kwDOAHF7Ec6Jmax7","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-24T21:47:14Z","updated_at":"2024-08-24T21:47:14Z","author_association":"MEMBER","body":">GitHub issue resolved #2665\r\n\r\n#2655 ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2308549755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2308928721","html_url":"https://github.com/apache/jena/pull/2656#issuecomment-2308928721","issue_url":"https://api.github.com/repos/apache/jena/issues/2656","id":2308928721,"node_id":"IC_kwDOAHF7Ec6Jn3TR","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-25T17:12:00Z","updated_at":"2024-08-25T17:26:17Z","author_association":"MEMBER","body":"> > GitHub issue resolved #2665\r\n> \r\n> #2655\r\n\r\n!!!! Fixing the future. Sorry - this got into `main`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2308928721/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2308989592","html_url":"https://github.com/apache/jena/pull/2501#issuecomment-2308989592","issue_url":"https://api.github.com/repos/apache/jena/issues/2501","id":2308989592,"node_id":"IC_kwDOAHF7Ec6JoGKY","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-25T20:52:09Z","updated_at":"2024-08-25T20:52:09Z","author_association":"MEMBER","body":"ASF now have a Software Grant for this PR.\r\n\r\n\"rebase and merge\" and \"merge commit\" show conflicts. \"Squash + merge\" is showing as OK.\r\n\r\nTaking a diff and applying it (a sort of cheap and hacky \"squash\") is no longer working - in part, due to some early RDF 1.2 work :-)\r\n\r\nThe Apache Jena `main` branch is protected - it does not allow forced pushes or uncommitting. Code needs to be finished and clean to put onto `main`.\r\n\r\nI've created a new branch in the Jena repo `gh2518-cdt` which is the current state of `main` (2024-08-25) and changed the merge target of this PR branch to that branch (and \"merge commit\" has gone green which is strange).\r\n\r\nMy plan is to squash-merge onto that new branch and see what the state is and we can all test it out.\r\n\r\nIt may take more then one attempt to get this integrated. \r\n\r\n@hartig - Please treat `hartig:UnfoldAndFoldWithCompositeValues` as frozen. If you want to make changes, clone of that branch in your repo.\r\n\r\nDon't throw away your copy!\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2308989592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2309447553","html_url":"https://github.com/apache/jena/pull/2501#issuecomment-2309447553","issue_url":"https://api.github.com/repos/apache/jena/issues/2501","id":2309447553,"node_id":"IC_kwDOAHF7Ec6Jp1-B","user":{"login":"hartig","id":584467,"node_id":"MDQ6VXNlcjU4NDQ2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/584467?v=4","gravatar_id":"","url":"https://api.github.com/users/hartig","html_url":"https://github.com/hartig","followers_url":"https://api.github.com/users/hartig/followers","following_url":"https://api.github.com/users/hartig/following{/other_user}","gists_url":"https://api.github.com/users/hartig/gists{/gist_id}","starred_url":"https://api.github.com/users/hartig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hartig/subscriptions","organizations_url":"https://api.github.com/users/hartig/orgs","repos_url":"https://api.github.com/users/hartig/repos","events_url":"https://api.github.com/users/hartig/events{/privacy}","received_events_url":"https://api.github.com/users/hartig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-26T06:41:33Z","updated_at":"2024-08-26T06:41:33Z","author_association":"CONTRIBUTOR","body":"Thanks Andy! Let me know if you need my help with anything.\r\n\r\nThere is one thing remaining from the discussion above: [You mentioned the following performance-related concerns](https://github.com/apache/jena/pull/2501#issuecomment-2156169828) regarding the `CDTAwareParserProfile` introduced in this PR.\r\n> There is one place that needs investigation that I have found so far which is the mixes this - `CDTAwareParserProfile` is on the critical path for all parsing whether CDT's are used or not.\r\n>\r\n> The subclass quickly tests whether to invoke the superclass but parsing is sensitive to the JIT ptimizer. Parsing runs at about one/two microseconds per triple which isn't that many instructions and the new may\r\nchange what optimizations the JIT performs.\r\n>\r\n> It may well make no measurable difference because the optimizer nowadays has ways to implement virtual method calls as direct function calls. The only way to find out is to try.\r\n\r\nRelated to this, [I had a few proposals](https://github.com/apache/jena/pull/2501#issuecomment-2185172583), which I am repeating here again:\r\n\r\nWould it be an option to move the code of `CDTAwareParserProfile` into `ParserProfileStd` and, then, remove `CDTAwareParserProfile` altogether?\r\n\r\nAnother option may be to enable users to switch off support for CDT literals (e.g., via an argument in `ModLangParse`, similar to `--strict`). If switched off, `RiotLib` would create a `ParserProfileStd` instance instead of a `CDTAwareParserProfile` instance.\r\n\r\nYet another option may also be to combine both of these ideas. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2309447553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2311016276","html_url":"https://github.com/apache/jena/pull/2501#issuecomment-2311016276","issue_url":"https://api.github.com/repos/apache/jena/issues/2501","id":2311016276,"node_id":"IC_kwDOAHF7Ec6Jv09U","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-26T20:21:31Z","updated_at":"2024-08-26T20:23:06Z","author_association":"MEMBER","body":"We can't be sure until we have the CDT code combined with the current state of `main`.\r\n\r\nFor now, a separate `CDTAwareParserProfile` is better. This is an internal issue so it can change later.\r\n\r\nThe next step to make the branch on `apache/jena` then I'll ask you to review it.\r\n\r\nIt would also be good if the sparql-dev SEP could be done before finally adopting this code.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2311016276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2311623068","html_url":"https://github.com/apache/jena/pull/2501#issuecomment-2311623068","issue_url":"https://api.github.com/repos/apache/jena/issues/2501","id":2311623068,"node_id":"IC_kwDOAHF7Ec6JyJGc","user":{"login":"hartig","id":584467,"node_id":"MDQ6VXNlcjU4NDQ2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/584467?v=4","gravatar_id":"","url":"https://api.github.com/users/hartig","html_url":"https://github.com/hartig","followers_url":"https://api.github.com/users/hartig/followers","following_url":"https://api.github.com/users/hartig/following{/other_user}","gists_url":"https://api.github.com/users/hartig/gists{/gist_id}","starred_url":"https://api.github.com/users/hartig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hartig/subscriptions","organizations_url":"https://api.github.com/users/hartig/orgs","repos_url":"https://api.github.com/users/hartig/repos","events_url":"https://api.github.com/users/hartig/events{/privacy}","received_events_url":"https://api.github.com/users/hartig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-27T05:48:03Z","updated_at":"2024-08-27T05:48:03Z","author_association":"CONTRIBUTOR","body":"> For now, a separate CDTAwareParserProfile is better. This is an internal issue so it can change later.\n\nOkay.\n\n> The next step to make the branch on apache/jena then I'll ask you to review it.\n\nSounds good!\n\n> It would also be good if the sparql-dev SEP could be done before finally adopting this code.\n\nI will ask @rdfguy again.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2311623068/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2311844523","html_url":"https://github.com/apache/jena/pull/2501#issuecomment-2311844523","issue_url":"https://api.github.com/repos/apache/jena/issues/2501","id":2311844523,"node_id":"IC_kwDOAHF7Ec6Jy_Kr","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-27T08:08:37Z","updated_at":"2024-08-27T08:08:37Z","author_association":"MEMBER","body":"Removed \"This closes\" from the description. This isn't a PR to the default branch anymore.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2311844523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2312206816","html_url":"https://github.com/apache/jena/pull/2405#issuecomment-2312206816","issue_url":"https://api.github.com/repos/apache/jena/issues/2405","id":2312206816,"node_id":"IC_kwDOAHF7Ec6J0Xng","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-27T10:57:58Z","updated_at":"2024-08-27T11:00:35Z","author_association":"MEMBER","body":"This is looking good. I rebased to current main and tested.\r\n\r\nAdded a few comments - and I agree with @arne-bdt 's comments.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2312206816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2313184257","html_url":"https://github.com/apache/jena/issues/2660#issuecomment-2313184257","issue_url":"https://api.github.com/repos/apache/jena/issues/2660","id":2313184257,"node_id":"IC_kwDOAHF7Ec6J4GQB","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-27T17:54:28Z","updated_at":"2024-08-27T17:59:11Z","author_association":"MEMBER","body":"May be your application is picking up an older micrometer via a difference dependency route. \r\nThe maven resolution rule is \"least depth\" and not version resolving.\r\n\r\nMicrometer 1.12.5 to 1.13.0 made a packing change:\r\nThis happened at  https://github.com/apache/jena/pull/2483/files\r\n\r\n`io.micrometer.prometheus` -> `io.micrometer.prometheusmetrics` \r\n\r\nhttps://github.com/micrometer-metrics/micrometer/wiki/1.13-Migration-Guide\r\n\r\nThat's consistent with:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: io/micrometer/prometheusmetrics/PrometheusMeterRegistry\r\n```\r\nmeans Jena was compiled against the new package but at runtime it was not found which would be the case if a different micrometer version is being pickjd up.\r\n\r\n\r\nSee what `mvn dependency:tree` says for your application.\r\n\r\n`jena-fuseki-main` on its own is (current development code base - 1.13.3 is latest micrometer from 1.13.0.\r\n\r\n```\r\n[INFO] --- dependency:3.7.1:tree (default-cli) @ jena-fuseki-main ---\r\n[INFO] org.apache.jena:jena-fuseki-main:jar:5.2.0-SNAPSHOT\r\n[INFO] +- org.apache.jena:jena-fuseki-core:jar:5.2.0-SNAPSHOT:compile\r\n...\r\n[INFO] |  +- io.micrometer:micrometer-core:jar:1.13.3:compile\r\n[INFO] |  |  +- io.micrometer:micrometer-commons:jar:1.13.3:compile\r\n[INFO] |  |  +- io.micrometer:micrometer-observation:jar:1.13.3:compile\r\n[INFO] |  |  +- org.hdrhistogram:HdrHistogram:jar:2.2.2:runtime\r\n[INFO] |  |  \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n[INFO] |  \\- io.micrometer:micrometer-registry-prometheus:jar:1.13.3:compile\r\n[INFO] |     +- io.prometheus:prometheus-metrics-core:jar:1.2.1:compile\r\n[INFO] |     |  +- io.prometheus:prometheus-metrics-model:jar:1.2.1:compile\r\n[INFO] |     |  \\- io.prometheus:prometheus-metrics-config:jar:1.2.1:compile\r\n[INFO] |     +- io.prometheus:prometheus-metrics-tracer-common:jar:1.2.1:compile\r\n[INFO] |     \\- io.prometheus:prometheus-metrics-exposition-formats:jar:1.2.1:runtime\r\n[INFO] |        \\- io.prometheus:prometheus-metrics-shaded-protobuf:jar:1.2.1:runtime\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2313184257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2313322001","html_url":"https://github.com/apache/jena/issues/2660#issuecomment-2313322001","issue_url":"https://api.github.com/repos/apache/jena/issues/2660","id":2313322001,"node_id":"IC_kwDOAHF7Ec6J4n4R","user":{"login":"DavideRossi","id":9553056,"node_id":"MDQ6VXNlcjk1NTMwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/9553056?v=4","gravatar_id":"","url":"https://api.github.com/users/DavideRossi","html_url":"https://github.com/DavideRossi","followers_url":"https://api.github.com/users/DavideRossi/followers","following_url":"https://api.github.com/users/DavideRossi/following{/other_user}","gists_url":"https://api.github.com/users/DavideRossi/gists{/gist_id}","starred_url":"https://api.github.com/users/DavideRossi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DavideRossi/subscriptions","organizations_url":"https://api.github.com/users/DavideRossi/orgs","repos_url":"https://api.github.com/users/DavideRossi/repos","events_url":"https://api.github.com/users/DavideRossi/events{/privacy}","received_events_url":"https://api.github.com/users/DavideRossi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-27T19:12:58Z","updated_at":"2024-08-27T19:12:58Z","author_association":"NONE","body":"Yup, it's a problem with clashing prometheus versions between fuseki and helidon's metrics provider (the latter depending on `io.micrometer:micrometer-core:jar:1.11.3`.\r\nGiven the relative ease of this happening with many other setups, wouldn't it be a reasonable solution making the prometheus dep optional and put it in a different artifact (something like `fuseki-prometheus`)?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2313322001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2313363262","html_url":"https://github.com/apache/jena/issues/2660#issuecomment-2313363262","issue_url":"https://api.github.com/repos/apache/jena/issues/2660","id":2313363262,"node_id":"IC_kwDOAHF7Ec6J4x8-","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-27T19:37:42Z","updated_at":"2024-08-28T08:44:28Z","author_association":"MEMBER","body":"It is a nuisance.\r\n\r\nWe could make it optional and disable Fuseki metrics. If we added an artifact then we'd end up having to keep providing that artifact. Dropping an artifact would break downstream uses.\r\n\r\nWhile it manifests as a java class problem, it is no different really to any other changes between versions.\r\n\r\nSuppose 1.11.3 has a NPE and 1.13.x has fixed it. You'll still get the NPE.\r\nOr if 1.11.3 gave different answers to 1.13.x - you'd still get wrong answers.\r\n\r\nCan you `<exclusion>` it from Helidon, or add a dependency in your POM for 1.13.x? That way, your app will use a Fuseki compatible one, or your choice, and it should be compatible with Helidon if it is semantic versioning.\r\n\r\nAdding a dependency for exactly the version you want seems to be a common way round these multiple version inclusions.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2313363262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2314681234","html_url":"https://github.com/apache/jena/issues/2660#issuecomment-2314681234","issue_url":"https://api.github.com/repos/apache/jena/issues/2660","id":2314681234,"node_id":"IC_kwDOAHF7Ec6J9zuS","user":{"login":"DavideRossi","id":9553056,"node_id":"MDQ6VXNlcjk1NTMwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/9553056?v=4","gravatar_id":"","url":"https://api.github.com/users/DavideRossi","html_url":"https://github.com/DavideRossi","followers_url":"https://api.github.com/users/DavideRossi/followers","following_url":"https://api.github.com/users/DavideRossi/following{/other_user}","gists_url":"https://api.github.com/users/DavideRossi/gists{/gist_id}","starred_url":"https://api.github.com/users/DavideRossi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DavideRossi/subscriptions","organizations_url":"https://api.github.com/users/DavideRossi/orgs","repos_url":"https://api.github.com/users/DavideRossi/repos","events_url":"https://api.github.com/users/DavideRossi/events{/privacy}","received_events_url":"https://api.github.com/users/DavideRossi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-28T08:33:59Z","updated_at":"2024-08-28T08:33:59Z","author_association":"NONE","body":"No semantic versioning (see https://github.com/micrometer-metrics/micrometer/wiki/1.13-Migration-Guide API changes/PrometheusMeterRegistry), the guys at micrometer like to change the API across minor versions...","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2314681234/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2314737379","html_url":"https://github.com/apache/jena/issues/2660#issuecomment-2314737379","issue_url":"https://api.github.com/repos/apache/jena/issues/2660","id":2314737379,"node_id":"IC_kwDOAHF7Ec6J-Bbj","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-28T08:56:04Z","updated_at":"2024-08-28T08:56:04Z","author_association":"MEMBER","body":"For Jena, we haven't encountered much change across versions. The use of micrometer/prometheus is not complicated.\r\n\r\n Adding a dependency for exactly the version, or greater, should resolve the issue for you, and it is the one that can be undone without any other disturbance.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2314737379/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2314782289","html_url":"https://github.com/apache/jena/pull/2501#issuecomment-2314782289","issue_url":"https://api.github.com/repos/apache/jena/issues/2501","id":2314782289,"node_id":"IC_kwDOAHF7Ec6J-MZR","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-28T09:16:44Z","updated_at":"2024-08-28T09:16:44Z","author_association":"MEMBER","body":"The merge causes the PR to be closed.\r\n\r\nPlease continue discussion on the issue #2518.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2314782289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2314939029","html_url":"https://github.com/apache/jena/issues/2518#issuecomment-2314939029","issue_url":"https://api.github.com/repos/apache/jena/issues/2518","id":2314939029,"node_id":"IC_kwDOAHF7Ec6J-yqV","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-28T10:30:20Z","updated_at":"2024-08-28T11:21:42Z","author_association":"MEMBER","body":"Please continue discussion on this contribution on this issue. \r\n\r\nThe PR has been merged to branch [gh2518-cdt](https://github.com/apache/jena/tree/gh2518-cdt).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2314939029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2317059846","html_url":"https://github.com/apache/jena/pull/2405#issuecomment-2317059846","issue_url":"https://api.github.com/repos/apache/jena/issues/2405","id":2317059846,"node_id":"IC_kwDOAHF7Ec6KG4cG","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-29T08:51:52Z","updated_at":"2024-08-29T08:51:52Z","author_association":"MEMBER","body":"> Feel free to point me to the parts of the code for which I should provide clarifications.\r\n\r\nSome overall description (a general outline, not every detail) would be helpful - maybe expand the comment in `JoinIndex` and explain `MultiHashProbeTable`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2317059846/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2317183281","html_url":"https://github.com/apache/jena/pull/2408#issuecomment-2317183281","issue_url":"https://api.github.com/repos/apache/jena/issues/2408","id":2317183281,"node_id":"IC_kwDOAHF7Ec6KHWkx","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-29T09:46:17Z","updated_at":"2024-08-29T09:46:17Z","author_association":"MEMBER","body":"@afs What do we want to do with this PR, it's clear from the Thrift developers response there isn't anything better we can do given how the Thrift is defined for RDF Patch Binary.  While I still don't like the hackiness of this solution it at least improves the situation from the current one where some malformed/truncated patches are silently accepted.\r\n\r\nThe same issue likely also applies to RDF Thrift so may be worth me generalising the hack into one of the Thrift utility classes and augmenting both the RDF Patch Binary and RDF Thrift readers with the change","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2317183281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2317520825","html_url":"https://github.com/apache/jena/issues/2518#issuecomment-2317520825","issue_url":"https://api.github.com/repos/apache/jena/issues/2518","id":2317520825,"node_id":"IC_kwDOAHF7Ec6KIo-5","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-29T12:31:42Z","updated_at":"2024-08-29T12:31:42Z","author_association":"MEMBER","body":"@Olaf - in cleaning the ingested branch code, I found that `main.jj` does not build with javacc (I have version 7.0.12).\r\n\r\nThere are [two uses of` Unfold`](https://github.com/apache/jena/pull/2501/files#diff-4d6097b4cd35d9151c6ba077f356ceb6b7aaa8f422b2787a2d464a9298581235R923-R934) \r\nand [two declarations of `Unfold`](https://github.com/apache/jena/pull/2501/files#diff-4d6097b4cd35d9151c6ba077f356ceb6b7aaa8f422b2787a2d464a9298581235R1066-R1102).\r\n\r\nThis is not due to the ingestion/squash process onto the Jena branch - those links are to the PR #2501.\r\n\r\nI don't know how that could have happened but the generated java code did not correspond to the JavaCC input. The problem is now fixed.\r\n\r\nI've also added a Builder for `OpUnfold` so algebra using that operator can be written out and read in again. The command line tool `qparse` now works (it parses queries and also checks that they print out in a form that equals the input and also have the same algebra).\r\n\r\nI've finished cleaning up the code (warnings, some white space things I noticed) for now.\r\n\r\nPlease test when you have some time.\r\n\r\nI'll keep the branch in-step with the main branch. There are some parser changes for RDF 1.2 in the pipeline.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2317520825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2320802444","html_url":"https://github.com/apache/jena/pull/2408#issuecomment-2320802444","issue_url":"https://api.github.com/repos/apache/jena/issues/2408","id":2320802444,"node_id":"IC_kwDOAHF7Ec6KVKKM","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-30T10:38:35Z","updated_at":"2024-08-30T10:38:35Z","author_association":"MEMBER","body":"A `TX`-`TC` pair would give the framing mentioned by the Thrift developers. \r\nComment: https://lists.apache.org/thread/yd8wnvrg7ltg6szl09kk7fpoglxtvkv1\r\n\r\nIf there is any fault in the stream, then `TC` isn't seen and the processor should abort. This is robust to any violation of the expected input. This is also good for detecting data after the `TC` e.g. concatenated legal syntax but an unexpected condition. There are other conditions like data before `TX`, or no `TX`  (\"TX. junk\" has a different error message), as is the case for non-patch input.\r\n\r\nNon-patch input leads to an empty patch. One possibility is to add `RDFPatch.isEmpty` which would cover the case of no `TX`\r\n\r\nInspecting the stack is cause the exception to materialize the stack.\r\n\r\nThere are other sources of information - if the transport is from a string, it's not truncated. A string is either good or bad.\r\nAn input stream from a network can be truncated.\r\n\r\nThe Protobuf form may be more robust. It is slightly slower than Thrift. Thrift parses RDF at up to 1 million triples/s, Protobuf is slower by ~5% because it adds an object wrapper around the unit in the input stream which may give better error visibility.\r\nThis one extra Java object looks like it is the cause of the 5% but we're into the sub-microsecond area here so quite possible.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2320802444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/2321217392","html_url":"https://github.com/apache/jena/pull/2408#issuecomment-2321217392","issue_url":"https://api.github.com/repos/apache/jena/issues/2408","id":2321217392,"node_id":"IC_kwDOAHF7Ec6KWvdw","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-30T13:13:20Z","updated_at":"2024-08-30T13:13:20Z","author_association":"MEMBER","body":"So handle via documentation instead i.e. document the potential issue and recommended that users always include transaction markers in patches?\n\nCertainly better than poking around the stack trace which I would really rather avoid","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/2321217392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]