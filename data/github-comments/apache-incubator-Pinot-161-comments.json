[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317428601","html_url":"https://github.com/apache/pinot/issues/9415#issuecomment-1317428601","issue_url":"https://api.github.com/repos/apache/pinot/issues/9415","id":1317428601,"node_id":"IC_kwDOATCU_c5Ohl15","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T17:57:02Z","updated_at":"2022-11-16T17:57:02Z","author_association":"CONTRIBUTOR","body":"Good catch üëç ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317428601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317433808","html_url":"https://github.com/apache/pinot/issues/9812#issuecomment-1317433808","issue_url":"https://api.github.com/repos/apache/pinot/issues/9812","id":1317433808,"node_id":"IC_kwDOATCU_c5OhnHQ","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T18:01:24Z","updated_at":"2022-11-16T18:01:35Z","author_association":"CONTRIBUTOR","body":"@vmarchaud Can you try to add the Pinot controller/broker config and check if it works after that? From 0.11.0, I believe that the default behavior is to disable Groovy functionality due to the security concern.\r\n\r\n```\r\n# Enable Groovy globally on Pinot broker\r\npinot.broker.disable.query.groovy=false\r\n\r\n# Enable Groovy globally on Pinot controller\r\ncontroller.disable.ingestion.groovy=false\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317433808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317464662","html_url":"https://github.com/apache/pinot/pull/9811#issuecomment-1317464662","issue_url":"https://api.github.com/repos/apache/pinot/issues/9811","id":1317464662,"node_id":"IC_kwDOATCU_c5OhupW","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T18:20:48Z","updated_at":"2022-11-16T18:20:57Z","author_association":"CONTRIBUTOR","body":"Note: this test doesn't include corner case. I'll follow up in my next PR","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317464662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317522164","html_url":"https://github.com/apache/pinot/issues/9393#issuecomment-1317522164","issue_url":"https://api.github.com/repos/apache/pinot/issues/9393","id":1317522164,"node_id":"IC_kwDOATCU_c5Oh8r0","user":{"login":"bagipriyank","id":3229967,"node_id":"MDQ6VXNlcjMyMjk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3229967?v=4","gravatar_id":"","url":"https://api.github.com/users/bagipriyank","html_url":"https://github.com/bagipriyank","followers_url":"https://api.github.com/users/bagipriyank/followers","following_url":"https://api.github.com/users/bagipriyank/following{/other_user}","gists_url":"https://api.github.com/users/bagipriyank/gists{/gist_id}","starred_url":"https://api.github.com/users/bagipriyank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagipriyank/subscriptions","organizations_url":"https://api.github.com/users/bagipriyank/orgs","repos_url":"https://api.github.com/users/bagipriyank/repos","events_url":"https://api.github.com/users/bagipriyank/events{/privacy}","received_events_url":"https://api.github.com/users/bagipriyank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T18:59:45Z","updated_at":"2022-11-16T19:01:45Z","author_association":"CONTRIBUTOR","body":"I invoked delete all segments api call via swagger\r\n```\r\ncurl -X DELETE \"https://<redacted>/segments/students?type=OFFLINE&retention=0d\" -H \"accept: application/json\"\r\n```\r\n\r\nThis is what i see in the logs\r\n```\r\n2022-11-15 16:59:43 | 77 END:INVOKE CallbackHandler 0, /pinot-offline-staging/INSTANCES/Server_pinot-offline-server-0.pinot-offline-server-headless.de-nrt-pinot.svc.cluster.local_8098/MESSAGES listener: org.apache.helix.messaging.handling.HelixTaskExecutor@2ef8cae type: CALLBACK Took: 2ms\r\n2022-11-15 16:59:43 | No Messages to process\r\n2022-11-15 16:59:43 | CallbackHandler0, Subscribing to path: /pinot-offline--staging/INSTANCES/Server_pinot-offline-server-0.pinot-offline-server-headless.de-nrt-pinot.svc.cluster.local_8098/MESSAGES took: 1\r\n2022-11-15 16:59:43 | CallbackHandler 0 subscribing changes listener to path: /pinot-offline-staging/INSTANCES/Server_pinot-offline-server-0.pinot-offline-server-headless.de-nrt-pinot.svc.cluster.local_8098/MESSAGES, callback type: CALLBACK, event types: [NodeChildrenChanged], listener: org.apache.helix.messaging.handling.HelixTaskExecutor@2ef8cae, watchChild: false\r\n2022-11-15 16:59:43 | 77 START: CallbackHandler 0, INVOKE /pinot-offline-staging/INSTANCES/Server_pinot-offline-server-0.pinot-offline-server-headless.de-nrt-pinot.svc.cluster.local_8098/MESSAGES listener: org.apache.helix.messaging.handling.HelixTaskExecutor@2ef8cae type: CALLBACK\r\n¬† | ¬† | 2022-11-15 16:59:43 | Message: c279d79e-f19e-43ad-ae96-4ab0071e2fbe (parent: null) handling task for students_OFFLINE:students_OFFLINE_1597044264380_1597044264670_0 completed at: 1668560383006, results: true. FrameworkTime: 4 ms; HandlerTime: 6 ms.\r\n2022-11-15 16:59:43 | message finished: c279d79e-f19e-43ad-ae96-4ab0071e2fbe, took 9\r\n2022-11-15 16:59:43 | MBean CLMParticipantReport:Cluster=pinot-offline-staging,Transition=OFFLINE--DROPPED has been registered.\r\n2022-11-15 16:59:43 | Delete message c279d79e-f19e-43ad-ae96-4ab0071e2fbe from zk!\r\n2022-11-15 16:59:43 | Message c279d79e-f19e-43ad-ae96-4ab0071e2fbe completed.\r\n2022-11-15 16:59:43 | Removed /pinot-offline-staging/INSTANCES/Server_pinot-offline-server-0.pinot-offline-server-headless.de-nrt-pinot.svc.cluster.local_8098/CURRENTSTATES/30000028dd80026/students_OFFLINE\r\n2022-11-15 16:59:43 | Merging with delta list, recordId = students_OFFLINE other:students_OFFLINE\r\n2022-11-15 16:59:42 | SegmentOnlineOfflineStateModel.onBecomeDroppedFromOffline() : ZnRecord=c279d79e-f19e-43ad-ae96-4ab0071e2fbe, {CREATE_TIMESTAMP=1668560382982, ClusterEventName=MessageChange, EXECUTE_START_TIMESTAMP=1668560382997, EXE_SESSION_ID=30000028dd80026, FROM_STATE=OFFLINE, MSG_ID=c279d79e-f19e-43ad-ae96-4ab0071e2fbe, MSG_STATE=read, MSG_TYPE=STATE_TRANSITION, PARTITION_NAME=students_OFFLINE_1597044264380_1597044264670_0, READ_TIMESTAMP=1668560382991, RESOURCE_NAME=students_OFFLINE, RESOURCE_TAG=students_OFFLINE, RETRY_COUNT=3, SRC_NAME=pinot-offline-controller-0.pinot-offline-controller-headless.de-nrt-pinot.svc.cluster.local_9000, SRC_SESSION_ID=30000028dd8001b, STATE_MODEL_DEF=SegmentOnlineOfflineStateModel, STATE_MODEL_FACTORY_NAME=DEFAULT, TGT_NAME=Server_pinot-offline-server-0.pinot-offline-server-headless.de-nrt-pinot.svc.cluster.local_8098, TGT_SESSION_ID=30000028dd80026, TO_STATE=DROPPED}{}{}, Stat=Stat {_version=0, _creationTime=1668560382983, _modifiedTime=1668560382983, _ephemeralOwner=0}\r\n```\r\n\r\nI don't see any entries in map fields for the table in external view or ideal state. i don't see any segments for the table in property store either. It has been more than 12 hours since I invoked delete segments api call via swagger but I still see the segments on the disc on the server\r\n```\r\nroot@pinot-offline-server-0:/opt/pinot# cd /var/pinot/server/data/index\r\nroot@pinot-offline-server-0:/var/pinot/server/data/index# ls -lh\r\ntotal 8.0K\r\ndrwxr-sr-x 3 root 1337 4.0K Nov 16 00:14 students_OFFLINE_1597044264380_1597044264670_0\r\ndrwxr-sr-x 2 root 1337 4.0K Nov 16 00:14 tmp\r\nroot@pinot-offline-server-0:/var/pinot/server/data/index#\r\n```\r\n\r\nThis is the table config \r\n```\r\n{\r\n  \"OFFLINE\": {\r\n    \"tableName\": \"students_OFFLINE\",\r\n    \"tableType\": \"OFFLINE\",\r\n    \"segmentsConfig\": {\r\n      \"timeType\": \"MILLISECONDS\",\r\n      \"schemaName\": \"students\",\r\n      \"retentionTimeUnit\": \"MINUTES\",\r\n      \"retentionTimeValue\": \"30\",\r\n      \"replication\": \"1\",\r\n      \"timeColumnName\": \"timestampInEpoch\",\r\n      \"minimizeDataMovement\": false\r\n    },\r\n    \"tenants\": {\r\n      \"broker\": \"DefaultTenant\",\r\n      \"server\": \"DefaultTenant\"\r\n    },\r\n    \"tableIndexConfig\": {\r\n      \"invertedIndexColumns\": [],\r\n      \"rangeIndexVersion\": 2,\r\n      \"autoGeneratedInvertedIndex\": false,\r\n      \"createInvertedIndexDuringSegmentGeneration\": false,\r\n      \"loadMode\": \"MMAP\",\r\n      \"enableDefaultStarTree\": false,\r\n      \"aggregateMetrics\": false,\r\n      \"enableDynamicStarTreeCreation\": false,\r\n      \"nullHandlingEnabled\": false,\r\n      \"optimizeDictionaryForMetrics\": false,\r\n      \"noDictionarySizeRatioThreshold\": 0\r\n    },\r\n    \"metadata\": {},\r\n    \"isDimTable\": false\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317522164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317578948","html_url":"https://github.com/apache/pinot/issues/9393#issuecomment-1317578948","issue_url":"https://api.github.com/repos/apache/pinot/issues/9393","id":1317578948,"node_id":"IC_kwDOATCU_c5OiKjE","user":{"login":"bagipriyank","id":3229967,"node_id":"MDQ6VXNlcjMyMjk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3229967?v=4","gravatar_id":"","url":"https://api.github.com/users/bagipriyank","html_url":"https://github.com/bagipriyank","followers_url":"https://api.github.com/users/bagipriyank/followers","following_url":"https://api.github.com/users/bagipriyank/following{/other_user}","gists_url":"https://api.github.com/users/bagipriyank/gists{/gist_id}","starred_url":"https://api.github.com/users/bagipriyank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagipriyank/subscriptions","organizations_url":"https://api.github.com/users/bagipriyank/orgs","repos_url":"https://api.github.com/users/bagipriyank/repos","events_url":"https://api.github.com/users/bagipriyank/events{/privacy}","received_events_url":"https://api.github.com/users/bagipriyank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T19:45:28Z","updated_at":"2022-11-16T19:49:09Z","author_association":"CONTRIBUTOR","body":"I think I know what is happening  https://github.com/apache/pinot/blob/c9a6e5207a6cedf325f4abaeac2970077ab5685d/pinot-server/src/main/java/org/apache/pinot/server/starter/helix/HelixInstanceDataManager.java#L241\r\n```\r\n      // Clean up the segment data on default tier unconditionally.\r\n      File segmentDir = getSegmentDataDirectory(tableNameWithType, segmentName);\r\n      if (segmentDir.exists()) {\r\n        FileUtils.deleteQuietly(segmentDir);\r\n        LOGGER.info(\"Deleted segment directory {} on default tier\", segmentDir);\r\n      }\r\n```\r\nNow from https://github.com/apache/pinot/blob/c9a6e5207a6cedf325f4abaeac2970077ab5685d/pinot-server/src/main/java/org/apache/pinot/server/starter/helix/HelixInstanceDataManager.java#L507\r\n```\r\n/**\r\n   * Assemble the path to segment dir directly, when table mgr object is not\r\n   * created for the given table yet.\r\n   */\r\n  @Override\r\n  public File getSegmentDataDirectory(String tableNameWithType, String segmentName) {\r\n    return new File(new File(_instanceDataManagerConfig.getInstanceDataDir(), tableNameWithType), segmentName);\r\n  }\r\n```\r\n\r\nSo in our case this will point segment data directory to `/var/pinot/server/data/index/students_OFFLINE/students_OFFLINE_1597044264380_1597044264670_0` instead of `/var/pinot/server/data/index/students_OFFLINE_1597044264380_1597044264670_0` which leaves the delete as a no-op.\r\n\r\nHow can i verify / test this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317578948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317640142","html_url":"https://github.com/apache/pinot/pull/9816#issuecomment-1317640142","issue_url":"https://api.github.com/repos/apache/pinot/issues/9816","id":1317640142,"node_id":"IC_kwDOATCU_c5OiZfO","user":{"login":"GSharayu","id":21273286,"node_id":"MDQ6VXNlcjIxMjczMjg2","avatar_url":"https://avatars.githubusercontent.com/u/21273286?v=4","gravatar_id":"","url":"https://api.github.com/users/GSharayu","html_url":"https://github.com/GSharayu","followers_url":"https://api.github.com/users/GSharayu/followers","following_url":"https://api.github.com/users/GSharayu/following{/other_user}","gists_url":"https://api.github.com/users/GSharayu/gists{/gist_id}","starred_url":"https://api.github.com/users/GSharayu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GSharayu/subscriptions","organizations_url":"https://api.github.com/users/GSharayu/orgs","repos_url":"https://api.github.com/users/GSharayu/repos","events_url":"https://api.github.com/users/GSharayu/events{/privacy}","received_events_url":"https://api.github.com/users/GSharayu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T20:39:07Z","updated_at":"2022-11-16T20:39:20Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu @sajjad-moradi @jugomezv @snleee : please review","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317640142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317680379","html_url":"https://github.com/apache/pinot/pull/9816#issuecomment-1317680379","issue_url":"https://api.github.com/repos/apache/pinot/issues/9816","id":1317680379,"node_id":"IC_kwDOATCU_c5OijT7","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T21:18:24Z","updated_at":"2022-11-17T06:58:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9816?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9816](https://codecov.io/gh/apache/pinot/pull/9816?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f95ac08) into [master](https://codecov.io/gh/apache/pinot/commit/47c8f184365d6ffde870f94285747b9e009c7c15?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (47c8f18) will **increase** coverage by `9.68%`.\n> The diff coverage is `86.27%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9816      +/-   ##\n============================================\n+ Coverage     60.58%   70.26%   +9.68%     \n+ Complexity     5281     4998     -283     \n============================================\n  Files          1949     1964      +15     \n  Lines        104632   105033     +401     \n  Branches      15847    15896      +49     \n============================================\n+ Hits          63389    73803   +10414     \n+ Misses        36540    26096   -10444     \n- Partials       4703     5134     +431     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `25.27% <2.94%> (?)` | |\n| integration2 | `24.68% <0.98%> (+0.24%)` | :arrow_up: |\n| unittests1 | `67.86% <85.41%> (+0.05%)` | :arrow_up: |\n| unittests2 | `15.77% <86.27%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9816?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...apache/pinot/common/function/FunctionRegistry.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25SZWdpc3RyeS5qYXZh) | `86.84% <√∏> (√∏)` | |\n| [...not/query/planner/logical/RelToStageConverter.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1JlbFRvU3RhZ2VDb252ZXJ0ZXIuamF2YQ==) | `83.33% <√∏> (+3.70%)` | :arrow_up: |\n| [...che/pinot/query/planner/logical/RexExpression.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1JleEV4cHJlc3Npb24uamF2YQ==) | `81.33% <√∏> (+5.33%)` | :arrow_up: |\n| [...ache/pinot/query/planner/logical/StagePlanner.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1N0YWdlUGxhbm5lci5qYXZh) | `100.00% <√∏> (√∏)` | |\n| [...e/pinot/query/runtime/operator/FilterOperator.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9GaWx0ZXJPcGVyYXRvci5qYXZh) | `76.00% <√∏> (+16.00%)` | :arrow_up: |\n| [...ery/runtime/operator/operands/FunctionOperand.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9vcGVyYW5kcy9GdW5jdGlvbk9wZXJhbmQuamF2YQ==) | `100.00% <√∏> (√∏)` | |\n| [...query/runtime/operator/MailboxReceiveOperator.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NYWlsYm94UmVjZWl2ZU9wZXJhdG9yLmphdmE=) | `79.36% <50.00%> (-0.97%)` | :arrow_down: |\n| [...query/runtime/operator/operands/FilterOperand.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9vcGVyYW5kcy9GaWx0ZXJPcGVyYW5kLmphdmE=) | `83.90% <50.00%> (+16.05%)` | :arrow_up: |\n| [...va/org/apache/pinot/query/runtime/QueryRunner.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9RdWVyeVJ1bm5lci5qYXZh) | `86.58% <83.33%> (+8.90%)` | :arrow_up: |\n| [...ot/query/runtime/executor/RoundRobinScheduler.java](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9leGVjdXRvci9Sb3VuZFJvYmluU2NoZWR1bGVyLmphdmE=) | `87.50% <87.50%> (√∏)` | |\n| ... and [397 more](https://codecov.io/gh/apache/pinot/pull/9816/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317680379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317701881","html_url":"https://github.com/apache/pinot/pull/9816#issuecomment-1317701881","issue_url":"https://api.github.com/repos/apache/pinot/issues/9816","id":1317701881,"node_id":"IC_kwDOATCU_c5Oioj5","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T21:39:07Z","updated_at":"2022-11-16T21:39:07Z","author_association":"CONTRIBUTOR","body":"Can we also add the testing case to cover this? We should add the test where we set `replication / numReplicasPerPartition` differently.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317701881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317727618","html_url":"https://github.com/apache/pinot/pull/9800#issuecomment-1317727618","issue_url":"https://api.github.com/repos/apache/pinot/issues/9800","id":1317727618,"node_id":"IC_kwDOATCU_c5Oiu2C","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T22:00:45Z","updated_at":"2022-11-16T22:00:45Z","author_association":"CONTRIBUTOR","body":"I see that this has already been approved for merge. We intend to submit a PR soon that will handle this at server level, since we need alerting sooner than later on lag. If you choose to, you can wait for that PR before merging this. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317727618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317728236","html_url":"https://github.com/apache/pinot/issues/9393#issuecomment-1317728236","issue_url":"https://api.github.com/repos/apache/pinot/issues/9393","id":1317728236,"node_id":"IC_kwDOATCU_c5Oiu_s","user":{"login":"bagipriyank","id":3229967,"node_id":"MDQ6VXNlcjMyMjk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3229967?v=4","gravatar_id":"","url":"https://api.github.com/users/bagipriyank","html_url":"https://github.com/bagipriyank","followers_url":"https://api.github.com/users/bagipriyank/followers","following_url":"https://api.github.com/users/bagipriyank/following{/other_user}","gists_url":"https://api.github.com/users/bagipriyank/gists{/gist_id}","starred_url":"https://api.github.com/users/bagipriyank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagipriyank/subscriptions","organizations_url":"https://api.github.com/users/bagipriyank/orgs","repos_url":"https://api.github.com/users/bagipriyank/repos","events_url":"https://api.github.com/users/bagipriyank/events{/privacy}","received_events_url":"https://api.github.com/users/bagipriyank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T22:01:21Z","updated_at":"2022-11-16T22:01:21Z","author_association":"CONTRIBUTOR","body":"this is our helm chart config for server\r\n```\r\nserver:\r\n  name: server\r\n  replicaCount: 15\r\n  updateStrategy:\r\n    type: RollingUpdate\r\n  podManagementPolicy: Parallel\r\n  podSecurityContext: {}\r\n  securityContext: {}\r\n  probes:\r\n    endpoint: \"/health\"\r\n    livenessEnabled: false\r\n    readinessEnabled: false\r\n  nodeSelector:\r\n    node_type: normal\r\n  tolerations: []\r\n  affinity: {}\r\n  podAnnotations:\r\n    \"prometheus.io/scrape\": \"true\"\r\n    \"prometheus.io/port\": \"8008\"\r\n  envFrom: []\r\n  extraEnv: []\r\n  log4j2ConfFile: /opt/pinot/conf/log4j2.xml\r\n  pluginsDir: /opt/pinot/plugins\r\n  service:\r\n    annotations:\r\n      \"prometheus.io/scrape\": \"true\"\r\n      \"prometheus.io/port\": \"8008\"\r\n    clusterIP: \"\"\r\n    externalIPs: []\r\n    loadBalancerIP: \"\"\r\n    loadBalancerSourceRanges: []\r\n    type: ClusterIP\r\n    nettyPort: 8098\r\n    nettyPortName: netty\r\n    adminPort: 8097\r\n    adminExposePort: 80\r\n    adminPortName: admin\r\n    nodePort: \"\"\r\n    protocol: TCP\r\n  resources:\r\n    limits:\r\n      cpu: 8\r\n      memory: 64G\r\n    requests:\r\n      cpu: 8\r\n      memory: 64G\r\n  dataDir: /var/pinot/server/data/index\r\n  segmentTarDir: /var/pinot/server/data/segment\r\n  persistence:\r\n    enabled: true\r\n    accessMode: ReadWriteOnce\r\n    size: 512G\r\n    mountPath: /var/pinot/server/data\r\n    storageClass: gp2\r\n    replicaCount: 1\r\n  jvmOpts: \"-Xms8G -Xmx8G -XX:MaxDirectMemorySize=55G -Xlog:gc*:file=/opt/pinot/gc-pinot-server.log -javaagent:/opt/pinot/etc/jmx_prometheus_javaagent/jmx_prometheus_javaagent.jar=8008:/opt/pinot/etc/jmx_prometheus_javaagent/configs/pinot.yml\"\r\n  extra:\r\n    configs: |-\r\n      pinot.set.instance.id.to.hostname=true\r\n      pinot.server.instance.realtime.alloc.offheap=true\r\n      pinot.server.instance.currentDataTableVersion=2\r\n      pinot.server.instance.dataDir=/var/pinot/server/data/index\r\n      pinot.server.instance.segmentTarDir=/var/pinot/server/data/segment\r\n      pinot.server.storage.factory.class.s3=org.apache.pinot.plugin.filesystem.S3PinotFS\r\n      pinot.server.storage.factory.s3.region=us-east-1\r\n      pinot.server.segment.fetcher.protocols=file,http,s3\r\n      pinot.controller.storage.factory.s3.disableAcl=false\r\n      pinot.server.segment.fetcher.s3.class=org.apache.pinot.common.utils.fetcher.PinotFSSegmentFetcher\r\n      pinot.server.segment.fetcher.s3.retry.count=10\r\n      pinot.server.instance.segment.store.uri=s3://<redacted>/controller-data\r\n      pinot.server.instance.max.parallel.refresh.threads=10\r\n      pinot.zk.server=zookeeper-offline.de-nrt-pinot.svc.cluster.local:2181\r\n      pinot.server.swagger.use.https=true\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317728236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317791484","html_url":"https://github.com/apache/pinot/pull/9710#issuecomment-1317791484","issue_url":"https://api.github.com/repos/apache/pinot/issues/9710","id":1317791484,"node_id":"IC_kwDOATCU_c5Oi-b8","user":{"login":"wirybeaver","id":19251177,"node_id":"MDQ6VXNlcjE5MjUxMTc3","avatar_url":"https://avatars.githubusercontent.com/u/19251177?v=4","gravatar_id":"","url":"https://api.github.com/users/wirybeaver","html_url":"https://github.com/wirybeaver","followers_url":"https://api.github.com/users/wirybeaver/followers","following_url":"https://api.github.com/users/wirybeaver/following{/other_user}","gists_url":"https://api.github.com/users/wirybeaver/gists{/gist_id}","starred_url":"https://api.github.com/users/wirybeaver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wirybeaver/subscriptions","organizations_url":"https://api.github.com/users/wirybeaver/orgs","repos_url":"https://api.github.com/users/wirybeaver/repos","events_url":"https://api.github.com/users/wirybeaver/events{/privacy}","received_events_url":"https://api.github.com/users/wirybeaver/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T23:02:13Z","updated_at":"2022-11-16T23:03:14Z","author_association":"CONTRIBUTOR","body":"> > A newbie question, the [guide](https://docs.pinot.apache.org/developers/developers-and-contributors/contribution-guidelines#creating-a-pull-request-pr) recommend to use git rebase. AFAIK, all commits will be squash to a single commit and thus can guarantee that make the commit history linear when the PR got merged. If so, shall we use git merge when pull the remote master change? Otherwise, I need to force overriding every time push after git rebase. @jadami10\r\n> \r\n> With github, I generally use `git merge` when updating PRs because it keeps the change history. When you rebase/force push, the reviewer loses the \"see changes since your last review\" button. It's not a big deal, just a quality of life change.\r\n> \r\n> If you've ever used something like phabricator, it does a better job of decoupling changes from their actual commits, so even if someone rebases/force pushes, it can show you just the changes that user made.\r\n\r\nThanks. Totally agree with you I use github before joining uber. I am meant to use `get merge` but the official Pinot OSS developer guide uses `git rebase` at the bottom when merge the master change into my local feature branch, which made me confused. We need to update the instruction. https://docs.pinot.apache.org/developers/developers-and-contributors/contribution-guidelines#creating-a-pull-request-pr","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317791484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317805021","html_url":"https://github.com/apache/pinot/pull/9817#issuecomment-1317805021","issue_url":"https://api.github.com/repos/apache/pinot/issues/9817","id":1317805021,"node_id":"IC_kwDOATCU_c5OjBvd","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T23:17:47Z","updated_at":"2022-11-28T19:38:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9817?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9817](https://codecov.io/gh/apache/pinot/pull/9817?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (36cab68) into [master](https://codecov.io/gh/apache/pinot/commit/6ef4dfc50063e74b5182d9453bbf5ff7005a0597?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6ef4dfc) will **decrease** coverage by `28.56%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9817       +/-   ##\n=============================================\n- Coverage     63.44%   34.88%   -28.57%     \n+ Complexity     5326      199     -5127     \n=============================================\n  Files          1960     1972       +12     \n  Lines        105350   105703      +353     \n  Branches      15960    15998       +38     \n=============================================\n- Hits          66840    36872    -29968     \n- Misses        33589    65707    +32118     \n+ Partials       4921     3124     -1797     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `24.62% <√∏> (+0.05%)` | :arrow_up: |\n| unittests1 | `?` | |\n| unittests2 | `15.75% <√∏> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9817?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...ain/java/org/apache/pinot/spi/utils/LoopUtils.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvTG9vcFV0aWxzLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...in/java/org/apache/pinot/spi/utils/BytesUtils.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQnl0ZXNVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/BaseRecording.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvQmFzZVJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/NoOpRecording.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvTm9PcFJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/table/FSTType.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0ZTVFR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/user/RoleType.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3VzZXIvUm9sZVR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/data/MetricFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9NZXRyaWNGaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/stream/StreamMessage.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbU1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/common/tier/TierFactory.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdGllci9UaWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/spi/config/table/TableType.java](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1RhYmxlVHlwZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1353 more](https://codecov.io/gh/apache/pinot/pull/9817/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317805021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317817172","html_url":"https://github.com/apache/pinot/pull/9800#issuecomment-1317817172","issue_url":"https://api.github.com/repos/apache/pinot/issues/9800","id":1317817172,"node_id":"IC_kwDOATCU_c5OjEtU","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T23:30:03Z","updated_at":"2022-11-16T23:30:03Z","author_association":"CONTRIBUTOR","body":"> I'm not sure running the periodic task every minute or so is a good idea!\r\n\r\nAgreed here :) We will likely not set it to query every minute.\r\n\r\n> If we choose to emit the metric on the server side, then we can change the gauge as soon as the events are consumed. It's just up to the metric & monitoring system (outside pinot) to aggregate the metric values (e.g. finding max value) for different replicas of each partition.\r\n\r\nAgree that we can detect it sooner. but there doesn't seem to be a good way to aggregate it in the monitoring layer in the presence of rebalance (clean/unclean) or consuming segment re-distribution for any other reason. \r\nWe have also noted that sometimes all consuming segments get into ERROR state (maybe consumer crashed or hanged) and yet the monitoring metric `LLC_PARTITION_CONSUMING` doesn't detect [ @npawar may have more context ].\r\nMoreover adding a metric in the segment data manager feels like tip-toeing across a landmine.\r\n\r\nA much cleaner way would be to emit at partition level from the connector plugin directly or from server (without involving the server tag, but a stable replica id tag). I believe there are some dependency issues to be sorted out before getting there. \r\n\r\n> I believe we do invoke the code to remove a metric each time a partition completes consumption.\r\n\r\nThis works well in a stable state and clean operations. But this doesn't cover cases of unclean shutdown / crashes in production and it has generally been observed to be not very reliable. \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317817172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317847727","html_url":"https://github.com/apache/pinot/issues/9393#issuecomment-1317847727","issue_url":"https://api.github.com/repos/apache/pinot/issues/9393","id":1317847727,"node_id":"IC_kwDOATCU_c5OjMKv","user":{"login":"bagipriyank","id":3229967,"node_id":"MDQ6VXNlcjMyMjk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3229967?v=4","gravatar_id":"","url":"https://api.github.com/users/bagipriyank","html_url":"https://github.com/bagipriyank","followers_url":"https://api.github.com/users/bagipriyank/followers","following_url":"https://api.github.com/users/bagipriyank/following{/other_user}","gists_url":"https://api.github.com/users/bagipriyank/gists{/gist_id}","starred_url":"https://api.github.com/users/bagipriyank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagipriyank/subscriptions","organizations_url":"https://api.github.com/users/bagipriyank/orgs","repos_url":"https://api.github.com/users/bagipriyank/repos","events_url":"https://api.github.com/users/bagipriyank/events{/privacy}","received_events_url":"https://api.github.com/users/bagipriyank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T00:05:23Z","updated_at":"2022-11-17T00:05:23Z","author_association":"CONTRIBUTOR","body":"I tried reproducing it locally by running Quickstart from with in IDE and I am not able to reproduce the issue.\r\n```\r\nC02TW0TMHTDG:~ pbagrecha$ cd /var/folders/l9/69q0947d2yb9g5wl6hsxbbnmd4s6w1/T/1668642652045/quickstart/\r\nC02TW0TMHTDG:quickstart pbagrecha$ ls -lh\r\ntotal 0\r\ndrwxr-xr-x  10 pbagrecha  2069044465   320B Nov 16 15:52 PinotControllerDir0\r\ndrwxr-xr-x   9 pbagrecha  2069044465   288B Nov 16 15:52 PinotServerDataDir0\r\ndrwxr-xr-x   2 pbagrecha  2069044465    64B Nov 16 15:51 PinotServerSegmentDir0\r\ndrwxr-xr-x   3 pbagrecha  2069044465    96B Nov 16 15:50 PinotZkDir\r\nC02TW0TMHTDG:quickstart pbagrecha$\r\nC02TW0TMHTDG:quickstart pbagrecha$\r\nC02TW0TMHTDG:quickstart pbagrecha$ ls -lh PinotServerDataDir0/\r\ntotal 0\r\ndrwxr-xr-x  34 pbagrecha  2069044465   1.1K Nov 16 15:51 airlineStats_OFFLINE\r\ndrwxr-xr-x   4 pbagrecha  2069044465   128B Nov 16 15:51 baseballStats_OFFLINE\r\ndrwxr-xr-x   4 pbagrecha  2069044465   128B Nov 16 15:52 billing_OFFLINE\r\ndrwxr-xr-x   4 pbagrecha  2069044465   128B Nov 16 15:52 dimBaseballTeams_OFFLINE\r\ndrwxr-xr-x   4 pbagrecha  2069044465   128B Nov 16 15:52 githubComplexTypeEvents_OFFLINE\r\ndrwxr-xr-x   4 pbagrecha  2069044465   128B Nov 16 15:52 githubEvents_OFFLINE\r\ndrwxr-xr-x   4 pbagrecha  2069044465   128B Nov 16 15:52 starbucksStores_OFFLINE\r\nC02TW0TMHTDG:quickstart pbagrecha$\r\nC02TW0TMHTDG:quickstart pbagrecha$\r\nC02TW0TMHTDG:quickstart pbagrecha$ ls -lh PinotServerDataDir0/airlineStats_OFFLINE/\r\ntotal 0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16071_16071_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16072_16072_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16073_16073_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16074_16074_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16075_16075_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16076_16076_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16077_16077_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16078_16078_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16079_16079_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16080_16080_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16081_16081_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16082_16082_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16083_16083_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16084_16084_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16085_16085_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16086_16086_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16087_16087_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16088_16088_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16089_16089_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16090_16090_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16091_16091_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16092_16092_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16093_16093_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16094_16094_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16095_16095_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16096_16096_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16097_16097_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16098_16098_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16099_16099_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16100_16100_0\r\ndrwxr-xr-x  3 pbagrecha  2069044465    96B Nov 16 15:51 airlineStats_OFFLINE_16101_16101_0\r\ndrwxr-xr-x  2 pbagrecha  2069044465    64B Nov 16 15:51 tmp\r\nC02TW0TMHTDG:quickstart pbagrecha$ ls -lh PinotServerSegmentDir0/\r\ntotal 0\r\nC02TW0TMHTDG:quickstart pbagrecha$\r\n```\r\nsegment directory does have the table name in the path\r\ni am guessing that we have something mis-configured or maybe we completely missed configuring something.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317847727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317854252","html_url":"https://github.com/apache/pinot/pull/9710#issuecomment-1317854252","issue_url":"https://api.github.com/repos/apache/pinot/issues/9710","id":1317854252,"node_id":"IC_kwDOATCU_c5OjNws","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T00:11:16Z","updated_at":"2022-11-22T00:32:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9710?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9710](https://codecov.io/gh/apache/pinot/pull/9710?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (dc84e8f) into [master](https://codecov.io/gh/apache/pinot/commit/3724ba27cf5ceeebdd9805327b7f3d29abdea47d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3724ba2) will **increase** coverage by `34.00%`.\n> The diff coverage is `62.74%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9710       +/-   ##\n=============================================\n+ Coverage     34.69%   68.70%   +34.00%     \n- Complexity      190     4995     +4805     \n=============================================\n  Files          1965     1965               \n  Lines        105115   105164       +49     \n  Branches      15909    15914        +5     \n=============================================\n+ Hits          36474    72251    +35777     \n+ Misses        65542    27793    -37749     \n- Partials       3099     5120     +2021     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `25.19% <11.76%> (+0.07%)` | :arrow_up: |\n| unittests1 | `67.95% <62.00%> (?)` | |\n| unittests2 | `15.82% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9710?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...ot/common/utils/fetcher/SegmentFetcherFactory.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZmV0Y2hlci9TZWdtZW50RmV0Y2hlckZhY3RvcnkuamF2YQ==) | `86.30% <50.00%> (+40.39%)` | :arrow_up: |\n| [...ent/local/data/manager/TableDataManagerConfig.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kYXRhL21hbmFnZXIvVGFibGVEYXRhTWFuYWdlckNvbmZpZy5qYXZh) | `26.31% <55.55%> (+26.31%)` | :arrow_up: |\n| [.../pinot/core/data/manager/BaseTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvQmFzZVRhYmxlRGF0YU1hbmFnZXIuamF2YQ==) | `74.58% <65.38%> (+12.90%)` | :arrow_up: |\n| [...a/org/apache/pinot/common/metrics/ServerMeter.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9TZXJ2ZXJNZXRlci5qYXZh) | `100.00% <100.00%> (√∏)` | |\n| [...pache/pinot/core/util/PeerServerSegmentFinder.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1BlZXJTZXJ2ZXJTZWdtZW50RmluZGVyLmphdmE=) | `75.00% <100.00%> (+75.00%)` | :arrow_up: |\n| [.../starter/helix/HelixInstanceDataManagerConfig.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeEluc3RhbmNlRGF0YU1hbmFnZXJDb25maWcuamF2YQ==) | `81.63% <100.00%> (+0.38%)` | :arrow_up: |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `75.00% <0.00%> (-25.00%)` | :arrow_down: |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `75.39% <0.00%> (-2.62%)` | :arrow_down: |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `71.95% <0.00%> (-1.02%)` | :arrow_down: |\n| [.../core/realtime/PinotLLCRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90TExDUmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `71.01% <0.00%> (-0.61%)` | :arrow_down: |\n| ... and [1040 more](https://codecov.io/gh/apache/pinot/pull/9710/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317854252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317871498","html_url":"https://github.com/apache/pinot/pull/9800#issuecomment-1317871498","issue_url":"https://api.github.com/repos/apache/pinot/issues/9800","id":1317871498,"node_id":"IC_kwDOATCU_c5OjR-K","user":{"login":"sajjad-moradi","id":8548220,"node_id":"MDQ6VXNlcjg1NDgyMjA=","avatar_url":"https://avatars.githubusercontent.com/u/8548220?v=4","gravatar_id":"","url":"https://api.github.com/users/sajjad-moradi","html_url":"https://github.com/sajjad-moradi","followers_url":"https://api.github.com/users/sajjad-moradi/followers","following_url":"https://api.github.com/users/sajjad-moradi/following{/other_user}","gists_url":"https://api.github.com/users/sajjad-moradi/gists{/gist_id}","starred_url":"https://api.github.com/users/sajjad-moradi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajjad-moradi/subscriptions","organizations_url":"https://api.github.com/users/sajjad-moradi/orgs","repos_url":"https://api.github.com/users/sajjad-moradi/repos","events_url":"https://api.github.com/users/sajjad-moradi/events{/privacy}","received_events_url":"https://api.github.com/users/sajjad-moradi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T00:28:57Z","updated_at":"2022-11-17T00:28:57Z","author_association":"CONTRIBUTOR","body":"> This works well in a stable state and clean operations. But this doesn't cover cases of unclean shutdown / crashes in production and it has generally been observed to be not very reliable.\r\n\r\nJust for my understanding, can you elaborate what you mean by unclean shutdown?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317871498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317876901","html_url":"https://github.com/apache/pinot/issues/9393#issuecomment-1317876901","issue_url":"https://api.github.com/repos/apache/pinot/issues/9393","id":1317876901,"node_id":"IC_kwDOATCU_c5OjTSl","user":{"login":"bagipriyank","id":3229967,"node_id":"MDQ6VXNlcjMyMjk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3229967?v=4","gravatar_id":"","url":"https://api.github.com/users/bagipriyank","html_url":"https://github.com/bagipriyank","followers_url":"https://api.github.com/users/bagipriyank/followers","following_url":"https://api.github.com/users/bagipriyank/following{/other_user}","gists_url":"https://api.github.com/users/bagipriyank/gists{/gist_id}","starred_url":"https://api.github.com/users/bagipriyank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagipriyank/subscriptions","organizations_url":"https://api.github.com/users/bagipriyank/orgs","repos_url":"https://api.github.com/users/bagipriyank/repos","events_url":"https://api.github.com/users/bagipriyank/events{/privacy}","received_events_url":"https://api.github.com/users/bagipriyank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T00:34:59Z","updated_at":"2022-11-17T00:34:59Z","author_association":"CONTRIBUTOR","body":"i found what caused it, and am able to fix it. i don't know why it causes the issue though.\r\nwe have `dataDir` and `segmentTarDir` but then we also have extra configs\r\n```\r\n      pinot.server.instance.dataDir=/var/pinot/server/data/index\r\n      pinot.server.instance.segmentTarDir=/var/pinot/server/data/segment\r\n```\r\nif i remove these two extra server configs then segments are stored at a path with table name in the path  :shrug:","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317876901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317882435","html_url":"https://github.com/apache/pinot/pull/9800#issuecomment-1317882435","issue_url":"https://api.github.com/repos/apache/pinot/issues/9800","id":1317882435,"node_id":"IC_kwDOATCU_c5OjUpD","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T00:40:53Z","updated_at":"2022-11-17T00:40:53Z","author_association":"CONTRIBUTOR","body":"> Just for my understanding, can you elaborate what you mean by unclean shutdown?\r\n\r\nSay when the server crashed for whatever reason (maybe memory) while the user was rebalancing the table, and moved away the consuming segments to a different server?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1317882435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318043485","html_url":"https://github.com/apache/pinot/issues/9393#issuecomment-1318043485","issue_url":"https://api.github.com/repos/apache/pinot/issues/9393","id":1318043485,"node_id":"IC_kwDOATCU_c5Oj79d","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T04:17:00Z","updated_at":"2022-11-17T04:17:00Z","author_association":"CONTRIBUTOR","body":"looks like the `pinot.server.instance.dataDir` extra config is conflicting with the definition in service's key `dataDir`. \r\n\r\naccording to [kubernetes/helm/pinot/templates/server/configmap.yaml](https://github.com/apache/pinot/blob/287534262fd9ccd8507fd06efaec2dd14a4d29cf/kubernetes/helm/pinot/templates/server/configmap.yaml) you can see it appends both:\r\n```\r\n    pinot.server.instance.dataDir={{ .Values.server.dataDir }}\r\n{{ .Values.server.extra.configs | indent 4 }}\r\n```\r\ne.g. you will have 2 `pinot.server.instance.dataDir` key and I dont even know how that's possible in the first place. \r\n\r\nthank you for provide the information. \r\n- could you help dump the ConfigMap from your k8s cluster direclty, it would probably help understand what exactly did helm resolve this into\r\n- based on the result we can see either it is a config key resolution issue; or a default value resolution issue and then it should be easy to fix\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318043485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318062224","html_url":"https://github.com/apache/pinot/pull/9823#issuecomment-1318062224","issue_url":"https://api.github.com/repos/apache/pinot/issues/9823","id":1318062224,"node_id":"IC_kwDOATCU_c5OkAiQ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T04:42:18Z","updated_at":"2022-11-17T04:57:55Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9823?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9823](https://codecov.io/gh/apache/pinot/pull/9823?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e84b9bc) into [master](https://codecov.io/gh/apache/pinot/commit/73e6129941d5099e83a0ceca1eae388a38f6b8c4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (73e6129) will **increase** coverage by `10.17%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9823       +/-   ##\n=============================================\n+ Coverage     24.55%   34.72%   +10.17%     \n- Complexity       53      199      +146     \n=============================================\n  Files          1952     1964       +12     \n  Lines        104676   105029      +353     \n  Branches      15856    15894       +38     \n=============================================\n+ Hits          25700    36470    +10770     \n+ Misses        76347    65514    -10833     \n- Partials       2629     3045      +416     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration2 | `24.47% <√∏> (-0.08%)` | :arrow_down: |\n| unittests2 | `15.77% <√∏> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9823?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [.../raw/BaseRawFloatSingleColumnDistinctExecutor.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9kaXN0aW5jdC9yYXcvQmFzZVJhd0Zsb2F0U2luZ2xlQ29sdW1uRGlzdGluY3RFeGVjdXRvci5qYXZh) | `0.00% <0.00%> (-77.78%)` | :arrow_down: |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `28.08% <0.00%> (-43.83%)` | :arrow_down: |\n| [.../raw/RawFloatSingleColumnDistinctOnlyExecutor.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9kaXN0aW5jdC9yYXcvUmF3RmxvYXRTaW5nbGVDb2x1bW5EaXN0aW5jdE9ubHlFeGVjdXRvci5qYXZh) | `0.00% <0.00%> (-29.63%)` | :arrow_down: |\n| [...ntroller/helix/core/minion/TaskMetricsEmitter.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9UYXNrTWV0cmljc0VtaXR0ZXIuamF2YQ==) | `18.60% <0.00%> (-16.28%)` | :arrow_down: |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `48.83% <0.00%> (-15.12%)` | :arrow_down: |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0.00% <0.00%> (-9.10%)` | :arrow_down: |\n| [...inot/core/util/SegmentCompletionProtocolUtils.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xVdGlscy5qYXZh) | `42.30% <0.00%> (-7.70%)` | :arrow_down: |\n| [...lter/predicate/NotInPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL05vdEluUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `45.77% <0.00%> (-4.93%)` | :arrow_down: |\n| [...mmon/assignment/InstanceAssignmentConfigUtils.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZUFzc2lnbm1lbnRDb25maWdVdGlscy5qYXZh) | `7.31% <0.00%> (-4.88%)` | :arrow_down: |\n| [.../NonAggregationGroupByToDistinctQueryRewriter.java](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9yZXdyaXRlci9Ob25BZ2dyZWdhdGlvbkdyb3VwQnlUb0Rpc3RpbmN0UXVlcnlSZXdyaXRlci5qYXZh) | `81.48% <0.00%> (-3.71%)` | :arrow_down: |\n| ... and [366 more](https://codecov.io/gh/apache/pinot/pull/9823/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318062224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318144209","html_url":"https://github.com/apache/pinot/pull/9815#issuecomment-1318144209","issue_url":"https://api.github.com/repos/apache/pinot/issues/9815","id":1318144209,"node_id":"IC_kwDOATCU_c5OkUjR","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T06:22:20Z","updated_at":"2022-11-17T06:34:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9815?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9815](https://codecov.io/gh/apache/pinot/pull/9815?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (49f55ef) into [master](https://codecov.io/gh/apache/pinot/commit/47c8f184365d6ffde870f94285747b9e009c7c15?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (47c8f18) will **increase** coverage by `3.60%`.\n> The diff coverage is `86.40%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9815      +/-   ##\n============================================\n+ Coverage     60.58%   64.18%   +3.60%     \n+ Complexity     5281     4973     -308     \n============================================\n  Files          1949     1911      -38     \n  Lines        104632   102613    -2019     \n  Branches      15847    15607     -240     \n============================================\n+ Hits          63389    65865    +2476     \n+ Misses        36540    31974    -4566     \n- Partials       4703     4774      +71     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration2 | `?` | |\n| unittests1 | `67.86% <85.41%> (+0.04%)` | :arrow_up: |\n| unittests2 | `15.77% <86.40%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9815?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...apache/pinot/common/function/FunctionRegistry.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25SZWdpc3RyeS5qYXZh) | `84.21% <√∏> (-2.64%)` | :arrow_down: |\n| [...not/query/planner/logical/RelToStageConverter.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1JlbFRvU3RhZ2VDb252ZXJ0ZXIuamF2YQ==) | `83.33% <√∏> (+3.70%)` | :arrow_up: |\n| [...che/pinot/query/planner/logical/RexExpression.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1JleEV4cHJlc3Npb24uamF2YQ==) | `81.33% <√∏> (+5.33%)` | :arrow_up: |\n| [...ache/pinot/query/planner/logical/StagePlanner.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1N0YWdlUGxhbm5lci5qYXZh) | `100.00% <√∏> (√∏)` | |\n| [...e/pinot/query/runtime/operator/FilterOperator.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9GaWx0ZXJPcGVyYXRvci5qYXZh) | `76.00% <√∏> (+16.00%)` | :arrow_up: |\n| [...ery/runtime/operator/operands/FunctionOperand.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9vcGVyYW5kcy9GdW5jdGlvbk9wZXJhbmQuamF2YQ==) | `100.00% <√∏> (√∏)` | |\n| [...query/runtime/operator/MailboxReceiveOperator.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NYWlsYm94UmVjZWl2ZU9wZXJhdG9yLmphdmE=) | `79.36% <50.00%> (-0.97%)` | :arrow_down: |\n| [...query/runtime/operator/operands/FilterOperand.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9vcGVyYW5kcy9GaWx0ZXJPcGVyYW5kLmphdmE=) | `83.90% <50.00%> (+16.05%)` | :arrow_up: |\n| [...va/org/apache/pinot/query/runtime/QueryRunner.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9RdWVyeVJ1bm5lci5qYXZh) | `86.58% <83.33%> (+8.90%)` | :arrow_up: |\n| [...ot/query/runtime/executor/RoundRobinScheduler.java](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9leGVjdXRvci9Sb3VuZFJvYmluU2NoZWR1bGVyLmphdmE=) | `87.50% <87.50%> (√∏)` | |\n| ... and [613 more](https://codecov.io/gh/apache/pinot/pull/9815/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318144209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318163038","html_url":"https://github.com/apache/pinot/issues/9393#issuecomment-1318163038","issue_url":"https://api.github.com/repos/apache/pinot/issues/9393","id":1318163038,"node_id":"IC_kwDOATCU_c5OkZJe","user":{"login":"bagipriyank","id":3229967,"node_id":"MDQ6VXNlcjMyMjk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3229967?v=4","gravatar_id":"","url":"https://api.github.com/users/bagipriyank","html_url":"https://github.com/bagipriyank","followers_url":"https://api.github.com/users/bagipriyank/followers","following_url":"https://api.github.com/users/bagipriyank/following{/other_user}","gists_url":"https://api.github.com/users/bagipriyank/gists{/gist_id}","starred_url":"https://api.github.com/users/bagipriyank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagipriyank/subscriptions","organizations_url":"https://api.github.com/users/bagipriyank/orgs","repos_url":"https://api.github.com/users/bagipriyank/repos","events_url":"https://api.github.com/users/bagipriyank/events{/privacy}","received_events_url":"https://api.github.com/users/bagipriyank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T06:43:41Z","updated_at":"2022-11-17T06:43:41Z","author_association":"CONTRIBUTOR","body":"@walterddr looks like you are correct. i see two entries in the pinot server configmap\r\n```\r\napiVersion: v1\r\ndata:\r\n  pinot-server.conf: |-\r\n    pinot.server.netty.port=8098\r\n    pinot.server.adminapi.port=8097\r\n    pinot.server.instance.dataDir=/var/pinot/server/data/index\r\n    pinot.server.instance.segmentTarDir=/var/pinot/server/data/segment\r\n    pinot.set.instance.id.to.hostname=true\r\n    pinot.server.instance.realtime.alloc.offheap=true\r\n    pinot.server.instance.currentDataTableVersion=2\r\n    pinot.server.instance.dataDir=/var/pinot/server/data/index\r\n    pinot.server.instance.segmentTarDir=/var/pinot/server/data/segment\r\n    pinot.server.storage.factory.class.s3=org.apache.pinot.plugin.filesystem.S3PinotFS\r\n    pinot.server.storage.factory.s3.region=us-east-1\r\n    pinot.server.segment.fetcher.protocols=file,http,s3\r\n    pinot.controller.storage.factory.s3.disableAcl=false\r\n    pinot.server.segment.fetcher.s3.class=org.apache.pinot.common.utils.fetcher.PinotFSSegmentFetcher\r\n    pinot.server.segment.fetcher.s3.retry.count=10\r\n    pinot.server.instance.segment.store.uri=s3://<redacted>/controller-data\r\n    pinot.server.instance.max.parallel.refresh.threads=10\r\n    pinot.zk.server=zookeeper-offline.de-nrt-pinot.svc.cluster.local:2181\r\n    pinot.server.swagger.use.https=true\r\nkind: ConfigMap\r\nmetadata:\r\n  annotations:\r\n    meta.helm.sh/release-name: pinot-offline\r\n    meta.helm.sh/release-namespace: de-nrt-pinot\r\n  creationTimestamp: \"2022-11-17T06:35:21Z\"\r\n  labels:\r\n    app.kubernetes.io/managed-by: Helm\r\n  name: pinot-offline-server-config\r\n  namespace: de-nrt-pinot\r\n  resourceVersion: \"282315454\"\r\n  uid: 5edaf2d3-eda0-48ba-afba-4a006020a543\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318163038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318170094","html_url":"https://github.com/apache/pinot/pull/9763#issuecomment-1318170094","issue_url":"https://api.github.com/repos/apache/pinot/issues/9763","id":1318170094,"node_id":"IC_kwDOATCU_c5Oka3u","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T06:51:59Z","updated_at":"2022-11-17T06:51:59Z","author_association":"CONTRIBUTOR","body":"Superseded by #9824.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318170094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318203944","html_url":"https://github.com/apache/pinot/pull/9824#issuecomment-1318203944","issue_url":"https://api.github.com/repos/apache/pinot/issues/9824","id":1318203944,"node_id":"IC_kwDOATCU_c5OkjIo","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T07:29:21Z","updated_at":"2022-11-17T07:46:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9824?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9824](https://codecov.io/gh/apache/pinot/pull/9824?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (dc98a01) into [master](https://codecov.io/gh/apache/pinot/commit/73e6129941d5099e83a0ceca1eae388a38f6b8c4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (73e6129) will **increase** coverage by `10.22%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9824       +/-   ##\n=============================================\n+ Coverage     24.55%   34.77%   +10.22%     \n- Complexity       53      199      +146     \n=============================================\n  Files          1952     1964       +12     \n  Lines        104676   105029      +353     \n  Branches      15856    15894       +38     \n=============================================\n+ Hits          25700    36526    +10826     \n+ Misses        76347    65434    -10913     \n- Partials       2629     3069      +440     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration2 | `24.50% <√∏> (-0.05%)` | :arrow_down: |\n| unittests2 | `15.77% <√∏> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9824?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [.../raw/BaseRawFloatSingleColumnDistinctExecutor.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9kaXN0aW5jdC9yYXcvQmFzZVJhd0Zsb2F0U2luZ2xlQ29sdW1uRGlzdGluY3RFeGVjdXRvci5qYXZh) | `0.00% <0.00%> (-77.78%)` | :arrow_down: |\n| [...er/validation/BrokerResourceValidationManager.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL0Jyb2tlclJlc291cmNlVmFsaWRhdGlvbk1hbmFnZXIuamF2YQ==) | `25.00% <0.00%> (-56.25%)` | :arrow_down: |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `28.08% <0.00%> (-43.83%)` | :arrow_down: |\n| [.../raw/RawFloatSingleColumnDistinctOnlyExecutor.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9kaXN0aW5jdC9yYXcvUmF3RmxvYXRTaW5nbGVDb2x1bW5EaXN0aW5jdE9ubHlFeGVjdXRvci5qYXZh) | `0.00% <0.00%> (-29.63%)` | :arrow_down: |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `48.83% <0.00%> (-15.12%)` | :arrow_down: |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0.00% <0.00%> (-9.10%)` | :arrow_down: |\n| [...inot/core/util/SegmentCompletionProtocolUtils.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xVdGlscy5qYXZh) | `42.30% <0.00%> (-7.70%)` | :arrow_down: |\n| [...ion/function/DistinctCountAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `43.04% <0.00%> (-4.49%)` | :arrow_down: |\n| [...ot/core/query/pruner/ColumnValueSegmentPruner.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvQ29sdW1uVmFsdWVTZWdtZW50UHJ1bmVyLmphdmE=) | `78.30% <0.00%> (-2.84%)` | :arrow_down: |\n| [...not/common/metadata/segment/SegmentZKMetadata.java](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvc2VnbWVudC9TZWdtZW50WktNZXRhZGF0YS5qYXZh) | `77.56% <0.00%> (-2.57%)` | :arrow_down: |\n| ... and [365 more](https://codecov.io/gh/apache/pinot/pull/9824/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318203944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318250667","html_url":"https://github.com/apache/pinot/issues/9812#issuecomment-1318250667","issue_url":"https://api.github.com/repos/apache/pinot/issues/9812","id":1318250667,"node_id":"IC_kwDOATCU_c5Okuir","user":{"login":"vmarchaud","id":2820968,"node_id":"MDQ6VXNlcjI4MjA5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/2820968?v=4","gravatar_id":"","url":"https://api.github.com/users/vmarchaud","html_url":"https://github.com/vmarchaud","followers_url":"https://api.github.com/users/vmarchaud/followers","following_url":"https://api.github.com/users/vmarchaud/following{/other_user}","gists_url":"https://api.github.com/users/vmarchaud/gists{/gist_id}","starred_url":"https://api.github.com/users/vmarchaud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmarchaud/subscriptions","organizations_url":"https://api.github.com/users/vmarchaud/orgs","repos_url":"https://api.github.com/users/vmarchaud/repos","events_url":"https://api.github.com/users/vmarchaud/events{/privacy}","received_events_url":"https://api.github.com/users/vmarchaud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T08:13:46Z","updated_at":"2022-11-17T08:14:06Z","author_association":"NONE","body":"@snleee Yeah i saw that in the changelog and i've re-enabled groovy, it actually gives another error if it's not enabled. So to be clear it doesnt work even after enabling Groovy","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318250667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318350823","html_url":"https://github.com/apache/pinot/issues/8755#issuecomment-1318350823","issue_url":"https://api.github.com/repos/apache/pinot/issues/8755","id":1318350823,"node_id":"IC_kwDOATCU_c5OlG_n","user":{"login":"suddendust","id":84911643,"node_id":"MDQ6VXNlcjg0OTExNjQz","avatar_url":"https://avatars.githubusercontent.com/u/84911643?v=4","gravatar_id":"","url":"https://api.github.com/users/suddendust","html_url":"https://github.com/suddendust","followers_url":"https://api.github.com/users/suddendust/followers","following_url":"https://api.github.com/users/suddendust/following{/other_user}","gists_url":"https://api.github.com/users/suddendust/gists{/gist_id}","starred_url":"https://api.github.com/users/suddendust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suddendust/subscriptions","organizations_url":"https://api.github.com/users/suddendust/orgs","repos_url":"https://api.github.com/users/suddendust/repos","events_url":"https://api.github.com/users/suddendust/events{/privacy}","received_events_url":"https://api.github.com/users/suddendust/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T09:37:42Z","updated_at":"2022-11-17T09:37:49Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia Any update on this? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1318350823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319010990","html_url":"https://github.com/apache/pinot/issues/9812#issuecomment-1319010990","issue_url":"https://api.github.com/repos/apache/pinot/issues/9812","id":1319010990,"node_id":"IC_kwDOATCU_c5OnoKu","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T18:03:39Z","updated_at":"2022-11-17T18:03:39Z","author_association":"CONTRIBUTOR","body":"@vmarchaud Can you post the server side log to check where we get the NullPointerException? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319010990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319105276","html_url":"https://github.com/apache/pinot/issues/9820#issuecomment-1319105276","issue_url":"https://api.github.com/repos/apache/pinot/issues/9820","id":1319105276,"node_id":"IC_kwDOATCU_c5On_L8","user":{"login":"amrishlal","id":4550395,"node_id":"MDQ6VXNlcjQ1NTAzOTU=","avatar_url":"https://avatars.githubusercontent.com/u/4550395?v=4","gravatar_id":"","url":"https://api.github.com/users/amrishlal","html_url":"https://github.com/amrishlal","followers_url":"https://api.github.com/users/amrishlal/followers","following_url":"https://api.github.com/users/amrishlal/following{/other_user}","gists_url":"https://api.github.com/users/amrishlal/gists{/gist_id}","starred_url":"https://api.github.com/users/amrishlal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrishlal/subscriptions","organizations_url":"https://api.github.com/users/amrishlal/orgs","repos_url":"https://api.github.com/users/amrishlal/repos","events_url":"https://api.github.com/users/amrishlal/events{/privacy}","received_events_url":"https://api.github.com/users/amrishlal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T19:31:19Z","updated_at":"2022-11-17T19:31:19Z","author_association":"CONTRIBUTOR","body":"FYI: @siddharthteotia @Jackie-Jiang ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319105276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319109856","html_url":"https://github.com/apache/pinot/pull/9800#issuecomment-1319109856","issue_url":"https://api.github.com/repos/apache/pinot/issues/9800","id":1319109856,"node_id":"IC_kwDOATCU_c5OoATg","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T19:36:03Z","updated_at":"2022-11-17T19:36:03Z","author_association":"CONTRIBUTOR","body":"Summarizing the discussion (or re-discussion) with @mayankshriv  / @snleee / @npawar :\r\n\r\n1. We all agree that periodic tasks on controller is not built for continuously / frequently run jobs. Moreover, this job will increase intra-cluster traffic and can have a negative impact on performance of Pinot components and, possibly even the upstream source (eg. in Kafka). \r\n2. We all agree that this is not the best approach for emitting consumer lag metrics. It will be better to emit metrics on the server side and aggregate in the monitoring layer. Aggregating in the monitoring the layer and defining the alerting rules has its challenges, esp. during ongoing cluster operations. This has been a challenge in the past with other server-side metrics like `LLC_PARTITION_CONSUMING` . \r\n\r\nHere is the plan of action:\r\n1. Let's leave this periodic task as an \"opt-in\" task in the controller. I will add a controller config that will define whether to enable this task or not. By default, it will be turned off.\r\n2. I will take a stab at adding the lag metric from the server side and create a follow-up PR. \r\n\r\nI would like to keep both options open for use in production so that we can observe how these metrics/handlers workout under various scenarios. \r\n\r\n@mcvsubbu if Linkedin is also working on the lag metrics, can you please share the design and the timeline for this ? I want to make sure design aligns and works with existing OSS apis. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319109856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319119805","html_url":"https://github.com/apache/pinot/pull/9800#issuecomment-1319119805","issue_url":"https://api.github.com/repos/apache/pinot/issues/9800","id":1319119805,"node_id":"IC_kwDOATCU_c5OoCu9","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T19:46:07Z","updated_at":"2022-11-17T19:46:07Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n[I thought all periodic tasks are opt-in. Just not configure it at all, or set the time inteval to 0 or somethig like that?]\r\n\r\nAnyways, yes. we are going to work on it, the timeline is next few weeks.\r\n\r\nNo design doc   but what we will be doing is:\r\n- One metric per table per consuming host -- basically the worst partition.\r\n- the metric gets destroyed when the partition is not consuming (as all metrics do today).\r\n- When new host starts to consume, it will get created in the new host (as metrics do today)\r\n\r\nI will let Juan add more details once he has it (or just a PR)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319119805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319124296","html_url":"https://github.com/apache/pinot/issues/9812#issuecomment-1319124296","issue_url":"https://api.github.com/repos/apache/pinot/issues/9812","id":1319124296,"node_id":"IC_kwDOATCU_c5OoD1I","user":{"login":"vmarchaud","id":2820968,"node_id":"MDQ6VXNlcjI4MjA5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/2820968?v=4","gravatar_id":"","url":"https://api.github.com/users/vmarchaud","html_url":"https://github.com/vmarchaud","followers_url":"https://api.github.com/users/vmarchaud/followers","following_url":"https://api.github.com/users/vmarchaud/following{/other_user}","gists_url":"https://api.github.com/users/vmarchaud/gists{/gist_id}","starred_url":"https://api.github.com/users/vmarchaud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmarchaud/subscriptions","organizations_url":"https://api.github.com/users/vmarchaud/orgs","repos_url":"https://api.github.com/users/vmarchaud/repos","events_url":"https://api.github.com/users/vmarchaud/events{/privacy}","received_events_url":"https://api.github.com/users/vmarchaud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T19:50:15Z","updated_at":"2022-11-17T19:50:22Z","author_association":"NONE","body":"@snleee I only get the following lines:\r\n```\r\nnov. 17 19:49:36 pinot-hosts-3 bash[13646]: 2022/11/17 19:49:36.307 ERROR [BaseCombineOperator] [pqw-10] Caught exception while processing query: QueryContext{_tableName='datasource_609bc534f46c000300b29dcf_REALTIME', _subquery=null, _selectExpressions=[distinct(groovy('{\"returnType\":\"STRING\",\"isSingleValue\":true}','arg0.toList().join(';')',jsonextractkey(labels,'$.*')))], _aliasList=[null], _filter=(timestamp >= '1667833781565' AND labels != '{}'), _groupByExpressions=null, _havingFilter=null, _orderByExpressions=null, _limit=100, _offset=0, _queryOptions={responseFormat=sql, groupByMode=sql, timeoutMs=10000}, _expressionOverrideHints={}, _explain=false}\r\nnov. 17 19:49:36 pinot-hosts-3 bash[13646]: java.lang.NullPointerException: null\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319124296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319275308","html_url":"https://github.com/apache/pinot/pull/9821#issuecomment-1319275308","issue_url":"https://api.github.com/repos/apache/pinot/issues/9821","id":1319275308,"node_id":"IC_kwDOATCU_c5Oooss","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T22:12:11Z","updated_at":"2022-11-17T22:13:58Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9821?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9821](https://codecov.io/gh/apache/pinot/pull/9821?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4b5d0fb) into [master](https://codecov.io/gh/apache/pinot/commit/73e6129941d5099e83a0ceca1eae388a38f6b8c4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (73e6129) will **increase** coverage by `44.23%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9821       +/-   ##\n=============================================\n+ Coverage     24.55%   68.78%   +44.23%     \n- Complexity       53     4911     +4858     \n=============================================\n  Files          1952     1964       +12     \n  Lines        104676   105029      +353     \n  Branches      15856    15894       +38     \n=============================================\n+ Hits          25700    72241    +46541     \n+ Misses        76347    27685    -48662     \n- Partials       2629     5103     +2474     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `25.29% <√∏> (?)` | |\n| integration2 | `?` | |\n| unittests1 | `67.94% <√∏> (?)` | |\n| unittests2 | `15.76% <√∏> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9821?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...pinot/core/data/manager/realtime/TimerService.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvVGltZXJTZXJ2aWNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...t/core/plan/StreamingInstanceResponsePlanNode.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1N0cmVhbWluZ0luc3RhbmNlUmVzcG9uc2VQbGFuTm9kZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ore/operator/streaming/StreamingResponseUtils.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9zdHJlYW1pbmcvU3RyZWFtaW5nUmVzcG9uc2VVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...server/starter/helix/SegmentReloadStatusValue.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50UmVsb2FkU3RhdHVzVmFsdWUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ager/realtime/PeerSchemeSplitSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUGVlclNjaGVtZVNwbGl0U2VnbWVudENvbW1pdHRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...urces/ServerReloadControllerJobStatusResponse.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1NlcnZlclJlbG9hZENvbnRyb2xsZXJKb2JTdGF0dXNSZXNwb25zZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/utils/grpc/GrpcRequestBuilder.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZ3JwYy9HcnBjUmVxdWVzdEJ1aWxkZXIuamF2YQ==) | `0.00% <0.00%> (-90.91%)` | :arrow_down: |\n| [...ator/streaming/StreamingSelectionOnlyOperator.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9zdHJlYW1pbmcvU3RyZWFtaW5nU2VsZWN0aW9uT25seU9wZXJhdG9yLmphdmE=) | `0.00% <0.00%> (-90.00%)` | :arrow_down: |\n| [...he/pinot/core/plan/StreamingSelectionPlanNode.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1N0cmVhbWluZ1NlbGVjdGlvblBsYW5Ob2RlLmphdmE=) | `0.00% <0.00%> (-88.89%)` | :arrow_down: |\n| [...lugin/stream/kafka20/KafkaStreamLevelConsumer.java](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1zdHJlYW0taW5nZXN0aW9uL3Bpbm90LWthZmthLTIuMC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL3N0cmVhbS9rYWZrYTIwL0thZmthU3RyZWFtTGV2ZWxDb25zdW1lci5qYXZh) | `0.00% <0.00%> (-88.34%)` | :arrow_down: |\n| ... and [1485 more](https://codecov.io/gh/apache/pinot/pull/9821/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319275308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319283386","html_url":"https://github.com/apache/pinot/issues/9393#issuecomment-1319283386","issue_url":"https://api.github.com/repos/apache/pinot/issues/9393","id":1319283386,"node_id":"IC_kwDOATCU_c5Ooqq6","user":{"login":"bagipriyank","id":3229967,"node_id":"MDQ6VXNlcjMyMjk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3229967?v=4","gravatar_id":"","url":"https://api.github.com/users/bagipriyank","html_url":"https://github.com/bagipriyank","followers_url":"https://api.github.com/users/bagipriyank/followers","following_url":"https://api.github.com/users/bagipriyank/following{/other_user}","gists_url":"https://api.github.com/users/bagipriyank/gists{/gist_id}","starred_url":"https://api.github.com/users/bagipriyank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagipriyank/subscriptions","organizations_url":"https://api.github.com/users/bagipriyank/orgs","repos_url":"https://api.github.com/users/bagipriyank/repos","events_url":"https://api.github.com/users/bagipriyank/events{/privacy}","received_events_url":"https://api.github.com/users/bagipriyank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T22:20:49Z","updated_at":"2022-11-17T22:20:49Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/pinot/blob/b2da31005b9e958a022150cfaac228a951daf0b3/pinot-server/src/main/java/org/apache/pinot/server/starter/helix/DefaultHelixStarterServerConfig.java#L40 logs the config map\r\n```\r\n2022-11-17 13:53:41 | External config key: pinot.server.instance.segmenttardir, value: /var/pinot/server/data/segment,/var/pinot/server/data/segment\r\n2022-11-17 13:53:41 | External config key: pinot.server.swagger.use.https, value: true\r\n2022-11-17 13:53:41 | External config key: pinot.server.instance.realtime.alloc.offheap, value: true\r\n2022-11-17 13:53:41 | External config key: pinot.server.adminapi.port, value: 8097\r\n2022-11-17 13:53:41 | External config key: pinot.zk.server, value: zookeeper-offline.de-nrt-pinot.svc.cluster.local:2181\r\n2022-11-17 13:53:41 | External config key: pinot.server.instance.datadir, value: /var/pinot/server/data/index,/var/pinot/server/data/index\r\n```\r\nso the value is now a comma separated string","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319283386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319283633","html_url":"https://github.com/apache/pinot/pull/9818#issuecomment-1319283633","issue_url":"https://api.github.com/repos/apache/pinot/issues/9818","id":1319283633,"node_id":"IC_kwDOATCU_c5Ooqux","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T22:21:05Z","updated_at":"2022-11-21T19:50:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9818?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9818](https://codecov.io/gh/apache/pinot/pull/9818?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b14e263) into [master](https://codecov.io/gh/apache/pinot/commit/24ec46f99ae10d13937b6a413ef6f2509f7b0d92?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (24ec46f) will **decrease** coverage by `48.48%`.\n> The diff coverage is `50.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9818       +/-   ##\n=============================================\n- Coverage     64.34%   15.86%   -48.49%     \n+ Complexity     5432      175     -5257     \n=============================================\n  Files          1912     1912               \n  Lines        102698   102706        +8     \n  Branches      15620    15622        +2     \n=============================================\n- Hits          66084    16294    -49790     \n- Misses        31829    85215    +53386     \n+ Partials       4785     1197     -3588     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| unittests1 | `?` | |\n| unittests2 | `15.86% <50.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9818?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [.../pinot/core/common/datablock/DataBlockBuilder.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vZGF0YWJsb2NrL0RhdGFCbG9ja0J1aWxkZXIuamF2YQ==) | `0.00% <0.00%> (-72.99%)` | :arrow_down: |\n| [...a/org/apache/pinot/query/catalog/PinotCatalog.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvY2F0YWxvZy9QaW5vdENhdGFsb2cuamF2YQ==) | `47.36% <50.00%> (-2.64%)` | :arrow_down: |\n| [.../java/org/apache/pinot/query/QueryEnvironment.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvUXVlcnlFbnZpcm9ubWVudC5qYXZh) | `84.84% <100.00%> (+0.72%)` | :arrow_up: |\n| [...src/main/java/org/apache/pinot/sql/FilterKind.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvRmlsdGVyS2luZC5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ain/java/org/apache/pinot/core/data/table/Key.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL0tleS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...in/java/org/apache/pinot/spi/utils/BytesUtils.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQnl0ZXNVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...n/java/org/apache/pinot/core/data/table/Table.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL1RhYmxlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/data/table/Record.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3RhYmxlL1JlY29yZC5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../java/org/apache/pinot/core/util/GroupByUtils.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL0dyb3VwQnlVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/BaseRecording.java](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvQmFzZVJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1208 more](https://codecov.io/gh/apache/pinot/pull/9818/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319283633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319288136","html_url":"https://github.com/apache/pinot/pull/9826#issuecomment-1319288136","issue_url":"https://api.github.com/repos/apache/pinot/issues/9826","id":1319288136,"node_id":"IC_kwDOATCU_c5Oor1I","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T22:26:12Z","updated_at":"2022-12-02T19:52:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9826?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9826](https://codecov.io/gh/apache/pinot/pull/9826?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4449ea3) into [master](https://codecov.io/gh/apache/pinot/commit/568d858f1654dc35cd07ad28978ead1161bd65d9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (568d858) will **decrease** coverage by `32.89%`.\n> The diff coverage is `2.77%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9826       +/-   ##\n=============================================\n- Coverage     60.89%   27.99%   -32.90%     \n+ Complexity     5376       53     -5323     \n=============================================\n  Files          1966     1969        +3     \n  Lines        105840   105933       +93     \n  Branches      16059    16071       +12     \n=============================================\n- Hits          64455    29661    -34794     \n- Misses        36617    73355    +36738     \n+ Partials       4768     2917     -1851     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `25.00% <2.77%> (?)` | |\n| integration2 | `24.51% <2.77%> (-0.07%)` | :arrow_down: |\n| unittests1 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9826?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...ata/manager/offline/DimensionTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvb2ZmbGluZS9EaW1lbnNpb25UYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `0.00% <0.00%> (-77.78%)` | :arrow_down: |\n| [...data/manager/offline/FastLookupDimensionTable.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvb2ZmbGluZS9GYXN0TG9va3VwRGltZW5zaW9uVGFibGUuamF2YQ==) | `0.00% <0.00%> (√∏)` | |\n| [...ore/data/manager/offline/LookupRecordLocation.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvb2ZmbGluZS9Mb29rdXBSZWNvcmRMb2NhdGlvbi5qYXZh) | `0.00% <0.00%> (√∏)` | |\n| [...manager/offline/MemoryOptimizedDimensionTable.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvb2ZmbGluZS9NZW1vcnlPcHRpbWl6ZWREaW1lbnNpb25UYWJsZS5qYXZh) | `0.00% <0.00%> (√∏)` | |\n| [...e/pinot/spi/config/table/DimensionTableConfig.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0RpbWVuc2lvblRhYmxlQ29uZmlnLmphdmE=) | `0.00% <0.00%> (√∏)` | |\n| [...org/apache/pinot/spi/config/table/TableConfig.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1RhYmxlQ29uZmlnLmphdmE=) | `0.00% <0.00%> (-65.66%)` | :arrow_down: |\n| [...he/pinot/spi/utils/builder/TableConfigBuilder.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvYnVpbGRlci9UYWJsZUNvbmZpZ0J1aWxkZXIuamF2YQ==) | `0.00% <0.00%> (-87.50%)` | :arrow_down: |\n| [...he/pinot/common/utils/config/TableConfigUtils.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvY29uZmlnL1RhYmxlQ29uZmlnVXRpbHMuamF2YQ==) | `58.23% <42.85%> (-21.52%)` | :arrow_down: |\n| [...ain/java/org/apache/pinot/spi/utils/LoopUtils.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvTG9vcFV0aWxzLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...in/java/org/apache/pinot/spi/utils/BytesUtils.java](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQnl0ZXNVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1231 more](https://codecov.io/gh/apache/pinot/pull/9826/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319288136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319397344","html_url":"https://github.com/apache/pinot/issues/9819#issuecomment-1319397344","issue_url":"https://api.github.com/repos/apache/pinot/issues/9819","id":1319397344,"node_id":"IC_kwDOATCU_c5OpGfg","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T00:35:10Z","updated_at":"2022-11-18T00:35:10Z","author_association":"MEMBER","body":"is this limited to JSON format or any text?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319397344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319521363","html_url":"https://github.com/apache/pinot/issues/9819#issuecomment-1319521363","issue_url":"https://api.github.com/repos/apache/pinot/issues/9819","id":1319521363,"node_id":"IC_kwDOATCU_c5OpkxT","user":{"login":"kirkrodrigues","id":2454684,"node_id":"MDQ6VXNlcjI0NTQ2ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/2454684?v=4","gravatar_id":"","url":"https://api.github.com/users/kirkrodrigues","html_url":"https://github.com/kirkrodrigues","followers_url":"https://api.github.com/users/kirkrodrigues/followers","following_url":"https://api.github.com/users/kirkrodrigues/following{/other_user}","gists_url":"https://api.github.com/users/kirkrodrigues/gists{/gist_id}","starred_url":"https://api.github.com/users/kirkrodrigues/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirkrodrigues/subscriptions","organizations_url":"https://api.github.com/users/kirkrodrigues/orgs","repos_url":"https://api.github.com/users/kirkrodrigues/repos","events_url":"https://api.github.com/users/kirkrodrigues/events{/privacy}","received_events_url":"https://api.github.com/users/kirkrodrigues/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T04:13:47Z","updated_at":"2022-11-18T04:13:47Z","author_association":"CONTRIBUTOR","body":"The plugins would be limited to input JSON records and CLP's encoding can be applied to any text field within those records.\r\n\r\nOur short term goal is to kind of use Pinot as a black box columnar store. So we'd apply CLP's encoding to decompose a text field into a columnar format and store the columns in Pinot; for logs this should reduce the storage overhead of that field while still allowing it to be searched without resorting to a text index. Then when a user wants to query the field, we'd use CLP to convert their wildcard query into a SQL query on the decomposed columns in Pinot. Since the query operates on the decomposed columns, this should be faster than a query on the original text and only matching rows would need to be reconstructed from the columns using a UDF.\r\n\r\nIf this works well, (and if the community gives us their blessing :), we hope to try and integrate this deeper into Pinot, perhaps as a special type of index that could be applied to any text column which contains logs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319521363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319631261","html_url":"https://github.com/apache/pinot/pull/9811#issuecomment-1319631261","issue_url":"https://api.github.com/repos/apache/pinot/issues/9811","id":1319631261,"node_id":"IC_kwDOATCU_c5Op_md","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T07:12:46Z","updated_at":"2022-11-18T07:12:46Z","author_association":"CONTRIBUTOR","body":"Added some more aggregate tests. PTAL @walterddr ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319631261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319686120","html_url":"https://github.com/apache/pinot/pull/9833#issuecomment-1319686120","issue_url":"https://api.github.com/repos/apache/pinot/issues/9833","id":1319686120,"node_id":"IC_kwDOATCU_c5OqM_o","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T08:22:39Z","updated_at":"2022-11-22T00:31:03Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9833?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9833](https://codecov.io/gh/apache/pinot/pull/9833?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fcc6020) into [master](https://codecov.io/gh/apache/pinot/commit/e98fa6e47f7534cd8ce6242f59247814f4dd2814?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e98fa6e) will **decrease** coverage by `1.44%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9833      +/-   ##\n============================================\n- Coverage     70.26%   68.82%   -1.45%     \n- Complexity     4924     5444     +520     \n============================================\n  Files          1964     1965       +1     \n  Lines        105055   105120      +65     \n  Branches      15907    15908       +1     \n============================================\n- Hits          73822    72349    -1473     \n- Misses        26101    27659    +1558     \n+ Partials       5132     5112      -20     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `25.36% <√∏> (+0.07%)` | :arrow_up: |\n| integration2 | `?` | |\n| unittests1 | `68.00% <√∏> (+0.03%)` | :arrow_up: |\n| unittests2 | `15.84% <√∏> (+0.05%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9833?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...g/apache/pinot/server/api/resources/ErrorInfo.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9FcnJvckluZm8uamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...pinot/core/data/manager/realtime/TimerService.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvVGltZXJTZXJ2aWNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...t/core/plan/StreamingInstanceResponsePlanNode.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1N0cmVhbWluZ0luc3RhbmNlUmVzcG9uc2VQbGFuTm9kZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ore/operator/streaming/StreamingResponseUtils.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9zdHJlYW1pbmcvU3RyZWFtaW5nUmVzcG9uc2VVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...server/starter/helix/SegmentReloadStatusValue.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50UmVsb2FkU3RhdHVzVmFsdWUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ager/realtime/PeerSchemeSplitSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUGVlclNjaGVtZVNwbGl0U2VnbWVudENvbW1pdHRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...urces/ServerReloadControllerJobStatusResponse.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1NlcnZlclJlbG9hZENvbnRyb2xsZXJKb2JTdGF0dXNSZXNwb25zZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/utils/grpc/GrpcRequestBuilder.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZ3JwYy9HcnBjUmVxdWVzdEJ1aWxkZXIuamF2YQ==) | `0.00% <0.00%> (-90.91%)` | :arrow_down: |\n| [...ator/streaming/StreamingSelectionOnlyOperator.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9zdHJlYW1pbmcvU3RyZWFtaW5nU2VsZWN0aW9uT25seU9wZXJhdG9yLmphdmE=) | `0.00% <0.00%> (-90.00%)` | :arrow_down: |\n| [...he/pinot/core/plan/StreamingSelectionPlanNode.java](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1N0cmVhbWluZ1NlbGVjdGlvblBsYW5Ob2RlLmphdmE=) | `0.00% <0.00%> (-88.89%)` | :arrow_down: |\n| ... and [166 more](https://codecov.io/gh/apache/pinot/pull/9833/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1319686120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320194773","html_url":"https://github.com/apache/pinot/pull/9778#issuecomment-1320194773","issue_url":"https://api.github.com/repos/apache/pinot/issues/9778","id":1320194773,"node_id":"IC_kwDOATCU_c5OsJLV","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T15:42:20Z","updated_at":"2022-11-18T15:42:20Z","author_association":"CONTRIBUTOR","body":"test is failing on this PR can you take a look @61yao ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320194773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320249064","html_url":"https://github.com/apache/pinot/pull/9829#issuecomment-1320249064","issue_url":"https://api.github.com/repos/apache/pinot/issues/9829","id":1320249064,"node_id":"IC_kwDOATCU_c5OsWbo","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T16:26:47Z","updated_at":"2022-11-22T03:21:53Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9829?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9829](https://codecov.io/gh/apache/pinot/pull/9829?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (319a3cd) into [master](https://codecov.io/gh/apache/pinot/commit/f2b56d9788bd01742e56576c92ffc5c9ce8d9b8e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f2b56d9) will **decrease** coverage by `44.22%`.\n> The diff coverage is `5.88%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9829       +/-   ##\n=============================================\n- Coverage     68.79%   24.57%   -44.23%     \n+ Complexity     5444       53     -5391     \n=============================================\n  Files          1965     1953       -12     \n  Lines        105120   104778      -342     \n  Branches      15908    15876       -32     \n=============================================\n- Hits          72319    25746    -46573     \n- Misses        27686    76399    +48713     \n+ Partials       5115     2633     -2482     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `24.57% <5.88%> (?)` | |\n| unittests1 | `?` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9829?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...query/runtime/operator/operands/FilterOperand.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9vcGVyYW5kcy9GaWx0ZXJPcGVyYW5kLmphdmE=) | `0.00% <0.00%> (-83.91%)` | :arrow_down: |\n| [...java/org/apache/pinot/common/utils/DataSchema.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRGF0YVNjaGVtYS5qYXZh) | `59.44% <25.00%> (-17.76%)` | :arrow_down: |\n| [...in/java/org/apache/pinot/spi/utils/BytesUtils.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQnl0ZXNVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/BaseRecording.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvQmFzZVJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/NoOpRecording.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvTm9PcFJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/table/FSTType.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0ZTVFR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/user/RoleType.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3VzZXIvUm9sZVR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/data/MetricFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9NZXRyaWNGaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/stream/StreamMessage.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbU1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/common/tier/TierFactory.java](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdGllci9UaWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1490 more](https://codecov.io/gh/apache/pinot/pull/9829/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320249064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320537778","html_url":"https://github.com/apache/pinot/issues/9834#issuecomment-1320537778","issue_url":"https://api.github.com/repos/apache/pinot/issues/9834","id":1320537778,"node_id":"IC_kwDOATCU_c5Otc6y","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T21:24:02Z","updated_at":"2022-11-18T21:24:02Z","author_association":"CONTRIBUTOR","body":"+100.\n\nAlso shall we just go a step further to support DROP SCHEMA or DROP TABLE statement ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320537778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320584678","html_url":"https://github.com/apache/pinot/pull/9800#issuecomment-1320584678","issue_url":"https://api.github.com/repos/apache/pinot/issues/9800","id":1320584678,"node_id":"IC_kwDOATCU_c5OtoXm","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T22:13:45Z","updated_at":"2022-11-18T22:15:06Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu @jugomezv I will check in this since this PR doesn't introduce any invasive change given that the feature is disabled by default. \r\n\r\n@navina Let's loop back once the server side solution is posted. We can review it together. Thanks for driving the discussion!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320584678/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320614801","html_url":"https://github.com/apache/pinot/issues/9819#issuecomment-1320614801","issue_url":"https://api.github.com/repos/apache/pinot/issues/9819","id":1320614801,"node_id":"IC_kwDOATCU_c5OtvuR","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T22:48:10Z","updated_at":"2022-11-18T22:48:10Z","author_association":"CONTRIBUTOR","body":"The CLP encoding should be applicable to multiple input formats including JSON and text. Our first implementation of stream decoder should will be based on JSON log input. @kirkrodrigues can we extract the core logic so that other input stream format can easily use it too? May not be the first PR but can be a good follow up one.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320614801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320652145","html_url":"https://github.com/apache/pinot/pull/9835#issuecomment-1320652145","issue_url":"https://api.github.com/repos/apache/pinot/issues/9835","id":1320652145,"node_id":"IC_kwDOATCU_c5Ot41x","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T23:31:53Z","updated_at":"2022-11-18T23:39:44Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9835?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9835](https://codecov.io/gh/apache/pinot/pull/9835?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5f92f2d) into [master](https://codecov.io/gh/apache/pinot/commit/e98fa6e47f7534cd8ce6242f59247814f4dd2814?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e98fa6e) will **decrease** coverage by `6.00%`.\n> The diff coverage is `25.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9835      +/-   ##\n============================================\n- Coverage     70.26%   64.26%   -6.01%     \n- Complexity     4924     4976      +52     \n============================================\n  Files          1964     1913      -51     \n  Lines        105055   102696    -2359     \n  Branches      15907    15621     -286     \n============================================\n- Hits          73822    66002    -7820     \n- Misses        26101    31916    +5815     \n+ Partials       5132     4778     -354     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `67.96% <25.00%> (-0.01%)` | :arrow_down: |\n| unittests2 | `15.81% <0.00%> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9835?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `28.57% <0.00%> (-41.70%)` | :arrow_down: |\n| [...t/local/upsert/BaseTableUpsertMetadataManager.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQmFzZVRhYmxlVXBzZXJ0TWV0YWRhdGFNYW5hZ2VyLmphdmE=) | `57.89% <√∏> (√∏)` | |\n| [...gment/local/upsert/TableUpsertMetadataManager.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvVGFibGVVcHNlcnRNZXRhZGF0YU1hbmFnZXIuamF2YQ==) | `0.00% <0.00%> (√∏)` | |\n| [...ocal/upsert/TableUpsertMetadataManagerFactory.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvVGFibGVVcHNlcnRNZXRhZGF0YU1hbmFnZXJGYWN0b3J5LmphdmE=) | `47.05% <100.00%> (√∏)` | |\n| [...va/org/apache/pinot/common/config/NettyConfig.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL05ldHR5Q29uZmlnLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/metrics/MinionMeter.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25NZXRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...g/apache/pinot/common/metrics/ControllerMeter.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/BrokerQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJRdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/MinionQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25RdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ache/pinot/server/access/AccessControlFactory.java](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL2FjY2Vzcy9BY2Nlc3NDb250cm9sRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [435 more](https://codecov.io/gh/apache/pinot/pull/9835/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320652145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320862229","html_url":"https://github.com/apache/pinot/issues/9819#issuecomment-1320862229","issue_url":"https://api.github.com/repos/apache/pinot/issues/9819","id":1320862229,"node_id":"IC_kwDOATCU_c5OusIV","user":{"login":"kirkrodrigues","id":2454684,"node_id":"MDQ6VXNlcjI0NTQ2ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/2454684?v=4","gravatar_id":"","url":"https://api.github.com/users/kirkrodrigues","html_url":"https://github.com/kirkrodrigues","followers_url":"https://api.github.com/users/kirkrodrigues/followers","following_url":"https://api.github.com/users/kirkrodrigues/following{/other_user}","gists_url":"https://api.github.com/users/kirkrodrigues/gists{/gist_id}","starred_url":"https://api.github.com/users/kirkrodrigues/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirkrodrigues/subscriptions","organizations_url":"https://api.github.com/users/kirkrodrigues/orgs","repos_url":"https://api.github.com/users/kirkrodrigues/repos","events_url":"https://api.github.com/users/kirkrodrigues/events{/privacy}","received_events_url":"https://api.github.com/users/kirkrodrigues/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T11:15:56Z","updated_at":"2022-11-19T11:15:56Z","author_association":"CONTRIBUTOR","body":"@chenboat Yeah, I could lift the CLP-encoding logic into a class so that it's easy for other input formats to use it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320862229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320868626","html_url":"https://github.com/apache/pinot/pull/9751#issuecomment-1320868626","issue_url":"https://api.github.com/repos/apache/pinot/issues/9751","id":1320868626,"node_id":"IC_kwDOATCU_c5OutsS","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T11:53:44Z","updated_at":"2022-11-19T11:53:44Z","author_association":"CONTRIBUTOR","body":"> Nit: are we able to cover this in unit test if possible?\r\n\r\nThe change in this PR basically change the NPE to a more readable error message, and IMO it is a little bit overkilling to add a test for it","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320868626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320872024","html_url":"https://github.com/apache/pinot/pull/9766#issuecomment-1320872024","issue_url":"https://api.github.com/repos/apache/pinot/issues/9766","id":1320872024,"node_id":"IC_kwDOATCU_c5OuuhY","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T12:10:06Z","updated_at":"2022-11-19T12:10:06Z","author_association":"CONTRIBUTOR","body":"The quick-start is failing because of this change (see the comment in the changed dependency file for details). Do you think you can override the dependency in your build instead of changing the dependency scope here? That is usually possible if you pin the library version on the top level","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320872024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320872243","html_url":"https://github.com/apache/pinot/issues/9771#issuecomment-1320872243","issue_url":"https://api.github.com/repos/apache/pinot/issues/9771","id":1320872243,"node_id":"IC_kwDOATCU_c5Ouukz","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T12:11:12Z","updated_at":"2022-11-19T12:11:12Z","author_association":"CONTRIBUTOR","body":"Related fix: #9777 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320872243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320872744","html_url":"https://github.com/apache/pinot/issues/9770#issuecomment-1320872744","issue_url":"https://api.github.com/repos/apache/pinot/issues/9770","id":1320872744,"node_id":"IC_kwDOATCU_c5Ouuso","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T12:14:28Z","updated_at":"2022-11-19T12:14:28Z","author_association":"CONTRIBUTOR","body":"I'd suggest throwing error (during table config validation) when the explicitly configured sorted columns is configured as no-dictionary column to avoid the confusion. We should make the exception message very clear on why sorted column should not be configured as no-dictionary","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320872744/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320874287","html_url":"https://github.com/apache/pinot/issues/9670#issuecomment-1320874287","issue_url":"https://api.github.com/repos/apache/pinot/issues/9670","id":1320874287,"node_id":"IC_kwDOATCU_c5OuvEv","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T12:22:19Z","updated_at":"2022-11-19T12:22:19Z","author_association":"CONTRIBUTOR","body":"cc @xiangfu0 any idea on this issue?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320874287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320874860","html_url":"https://github.com/apache/pinot/issues/9670#issuecomment-1320874860","issue_url":"https://api.github.com/repos/apache/pinot/issues/9670","id":1320874860,"node_id":"IC_kwDOATCU_c5OuvNs","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T12:25:14Z","updated_at":"2022-11-19T12:25:14Z","author_association":"CONTRIBUTOR","body":"Also cc @elonazoulay @ddcprg who contributed to the confluent avro package","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320874860/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320876317","html_url":"https://github.com/apache/pinot/issues/9785#issuecomment-1320876317","issue_url":"https://api.github.com/repos/apache/pinot/issues/9785","id":1320876317,"node_id":"IC_kwDOATCU_c5Ouvkd","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T12:33:33Z","updated_at":"2022-11-19T12:33:33Z","author_association":"CONTRIBUTOR","body":"One way I can think of is to integrate the consumption status check into the segment state transition from `OFFLINE` to `CONSUMING`. Basically do not mark the segment ready before the consumption catch up. It can slow down the state transition (if it takes very lone, it can even time out, but we can probably put a time limit for the wait), but maybe the correct approach, which can apply to both startup and rebalance","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320876317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320876811","html_url":"https://github.com/apache/pinot/pull/9751#issuecomment-1320876811","issue_url":"https://api.github.com/repos/apache/pinot/issues/9751","id":1320876811,"node_id":"IC_kwDOATCU_c5OuvsL","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T12:35:51Z","updated_at":"2022-11-19T12:51:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9751?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9751](https://codecov.io/gh/apache/pinot/pull/9751?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (58aaaba) into [master](https://codecov.io/gh/apache/pinot/commit/3724ba27cf5ceeebdd9805327b7f3d29abdea47d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3724ba2) will **increase** coverage by `35.65%`.\n> The diff coverage is `66.66%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9751       +/-   ##\n=============================================\n+ Coverage     34.69%   70.35%   +35.65%     \n- Complexity      190     5001     +4811     \n=============================================\n  Files          1965     1965               \n  Lines        105115   105108        -7     \n  Branches      15909    15908        -1     \n=============================================\n+ Hits          36474    73950    +37476     \n+ Misses        65542    26017    -39525     \n- Partials       3099     5141     +2042     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `25.24% <66.66%> (+0.11%)` | :arrow_up: |\n| integration2 | `24.49% <66.66%> (?)` | |\n| unittests1 | `67.96% <√∏> (?)` | |\n| unittests2 | `15.83% <66.66%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9751?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...va/org/apache/pinot/controller/ControllerConf.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyQ29uZi5qYXZh) | `59.68% <66.66%> (+2.70%)` | :arrow_up: |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `72.15% <0.00%> (-0.82%)` | :arrow_down: |\n| [...pache/pinot/core/query/utils/idset/EmptyIdSet.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9pZHNldC9FbXB0eUlkU2V0LmphdmE=) | `25.00% <0.00%> (√∏)` | |\n| [...inot/core/util/SegmentCompletionProtocolUtils.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xVdGlscy5qYXZh) | `57.69% <0.00%> (√∏)` | |\n| [...anager/realtime/SegmentBuildTimeLeaseExtender.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudEJ1aWxkVGltZUxlYXNlRXh0ZW5kZXIuamF2YQ==) | `63.23% <0.00%> (√∏)` | |\n| [.../core/realtime/PinotLLCRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90TExDUmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `72.07% <0.00%> (+0.45%)` | :arrow_up: |\n| [...che/pinot/broker/routing/BrokerRoutingManager.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9Ccm9rZXJSb3V0aW5nTWFuYWdlci5qYXZh) | `86.07% <0.00%> (+0.55%)` | :arrow_up: |\n| [...e/pinot/common/function/TransformFunctionType.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25UeXBlLmphdmE=) | `100.00% <0.00%> (+0.94%)` | :arrow_up: |\n| [...x/core/realtime/MissingConsumingSegmentFinder.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL01pc3NpbmdDb25zdW1pbmdTZWdtZW50RmluZGVyLmphdmE=) | `87.09% <0.00%> (+1.07%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `94.44% <0.00%> (+1.11%)` | :arrow_up: |\n| ... and [1118 more](https://codecov.io/gh/apache/pinot/pull/9751/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320876811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320877569","html_url":"https://github.com/apache/pinot/issues/9784#issuecomment-1320877569","issue_url":"https://api.github.com/repos/apache/pinot/issues/9784","id":1320877569,"node_id":"IC_kwDOATCU_c5Ouv4B","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T12:40:19Z","updated_at":"2022-11-19T12:40:19Z","author_association":"CONTRIBUTOR","body":"Interesting. I think it is because the metric is incorrect when the consuming segment and committed segments are in different servers, and the freshness lag for the server with committed segments spikes because there is no consuming segment on it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320877569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320895915","html_url":"https://github.com/apache/pinot/pull/9766#issuecomment-1320895915","issue_url":"https://api.github.com/repos/apache/pinot/issues/9766","id":1320895915,"node_id":"IC_kwDOATCU_c5Ou0Wr","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T14:20:57Z","updated_at":"2022-11-19T14:20:57Z","author_association":"CONTRIBUTOR","body":"Good point. We actually made this change and commented that command out in our own build. I can't think of a better way that doesn't require users to provide the SparkLaucher in the class path of the admin starter, so we'll just leave this changed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320895915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320920704","html_url":"https://github.com/apache/pinot/pull/9832#issuecomment-1320920704","issue_url":"https://api.github.com/repos/apache/pinot/issues/9832","id":1320920704,"node_id":"IC_kwDOATCU_c5Ou6aA","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T16:37:27Z","updated_at":"2022-11-23T18:41:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9832?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9832](https://codecov.io/gh/apache/pinot/pull/9832?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (268fc25) into [master](https://codecov.io/gh/apache/pinot/commit/2cd03495ffe64a790069cc35c9711d4b4ccc496b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2cd0349) will **decrease** coverage by `1.76%`.\n> The diff coverage is `89.47%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9832      +/-   ##\n============================================\n- Coverage     70.34%   68.58%   -1.77%     \n- Complexity     5001     5006       +5     \n============================================\n  Files          1965     1972       +7     \n  Lines        105126   105720     +594     \n  Branches      15909    15997      +88     \n============================================\n- Hits          73947    72504    -1443     \n- Misses        26037    28094    +2057     \n+ Partials       5142     5122      -20     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `25.13% <68.42%> (-0.18%)` | :arrow_down: |\n| integration2 | `?` | |\n| unittests1 | `67.80% <89.47%> (-0.19%)` | :arrow_down: |\n| unittests2 | `15.78% <19.29%> (-0.08%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...not/core/operator/combine/BaseCombineOperator.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9jb21iaW5lL0Jhc2VDb21iaW5lT3BlcmF0b3IuamF2YQ==) | `85.86% <√∏> (-1.04%)` | :arrow_down: |\n| [...org/apache/pinot/query/planner/stage/SortNode.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9zdGFnZS9Tb3J0Tm9kZS5qYXZh) | `85.00% <0.00%> (-9.45%)` | :arrow_down: |\n| [...query/runtime/operator/operands/FilterOperand.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9vcGVyYW5kcy9GaWx0ZXJPcGVyYW5kLmphdmE=) | `83.90% <√∏> (√∏)` | |\n| [...nMaxValueBasedSelectionOrderByCombineOperator.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9jb21iaW5lL01pbk1heFZhbHVlQmFzZWRTZWxlY3Rpb25PcmRlckJ5Q29tYmluZU9wZXJhdG9yLmphdmE=) | `75.67% <85.71%> (-0.22%)` | :arrow_down: |\n| [...rator/combine/SelectionOrderByCombineOperator.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9jb21iaW5lL1NlbGVjdGlvbk9yZGVyQnlDb21iaW5lT3BlcmF0b3IuamF2YQ==) | `69.23% <85.71%> (+3.60%)` | :arrow_up: |\n| [...t/core/query/selection/SelectionOperatorUtils.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JVdGlscy5qYXZh) | `96.35% <96.15%> (-0.29%)` | :arrow_down: |\n| [...core/query/selection/SelectionOperatorService.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JTZXJ2aWNlLmphdmE=) | `94.59% <100.00%> (+0.15%)` | :arrow_up: |\n| [...not/query/planner/logical/RelToStageConverter.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1JlbFRvU3RhZ2VDb252ZXJ0ZXIuamF2YQ==) | `83.33% <100.00%> (√∏)` | |\n| [...inot/query/planner/logical/RexExpressionUtils.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1JleEV4cHJlc3Npb25VdGlscy5qYXZh) | `90.62% <100.00%> (+1.73%)` | :arrow_up: |\n| [...ache/pinot/query/planner/logical/StagePlanner.java](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcGxhbm5lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcGxhbm5lci9sb2dpY2FsL1N0YWdlUGxhbm5lci5qYXZh) | `100.00% <100.00%> (√∏)` | |\n| ... and [201 more](https://codecov.io/gh/apache/pinot/pull/9832/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1320920704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321024136","html_url":"https://github.com/apache/pinot/pull/9836#issuecomment-1321024136","issue_url":"https://api.github.com/repos/apache/pinot/issues/9836","id":1321024136,"node_id":"IC_kwDOATCU_c5OvTqI","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-20T03:25:52Z","updated_at":"2022-11-20T03:25:52Z","author_association":"CONTRIBUTOR","body":"I haven't figured out a good way to test this. Will follow up with a test. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321024136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321429885","html_url":"https://github.com/apache/pinot/pull/9837#issuecomment-1321429885","issue_url":"https://api.github.com/repos/apache/pinot/issues/9837","id":1321429885,"node_id":"IC_kwDOATCU_c5Ow2t9","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T03:54:44Z","updated_at":"2022-11-21T04:23:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9837?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9837](https://codecov.io/gh/apache/pinot/pull/9837?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (abc8c65) into [master](https://codecov.io/gh/apache/pinot/commit/3724ba27cf5ceeebdd9805327b7f3d29abdea47d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3724ba2) will **increase** coverage by `35.60%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9837       +/-   ##\n=============================================\n+ Coverage     34.69%   70.29%   +35.60%     \n- Complexity      190     5000     +4810     \n=============================================\n  Files          1965     1965               \n  Lines        105115   105115               \n  Branches      15909    15909               \n=============================================\n+ Hits          36474    73895    +37421     \n+ Misses        65542    26079    -39463     \n- Partials       3099     5141     +2042     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `25.32% <√∏> (+0.19%)` | :arrow_up: |\n| integration2 | `24.53% <√∏> (?)` | |\n| unittests1 | `67.96% <√∏> (?)` | |\n| unittests2 | `15.82% <√∏> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9837?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `76.43% <0.00%> (-1.58%)` | :arrow_down: |\n| [...pache/pinot/core/query/utils/idset/EmptyIdSet.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9pZHNldC9FbXB0eUlkU2V0LmphdmE=) | `25.00% <0.00%> (√∏)` | |\n| [...anager/realtime/SegmentBuildTimeLeaseExtender.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudEJ1aWxkVGltZUxlYXNlRXh0ZW5kZXIuamF2YQ==) | `63.23% <0.00%> (√∏)` | |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `73.17% <0.00%> (+0.20%)` | :arrow_up: |\n| [.../core/realtime/PinotLLCRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90TExDUmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `72.07% <0.00%> (+0.45%)` | :arrow_up: |\n| [...che/pinot/broker/routing/BrokerRoutingManager.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9Ccm9rZXJSb3V0aW5nTWFuYWdlci5qYXZh) | `86.07% <0.00%> (+0.55%)` | :arrow_up: |\n| [...e/pinot/common/function/TransformFunctionType.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25UeXBlLmphdmE=) | `100.00% <0.00%> (+0.94%)` | :arrow_up: |\n| [...x/core/realtime/MissingConsumingSegmentFinder.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL01pc3NpbmdDb25zdW1pbmdTZWdtZW50RmluZGVyLmphdmE=) | `87.09% <0.00%> (+1.07%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `94.44% <0.00%> (+1.11%)` | :arrow_up: |\n| [...va/org/apache/pinot/controller/ControllerConf.java](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyQ29uZi5qYXZh) | `58.11% <0.00%> (+1.13%)` | :arrow_up: |\n| ... and [1116 more](https://codecov.io/gh/apache/pinot/pull/9837/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321429885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321649426","html_url":"https://github.com/apache/pinot/pull/9817#issuecomment-1321649426","issue_url":"https://api.github.com/repos/apache/pinot/issues/9817","id":1321649426,"node_id":"IC_kwDOATCU_c5OxsUS","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T08:13:02Z","updated_at":"2022-11-21T08:13:02Z","author_association":"CONTRIBUTOR","body":"Thanks for addressing comment. LGTM","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321649426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321778815","html_url":"https://github.com/apache/pinot/issues/9809#issuecomment-1321778815","issue_url":"https://api.github.com/repos/apache/pinot/issues/9809","id":1321778815,"node_id":"IC_kwDOATCU_c5OyL5_","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T09:45:56Z","updated_at":"2022-11-21T09:45:56Z","author_association":"CONTRIBUTOR","body":"Updated \r\nhttps://app.gitbook.com/o/-LtRX9NwSr7Ga7zA4piL/s/-LtH6nl58DdnZnelPdTc-887967055/~/changes/eyzG3orTd7QY8YaUOtGe/basics/components/schema\r\n\r\nhttps://app.gitbook.com/o/-LtRX9NwSr7Ga7zA4piL/s/-LtH6nl58DdnZnelPdTc-887967055/~/changes/eyzG3orTd7QY8YaUOtGe/configuration-reference/schema","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321778815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321844431","html_url":"https://github.com/apache/pinot/pull/9804#issuecomment-1321844431","issue_url":"https://api.github.com/repos/apache/pinot/issues/9804","id":1321844431,"node_id":"IC_kwDOATCU_c5Oyb7P","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T10:36:12Z","updated_at":"2022-11-21T10:41:26Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9804?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9804](https://codecov.io/gh/apache/pinot/pull/9804?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a4ccbfe) into [master](https://codecov.io/gh/apache/pinot/commit/e307106a59646a8e1d9475baabe66fa3cde09490?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e307106) will **increase** coverage by `40.74%`.\n> The diff coverage is `50.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9804       +/-   ##\n=============================================\n+ Coverage     28.06%   68.80%   +40.74%     \n- Complexity       53     5446     +5393     \n=============================================\n  Files          1949     1965       +16     \n  Lines        104632   105138      +506     \n  Branches      15847    15911       +64     \n=============================================\n+ Hits          29362    72338    +42976     \n+ Misses        72395    27687    -44708     \n- Partials       2875     5113     +2238     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `25.29% <25.00%> (+0.07%)` | :arrow_up: |\n| integration2 | `?` | |\n| unittests1 | `68.02% <45.45%> (?)` | |\n| unittests2 | `15.83% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9804?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...ent/local/data/manager/TableDataManagerConfig.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9kYXRhL21hbmFnZXIvVGFibGVEYXRhTWFuYWdlckNvbmZpZy5qYXZh) | `0.00% <0.00%> (√∏)` | |\n| [...va/org/apache/pinot/spi/utils/CommonConstants.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `24.00% <√∏> (+24.00%)` | :arrow_up: |\n| [.../pinot/core/data/manager/BaseTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvQmFzZVRhYmxlRGF0YU1hbmFnZXIuamF2YQ==) | `75.07% <57.14%> (+12.49%)` | :arrow_up: |\n| [...t/local/upsert/BaseTableUpsertMetadataManager.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQmFzZVRhYmxlVXBzZXJ0TWV0YWRhdGFNYW5hZ2VyLmphdmE=) | `60.00% <100.00%> (+60.00%)` | :arrow_up: |\n| [.../starter/helix/HelixInstanceDataManagerConfig.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeEluc3RhbmNlRGF0YU1hbmFnZXJDb25maWcuamF2YQ==) | `81.63% <100.00%> (+0.38%)` | :arrow_up: |\n| [...pinot/core/data/manager/realtime/TimerService.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvVGltZXJTZXJ2aWNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...t/core/plan/StreamingInstanceResponsePlanNode.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1N0cmVhbWluZ0luc3RhbmNlUmVzcG9uc2VQbGFuTm9kZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ore/operator/streaming/StreamingResponseUtils.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9zdHJlYW1pbmcvU3RyZWFtaW5nUmVzcG9uc2VVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...server/starter/helix/SegmentReloadStatusValue.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50UmVsb2FkU3RhdHVzVmFsdWUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ager/realtime/PeerSchemeSplitSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUGVlclNjaGVtZVNwbGl0U2VnbWVudENvbW1pdHRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1417 more](https://codecov.io/gh/apache/pinot/pull/9804/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321844431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321919289","html_url":"https://github.com/apache/pinot/pull/9825#issuecomment-1321919289","issue_url":"https://api.github.com/repos/apache/pinot/issues/9825","id":1321919289,"node_id":"IC_kwDOATCU_c5OyuM5","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T11:35:17Z","updated_at":"2022-12-03T05:51:39Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9825?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9825](https://codecov.io/gh/apache/pinot/pull/9825?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (72efe9e) into [master](https://codecov.io/gh/apache/pinot/commit/e307106a59646a8e1d9475baabe66fa3cde09490?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e307106) will **increase** coverage by `42.36%`.\n> The diff coverage is `42.63%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9825       +/-   ##\n=============================================\n+ Coverage     28.06%   70.43%   +42.36%     \n- Complexity       53     4984     +4931     \n=============================================\n  Files          1949     1981       +32     \n  Lines        104632   106370     +1738     \n  Branches      15847    16117      +270     \n=============================================\n+ Hits          29362    74918    +45556     \n+ Misses        72395    26235    -46160     \n- Partials       2875     5217     +2342     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `24.99% <42.63%> (-0.23%)` | :arrow_down: |\n| integration2 | `24.45% <28.68%> (+0.02%)` | :arrow_up: |\n| unittests1 | `67.96% <0.00%> (?)` | |\n| unittests2 | `15.78% <9.30%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9825?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...he/pinot/segment/local/utils/SegmentPushUtils.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91dGlscy9TZWdtZW50UHVzaFV0aWxzLmphdmE=) | `11.97% <0.00%> (+11.97%)` | :arrow_up: |\n| [...che/pinot/plugin/minion/tasks/MinionTaskUtils.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvTWluaW9uVGFza1V0aWxzLmphdmE=) | `40.90% <40.90%> (√∏)` | |\n| [.../tasks/BaseMultipleSegmentsConversionExecutor.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvQmFzZU11bHRpcGxlU2VnbWVudHNDb252ZXJzaW9uRXhlY3V0b3IuamF2YQ==) | `80.00% <51.85%> (-9.86%)` | :arrow_down: |\n| [...nandpush/SegmentGenerationAndPushTaskExecutor.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3Mvc2VnbWVudGdlbmVyYXRpb25hbmRwdXNoL1NlZ21lbnRHZW5lcmF0aW9uQW5kUHVzaFRhc2tFeGVjdXRvci5qYXZh) | `67.88% <75.00%> (√∏)` | |\n| [...on/tasks/mergerollup/MergeRollupTaskGenerator.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvbWVyZ2Vyb2xsdXAvTWVyZ2VSb2xsdXBUYXNrR2VuZXJhdG9yLmphdmE=) | `84.89% <100.00%> (+7.92%)` | :arrow_up: |\n| [...gments/RealtimeToOfflineSegmentsTaskGenerator.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvcmVhbHRpbWV0b29mZmxpbmVzZWdtZW50cy9SZWFsdGltZVRvT2ZmbGluZVNlZ21lbnRzVGFza0dlbmVyYXRvci5qYXZh) | `94.85% <100.00%> (+24.26%)` | :arrow_up: |\n| [...andpush/SegmentGenerationAndPushTaskGenerator.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3Mvc2VnbWVudGdlbmVyYXRpb25hbmRwdXNoL1NlZ21lbnRHZW5lcmF0aW9uQW5kUHVzaFRhc2tHZW5lcmF0b3IuamF2YQ==) | `33.87% <100.00%> (√∏)` | |\n| [...ery/aggregation/DoubleAggregationResultHolder.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9Eb3VibGVBZ2dyZWdhdGlvblJlc3VsdEhvbGRlci5qYXZh) | `60.00% <0.00%> (-15.00%)` | :arrow_down: |\n| [...apache/pinot/common/function/FunctionRegistry.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25SZWdpc3RyeS5qYXZh) | `81.63% <0.00%> (-5.21%)` | :arrow_down: |\n| [...nction/DistinctCountBitmapAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50Qml0bWFwQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `47.66% <0.00%> (-5.19%)` | :arrow_down: |\n| ... and [1391 more](https://codecov.io/gh/apache/pinot/pull/9825/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1321919289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322527158","html_url":"https://github.com/apache/pinot/pull/9527#issuecomment-1322527158","issue_url":"https://api.github.com/repos/apache/pinot/issues/9527","id":1322527158,"node_id":"IC_kwDOATCU_c5O1Cm2","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T19:13:03Z","updated_at":"2022-11-21T19:13:03Z","author_association":"CONTRIBUTOR","body":"> In that case, we can keep both `optimizeDictionary` (apply to both dimensions and metrics) and `optimizeDictionaryForMetrics` (only apply to metrics) to avoid backward incompatible. I don't see a case where user only want to optimize dimensions but not metrics\r\n\r\nMakes sense. Incorporated this now. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322527158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322553942","html_url":"https://github.com/apache/pinot/issues/8837#issuecomment-1322553942","issue_url":"https://api.github.com/repos/apache/pinot/issues/8837","id":1322553942,"node_id":"IC_kwDOATCU_c5O1JJW","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T19:36:11Z","updated_at":"2022-11-21T19:36:11Z","author_association":"CONTRIBUTOR","body":"@ashishkf Good call! Created #9839 to track various improvements for AND operator","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322553942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322558520","html_url":"https://github.com/apache/pinot/pull/9749#issuecomment-1322558520","issue_url":"https://api.github.com/repos/apache/pinot/issues/9749","id":1322558520,"node_id":"IC_kwDOATCU_c5O1KQ4","user":{"login":"priyen","id":10234864,"node_id":"MDQ6VXNlcjEwMjM0ODY0","avatar_url":"https://avatars.githubusercontent.com/u/10234864?v=4","gravatar_id":"","url":"https://api.github.com/users/priyen","html_url":"https://github.com/priyen","followers_url":"https://api.github.com/users/priyen/followers","following_url":"https://api.github.com/users/priyen/following{/other_user}","gists_url":"https://api.github.com/users/priyen/gists{/gist_id}","starred_url":"https://api.github.com/users/priyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyen/subscriptions","organizations_url":"https://api.github.com/users/priyen/orgs","repos_url":"https://api.github.com/users/priyen/repos","events_url":"https://api.github.com/users/priyen/events{/privacy}","received_events_url":"https://api.github.com/users/priyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T19:40:51Z","updated_at":"2022-11-21T19:40:51Z","author_association":"CONTRIBUTOR","body":"Thanks for pushing the changes in the latest commit, looks good to me","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322558520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322570283","html_url":"https://github.com/apache/pinot/pull/9836#issuecomment-1322570283","issue_url":"https://api.github.com/repos/apache/pinot/issues/9836","id":1322570283,"node_id":"IC_kwDOATCU_c5O1NIr","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T19:54:15Z","updated_at":"2022-11-21T19:54:15Z","author_association":"CONTRIBUTOR","body":"Thanks @61yao! I think you've identified the right problem to solve, but I think the abstractions in this PR aren't what we need.\r\n\r\nFrom a code ownership perspective, I don't think it makes sense for an operator chain to \"own\" the underlying physical resources it uses to send/receive data. That'll make it much more difficult in the future to share those resources, and it makes management of those resources happen via various callbacks/asynchronous actions - that in turn makes it harder to debug and harder to reason about.\r\n\r\nInstead, I think the current abstraction is pretty good (there's a centralized MailboxService that maintains the mailboxes and there's only one of them for the lifetime of a Pinot server). The problem you've identified is that we need some way to let that centralized service clean up resources that don't exist. I think there might be various different triggers to trigger that:\r\n1. (as you've identified) an operator finished (either successfully or in error)\r\n2. there might be some kind of timeouts\r\n3. there might be some kind of admin operation that forces it to clean up those mailboxes\r\n\r\nThe design here (decentralizing the mailbox ownership) would make 2/3 much more difficult - and it leaks information into places that don't need that information.\r\n\r\nAs an aside, I don't think contention for the concurrent hashmap is a problem - so long as there isn't key contention (which there should almost never be) it will perform extremely fast (and access to it is almost certainly not a bottleneck compared to all the other things a query needs to do).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322570283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322595772","html_url":"https://github.com/apache/pinot/pull/9835#issuecomment-1322595772","issue_url":"https://api.github.com/repos/apache/pinot/issues/9835","id":1322595772,"node_id":"IC_kwDOATCU_c5O1TW8","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T20:20:03Z","updated_at":"2022-11-21T20:20:03Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang can you review this PR?  can you also re-trigger the CI suite? The failed integration test runs fine locally. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322595772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322647075","html_url":"https://github.com/apache/pinot/pull/9836#issuecomment-1322647075","issue_url":"https://api.github.com/repos/apache/pinot/issues/9836","id":1322647075,"node_id":"IC_kwDOATCU_c5O1f4j","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T21:11:07Z","updated_at":"2022-11-21T21:11:07Z","author_association":"CONTRIBUTOR","body":"> Thanks @61yao! I think you've identified the right problem to solve, but I think the abstractions in this PR aren't what we need.\r\n> \r\n> From a code ownership perspective, I don't think it makes sense for an operator chain to \"own\" the underlying physical resources it uses to send/receive data. That'll make it much more difficult in the future to share those resources, and it makes management of those resources happen via various callbacks/asynchronous actions - that in turn makes it harder to debug and harder to reason about.\r\n> \r\n> Instead, I think the current abstraction is pretty good (there's a centralized MailboxService that maintains the mailboxes and there's only one of them for the lifetime of a Pinot server). The problem you've identified is that we need some way to let that centralized service clean up resources that don't exist. I think there might be various different triggers to trigger that:\r\n> \r\n> 1. (as you've identified) an operator finished (either successfully or in error)\r\n> 2. there might be some kind of timeouts\r\n> 3. there might be some kind of admin operation that forces it to clean up those mailboxes\r\n> \r\n> The design here (decentralizing the mailbox ownership) would make 2/3 much more difficult - and it leaks information into places that don't need that information.\r\n> \r\n> As an aside, I don't think contention for the concurrent hashmap is a problem - so long as there isn't key contention (which there should almost never be) it will perform extremely fast (and access to it is almost certainly not a bottleneck compared to all the other things a query needs to do).\r\n\r\nI agree centralized resource should be in central place. but resources created per request should clean up per request instead of leaving it to centralized request management. \r\n\r\nFor example, shared channel between servers is shared and should be managed globally. \r\nHowever, streaming channel, instance or request opened by per request should be cleaned up per request rather than leaving it in central map especially sending mailbox. \r\n\r\nI agree it should not leave inside opchain. but I haven't found a good place to hold the request context yet. \r\n\r\nIt doesn't make sense to put per request resource in the central place and clean it up later. It makes it so much easier to leak. \r\n\r\nIdeally, timeout and error should receive the same exit point where we clean up per request resource. \r\n\r\nThe actual physical resource say the data block can live globally but the instance of mailbox and the streaming channel should still be managed per resource purpose.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322647075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322647083","html_url":"https://github.com/apache/pinot/issues/9788#issuecomment-1322647083","issue_url":"https://api.github.com/repos/apache/pinot/issues/9788","id":1322647083,"node_id":"IC_kwDOATCU_c5O1f4r","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T21:11:07Z","updated_at":"2022-11-21T21:11:07Z","author_association":"CONTRIBUTOR","body":"We already have some rate limit config, see `QueryLogger` class for details. Do you think we need to add more configs?\r\n\r\ncc @agavra ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322647083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322655016","html_url":"https://github.com/apache/pinot/issues/6823#issuecomment-1322655016","issue_url":"https://api.github.com/repos/apache/pinot/issues/6823","id":1322655016,"node_id":"IC_kwDOATCU_c5O1h0o","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T21:17:09Z","updated_at":"2022-11-21T21:17:09Z","author_association":"CONTRIBUTOR","body":"Fixed with #7407","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322655016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322661449","html_url":"https://github.com/apache/pinot/issues/5391#issuecomment-1322661449","issue_url":"https://api.github.com/repos/apache/pinot/issues/5391","id":1322661449,"node_id":"IC_kwDOATCU_c5O1jZJ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T21:21:54Z","updated_at":"2022-11-21T21:21:54Z","author_association":"CONTRIBUTOR","body":"Supported with #8828 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322661449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322685242","html_url":"https://github.com/apache/pinot/issues/9839#issuecomment-1322685242","issue_url":"https://api.github.com/repos/apache/pinot/issues/9839","id":1322685242,"node_id":"IC_kwDOATCU_c5O1pM6","user":{"login":"ashishkf","id":74931069,"node_id":"MDQ6VXNlcjc0OTMxMDY5","avatar_url":"https://avatars.githubusercontent.com/u/74931069?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishkf","html_url":"https://github.com/ashishkf","followers_url":"https://api.github.com/users/ashishkf/followers","following_url":"https://api.github.com/users/ashishkf/following{/other_user}","gists_url":"https://api.github.com/users/ashishkf/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishkf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishkf/subscriptions","organizations_url":"https://api.github.com/users/ashishkf/orgs","repos_url":"https://api.github.com/users/ashishkf/repos","events_url":"https://api.github.com/users/ashishkf/events{/privacy}","received_events_url":"https://api.github.com/users/ashishkf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T21:40:12Z","updated_at":"2022-11-21T21:40:12Z","author_association":"NONE","body":"Can you please see if docs can be iterated per the \"order by\" clause if the order by column also happens to be in the sorted column? This is useful if say, segments are sorted by the timestamp column but the query has \"order by timestamp desc\". In that case, in addition to limit pushdown applyAnd could passed a flag - ascOrDesc - to use either the forward or reverse bitmap iterator.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322685242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322692058","html_url":"https://github.com/apache/pinot/pull/9835#issuecomment-1322692058","issue_url":"https://api.github.com/repos/apache/pinot/issues/9835","id":1322692058,"node_id":"IC_kwDOATCU_c5O1q3a","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T21:46:47Z","updated_at":"2022-11-21T21:46:47Z","author_association":"CONTRIBUTOR","body":"Suggest not changing the interface `TableUpsertMetadataManager` which is actually designed as a pluggable module. We want it to be able to access `TableDataManager` for extra configs. Both of them are table level, so there should be no concurrency issue though.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322692058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322719983","html_url":"https://github.com/apache/pinot/pull/9710#issuecomment-1322719983","issue_url":"https://api.github.com/repos/apache/pinot/issues/9710","id":1322719983,"node_id":"IC_kwDOATCU_c5O1xrv","user":{"login":"wirybeaver","id":19251177,"node_id":"MDQ6VXNlcjE5MjUxMTc3","avatar_url":"https://avatars.githubusercontent.com/u/19251177?v=4","gravatar_id":"","url":"https://api.github.com/users/wirybeaver","html_url":"https://github.com/wirybeaver","followers_url":"https://api.github.com/users/wirybeaver/followers","following_url":"https://api.github.com/users/wirybeaver/following{/other_user}","gists_url":"https://api.github.com/users/wirybeaver/gists{/gist_id}","starred_url":"https://api.github.com/users/wirybeaver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wirybeaver/subscriptions","organizations_url":"https://api.github.com/users/wirybeaver/orgs","repos_url":"https://api.github.com/users/wirybeaver/repos","events_url":"https://api.github.com/users/wirybeaver/events{/privacy}","received_events_url":"https://api.github.com/users/wirybeaver/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T22:14:21Z","updated_at":"2022-11-21T22:23:37Z","author_association":"CONTRIBUTOR","body":"@chenboat I haven't integrated the instance level config into realtime table in this approach. Can I skip it for this PR even though it brings obscurity into the rule of determining the value of final peer download scheme. Check the PR description for details on the rule.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322719983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322763088","html_url":"https://github.com/apache/pinot/pull/9836#issuecomment-1322763088","issue_url":"https://api.github.com/repos/apache/pinot/issues/9836","id":1322763088,"node_id":"IC_kwDOATCU_c5O18NQ","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T22:53:46Z","updated_at":"2022-11-21T22:53:46Z","author_association":"CONTRIBUTOR","body":"Discussed with @agavra offline. We will put more thoughts into this and figure out the right next step","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322763088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322769058","html_url":"https://github.com/apache/pinot/issues/9785#issuecomment-1322769058","issue_url":"https://api.github.com/repos/apache/pinot/issues/9785","id":1322769058,"node_id":"IC_kwDOATCU_c5O19qi","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T22:59:38Z","updated_at":"2022-11-21T22:59:38Z","author_association":"CONTRIBUTOR","body":"I think this gets into classic routing problems. There's some threshold of unavailable segments or failed queries where you may want to go back to routing everywhere instead of failing because only M/N replicas are available.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322769058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322780076","html_url":"https://github.com/apache/pinot/pull/9835#issuecomment-1322780076","issue_url":"https://api.github.com/repos/apache/pinot/issues/9835","id":1322780076,"node_id":"IC_kwDOATCU_c5O2AWs","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T23:11:40Z","updated_at":"2022-11-21T23:11:40Z","author_association":"CONTRIBUTOR","body":"Spoke with @Jackie-Jiang  offline. \r\nI think my suggestion was coming from a cleaner code point of view that doesn't expose functionality (which otherwise may not be necessary to different components of the system) and to improve testability. \r\nI still think there should be very little need to access functionality from a higher level. Data access can be done without passing the entire instance.  But it looks like we are a little too deep in the weeds to simplify this right now :)\r\n\r\n\r\nClosing this and will re-visit the pattern later. Tks! ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322780076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322790572","html_url":"https://github.com/apache/pinot/pull/9828#issuecomment-1322790572","issue_url":"https://api.github.com/repos/apache/pinot/issues/9828","id":1322790572,"node_id":"IC_kwDOATCU_c5O2C6s","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T23:24:36Z","updated_at":"2022-12-07T01:48:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9828?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9828](https://codecov.io/gh/apache/pinot/pull/9828?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e4c0360) into [master](https://codecov.io/gh/apache/pinot/commit/4d1602757a6399092491deb0377d395ca9bccd97?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4d16027) will **increase** coverage by `32.73%`.\n> The diff coverage is `48.57%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9828       +/-   ##\n=============================================\n+ Coverage     28.14%   60.87%   +32.73%     \n- Complexity       53     5391     +5338     \n=============================================\n  Files          1970     1970               \n  Lines        106081   106101       +20     \n  Branches      16089    16093        +4     \n=============================================\n+ Hits          29858    64594    +34736     \n+ Misses        73294    36740    -36554     \n- Partials       2929     4767     +1838     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `24.53% <0.00%> (-0.04%)` | :arrow_down: |\n| unittests1 | `67.95% <48.57%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9828?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...ent/local/segment/store/FilePerIndexDirectory.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3N0b3JlL0ZpbGVQZXJJbmRleERpcmVjdG9yeS5qYXZh) | `85.04% <0.00%> (+85.04%)` | :arrow_up: |\n| [.../pinot/segment/spi/store/ColumnIndexDirectory.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL3N0b3JlL0NvbHVtbkluZGV4RGlyZWN0b3J5LmphdmE=) | `28.57% <0.00%> (+28.57%)` | :arrow_up: |\n| [...ache/pinot/segment/spi/store/SegmentDirectory.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL3N0b3JlL1NlZ21lbnREaXJlY3RvcnkuamF2YQ==) | `45.45% <0.00%> (+45.45%)` | :arrow_up: |\n| [.../local/segment/store/SingleFileIndexDirectory.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3N0b3JlL1NpbmdsZUZpbGVJbmRleERpcmVjdG9yeS5qYXZh) | `89.80% <75.00%> (+89.80%)` | :arrow_up: |\n| [...indexsegment/immutable/ImmutableSegmentLoader.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pbmRleHNlZ21lbnQvaW1tdXRhYmxlL0ltbXV0YWJsZVNlZ21lbnRMb2FkZXIuamF2YQ==) | `85.57% <100.00%> (+85.57%)` | :arrow_up: |\n| [...t/local/segment/store/SegmentLocalFSDirectory.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3N0b3JlL1NlZ21lbnRMb2NhbEZTRGlyZWN0b3J5LmphdmE=) | `73.41% <100.00%> (+73.41%)` | :arrow_up: |\n| [...ocal/startree/v2/store/StarTreeIndexContainer.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZUluZGV4Q29udGFpbmVyLmphdmE=) | `100.00% <100.00%> (+100.00%)` | :arrow_up: |\n| [...local/startree/v2/store/StarTreeIndexMapUtils.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZUluZGV4TWFwVXRpbHMuamF2YQ==) | `85.00% <100.00%> (+85.00%)` | :arrow_up: |\n| [...pinot/minion/exception/TaskCancelledException.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vZXhjZXB0aW9uL1Rhc2tDYW5jZWxsZWRFeGNlcHRpb24uamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ot/broker/requesthandler/BrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQnJva2VyUmVxdWVzdEhhbmRsZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1237 more](https://codecov.io/gh/apache/pinot/pull/9828/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322790572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322795702","html_url":"https://github.com/apache/pinot/pull/9811#issuecomment-1322795702","issue_url":"https://api.github.com/repos/apache/pinot/issues/9811","id":1322795702,"node_id":"IC_kwDOATCU_c5O2EK2","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T23:29:45Z","updated_at":"2022-11-21T23:51:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9811?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9811](https://codecov.io/gh/apache/pinot/pull/9811?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5810afe) into [master](https://codecov.io/gh/apache/pinot/commit/20720366c4bff1de142db2b9a042748ebe2fc378?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2072036) will **decrease** coverage by `29.42%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9811       +/-   ##\n=============================================\n- Coverage     64.29%   34.87%   -29.43%     \n+ Complexity     4977      199     -4778     \n=============================================\n  Files          1912     1965       +53     \n  Lines        102699   105120     +2421     \n  Branches      15620    15908      +288     \n=============================================\n- Hits          66035    36662    -29373     \n- Misses        31882    65377    +33495     \n+ Partials       4782     3081     -1701     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| integration2 | `24.56% <√∏> (?)` | |\n| unittests1 | `?` | |\n| unittests2 | `15.85% <√∏> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9811?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [...in/java/org/apache/pinot/spi/utils/BytesUtils.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQnl0ZXNVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/BaseRecording.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvQmFzZVJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/NoOpRecording.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvTm9PcFJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/table/FSTType.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0ZTVFR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/user/RoleType.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3VzZXIvUm9sZVR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/data/MetricFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9NZXRyaWNGaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/stream/StreamMessage.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbU1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/common/tier/TierFactory.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdGllci9UaWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/spi/config/table/TableType.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1RhYmxlVHlwZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/pinot/spi/data/DimensionFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9EaW1lbnNpb25GaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1308 more](https://codecov.io/gh/apache/pinot/pull/9811/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322795702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322801100","html_url":"https://github.com/apache/pinot/issues/9788#issuecomment-1322801100","issue_url":"https://api.github.com/repos/apache/pinot/issues/9788","id":1322801100,"node_id":"IC_kwDOATCU_c5O2FfM","user":{"login":"bagipriyank","id":3229967,"node_id":"MDQ6VXNlcjMyMjk5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3229967?v=4","gravatar_id":"","url":"https://api.github.com/users/bagipriyank","html_url":"https://github.com/bagipriyank","followers_url":"https://api.github.com/users/bagipriyank/followers","following_url":"https://api.github.com/users/bagipriyank/following{/other_user}","gists_url":"https://api.github.com/users/bagipriyank/gists{/gist_id}","starred_url":"https://api.github.com/users/bagipriyank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagipriyank/subscriptions","organizations_url":"https://api.github.com/users/bagipriyank/orgs","repos_url":"https://api.github.com/users/bagipriyank/repos","events_url":"https://api.github.com/users/bagipriyank/events{/privacy}","received_events_url":"https://api.github.com/users/bagipriyank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T23:36:12Z","updated_at":"2022-11-21T23:36:12Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang rate limiting option in `QueryLogger` is very helpful to limit the logs from broker. However right now, there is a log per query from each server that is involved in responding to the query. We are looking at options to reduce logging on the server side, and not just broker. \r\n\r\nWe also want to look at reducing log volume from ingestion from kafka. Looks like options for controlling that are hard coded in the code right now as shared by @abhs50 above. It would be helpful to have them configurable.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322801100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322804800","html_url":"https://github.com/apache/pinot/pull/9778#issuecomment-1322804800","issue_url":"https://api.github.com/repos/apache/pinot/issues/9778","id":1322804800,"node_id":"IC_kwDOATCU_c5O2GZA","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T23:40:58Z","updated_at":"2022-11-23T07:05:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9778?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9778](https://codecov.io/gh/apache/pinot/pull/9778?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9a31261) into [master](https://codecov.io/gh/apache/pinot/commit/20720366c4bff1de142db2b9a042748ebe2fc378?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2072036) will **decrease** coverage by `0.18%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9778      +/-   ##\n============================================\n- Coverage     64.29%   64.11%   -0.19%     \n- Complexity     4977     4988      +11     \n============================================\n  Files          1912     1919       +7     \n  Lines        102699   103247     +548     \n  Branches      15620    15703      +83     \n============================================\n+ Hits          66035    66196     +161     \n- Misses        31882    32261     +379     \n- Partials       4782     4790       +8     \n```\n\n| Flag | Coverage Œî | |\n|---|---|---|\n| unittests1 | `67.72% <100.00%> (-0.27%)` | :arrow_down: |\n| unittests2 | `15.74% <100.00%> (-0.09%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9778?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Œî | |\n|---|---|---|\n| [.../apache/pinot/common/datablock/DataBlockUtils.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YWJsb2NrL0RhdGFCbG9ja1V0aWxzLmphdmE=) | `89.38% <√∏> (+1.76%)` | :arrow_up: |\n| [...rg/apache/pinot/query/service/QueryDispatcher.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvc2VydmljZS9RdWVyeURpc3BhdGNoZXIuamF2YQ==) | `84.69% <√∏> (√∏)` | |\n| [...query/runtime/operator/MailboxReceiveOperator.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NYWlsYm94UmVjZWl2ZU9wZXJhdG9yLmphdmE=) | `91.66% <100.00%> (+12.30%)` | :arrow_up: |\n| [.../pinot/query/runtime/plan/PhysicalPlanVisitor.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9wbGFuL1BoeXNpY2FsUGxhblZpc2l0b3IuamF2YQ==) | `96.87% <100.00%> (√∏)` | |\n| [...org/apache/pinot/common/metrics/ServerMetrics.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9TZXJ2ZXJNZXRyaWNzLmphdmE=) | `33.33% <0.00%> (-11.12%)` | :arrow_down: |\n| [...ot/common/utils/fetcher/SegmentFetcherFactory.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZmV0Y2hlci9TZWdtZW50RmV0Y2hlckZhY3RvcnkuamF2YQ==) | `86.30% <0.00%> (-7.15%)` | :arrow_down: |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `75.26% <0.00%> (-4.31%)` | :arrow_down: |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `70.15% <0.00%> (-3.15%)` | :arrow_down: |\n| [...ocal/upsert/merger/PartialUpsertMergerFactory.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvbWVyZ2VyL1BhcnRpYWxVcHNlcnRNZXJnZXJGYWN0b3J5LmphdmE=) | `56.25% <0.00%> (-2.09%)` | :arrow_down: |\n| [...va/org/apache/pinot/spi/utils/CommonConstants.java](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `22.78% <0.00%> (-1.22%)` | :arrow_down: |\n| ... and [36 more](https://codecov.io/gh/apache/pinot/pull/9778/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We‚Äôre building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322804800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322809141","html_url":"https://github.com/apache/pinot/pull/9778#issuecomment-1322809141","issue_url":"https://api.github.com/repos/apache/pinot/issues/9778","id":1322809141,"node_id":"IC_kwDOATCU_c5O2Hc1","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T23:48:15Z","updated_at":"2022-11-21T23:48:15Z","author_association":"CONTRIBUTOR","body":"> test is failing on this PR can you take a look @61yao\r\n\r\nFixed the test. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322809141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322848403","html_url":"https://github.com/apache/pinot/issues/9793#issuecomment-1322848403","issue_url":"https://api.github.com/repos/apache/pinot/issues/9793","id":1322848403,"node_id":"IC_kwDOATCU_c5O2RCT","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T00:45:17Z","updated_at":"2022-11-22T00:45:17Z","author_association":"CONTRIBUTOR","body":"The table won't automatically switch to use the new servers/brokers if the instance id doesn't match. Users will need to manually trigger a rebalance/rebuildBrokerResourceFromHelixTags to switch to the new servers/brokers because pinot won't know if the old instances are permanently gone. Usually the way to replace dead instances is to start new instances with the same instance id, so that the table is automatically served by the new instances.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322848403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322861943","html_url":"https://github.com/apache/pinot/issues/9822#issuecomment-1322861943","issue_url":"https://api.github.com/repos/apache/pinot/issues/9822","id":1322861943,"node_id":"IC_kwDOATCU_c5O2UV3","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T01:04:11Z","updated_at":"2022-11-22T01:15:57Z","author_association":"CONTRIBUTOR","body":"After some investigation, we actually use JODA library for parsing `SIMPLE_DATE_FORMAT` https://www.joda.org/joda-time/key_format.html\r\n\r\nHowever, our documentation points the Java's SimpleDateFormat.\r\n\r\n1. We need to change the documentation to point JODA. <- done\r\n2. We need to discuss if we want to add the Java's SimpleDateFormat support.\r\n    - Found the issue https://github.com/apache/pinot/issues/7499\r\n    - We dropped the `SimpleDateFormat` for a potential performance concern last year\r\n\r\n@Jackie-Jiang \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322861943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322872150","html_url":"https://github.com/apache/pinot/issues/8755#issuecomment-1322872150","issue_url":"https://api.github.com/repos/apache/pinot/issues/8755","id":1322872150,"node_id":"IC_kwDOATCU_c5O2W1W","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T01:18:11Z","updated_at":"2022-11-22T01:18:11Z","author_association":"CONTRIBUTOR","body":"Don't remember the intention for this issue, but the raw index for MV columns is already supported with #7595","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322872150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322876532","html_url":"https://github.com/apache/pinot/issues/8804#issuecomment-1322876532","issue_url":"https://api.github.com/repos/apache/pinot/issues/8804","id":1322876532,"node_id":"IC_kwDOATCU_c5O2X50","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T01:24:23Z","updated_at":"2022-11-22T01:24:23Z","author_association":"CONTRIBUTOR","body":"cc @snleee ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322876532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322885726","html_url":"https://github.com/apache/pinot/issues/9820#issuecomment-1322885726","issue_url":"https://api.github.com/repos/apache/pinot/issues/9820","id":1322885726,"node_id":"IC_kwDOATCU_c5O2aJe","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T01:35:52Z","updated_at":"2022-11-22T01:35:52Z","author_association":"CONTRIBUTOR","body":"After a second thought, should we consider handling it in the `PredicateEvaluatorFactory` where the data type is already known? That way we can also handle arbitrary expressions on the left-hand side.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322885726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322895848","html_url":"https://github.com/apache/pinot/issues/9812#issuecomment-1322895848","issue_url":"https://api.github.com/repos/apache/pinot/issues/9812","id":1322895848,"node_id":"IC_kwDOATCU_c5O2cno","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T01:46:13Z","updated_at":"2022-11-22T01:46:13Z","author_association":"CONTRIBUTOR","body":"@vmarchaud Can you check if there is stack trace for this NPE? Usually the stack trace is logged when the exception occur for the first time","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1322895848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1323298327","html_url":"https://github.com/apache/pinot/pull/9836#issuecomment-1323298327","issue_url":"https://api.github.com/repos/apache/pinot/issues/9836","id":1323298327,"node_id":"IC_kwDOATCU_c5O3-4X","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T08:38:22Z","updated_at":"2022-11-22T08:38:22Z","author_association":"CONTRIBUTOR","body":"I took a look again about the fairness scheduling. This PR has nothing to do with that because it only deals with sending mailbox instead of receiving. I agree receiving side needs more thoughts.\r\n\r\nWe want to have different connection for different request due to isolation. having one single connection between servers doesn't seem to be a good idea. If one request crashes or has error on the channel, all following request will fail. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1323298327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1323886488","html_url":"https://github.com/apache/pinot/issues/9812#issuecomment-1323886488","issue_url":"https://api.github.com/repos/apache/pinot/issues/9812","id":1323886488,"node_id":"IC_kwDOATCU_c5O6OeY","user":{"login":"vmarchaud","id":2820968,"node_id":"MDQ6VXNlcjI4MjA5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/2820968?v=4","gravatar_id":"","url":"https://api.github.com/users/vmarchaud","html_url":"https://github.com/vmarchaud","followers_url":"https://api.github.com/users/vmarchaud/followers","following_url":"https://api.github.com/users/vmarchaud/following{/other_user}","gists_url":"https://api.github.com/users/vmarchaud/gists{/gist_id}","starred_url":"https://api.github.com/users/vmarchaud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmarchaud/subscriptions","organizations_url":"https://api.github.com/users/vmarchaud/orgs","repos_url":"https://api.github.com/users/vmarchaud/repos","events_url":"https://api.github.com/users/vmarchaud/events{/privacy}","received_events_url":"https://api.github.com/users/vmarchaud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T15:50:31Z","updated_at":"2022-11-22T15:50:31Z","author_association":"NONE","body":"@Jackie-Jiang I'm using the default (https://github.com/apache/pinot/blob/master/pinot-tools/src/main/resources/conf/log4j2.xml) log4j and i can't find any stacktrace in the log (only the errorr message), i guess this isnt normal ?\r\n\r\nI'm not very familiar with log4j but can the server specific config log stacktraces ? https://github.com/apache/pinot/blob/master/pinot-tools/src/main/resources/conf/pinot-server-log4j2.xml","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1323886488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1323953675","html_url":"https://github.com/apache/pinot/pull/9842#issuecomment-1323953675","issue_url":"https://api.github.com/repos/apache/pinot/issues/9842","id":1323953675,"node_id":"IC_kwDOATCU_c5O6e4L","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T16:37:51Z","updated_at":"2022-11-22T16:37:51Z","author_association":"CONTRIBUTOR","body":"This first commit is a draft. Tests need to be extended to cover the new implementation and I would also add at least one benchmark to verify that there is no performance degradation. It would also be great to add some verification that with this change Pinot will be able to run with Java 17.\r\n\r\nAlso, writing the code I've seen some places where the buffers are being use and there may be better implementations, but I would also need to benchmark the alternative to be sure (and this can be done in another PR)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1323953675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324035346","html_url":"https://github.com/apache/pinot/pull/9727#issuecomment-1324035346","issue_url":"https://api.github.com/repos/apache/pinot/issues/9727","id":1324035346,"node_id":"IC_kwDOATCU_c5O6y0S","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T17:44:16Z","updated_at":"2022-11-22T17:44:16Z","author_association":"CONTRIBUTOR","body":"@jasperjiaguo might want to share some example validation we did internally on PROD use case to demonstrate killing.\r\n\r\nLet's also make sure to address any comments that come after the merge. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324035346/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324066979","html_url":"https://github.com/apache/pinot/issues/9843#issuecomment-1324066979","issue_url":"https://api.github.com/repos/apache/pinot/issues/9843","id":1324066979,"node_id":"IC_kwDOATCU_c5O66ij","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T18:11:21Z","updated_at":"2022-11-22T18:11:21Z","author_association":"CONTRIBUTOR","body":"cc @joshigaurava @jayeshchoudhary @jadami10","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324066979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324124148","html_url":"https://github.com/apache/pinot/pull/9832#issuecomment-1324124148","issue_url":"https://api.github.com/repos/apache/pinot/issues/9832","id":1324124148,"node_id":"IC_kwDOATCU_c5O7If0","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T19:05:53Z","updated_at":"2022-11-22T19:05:53Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang - yes, the V2 engine requires that the server returns columns in the order that would be the result of the logical plan (and also that it doesn't have extra or missing columns, which could be the case of the order by column wasn't selected or a column was selected multiple times). \r\n\r\nCalcite makes assumptions that each stage will return results that are \"correct\" for that logical stage. The alternative would be, instead of building this into v1, wrapping the v2 leaf stage with an operator that rearranges columns but it felt like this flag would be the exact thing we should leverage.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324124148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324144928","html_url":"https://github.com/apache/pinot/issues/9393#issuecomment-1324144928","issue_url":"https://api.github.com/repos/apache/pinot/issues/9393","id":1324144928,"node_id":"IC_kwDOATCU_c5O7Nkg","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T19:28:42Z","updated_at":"2022-11-22T19:28:42Z","author_association":"CONTRIBUTOR","body":"This is a known issue, which is tracked here #9102\r\n\r\nIs the problem resolved after removing these 2 extra entries?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324144928/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324147001","html_url":"https://github.com/apache/pinot/pull/9832#issuecomment-1324147001","issue_url":"https://api.github.com/repos/apache/pinot/issues/9832","id":1324147001,"node_id":"IC_kwDOATCU_c5O7OE5","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T19:31:04Z","updated_at":"2022-11-22T19:31:04Z","author_association":"CONTRIBUTOR","body":"> @Jackie-Jiang - yes, the V2 engine requires that the server returns columns in the order that would be the result of the logical plan (and also that it doesn't have extra or missing columns, which could be the case of the order by column wasn't selected or a column was selected multiple times).\r\n> \r\n> Calcite makes assumptions that each stage will return results that are \"correct\" for that logical stage. The alternative would be, instead of building this into v1, wrapping the v2 leaf stage with an operator that rearranges columns but it felt like this flag would be the exact thing we should leverage.\r\n\r\nIs it possible we re-arrange columns in intermediate stage instead if we pass data schema to intermediate stage? This way we can leave the leaf stage untouched. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324147001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324150138","html_url":"https://github.com/apache/pinot/issues/9839#issuecomment-1324150138","issue_url":"https://api.github.com/repos/apache/pinot/issues/9839","id":1324150138,"node_id":"IC_kwDOATCU_c5O7O16","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T19:34:27Z","updated_at":"2022-11-22T19:34:27Z","author_association":"CONTRIBUTOR","body":"@ashishkf Good point! There are actually some discussion about providing reversed doc iterator in #8979. We should consider adding a method to return the reversed iterator, and evaluate `applyAnd` lazily.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324150138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324154183","html_url":"https://github.com/apache/pinot/issues/9840#issuecomment-1324154183","issue_url":"https://api.github.com/repos/apache/pinot/issues/9840","id":1324154183,"node_id":"IC_kwDOATCU_c5O7P1H","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T19:38:53Z","updated_at":"2022-11-22T19:38:53Z","author_association":"CONTRIBUTOR","body":"We should either add a `-update` flag in the `AddTableCommand` or provide a `UpdateTableCommand` to update the table. Also, seems we also need the `DeleteTableCommand`.\r\n\r\ncc @KKcorps @saurabhd336 Can you help take a look at this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324154183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324156875","html_url":"https://github.com/apache/pinot/issues/9840#issuecomment-1324156875","issue_url":"https://api.github.com/repos/apache/pinot/issues/9840","id":1324156875,"node_id":"IC_kwDOATCU_c5O7QfL","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T19:41:43Z","updated_at":"2022-11-22T19:41:43Z","author_association":"CONTRIBUTOR","body":"Link #9834 which is for the same topic","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1324156875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]