[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702248781","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-702248781","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":702248781,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjI0ODc4MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T16:23:16Z","updated_at":"2020-10-01T16:23:16Z","author_association":"MEMBER","body":"@wangxianghu can you please test the latest commit.  To be clear, you are saying you don't get the warning on master, but get it on this branch. right?\r\n\r\nif this round of tests pass, and you confirm, we can land from my perspective","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702248781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702275562","html_url":"https://github.com/apache/hudi/pull/2129#issuecomment-702275562","issue_url":"https://api.github.com/repos/apache/hudi/issues/2129","id":702275562,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjI3NTU2Mg==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T17:10:56Z","updated_at":"2020-10-01T17:10:56Z","author_association":"MEMBER","body":"@pratyakshsharma will you be able to review this week?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702275562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702302083","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-702302083","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":702302083,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjMwMjA4Mw==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T17:58:57Z","updated_at":"2020-10-01T17:59:51Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu can you please test the latest commit. To be clear, you are saying you don't get the warning on master, but get it on this branch. right?\r\n> \r\n> if this round of tests pass, and you confirm, we can land from my perspective\r\n\r\nHi @vinothchandar The warn log is still there in HUDI-1089 branch.(master is ok, no warn log)\r\nI think we should check `embeddedTimelineServiceHostAddr` instead of `hostAddr`.\r\n\r\n```\r\n  private void setHostAddr(String embeddedTimelineServiceHostAddr) {\r\n   // here we should check embeddedTimelineServiceHostAddr instead of hostAddr\r\n    if (hostAddr != null) {\r\n      LOG.info(\"Overriding hostIp to (\" + embeddedTimelineServiceHostAddr + \") found in spark-conf. It was \" + this.hostAddr);\r\n      this.hostAddr = embeddedTimelineServiceHostAddr;\r\n    } else {\r\n      LOG.warn(\"Unable to find driver bind address from spark config\");\r\n      this.hostAddr = NetworkUtils.getHostname();\r\n    }\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702302083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702308385","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-702308385","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":702308385,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjMwODM4NQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T18:09:50Z","updated_at":"2020-10-01T18:09:50Z","author_association":"CONTRIBUTOR","body":"> > @wangxianghu can you please test the latest commit. To be clear, you are saying you don't get the warning on master, but get it on this branch. right?\r\n> > if this round of tests pass, and you confirm, we can land from my perspective\r\n> \r\n> Hi @vinothchandar The warn log is still there in HUDI-1089 branch.(master is ok, no warn log)\r\n> I think we should check `embeddedTimelineServiceHostAddr` instead of `hostAddr`.\r\n> \r\n> ```\r\n>   private void setHostAddr(String embeddedTimelineServiceHostAddr) {\r\n>    // here we should check embeddedTimelineServiceHostAddr instead of hostAddr\r\n>     if (hostAddr != null) {\r\n>       LOG.info(\"Overriding hostIp to (\" + embeddedTimelineServiceHostAddr + \") found in spark-conf. It was \" + this.hostAddr);\r\n>       this.hostAddr = embeddedTimelineServiceHostAddr;\r\n>     } else {\r\n>       LOG.warn(\"Unable to find driver bind address from spark config\");\r\n>       this.hostAddr = NetworkUtils.getHostname();\r\n>     }\r\n>   }\r\n> ```\r\n\r\nI have tested the latest commit with the check condition changed to \r\n```\r\nif (embeddedTimelineServiceHostAddr != null) {\r\n````\r\n\r\nIt runs well in my local, and the warn log disappeared.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702308385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702318528","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-702318528","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":702318528,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjMxODUyOA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T18:28:38Z","updated_at":"2020-10-01T18:28:38Z","author_association":"CONTRIBUTOR","body":"@vinothchandar The warn log issue is fixed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702318528/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702335492","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-702335492","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":702335492,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjMzNTQ5Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T19:00:13Z","updated_at":"2020-10-01T19:00:13Z","author_association":"MEMBER","body":"@wangxianghu duh ofc. I understand now. Thanks for jumping in @wangxianghu ! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702335492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702404415","html_url":"https://github.com/apache/hudi/pull/1929#issuecomment-702404415","issue_url":"https://api.github.com/repos/apache/hudi/issues/1929","id":702404415,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjQwNDQxNQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T21:20:17Z","updated_at":"2020-10-01T21:20:17Z","author_association":"MEMBER","body":"@leesf Any update? Let me know if you need any help here","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702404415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702405034","html_url":"https://github.com/apache/hudi/pull/2082#issuecomment-702405034","issue_url":"https://api.github.com/repos/apache/hudi/issues/2082","id":702405034,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjQwNTAzNA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T21:21:36Z","updated_at":"2020-10-01T21:21:36Z","author_association":"MEMBER","body":"@leesf #2048 is landed. is it possible to merge this and address Balaji's comments? (I can help if needed)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702405034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702407275","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-702407275","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":702407275,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjQwNzI3NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T21:26:41Z","updated_at":"2020-10-01T21:26:41Z","author_association":"MEMBER","body":"@wangxianghu Just merged! Thanks again for the herculean effort. \r\n\r\nMay be some followups could pop up. Would you be interested in taking them up? if so, I ll mention you along the way","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702407275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702420836","html_url":"https://github.com/apache/hudi/pull/1827#issuecomment-702420836","issue_url":"https://api.github.com/repos/apache/hudi/issues/1827","id":702420836,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjQyMDgzNg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T22:01:21Z","updated_at":"2020-10-01T22:01:21Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu Just merged! Thanks again for the herculean effort.\r\n> \r\n> May be some followups could pop up. Would you be interested in taking them up? if so, I ll mention you along the way\r\n\r\nsure, just ping me when needed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702420836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702494333","html_url":"https://github.com/apache/hudi/pull/2082#issuecomment-702494333","issue_url":"https://api.github.com/repos/apache/hudi/issues/2082","id":702494333,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjQ5NDMzMw==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T02:31:46Z","updated_at":"2020-10-02T02:32:04Z","author_association":"CONTRIBUTOR","body":"> @leesf #2048 is landed. is it possible to merge this and address Balaji's comments? (I can help if needed)\r\n\r\nSure, considering I am a little busy these days, it is wonderful if you @satishkotha would take over the PR and land it. Thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702494333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702500795","html_url":"https://github.com/apache/hudi/pull/1929#issuecomment-702500795","issue_url":"https://api.github.com/repos/apache/hudi/issues/1929","id":702500795,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjUwMDc5NQ==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T03:01:08Z","updated_at":"2020-10-02T03:01:08Z","author_association":"CONTRIBUTOR","body":"> @leesf Any update? Let me know if you need any help here\r\n\r\nack, will update the PR ASAP","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702500795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702568499","html_url":"https://github.com/apache/hudi/issues/1962#issuecomment-702568499","issue_url":"https://api.github.com/repos/apache/hudi/issues/1962","id":702568499,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjU2ODQ5OQ==","user":{"login":"sassai","id":5292604,"node_id":"MDQ6VXNlcjUyOTI2MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5292604?v=4","gravatar_id":"","url":"https://api.github.com/users/sassai","html_url":"https://github.com/sassai","followers_url":"https://api.github.com/users/sassai/followers","following_url":"https://api.github.com/users/sassai/following{/other_user}","gists_url":"https://api.github.com/users/sassai/gists{/gist_id}","starred_url":"https://api.github.com/users/sassai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sassai/subscriptions","organizations_url":"https://api.github.com/users/sassai/orgs","repos_url":"https://api.github.com/users/sassai/repos","events_url":"https://api.github.com/users/sassai/events{/privacy}","received_events_url":"https://api.github.com/users/sassai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T07:14:17Z","updated_at":"2020-10-02T07:14:17Z","author_association":"NONE","body":"@bvaradar: Sorry for the late reply. I was not able to investigate this issue further until now. \r\n\r\nIn the meantime I updated Hudi to 0.6.0 to check if the issue still occurs. Unfortunately yes. I created a table (COPY_ON_WRITE) with testing data for further debugging. Please find the requested information below:\r\n\r\nHudi data set:\r\n\r\n```console\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:14 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:14 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/.aux\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:14 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/.aux/.bootstrap\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:14 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/.aux/.bootstrap/.fileids\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:14 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/.aux/.bootstrap/.partitions\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:14 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/.temp\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer       9133 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/20201001171431.commit\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:14 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/20201001171431.commit.requested\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer        999 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/20201001171431.inflight\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer       1169 2020-10-01 17:18 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/20201001171823.commit\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:18 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/20201001171823.commit.requested\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer        380 2020-10-01 17:18 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/20201001171823.inflight\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer       2986 2020-10-01 17:34 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/20201001173346.commit\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:34 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/20201001173346.commit.requested\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer       1653 2020-10-01 17:34 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/20201001173346.inflight\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:14 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/archived\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer        228 2020-10-01 17:14 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/.hoodie/hoodie.properties\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10\r\ndrwxr-xr-x   - 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer          0 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer         93 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/.hoodie_partition_metadata\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7095995 2020-10-01 17:34 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/08b5ed87-a749-4a82-a298-59071381dbc9-0_0-89-2258_20201001173346.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7096113 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/08b5ed87-a749-4a82-a298-59071381dbc9-0_8-25-180_20201001171431.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7126955 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/3c49d05f-8a9b-4365-8158-a32f879d674f-0_0-25-172_20201001171431.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7126790 2020-10-01 17:34 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/3c49d05f-8a9b-4365-8158-a32f879d674f-0_1-89-2259_20201001173346.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7144341 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/4f7d1a69-112a-42d1-b0ac-adf8de1e8dad-0_7-25-179_20201001171431.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7120178 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/669c9159-a795-40ac-9827-4551965e1750-0_3-25-175_20201001171431.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7197719 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/ab9c4c36-ea10-47bc-bf05-1555bf07c4ad-0_2-25-174_20201001171431.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7158006 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/ad939d4e-d8dc-4723-b5a5-8ec2c064f3e3-0_6-25-178_20201001171431.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7170312 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/c4c0b379-79e8-4856-9605-e56b1beb1b09-0_4-25-176_20201001171431.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7118844 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/f5fae4bc-396d-4ff6-8b89-01c08559cb50-0_5-25-177_20201001171431.parquet\r\n-rw-r--r--   1 3d88417a-c602-4b19-b581-ac7265074929 srv_tu_usecase2_producer    7156753 2020-10-01 17:15 abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1/f804937c-8de2-4692-90d9-4b485305d721-0_1-25-173_20201001171431.parquet\r\n```\r\n\r\nLatest commit:\r\n\r\n```json\r\n{\r\n  \"partitionToWriteStats\" : {\r\n    \"year=2020/month=10/day=1\" : [ {\r\n      \"fileId\" : \"08b5ed87-a749-4a82-a298-59071381dbc9-0\",\r\n      \"path\" : \"year=2020/month=10/day=1/08b5ed87-a749-4a82-a298-59071381dbc9-0_0-89-2258_20201001173346.parquet\",\r\n      \"prevCommit\" : \"20201001171431\",\r\n      \"numWrites\" : 110569,\r\n      \"numDeletes\" : 0,\r\n      \"numUpdateWrites\" : 1,\r\n      \"numInserts\" : 0,\r\n      \"totalWriteBytes\" : 7095995,\r\n      \"totalWriteErrors\" : 0,\r\n      \"tempPath\" : null,\r\n      \"partitionPath\" : \"year=2020/month=10/day=1\",\r\n      \"totalLogRecords\" : 0,\r\n      \"totalLogFilesCompacted\" : 0,\r\n      \"totalLogSizeCompacted\" : 0,\r\n      \"totalUpdatedRecordsCompacted\" : 0,\r\n      \"totalLogBlocks\" : 0,\r\n      \"totalCorruptLogBlock\" : 0,\r\n      \"totalRollbackBlocks\" : 0,\r\n      \"fileSizeInBytes\" : 7095995\r\n    }, {\r\n      \"fileId\" : \"3c49d05f-8a9b-4365-8158-a32f879d674f-0\",\r\n      \"path\" : \"year=2020/month=10/day=1/3c49d05f-8a9b-4365-8158-a32f879d674f-0_1-89-2259_20201001173346.parquet\",\r\n      \"prevCommit\" : \"20201001171431\",\r\n      \"numWrites\" : 111111,\r\n      \"numDeletes\" : 0,\r\n      \"numUpdateWrites\" : 0,\r\n      \"numInserts\" : 1,\r\n      \"totalWriteBytes\" : 7126790,\r\n      \"totalWriteErrors\" : 0,\r\n      \"tempPath\" : null,\r\n      \"partitionPath\" : \"year=2020/month=10/day=1\",\r\n      \"totalLogRecords\" : 0,\r\n      \"totalLogFilesCompacted\" : 0,\r\n      \"totalLogSizeCompacted\" : 0,\r\n      \"totalUpdatedRecordsCompacted\" : 0,\r\n      \"totalLogBlocks\" : 0,\r\n      \"totalCorruptLogBlock\" : 0,\r\n      \"totalRollbackBlocks\" : 0,\r\n      \"fileSizeInBytes\" : 7126790\r\n    } ]\r\n  },\r\n  \"compacted\" : false,\r\n  \"extraMetadata\" : {\r\n    \"schema\" : \"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"address_record\\\",\\\"namespace\\\":\\\"hoodie.address\\\",\\\"fields\\\":[{\\\"name\\\":\\\"id\\\",\\\"type\\\":[\\\"int\\\",\\\"null\\\"]},{\\\"name\\\":\\\"zipCode\\\",\\\"type\\\":[\\\"int\\\",\\\"null\\\"]},{\\\"name\\\":\\\"city\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"street\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"streetNumber\\\",\\\"type\\\":[\\\"int\\\",\\\"null\\\"]},{\\\"name\\\":\\\"uuid\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"start_date\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"end_date\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"is_current\\\",\\\"type\\\":\\\"boolean\\\"},{\\\"name\\\":\\\"event_time\\\",\\\"type\\\":[\\\"string\\\",\\\"null\\\"]},{\\\"name\\\":\\\"year\\\",\\\"type\\\":\\\"int\\\"},{\\\"name\\\":\\\"month\\\",\\\"type\\\":\\\"int\\\"},{\\\"name\\\":\\\"day\\\",\\\"type\\\":\\\"int\\\"},{\\\"name\\\":\\\"its\\\",\\\"type\\\":\\\"string\\\"}]}\"\r\n  },\r\n  \"operationType\" : \"UPSERT\",\r\n  \"fileIdAndRelativePaths\" : {\r\n    \"08b5ed87-a749-4a82-a298-59071381dbc9-0\" : \"year=2020/month=10/day=1/08b5ed87-a749-4a82-a298-59071381dbc9-0_0-89-2258_20201001173346.parquet\",\r\n    \"3c49d05f-8a9b-4365-8158-a32f879d674f-0\" : \"year=2020/month=10/day=1/3c49d05f-8a9b-4365-8158-a32f879d674f-0_1-89-2259_20201001173346.parquet\"\r\n  },\r\n  \"totalRecordsDeleted\" : 0,\r\n  \"totalLogRecordsCompacted\" : 0,\r\n  \"totalScanTime\" : 0,\r\n  \"totalCreateTime\" : 0,\r\n  \"totalUpsertTime\" : 11307,\r\n  \"totalCompactedRecordsUpdated\" : 0,\r\n  \"totalLogFilesCompacted\" : 0,\r\n  \"totalLogFilesSize\" : 0\r\n}\r\n```\r\n\r\nHudi properties file:\r\n\r\n```console\r\n#Properties saved on Thu Oct 01 17:14:31 UTC 2020\r\n#Thu Oct 01 17:14:31 UTC 2020\r\nhoodie.table.name=address\r\nhoodie.archivelog.folder=archived\r\nhoodie.table.type=COPY_ON_WRITE\r\nhoodie.table.version=1\r\nhoodie.timeline.layout.version=1\r\n```\r\n\r\nDescribe table:\r\n\r\n```console\r\n+-----------------------------------+----------------------------------------------------+-----------------------+\r\n|             col_name              |                     data_type                      |        comment        |\r\n+-----------------------------------+----------------------------------------------------+-----------------------+\r\n| _hoodie_commit_time               | string                                             |                       |\r\n| _hoodie_commit_seqno              | string                                             |                       |\r\n| _hoodie_record_key                | string                                             |                       |\r\n| _hoodie_partition_path            | string                                             |                       |\r\n| _hoodie_file_name                 | string                                             |                       |\r\n| id                                | int                                                |                       |\r\n| zipcode                           | int                                                |                       |\r\n| city                              | string                                             |                       |\r\n| street                            | string                                             |                       |\r\n| streetnumber                      | int                                                |                       |\r\n| uuid                              | string                                             |                       |\r\n| start_date                        | string                                             |                       |\r\n| end_date                          | string                                             |                       |\r\n| is_current                        | boolean                                            |                       |\r\n| event_time                        | string                                             |                       |\r\n| its                               | string                                             |                       |\r\n|                                   | NULL                                               | NULL                  |\r\n| # Partition Information           | NULL                                               | NULL                  |\r\n| # col_name                        | data_type                                          | comment               |\r\n| year                              | int                                                |                       |\r\n| month                             | int                                                |                       |\r\n| day                               | int                                                |                       |\r\n|                                   | NULL                                               | NULL                  |\r\n| # Detailed Partition Information  | NULL                                               | NULL                  |\r\n| Partition Value:                  | [2020, 10, 1]                                      | NULL                  |\r\n| Database:                         | nyc_taxi                                           | NULL                  |\r\n| Table:                            | address                                            | NULL                  |\r\n| CreateTime:                       | Thu Oct 01 17:15:51 UTC 2020                       | NULL                  |\r\n| LastAccessTime:                   | UNKNOWN                                            | NULL                  |\r\n| Location:                         | abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1 | NULL                  |\r\n| Partition Parameters:             | NULL                                               | NULL                  |\r\n|                                   | numFiles                                           | 9                     |\r\n|                                   | totalSize                                          | 64289221              |\r\n|                                   | transient_lastDdlTime                              | 1601572551            |\r\n|                                   | NULL                                               | NULL                  |\r\n| # Storage Information             | NULL                                               | NULL                  |\r\n| SerDe Library:                    | org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe | NULL                  |\r\n| InputFormat:                      | org.apache.hudi.hadoop.HoodieParquetInputFormat    | NULL                  |\r\n| OutputFormat:                     | org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat | NULL                  |\r\n| Compressed:                       | No                                                 | NULL                  |\r\n| Num Buckets:                      | -1                                                 | NULL                  |\r\n| Bucket Columns:                   | []                                                 | NULL                  |\r\n| Sort Columns:                     | []                                                 | NULL                  |\r\n| Storage Desc Params:              | NULL                                               | NULL                  |\r\n|                                   | serialization.format                               | 1                     |\r\n+-----------------------------------+----------------------------------------------------+-----------------------+\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702568499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702767045","html_url":"https://github.com/apache/hudi/pull/2092#issuecomment-702767045","issue_url":"https://api.github.com/repos/apache/hudi/issues/2092","id":702767045,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjc2NzA0NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T14:29:52Z","updated_at":"2020-10-02T14:29:52Z","author_association":"CONTRIBUTOR","body":"cool, sounds good. will wait for you to update the patch then","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702767045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702772462","html_url":"https://github.com/apache/hudi/issues/2138#issuecomment-702772462","issue_url":"https://api.github.com/repos/apache/hudi/issues/2138","id":702772462,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjc3MjQ2Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T14:39:12Z","updated_at":"2020-10-02T14:39:35Z","author_association":"CONTRIBUTOR","body":"@hotienvu : In your code, hive-sync config is configured wrongly \r\n\r\nDataSourceWriteOptions.HIVE_PARTITION_FIELDS_OPT_KEY() should be set to  \"year,month,day\" instead of \"year:SIMPLE,month:SIMPLE,day:SIMPLE\". \r\n\r\n@pratyakshsharma : Can you get the PR #2093 landed when you get a chance ? \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702772462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702799057","html_url":"https://github.com/apache/hudi/issues/2135#issuecomment-702799057","issue_url":"https://api.github.com/repos/apache/hudi/issues/2135","id":702799057,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjc5OTA1Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T15:26:44Z","updated_at":"2020-10-02T15:26:44Z","author_association":"CONTRIBUTOR","body":"@andaag : I think you are referring to \"cleaner\" here. We expose cleaner metadata through CLI. \"cleans show\" (Source code : CleansCommand.java).\r\n\r\nCleaner track what is the earliest commit that was retained (still present). If this value is higher than (say previous day), then all old data is cleaned earlier than that. Is this something that would work for you ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702799057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702821679","html_url":"https://github.com/apache/hudi/issues/2135#issuecomment-702821679","issue_url":"https://api.github.com/repos/apache/hudi/issues/2135","id":702821679,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjgyMTY3OQ==","user":{"login":"andaag","id":826023,"node_id":"MDQ6VXNlcjgyNjAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/826023?v=4","gravatar_id":"","url":"https://api.github.com/users/andaag","html_url":"https://github.com/andaag","followers_url":"https://api.github.com/users/andaag/followers","following_url":"https://api.github.com/users/andaag/following{/other_user}","gists_url":"https://api.github.com/users/andaag/gists{/gist_id}","starred_url":"https://api.github.com/users/andaag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andaag/subscriptions","organizations_url":"https://api.github.com/users/andaag/orgs","repos_url":"https://api.github.com/users/andaag/repos","events_url":"https://api.github.com/users/andaag/events{/privacy}","received_events_url":"https://api.github.com/users/andaag/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T16:09:32Z","updated_at":"2020-10-02T16:09:32Z","author_association":"NONE","body":"Yes, but it'd be quite critical to be able to access this from the apis/programatically.\r\n\r\nIf we have a job running the gdpr deletion, we'd need that job to know the times involved and ack. Not have to deal with the cli.\r\n\r\nWe can grab the logic from CleansCommand though, but it's not optimal. It'd be very nice to access this as part of the standard api.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702821679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702842659","html_url":"https://github.com/apache/hudi/issues/2138#issuecomment-702842659","issue_url":"https://api.github.com/repos/apache/hudi/issues/2138","id":702842659,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjg0MjY1OQ==","user":{"login":"hotienvu","id":1747423,"node_id":"MDQ6VXNlcjE3NDc0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1747423?v=4","gravatar_id":"","url":"https://api.github.com/users/hotienvu","html_url":"https://github.com/hotienvu","followers_url":"https://api.github.com/users/hotienvu/followers","following_url":"https://api.github.com/users/hotienvu/following{/other_user}","gists_url":"https://api.github.com/users/hotienvu/gists{/gist_id}","starred_url":"https://api.github.com/users/hotienvu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotienvu/subscriptions","organizations_url":"https://api.github.com/users/hotienvu/orgs","repos_url":"https://api.github.com/users/hotienvu/repos","events_url":"https://api.github.com/users/hotienvu/events{/privacy}","received_events_url":"https://api.github.com/users/hotienvu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T16:52:32Z","updated_at":"2020-10-02T16:52:32Z","author_association":"CONTRIBUTOR","body":"Thanks @bvaradar, it is working now. Closing this and the pr\r\nIMHO, would be great if  the doc [here](https://hudi.apache.org/docs/writing_data.html) have an example for writing into multiple-partition table as I spend quite a bit of time figuring out the right combination for PARTITIONPATH_FIELD_OPT_KEY, KEYGENERATOR_CLASS_OPT_KEY, HIVE_PARTITION_FIELDS_OPT_KEY and HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY. Happy to contribute to this if possible. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702842659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702843403","html_url":"https://github.com/apache/hudi/pull/2140#issuecomment-702843403","issue_url":"https://api.github.com/repos/apache/hudi/issues/2140","id":702843403,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjg0MzQwMw==","user":{"login":"hotienvu","id":1747423,"node_id":"MDQ6VXNlcjE3NDc0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1747423?v=4","gravatar_id":"","url":"https://api.github.com/users/hotienvu","html_url":"https://github.com/hotienvu","followers_url":"https://api.github.com/users/hotienvu/followers","following_url":"https://api.github.com/users/hotienvu/following{/other_user}","gists_url":"https://api.github.com/users/hotienvu/gists{/gist_id}","starred_url":"https://api.github.com/users/hotienvu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotienvu/subscriptions","organizations_url":"https://api.github.com/users/hotienvu/orgs","repos_url":"https://api.github.com/users/hotienvu/repos","events_url":"https://api.github.com/users/hotienvu/events{/privacy}","received_events_url":"https://api.github.com/users/hotienvu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T16:53:56Z","updated_at":"2020-10-02T16:53:56Z","author_association":"CONTRIBUTOR","body":"Closing this. See  https://github.com/apache/hudi/issues/2138 for solution","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702843403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702846845","html_url":"https://github.com/apache/hudi/issues/2131#issuecomment-702846845","issue_url":"https://api.github.com/repos/apache/hudi/issues/2131","id":702846845,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjg0Njg0NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T17:01:25Z","updated_at":"2020-10-02T17:01:25Z","author_association":"CONTRIBUTOR","body":"@tandonraghavs : Thanks for the explanation. I have created a PR to expose Schema in preCombine : https://github.com/apache/hudi/pull/2141 \r\n\r\nThere is one option for you which is to implement your RecordPayload such that it does not inherit from BaseAvroPayload or inherit it but in your constructor, hold the schema of the generic record getting passed. You can then use this to implement precombine. Can you give this a try ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702846845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702868560","html_url":"https://github.com/apache/hudi/issues/2135#issuecomment-702868560","issue_url":"https://api.github.com/repos/apache/hudi/issues/2135","id":702868560,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjg2ODU2MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T17:43:02Z","updated_at":"2020-10-02T17:43:02Z","author_association":"MEMBER","body":"@andaag, we would be happy to take a feature request do you mind raising a jira, with more detailed requirements","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702868560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702871683","html_url":"https://github.com/apache/hudi/pull/2139#issuecomment-702871683","issue_url":"https://api.github.com/repos/apache/hudi/issues/2139","id":702871683,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjg3MTY4Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T17:49:58Z","updated_at":"2020-10-02T17:49:58Z","author_association":"MEMBER","body":"@wangxianghu I did not end up doing this in my pr because hudi-sync is alreadynamed in the same way. We can leave this also as-is?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702871683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702912344","html_url":"https://github.com/apache/hudi/issues/2121#issuecomment-702912344","issue_url":"https://api.github.com/repos/apache/hudi/issues/2121","id":702912344,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjkxMjM0NA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T19:16:15Z","updated_at":"2020-10-02T19:16:15Z","author_association":"MEMBER","body":"@pratyakshsharma Do you happen to know about supporting array type schema?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/702912344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703021700","html_url":"https://github.com/apache/hudi/pull/2139#issuecomment-703021700","issue_url":"https://api.github.com/repos/apache/hudi/issues/2139","id":703021700,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzAyMTcwMA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T01:19:11Z","updated_at":"2020-10-03T01:19:11Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu I did not end up doing this in my pr because hudi-sync is alreadynamed in the same way. We can leave this also as-is?\r\n\r\nYes, I named it as `hudi-spark-client` refer to `hudi-sync` too.  Since you also have this idea, let's leave it as `hudi-spark-client`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703021700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703062036","html_url":"https://github.com/apache/hudi/issues/2108#issuecomment-703062036","issue_url":"https://api.github.com/repos/apache/hudi/issues/2108","id":703062036,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzA2MjAzNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T07:36:23Z","updated_at":"2020-10-03T07:36:23Z","author_association":"CONTRIBUTOR","body":"@JiaDe-Wu : Do you see .rollback file in the .hoodie folder ? If you find such a file, it means that the the rollback would have been succeeded. Also, its possible that the commit would have been marked first as .inflight. This would mean that the query will not see the commit that you were rolling back. In this case, a subsequent commit would have automatically rolled back the commit. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703062036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703065326","html_url":"https://github.com/apache/hudi/issues/2083#issuecomment-703065326","issue_url":"https://api.github.com/repos/apache/hudi/issues/2083","id":703065326,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzA2NTMyNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T08:04:16Z","updated_at":"2020-10-03T08:04:16Z","author_association":"CONTRIBUTOR","body":"@rnatarajan : I was trying to find the batch interval in your comments but couldn't find it. What is the batch interval you kept for streaming ? If you are seeing around 28-32 secs consistently, then it should not be related to https://github.com/apache/hudi/issues/1830. Also, seeing consistent turnaround time means the write is not building the lag. Let me know if I understand correctly ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703065326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703109022","html_url":"https://github.com/apache/hudi/pull/2127#issuecomment-703109022","issue_url":"https://api.github.com/repos/apache/hudi/issues/2127","id":703109022,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzEwOTAyMg==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T14:05:52Z","updated_at":"2020-10-03T14:05:52Z","author_association":"CONTRIBUTOR","body":"hello, @xushiyan @pratyakshsharma  can you help to review?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703109022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703109148","html_url":"https://github.com/apache/hudi/pull/2133#issuecomment-703109148","issue_url":"https://api.github.com/repos/apache/hudi/issues/2133","id":703109148,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzEwOTE0OA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T14:06:45Z","updated_at":"2020-10-03T14:06:45Z","author_association":"CONTRIBUTOR","body":"@n3nash @bhasudha  thanks for your review again  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703109148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703117872","html_url":"https://github.com/apache/hudi/pull/2132#issuecomment-703117872","issue_url":"https://api.github.com/repos/apache/hudi/issues/2132","id":703117872,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzExNzg3Mg==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T15:08:00Z","updated_at":"2020-10-03T15:08:00Z","author_association":"MEMBER","body":"@prashantwason could you check the conflicts please? thank you.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703117872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703122856","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-703122856","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":703122856,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzEyMjg1Ng==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T15:43:19Z","updated_at":"2020-10-03T15:43:19Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @n3nash  can you help to review? Thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703122856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703137335","html_url":"https://github.com/apache/hudi/issues/2131#issuecomment-703137335","issue_url":"https://api.github.com/repos/apache/hudi/issues/2131","id":703137335,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzEzNzMzNQ==","user":{"login":"tandonraghavs","id":53559945,"node_id":"MDQ6VXNlcjUzNTU5OTQ1","avatar_url":"https://avatars.githubusercontent.com/u/53559945?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghavs","html_url":"https://github.com/tandonraghavs","followers_url":"https://api.github.com/users/tandonraghavs/followers","following_url":"https://api.github.com/users/tandonraghavs/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghavs/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghavs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghavs/subscriptions","organizations_url":"https://api.github.com/users/tandonraghavs/orgs","repos_url":"https://api.github.com/users/tandonraghavs/repos","events_url":"https://api.github.com/users/tandonraghavs/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghavs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T17:30:17Z","updated_at":"2020-10-03T17:30:17Z","author_association":"NONE","body":"@bvaradar Thanks for the PR.\r\nI tried the way you suggested and it is working as desired. \r\nLet me know if you see any issue in below code.\r\n\r\n````\r\npublic class MergeHudiPayload implements HoodieRecordPayload<MergeHudiPayload> {\r\n    private byte[] recordBytes;\r\n    private Schema schema;\r\n    private Comparable orderingVal;\r\n    \r\n    public MergeHudiPayload(GenericRecord genericRecord, Comparable orderingVal) {\r\n        try {\r\n            if (genericRecord!=null) {\r\n                this.recordBytes = HoodieAvroUtils.avroToBytes(genericRecord);\r\n                this.schema=genericRecord.getSchema();\r\n                this.orderingVal=orderingVal;\r\n            } else {\r\n                this.recordBytes = new byte[0];\r\n            }\r\n        } catch (IOException io) {\r\n            throw new HoodieIOException(\"Cannot convert record to bytes\", io);\r\n        }\r\n    }\r\n\r\n   //Constructor called during Compaction\r\n    public MergeHudiPayload(Option<GenericRecord> record)  {\r\n        this(record.isPresent() ? record.get() : null, (record1) -> 0); // natural order\r\n    }\r\n}\r\n````\r\nThen I use it like this in **preCombine**\r\n````\r\nGenericRecord currentRecord=HoodieAvroUtils.bytesToAvro(currentObj.recordBytes,currentObj.schema);\r\nGenericRecord anotherRecord=HoodieAvroUtils.bytesToAvro(anotherObj.recordBytes,anotherObj.schema);\r\n````","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703137335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703170642","html_url":"https://github.com/apache/hudi/issues/2131#issuecomment-703170642","issue_url":"https://api.github.com/repos/apache/hudi/issues/2131","id":703170642,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE3MDY0Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-03T22:08:40Z","updated_at":"2020-10-03T22:08:40Z","author_association":"CONTRIBUTOR","body":"> @bvaradar Thanks for the PR.\r\n> I tried the way you suggested and it is working as desired.\r\n> Let me know if you see any issue in below code.\r\n> \r\n> ```\r\n> public class MergeHudiPayload implements HoodieRecordPayload<MergeHudiPayload> {\r\n>     private byte[] recordBytes;\r\n>     private Schema schema;\r\n>     private Comparable orderingVal;\r\n>     \r\n>     public MergeHudiPayload(GenericRecord genericRecord, Comparable orderingVal) {\r\n>         try {\r\n>             if (genericRecord!=null) {\r\n>                 this.recordBytes = HoodieAvroUtils.avroToBytes(genericRecord);\r\n>                 this.schema=genericRecord.getSchema();\r\n>                 this.orderingVal=orderingVal;\r\n>             } else {\r\n>                 this.recordBytes = new byte[0];\r\n>             }\r\n>         } catch (IOException io) {\r\n>             throw new HoodieIOException(\"Cannot convert record to bytes\", io);\r\n>         }\r\n>     }\r\n> \r\n>    //Constructor called during Compaction\r\n>     public MergeHudiPayload(Option<GenericRecord> record)  {\r\n>         this(record.isPresent() ? record.get() : null, (record1) -> 0); // natural order\r\n>     }\r\n> }\r\n> ```\r\n> \r\n> Then I use it like this in **preCombine**\r\n> \r\n> ```\r\n> GenericRecord currentRecord=HoodieAvroUtils.bytesToAvro(currentObj.recordBytes,currentObj.schema);\r\n> GenericRecord anotherRecord=HoodieAvroUtils.bytesToAvro(anotherObj.recordBytes,anotherObj.schema);\r\n> ```\r\n\r\nGreat. This looks good. Although, Please check if you might want to store the schema as a string in the constructors and lazily load. Last I checked Avro Schema Object does not implement serializable and you may run into Serialization errors ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703170642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703192383","html_url":"https://github.com/apache/hudi/pull/2064#issuecomment-703192383","issue_url":"https://api.github.com/repos/apache/hudi/issues/2064","id":703192383,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE5MjM4Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T02:47:38Z","updated_at":"2020-10-04T02:47:38Z","author_association":"MEMBER","body":"@prashantwason there is a `rfc-15` branch under apache now. We can target all our PRs to this branch going forward. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703192383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703192490","html_url":"https://github.com/apache/hudi/pull/2128#issuecomment-703192490","issue_url":"https://api.github.com/repos/apache/hudi/issues/2128","id":703192490,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE5MjQ5MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T02:49:07Z","updated_at":"2020-10-04T02:49:07Z","author_association":"MEMBER","body":"@nsivabalan are you able to review and land this? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703192490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703243458","html_url":"https://github.com/apache/hudi/pull/2111#issuecomment-703243458","issue_url":"https://api.github.com/repos/apache/hudi/issues/2111","id":703243458,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI0MzQ1OA==","user":{"login":"SteNicholas","id":10048174,"node_id":"MDQ6VXNlcjEwMDQ4MTc0","avatar_url":"https://avatars.githubusercontent.com/u/10048174?v=4","gravatar_id":"","url":"https://api.github.com/users/SteNicholas","html_url":"https://github.com/SteNicholas","followers_url":"https://api.github.com/users/SteNicholas/followers","following_url":"https://api.github.com/users/SteNicholas/following{/other_user}","gists_url":"https://api.github.com/users/SteNicholas/gists{/gist_id}","starred_url":"https://api.github.com/users/SteNicholas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SteNicholas/subscriptions","organizations_url":"https://api.github.com/users/SteNicholas/orgs","repos_url":"https://api.github.com/users/SteNicholas/repos","events_url":"https://api.github.com/users/SteNicholas/events{/privacy}","received_events_url":"https://api.github.com/users/SteNicholas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T11:45:19Z","updated_at":"2020-10-04T11:45:19Z","author_association":"MEMBER","body":"> > > According to this[https://github.com/apache/hudi/issues/2051](https://github.com/apache/hudi/issues/2051%EF%BC%89) testI can't get the results I wantWhen we set different valuehoodie.parquet.small.file.limit, the results are still different\r\n> > \r\n> > \r\n> > @linshan-ma Could you please provide this test again? I couldn't visit the test you mentioned.\r\n> \r\n> @SteNicholas hi,this issue.#2051\r\n\r\n@linshan-ma You could use the latest change to verify the test case you provide.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703243458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703258454","html_url":"https://github.com/apache/hudi/pull/2142#issuecomment-703258454","issue_url":"https://api.github.com/repos/apache/hudi/issues/2142","id":703258454,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI1ODQ1NA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T13:48:00Z","updated_at":"2020-10-04T13:48:00Z","author_association":"CONTRIBUTOR","body":"@bvaradar @leesf   please help to review ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703258454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703274556","html_url":"https://github.com/apache/hudi/pull/2132#issuecomment-703274556","issue_url":"https://api.github.com/repos/apache/hudi/issues/2132","id":703274556,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI3NDU1Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T15:48:43Z","updated_at":"2020-10-04T15:48:43Z","author_association":"MEMBER","body":"Rebased this against master. @xushiyan we can merge once CI passes again ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703274556/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703274805","html_url":"https://github.com/apache/hudi/pull/2133#issuecomment-703274805","issue_url":"https://api.github.com/repos/apache/hudi/issues/2133","id":703274805,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI3NDgwNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T15:50:30Z","updated_at":"2020-10-04T15:50:30Z","author_association":"MEMBER","body":"@n3nash looks ready for merging? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703274805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703274955","html_url":"https://github.com/apache/hudi/pull/1704#issuecomment-703274955","issue_url":"https://api.github.com/repos/apache/hudi/issues/1704","id":703274955,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI3NDk1NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T15:51:34Z","updated_at":"2020-10-04T15:51:34Z","author_association":"MEMBER","body":"@bhasudha as discussed, should we try and have another payload for this behavior. to avoid overwriting for backfill scenarios ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703274955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703275211","html_url":"https://github.com/apache/hudi/issues/2131#issuecomment-703275211","issue_url":"https://api.github.com/repos/apache/hudi/issues/2131","id":703275211,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI3NTIxMQ==","user":{"login":"tandonraghavs","id":53559945,"node_id":"MDQ6VXNlcjUzNTU5OTQ1","avatar_url":"https://avatars.githubusercontent.com/u/53559945?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghavs","html_url":"https://github.com/tandonraghavs","followers_url":"https://api.github.com/users/tandonraghavs/followers","following_url":"https://api.github.com/users/tandonraghavs/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghavs/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghavs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghavs/subscriptions","organizations_url":"https://api.github.com/users/tandonraghavs/orgs","repos_url":"https://api.github.com/users/tandonraghavs/repos","events_url":"https://api.github.com/users/tandonraghavs/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghavs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T15:53:19Z","updated_at":"2020-10-04T15:53:19Z","author_association":"NONE","body":"@bvaradar Thanks for the input. You are right since i tested in local it was working fine...But i converted Schema-> byte[].\r\nClosing this ticket as things are working fine.\r\n\r\nThanks for the support!!!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703275211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703281866","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-703281866","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":703281866,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI4MTg2Ng==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T16:39:53Z","updated_at":"2020-10-04T16:39:53Z","author_association":"CONTRIBUTOR","body":"> @lw309637554 Change itself looks good to me. However, wondering if we should also\r\n> \r\n> * Add some check to throw an error if the index type is different in `hoodie.properties` than it's configured. some changes are compatible for e.g using `GLOBAL_BLOOM` and then switching to `BLOOM`/`SIMPLE` . but reverse is not.\r\n> * I think it's high time we introduce a builder pattern init the table properties. those overloaded `initXX` are hard to read. If interested, we can do that in a separate PR.\r\n> * Should we also add something to upgrade downgrade logic to persist this for existing datasets.\r\n\r\nThanks , i will think about ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703281866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703283414","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-703283414","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":703283414,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI4MzQxNA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T16:51:37Z","updated_at":"2020-10-04T16:52:50Z","author_association":"CONTRIBUTOR","body":"> @lw309637554 Change itself looks good to me. However, wondering if we should also\r\nThanks @vinothchandar \r\n> \r\n> * Add some check to throw an error if the index type is different in `hoodie.properties` than it's configured. some changes are compatible for e.g using `GLOBAL_BLOOM` and then switching to `BLOOM`/`SIMPLE` . but reverse is not.\r\n\r\nOK, i will add it.\r\n\r\n> * I think it's high time we introduce a builder pattern init the table properties. those overloaded `initXX` are hard to read. If interested, we can do that in a separate PR.\r\n\r\nOK, i interested. \r\n> * Should we also add something to upgrade downgrade logic to persist this for existing datasets.\r\n\r\nOK, i will try it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703283414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703283433","html_url":"https://github.com/apache/hudi/pull/1566#issuecomment-703283433","issue_url":"https://api.github.com/repos/apache/hudi/issues/1566","id":703283433,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI4MzQzMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T16:51:51Z","updated_at":"2020-10-04T16:51:51Z","author_association":"MEMBER","body":"@pratyakshsharma @bvaradar I have rebased this to latest master again. Please take another look ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703283433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703283495","html_url":"https://github.com/apache/hudi/pull/2142#issuecomment-703283495","issue_url":"https://api.github.com/repos/apache/hudi/issues/2142","id":703283495,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI4MzQ5NQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T16:52:22Z","updated_at":"2020-10-04T16:52:22Z","author_association":"CONTRIBUTOR","body":"@vinothchandar  can you help to review? thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703283495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703296845","html_url":"https://github.com/apache/hudi/pull/2088#issuecomment-703296845","issue_url":"https://api.github.com/repos/apache/hudi/issues/2088","id":703296845,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzI5Njg0NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T18:34:01Z","updated_at":"2020-10-04T18:34:01Z","author_association":"MEMBER","body":"@shenh062326 Thanks for the contribution!  Looks good to me. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703296845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703319895","html_url":"https://github.com/apache/hudi/pull/2129#issuecomment-703319895","issue_url":"https://api.github.com/repos/apache/hudi/issues/2129","id":703319895,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzMxOTg5NQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T21:39:10Z","updated_at":"2020-10-04T21:39:10Z","author_association":"CONTRIBUTOR","body":"> @pratyakshsharma will you be able to review this week?\r\n\r\nApologies for the delay. Will take a look today. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703319895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703335287","html_url":"https://github.com/apache/hudi/pull/1484#issuecomment-703335287","issue_url":"https://api.github.com/repos/apache/hudi/issues/1484","id":703335287,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzMzNTI4Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T00:01:29Z","updated_at":"2020-10-05T00:01:29Z","author_association":"MEMBER","body":"@n3nash I tried to rebase this and noticed that the custom ratelimiter is still a reuse from Guava. Are we still pursuing this PR? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703335287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703335501","html_url":"https://github.com/apache/hudi/pull/2129#issuecomment-703335501","issue_url":"https://api.github.com/repos/apache/hudi/issues/2129","id":703335501,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzMzNTUwMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T00:03:16Z","updated_at":"2020-10-05T00:03:16Z","author_association":"MEMBER","body":"cc @umehrot2 as well. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703335501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703337763","html_url":"https://github.com/apache/hudi/pull/2125#issuecomment-703337763","issue_url":"https://api.github.com/repos/apache/hudi/issues/2125","id":703337763,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzMzNzc2Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T00:20:28Z","updated_at":"2020-10-05T00:20:28Z","author_association":"MEMBER","body":">both schema and data should with that commit.\r\n\r\n This may not always be desired. the user may wish to get the incremental results using the latest schema, as well, right? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703337763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703361805","html_url":"https://github.com/apache/hudi/pull/2143#issuecomment-703361805","issue_url":"https://api.github.com/repos/apache/hudi/issues/2143","id":703361805,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzM2MTgwNQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T02:19:41Z","updated_at":"2020-10-05T02:19:41Z","author_association":"MEMBER","body":"@yanghua this should be the 2nd last PR of this migration. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703361805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703375108","html_url":"https://github.com/apache/hudi/issues/2089#issuecomment-703375108","issue_url":"https://api.github.com/repos/apache/hudi/issues/2089","id":703375108,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzM3NTEwOA==","user":{"login":"harishchanderramesh","id":46951911,"node_id":"MDQ6VXNlcjQ2OTUxOTEx","avatar_url":"https://avatars.githubusercontent.com/u/46951911?v=4","gravatar_id":"","url":"https://api.github.com/users/harishchanderramesh","html_url":"https://github.com/harishchanderramesh","followers_url":"https://api.github.com/users/harishchanderramesh/followers","following_url":"https://api.github.com/users/harishchanderramesh/following{/other_user}","gists_url":"https://api.github.com/users/harishchanderramesh/gists{/gist_id}","starred_url":"https://api.github.com/users/harishchanderramesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harishchanderramesh/subscriptions","organizations_url":"https://api.github.com/users/harishchanderramesh/orgs","repos_url":"https://api.github.com/users/harishchanderramesh/repos","events_url":"https://api.github.com/users/harishchanderramesh/events{/privacy}","received_events_url":"https://api.github.com/users/harishchanderramesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T03:21:44Z","updated_at":"2020-10-05T03:21:44Z","author_association":"NONE","body":"@n3nash Yes, I tried s3://path only. Not sure why is it defaulting to /mnt\r\n@umehrot2 - Raising a support ticket now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703375108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703438659","html_url":"https://github.com/apache/hudi/pull/2093#issuecomment-703438659","issue_url":"https://api.github.com/repos/apache/hudi/issues/2093","id":703438659,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzQzODY1OQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T06:57:02Z","updated_at":"2020-10-05T06:57:02Z","author_association":"CONTRIBUTOR","body":"@bhasudha @vinothchandar please take a pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703438659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703473193","html_url":"https://github.com/apache/hudi/issues/2144#issuecomment-703473193","issue_url":"https://api.github.com/repos/apache/hudi/issues/2144","id":703473193,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzQ3MzE5Mw==","user":{"login":"KarthickAN","id":7994981,"node_id":"MDQ6VXNlcjc5OTQ5ODE=","avatar_url":"https://avatars.githubusercontent.com/u/7994981?v=4","gravatar_id":"","url":"https://api.github.com/users/KarthickAN","html_url":"https://github.com/KarthickAN","followers_url":"https://api.github.com/users/KarthickAN/followers","following_url":"https://api.github.com/users/KarthickAN/following{/other_user}","gists_url":"https://api.github.com/users/KarthickAN/gists{/gist_id}","starred_url":"https://api.github.com/users/KarthickAN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KarthickAN/subscriptions","organizations_url":"https://api.github.com/users/KarthickAN/orgs","repos_url":"https://api.github.com/users/KarthickAN/repos","events_url":"https://api.github.com/users/KarthickAN/events{/privacy}","received_events_url":"https://api.github.com/users/KarthickAN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T08:06:17Z","updated_at":"2020-10-05T08:06:17Z","author_association":"NONE","body":"Although error was misleading this is not an issue with hudi. Actual data had null values for the column specified and that caused this issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703473193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703564330","html_url":"https://github.com/apache/hudi/pull/2106#issuecomment-703564330","issue_url":"https://api.github.com/repos/apache/hudi/issues/2106","id":703564330,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzU2NDMzMA==","user":{"login":"Karl-WangSK","id":53078090,"node_id":"MDQ6VXNlcjUzMDc4MDkw","avatar_url":"https://avatars.githubusercontent.com/u/53078090?v=4","gravatar_id":"","url":"https://api.github.com/users/Karl-WangSK","html_url":"https://github.com/Karl-WangSK","followers_url":"https://api.github.com/users/Karl-WangSK/followers","following_url":"https://api.github.com/users/Karl-WangSK/following{/other_user}","gists_url":"https://api.github.com/users/Karl-WangSK/gists{/gist_id}","starred_url":"https://api.github.com/users/Karl-WangSK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Karl-WangSK/subscriptions","organizations_url":"https://api.github.com/users/Karl-WangSK/orgs","repos_url":"https://api.github.com/users/Karl-WangSK/repos","events_url":"https://api.github.com/users/Karl-WangSK/events{/privacy}","received_events_url":"https://api.github.com/users/Karl-WangSK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T11:12:16Z","updated_at":"2020-10-05T11:12:16Z","author_association":"CONTRIBUTOR","body":"> @Karl-WangSK Can this kind of merging should belong in a separate payload class. I am not sure overloading the existing payload is the right way to go. It has a specific purpose of ingesting full change log records, and pick the latest record based on `orderingVal`. What I am trying to say : there may be users who just want `null, 18` i.e latest values for name,age instead of merged.\r\n> \r\n> Happy to take this contribution as a separate payload class .\r\n\r\n In `HoodieWriteConfig`. I added `COMBINE_ALL_FIELDS_BEFORE_UPSERT_PROP`, and `DEFAULT_COMBINE_ALL_FIELDS_BEFORE_UPSERT` = \"false\". So it  won't merge(which means will choose latest values for name,age). If I want to enable this function  described in this PR, just set `DEFAULT_COMBINE_ALL_FIELDS_BEFORE_UPSERT`  as \"true\". I think it doesn't need to add a new payload. wdyt?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703564330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703652716","html_url":"https://github.com/apache/hudi/issues/1962#issuecomment-703652716","issue_url":"https://api.github.com/repos/apache/hudi/issues/1962","id":703652716,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzY1MjcxNg==","user":{"login":"sassai","id":5292604,"node_id":"MDQ6VXNlcjUyOTI2MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5292604?v=4","gravatar_id":"","url":"https://api.github.com/users/sassai","html_url":"https://github.com/sassai","followers_url":"https://api.github.com/users/sassai/followers","following_url":"https://api.github.com/users/sassai/following{/other_user}","gists_url":"https://api.github.com/users/sassai/gists{/gist_id}","starred_url":"https://api.github.com/users/sassai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sassai/subscriptions","organizations_url":"https://api.github.com/users/sassai/orgs","repos_url":"https://api.github.com/users/sassai/repos","events_url":"https://api.github.com/users/sassai/events{/privacy}","received_events_url":"https://api.github.com/users/sassai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T14:02:00Z","updated_at":"2020-10-05T14:02:00Z","author_association":"NONE","body":"Update: \r\n\r\nUsing `set hive.fetch.task.conversion=none;` within the hive session fixed the issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703652716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703720646","html_url":"https://github.com/apache/hudi/pull/2142#issuecomment-703720646","issue_url":"https://api.github.com/repos/apache/hudi/issues/2142","id":703720646,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzcyMDY0Ng==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T15:50:41Z","updated_at":"2020-10-05T15:50:41Z","author_association":"CONTRIBUTOR","body":"> Minor comments. LGTM otherwise\r\n\r\nall the comment have resolved","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703720646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703727376","html_url":"https://github.com/apache/hudi/pull/2127#issuecomment-703727376","issue_url":"https://api.github.com/repos/apache/hudi/issues/2127","id":703727376,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzcyNzM3Ng==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T16:01:50Z","updated_at":"2020-10-05T16:01:50Z","author_association":"CONTRIBUTOR","body":"@vinothchandar  all the comments have resolved.\r\n1. pulling the common structure\r\n2.  merge these two catch blocks, and simple log","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703727376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703735047","html_url":"https://github.com/apache/hudi/issues/1962#issuecomment-703735047","issue_url":"https://api.github.com/repos/apache/hudi/issues/1962","id":703735047,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzczNTA0Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T16:15:00Z","updated_at":"2020-10-05T16:15:00Z","author_association":"CONTRIBUTOR","body":"@sassai : Location is set wrongly. \r\n\r\n| Location:                         | abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=1 | NULL                  |\r\n\r\n\r\nIt should have been abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address only.  \r\n\r\nCan you try dropping the table and hive syncing again ? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703735047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703736061","html_url":"https://github.com/apache/hudi/issues/2145#issuecomment-703736061","issue_url":"https://api.github.com/repos/apache/hudi/issues/2145","id":703736061,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzczNjA2MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T16:16:48Z","updated_at":"2020-10-05T16:16:48Z","author_association":"CONTRIBUTOR","body":"THis could be similar to https://github.com/apache/hudi/issues/1962 \r\n\r\nThe location setting in the hive table needs to be checked. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703736061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703762726","html_url":"https://github.com/apache/hudi/issues/2100#issuecomment-703762726","issue_url":"https://api.github.com/repos/apache/hudi/issues/2100","id":703762726,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzc2MjcyNg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T17:03:39Z","updated_at":"2020-10-05T17:03:39Z","author_association":"CONTRIBUTOR","body":"@eigakow : 0.6. hudi bundle comes with shaded hbase jars whereas 0.5.3 does not have it. The version of hbase is : 1.2.3. I am not sure if this is causing the issue ? Can you try rebuilding Hudi with the version of hbase you are using and see if the problem goes away ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703762726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703763353","html_url":"https://github.com/apache/hudi/pull/2125#issuecomment-703763353","issue_url":"https://api.github.com/repos/apache/hudi/issues/2125","id":703763353,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzc2MzM1Mw==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T17:04:48Z","updated_at":"2020-10-05T17:04:48Z","author_association":"CONTRIBUTOR","body":"> > both schema and data should with that commit.\r\n> \r\n> This may not always be desired. the user may wish to get the incremental results using the latest schema, as well, right?\r\n\r\nagree with you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703763353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703783191","html_url":"https://github.com/apache/hudi/issues/2146#issuecomment-703783191","issue_url":"https://api.github.com/repos/apache/hudi/issues/2146","id":703783191,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzc4MzE5MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T17:41:20Z","updated_at":"2020-10-05T17:41:20Z","author_association":"CONTRIBUTOR","body":"@bradleyhurley : 0.5.2 is pretty old. Can you use 0.5.3. I checked code in 0.5.3 and you should not be seeing this issue in 0.5.3","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703783191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703784334","html_url":"https://github.com/apache/hudi/issues/2146#issuecomment-703784334","issue_url":"https://api.github.com/repos/apache/hudi/issues/2146","id":703784334,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzc4NDMzNA==","user":{"login":"bradleyhurley","id":7111357,"node_id":"MDQ6VXNlcjcxMTEzNTc=","avatar_url":"https://avatars.githubusercontent.com/u/7111357?v=4","gravatar_id":"","url":"https://api.github.com/users/bradleyhurley","html_url":"https://github.com/bradleyhurley","followers_url":"https://api.github.com/users/bradleyhurley/followers","following_url":"https://api.github.com/users/bradleyhurley/following{/other_user}","gists_url":"https://api.github.com/users/bradleyhurley/gists{/gist_id}","starred_url":"https://api.github.com/users/bradleyhurley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradleyhurley/subscriptions","organizations_url":"https://api.github.com/users/bradleyhurley/orgs","repos_url":"https://api.github.com/users/bradleyhurley/repos","events_url":"https://api.github.com/users/bradleyhurley/events{/privacy}","received_events_url":"https://api.github.com/users/bradleyhurley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T17:43:31Z","updated_at":"2020-10-05T17:43:31Z","author_association":"NONE","body":"Let me see if I can test 0.5.3. I agree its pretty old, but its the latest bundled version provided by AWS.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/703784334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704079007","html_url":"https://github.com/apache/hudi/issues/1962#issuecomment-704079007","issue_url":"https://api.github.com/repos/apache/hudi/issues/1962","id":704079007,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDA3OTAwNw==","user":{"login":"sassai","id":5292604,"node_id":"MDQ6VXNlcjUyOTI2MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5292604?v=4","gravatar_id":"","url":"https://api.github.com/users/sassai","html_url":"https://github.com/sassai","followers_url":"https://api.github.com/users/sassai/followers","following_url":"https://api.github.com/users/sassai/following{/other_user}","gists_url":"https://api.github.com/users/sassai/gists{/gist_id}","starred_url":"https://api.github.com/users/sassai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sassai/subscriptions","organizations_url":"https://api.github.com/users/sassai/orgs","repos_url":"https://api.github.com/users/sassai/repos","events_url":"https://api.github.com/users/sassai/events{/privacy}","received_events_url":"https://api.github.com/users/sassai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T07:12:17Z","updated_at":"2020-10-06T07:18:11Z","author_association":"NONE","body":"@bvaradar: I dropped and synced the table again. Issue still exists unless I set `set hive.fetch.task.conversion=none;` before executing the query. Then everything works as expected.\r\n\r\nPlease find the table description with and without partition below.\r\n\r\ndescribe formatted address:\r\n\r\n```console\r\n+-------------------------------+----------------------------------------------------+-----------------------+\r\n|           col_name            |                     data_type                      |        comment        |\r\n+-------------------------------+----------------------------------------------------+-----------------------+\r\n| _hoodie_commit_time           | string                                             |                       |\r\n| _hoodie_commit_seqno          | string                                             |                       |\r\n| _hoodie_record_key            | string                                             |                       |\r\n| _hoodie_partition_path        | string                                             |                       |\r\n| _hoodie_file_name             | string                                             |                       |\r\n| id                            | int                                                |                       |\r\n| zipcode                       | int                                                |                       |\r\n| city                          | string                                             |                       |\r\n| street                        | string                                             |                       |\r\n| streetnumber                  | int                                                |                       |\r\n| uuid                          | string                                             |                       |\r\n| start_date                    | string                                             |                       |\r\n| end_date                      | string                                             |                       |\r\n| is_current                    | boolean                                            |                       |\r\n| event_time                    | string                                             |                       |\r\n| its                           | string                                             |                       |\r\n|                               | NULL                                               | NULL                  |\r\n| # Partition Information       | NULL                                               | NULL                  |\r\n| # col_name                    | data_type                                          | comment               |\r\n| year                          | int                                                |                       |\r\n| month                         | int                                                |                       |\r\n| day                           | int                                                |                       |\r\n|                               | NULL                                               | NULL                  |\r\n| # Detailed Table Information  | NULL                                               | NULL                  |\r\n| Database:                     | nyc_taxi                                           | NULL                  |\r\n| OwnerType:                    | USER                                               | NULL                  |\r\n| Owner:                        | srv_tu_usecase2_producer                           | NULL                  |\r\n| CreateTime:                   | Tue Oct 06 07:06:03 UTC 2020                       | NULL                  |\r\n| LastAccessTime:               | UNKNOWN                                            | NULL                  |\r\n| Retention:                    | 0                                                  | NULL                  |\r\n| Location:                     | abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address | NULL                  |\r\n| Table Type:                   | EXTERNAL_TABLE                                     | NULL                  |\r\n| Table Parameters:             | NULL                                               | NULL                  |\r\n|                               | EXTERNAL                                           | TRUE                  |\r\n|                               | bucketing_version                                  | 2                     |\r\n|                               | discover.partitions                                | true                  |\r\n|                               | last_commit_time_sync                              | 20201006065754        |\r\n|                               | numFiles                                           | 82                    |\r\n|                               | numPartitions                                      | 1                     |\r\n|                               | numRows                                            | 0                     |\r\n|                               | rawDataSize                                        | 0                     |\r\n|                               | totalSize                                          | 642825967             |\r\n|                               | transient_lastDdlTime                              | 1601967963            |\r\n|                               | NULL                                               | NULL                  |\r\n| # Storage Information         | NULL                                               | NULL                  |\r\n| SerDe Library:                | org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe | NULL                  |\r\n| InputFormat:                  | org.apache.hudi.hadoop.HoodieParquetInputFormat    | NULL                  |\r\n| OutputFormat:                 | org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat | NULL                  |\r\n| Compressed:                   | No                                                 | NULL                  |\r\n| Num Buckets:                  | -1                                                 | NULL                  |\r\n| Bucket Columns:               | []                                                 | NULL                  |\r\n| Sort Columns:                 | []                                                 | NULL                  |\r\n| Storage Desc Params:          | NULL                                               | NULL                  |\r\n|                               | serialization.format                               | 1                     |\r\n+-------------------------------+----------------------------------------------------+-----------------------+\r\n```\r\n\r\ndescribe formatted address partition(year=2020,month=10,day=6):\r\n\r\n```console\r\n+-----------------------------------+----------------------------------------------------+-----------------------+\r\n|             col_name              |                     data_type                      |        comment        |\r\n+-----------------------------------+----------------------------------------------------+-----------------------+\r\n| _hoodie_commit_time               | string                                             |                       |\r\n| _hoodie_commit_seqno              | string                                             |                       |\r\n| _hoodie_record_key                | string                                             |                       |\r\n| _hoodie_partition_path            | string                                             |                       |\r\n| _hoodie_file_name                 | string                                             |                       |\r\n| id                                | int                                                |                       |\r\n| zipcode                           | int                                                |                       |\r\n| city                              | string                                             |                       |\r\n| street                            | string                                             |                       |\r\n| streetnumber                      | int                                                |                       |\r\n| uuid                              | string                                             |                       |\r\n| start_date                        | string                                             |                       |\r\n| end_date                          | string                                             |                       |\r\n| is_current                        | boolean                                            |                       |\r\n| event_time                        | string                                             |                       |\r\n| its                               | string                                             |                       |\r\n|                                   | NULL                                               | NULL                  |\r\n| # Partition Information           | NULL                                               | NULL                  |\r\n| # col_name                        | data_type                                          | comment               |\r\n| year                              | int                                                |                       |\r\n| month                             | int                                                |                       |\r\n| day                               | int                                                |                       |\r\n|                                   | NULL                                               | NULL                  |\r\n| # Detailed Partition Information  | NULL                                               | NULL                  |\r\n| Partition Value:                  | [2020, 10, 6]                                      | NULL                  |\r\n| Database:                         | nyc_taxi                                           | NULL                  |\r\n| Table:                            | address                                            | NULL                  |\r\n| CreateTime:                       | Tue Oct 06 07:06:04 UTC 2020                       | NULL                  |\r\n| LastAccessTime:                   | UNKNOWN                                            | NULL                  |\r\n| Location:                         | abfs://xxx@xxx.dfs.core.windows.net/data/hudi/batch/tables/nyc_taxi/address/year=2020/month=10/day=6 | NULL                  |\r\n| Partition Parameters:             | NULL                                               | NULL                  |\r\n|                                   | numFiles                                           | 82                    |\r\n|                                   | totalSize                                          | 642825967             |\r\n|                                   | transient_lastDdlTime                              | 1601967964            |\r\n|                                   | NULL                                               | NULL                  |\r\n| # Storage Information             | NULL                                               | NULL                  |\r\n| SerDe Library:                    | org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe | NULL                  |\r\n| InputFormat:                      | org.apache.hudi.hadoop.HoodieParquetInputFormat    | NULL                  |\r\n| OutputFormat:                     | org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat | NULL                  |\r\n| Compressed:                       | No                                                 | NULL                  |\r\n| Num Buckets:                      | -1                                                 | NULL                  |\r\n| Bucket Columns:                   | []                                                 | NULL                  |\r\n| Sort Columns:                     | []                                                 | NULL                  |\r\n| Storage Desc Params:              | NULL                                               | NULL                  |\r\n|                                   | serialization.format                               | 1                     |\r\n+-----------------------------------+----------------------------------------------------+-----------------------+\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704079007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704201612","html_url":"https://github.com/apache/hudi/pull/2136#issuecomment-704201612","issue_url":"https://api.github.com/repos/apache/hudi/issues/2136","id":704201612,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDIwMTYxMg==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T11:19:15Z","updated_at":"2020-10-06T19:12:41Z","author_association":"CONTRIBUTOR","body":"> > @lw309637554 Change itself looks good to me. However, wondering if we should also\r\n> >\r\n> > * Add some check to throw an error if the index type is different in `hoodie.properties` than it's configured. some changes are compatible for e.g using `GLOBAL_BLOOM` and then switching to `BLOOM`/`SIMPLE` . but reverse is not.\r\n\r\nadd compatible check in AbstractHoodieClient.createMetaClient(). \r\n\r\n> > * I think it's high time we introduce a builder pattern init the table properties. those overloaded `initXX` are hard to read. If interested, we can do that in a separate PR.\r\n\r\nopen a new issue,  will land it in https://issues.apache.org/jira/browse/HUDI-1315\r\n\r\n> > * Should we also add something to upgrade downgrade logic to persist this for existing datasets.\r\n\r\nhave added in AbstractUpgradeDowngrade.createUpdatedFile()\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704201612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704436559","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-704436559","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":704436559,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDQzNjU1OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T17:37:55Z","updated_at":"2020-10-06T17:37:55Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : You need to plugin a transformer class to only select the columns you need and record-payload to handle deletions. We are currently in the process of  adding the transformer to OSS Hudi but broadly here is how it will look like \r\n(thanks to @joshk-kang). \r\n\r\ngist : \r\n\r\n```\r\npackage org.apache.hudi.utilities.transform;\r\n\r\nimport org.apache.hudi.common.config.TypedProperties;\r\nimport org.apache.spark.api.java.JavaSparkContext;\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\npublic class DebeziumTransformer implements Transformer {\r\n\r\n  @Override\r\n  public Dataset apply(JavaSparkContext jsc, SparkSession sparkSession, Dataset<Row> rowDataset,\r\n      TypedProperties properties) {\r\n\r\n    Dataset<Row> insertedOrUpdatedData = rowDataset\r\n        .select(\"op\", \"ts_ms\", \"after.*\")\r\n        .withColumnRenamed(\"op\", \"_op\")\r\n        .withColumnRenamed(\"ts_ms\", \"_ts_ms\")\r\n        .filter(rowDataset.col(\"op\").notEqual(\"d\"));\r\n\r\n    Dataset<Row> deletedData = rowDataset\r\n        .select(\"op\", \"ts_ms\", \"before.*\")\r\n        .withColumnRenamed(\"op\", \"_op\")\r\n        .withColumnRenamed(\"ts_ms\", \"_ts_ms\")\r\n        .filter(rowDataset.col(\"op\").equalTo(\"d\"));\r\n\r\n    Dataset<Row> transformedData = insertedOrUpdatedData.union(deletedData);\r\n\r\n    return transformedData;\r\n  }\r\n}\r\n```\r\n```\r\npublic class DebeziumAvroPayload extends OverwriteWithLatestAvroPayload {\r\n\r\n  // Field is prefixed with a underscore by transformer to indicate metadata field\r\n  public static final String OP_FIELD = \"_op\";\r\n  public static final String DELETE_OP = \"d\";\r\n\r\n  public DebeziumAvroPayload(GenericRecord record, Comparable orderingVal) {\r\n    super(record, orderingVal);\r\n  }\r\n\r\n  public DebeziumAvroPayload(Option<GenericRecord> record) {\r\n    this(record.get(), (record1) -> 0); // natural order\r\n  }\r\n\r\n  @Override\r\n  protected boolean isDeleteRecord(GenericRecord genericRecord) {\r\n    return genericRecord.get(OP_FIELD) != null && genericRecord.get(OP_FIELD).toString().equalsIgnoreCase(\r\n        DELETE_OP);\r\n  }\r\n}\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704436559/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704437378","html_url":"https://github.com/apache/hudi/pull/2147#issuecomment-704437378","issue_url":"https://api.github.com/repos/apache/hudi/issues/2147","id":704437378,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDQzNzM3OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T17:39:29Z","updated_at":"2020-10-06T17:39:29Z","author_association":"MEMBER","body":"@rmpifer as a quick check, is it possible to shade all the deps of Hbase, leaving hbase classes themselves unshaded?  The most concern we have is around guava etc conflicting with what spark/presto use","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704437378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704505827","html_url":"https://github.com/apache/hudi/pull/2150#issuecomment-704505827","issue_url":"https://api.github.com/repos/apache/hudi/issues/2150","id":704505827,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDUwNTgyNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T19:31:08Z","updated_at":"2020-10-12T23:36:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2150?src=pr&el=h1) Report\n> Merging [#2150](https://codecov.io/gh/apache/hudi/pull/2150?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/fdae388626b8d97acc01191aa0e7075c36a41132?el=desc) will **increase** coverage by `1.83%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2150/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2150?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2150      +/-   ##\n============================================\n+ Coverage     51.79%   53.63%   +1.83%     \n- Complexity     2532     2848     +316     \n============================================\n  Files           318      359      +41     \n  Lines         14417    16545    +2128     \n  Branches       1460     1780     +320     \n============================================\n+ Hits           7468     8874    +1406     \n- Misses         6354     6912     +558     \n- Partials        595      759     +164     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.75% <> (+<0.01%)` | `1795.00 <> (+2.00)` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <> (?)` | `304.00 <> (?)` | |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `70.07% <> (+0.60%)` | `325.00 <> (+10.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2150?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../main/java/org/apache/hudi/common/util/Option.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvT3B0aW9uLmphdmE=) | `66.66% <0.00%> (-3.61%)` | `23.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...udi/utilities/sources/helpers/DFSPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9ERlNQYXRoU2VsZWN0b3IuamF2YQ==) | `82.05% <0.00%> (-2.16%)` | `12.00% <0.00%> (%)` | |\n| [.../org/apache/hudi/common/model/HoodieTableType.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVRhYmxlVHlwZS5qYXZh) | `100.00% <0.00%> ()` | `1.00% <0.00%> (%)` | |\n| [...rg/apache/hudi/common/util/SerializationUtils.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvU2VyaWFsaXphdGlvblV0aWxzLmphdmE=) | `88.00% <0.00%> ()` | `3.00% <0.00%> (%)` | |\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `0.00% <0.00%> ()` | `0.00% <0.00%> (%)` | |\n| [...pache/hudi/io/storage/HoodieFileReaderFactory.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vc3RvcmFnZS9Ib29kaWVGaWxlUmVhZGVyRmFjdG9yeS5qYXZh) | `50.00% <0.00%> ()` | `3.00% <0.00%> (%)` | |\n| [.../hudi/utilities/schema/SchemaRegistryProvider.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFSZWdpc3RyeVByb3ZpZGVyLmphdmE=) | `0.00% <0.00%> ()` | `0.00% <0.00%> (%)` | |\n| [...i/common/model/OverwriteWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvUGF5bG9hZC5qYXZh) | `64.70% <0.00%> ()` | `10.00% <0.00%> (%)` | |\n| [...del/OverwriteNonDefaultsWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZU5vbkRlZmF1bHRzV2l0aExhdGVzdEF2cm9QYXlsb2FkLmphdmE=) | `78.94% <0.00%> ()` | `5.00% <0.00%> (%)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <0.00%> ()` | `18.00% <0.00%> (%)` | |\n| ... and [47 more](https://codecov.io/gh/apache/hudi/pull/2150/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704505827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704533024","html_url":"https://github.com/apache/hudi/pull/1704#issuecomment-704533024","issue_url":"https://api.github.com/repos/apache/hudi/issues/1704","id":704533024,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDUzMzAyNA==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T20:25:28Z","updated_at":"2020-10-06T20:25:28Z","author_association":"CONTRIBUTOR","body":"> @bhasudha as discussed, should we try and have another payload for this behavior. to avoid overwriting for backfill scenarios\r\n\r\nyeah makes sense. I can put up a PR with another payload @vinothchandar  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704533024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704533101","html_url":"https://github.com/apache/hudi/pull/1704#issuecomment-704533101","issue_url":"https://api.github.com/repos/apache/hudi/issues/1704","id":704533101,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDUzMzEwMQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T20:25:38Z","updated_at":"2020-10-06T20:25:38Z","author_association":"CONTRIBUTOR","body":"closing this for now. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704533101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704557449","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-704557449","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":704557449,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDU1NzQ0OQ==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T21:16:31Z","updated_at":"2020-10-06T21:16:31Z","author_association":"NONE","body":"@bvaradar So in this case we should be giving updated schema file for the target ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704557449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704601712","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-704601712","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":704601712,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDYwMTcxMg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T23:14:57Z","updated_at":"2020-10-06T23:14:57Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : Yes, you are correct. You could create custom SchemaProvider that inherits from say Confluent Schema Registry based schema provider. Please see below for an example implementation. \r\n\r\n```\r\npublic class DebeziumSchemaRegistryProvider extends SchemaRegistryProvider {\r\n\r\n  public DebeziumSchemaRegistryProvider(TypedProperties props,\r\n      JavaSparkContext jssc) {\r\n    super(props, jssc);\r\n  }\r\n\r\n  /**\r\n   * Debezium target schema is a nested structure with many metadata fields. This will\r\n   * flatten the schema structure and only require necessary metadata information\r\n   * @return\r\n   */\r\n  @Override\r\n  public Schema getTargetSchema() {\r\n    Schema registrySchema = super.getTargetSchema();\r\n\r\n    Field dataField = registrySchema.getField(\"after\");\r\n    Field tsField = registrySchema.getField(\"ts_ms\");\r\n    Field opField = registrySchema.getField(\"op\");\r\n\r\n    // Initialize with metadata columns\r\n    FieldAssembler<Schema> payloadFieldAssembler = SchemaBuilder.builder()\r\n        .record(\"formatted_debezium_payload\")\r\n        .fields()\r\n        .name(\"_\" + tsField.name()).type(tsField.schema()).withDefault(null)\r\n        .name(\"_\" + opField.name()).type(tsField.schema()).withDefault(null);\r\n\r\n    // Add data columns to schema\r\n    dataField.schema()\r\n        .getTypes()\r\n        // \"after\" field is a union with data schema and null schema, so we need to extract only the data schema portion\r\n        .get(dataField.schema().getIndexNamed(registrySchema.getNamespace() + \".Value\"))\r\n        .getFields()\r\n        .forEach(field -> {\r\n          payloadFieldAssembler.name(field.name()).type(field.schema()).withDefault(null);\r\n        });\r\n\r\n    return payloadFieldAssembler.endRecord();\r\n  }\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704601712/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704722837","html_url":"https://github.com/apache/hudi/pull/1760#issuecomment-704722837","issue_url":"https://api.github.com/repos/apache/hudi/issues/1760","id":704722837,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDcyMjgzNw==","user":{"login":"aniejo","id":70744651,"node_id":"MDQ6VXNlcjcwNzQ0NjUx","avatar_url":"https://avatars.githubusercontent.com/u/70744651?v=4","gravatar_id":"","url":"https://api.github.com/users/aniejo","html_url":"https://github.com/aniejo","followers_url":"https://api.github.com/users/aniejo/followers","following_url":"https://api.github.com/users/aniejo/following{/other_user}","gists_url":"https://api.github.com/users/aniejo/gists{/gist_id}","starred_url":"https://api.github.com/users/aniejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aniejo/subscriptions","organizations_url":"https://api.github.com/users/aniejo/orgs","repos_url":"https://api.github.com/users/aniejo/repos","events_url":"https://api.github.com/users/aniejo/events{/privacy}","received_events_url":"https://api.github.com/users/aniejo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T06:25:31Z","updated_at":"2020-10-07T06:25:31Z","author_association":"NONE","body":"@vinothchandar Has Hudi been tested for compatibility with spark v3.0.0 ? did a mvn build but pyspark throws a dependency error - org.apache.hudi#hudi-spark-bundle_2.12;0.6.1: not found","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704722837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704748964","html_url":"https://github.com/apache/hudi/pull/2129#issuecomment-704748964","issue_url":"https://api.github.com/repos/apache/hudi/issues/2129","id":704748964,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDc0ODk2NA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T07:24:58Z","updated_at":"2020-10-07T07:24:58Z","author_association":"MEMBER","body":"@pratyakshsharma @n3nash Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704748964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704918685","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-704918685","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":704918685,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDkxODY4NQ==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T13:00:13Z","updated_at":"2020-10-07T13:01:08Z","author_association":"NONE","body":"@bvaradar  : Thanks for the code . I followed your instructions but tried to add _is_hoodie_deleted column to the dataset using following code for testing \r\n\r\nIm getting the following error with the code mentioned in the post\r\n\r\n```\r\nDriver stacktrace:\r\n        at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:2043)\r\n        at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:2031)\r\n        at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:2030)\r\n        at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n        at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2030)\r\n        at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:967)\r\n        at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:967)\r\n        at scala.Option.foreach(Option.scala:257)\r\n        at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:967)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2264)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2213)\r\n        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2202)\r\n        at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n        at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:778)\r\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2061)\r\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2082)\r\n        at org.apache.spark.SparkContext.runJob(SparkContext.scala:2101)\r\n        at org.apache.spark.rdd.RDD$$anonfun$take$1.apply(RDD.scala:1409)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n        at org.apache.spark.rdd.RDD.withScope(RDD.scala:385)\r\n        at org.apache.spark.rdd.RDD.take(RDD.scala:1382)\r\n        at org.apache.spark.rdd.RDD$$anonfun$isEmpty$1.apply$mcZ$sp(RDD.scala:1517)\r\n        at org.apache.spark.rdd.RDD$$anonfun$isEmpty$1.apply(RDD.scala:1517)\r\n        at org.apache.spark.rdd.RDD$$anonfun$isEmpty$1.apply(RDD.scala:1517)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n        at org.apache.spark.rdd.RDD.withScope(RDD.scala:385)\r\n        at org.apache.spark.rdd.RDD.isEmpty(RDD.scala:1516)\r\n        at org.apache.spark.api.java.JavaRDDLike$class.isEmpty(JavaRDDLike.scala:544)\r\n        at org.apache.spark.api.java.AbstractJavaRDDLike.isEmpty(JavaRDDLike.scala:45)\r\n        at org.apache.hudi.utilities.deltastreamer.DeltaSync.readFromSource(DeltaSync.java:349)\r\n        at org.apache.hudi.utilities.deltastreamer.DeltaSync.syncOnce(DeltaSync.java:238)\r\n        at org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.lambda$sync$2(HoodieDeltaStreamer.java:163)\r\n        at org.apache.hudi.common.util.Option.ifPresent(Option.java:96)\r\n        at org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.sync(HoodieDeltaStreamer.java:161)\r\n        at org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.main(HoodieDeltaStreamer.java:466)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:853)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:928)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:937)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\nCaused by: java.lang.RuntimeException: Error while decoding: java.lang.NegativeArraySizeException\r\ncreateexternalrow(input[0, bigint, true], input[1, string, false].toString, input[2, string, false].toString, input[3, int, false], input[4, int, true], input[5, string, true].toString, input[6, string, true].toString, input[7, int, true], input[8, string, true].toString, input[9, bigint, false], StructField(_ts_ms,LongType,true), StructField(_op,StringType,false), StructField(_hoodie_is_deleted,StringType,false), StructField(inc_id,IntegerType,false), StructField(year,IntegerType,true), StructField(violation_desc,StringType,true), StructField(violation_code,StringType,true), StructField(case_individual_id,IntegerType,true), StructField(flag,StringType,true), StructField(last_modified_ts,LongType,false))\r\n        at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder.fromRow(ExpressionEncoder.scala:305)\r\n        at org.apache.hudi.AvroConversionUtils$$anonfun$1.apply(AvroConversionUtils.scala:44)\r\n        at org.apache.hudi.AvroConversionUtils$$anonfun$1.apply(AvroConversionUtils.scala:44)\r\n        at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)\r\n        at scala.collection.Iterator$$anon$11.next(Iterator.scala:410)\r\n        at scala.collection.Iterator$$anon$10.next(Iterator.scala:394)\r\n        at scala.collection.Iterator$class.foreach(Iterator.scala:891)\r\n        at scala.collection.AbstractIterator.foreach(Iterator.scala:1334)\r\n        at scala.collection.generic.Growable$class.$plus$plus$eq(Growable.scala:59)\r\n        at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:104)\r\n        at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:48)\r\n        at scala.collection.TraversableOnce$class.to(TraversableOnce.scala:310)\r\n        at scala.collection.AbstractIterator.to(Iterator.scala:1334)\r\n        at scala.collection.TraversableOnce$class.toBuffer(TraversableOnce.scala:302)\r\n        at scala.collection.AbstractIterator.toBuffer(Iterator.scala:1334)\r\n        at scala.collection.TraversableOnce$class.toArray(TraversableOnce.scala:289)\r\n        at scala.collection.AbstractIterator.toArray(Iterator.scala:1334)\r\n        at org.apache.spark.rdd.RDD$$anonfun$take$1$$anonfun$31.apply(RDD.scala:1409)\r\n        at org.apache.spark.rdd.RDD$$anonfun$take$1$$anonfun$31.apply(RDD.scala:1409)\r\n        at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2101)\r\n        at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2101)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n        at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1405)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NegativeArraySizeException\r\n        at org.apache.spark.unsafe.types.UTF8String.getBytes(UTF8String.java:297)\r\n        at org.apache.spark.unsafe.types.UTF8String.toString(UTF8String.java:1226)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificSafeProjection.createExternalRow_0_0$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificSafeProjection.apply(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.encoders.ExpressionEncoder.fromRow(ExpressionEncoder.scala:302)\r\n        ... 28 more\r\n```\r\n\r\nTransformer \r\n\r\n\r\n```public class DebeziumCustomTransformer implements Transformer {\r\n  private static final Logger LOG = LogManager.getLogger(DebeziumCustomTransformer.class);\r\n  @Override\r\n  public Dataset apply(JavaSparkContext jsc, SparkSession sparkSession, Dataset<Row> rowDataset,\r\n      TypedProperties properties) {\r\n    \r\n    Dataset<Row> insertedOrUpdatedData = rowDataset\r\n        .select(\"op\", \"ts_ms\", \"after.*\")\r\n        .withColumnRenamed(\"op\", \"_op\")\r\n        .withColumn(\"_is_hoodie_deleted\",lit(\"false\"))\r\n        .withColumnRenamed(\"ts_ms\", \"_ts_ms\")\r\n        .filter(rowDataset.col(\"op\").notEqual(\"d\"));\r\n    \r\n    Dataset<Row> deletedData = rowDataset\r\n        .select(\"op\", \"ts_ms\", \"before.*\")\r\n        .withColumnRenamed(\"op\", \"_op\")\r\n        .withColumn(\"_is_hoodie_deleted\",lit(\"true\"))\r\n        .withColumnRenamed(\"ts_ms\", \"_ts_ms\")\r\n        .filter(rowDataset.col(\"op\").equalTo(\"d\"));\r\n    \r\n    Dataset<Row> transformedData = insertedOrUpdatedData.union(deletedData);\r\n    return transformedData;\r\n  }\r\n}\r\n```\r\n\r\nSchemaProviderDebezium\r\n\r\n```\r\npublic class DebeziumRegistryProvider extends SchemaRegistryProvider {  \r\n  public DebeziumRegistryProvider(TypedProperties props,\r\n      JavaSparkContext jssc) {\r\n    super(props, jssc);\r\n  }\r\n  \r\n  /**\r\n   * Debezium target schema is a nested structure with many metadata fields. This will\r\n   * flatten the schema structure and only require necessary metadata information\r\n   * @return\r\n   */\r\n  @Override\r\n  public Schema getTargetSchema() {\r\n    Schema registrySchema = super.getTargetSchema();\r\n  \r\n    Field dataField = registrySchema.getField(\"after\");\r\n    Field tsField = registrySchema.getField(\"ts_ms\");\r\n    Field opField = registrySchema.getField(\"op\");\r\n    Field hoodieDeleteField = registrySchema.getField(\"op\");\r\n  \r\n    // Initialize with metadata columns\r\n    FieldAssembler<Schema> payloadFieldAssembler = SchemaBuilder.builder()\r\n        .record(\"formatted_debezium_payload\")\r\n        .fields()\r\n        .name(\"_\" + tsField.name()).type(tsField.schema()).withDefault(null)\r\n        .name(\"_\" + opField.name()).type(opField.schema()).withDefault(null)\r\n        .name(\"_hoodie_is_deleted\").type(hoodieDeleteField.schema()).withDefault(null);\r\n  \r\n    // Add data columns to schema\r\n    dataField.schema()\r\n        .getTypes()\r\n        // \"after\" field is a union with data schema and null schema, so we need to extract only the data schema portion\r\n        .get(dataField.schema().getIndexNamed(registrySchema.getNamespace() + \".Value\"))\r\n        .getFields()\r\n        .forEach(field -> {\r\n          payloadFieldAssembler.name(field.name()).type(field.schema()).withDefault(null);\r\n        });\r\n    return payloadFieldAssembler.endRecord();\r\n  }\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/704918685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705086014","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705086014","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705086014,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTA4NjAxNA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T17:31:40Z","updated_at":"2020-10-07T17:31:40Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : You dont need _hoodie_is_deleted if you are using the custom transformer. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705086014/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705121899","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705121899","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705121899,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTEyMTg5OQ==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T18:39:09Z","updated_at":"2020-10-07T18:39:09Z","author_association":"NONE","body":"@bvaradar  I changed the code to as previous and ran the deltastreamer . But some reason is causing error and data is getting rolled back :  \r\n\r\n``` \r\n20/10/07 18:34:18 ERROR Client: Application diagnostics message: User class threw exception: org.apache.hudi.exception.HoodieException: Commit 20201007183359 failed and rolled-back !\r\n        at org.apache.hudi.utilities.deltastreamer.DeltaSync.writeToSink(DeltaSync.java:449)\r\n        at org.apache.hudi.utilities.deltastreamer.DeltaSync.syncOnce(DeltaSync.java:249)\r\n        at org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.lambda$sync$2(HoodieDeltaStreamer.java:163)\r\n        at org.apache.hudi.common.util.Option.ifPresent(Option.java:96)\r\n        at org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.sync(HoodieDeltaStreamer.java:161)\r\n        at org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.main(HoodieDeltaStreamer.java:466)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:685)\r\n\r\nException in thread \"main\" org.apache.spark.SparkException: Application application_1601158208025_9743 finished with failed status\r\n        at org.apache.spark.deploy.yarn.Client.run(Client.scala:1149)\r\n        at org.apache.spark.deploy.yarn.YarnClusterApplication.start(Client.scala:1526)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:853)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:928)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:937)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705121899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705148134","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705148134","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705148134,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTE0ODEzNA==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T19:31:10Z","updated_at":"2020-10-07T19:31:10Z","author_association":"NONE","body":"![hudi-kafka](https://user-images.githubusercontent.com/40498599/95378569-b880d400-0901-11eb-8f5c-9268b4b3a92f.JPG)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705148134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705178888","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705178888","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705178888,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTE3ODg4OA==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T20:34:29Z","updated_at":"2020-10-07T20:44:52Z","author_association":"NONE","body":"I found this Error message in the logs : \r\n\r\n```\r\n INFO DAGScheduler: Job 11 finished: sum at DeltaSync.java:406, took 0.108824 s\r\n20/10/07 20:27:07 ERROR DeltaSync: Delta Sync found errors when writing. Errors/Total=16/16\r\n20/10/07 20:27:07 ERROR DeltaSync: Printing out the top 100 errors\r\n```\r\n\r\nIm able to see the transformed dataset properly when i sysout the dataset from transformer : \r\n\r\n```\r\n+---+-------------+------+----+-----------------------------------+--------------+------------------+----+----------------+\r\n|_op|       _ts_ms|inc_id|year|                     violation_desc|violation_code|case_individual_id|flag|last_modified_ts|\r\n+---+-------------+------+----+-----------------------------------+--------------+------------------+----+----------------+\r\n|  r|1601531771650|     1|2016|          DRIVING WHILE INTOXICATED|         11923|          17475366|   I|1600945380000000|\r\n|  r|1601531771650|     3|2016|AGGRAVATED UNLIC OPER 2ND/PREV CONV|        5112A1|          17475367|   U|1600959600000000|\r\n|  r|1601531771650|     4|2019|     AGGRAVATED UNLIC OPER 2ND/PREV|        5112A2|          17475368|   I|1569337200000000|\r\n|  r|1601531771651|     5|2018| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475569|   I|1601374200000000|\r\n|  r|1601531771651|     7|2018| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475571|   I|1601375400000000|\r\n|  r|1601531771651|     2|2020| UNREASONABLE SPEED/SPECIAL HAZARDS|         2180F|          17475569|   U|1601377200000000|\r\n|  r|1601531771651|     6|2018| UNREASONABLE SPEED/SPECIAL HAZARDS|         2180F|          17475570|   I|1601374800000000|\r\n|  r|1601531771651|     8|2020| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475572|   I|1601376600000000|\r\n|  r|1601531771652|     9|2020| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475573|   I|1601377200000000|\r\n|  r|1601531771652|    10|2020| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180D|          17475574|   I|1601377800000000|\r\n|  r|1601531771652|    11|2020| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180D|          17475574|   I|1601381400000000|\r\n|  r|1601531771652|    12|2020| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475574|   I|1601385000000000|\r\n|  r|1601531771652|    13|2020| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475574|   I|1601388600000000|\r\n|  r|1601531771653|    34|2020| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475574|   I|1601392200000000|\r\n|  c|1601531913459|    35|2020| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475574|   I|1601395800000000|\r\n|  r|1601532941011|     1|2016|          DRIVING WHILE INTOXICATED|         11923|          17475366|   I|1600945380000000|\r\n|  r|1601532941011|     3|2016|AGGRAVATED UNLIC OPER 2ND/PREV CONV|        5112A1|          17475367|   U|1600959600000000|\r\n|  r|1601532941012|     4|2019|     AGGRAVATED UNLIC OPER 2ND/PREV|        5112A2|          17475368|   I|1569337200000000|\r\n|  r|1601532941012|     5|2018| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475569|   I|1601374200000000|\r\n|  r|1601532941012|     7|2018| UNREASONABLE SPEED/SPECIAL HAZARDS|         1180E|          17475571|   I|1601375400000000|\r\n+---+-------------+------+----+-----------------------------------+--------------+------------------+----+----------------+\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705178888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705266279","html_url":"https://github.com/apache/hudi/pull/2152#issuecomment-705266279","issue_url":"https://api.github.com/repos/apache/hudi/issues/2152","id":705266279,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTI2NjI3OQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T00:43:09Z","updated_at":"2020-10-08T00:43:09Z","author_association":"MEMBER","body":"@n3nash Can you please check if this satisfied the requirements of publishing metrics from the spark streaming too?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705266279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705276668","html_url":"https://github.com/apache/hudi/pull/2152#issuecomment-705276668","issue_url":"https://api.github.com/repos/apache/hudi/issues/2152","id":705276668,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTI3NjY2OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T01:24:28Z","updated_at":"2020-10-24T22:56:50Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2152?src=pr&el=h1) Report\n> Merging [#2152](https://codecov.io/gh/apache/hudi/pull/2152?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/788d236c443eb4ced819f9305ed8e0460b5984b7?el=desc) will **increase** coverage by `0.06%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2152/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2152?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2152      +/-   ##\n============================================\n+ Coverage     53.61%   53.68%   +0.06%     \n- Complexity     2845     2849       +4     \n============================================\n  Files           359      359              \n  Lines         16535    16565      +30     \n  Branches       1777     1782       +5     \n============================================\n+ Hits           8866     8893      +27     \n- Misses         6912     6915       +3     \n  Partials        757      757              \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.70% <> (-0.04%)` | `1794.00 <> (+1.00)` | :arrow_down: |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.95% <> (+0.43%)` | `304.00 <> (+1.00)` | |\n| #huditimelineservice | `62.29% <> ()` | `50.00 <> ()` | |\n| #hudiutilities | `70.09% <> (+0.11%)` | `327.00 <> (+2.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2152?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../main/java/org/apache/hudi/common/util/Option.java](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvT3B0aW9uLmphdmE=) | `66.66% <0.00%> (-3.61%)` | `23.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `76.19% <0.00%> (-2.30%)` | `20.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...mmon/table/log/AbstractHoodieLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9BYnN0cmFjdEhvb2RpZUxvZ1JlY29yZFNjYW5uZXIuamF2YQ==) | `79.68% <0.00%> (-1.92%)` | `29.00% <0.00%> (%)` | |\n| [...src/main/java/org/apache/hudi/DataSourceUtils.java](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9EYXRhU291cmNlVXRpbHMuamF2YQ==) | `44.76% <0.00%> (-0.87%)` | `22.00% <0.00%> (%)` | |\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `64.19% <0.00%> (-0.40%)` | `30.00% <0.00%> (%)` | |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllU3BhcmtTcWxXcml0ZXIuc2NhbGE=) | `50.95% <0.00%> (-0.20%)` | `0.00% <0.00%> (%)` | |\n| [...java/org/apache/hudi/common/fs/StorageSchemes.java](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL1N0b3JhZ2VTY2hlbWVzLmphdmE=) | `100.00% <0.00%> ()` | `10.00% <0.00%> (%)` | |\n| [...ava/org/apache/hudi/keygen/CustomKeyGenerator.java](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9rZXlnZW4vQ3VzdG9tS2V5R2VuZXJhdG9yLmphdmE=) | `82.60% <0.00%> ()` | `16.00% <0.00%> (%)` | |\n| [.../org/apache/hudi/common/model/HoodieTableType.java](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVRhYmxlVHlwZS5qYXZh) | `100.00% <0.00%> ()` | `1.00% <0.00%> (%)` | |\n| [...rg/apache/hudi/common/util/SerializationUtils.java](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvU2VyaWFsaXphdGlvblV0aWxzLmphdmE=) | `88.00% <0.00%> ()` | `3.00% <0.00%> (%)` | |\n| ... and [13 more](https://codecov.io/gh/apache/hudi/pull/2152/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705276668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705389402","html_url":"https://github.com/apache/hudi/pull/2085#issuecomment-705389402","issue_url":"https://api.github.com/repos/apache/hudi/issues/2085","id":705389402,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTM4OTQwMg==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T07:34:51Z","updated_at":"2020-10-08T07:34:51Z","author_association":"CONTRIBUTOR","body":"@vinothchandar can you take a look at this pull request?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705389402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705407415","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705407415","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705407415,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTQwNzQxNQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T08:12:02Z","updated_at":"2020-10-08T08:12:02Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : The exception you pasted is not the real root-cause. You should see the root-cause exceptions in the executor logs as well. It would be easy to debug if we know the root-cause. Can you find the exceptions and paste it here ?\r\n\r\nBut from the logs you pasted, It should be coming from the payload class.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705407415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705413459","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-705413459","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":705413459,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTQxMzQ1OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T08:23:33Z","updated_at":"2020-10-08T08:23:33Z","author_association":"CONTRIBUTOR","body":"@tandonraghav : the correct setup would be to actually keep separate Hudi tables for each Mongo collection (table) as the schema could be different across collections. You should have Debezium route CDC for eac collection to its own dedicated Kafka Topic and have Hudi read from separate topics to build them.\r\n\r\nHave you looked at DeltaStreamer in Hudi (continuous mode). That tool is tailor made for the use-case you are describing. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705413459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705418948","html_url":"https://github.com/apache/hudi/issues/2153#issuecomment-705418948","issue_url":"https://api.github.com/repos/apache/hudi/issues/2153","id":705418948,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTQxODk0OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T08:34:00Z","updated_at":"2020-10-08T08:34:00Z","author_association":"CONTRIBUTOR","body":"@umehrot2 : Can you throw some light here ? when will EMR/S3 throw this error ? Is this server-side issue which will go away with retry ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705418948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705431204","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705431204","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705431204,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTQzMTIwNA==","user":{"login":"ashishmgofficial","id":40498599,"node_id":"MDQ6VXNlcjQwNDk4NTk5","avatar_url":"https://avatars.githubusercontent.com/u/40498599?v=4","gravatar_id":"","url":"https://api.github.com/users/ashishmgofficial","html_url":"https://github.com/ashishmgofficial","followers_url":"https://api.github.com/users/ashishmgofficial/followers","following_url":"https://api.github.com/users/ashishmgofficial/following{/other_user}","gists_url":"https://api.github.com/users/ashishmgofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/ashishmgofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashishmgofficial/subscriptions","organizations_url":"https://api.github.com/users/ashishmgofficial/orgs","repos_url":"https://api.github.com/users/ashishmgofficial/repos","events_url":"https://api.github.com/users/ashishmgofficial/events{/privacy}","received_events_url":"https://api.github.com/users/ashishmgofficial/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T08:57:11Z","updated_at":"2020-10-08T08:57:11Z","author_association":"NONE","body":"@bvaradar  Please find below the logs\r\n\r\n[log.txt](https://github.com/apache/hudi/files/5346518/log.txt)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705431204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705534225","html_url":"https://github.com/apache/hudi/pull/2125#issuecomment-705534225","issue_url":"https://api.github.com/repos/apache/hudi/issues/2125","id":705534225,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTUzNDIyNQ==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T12:27:33Z","updated_at":"2020-10-08T12:27:33Z","author_association":"CONTRIBUTOR","body":"> This may not always be desired. the user may wish to get the incremental results using the latest schema, as well, right?\r\n\r\nIf adding fields and using the latest schema for incremental querying, the added fields value will be null, and it should make no sense, and using the schema of end time commit makes it more natural and understandable. However introducing a ReadOption to control this also sounds fair to me. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705534225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705588099","html_url":"https://github.com/apache/hudi/pull/2125#issuecomment-705588099","issue_url":"https://api.github.com/repos/apache/hudi/issues/2125","id":705588099,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTU4ODA5OQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T13:56:49Z","updated_at":"2020-10-08T13:56:49Z","author_association":"CONTRIBUTOR","body":"> introducing a ReadOption\r\n\r\nthanks , i will introduce a ReadOption . ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705588099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705603856","html_url":"https://github.com/apache/hudi/pull/2143#issuecomment-705603856","issue_url":"https://api.github.com/repos/apache/hudi/issues/2143","id":705603856,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTYwMzg1Ng==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T14:20:48Z","updated_at":"2020-10-08T14:20:48Z","author_association":"CONTRIBUTOR","body":"@xushiyan Sorry for the late reply, the past week was during the National Day holiday, you know. Will review tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705603856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705608041","html_url":"https://github.com/apache/hudi/pull/2143#issuecomment-705608041","issue_url":"https://api.github.com/repos/apache/hudi/issues/2143","id":705608041,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTYwODA0MQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T14:27:01Z","updated_at":"2020-10-08T14:27:01Z","author_association":"MEMBER","body":"> @xushiyan Sorry for the late reply, the past week was during the National Day holiday, you know. Will review tomorrow.\n\n@yanghua Understood. No worries.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705608041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705665216","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-705665216","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":705665216,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTY2NTIxNg==","user":{"login":"tandonraghav","id":10815442,"node_id":"MDQ6VXNlcjEwODE1NDQy","avatar_url":"https://avatars.githubusercontent.com/u/10815442?v=4","gravatar_id":"","url":"https://api.github.com/users/tandonraghav","html_url":"https://github.com/tandonraghav","followers_url":"https://api.github.com/users/tandonraghav/followers","following_url":"https://api.github.com/users/tandonraghav/following{/other_user}","gists_url":"https://api.github.com/users/tandonraghav/gists{/gist_id}","starred_url":"https://api.github.com/users/tandonraghav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandonraghav/subscriptions","organizations_url":"https://api.github.com/users/tandonraghav/orgs","repos_url":"https://api.github.com/users/tandonraghav/repos","events_url":"https://api.github.com/users/tandonraghav/events{/privacy}","received_events_url":"https://api.github.com/users/tandonraghav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T15:57:47Z","updated_at":"2020-10-08T16:06:19Z","author_association":"NONE","body":"@bvaradar Mongo Collection-> Hudi Table (This is our setup also)\r\n- We cannot put collections to different topics because there are 100s of such collections, so not in favour of creating those many topics.\r\n- I am using Spark DS to write Records and do compaction in a different spark job as below. Do you see any issue in this approach?\r\n\r\n````\r\n            Option<String> instantTime=client.scheduleCompaction(Option.empty());\r\n            client.compact(instantTime.get());\r\n````\r\nBut if this code fails somehow then how do i get the last compaction instantTime? So, that I can use to compact again.\r\n\r\nRegarding DeltaStreamer, I guess it works with only one table. MultiDeltaStreamer I have not experimented with.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705665216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705696840","html_url":"https://github.com/apache/hudi/issues/2154#issuecomment-705696840","issue_url":"https://api.github.com/repos/apache/hudi/issues/2154","id":705696840,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTY5Njg0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T16:53:45Z","updated_at":"2020-10-08T16:53:45Z","author_association":"MEMBER","body":"this is typically just Spark Shuffle failure. sometimes the remote executor OOMs or something and you get this symptom on another executor. You can check the Spark UI to see if there is excessive GC on the executors or some of them died etc. \r\n\r\ntypically, throwing more memory at it, can get the job to pass","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705696840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705706818","html_url":"https://github.com/apache/hudi/pull/2125#issuecomment-705706818","issue_url":"https://api.github.com/repos/apache/hudi/issues/2125","id":705706818,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTcwNjgxOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T17:10:53Z","updated_at":"2020-10-10T12:33:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2125?src=pr&el=h1) Report\n> Merging [#2125](https://codecov.io/gh/apache/hudi/pull/2125?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/b0f1b736f8f16253cf7522589a343ef384d7d407?el=desc) will **decrease** coverage by `6.26%`.\n> The diff coverage is `42.10%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2125/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2125?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2125      +/-   ##\n============================================\n- Coverage     59.87%   53.60%   -6.27%     \n+ Complexity     4323     2846    -1477     \n============================================\n  Files           552      359     -193     \n  Lines         22926    16548    -6378     \n  Branches       2314     1780     -534     \n============================================\n- Hits          13726     8870    -4856     \n+ Misses         8193     6920    -1273     \n+ Partials       1007      758     -249     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> (-27.66%)` | `193.00 <> (-1580.00)` | |\n| #hudiclient | `100.00% <> (+25.58%)` | `0.00 <> (-1580.00)` | :arrow_up: |\n| #hudicommon | `54.70% <0.00%> (-0.10%)` | `1793.00 <0.00> (+88.00)` | :arrow_down: |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.48% <72.72%> (-1.72%)` | `304.00 <1.00> (-6.00)` | |\n| #huditimelineservice | `62.29% <> (-1.19%)` | `50.00 <> (+3.00)` | :arrow_down: |\n| #hudiutilities | `69.98% <> (+0.66%)` | `325.00 <> (+18.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2125?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../apache/hudi/common/table/TableSchemaResolver.java](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL1RhYmxlU2NoZW1hUmVzb2x2ZXIuamF2YQ==) | `0.00% <0.00%> ()` | `0.00 <0.00> ()` | |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `76.19% <66.66%> (-2.02%)` | `20.00 <1.00> (+1.00)` | :arrow_down: |\n| [...main/scala/org/apache/hudi/DataSourceOptions.scala](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGF0YVNvdXJjZU9wdGlvbnMuc2NhbGE=) | `94.82% <100.00%> (+0.23%)` | `0.00 <0.00> ()` | |\n| [...n/java/org/apache/hudi/internal/DefaultSource.java](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9pbnRlcm5hbC9EZWZhdWx0U291cmNlLmphdmE=) | `0.00% <0.00%> (-80.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/internal/HoodieWriterCommitMessage.java](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9pbnRlcm5hbC9Ib29kaWVXcml0ZXJDb21taXRNZXNzYWdlLmphdmE=) | `83.33% <0.00%> (-16.67%)` | `2.00% <0.00%> (-1.00%)` | |\n| [...a/org/apache/hudi/common/util/CollectionUtils.java](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQ29sbGVjdGlvblV0aWxzLmphdmE=) | `11.53% <0.00%> (-15.39%)` | `3.00% <0.00%> (-2.00%)` | |\n| [.../hudi/internal/HoodieDataSourceInternalWriter.java](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9pbnRlcm5hbC9Ib29kaWVEYXRhU291cmNlSW50ZXJuYWxXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-8.98%)` | `6.00% <0.00%> (-2.00%)` | |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllU3BhcmtTcWxXcml0ZXIuc2NhbGE=) | `51.14% <0.00%> (-3.76%)` | `0.00% <0.00%> (%)` | |\n| [...common/table/view/AbstractTableFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvQWJzdHJhY3RUYWJsZUZpbGVTeXN0ZW1WaWV3LmphdmE=) | `83.33% <0.00%> (-2.72%)` | `133.00% <0.00%> (+28.00%)` | :arrow_down: |\n| [.../apache/hudi/timeline/service/TimelineService.java](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvVGltZWxpbmVTZXJ2aWNlLmphdmE=) | `25.00% <0.00%> (-2.54%)` | `6.00% <0.00%> (+1.00%)` | :arrow_down: |\n| ... and [242 more](https://codecov.io/gh/apache/hudi/pull/2125/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705706818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705760186","html_url":"https://github.com/apache/hudi/pull/2064#issuecomment-705760186","issue_url":"https://api.github.com/repos/apache/hudi/issues/2064","id":705760186,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc2MDE4Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T18:56:17Z","updated_at":"2020-10-08T18:56:17Z","author_association":"MEMBER","body":"@prashantwason if you can take a pass over the last batch of my comments, that would be great. There was nt much there that we could resolve based on prior discussions. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705760186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705764448","html_url":"https://github.com/apache/hudi/issues/2153#issuecomment-705764448","issue_url":"https://api.github.com/repos/apache/hudi/issues/2153","id":705764448,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc2NDQ0OA==","user":{"login":"prashanthvg89","id":8704802,"node_id":"MDQ6VXNlcjg3MDQ4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/8704802?v=4","gravatar_id":"","url":"https://api.github.com/users/prashanthvg89","html_url":"https://github.com/prashanthvg89","followers_url":"https://api.github.com/users/prashanthvg89/followers","following_url":"https://api.github.com/users/prashanthvg89/following{/other_user}","gists_url":"https://api.github.com/users/prashanthvg89/gists{/gist_id}","starred_url":"https://api.github.com/users/prashanthvg89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashanthvg89/subscriptions","organizations_url":"https://api.github.com/users/prashanthvg89/orgs","repos_url":"https://api.github.com/users/prashanthvg89/repos","events_url":"https://api.github.com/users/prashanthvg89/events{/privacy}","received_events_url":"https://api.github.com/users/prashanthvg89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:04:50Z","updated_at":"2020-10-08T19:04:50Z","author_association":"NONE","body":"Could happen due to race condition https://stackoverflow.com/questions/38750638/spark-1-6-1-s3-multiobjectdeleteexception\r\n\r\nI have about 100 retries on S3 failures in my application","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705764448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705780717","html_url":"https://github.com/apache/hudi/issues/2151#issuecomment-705780717","issue_url":"https://api.github.com/repos/apache/hudi/issues/2151","id":705780717,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc4MDcxNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:36:47Z","updated_at":"2020-10-08T19:36:47Z","author_association":"CONTRIBUTOR","body":"@tandonraghav : Regarding your question on compaction, Since you are using WriteClient level APIs, you can use\r\nHoodieTable.getHoodieView().getPendingCompactionOperations().map(Pair::getKey()).distinct() will give you compaction timestamps.\r\n\r\nRegarding the setup, 100s of topics in kafka should be fine and not an anti-pattern.Curious how you manage various schema corresponding to each Mongo collection when writing to single kafka topic. Are you using avro encoding and schema registry ?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705780717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705787833","html_url":"https://github.com/apache/hudi/issues/2149#issuecomment-705787833","issue_url":"https://api.github.com/repos/apache/hudi/issues/2149","id":705787833,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc4NzgzMw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:51:50Z","updated_at":"2020-10-08T19:51:50Z","author_association":"CONTRIBUTOR","body":"@ashishmgofficial : the one you pasted is only driver side logs. Do you have executor logs ? If you have spark history server setup, you can look at the tasks sections in the failed stage to look at exception. You can also simply collect all the logs (executor + driver) and attach them (e:g : yarn logs -applicationId <appId> )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705787833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705792507","html_url":"https://github.com/apache/hudi/issues/2153#issuecomment-705792507","issue_url":"https://api.github.com/repos/apache/hudi/issues/2153","id":705792507,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5MjUwNw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:01:41Z","updated_at":"2020-10-08T20:01:41Z","author_association":"CONTRIBUTOR","body":"@prashanthvg89 : With 0.6.0 release, this was no longer a fatal error. Can you try that version ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705792507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705792876","html_url":"https://github.com/apache/hudi/issues/2153#issuecomment-705792876","issue_url":"https://api.github.com/repos/apache/hudi/issues/2153","id":705792876,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5Mjg3Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:02:24Z","updated_at":"2020-10-08T20:02:24Z","author_association":"CONTRIBUTOR","body":"With 0.6.0, you can set hoodie.fail.on.timeline.archiving=false to make it non-fatal","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705792876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705926236","html_url":"https://github.com/apache/hudi/pull/2143#issuecomment-705926236","issue_url":"https://api.github.com/repos/apache/hudi/issues/2143","id":705926236,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTkyNjIzNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T02:14:55Z","updated_at":"2020-10-09T02:15:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2143?src=pr&el=h1) Report\n> Merging [#2143](https://codecov.io/gh/apache/hudi/pull/2143?src=pr&el=desc) into [master](https://codecov.io/gh/apache/hudi/commit/b335459c805748815ccc858ff1a9ef4cd830da8c?el=desc) will **increase** coverage by `6.23%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2143/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2143?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2143      +/-   ##\n============================================\n+ Coverage     47.38%   53.61%   +6.23%     \n- Complexity     2567     2845     +278     \n============================================\n  Files           358      359       +1     \n  Lines         16484    16535      +51     \n  Branches       1767     1777      +10     \n============================================\n+ Hits           7811     8866    +1055     \n+ Misses         8032     6912    -1120     \n- Partials        641      757     +116     \n```\n\n| Flag | Coverage  | Complexity  | |\n|---|---|---|---|\n| #hudicli | `38.37% <> ()` | `193.00 <> ()` | |\n| #hudiclient | `100.00% <> ()` | `0.00 <> ()` | |\n| #hudicommon | `54.74% <> ()` | `1793.00 <> ()` | |\n| #hudihadoopmr | `33.05% <> ()` | `181.00 <> ()` | |\n| #hudispark | `65.51% <> ()` | `303.00 <> ()` | |\n| #huditimelineservice | `62.29% <> (-2.15%)` | `50.00 <> (+1.00)` | :arrow_down: |\n| #hudiutilities | `69.98% <> (+59.30%)` | `325.00 <> (+277.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2143?src=pr&el=tree) | Coverage  | Complexity  | |\n|---|---|---|---|\n| [.../apache/hudi/timeline/service/TimelineService.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvVGltZWxpbmVTZXJ2aWNlLmphdmE=) | `25.00% <0.00%> (-2.54%)` | `6.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [.../hudi/utilities/schema/SchemaRegistryProvider.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFSZWdpc3RyeVByb3ZpZGVyLmphdmE=) | `0.00% <0.00%> ()` | `0.00% <0.00%> (%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `100.00% <0.00%> ()` | `3.00% <0.00%> (?%)` | |\n| [.../apache/hudi/utilities/HoodieSnapshotExporter.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0hvb2RpZVNuYXBzaG90RXhwb3J0ZXIuamF2YQ==) | `88.59% <0.00%> (+5.26%)` | `28.00% <0.00%> (%)` | |\n| [...e/hudi/utilities/transform/ChainedTransformer.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3RyYW5zZm9ybS9DaGFpbmVkVHJhbnNmb3JtZXIuamF2YQ==) | `100.00% <0.00%> (+11.11%)` | `4.00% <0.00%> (+1.00%)` | |\n| [...g/apache/hudi/utilities/schema/SchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlci5qYXZh) | `100.00% <0.00%> (+20.00%)` | `2.00% <0.00%> (+1.00%)` | |\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `64.59% <0.00%> (+27.95%)` | `30.00% <0.00%> (+19.00%)` | |\n| [...ties/deltastreamer/HoodieDeltaStreamerMetrics.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lck1ldHJpY3MuamF2YQ==) | `36.11% <0.00%> (+36.11%)` | `6.00% <0.00%> (+6.00%)` | |\n| [...ities/checkpointing/InitialCheckPointProvider.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2NoZWNrcG9pbnRpbmcvSW5pdGlhbENoZWNrUG9pbnRQcm92aWRlci5qYXZh) | `45.45% <0.00%> (+45.45%)` | `1.00% <0.00%> (+1.00%)` | |\n| [...di/utilities/sources/helpers/IncrSourceHelper.java](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9JbmNyU291cmNlSGVscGVyLmphdmE=) | `54.54% <0.00%> (+54.54%)` | `4.00% <0.00%> (+4.00%)` | |\n| ... and [29 more](https://codecov.io/gh/apache/hudi/pull/2143/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/705926236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]