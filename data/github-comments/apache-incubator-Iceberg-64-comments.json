[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736620967","html_url":"https://github.com/apache/iceberg/pull/1704#issuecomment-736620967","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1704","id":736620967,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjYyMDk2Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T15:20:33Z","updated_at":"2020-12-01T15:20:55Z","author_association":"CONTRIBUTOR","body":"I'll try to take a look at this PR this week as well as I wrote a design [doc](https://docs.google.com/document/d/1aXo1VzuXxSuqcTzMLSQdnivMVgtLExgDWUFMvWeXRxc/edit#heading=h.41vc5dxcib1o) for compaction.\r\n\r\nSQL extensions are almost done so I should have more time now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736620967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736664003","html_url":"https://github.com/apache/iceberg/pull/1852#issuecomment-736664003","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1852","id":736664003,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjY2NDAwMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T16:29:05Z","updated_at":"2020-12-01T16:29:05Z","author_association":"CONTRIBUTOR","body":"> Want me to include the Iceberg part too?\r\n\r\nNo, let's not include the Iceberg changes. I just though that there would be tests for the parser rules that were independent. If not, then we can move forward with this and get the testing done when the Iceberg side goes in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736664003/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736693226","html_url":"https://github.com/apache/iceberg/pull/1852#issuecomment-736693226","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1852","id":736693226,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjY5MzIyNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T17:13:44Z","updated_at":"2020-12-01T17:13:44Z","author_association":"CONTRIBUTOR","body":"I can add a couple of tests on how plans are transformed tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736693226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736732550","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-736732550","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":736732550,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjczMjU1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T18:20:54Z","updated_at":"2020-12-01T18:20:54Z","author_association":"CONTRIBUTOR","body":"> In my mind this means the Spark3 tests that run against the session catalog are (partially) broken as the DROP command won't work for anything other than a Hive based table.\r\n\r\nI ran into this and ended up skipping non-Hive tests in other suites. We still have fairly good coverage because the session catalog is simply delegating. So as long as it works for a SparkCatalog backed by Hive, it will work for other catalog types.\r\n\r\nFixing this in Spark would be great.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736732550/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736735815","html_url":"https://github.com/apache/iceberg/pull/1825#issuecomment-736735815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1825","id":736735815,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjczNTgxNQ==","user":{"login":"jacques-n","id":183350,"node_id":"MDQ6VXNlcjE4MzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/183350?v=4","gravatar_id":"","url":"https://api.github.com/users/jacques-n","html_url":"https://github.com/jacques-n","followers_url":"https://api.github.com/users/jacques-n/followers","following_url":"https://api.github.com/users/jacques-n/following{/other_user}","gists_url":"https://api.github.com/users/jacques-n/gists{/gist_id}","starred_url":"https://api.github.com/users/jacques-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacques-n/subscriptions","organizations_url":"https://api.github.com/users/jacques-n/orgs","repos_url":"https://api.github.com/users/jacques-n/repos","events_url":"https://api.github.com/users/jacques-n/events{/privacy}","received_events_url":"https://api.github.com/users/jacques-n/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T18:26:46Z","updated_at":"2020-12-01T18:26:46Z","author_association":"NONE","body":"What do you think about actually implementing using prefix matching code rather than time conversions? Basically, convert the commit timestamp to iso and then do prefix matching? Too crazy?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736735815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736749862","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-736749862","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":736749862,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjc0OTg2Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T18:53:55Z","updated_at":"2020-12-01T18:53:55Z","author_association":"CONTRIBUTOR","body":"I agree with the approach to use `HadoopTables` to return tables when a path identifier is found. What I'm not sure about is how to pass a path as an identifier. Supporting a namespace element that has the file format is useful for imports, but not for the `IcebergSource` because I don't think that we want the source to support those identifiers.\r\n\r\nFor table imports, I think we have more options because we're controlling the parsed statement or the stored procedure. That procedure could use optional arguments like `file_format` or `location`. Similarly, a parsed statement can be transformed with rules to pass the reference as something other than an `Identifier`. What is relevant here is that we have options for those cases, so I think we should focus in this PR on how to pass paths from `IcebergSource` to a catalog, and loading in that catalog.\r\n\r\nLooking at the Spark, the identifier is immediately used to load the table, or is added to a CTAS plan. I don't think that the identifier is modified after it is returned. We could use a custom `Identifier` implementation, `PathIdentifier`, to signal that a path should be loaded.\r\n\r\n```java\r\npublic class PathIdentifier implements Identifier {\r\n  private final String location;\r\n  private final String name;\r\n\r\n  public PathIdentifier(String location) {\r\n    this.location = location;\r\n    this.name = Iterables.getLastElement(Splitter.on(\"/\").splitToList(location));\r\n  }\r\n\r\n  public String location() {\r\n    return location;\r\n  }\r\n\r\n  public String namespace() {\r\n    return new String[] { location };\r\n  }\r\n\r\n  public String name() {\r\n    return name;\r\n  }\r\n}\r\n```\r\n\r\nThis uses the last part of the location string as the table name, so that the default subquery aliases added in Spark work.\r\n\r\nThen each method in `SparkCatalog` would just need to check `instanceof PathIdentifier`, which is a bit cleaner than the `/` check -- although that would still need to be done in `IcebergSource`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736749862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736757912","html_url":"https://github.com/apache/iceberg/pull/1853#issuecomment-736757912","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1853","id":736757912,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjc1NzkxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T19:08:33Z","updated_at":"2020-12-01T19:08:33Z","author_association":"CONTRIBUTOR","body":"Thanks for the updates! Looks good, so I'll merge.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736757912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736759181","html_url":"https://github.com/apache/iceberg/pull/1847#issuecomment-736759181","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1847","id":736759181,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjc1OTE4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T19:10:56Z","updated_at":"2020-12-01T19:10:56Z","author_association":"CONTRIBUTOR","body":"@jun-he, is this still happening after the other fixes?\r\n\r\nI'd like to avoid increasing the heap size if we don't need to. Sometimes failures like this can help us catch runtime issues.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736759181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736829429","html_url":"https://github.com/apache/iceberg/pull/1825#issuecomment-736829429","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1825","id":736829429,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjgyOTQyOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T21:23:54Z","updated_at":"2020-12-01T21:23:54Z","author_association":"CONTRIBUTOR","body":"> Too crazy?\r\n\r\nToo crazy.\r\n\r\nI think that would hit issues with timestamp precision, whether date and time are separated by space or `T`, and zone offsets. How would we interpret `2020-12-1`? Or `2020-12-01 -07:00`?\r\n\r\nI prefer strict conversion into times and then adjusting based on precision. If it was a date, then add 1 day, convert to timestamp, and subtract 1 microsecond.\r\n\r\nBy the way, what time zone are these supposed to be in? Does this need to respect the SQL session time zone?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736829429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736854600","html_url":"https://github.com/apache/iceberg/pull/1790#issuecomment-736854600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1790","id":736854600,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg1NDYwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T22:15:38Z","updated_at":"2020-12-01T22:15:38Z","author_association":"CONTRIBUTOR","body":"Looking close to ready, but I made a few comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736854600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736855702","html_url":"https://github.com/apache/iceberg/issues/1764#issuecomment-736855702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1764","id":736855702,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg1NTcwMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T22:17:56Z","updated_at":"2020-12-01T22:17:56Z","author_association":"CONTRIBUTOR","body":"@zhangdove, there is no requirement in Iceberg that a table \"owns\" its location. The intent of not recursively deleting was to avoid dropping other data in the same prefix. I think it would be fine to drop the location recursively in some cases. Maybe that should be a catalog option?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736855702/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736862806","html_url":"https://github.com/apache/iceberg/pull/1835#issuecomment-736862806","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1835","id":736862806,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg2MjgwNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T22:33:30Z","updated_at":"2020-12-01T22:33:30Z","author_association":"CONTRIBUTOR","body":"Looks good to me. @rdsr, are you okay with merging this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736862806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736916300","html_url":"https://github.com/apache/iceberg/pull/1849#issuecomment-736916300","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1849","id":736916300,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjkxNjMwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T00:54:52Z","updated_at":"2020-12-02T00:54:52Z","author_association":"CONTRIBUTOR","body":"My main concern with this API is that it doesn't really help with some of the major challenges of resolving conflicts. It may be that we have been talking about different parts of the problem.\r\n\r\nTo me, there are two main approaches:\r\n\r\n* **Cherry-pick commits**: A transaction would keep track of different table metadata files without updating each table's metadata location. When it is time to commit, swap the locations in one atomic operation. If there is a conflict, then refresh that table, cherry-pick the commits since the base metadata file, and retry with the new metadata location.\r\n* **Retry pending updates**: A transaction would keep track of all `PendingUpdate` instances that were created to modify the tables. These can already refresh and retry the individual operation's changes. The initial writes would configure and commit each change to a transaction. The transaction would perform the atomic swap of multiple locations. If there is a conflict, then refresh each table and re-commit the changes to it (just like single-table transactions). Then retry the atomic swap.\r\n\r\nI was expecting an API that used the second approach. That's what I see as the major problem to solve: how to coordinate operations across multiple tables in a way that allows the existing `PendingUpdate` retries, like an extension of the single-table transaction API.\r\n\r\nI think that keeping each configured `PendingUpdate` around is going to be an easier way to retry because the logic for retries is already written. Trying to cherry-pick changes means needing to know much more information than is tracked currently, and would require reproducing all of the changes from metadata and applying them.\r\n\r\nI think a normal operation example is helpful:\r\n\r\n```sql\r\nDELETE FROM db.table WHERE id = 5;\r\n```\r\n\r\nLet's say that only replaces one file: delete `file_a.parquet`, add `file_b.parquet`. But it will also validate that no data has been added that could match the `WHERE` clause since the operation started, because it needs to scan the table to find where the records are located.\r\n\r\nFor the cherry-pick approach, we can recover the deleted file, the added file, and the parent snapshot ID. But we can't recover the filter from the `WHERE` clause, nor do we know whether the validation was enabled (due to the isolation level chosen for the change). To make the cherry-pick approach work, we would need to write that additional information into table metadata and build operations that can use it. We did this for dynamic partition overwrite because it was just a flag, but I'm concerned that it would be a lot of work to do this for all of the operations.\r\n\r\nFor the `PendingUpdate` approach, each operation is fully configured and kept around, so we can simply call `commit` again to re-apply the changes in the transaction.\r\n\r\nOn the other hand, maybe the way I'm thinking about this is wrong because I'm assuming that we would want to apply the same validations (i.e., no files that might match `id = 5` have been added). Maybe for multi-table transactions we only want to validate that since the starting snapshot, no data changes have been made to a table for any table that is read. That would ensure correctness, and then we could simply check that the file changes can still be applied. This would make sense because we need to add the extra validations about other table states. As long as those are coarse validations based on only snapshot ID, then maybe it is okay that the commit changes are as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736916300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736939858","html_url":"https://github.com/apache/iceberg/pull/1747#issuecomment-736939858","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1747","id":736939858,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjkzOTg1OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T02:07:44Z","updated_at":"2020-12-02T02:07:44Z","author_association":"CONTRIBUTOR","body":"I plan to take another look at this tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736939858/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736977560","html_url":"https://github.com/apache/iceberg/pull/1836#issuecomment-736977560","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1836","id":736977560,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjk3NzU2MA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T04:11:30Z","updated_at":"2020-12-02T04:11:30Z","author_association":"MEMBER","body":"All check passed, let me merge this PR, thanks @rdblue for reviewing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/736977560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737073892","html_url":"https://github.com/apache/iceberg/pull/1854#issuecomment-737073892","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1854","id":737073892,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzA3Mzg5Mg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T08:26:12Z","updated_at":"2020-12-02T08:26:12Z","author_association":"CONTRIBUTOR","body":"@marton-bod, @lcspinter: Could you please review?\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737073892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737074869","html_url":"https://github.com/apache/iceberg/pull/1840#issuecomment-737074869","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1840","id":737074869,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzA3NDg2OQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T08:28:16Z","updated_at":"2020-12-02T08:28:16Z","author_association":"CONTRIBUTOR","body":"@rdblue, @shardulm94: Could you please review?\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737074869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737165272","html_url":"https://github.com/apache/iceberg/pull/1859#issuecomment-737165272","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1859","id":737165272,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzE2NTI3Mg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T11:16:05Z","updated_at":"2020-12-02T11:16:05Z","author_association":"MEMBER","body":"Got this merged, Thanks @skambha for contributing. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737165272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737198291","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-737198291","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":737198291,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzE5ODI5MQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T12:25:30Z","updated_at":"2020-12-02T12:25:30Z","author_association":"CONTRIBUTOR","body":"Thanks for the comments @rdblue . Think this is close once we get #1804 merged and this build passing :-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737198291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737200894","html_url":"https://github.com/apache/iceberg/pull/1825#issuecomment-737200894","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1825","id":737200894,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzIwMDg5NA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T12:30:59Z","updated_at":"2020-12-02T12:30:59Z","author_association":"CONTRIBUTOR","body":"\r\n> Too crazy.\r\n\r\nHehehe thanks Ryan. To be fair though the current impl doesn't parse confusing timestamps well. I think the correct impl would be to parse both commit time and passed timestamps into `ZonedDateTime` then write as String in ISO format. Comparing those with prefix matching would then make sense. However I think that may be overkill at this time as the round up mechanism in this PR will satisfy the vast majority of use cases.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737200894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737203436","html_url":"https://github.com/apache/iceberg/pull/1825#issuecomment-737203436","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1825","id":737203436,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzIwMzQzNg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T12:36:27Z","updated_at":"2020-12-02T12:36:27Z","author_association":"CONTRIBUTOR","body":"> \r\n> By the way, what time zone are these supposed to be in? Does this need to respect the SQL session time zone?\r\n\r\nCurrently it treats everything as UTC, to be honest I didn't know about `spark.sql.session.timeZone`. Want me to change it to respect \"spark.sql.session.timeZone\"? I am personally biased against doing anything with data outside of UTC but if other people are using that setting we should probably not surprise them.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737203436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737233889","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-737233889","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":737233889,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzIzMzg4OQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T13:35:45Z","updated_at":"2020-12-02T13:35:45Z","author_association":"CONTRIBUTOR","body":"Just a bit of clarification on `PathIdentifier` and your above comment @rdblue: \r\n\r\nYou are suggesting that the change in #1783 returns a `PathIdentifier`  from the `SupportsCatalogOptions.extractIdentifier` method? I like that and it simplifies some of the logic in this PR. If I understand correctly in the case of stored procedures or other places where we have control we can use `PathIdentifier` or use the other mechanisms available to pass path information. Correct?\r\n\r\nWhat I am unsure about is how to handle path based `CREATE`, `DROP`, `ALTER` comamands. We don't have much control over the `Identifier` and we would still have to inspect if its a path. Unless we do a `CREAT TABLE x AS iceberg LOCATION path`, which works but the table name is redundant/ignored.  Or are you suggesting this PR doesn't handle path based DDL coming from Spark?\r\n\r\nFWIW I agree that we shouldn't have a 'special' namespace for importing path based tables, however my approach of ignoring namespaces if the name is a path probably isn't quite right either.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737233889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737244829","html_url":"https://github.com/apache/iceberg/pull/1860#issuecomment-737244829","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1860","id":737244829,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzI0NDgyOQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T13:55:44Z","updated_at":"2020-12-02T13:55:44Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, this should unblock you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737244829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737253249","html_url":"https://github.com/apache/iceberg/pull/1852#issuecomment-737253249","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1852","id":737253249,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzI1MzI0OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T14:10:37Z","updated_at":"2020-12-02T14:10:37Z","author_association":"CONTRIBUTOR","body":"I've merged this to unblock the Iceberg part. I'll work on plan tests in parallel. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737253249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737274387","html_url":"https://github.com/apache/iceberg/pull/1861#issuecomment-737274387","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1861","id":737274387,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzI3NDM4Nw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T14:45:16Z","updated_at":"2020-12-02T14:45:16Z","author_association":"CONTRIBUTOR","body":"@marton-bod: Could you please review?\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737274387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737352396","html_url":"https://github.com/apache/iceberg/pull/1862#issuecomment-737352396","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1862","id":737352396,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzM1MjM5Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T16:43:09Z","updated_at":"2020-12-02T16:43:09Z","author_association":"CONTRIBUTOR","body":"@rdblue, here is the Iceberg part.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737352396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737361498","html_url":"https://github.com/apache/iceberg/pull/1854#issuecomment-737361498","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1854","id":737361498,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzM2MTQ5OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T16:58:10Z","updated_at":"2020-12-02T16:58:10Z","author_association":"CONTRIBUTOR","body":"@rdblue, @shardulm94: Could you please review if you have some time? This is a part of #1407 (Hive: HiveIcebergOutputFormat first implementation for handling Hive inserts into unpartitioned Iceberg tables)\r\n\r\nThanks!\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737361498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737382617","html_url":"https://github.com/apache/iceberg/pull/1847#issuecomment-737382617","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1847","id":737382617,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzM4MjYxNw==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T17:34:07Z","updated_at":"2020-12-02T17:34:25Z","author_association":"COLLABORATOR","body":"@rdblue  Yes, it is still happening with the latest master (commit `dcc539aaf671b4642a8fda95ab299ac98cfc89c9`).\r\n`./gradlew clean build` fails with errors `Expiring Daemon because JVM heap space is exhausted` if I set `org.gradle.jvmargs=-Xmx512m` in the `gradle.properties`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737382617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737435686","html_url":"https://github.com/apache/iceberg/pull/1864#issuecomment-737435686","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1864","id":737435686,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzQzNTY4Ng==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T19:09:10Z","updated_at":"2020-12-02T19:09:10Z","author_association":"MEMBER","body":"@aokolnychyi + @rdblue , We could do something more complicated but I think this is probably sufficient since we really don't want to add more parsing commands in the future.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737435686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737440363","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-737440363","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":737440363,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzQ0MDM2Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T19:17:43Z","updated_at":"2020-12-02T19:17:43Z","author_association":"CONTRIBUTOR","body":"I would add `SHOW CATALOG REFERENCE` or some form of `git status` to let users know where they are as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737440363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737442057","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-737442057","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":737442057,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzQ0MjA1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T19:20:45Z","updated_at":"2020-12-02T19:20:45Z","author_association":"CONTRIBUTOR","body":"I'm not sure that I would use `ALTER CATALOG`, since that seems to imply that the catalog config is being altered, not that the catalog reference is changing. I would probably opt for simpler commands, like `DROP CATALOG BRANCH some_branch` or `CREATE CATALOG TAG new_name`.\r\n\r\nI'm also curious about what `MERGE` means. Is that like rebasing another branch's changes onto the current? If not rebase, what would happen?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737442057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737483415","html_url":"https://github.com/apache/iceberg/pull/1860#issuecomment-737483415","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1860","id":737483415,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzQ4MzQxNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T20:41:49Z","updated_at":"2020-12-02T20:41:49Z","author_association":"CONTRIBUTOR","body":"Let me rebase it now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737483415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737484633","html_url":"https://github.com/apache/iceberg/pull/1863#issuecomment-737484633","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1863","id":737484633,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzQ4NDYzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T20:44:17Z","updated_at":"2020-12-02T20:44:17Z","author_association":"CONTRIBUTOR","body":"It looks like it should be possible to use just a LIST call here because we don't need the full metadata from the HEAD request. Metadata is only used for the existence check and for the file size, which should be available from the list response:\r\n\r\n```java\r\n      // list object to force strong consistency\r\n      ListObjectsV2Response response = client().listObjectsV2(ListObjectsV2Request.builder()\r\n          .bucket(uri().bucket())\r\n          .prefix(uri().key())\r\n          .build());\r\n\r\n      Preconditions.checkState(response.contents().size() <= 1, \"Invalid file: %s contains more than one object\", uri);\r\n      this.exists = response.contents().size() > 0;\r\n      this.length = response.contents().get(0).size();\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737484633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737487451","html_url":"https://github.com/apache/iceberg/pull/1860#issuecomment-737487451","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1860","id":737487451,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzQ4NzQ1MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T20:50:23Z","updated_at":"2020-12-02T20:50:23Z","author_association":"CONTRIBUTOR","body":"Rebased now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737487451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737489173","html_url":"https://github.com/apache/iceberg/pull/1864#issuecomment-737489173","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1864","id":737489173,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzQ4OTE3Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T20:54:06Z","updated_at":"2020-12-02T20:54:06Z","author_association":"CONTRIBUTOR","body":"Looks great to me, once the whitespace change is fixed!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737489173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737507316","html_url":"https://github.com/apache/iceberg/pull/1863#issuecomment-737507316","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1863","id":737507316,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzUwNzMxNg==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T21:29:58Z","updated_at":"2020-12-02T21:29:58Z","author_association":"CONTRIBUTOR","body":"I agree with @rdblue's comment that we probably don't want to do two requests and LIST alone would be sufficient.\r\n\r\nAlso, I'm not clear on how forcing a LIST would ensure correctness for a following head call.  Based on the docs I didn't see anything about that sequencing resulting in HEAD consistency.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737507316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737552943","html_url":"https://github.com/apache/iceberg/pull/1863#issuecomment-737552943","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1863","id":737552943,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzU1Mjk0Mw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T23:14:58Z","updated_at":"2020-12-02T23:14:58Z","author_association":"CONTRIBUTOR","body":"> It looks like it should be possible to use just a LIST call here because we don't need the full metadata from the HEAD request. Metadata is only used for the existence check and for the file size, which should be available from the list response:\r\n> \r\n> ```java\r\n>       // list object to force strong consistency\r\n>       ListObjectsV2Response response = client().listObjectsV2(ListObjectsV2Request.builder()\r\n>           .bucket(uri().bucket())\r\n>           .prefix(uri().key())\r\n>           .build());\r\n> \r\n>       Preconditions.checkState(response.contents().size() <= 1, \"Invalid file: %s contains more than one object\", uri);\r\n>       this.exists = response.contents().size() > 0;\r\n>       this.length = response.contents().get(0).size();\r\n> ```\r\n\r\nThanks for the suggestion, did not know LIST also gets the length metadata.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737552943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737604740","html_url":"https://github.com/apache/iceberg/pull/1835#issuecomment-737604740","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1835","id":737604740,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzYwNDc0MA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T01:44:58Z","updated_at":"2020-12-03T01:44:58Z","author_association":"CONTRIBUTOR","body":"LGTM! I just merged this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737604740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737625728","html_url":"https://github.com/apache/iceberg/pull/1863#issuecomment-737625728","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1863","id":737625728,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzYyNTcyOA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T02:42:02Z","updated_at":"2020-12-03T02:42:02Z","author_association":"CONTRIBUTOR","body":"> Would it make sense to test for the contents of a file change after put (and not just the length being the same like is currently tested)?\r\n\r\nWhat situation does it try to cover in the context of this PR?\r\n(I do have more tests for S3FileIO that I plan to port here in another PR, which checks the contents of a file as you describe)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737625728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737721603","html_url":"https://github.com/apache/iceberg/issues/1865#issuecomment-737721603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1865","id":737721603,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzcyMTYwMw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T07:30:54Z","updated_at":"2020-12-03T07:30:54Z","author_association":"MEMBER","body":"The published `iceberg-flink-runtime` should not contains sources code, because it's for production purpose.  If you really want to debug the runtime code, you might need to rebuild the project to get a new runtime jar with sources attached.  For most cases, I don't use the IDE debug directly,  I will read the stactrace and read the code base to see what's wong, if it indeed a potential bug, I will write an unit test to reproduce.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737721603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737756408","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-737756408","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":737756408,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzc1NjQwOA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T08:47:09Z","updated_at":"2020-12-03T08:47:09Z","author_association":"CONTRIBUTOR","body":"Sorry I think I am pretty late in the whole conversation, completely forgot to follow up on #1783 after my initial comment, still trying to catch up...\r\n\r\nI also like the idea of a custom `PathIdentifier`, but it seems to only work for loading an existing table through `SupportsCatalogOptions`, and as @rymurr says I don't think it handles those `TableCatalog` operations well. The Spark plan would directly use `Identifier.of(...)` which uses its default `IdentifierImpl`.\r\n\r\nFor these DDL, I actually like the approach that Anton mentioned in #1306 about wrapping `HadoopTables` into a catalog, for example `HadoopPathCatalog`, so that we can run something like `CREATE TABLE catalog_name.\"path/to/table\" USING iceberg`. I don't think using `LOCATION` keyword is an option for us, not because of the dummy table name, but because not all ALTER and DELETE statements support it natively in open source Spark. That proposal was the last conversation of the issue and never got follow up, was there any concern with that approach not mentioned there?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737756408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737769727","html_url":"https://github.com/apache/iceberg/issues/1319#issuecomment-737769727","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1319","id":737769727,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzc2OTcyNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T09:11:35Z","updated_at":"2020-12-03T09:11:35Z","author_association":"CONTRIBUTOR","body":"@rdblue @zhangjun0x01 @rdsr is this same as #1830? Can we resolve it? PR #1835 added extra calls like @jerryshao mentioned. I am ok with that. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737769727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737775641","html_url":"https://github.com/apache/iceberg/pull/1842#issuecomment-737775641","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1842","id":737775641,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzc3NTY0MQ==","user":{"login":"boroknagyz","id":12861880,"node_id":"MDQ6VXNlcjEyODYxODgw","avatar_url":"https://avatars.githubusercontent.com/u/12861880?v=4","gravatar_id":"","url":"https://api.github.com/users/boroknagyz","html_url":"https://github.com/boroknagyz","followers_url":"https://api.github.com/users/boroknagyz/followers","following_url":"https://api.github.com/users/boroknagyz/following{/other_user}","gists_url":"https://api.github.com/users/boroknagyz/gists{/gist_id}","starred_url":"https://api.github.com/users/boroknagyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boroknagyz/subscriptions","organizations_url":"https://api.github.com/users/boroknagyz/orgs","repos_url":"https://api.github.com/users/boroknagyz/repos","events_url":"https://api.github.com/users/boroknagyz/events{/privacy}","received_events_url":"https://api.github.com/users/boroknagyz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T09:22:18Z","updated_at":"2020-12-03T09:22:18Z","author_association":"CONTRIBUTOR","body":"The change lgtm. What do you think the proposal of https://issues.apache.org/jira/browse/IMPALA-10368, i.e. make NOT NULL fields required and vice versa?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737775641/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737779561","html_url":"https://github.com/apache/iceberg/pull/1842#issuecomment-737779561","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1842","id":737779561,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzc3OTU2MQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T09:29:28Z","updated_at":"2020-12-03T09:29:28Z","author_association":"CONTRIBUTOR","body":"> The change lgtm. What do you think the proposal of https://issues.apache.org/jira/browse/IMPALA-10368, i.e. make NOT NULL fields required and vice versa?\r\n\r\nGood point, as with the column comments, I think it would be a good candidate to get into the next PR(s)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737779561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737826500","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-737826500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":737826500,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzgyNjUwMA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T10:10:56Z","updated_at":"2020-12-03T10:10:56Z","author_association":"CONTRIBUTOR","body":"> I would add `SHOW CATALOG REFERENCE` or some form of `git status` to let users know where they are as well.\r\n\r\nExcellent idea. I've also been toying with the idea of showing history as a table. eg `SHOW LOG [ref]` should show a table equivalent of `git log`. I would like to be able to select from it though... eg `SELECT * FROM catalog._meta_.log WHERE commitTime < timestamp and committer = 'rymurr'`. I am not sure how to match these two ideas up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737826500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737831636","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-737831636","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":737831636,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzgzMTYzNg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T10:15:11Z","updated_at":"2020-12-03T10:15:11Z","author_association":"CONTRIBUTOR","body":"> I'm not sure that I would use `ALTER CATALOG`, since that seems to imply that the catalog config is being altered, not that the catalog reference is changing. I would probably opt for simpler commands, like `DROP CATALOG BRANCH some_branch` or `CREATE CATALOG TAG new_name`.\r\n\r\nI agree that we aren't actually altering the table and its a bit weird to use `ALTER`. The only concern I had w/ `DROP` as the first  token in the command is the chance of someone `DROP TABLE`-ing on accident. Maybe its my tendency to act before I think but I don't like making it easier for me to do damage. I am probably being over cautious though :-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737831636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737864046","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-737864046","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":737864046,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzg2NDA0Ng==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T10:50:56Z","updated_at":"2020-12-03T10:50:56Z","author_association":"CONTRIBUTOR","body":"\r\n> I'm also curious about what `MERGE` means. Is that like rebasing another branch's changes onto the current? If not rebase, what would happen?\r\n\r\nThats correct, merge is probably closest to a fast forward rebase except history isn't re-written. If you had\r\n```\r\n C    E\r\n |    |\r\n B    D\r\n  \\   /\r\n    A\r\n```\r\nThen merging the right branch into the left would give:\r\n```\r\n E\r\n |\r\n D\r\n |\r\n C    E\r\n |    |\r\n B    D\r\n  \\   /\r\n    A\r\n```\r\nMerge always looks for a common ancestor and transplants commits across. It doesn't create a merge commit with multiple parents like git would. Nessie always keeps a linear history.\r\n\r\nIf there is no common ancestor or there is a conflict the operation would fail (atomically). Currently the failure report is simply 'merge failed'. There is work on the server in flight to make the failure more clear and actionable. Currently conflict is defined at the table level and for iceberg is simply: 'Table A on branch X has a different current snapshot than on branch Y'. It could be a really simple resolution (eg 2 appends) that could eventually be handled silently or something more complicated: conditional delete and schema change which drops a column from the conditional delete. Which would need more direct human intervention to resolve.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737864046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737912936","html_url":"https://github.com/apache/iceberg/pull/1849#issuecomment-737912936","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1849","id":737912936,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzkxMjkzNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T12:23:46Z","updated_at":"2020-12-03T12:23:46Z","author_association":"CONTRIBUTOR","body":"I am running behind on reviews right now so don't be blocked by me but I'd be glad to take a look next week.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737912936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737921384","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-737921384","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":737921384,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzkyMTM4NA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T12:30:54Z","updated_at":"2020-12-03T12:30:54Z","author_association":"CONTRIBUTOR","body":"Hey @jackye1995 thanks for the comments! The first approach in this patch was trying to tackle the problem with a new catalog. You can see it [here](https://github.com/apache/iceberg/pull/1843/commits/9cf2bede01a9194e730f78888914bd9c6570aee3). On the plus side it keeps all the filesystem handling in 1 class but it does have the downside of creating a lot of duplicate code and wasn't super nice. @RussellSpitzer suggested the approach in this PR and I think I prefer it now too, it keeps the scope if this change very small too.\r\n\r\nWhat I am struggling w/ at the moment is:\r\n* how to robustly identify a path in an `Identifier` (eg not rely solely on the presence of `/`)\r\n* how to correctly handle edge cases like ```catalog.namespace.`file://path/to/table` ```. What does a namespace mean in this case and how do we represent a path as an Identifier or TableIdentifier. \r\n\r\nFor the second point I think we should reject any namespace elements and treat a path as a namespaceless table with the full table path as the table/identifier name. For the first part I think the only reliable way is to try to do IO with the path: can we get an FS from the path, is it the local fs, is it a relative path etc.\r\n\r\nThoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737921384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737980859","html_url":"https://github.com/apache/iceberg/pull/1866#issuecomment-737980859","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1866","id":737980859,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzk4MDg1OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T13:14:24Z","updated_at":"2020-12-03T13:14:24Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/737980859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738018968","html_url":"https://github.com/apache/iceberg/pull/1819#issuecomment-738018968","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1819","id":738018968,"node_id":"MDEyOklzc3VlQ29tbWVudDczODAxODk2OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T14:12:48Z","updated_at":"2020-12-03T14:12:48Z","author_association":"CONTRIBUTOR","body":"@rdblue @liukun4515, I've submitted PR #1868 for table properties. Please, take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738018968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738044958","html_url":"https://github.com/apache/iceberg/issues/1856#issuecomment-738044958","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1856","id":738044958,"node_id":"MDEyOklzc3VlQ29tbWVudDczODA0NDk1OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T14:53:09Z","updated_at":"2020-12-03T14:53:09Z","author_association":"CONTRIBUTOR","body":"Do we have any syntax examples from other systems that support stored procedures?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738044958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738083217","html_url":"https://github.com/apache/iceberg/pull/1869#issuecomment-738083217","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1869","id":738083217,"node_id":"MDEyOklzc3VlQ29tbWVudDczODA4MzIxNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T15:34:56Z","updated_at":"2020-12-03T15:34:56Z","author_association":"CONTRIBUTOR","body":"I don't know why Github does not pick up `Lead-authored-by` from the [commit](https://github.com/apache/iceberg/pull/1869/commits/8241a04a46a29213c65b7e9eede319c760c9832c). Worked for me in Spark.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738083217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738132358","html_url":"https://github.com/apache/iceberg/pull/1863#issuecomment-738132358","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1863","id":738132358,"node_id":"MDEyOklzc3VlQ29tbWVudDczODEzMjM1OA==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T16:48:56Z","updated_at":"2020-12-03T16:48:56Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738132358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738142747","html_url":"https://github.com/apache/iceberg/pull/1871#issuecomment-738142747","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1871","id":738142747,"node_id":"MDEyOklzc3VlQ29tbWVudDczODE0Mjc0Nw==","user":{"login":"gallushi","id":45040041,"node_id":"MDQ6VXNlcjQ1MDQwMDQx","avatar_url":"https://avatars.githubusercontent.com/u/45040041?v=4","gravatar_id":"","url":"https://api.github.com/users/gallushi","html_url":"https://github.com/gallushi","followers_url":"https://api.github.com/users/gallushi/followers","following_url":"https://api.github.com/users/gallushi/following{/other_user}","gists_url":"https://api.github.com/users/gallushi/gists{/gist_id}","starred_url":"https://api.github.com/users/gallushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gallushi/subscriptions","organizations_url":"https://api.github.com/users/gallushi/orgs","repos_url":"https://api.github.com/users/gallushi/repos","events_url":"https://api.github.com/users/gallushi/events{/privacy}","received_events_url":"https://api.github.com/users/gallushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T17:05:46Z","updated_at":"2020-12-03T17:05:46Z","author_association":"NONE","body":"Hi @rdblue , following our discussion in #1655 , i'll appreciate your review, thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738142747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738247716","html_url":"https://github.com/apache/iceberg/pull/1868#issuecomment-738247716","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1868","id":738247716,"node_id":"MDEyOklzc3VlQ29tbWVudDczODI0NzcxNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T19:36:42Z","updated_at":"2020-12-03T19:36:42Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for working on this, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738247716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738252638","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-738252638","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":738252638,"node_id":"MDEyOklzc3VlQ29tbWVudDczODI1MjYzOA==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T19:42:45Z","updated_at":"2020-12-03T19:42:45Z","author_association":"CONTRIBUTOR","body":"> how to robustly identify a path in an Identifier (eg not rely solely on the presence of `/`)\r\n\r\nWith all the given constraints, I think we have to rely on some string pattern to determine if it is a path or table. Use `/` is probably not a too bad choice considering that people won't normally put `/` in the table name. If we restrict the path to always be a full file path and do not allow relative path, then we can use a URI check (or IO check as you said for extra safety) to see if it is a Hadoop table. Is there a use case for relative path for Hadoop tables?\r\n\r\nAnd with whatever way we go for the check, I think it should be somewhere in the core package, instead of a protected method `isHadoopTable`, so that it can be used across compute engines for consistent behavior. One way to go is to add it as a method in `HadoopTables`.\r\n\r\n> how to correctly handle edge cases like catalog.namespace.`file://path/to/table`. What does a namespace mean in this case and how do we represent a path as an Identifier or TableIdentifier.\r\n\r\n+1 for \r\n\r\n> reject any namespace elements and treat a path as a namespaceless table with the full table path as the table/identifier name","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738252638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738464803","html_url":"https://github.com/apache/iceberg/issues/1319#issuecomment-738464803","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1319","id":738464803,"node_id":"MDEyOklzc3VlQ29tbWVudDczODQ2NDgwMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T00:11:57Z","updated_at":"2020-12-04T00:11:57Z","author_association":"CONTRIBUTOR","body":"I think it is the same. I'll close this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738464803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738471623","html_url":"https://github.com/apache/iceberg/pull/1849#issuecomment-738471623","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1849","id":738471623,"node_id":"MDEyOklzc3VlQ29tbWVudDczODQ3MTYyMw==","user":{"login":"jacques-n","id":183350,"node_id":"MDQ6VXNlcjE4MzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/183350?v=4","gravatar_id":"","url":"https://api.github.com/users/jacques-n","html_url":"https://github.com/jacques-n","followers_url":"https://api.github.com/users/jacques-n/followers","following_url":"https://api.github.com/users/jacques-n/following{/other_user}","gists_url":"https://api.github.com/users/jacques-n/gists{/gist_id}","starred_url":"https://api.github.com/users/jacques-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacques-n/subscriptions","organizations_url":"https://api.github.com/users/jacques-n/orgs","repos_url":"https://api.github.com/users/jacques-n/repos","events_url":"https://api.github.com/users/jacques-n/events{/privacy}","received_events_url":"https://api.github.com/users/jacques-n/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T00:31:26Z","updated_at":"2020-12-04T00:31:26Z","author_association":"NONE","body":"@rdblue and @jackye1995 , I've updated the patch to further clarify some of the concepts. LMK if it clarifies things. Thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738471623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738493039","html_url":"https://github.com/apache/iceberg/issues/1830#issuecomment-738493039","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1830","id":738493039,"node_id":"MDEyOklzc3VlQ29tbWVudDczODQ5MzAzOQ==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T01:28:26Z","updated_at":"2020-12-04T01:28:26Z","author_association":"CONTRIBUTOR","body":"done","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738493039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738493545","html_url":"https://github.com/apache/iceberg/issues/1319#issuecomment-738493545","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1319","id":738493545,"node_id":"MDEyOklzc3VlQ29tbWVudDczODQ5MzU0NQ==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T01:29:37Z","updated_at":"2020-12-04T01:29:37Z","author_association":"CONTRIBUTOR","body":"I think it is same,I closed #1830 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738493545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738510292","html_url":"https://github.com/apache/iceberg/pull/1727#issuecomment-738510292","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1727","id":738510292,"node_id":"MDEyOklzc3VlQ29tbWVudDczODUxMDI5Mg==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T02:09:46Z","updated_at":"2020-12-04T02:09:46Z","author_association":"CONTRIBUTOR","body":"> 1 or 2 minor things left. Also wondering how we can help the user to not load a 1TB iceberg table into a pandas data frame. Pandas merrily does this currently so probably nothing...\r\n\r\nI think this may need to be handled at a level higher, we should be able to know based on the plan the cumulative `file_size_in_bytes` for the scan before residuals are applied.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738510292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738545172","html_url":"https://github.com/apache/iceberg/pull/1100#issuecomment-738545172","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1100","id":738545172,"node_id":"MDEyOklzc3VlQ29tbWVudDczODU0NTE3Mg==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T03:38:17Z","updated_at":"2020-12-04T03:38:17Z","author_association":"CONTRIBUTOR","body":"hi @Jiayi-Liao This demo only involves spark, I suggest to modify the pr title, for example: `add docker demo for Iceberg on spark`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738545172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738642342","html_url":"https://github.com/apache/iceberg/pull/1471#issuecomment-738642342","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1471","id":738642342,"node_id":"MDEyOklzc3VlQ29tbWVudDczODY0MjM0Mg==","user":{"login":"manishmalhotrawork","id":22434010,"node_id":"MDQ6VXNlcjIyNDM0MDEw","avatar_url":"https://avatars.githubusercontent.com/u/22434010?v=4","gravatar_id":"","url":"https://api.github.com/users/manishmalhotrawork","html_url":"https://github.com/manishmalhotrawork","followers_url":"https://api.github.com/users/manishmalhotrawork/followers","following_url":"https://api.github.com/users/manishmalhotrawork/following{/other_user}","gists_url":"https://api.github.com/users/manishmalhotrawork/gists{/gist_id}","starred_url":"https://api.github.com/users/manishmalhotrawork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manishmalhotrawork/subscriptions","organizations_url":"https://api.github.com/users/manishmalhotrawork/orgs","repos_url":"https://api.github.com/users/manishmalhotrawork/repos","events_url":"https://api.github.com/users/manishmalhotrawork/events{/privacy}","received_events_url":"https://api.github.com/users/manishmalhotrawork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T08:29:44Z","updated_at":"2020-12-04T08:29:44Z","author_association":"CONTRIBUTOR","body":"> @rdblue + @manishmalhotrawork I wasn't sure if the two of you had reached consensus yet on what you would like the behavior here to be, but since I think this would be a great fix for 0.10 maybe we should start discussion again and get this PR ready.\r\n\r\n@RussellSpitzer @rdblue  sorry was stuck with other work :) \r\nyes lets discuss this, I think we just need a quick discussion and apply @rdblue suggestions. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738642342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738659966","html_url":"https://github.com/apache/iceberg/pull/1873#issuecomment-738659966","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1873","id":738659966,"node_id":"MDEyOklzc3VlQ29tbWVudDczODY1OTk2Ng==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T09:00:33Z","updated_at":"2020-12-04T09:00:33Z","author_association":"CONTRIBUTOR","body":"Minor comments, looks good to me (non-binding)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738659966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738695943","html_url":"https://github.com/apache/iceberg/pull/1869#issuecomment-738695943","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1869","id":738695943,"node_id":"MDEyOklzc3VlQ29tbWVudDczODY5NTk0Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T10:09:30Z","updated_at":"2020-12-04T10:09:30Z","author_association":"CONTRIBUTOR","body":"I added two more tests and merged, thanks for reviewing, @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738695943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738697233","html_url":"https://github.com/apache/iceberg/issues/1599#issuecomment-738697233","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1599","id":738697233,"node_id":"MDEyOklzc3VlQ29tbWVudDczODY5NzIzMw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T10:12:18Z","updated_at":"2020-12-04T10:12:18Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this one, @liukun4515!\r\n\r\nUnfortunately, GitHub did not pick the commit annotation.\r\n\r\n```\r\nLead-authored-by: Kun Liu <liukun@apache.org>\r\nCo-authored-by: Anton Okolnychyi <aokolnychyi@apple.com>\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738697233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738697896","html_url":"https://github.com/apache/iceberg/issues/1598#issuecomment-738697896","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1598","id":738697896,"node_id":"MDEyOklzc3VlQ29tbWVudDczODY5Nzg5Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T10:13:42Z","updated_at":"2020-12-04T10:13:53Z","author_association":"CONTRIBUTOR","body":"We have merged a simple version. I'll probably keep this one open until we refine the approach.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738697896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738705947","html_url":"https://github.com/apache/iceberg/pull/1873#issuecomment-738705947","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1873","id":738705947,"node_id":"MDEyOklzc3VlQ29tbWVudDczODcwNTk0Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T10:30:44Z","updated_at":"2020-12-04T10:31:18Z","author_association":"CONTRIBUTOR","body":"This change looks great to me, just minor comments in addition to what @pvary mentioned.\r\nThanks for working on this, @raptond!\r\n\r\nWe could add fewer configs but I'd be in favor of what this PR does. It was really painful when we hit this problem and couldn't do anything without changing the code so having props to configure every aspect sounds good to me. It is rather a sensitive area and more control here seems justified to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738705947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738743306","html_url":"https://github.com/apache/iceberg/pull/1819#issuecomment-738743306","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1819","id":738743306,"node_id":"MDEyOklzc3VlQ29tbWVudDczODc0MzMwNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T11:54:02Z","updated_at":"2020-12-04T11:54:02Z","author_association":"CONTRIBUTOR","body":"I took commits done by @liukun4515 from this PR and submitted #1874 with up-to-date code.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738743306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738743487","html_url":"https://github.com/apache/iceberg/pull/1874#issuecomment-738743487","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1874","id":738743487,"node_id":"MDEyOklzc3VlQ29tbWVudDczODc0MzQ4Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T11:54:28Z","updated_at":"2020-12-04T11:54:28Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @liukun4515 @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738743487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738790926","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-738790926","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":738790926,"node_id":"MDEyOklzc3VlQ29tbWVudDczODc5MDkyNg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T13:43:54Z","updated_at":"2020-12-04T13:43:54Z","author_association":"CONTRIBUTOR","body":"Thanks for the comment @jackye1995 , I have added a check to reject the path table if it has a namespace. I have also moved the checks to `HadoopTables`, good suggestion.\r\n\r\nRe path identifiers. Delta allows [absolute paths](https://github.com/delta-io/delta/blob/master/src/main/scala/org/apache/spark/sql/delta/catalog/DeltaCatalog.scala#L538) only so I don't think its outrageous if we limit paths to absolute paths only. I am inclined to use a check similar to what they do. Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738790926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738809592","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-738809592","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":738809592,"node_id":"MDEyOklzc3VlQ29tbWVudDczODgwOTU5Mg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T14:20:32Z","updated_at":"2020-12-04T14:20:32Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @jackye1995, I have added some comments/docs and addressed your comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738809592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738848374","html_url":"https://github.com/apache/iceberg/pull/1823#issuecomment-738848374","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1823","id":738848374,"node_id":"MDEyOklzc3VlQ29tbWVudDczODg0ODM3NA==","user":{"login":"GrigorievNick","id":16338643,"node_id":"MDQ6VXNlcjE2MzM4NjQz","avatar_url":"https://avatars.githubusercontent.com/u/16338643?v=4","gravatar_id":"","url":"https://api.github.com/users/GrigorievNick","html_url":"https://github.com/GrigorievNick","followers_url":"https://api.github.com/users/GrigorievNick/followers","following_url":"https://api.github.com/users/GrigorievNick/following{/other_user}","gists_url":"https://api.github.com/users/GrigorievNick/gists{/gist_id}","starred_url":"https://api.github.com/users/GrigorievNick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GrigorievNick/subscriptions","organizations_url":"https://api.github.com/users/GrigorievNick/orgs","repos_url":"https://api.github.com/users/GrigorievNick/repos","events_url":"https://api.github.com/users/GrigorievNick/events{/privacy}","received_events_url":"https://api.github.com/users/GrigorievNick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T15:31:55Z","updated_at":"2020-12-04T15:31:55Z","author_association":"CONTRIBUTOR","body":"Does it still relevant, because of this \r\nhttps://aws.amazon.com/s3/consistency/?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738848374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738908631","html_url":"https://github.com/apache/iceberg/pull/1738#issuecomment-738908631","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1738","id":738908631,"node_id":"MDEyOklzc3VlQ29tbWVudDczODkwODYzMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T17:23:40Z","updated_at":"2020-12-04T17:23:40Z","author_association":"CONTRIBUTOR","body":"I am closing this one as most parts were merged to master.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/738908631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739001324","html_url":"https://github.com/apache/iceberg/pull/1862#issuecomment-739001324","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1862","id":739001324,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTAwMTMyNA==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T20:26:26Z","updated_at":"2020-12-04T20:26:26Z","author_association":"CONTRIBUTOR","body":"Thanks @aokolnychyi for the great work! This has been an amazing building block for subsequent work for UPSERTs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739001324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739012585","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-739012585","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":739012585,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTAxMjU4NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T20:50:06Z","updated_at":"2020-12-04T20:50:06Z","author_association":"CONTRIBUTOR","body":"I think we should keep the scope of this small. There isn't a need to address how to embed path-based tables in SQL commands right now. However we choose to do that would probably be a different solution. Right now, we need to unblock multicatalog support in `IcebergSource` by having a way to pass the path through as a table identifier, and the `PathIdentifier` option works well for that.\r\n\r\nFor the larger question about `ALTER`, `DROP`, etc., I think the short-term solution is to define a HadoopCatalog that can handle those SQL commands.\r\n\r\nIn the long term, I've advocated that Spark should have some way of identifying and passing path identifiers to plugins. The problem here is that no one seems to know what the behavior or path-based tables in SQL is or should be. But I think that a similar `PathIdentifier` approach would work once that is addressed in the upstream community.\r\n\r\nLast, if we want to support identifiers with a catalog and a quoted path, we can do that any time by choosing when to interpret the catalog name as a quoted path.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739012585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739013885","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-739013885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":739013885,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTAxMzg4NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T20:52:30Z","updated_at":"2020-12-04T20:52:30Z","author_association":"CONTRIBUTOR","body":"> Delta allows absolute paths only . . .\r\n\r\nConsidering the behavior for SQL is undefined, I would rather not add support for this right away. Delta needs this because it already supported these identifiers in v1 and has to be compatible. But I think we should have a use case that requires this before adding support.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739013885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739019682","html_url":"https://github.com/apache/iceberg/pull/1847#issuecomment-739019682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1847","id":739019682,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTAxOTY4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T21:04:43Z","updated_at":"2020-12-04T21:04:43Z","author_association":"CONTRIBUTOR","body":"Sounds good to me then. I don't think this would hurt anything.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739019682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739050079","html_url":"https://github.com/apache/iceberg/pull/1870#issuecomment-739050079","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1870","id":739050079,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTA1MDA3OQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T22:09:21Z","updated_at":"2020-12-04T22:09:21Z","author_association":"CONTRIBUTOR","body":"Thanks for taking this up @ismailsimsek. I was going to push a PR for this either over the weekend or next Monday (have been really busy at work recently but I've got it working in spark-shell etc), but seems like you've beat me to it! I'll take a look through this one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739050079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739052051","html_url":"https://github.com/apache/iceberg/issues/1634#issuecomment-739052051","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1634","id":739052051,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTA1MjA1MQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T22:14:11Z","updated_at":"2020-12-04T22:14:53Z","author_association":"CONTRIBUTOR","body":"Ahhh my bad. I've been really busy with other things and have let this sit. I have an implementation that works with Spark that I was going to open up this weekend or early next week after cleaning it up, but it seems you've beaten me to it @ismailsimsek\r\n\r\nI'll take a look through your PR though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739052051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739060052","html_url":"https://github.com/apache/iceberg/pull/1823#issuecomment-739060052","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1823","id":739060052,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTA2MDA1Mg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T22:36:27Z","updated_at":"2020-12-04T22:36:27Z","author_association":"CONTRIBUTOR","body":"> Does it still relevant, because of this\r\n> https://aws.amazon.com/s3/consistency/?\r\n\r\nthis is still needed for Glue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739060052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739068848","html_url":"https://github.com/apache/iceberg/issues/1634#issuecomment-739068848","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1634","id":739068848,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTA2ODg0OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T23:05:36Z","updated_at":"2020-12-04T23:05:36Z","author_association":"CONTRIBUTOR","body":"Yeah, please help with reviews, @kbendick! This happens, but we can all benefit from taking the best of the two approaches.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739068848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739081411","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-739081411","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":739081411,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTA4MTQxMQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T23:51:47Z","updated_at":"2020-12-04T23:51:47Z","author_association":"CONTRIBUTOR","body":"> Considering the behavior for SQL is undefined, I would rather not add support for this right away. Delta needs this because it already supported these identifiers in v1 and has to be compatible. But I think we should have a use case that requires this before adding support.\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739081411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739087770","html_url":"https://github.com/apache/iceberg/pull/1727#issuecomment-739087770","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1727","id":739087770,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTA4Nzc3MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T00:19:25Z","updated_at":"2020-12-05T00:19:25Z","author_association":"CONTRIBUTOR","body":"Thanks @TGooch44 for working on this! And thanks to @rymurr for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739087770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739089541","html_url":"https://github.com/apache/iceberg/pull/1877#issuecomment-739089541","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1877","id":739089541,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTA4OTU0MQ==","user":{"login":"karuppayya","id":5082742,"node_id":"MDQ6VXNlcjUwODI3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5082742?v=4","gravatar_id":"","url":"https://api.github.com/users/karuppayya","html_url":"https://github.com/karuppayya","followers_url":"https://api.github.com/users/karuppayya/followers","following_url":"https://api.github.com/users/karuppayya/following{/other_user}","gists_url":"https://api.github.com/users/karuppayya/gists{/gist_id}","starred_url":"https://api.github.com/users/karuppayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karuppayya/subscriptions","organizations_url":"https://api.github.com/users/karuppayya/orgs","repos_url":"https://api.github.com/users/karuppayya/repos","events_url":"https://api.github.com/users/karuppayya/events{/privacy}","received_events_url":"https://api.github.com/users/karuppayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T00:27:16Z","updated_at":"2020-12-05T00:27:16Z","author_association":"CONTRIBUTOR","body":"@rdblue @aokolnychyi Can you please help review the change? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739089541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739100512","html_url":"https://github.com/apache/iceberg/pull/1870#issuecomment-739100512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1870","id":739100512,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTEwMDUxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T01:24:18Z","updated_at":"2020-12-05T01:24:18Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @ismailsimsek! I'll try to take a close look soon.\r\n\r\nThe only thing I noticed right away was the use of a few new libraries. I'd really prefer to keep dependencies to a minimum, so please consider what is doing heavy work vs. what is just a convenience.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739100512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739105432","html_url":"https://github.com/apache/iceberg/pull/1854#issuecomment-739105432","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1854","id":739105432,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTEwNTQzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T01:57:14Z","updated_at":"2020-12-05T01:57:14Z","author_association":"CONTRIBUTOR","body":"Thanks, @pvary! This looks great so far. I had a few comments, but it looks like a good improvement!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739105432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739105596","html_url":"https://github.com/apache/iceberg/pull/1858#issuecomment-739105596","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1858","id":739105596,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTEwNTU5Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T01:58:32Z","updated_at":"2020-12-05T01:58:32Z","author_association":"CONTRIBUTOR","body":"@openinx, I'm planning on reviewing these PRs over the weekend. Thanks for getting all of this done!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739105596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739118105","html_url":"https://github.com/apache/iceberg/pull/1819#issuecomment-739118105","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1819","id":739118105,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTExODEwNQ==","user":{"login":"liukun4515","id":7450163,"node_id":"MDQ6VXNlcjc0NTAxNjM=","avatar_url":"https://avatars.githubusercontent.com/u/7450163?v=4","gravatar_id":"","url":"https://api.github.com/users/liukun4515","html_url":"https://github.com/liukun4515","followers_url":"https://api.github.com/users/liukun4515/followers","following_url":"https://api.github.com/users/liukun4515/following{/other_user}","gists_url":"https://api.github.com/users/liukun4515/gists{/gist_id}","starred_url":"https://api.github.com/users/liukun4515/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liukun4515/subscriptions","organizations_url":"https://api.github.com/users/liukun4515/orgs","repos_url":"https://api.github.com/users/liukun4515/repos","events_url":"https://api.github.com/users/liukun4515/events{/privacy}","received_events_url":"https://api.github.com/users/liukun4515/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T03:48:32Z","updated_at":"2020-12-05T03:48:32Z","author_association":"NONE","body":"> I took commits done by @liukun4515 from this PR and submitted #1874 with up-to-date code.\r\n\r\nthanks, i will close the pull request.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739118105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739122730","html_url":"https://github.com/apache/iceberg/pull/1877#issuecomment-739122730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1877","id":739122730,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTEyMjczMA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T04:19:11Z","updated_at":"2020-12-05T04:19:11Z","author_association":"CONTRIBUTOR","body":"If you don't mind, this might be a good chance to update the guide on partitioned write in Spark: https://github.com/apache/iceberg/blob/master/site/docs/spark.md#writing-against-partitioned-table\r\n\r\nFanout writer can be an alternative to explicit sort, hence would be better to add it there. If you'd just like to finalize your work with the code change, I can take a step for that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739122730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739165535","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-739165535","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":739165535,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTE2NTUzNQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T10:14:02Z","updated_at":"2020-12-05T10:14:02Z","author_association":"CONTRIBUTOR","body":"Thanks for the comments @rdblue, I have reduced the scope as suggested and updated the path identifier check.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739165535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739178606","html_url":"https://github.com/apache/iceberg/issues/1634#issuecomment-739178606","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1634","id":739178606,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTE3ODYwNg==","user":{"login":"ismailsimsek","id":6005685,"node_id":"MDQ6VXNlcjYwMDU2ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6005685?v=4","gravatar_id":"","url":"https://api.github.com/users/ismailsimsek","html_url":"https://github.com/ismailsimsek","followers_url":"https://api.github.com/users/ismailsimsek/followers","following_url":"https://api.github.com/users/ismailsimsek/following{/other_user}","gists_url":"https://api.github.com/users/ismailsimsek/gists{/gist_id}","starred_url":"https://api.github.com/users/ismailsimsek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ismailsimsek/subscriptions","organizations_url":"https://api.github.com/users/ismailsimsek/orgs","repos_url":"https://api.github.com/users/ismailsimsek/repos","events_url":"https://api.github.com/users/ismailsimsek/events{/privacy}","received_events_url":"https://api.github.com/users/ismailsimsek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T10:25:43Z","updated_at":"2020-12-05T10:25:43Z","author_association":"CONTRIBUTOR","body":"@kbendick I thought this will be good feature to learn iceberg and implement. I'm ok to continue whichever implementain looks good to you? Is it possible to combine best from both? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739178606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739191859","html_url":"https://github.com/apache/iceberg/pull/1870#issuecomment-739191859","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1870","id":739191859,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTE5MTg1OQ==","user":{"login":"ismailsimsek","id":6005685,"node_id":"MDQ6VXNlcjYwMDU2ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6005685?v=4","gravatar_id":"","url":"https://api.github.com/users/ismailsimsek","html_url":"https://github.com/ismailsimsek","followers_url":"https://api.github.com/users/ismailsimsek/followers","following_url":"https://api.github.com/users/ismailsimsek/following{/other_user}","gists_url":"https://api.github.com/users/ismailsimsek/gists{/gist_id}","starred_url":"https://api.github.com/users/ismailsimsek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ismailsimsek/subscriptions","organizations_url":"https://api.github.com/users/ismailsimsek/orgs","repos_url":"https://api.github.com/users/ismailsimsek/repos","events_url":"https://api.github.com/users/ismailsimsek/events{/privacy}","received_events_url":"https://api.github.com/users/ismailsimsek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T10:37:14Z","updated_at":"2020-12-05T10:37:14Z","author_association":"CONTRIBUTOR","body":"> Thanks for taking this up @ismailsimsek. I was going to push a PR for this either over the weekend or next Monday (have been really busy at work recently but I've got it working in spark-shell etc), but seems like you've beat me to it! I'll take a look through this one.\r\n\r\nIs it possible combine best of both? I'm still learning it and I'm sure there is some stuff this implementain is still lacking.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739191859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739426240","html_url":"https://github.com/apache/iceberg/pull/1877#issuecomment-739426240","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1877","id":739426240,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTQyNjI0MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-05T22:44:34Z","updated_at":"2020-12-05T22:44:34Z","author_association":"CONTRIBUTOR","body":"Thanks @karuppayya! Looks good so I merged it.\r\n\r\n@HeartSaVioR, let's update the docs separately. I agree that it would probably be helpful, but I think we want to be careful about how we document this. This is primarily for streaming and I would not recommend people avoid adding a sort for batch work. If you're interested in working on the docs, that would be great! Thank you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739426240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739435521","html_url":"https://github.com/apache/iceberg/pull/1858#issuecomment-739435521","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1858","id":739435521,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTQzNTUyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T00:26:28Z","updated_at":"2020-12-06T00:26:28Z","author_association":"CONTRIBUTOR","body":"Overall, looks great! I noted a few things, but I think we should be able to get this in with just a couple fixes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739435521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739437218","html_url":"https://github.com/apache/iceberg/pull/1877#issuecomment-739437218","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1877","id":739437218,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTQzNzIxOA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T00:47:27Z","updated_at":"2020-12-06T00:47:27Z","author_association":"CONTRIBUTOR","body":"Yeah I'm happy to document it. Thanks!\r\n\r\nOne thing I wonder is how much it is helpful or even it hurts to have table property for this, as we are in consensus that this might be dangerous on batch query if they don't notice the behavior (depending on cardinality of partitions). I also commented on previous PR and it got merged without answering it. For now we don't explain what is fanout writer in the doc, so they have no idea and fear to enable this, but once we document the behavior without proper warn, they may be misunderstanding the behavior as good for all cases and update the table property. (I guess you're concerning about documenting this due to this, do I understand correctly?)\r\n\r\nPersonally I'm not 100% sure we'd like to add table property which is only good for specific workload, but at least we could document this with warning that this opens files for cardinality of partitions in the data in each task, so only recommended to use it in streaming write (not mentioning table property here). WDYT?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739437218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739439599","html_url":"https://github.com/apache/iceberg/pull/1747#issuecomment-739439599","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1747","id":739439599,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTQzOTU5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T01:15:10Z","updated_at":"2020-12-06T01:15:10Z","author_association":"CONTRIBUTOR","body":"Thanks @yyanyy! I only had one thing that I would change, but we can do that in a follow-up since this is such a big PR. Thank you for fixing this, great work!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739439599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739439642","html_url":"https://github.com/apache/iceberg/pull/1857#issuecomment-739439642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1857","id":739439642,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTQzOTY0Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T01:15:42Z","updated_at":"2020-12-06T01:15:42Z","author_association":"CONTRIBUTOR","body":"I merged #1747, so you can rebase this. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739439642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739440621","html_url":"https://github.com/apache/iceberg/pull/1872#issuecomment-739440621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1872","id":739440621,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTQ0MDYyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T01:27:32Z","updated_at":"2020-12-06T01:27:32Z","author_association":"CONTRIBUTOR","body":"This looks about ready to me. Please update now that #1747 is in and we'll get it merged. Thank you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739440621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]