[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950421639","html_url":"https://github.com/apache/hudi/issues/3392#issuecomment-950421639","issue_url":"https://api.github.com/repos/apache/hudi/issues/3392","id":950421639,"node_id":"IC_kwDOBI7nWM44pkiH","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T00:03:56Z","updated_at":"2021-10-25T00:03:56Z","author_association":"MEMBER","body":"Close due to inactive","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950421639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950438362","html_url":"https://github.com/apache/hudi/issues/3662#issuecomment-950438362","issue_url":"https://api.github.com/repos/apache/hudi/issues/3662","id":950438362,"node_id":"IC_kwDOBI7nWM44pona","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T01:02:19Z","updated_at":"2021-10-25T01:02:19Z","author_association":"MEMBER","body":"@kelvin-qin thanks for reproducing this! i see it's not the right spark version info if CTAS from a hudi table. the version info not propagated correctly. I can also reproduce it; It'd be a nice fix. Filing a JIRA now. If you're keen, please feel free to take it.\r\nhttps://issues.apache.org/jira/browse/HUDI-2610","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950438362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950442738","html_url":"https://github.com/apache/hudi/issues/3845#issuecomment-950442738","issue_url":"https://api.github.com/repos/apache/hudi/issues/3845","id":950442738,"node_id":"IC_kwDOBI7nWM44ppry","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T01:14:59Z","updated_at":"2021-10-25T01:14:59Z","author_association":"MEMBER","body":"@mutoulbj @BenjMaq Thanks for raising this! It does make sense to print a message indicating table exists instead of errorring. Filing a JIRA and please feel free to take it if you're interested!\r\n\r\nhttps://issues.apache.org/jira/browse/HUDI-2611","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950442738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950455798","html_url":"https://github.com/apache/hudi/issues/3854#issuecomment-950455798","issue_url":"https://api.github.com/repos/apache/hudi/issues/3854","id":950455798,"node_id":"IC_kwDOBI7nWM44ps32","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T01:48:10Z","updated_at":"2021-10-25T01:48:10Z","author_association":"MEMBER","body":"@Limess thanks for providing benchmarks! \r\n\r\n> bulk inserts are slightly faster with Hudi 0.9.0\r\n\r\nThis is most likely due to row writer enabled by default in 0.9.0 https://hudi.apache.org/docs/configurations#hoodiedatasourcewriterowwriterenable that boots bulkinsert in 0.9\r\n\r\n@nsivabalan do you have any hints on what changes in 0.9 might cause the slower writes?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950455798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950471560","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-950471560","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":950471560,"node_id":"IC_kwDOBI7nWM44pwuI","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T02:26:30Z","updated_at":"2021-10-25T02:26:30Z","author_association":"CONTRIBUTOR","body":"@vinothchandar   already rebase the code. could you help me review this code, thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950471560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950475158","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-950475158","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":950475158,"node_id":"IC_kwDOBI7nWM44pxmW","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T02:37:19Z","updated_at":"2021-10-25T02:37:19Z","author_association":"MEMBER","body":"Thanks for your patience. Definitely on it. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950475158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950503446","html_url":"https://github.com/apache/hudi/issues/3680#issuecomment-950503446","issue_url":"https://api.github.com/repos/apache/hudi/issues/3680","id":950503446,"node_id":"IC_kwDOBI7nWM44p4gW","user":{"login":"Cherry-Puppy","id":46736583,"node_id":"MDQ6VXNlcjQ2NzM2NTgz","avatar_url":"https://avatars.githubusercontent.com/u/46736583?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherry-Puppy","html_url":"https://github.com/Cherry-Puppy","followers_url":"https://api.github.com/users/Cherry-Puppy/followers","following_url":"https://api.github.com/users/Cherry-Puppy/following{/other_user}","gists_url":"https://api.github.com/users/Cherry-Puppy/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherry-Puppy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherry-Puppy/subscriptions","organizations_url":"https://api.github.com/users/Cherry-Puppy/orgs","repos_url":"https://api.github.com/users/Cherry-Puppy/repos","events_url":"https://api.github.com/users/Cherry-Puppy/events{/privacy}","received_events_url":"https://api.github.com/users/Cherry-Puppy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T03:57:34Z","updated_at":"2021-10-25T03:57:34Z","author_association":"NONE","body":"@danny0405 I also encountered this problem. I still can't find this class after changing the hive version. But there is this class in the jar package.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950503446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950511022","html_url":"https://github.com/apache/hudi/pull/3849#issuecomment-950511022","issue_url":"https://api.github.com/repos/apache/hudi/issues/3849","id":950511022,"node_id":"IC_kwDOBI7nWM44p6Wu","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T04:14:15Z","updated_at":"2021-10-25T04:14:15Z","author_association":"MEMBER","body":"Build passed https://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build/results?buildId=2820&view=results","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950511022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950539640","html_url":"https://github.com/apache/hudi/pull/3827#issuecomment-950539640","issue_url":"https://api.github.com/repos/apache/hudi/issues/3827","id":950539640,"node_id":"IC_kwDOBI7nWM44qBV4","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T05:24:57Z","updated_at":"2021-10-25T05:24:57Z","author_association":"CONTRIBUTOR","body":"@manojpec : thanks for your inputs. I do like the idea of TransactionManager handling the locking depending on whether the lock acquisition is requested by same owner or diff. But I see some impl hurdles in that. Let me see how I can go about that. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950539640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950546155","html_url":"https://github.com/apache/hudi/pull/3762#issuecomment-950546155","issue_url":"https://api.github.com/repos/apache/hudi/issues/3762","id":950546155,"node_id":"IC_kwDOBI7nWM44qC7r","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T05:35:38Z","updated_at":"2021-10-25T05:35:38Z","author_association":"CONTRIBUTOR","body":"@prashantwason : Can you review the patch please when you get time.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950546155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950564845","html_url":"https://github.com/apache/hudi/pull/3858#issuecomment-950564845","issue_url":"https://api.github.com/repos/apache/hudi/issues/3858","id":950564845,"node_id":"IC_kwDOBI7nWM44qHft","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T06:15:27Z","updated_at":"2021-10-25T08:11:27Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f2ed52360c22cba5bbade224be9b3a6cec660d36\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2827\",\n    \"triggerID\" : \"f2ed52360c22cba5bbade224be9b3a6cec660d36\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f2ed52360c22cba5bbade224be9b3a6cec660d36 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2827) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950564845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950617318","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-950617318","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":950617318,"node_id":"IC_kwDOBI7nWM44qUTm","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T07:41:53Z","updated_at":"2021-10-25T07:41:53Z","author_association":"CONTRIBUTOR","body":"@dongkelun \r\nI reproduce this using the table in UT in my local env, `ClassCastException` is raised. The detail trace stack:\r\n`Caused by: java.lang.ClassCastException: org.apache.spark.unsafe.types.UTF8String cannot be cast to java.lang.Integer\r\n        at org.apache.hudi.sql.payload.ExpressionPayloadEvaluator_228eb15b_f549_4127_a201_a71c459c1f61.eval(Unknown Source)\r\n        at org.apache.spark.sql.hudi.command.payload.ExpressionPayload.evaluate(ExpressionPayload.scala:258)\r\n`\r\n\r\nis it same with yours?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950617318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950647390","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-950647390","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":950647390,"node_id":"IC_kwDOBI7nWM44qbpe","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T08:14:52Z","updated_at":"2021-10-25T08:14:52Z","author_association":"CONTRIBUTOR","body":"> @dongkelun I reproduce this using the table in UT in my local env, `ClassCastException` is raised. The detail trace stack: `Caused by: java.lang.ClassCastException: org.apache.spark.unsafe.types.UTF8String cannot be cast to java.lang.Integer at org.apache.hudi.sql.payload.ExpressionPayloadEvaluator_228eb15b_f549_4127_a201_a71c459c1f61.eval(Unknown Source) at org.apache.spark.sql.hudi.command.payload.ExpressionPayload.evaluate(ExpressionPayload.scala:258) `\r\n> \r\n> is it same with yours?\r\n\r\nSorry, I don't know what UT is or how to use it. Is UTC time set or something else?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950647390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950658125","html_url":"https://github.com/apache/hudi/issues/3680#issuecomment-950658125","issue_url":"https://api.github.com/repos/apache/hudi/issues/3680","id":950658125,"node_id":"IC_kwDOBI7nWM44qeRN","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T08:25:41Z","updated_at":"2021-10-25T08:25:41Z","author_association":"CONTRIBUTOR","body":"> @danny0405 I also encountered this problem. I still can't find this class after changing the hive version. But there is this class in the jar package.\r\n\r\nDid you use the master code or else ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950658125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950660152","html_url":"https://github.com/apache/hudi/issues/3680#issuecomment-950660152","issue_url":"https://api.github.com/repos/apache/hudi/issues/3680","id":950660152,"node_id":"IC_kwDOBI7nWM44qew4","user":{"login":"Cherry-Puppy","id":46736583,"node_id":"MDQ6VXNlcjQ2NzM2NTgz","avatar_url":"https://avatars.githubusercontent.com/u/46736583?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherry-Puppy","html_url":"https://github.com/Cherry-Puppy","followers_url":"https://api.github.com/users/Cherry-Puppy/followers","following_url":"https://api.github.com/users/Cherry-Puppy/following{/other_user}","gists_url":"https://api.github.com/users/Cherry-Puppy/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherry-Puppy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherry-Puppy/subscriptions","organizations_url":"https://api.github.com/users/Cherry-Puppy/orgs","repos_url":"https://api.github.com/users/Cherry-Puppy/repos","events_url":"https://api.github.com/users/Cherry-Puppy/events{/privacy}","received_events_url":"https://api.github.com/users/Cherry-Puppy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T08:27:43Z","updated_at":"2021-10-25T08:27:43Z","author_association":"NONE","body":"> > @danny0405 I also encountered this problem. I still can't find this class after changing the hive version. But there is this class in the jar package.\r\n> \r\n> Did you use the master code or else ?\r\n\r\nmaster 0.10","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950660152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950671662","html_url":"https://github.com/apache/hudi/issues/3680#issuecomment-950671662","issue_url":"https://api.github.com/repos/apache/hudi/issues/3680","id":950671662,"node_id":"IC_kwDOBI7nWM44qhku","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T08:40:23Z","updated_at":"2021-10-25T08:40:23Z","author_association":"CONTRIBUTOR","body":"How did you specify your hudi-flink-bundle jar, did you put it into the `$FLINK_HOME/lib` or something else ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950671662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950674644","html_url":"https://github.com/apache/hudi/issues/3680#issuecomment-950674644","issue_url":"https://api.github.com/repos/apache/hudi/issues/3680","id":950674644,"node_id":"IC_kwDOBI7nWM44qiTU","user":{"login":"Cherry-Puppy","id":46736583,"node_id":"MDQ6VXNlcjQ2NzM2NTgz","avatar_url":"https://avatars.githubusercontent.com/u/46736583?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherry-Puppy","html_url":"https://github.com/Cherry-Puppy","followers_url":"https://api.github.com/users/Cherry-Puppy/followers","following_url":"https://api.github.com/users/Cherry-Puppy/following{/other_user}","gists_url":"https://api.github.com/users/Cherry-Puppy/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherry-Puppy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherry-Puppy/subscriptions","organizations_url":"https://api.github.com/users/Cherry-Puppy/orgs","repos_url":"https://api.github.com/users/Cherry-Puppy/repos","events_url":"https://api.github.com/users/Cherry-Puppy/events{/privacy}","received_events_url":"https://api.github.com/users/Cherry-Puppy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T08:44:00Z","updated_at":"2021-10-25T08:44:00Z","author_association":"NONE","body":"> How did you specify your hudi-flink-bundle jar, did you put it into the `$FLINK_HOME/lib` or something else ?\r\n\r\nI compiled the hudi-flink module in the source code，The compilation command is as follows\r\nmvn clean install -DskipTests -Dcheckstyle.skip=true -Drat.skip=true -Denforcer.skip=true -Pinclude-flink-sql-connector-hive -Pflink-bundle-shade-hive2  . Finally put into the lib","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950674644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950679993","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-950679993","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":950679993,"node_id":"IC_kwDOBI7nWM44qjm5","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T08:49:57Z","updated_at":"2021-10-25T08:50:44Z","author_association":"CONTRIBUTOR","body":"> > @dongkelun I reproduce this using the table in UT in my local env, `ClassCastException` is raised. The detail trace stack: `Caused by: java.lang.ClassCastException: org.apache.spark.unsafe.types.UTF8String cannot be cast to java.lang.Integer at org.apache.hudi.sql.payload.ExpressionPayloadEvaluator_228eb15b_f549_4127_a201_a71c459c1f61.eval(Unknown Source) at org.apache.spark.sql.hudi.command.payload.ExpressionPayload.evaluate(ExpressionPayload.scala:258) `\r\n> > is it same with yours?\r\n> \r\n> Sorry, I don't know what UT is or how to use it. Is UTC time set or something else?\r\n\r\nI mean UT is unit test. sql is run as followed :\r\n\r\ncreate table h0 ( id int, name string, price double, ts long, dt string) using hudi options (primaryKey ='id', preCombineField = 'ts');\r\n\r\nmerge into  h0 as t0 using (select 1 as ID, 'a1' as NAME, 1111 as TS, '2021-05-05' as DT, 111 as PRICE) as s0 on t0.id = s0.id when matched then update set * when not matched then insert *;","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950679993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950682166","html_url":"https://github.com/apache/hudi/issues/3841#issuecomment-950682166","issue_url":"https://api.github.com/repos/apache/hudi/issues/3841","id":950682166,"node_id":"IC_kwDOBI7nWM44qkI2","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T08:52:27Z","updated_at":"2021-10-25T08:52:27Z","author_association":"CONTRIBUTOR","body":"I downgraded to Spark 3.1.2, the issue still persists. I will try the `hoodie.avro.schema.validate setting`.\r\nThis is our config\r\n```\r\nauto.offset.reset: earliest\r\nauto.reset.offsets: earliest\r\nbootstrap.servers: XXX\r\nhoodie.bulkinsert.shuffle.parallelism: 32\r\nhoodie.cleaner.commits.retained: 120\r\nhoodie.cleaner.policy: KEEP_LATEST_COMMITS\r\nhoodie.consistency.check.enabled: true\r\nhoodie.datasource.hive_sync.database: kiwi\r\nhoodie.datasource.hive_sync.enable: true\r\nhoodie.datasource.hive_sync.jdbcurl: jdbc:hive2://XXX.svc.cluster.local:10001\r\nhoodie.datasource.hive_sync.partition_fields: happenedDayDe\r\nhoodie.datasource.hive_sync.table: sip_prediction_PredictionEvent_v1_any_live_bs\r\nhoodie.datasource.write.hive_style_partitioning: false\r\nhoodie.datasource.write.keygenerator.class: org.apache.hudi.keygen.CustomKeyGenerator\r\nhoodie.datasource.write.partitionpath.field: header.happenedTimestamp:TIMESTAMP\r\nhoodie.datasource.write.reconcile.schema: false\r\nhoodie.datasource.write.recordkey.field: header.happenedTimestamp,header.eventId\r\nhoodie.delete.shuffle.parallelism: 32\r\nhoodie.deltastreamer.kafka.source.maxEvents: 1000000000000\r\nhoodie.deltastreamer.keygen.timebased.input.timezone: UTC\r\nhoodie.deltastreamer.keygen.timebased.output.dateformat: yyyy/MM/dd\r\nhoodie.deltastreamer.keygen.timebased.output.timezone: Europe/Berlin\r\nhoodie.deltastreamer.keygen.timebased.timestamp.type: EPOCHMILLISECONDS\r\nhoodie.deltastreamer.schemaprovider.registry.url: https://XXX/subjects/sip-prediction-PredictionEvent-v1/versions/latest\r\nhoodie.deltastreamer.schemaprovider.source.schema.file: /tmp/schema_source.json\r\nhoodie.deltastreamer.schemaprovider.spark_avro_post_processor.enable: true\r\nhoodie.deltastreamer.schemaprovider.target.schema.file: /tmp/schema_target.json\r\nhoodie.deltastreamer.source.kafka.topic: sip-prediction-PredictionEvent-v1-any.live.bs.mam-event-bus\r\nhoodie.deltastreamer.source.kafka.value.deserializer.class: org.apache.hudi.utilities.deser.KafkaAvroSchemaDeserializer\r\nhoodie.insert.shuffle.parallelism: 32\r\nhoodie.keep.max.commits: 1000\r\nhoodie.keep.min.commits: 130\r\nhoodie.metrics.on: true\r\nhoodie.metrics.reporter.type: PROMETHEUS\r\nhoodie.parquet.compression.codec: snappy\r\nhoodie.parquet.max.file.size: 2147483648\r\nhoodie.parquet.small.file.limit: 1073741824\r\nhoodie.payload.event.time.field: header.happenedTimestamp\r\nhoodie.upsert.shuffle.parallelism: 32\r\nsasl.mechanism: SCRAM-SHA-512\r\nschema.registry.url: https://XXX\r\nsecurity.protocol: sasl_ssl\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950682166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950692479","html_url":"https://github.com/apache/hudi/issues/3680#issuecomment-950692479","issue_url":"https://api.github.com/repos/apache/hudi/issues/3680","id":950692479,"node_id":"IC_kwDOBI7nWM44qmp_","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T09:03:18Z","updated_at":"2021-10-25T09:03:18Z","author_association":"CONTRIBUTOR","body":"Did your program throw the same exception in this issue ? Did you also specify the bundle jar through `-j` option ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950692479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950743205","html_url":"https://github.com/apache/hudi/pull/1946#issuecomment-950743205","issue_url":"https://api.github.com/repos/apache/hudi/issues/1946","id":950743205,"node_id":"IC_kwDOBI7nWM44qzCl","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T09:57:22Z","updated_at":"2021-10-25T09:57:22Z","author_association":"CONTRIBUTOR","body":"@xushiyan :  I will resolve these conflicts.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950743205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950780515","html_url":"https://github.com/apache/hudi/pull/3860#issuecomment-950780515","issue_url":"https://api.github.com/repos/apache/hudi/issues/3860","id":950780515,"node_id":"IC_kwDOBI7nWM44q8Jj","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T10:36:55Z","updated_at":"2021-10-25T11:41:05Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"50d55ede71bfbdff4e239e15ad04e1ea2831f671\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2829\",\n    \"triggerID\" : \"50d55ede71bfbdff4e239e15ad04e1ea2831f671\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 50d55ede71bfbdff4e239e15ad04e1ea2831f671 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2829) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950780515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950948493","html_url":"https://github.com/apache/hudi/pull/3769#issuecomment-950948493","issue_url":"https://api.github.com/repos/apache/hudi/issues/3769","id":950948493,"node_id":"IC_kwDOBI7nWM44rlKN","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T13:49:00Z","updated_at":"2021-10-25T13:49:00Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950948493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950954830","html_url":"https://github.com/apache/hudi/pull/3836#issuecomment-950954830","issue_url":"https://api.github.com/repos/apache/hudi/issues/3836","id":950954830,"node_id":"IC_kwDOBI7nWM44rmtO","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T13:55:50Z","updated_at":"2021-10-25T13:55:50Z","author_association":"CONTRIBUTOR","body":"@prashantwason : Can you update the description with the purpose of the patch. It's not very apparent why we need this change. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950954830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950961437","html_url":"https://github.com/apache/hudi/pull/3817#issuecomment-950961437","issue_url":"https://api.github.com/repos/apache/hudi/issues/3817","id":950961437,"node_id":"IC_kwDOBI7nWM44roUd","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T14:02:51Z","updated_at":"2021-10-25T14:02:51Z","author_association":"CONTRIBUTOR","body":"Looks like you have pulled in some extra commits too. Can you check whats happening and ensure we have commits only from this patch.\r\n\r\nPatch as such looks good to me. Once commit history is fixed, we can merge it in.\r\n<img width=\"1014\" alt=\"Screen Shot 2021-10-25 at 7 01 13 AM\" src=\"https://user-images.githubusercontent.com/513218/138710038-4fac286f-47a6-4241-a589-a11ff32ef811.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950961437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950963470","html_url":"https://github.com/apache/hudi/pull/3813#issuecomment-950963470","issue_url":"https://api.github.com/repos/apache/hudi/issues/3813","id":950963470,"node_id":"IC_kwDOBI7nWM44ro0O","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T14:04:59Z","updated_at":"2021-10-25T14:04:59Z","author_association":"CONTRIBUTOR","body":"@yihua : Feel free to review this. related to refactoring. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950963470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950966097","html_url":"https://github.com/apache/hudi/pull/3861#issuecomment-950966097","issue_url":"https://api.github.com/repos/apache/hudi/issues/3861","id":950966097,"node_id":"IC_kwDOBI7nWM44rpdR","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T14:07:28Z","updated_at":"2021-10-27T18:32:34Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"544c952d144d4b13ddf9f80cbb28e44b9c9c4a0c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2831\",\n    \"triggerID\" : \"544c952d144d4b13ddf9f80cbb28e44b9c9c4a0c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7746197bf4f39c28b2f98eefb2031b86f56e29a5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2860\",\n    \"triggerID\" : \"7746197bf4f39c28b2f98eefb2031b86f56e29a5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bd90aabc79019127f0dbec591d3d3a9a7251dd5e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2876\",\n    \"triggerID\" : \"bd90aabc79019127f0dbec591d3d3a9a7251dd5e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"51d1b8e78732db45f9e8188fe3390984da56bb2b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2887\",\n    \"triggerID\" : \"51d1b8e78732db45f9e8188fe3390984da56bb2b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"316402bb9fff4ae27571133622aad8b323c52fc3\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2908\",\n    \"triggerID\" : \"316402bb9fff4ae27571133622aad8b323c52fc3\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 316402bb9fff4ae27571133622aad8b323c52fc3 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2908) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950966097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950975892","html_url":"https://github.com/apache/hudi/pull/3817#issuecomment-950975892","issue_url":"https://api.github.com/repos/apache/hudi/issues/3817","id":950975892,"node_id":"IC_kwDOBI7nWM44rr2U","user":{"login":"Carl-Zhou-CN","id":67902676,"node_id":"MDQ6VXNlcjY3OTAyNjc2","avatar_url":"https://avatars.githubusercontent.com/u/67902676?v=4","gravatar_id":"","url":"https://api.github.com/users/Carl-Zhou-CN","html_url":"https://github.com/Carl-Zhou-CN","followers_url":"https://api.github.com/users/Carl-Zhou-CN/followers","following_url":"https://api.github.com/users/Carl-Zhou-CN/following{/other_user}","gists_url":"https://api.github.com/users/Carl-Zhou-CN/gists{/gist_id}","starred_url":"https://api.github.com/users/Carl-Zhou-CN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Carl-Zhou-CN/subscriptions","organizations_url":"https://api.github.com/users/Carl-Zhou-CN/orgs","repos_url":"https://api.github.com/users/Carl-Zhou-CN/repos","events_url":"https://api.github.com/users/Carl-Zhou-CN/events{/privacy}","received_events_url":"https://api.github.com/users/Carl-Zhou-CN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T14:16:58Z","updated_at":"2021-10-25T14:16:58Z","author_association":"MEMBER","body":"Sorry, this is because the base branch I submitted is not the latest branch of my fork. I didn't use it to pull before submitting to git. Do you have any good suggestions for me to repair this piece of history?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950975892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950981650","html_url":"https://github.com/apache/hudi/issues/3782#issuecomment-950981650","issue_url":"https://api.github.com/repos/apache/hudi/issues/3782","id":950981650,"node_id":"IC_kwDOBI7nWM44rtQS","user":{"login":"ChiehFu","id":11819388,"node_id":"MDQ6VXNlcjExODE5Mzg4","avatar_url":"https://avatars.githubusercontent.com/u/11819388?v=4","gravatar_id":"","url":"https://api.github.com/users/ChiehFu","html_url":"https://github.com/ChiehFu","followers_url":"https://api.github.com/users/ChiehFu/followers","following_url":"https://api.github.com/users/ChiehFu/following{/other_user}","gists_url":"https://api.github.com/users/ChiehFu/gists{/gist_id}","starred_url":"https://api.github.com/users/ChiehFu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChiehFu/subscriptions","organizations_url":"https://api.github.com/users/ChiehFu/orgs","repos_url":"https://api.github.com/users/ChiehFu/repos","events_url":"https://api.github.com/users/ChiehFu/events{/privacy}","received_events_url":"https://api.github.com/users/ChiehFu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T14:22:29Z","updated_at":"2021-10-25T14:22:29Z","author_association":"NONE","body":"Thanks for the update, will verify if those random errors are resolved once the PR is merged.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/950981650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951012177","html_url":"https://github.com/apache/hudi/pull/3817#issuecomment-951012177","issue_url":"https://api.github.com/repos/apache/hudi/issues/3817","id":951012177,"node_id":"IC_kwDOBI7nWM44r0tR","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T14:55:30Z","updated_at":"2021-10-25T14:55:30Z","author_association":"CONTRIBUTOR","body":"not sure if there is any easy out. I see the diff as such is small. So, if its not a hassle, may be create a fresh branch from master and manually copy paste the changes from this patch. And push to this this branch in your remote origin. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951012177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951022359","html_url":"https://github.com/apache/hudi/pull/3820#issuecomment-951022359","issue_url":"https://api.github.com/repos/apache/hudi/issues/3820","id":951022359,"node_id":"IC_kwDOBI7nWM44r3MX","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T15:05:56Z","updated_at":"2021-10-25T15:05:56Z","author_association":"CONTRIBUTOR","body":"@n3nash : This patch is removing a config used in previous releases wrt config used for multi writer for checkpoint migration. would it suffice if we add a section in migration regarding the same. appreciate your inputs here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951022359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951023252","html_url":"https://github.com/apache/hudi/pull/3817#issuecomment-951023252","issue_url":"https://api.github.com/repos/apache/hudi/issues/3817","id":951023252,"node_id":"IC_kwDOBI7nWM44r3aU","user":{"login":"novakov-alexey-zz","id":11204284,"node_id":"MDQ6VXNlcjExMjA0Mjg0","avatar_url":"https://avatars.githubusercontent.com/u/11204284?v=4","gravatar_id":"","url":"https://api.github.com/users/novakov-alexey-zz","html_url":"https://github.com/novakov-alexey-zz","followers_url":"https://api.github.com/users/novakov-alexey-zz/followers","following_url":"https://api.github.com/users/novakov-alexey-zz/following{/other_user}","gists_url":"https://api.github.com/users/novakov-alexey-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/novakov-alexey-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/novakov-alexey-zz/subscriptions","organizations_url":"https://api.github.com/users/novakov-alexey-zz/orgs","repos_url":"https://api.github.com/users/novakov-alexey-zz/repos","events_url":"https://api.github.com/users/novakov-alexey-zz/events{/privacy}","received_events_url":"https://api.github.com/users/novakov-alexey-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T15:06:47Z","updated_at":"2021-10-25T15:07:02Z","author_association":"NONE","body":"I usually use git commit cherry-pick if I need to create new branch with particular commits from another branch. You can try it as well ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951023252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951025126","html_url":"https://github.com/apache/hudi/pull/3769#issuecomment-951025126","issue_url":"https://api.github.com/repos/apache/hudi/issues/3769","id":951025126,"node_id":"IC_kwDOBI7nWM44r33m","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T15:08:36Z","updated_at":"2021-10-25T15:08:36Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951025126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951029767","html_url":"https://github.com/apache/hudi/pull/3817#issuecomment-951029767","issue_url":"https://api.github.com/repos/apache/hudi/issues/3817","id":951029767,"node_id":"IC_kwDOBI7nWM44r5AH","user":{"login":"Carl-Zhou-CN","id":67902676,"node_id":"MDQ6VXNlcjY3OTAyNjc2","avatar_url":"https://avatars.githubusercontent.com/u/67902676?v=4","gravatar_id":"","url":"https://api.github.com/users/Carl-Zhou-CN","html_url":"https://github.com/Carl-Zhou-CN","followers_url":"https://api.github.com/users/Carl-Zhou-CN/followers","following_url":"https://api.github.com/users/Carl-Zhou-CN/following{/other_user}","gists_url":"https://api.github.com/users/Carl-Zhou-CN/gists{/gist_id}","starred_url":"https://api.github.com/users/Carl-Zhou-CN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Carl-Zhou-CN/subscriptions","organizations_url":"https://api.github.com/users/Carl-Zhou-CN/orgs","repos_url":"https://api.github.com/users/Carl-Zhou-CN/repos","events_url":"https://api.github.com/users/Carl-Zhou-CN/events{/privacy}","received_events_url":"https://api.github.com/users/Carl-Zhou-CN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T15:13:06Z","updated_at":"2021-10-25T15:13:06Z","author_association":"MEMBER","body":"Okay, thank you both for your suggestions, I will try","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951029767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951158019","html_url":"https://github.com/apache/hudi/pull/3776#issuecomment-951158019","issue_url":"https://api.github.com/repos/apache/hudi/issues/3776","id":951158019,"node_id":"IC_kwDOBI7nWM44sYUD","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T17:45:59Z","updated_at":"2021-10-25T17:45:59Z","author_association":"CONTRIBUTOR","body":"@nsivabalan I had noticed this already. Actually this problem exists with other sub pages as well. Let me take a look and check.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951158019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951208053","html_url":"https://github.com/apache/hudi/pull/3862#issuecomment-951208053","issue_url":"https://api.github.com/repos/apache/hudi/issues/3862","id":951208053,"node_id":"IC_kwDOBI7nWM44skh1","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T18:48:24Z","updated_at":"2021-10-25T19:52:04Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2c0fb9452e6a703ed4a27139df837ec37e90885b\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2838\",\n    \"triggerID\" : \"2c0fb9452e6a703ed4a27139df837ec37e90885b\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2c0fb9452e6a703ed4a27139df837ec37e90885b Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2838) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951208053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951223283","html_url":"https://github.com/apache/hudi/pull/3824#issuecomment-951223283","issue_url":"https://api.github.com/repos/apache/hudi/issues/3824","id":951223283,"node_id":"IC_kwDOBI7nWM44soPz","user":{"login":"davehagman","id":73851873,"node_id":"MDQ6VXNlcjczODUxODcz","avatar_url":"https://avatars.githubusercontent.com/u/73851873?v=4","gravatar_id":"","url":"https://api.github.com/users/davehagman","html_url":"https://github.com/davehagman","followers_url":"https://api.github.com/users/davehagman/followers","following_url":"https://api.github.com/users/davehagman/following{/other_user}","gists_url":"https://api.github.com/users/davehagman/gists{/gist_id}","starred_url":"https://api.github.com/users/davehagman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davehagman/subscriptions","organizations_url":"https://api.github.com/users/davehagman/orgs","repos_url":"https://api.github.com/users/davehagman/repos","events_url":"https://api.github.com/users/davehagman/events{/privacy}","received_events_url":"https://api.github.com/users/davehagman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T19:07:49Z","updated_at":"2021-10-25T19:08:10Z","author_association":"CONTRIBUTOR","body":"@nsivabalan [These tests](https://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build/results?buildId=2837&view=logs&j=600e7de6-e133-5e69-e615-50ee129b3c08&t=bbbd7bcc-ae73-56b8-887a-cd2d6deaafc7&l=6194) are failing even on the master branch for me. Are you able to reproduce this locally? I'm unsure how my changes could have affecting these tests but I'll continue to look into it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951223283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951225769","html_url":"https://github.com/apache/hudi/pull/3824#issuecomment-951225769","issue_url":"https://api.github.com/repos/apache/hudi/issues/3824","id":951225769,"node_id":"IC_kwDOBI7nWM44so2p","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T19:10:44Z","updated_at":"2021-10-25T19:10:44Z","author_association":"CONTRIBUTOR","body":"yeah, master is broken ATM. I have put up a [patch](https://github.com/apache/hudi/pull/3862) to fix that. once CI succeeds, will merge the fix in.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951225769/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951362976","html_url":"https://github.com/apache/hudi/pull/3668#issuecomment-951362976","issue_url":"https://api.github.com/repos/apache/hudi/issues/3668","id":951362976,"node_id":"IC_kwDOBI7nWM44tKWg","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T21:57:22Z","updated_at":"2021-10-25T21:57:22Z","author_association":"NONE","body":"This feature is amazing, long-awaited functionality.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951362976/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951439844","html_url":"https://github.com/apache/hudi/pull/3863#issuecomment-951439844","issue_url":"https://api.github.com/repos/apache/hudi/issues/3863","id":951439844,"node_id":"IC_kwDOBI7nWM44tdHk","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T00:18:15Z","updated_at":"2021-10-26T00:18:15Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951439844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951446071","html_url":"https://github.com/apache/hudi/pull/3863#issuecomment-951446071","issue_url":"https://api.github.com/repos/apache/hudi/issues/3863","id":951446071,"node_id":"IC_kwDOBI7nWM44teo3","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T00:29:51Z","updated_at":"2021-10-26T01:41:23Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f227da1bb2ada65471fe9d68221138af2a55e73d\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2839\",\n    \"triggerID\" : \"f227da1bb2ada65471fe9d68221138af2a55e73d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f227da1bb2ada65471fe9d68221138af2a55e73d Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2839) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951446071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951455191","html_url":"https://github.com/apache/hudi/issues/3841#issuecomment-951455191","issue_url":"https://api.github.com/repos/apache/hudi/issues/3841","id":951455191,"node_id":"IC_kwDOBI7nWM44tg3X","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T00:46:03Z","updated_at":"2021-10-26T00:46:03Z","author_association":"CONTRIBUTOR","body":"Also, were you enabling hoodie.deltastreamer.schemaprovider.spark_avro_post_processor.enable even with 080. \r\nIf you can enable logs and give us more info around whats the schema of existing table, whats the schema of records from kafka and whats the resolved schema before writing to hudi for the batch running into issues, would help. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951455191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951457674","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-951457674","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":951457674,"node_id":"IC_kwDOBI7nWM44theK","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T00:52:15Z","updated_at":"2021-10-26T00:52:15Z","author_association":"CONTRIBUTOR","body":"> > > @dongkelun I reproduce this using the table in UT in my local env, `ClassCastException` is raised. The detail trace stack: `Caused by: java.lang.ClassCastException: org.apache.spark.unsafe.types.UTF8String cannot be cast to java.lang.Integer at org.apache.hudi.sql.payload.ExpressionPayloadEvaluator_228eb15b_f549_4127_a201_a71c459c1f61.eval(Unknown Source) at org.apache.spark.sql.hudi.command.payload.ExpressionPayload.evaluate(ExpressionPayload.scala:258) `\r\n> > > is it same with yours?\r\n> > \r\n> > \r\n> > Sorry, I don't know what UT is or how to use it. Is UTC time set or something else?\r\n> \r\n> I mean UT is unit test. sql is run as followed :\r\n> \r\n> create table h0 ( id int, name string, price double, ts long, dt string) using hudi options (primaryKey ='id', preCombineField = 'ts');\r\n> \r\n> merge into h0 as t0 using (select 1 as ID, 'a1' as NAME, 1111 as TS, '2021-05-05' as DT, 111 as PRICE) as s0 on t0.id = s0.id when matched then update set * when not matched then insert *;\r\n\r\nI haven't encountered such an exception. I can run unit test cases in the local Windows environment. I tried your SQL and there was no problem. It can run normally","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951457674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951477470","html_url":"https://github.com/apache/hudi/issues/3852#issuecomment-951477470","issue_url":"https://api.github.com/repos/apache/hudi/issues/3852","id":951477470,"node_id":"IC_kwDOBI7nWM44tmTe","user":{"login":"JySongWithZhangCe","id":22467785,"node_id":"MDQ6VXNlcjIyNDY3Nzg1","avatar_url":"https://avatars.githubusercontent.com/u/22467785?v=4","gravatar_id":"","url":"https://api.github.com/users/JySongWithZhangCe","html_url":"https://github.com/JySongWithZhangCe","followers_url":"https://api.github.com/users/JySongWithZhangCe/followers","following_url":"https://api.github.com/users/JySongWithZhangCe/following{/other_user}","gists_url":"https://api.github.com/users/JySongWithZhangCe/gists{/gist_id}","starred_url":"https://api.github.com/users/JySongWithZhangCe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JySongWithZhangCe/subscriptions","organizations_url":"https://api.github.com/users/JySongWithZhangCe/orgs","repos_url":"https://api.github.com/users/JySongWithZhangCe/repos","events_url":"https://api.github.com/users/JySongWithZhangCe/events{/privacy}","received_events_url":"https://api.github.com/users/JySongWithZhangCe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T01:42:15Z","updated_at":"2021-10-26T01:42:15Z","author_association":"NONE","body":"> @JySongWithZhangCe have you checked `org.apache.hudi.utilities.HoodieSnapshotExporter` for this purpose?\r\n\r\nI will check `org.apache.hudi.utilities.HoodieSnapshotExporter`\r\nThx:)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951477470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951478890","html_url":"https://github.com/apache/hudi/pull/3820#issuecomment-951478890","issue_url":"https://api.github.com/repos/apache/hudi/issues/3820","id":951478890,"node_id":"IC_kwDOBI7nWM44tmpq","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T01:46:05Z","updated_at":"2021-10-26T01:46:05Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951478890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951479026","html_url":"https://github.com/apache/hudi/pull/3824#issuecomment-951479026","issue_url":"https://api.github.com/repos/apache/hudi/issues/3824","id":951479026,"node_id":"IC_kwDOBI7nWM44tmry","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T01:46:21Z","updated_at":"2021-10-26T01:46:21Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951479026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951479170","html_url":"https://github.com/apache/hudi/pull/3861#issuecomment-951479170","issue_url":"https://api.github.com/repos/apache/hudi/issues/3861","id":951479170,"node_id":"IC_kwDOBI7nWM44tmuC","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T01:46:41Z","updated_at":"2021-10-26T01:46:41Z","author_association":"CONTRIBUTOR","body":"@hudi-bot azure run","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951479170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951490405","html_url":"https://github.com/apache/hudi/issues/3782#issuecomment-951490405","issue_url":"https://api.github.com/repos/apache/hudi/issues/3782","id":951490405,"node_id":"IC_kwDOBI7nWM44tpdl","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T02:12:42Z","updated_at":"2021-10-26T02:12:42Z","author_association":"CONTRIBUTOR","body":"We should keep the issue open only if we make sure that https://github.com/apache/hudi/pull/3824 does fix theses problems in the issue. Re-open it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951490405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951505765","html_url":"https://github.com/apache/hudi/pull/3614#issuecomment-951505765","issue_url":"https://api.github.com/repos/apache/hudi/issues/3614","id":951505765,"node_id":"IC_kwDOBI7nWM44ttNl","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T02:41:52Z","updated_at":"2021-10-26T02:41:52Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951505765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951541561","html_url":"https://github.com/apache/hudi/pull/3864#issuecomment-951541561","issue_url":"https://api.github.com/repos/apache/hudi/issues/3864","id":951541561,"node_id":"IC_kwDOBI7nWM44t185","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T04:11:22Z","updated_at":"2021-10-26T07:33:09Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ecfbe0d3a37de6aa41078e857975932f18dd78f0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2843\",\n    \"triggerID\" : \"ecfbe0d3a37de6aa41078e857975932f18dd78f0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"50f15722df9c3ab0bc36cf071bf4ca0fae1a7bff\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2846\",\n    \"triggerID\" : \"50f15722df9c3ab0bc36cf071bf4ca0fae1a7bff\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 50f15722df9c3ab0bc36cf071bf4ca0fae1a7bff Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2846) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951541561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951606084","html_url":"https://github.com/apache/hudi/issues/3852#issuecomment-951606084","issue_url":"https://api.github.com/repos/apache/hudi/issues/3852","id":951606084,"node_id":"IC_kwDOBI7nWM44uFtE","user":{"login":"JySongWithZhangCe","id":22467785,"node_id":"MDQ6VXNlcjIyNDY3Nzg1","avatar_url":"https://avatars.githubusercontent.com/u/22467785?v=4","gravatar_id":"","url":"https://api.github.com/users/JySongWithZhangCe","html_url":"https://github.com/JySongWithZhangCe","followers_url":"https://api.github.com/users/JySongWithZhangCe/followers","following_url":"https://api.github.com/users/JySongWithZhangCe/following{/other_user}","gists_url":"https://api.github.com/users/JySongWithZhangCe/gists{/gist_id}","starred_url":"https://api.github.com/users/JySongWithZhangCe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JySongWithZhangCe/subscriptions","organizations_url":"https://api.github.com/users/JySongWithZhangCe/orgs","repos_url":"https://api.github.com/users/JySongWithZhangCe/repos","events_url":"https://api.github.com/users/JySongWithZhangCe/events{/privacy}","received_events_url":"https://api.github.com/users/JySongWithZhangCe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T06:34:52Z","updated_at":"2021-10-26T06:34:52Z","author_association":"NONE","body":"> @JySongWithZhangCe have you checked `org.apache.hudi.utilities.HoodieSnapshotExporter` for this purpose?\r\n\r\nI've checked `org.apache.hudi.utilities.HoodieSnapshotExporter`\r\nThis class Initially meet the demand\r\nThanks♪(･ω･)ﾉ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951606084/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951668308","html_url":"https://github.com/apache/hudi/pull/3836#issuecomment-951668308","issue_url":"https://api.github.com/repos/apache/hudi/issues/3836","id":951668308,"node_id":"IC_kwDOBI7nWM44uU5U","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T08:08:19Z","updated_at":"2021-10-26T08:08:19Z","author_association":"MEMBER","body":"@nsivabalan Description updated.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951668308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951678020","html_url":"https://github.com/apache/hudi/pull/3614#issuecomment-951678020","issue_url":"https://api.github.com/repos/apache/hudi/issues/3614","id":951678020,"node_id":"IC_kwDOBI7nWM44uXRE","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T08:13:06Z","updated_at":"2021-10-26T08:13:06Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951678020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951685884","html_url":"https://github.com/apache/hudi/issues/3680#issuecomment-951685884","issue_url":"https://api.github.com/repos/apache/hudi/issues/3680","id":951685884,"node_id":"IC_kwDOBI7nWM44uZL8","user":{"login":"Cherry-Puppy","id":46736583,"node_id":"MDQ6VXNlcjQ2NzM2NTgz","avatar_url":"https://avatars.githubusercontent.com/u/46736583?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherry-Puppy","html_url":"https://github.com/Cherry-Puppy","followers_url":"https://api.github.com/users/Cherry-Puppy/followers","following_url":"https://api.github.com/users/Cherry-Puppy/following{/other_user}","gists_url":"https://api.github.com/users/Cherry-Puppy/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherry-Puppy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherry-Puppy/subscriptions","organizations_url":"https://api.github.com/users/Cherry-Puppy/orgs","repos_url":"https://api.github.com/users/Cherry-Puppy/repos","events_url":"https://api.github.com/users/Cherry-Puppy/events{/privacy}","received_events_url":"https://api.github.com/users/Cherry-Puppy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T08:16:39Z","updated_at":"2021-10-26T08:16:39Z","author_association":"NONE","body":"> Did your program throw the same exception in this issue ? Did you also specify the bundle jar through `-j` option ?\r\n\r\nERROR org.apache.hudi.sink.StreamWriteOperatorCoordinator - Executor executes action [sync hive metadata for instant 20211026160244] error\r\njava.lang.ExceptionInInitializerError: null\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.reloadFunctions(Hive.java:247) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.registerAllFunctionsOnce(Hive.java:231) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.<init>(Hive.java:388) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.create(Hive.java:332) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.getInternal(Hive.java:312) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.get(Hive.java:288) ~[?:?]\r\n\tat org.apache.hudi.hive.ddl.HMSDDLExecutor.<init>(HMSDDLExecutor.java:66) ~[?:?]\r\n\tat org.apache.hudi.hive.HoodieHiveClient.<init>(HoodieHiveClient.java:75) ~[?:?]\r\n\tat org.apache.hudi.hive.HiveSyncTool.<init>(HiveSyncTool.java:80) ~[?:?]\r\n\tat org.apache.hudi.sink.utils.HiveSyncContext.hiveSyncTool(HiveSyncContext.java:51) ~[?:?]\r\n\tat org.apache.hudi.sink.StreamWriteOperatorCoordinator.syncHive(StreamWriteOperatorCoordinator.java:305) ~[?:?]\r\n\tat org.apache.hudi.sink.utils.NonThrownExecutor.lambda$execute$0(NonThrownExecutor.java:67) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_232]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_232]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_232]\r\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.hadoop.hive.ql.udf.UDFSubstr\r\n\tat org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.getUdfClass(GenericUDFBridge.java:134) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.FunctionInfo.getFunctionClass(FunctionInfo.java:151) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.Registry.addFunction(Registry.java:519) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:163) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:154) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:147) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.FunctionRegistry.<clinit>(FunctionRegistry.java:194) ~[?:?]\r\n\t... 15 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.hive.ql.udf.UDFSubstr\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[?:1.8.0_232]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_232]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) ~[?:1.8.0_232]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_232]\r\n\tat java.lang.Class.forName0(Native Method) ~[?:1.8.0_232]\r\n\tat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_232]\r\n\tat org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.getUdfClassInternal(GenericUDFBridge.java:142) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.getUdfClass(GenericUDFBridge.java:132) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.FunctionInfo.getFunctionClass(FunctionInfo.java:151) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.Registry.addFunction(Registry.java:519) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:163) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:154) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:147) ~[?:?]\r\n\tat org.apache.hadoop.hive.ql.exec.FunctionRegistry.<clinit>(FunctionRegistry.java:194) ~[?:?]","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951685884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951714733","html_url":"https://github.com/apache/hudi/pull/3864#issuecomment-951714733","issue_url":"https://api.github.com/repos/apache/hudi/issues/3864","id":951714733,"node_id":"IC_kwDOBI7nWM44ugOt","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T08:39:47Z","updated_at":"2021-10-26T08:39:47Z","author_association":"CONTRIBUTOR","body":"cc @leesf @xushiyan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951714733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951718879","html_url":"https://github.com/apache/hudi/pull/3867#issuecomment-951718879","issue_url":"https://api.github.com/repos/apache/hudi/issues/3867","id":951718879,"node_id":"IC_kwDOBI7nWM44uhPf","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T08:45:18Z","updated_at":"2021-10-26T09:49:35Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"73ce430494e7b43b620eab62d4429d0760857caa\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2852\",\n    \"triggerID\" : \"73ce430494e7b43b620eab62d4429d0760857caa\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 73ce430494e7b43b620eab62d4429d0760857caa Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2852) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951718879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951743238","html_url":"https://github.com/apache/hudi/pull/3173#issuecomment-951743238","issue_url":"https://api.github.com/repos/apache/hudi/issues/3173","id":951743238,"node_id":"IC_kwDOBI7nWM44unMG","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T09:15:23Z","updated_at":"2021-10-26T09:15:23Z","author_association":"CONTRIBUTOR","body":"Hi @vinothchandar @leesf , sorry for the long delay caused by my own personal reason. Recently I will focus more on the hudi community. Can we accelerate the patch merge into master together to catch the 0.10.0 release?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951743238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951772398","html_url":"https://github.com/apache/hudi/pull/3830#issuecomment-951772398","issue_url":"https://api.github.com/repos/apache/hudi/issues/3830","id":951772398,"node_id":"IC_kwDOBI7nWM44uuTu","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T09:52:08Z","updated_at":"2021-10-26T09:52:08Z","author_association":"MEMBER","body":"> trying to understand why do we need this change? metadata table is something internally managed. I prefer to enable schema validation always.\r\n\r\nI would prefer to validate the schema as well. This change is just to avoid the flakiness in [TestHoodieDeltaStreamer.testAsyncClusteringServiceWithCompaction](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_apis/build/builds/2725/logs/61). By default the schema validation is turned off. It was hardcoded to true for metadata table.\r\n\r\nHowever, on a high level, my thinking is even though the metadata table is internally managed shouldn't we have the data table configs govern the metadata table configs as well instead of hardcoding values? This may not be true for all configs but for some we can inherit the configs directly from the data table. For instance, let's take the scehma validation config. For whatever reason (efficiency, or avoid validation failure), user wants it to be turned off doesn't it make sense to turn it off for the metadata table as well for those same reasons? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951772398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951791051","html_url":"https://github.com/apache/hudi/issues/3853#issuecomment-951791051","issue_url":"https://api.github.com/repos/apache/hudi/issues/3853","id":951791051,"node_id":"IC_kwDOBI7nWM44uy3L","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T10:15:54Z","updated_at":"2021-10-26T10:15:54Z","author_association":"MEMBER","body":"That's strange! The aprk-submit command in the [blog](https://hudi.apache.org/blog/2021/08/23/s3-events-source#configuration-and-setup) did work on EMR. \r\nCan you search for the class in the jar:\r\n```\r\njar tf /home/hadoop/hudi/hudi-utilities-bundle_2.11-0.9.0.jar | grep S3EventsSource\r\n```\r\nAlso, I found this on SO: https://stackoverflow.com/questions/63787178/apache-hudi-deltastreamer-throwing-exception-in-thread-main-org-apache-hudi-co\r\n\r\nIt suggests to keep `--jars` before `--class` (which is fine in your case), but the class name should be quoted and remove the jar from `--class` value. Could you please give it a try and share the complete stacktrace if it fails again. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951791051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951797914","html_url":"https://github.com/apache/hudi/issues/3848#issuecomment-951797914","issue_url":"https://api.github.com/repos/apache/hudi/issues/3848","id":951797914,"node_id":"IC_kwDOBI7nWM44u0ia","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T10:24:52Z","updated_at":"2021-10-26T10:24:52Z","author_association":"MEMBER","body":"I have tried with the latest master and cannot reproduce. This patch should fix it: #3364 \r\nCan you give it a shot?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951797914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951844216","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-951844216","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":951844216,"node_id":"IC_kwDOBI7nWM44u_14","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T11:32:14Z","updated_at":"2021-10-26T11:32:14Z","author_association":"CONTRIBUTOR","body":"> > > @dongkelun I reproduce this using the table in UT in my local env, `ClassCastException` is raised. The detail trace stack: `Caused by: java.lang.ClassCastException: org.apache.spark.unsafe.types.UTF8String cannot be cast to java.lang.Integer at org.apache.hudi.sql.payload.ExpressionPayloadEvaluator_228eb15b_f549_4127_a201_a71c459c1f61.eval(Unknown Source) at org.apache.spark.sql.hudi.command.payload.ExpressionPayload.evaluate(ExpressionPayload.scala:258) `\r\n> > > is it same with yours?\r\n> > \r\n> > \r\n> > Sorry, I don't know what UT is or how to use it. Is UTC time set or something else?\r\n> \r\n> I mean UT is unit test. sql is run as followed :\r\n> \r\n> create table h0 ( id int, name string, price double, ts long, dt string) using hudi options (primaryKey ='id', preCombineField = 'ts');\r\n> \r\n> merge into h0 as t0 using (select 1 as ID, 'a1' as NAME, 1111 as TS, '2021-05-05' as DT, 111 as PRICE) as s0 on t0.id = s0.id when matched then update set * when not matched then insert *;\r\n\r\n@YannByron hello,I encountered a similar problem when I added test cases for condition and action to ignore case matching\r\n\r\n```scala\r\nCaused by: java.lang.RuntimeException: Error in execute expression: org.apache.spark.unsafe.types.UTF8String cannot be cast to java.lang.Double.\r\nExpressions is: [boundreference() AS `ID`  boundreference() AS `NAME`  (CAST(boundreference() AS DOUBLE) + boundreference()) AS `PRICE`  CAST(boundreference() AS `TS` AS BIGINT)  boundreference() AS `DT`]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951844216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951852796","html_url":"https://github.com/apache/hudi/pull/3761#issuecomment-951852796","issue_url":"https://api.github.com/repos/apache/hudi/issues/3761","id":951852796,"node_id":"IC_kwDOBI7nWM44vB78","user":{"login":"peanut-chenzhong","id":58263343,"node_id":"MDQ6VXNlcjU4MjYzMzQz","avatar_url":"https://avatars.githubusercontent.com/u/58263343?v=4","gravatar_id":"","url":"https://api.github.com/users/peanut-chenzhong","html_url":"https://github.com/peanut-chenzhong","followers_url":"https://api.github.com/users/peanut-chenzhong/followers","following_url":"https://api.github.com/users/peanut-chenzhong/following{/other_user}","gists_url":"https://api.github.com/users/peanut-chenzhong/gists{/gist_id}","starred_url":"https://api.github.com/users/peanut-chenzhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peanut-chenzhong/subscriptions","organizations_url":"https://api.github.com/users/peanut-chenzhong/orgs","repos_url":"https://api.github.com/users/peanut-chenzhong/repos","events_url":"https://api.github.com/users/peanut-chenzhong/events{/privacy}","received_events_url":"https://api.github.com/users/peanut-chenzhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T11:45:32Z","updated_at":"2021-10-26T11:45:32Z","author_association":"CONTRIBUTOR","body":"@xushiyan  PR rebased and added UT for this scenario","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951852796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951853549","html_url":"https://github.com/apache/hudi/pull/3761#issuecomment-951853549","issue_url":"https://api.github.com/repos/apache/hudi/issues/3761","id":951853549,"node_id":"IC_kwDOBI7nWM44vCHt","user":{"login":"peanut-chenzhong","id":58263343,"node_id":"MDQ6VXNlcjU4MjYzMzQz","avatar_url":"https://avatars.githubusercontent.com/u/58263343?v=4","gravatar_id":"","url":"https://api.github.com/users/peanut-chenzhong","html_url":"https://github.com/peanut-chenzhong","followers_url":"https://api.github.com/users/peanut-chenzhong/followers","following_url":"https://api.github.com/users/peanut-chenzhong/following{/other_user}","gists_url":"https://api.github.com/users/peanut-chenzhong/gists{/gist_id}","starred_url":"https://api.github.com/users/peanut-chenzhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peanut-chenzhong/subscriptions","organizations_url":"https://api.github.com/users/peanut-chenzhong/orgs","repos_url":"https://api.github.com/users/peanut-chenzhong/repos","events_url":"https://api.github.com/users/peanut-chenzhong/events{/privacy}","received_events_url":"https://api.github.com/users/peanut-chenzhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T11:46:40Z","updated_at":"2021-10-26T11:46:40Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951853549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951867239","html_url":"https://github.com/apache/hudi/pull/3799#issuecomment-951867239","issue_url":"https://api.github.com/repos/apache/hudi/issues/3799","id":951867239,"node_id":"IC_kwDOBI7nWM44vFdn","user":{"login":"fuyun2024","id":26080592,"node_id":"MDQ6VXNlcjI2MDgwNTky","avatar_url":"https://avatars.githubusercontent.com/u/26080592?v=4","gravatar_id":"","url":"https://api.github.com/users/fuyun2024","html_url":"https://github.com/fuyun2024","followers_url":"https://api.github.com/users/fuyun2024/followers","following_url":"https://api.github.com/users/fuyun2024/following{/other_user}","gists_url":"https://api.github.com/users/fuyun2024/gists{/gist_id}","starred_url":"https://api.github.com/users/fuyun2024/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fuyun2024/subscriptions","organizations_url":"https://api.github.com/users/fuyun2024/orgs","repos_url":"https://api.github.com/users/fuyun2024/repos","events_url":"https://api.github.com/users/fuyun2024/events{/privacy}","received_events_url":"https://api.github.com/users/fuyun2024/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T12:00:51Z","updated_at":"2021-10-26T12:00:51Z","author_association":"CONTRIBUTOR","body":"@codope @vinothchandar anything else should i do, to achive this commit","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951867239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951901867","html_url":"https://github.com/apache/hudi/issues/3755#issuecomment-951901867","issue_url":"https://api.github.com/repos/apache/hudi/issues/3755","id":951901867,"node_id":"IC_kwDOBI7nWM44vN6r","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T12:44:13Z","updated_at":"2021-10-26T12:44:13Z","author_association":"MEMBER","body":"> I have a question, when Hudi does delta commit, if data is new , it need append them to exist parquet file. meanwhile may cause concurrent issue with async compaction thread if compaction plan contains same parquet file，how Hudi avoid that？\r\n\r\nThe compactor does filter out file groups in pending compaction while generating compaction plan. [Check this](https://github.com/apache/hudi/blob/e3fc74668fc43fefd73087ff725245b8ed85b4a1/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/compact/HoodieCompactor.java#L262).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951901867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951903558","html_url":"https://github.com/apache/hudi/pull/3799#issuecomment-951903558","issue_url":"https://api.github.com/repos/apache/hudi/issues/3799","id":951903558,"node_id":"IC_kwDOBI7nWM44vOVG","user":{"login":"fuyun2024","id":26080592,"node_id":"MDQ6VXNlcjI2MDgwNTky","avatar_url":"https://avatars.githubusercontent.com/u/26080592?v=4","gravatar_id":"","url":"https://api.github.com/users/fuyun2024","html_url":"https://github.com/fuyun2024","followers_url":"https://api.github.com/users/fuyun2024/followers","following_url":"https://api.github.com/users/fuyun2024/following{/other_user}","gists_url":"https://api.github.com/users/fuyun2024/gists{/gist_id}","starred_url":"https://api.github.com/users/fuyun2024/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fuyun2024/subscriptions","organizations_url":"https://api.github.com/users/fuyun2024/orgs","repos_url":"https://api.github.com/users/fuyun2024/repos","events_url":"https://api.github.com/users/fuyun2024/events{/privacy}","received_events_url":"https://api.github.com/users/fuyun2024/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T12:46:26Z","updated_at":"2021-10-26T12:46:26Z","author_association":"CONTRIBUTOR","body":"it was my first time modifying PR online in github, not familiar enough with the operation. I correct it a moment ago, please check it again.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951903558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951914894","html_url":"https://github.com/apache/hudi/issues/3755#issuecomment-951914894","issue_url":"https://api.github.com/repos/apache/hudi/issues/3755","id":951914894,"node_id":"IC_kwDOBI7nWM44vRGO","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T13:00:52Z","updated_at":"2021-10-26T13:00:52Z","author_association":"MEMBER","body":"> I found two sparkHoodieBloomIndex were running, is that means two writers ran parallelism？\r\n\r\nI believe those are part of the same writer process. Hudi performs index lookup to get existing location of records. As part of that, it will tag the incoming records as inserts or updates, by joining with existing record keys. So you see two mapToPair calls. Check [SparkHoodieBloomIndex#tagLocation](https://github.com/apache/hudi/blob/e3fc74668fc43fefd73087ff725245b8ed85b4a1/hudi-client/hudi-spark-client/src/main/java/org/apache/hudi/index/bloom/SparkHoodieBloomIndex.java#L70) method. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951914894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951918490","html_url":"https://github.com/apache/hudi/issues/3755#issuecomment-951918490","issue_url":"https://api.github.com/repos/apache/hudi/issues/3755","id":951918490,"node_id":"IC_kwDOBI7nWM44vR-a","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T13:04:50Z","updated_at":"2021-10-26T13:04:50Z","author_association":"MEMBER","body":"@fengjian428 How frequently are you facing this issue? You mentioned earlier that:\r\n> this table was create by Delta streamer's SqlSource from another table, but when ingest real-time data from kafka with kafkasource, the compaction dose not work, I need shutdown Delta streamer and start it again, then compaction works\r\n\r\nSeems like a dangling file due to failed commit. Given the symptoms, would it be possible for you to write a unit test? Or even just list the steps to help me reproduce?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951918490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951963942","html_url":"https://github.com/apache/hudi/issues/3755#issuecomment-951963942","issue_url":"https://api.github.com/repos/apache/hudi/issues/3755","id":951963942,"node_id":"IC_kwDOBI7nWM44vdEm","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T13:53:44Z","updated_at":"2021-10-26T13:53:44Z","author_association":"CONTRIBUTOR","body":"> streamer\r\n\r\nthis should only happens when table has massive update.  In my case, it's a 10 TB size table,   millions records in every batch from kafka，and those records cause TBs file written.\r\nI found if use mor mode with default configuration, after running few hours, the compaction plan was unreasonable, then this error happen, there also a lot of small file in HDFS.  If I change async compaction to sync, it work fine","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951963942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951965505","html_url":"https://github.com/apache/hudi/issues/3870#issuecomment-951965505","issue_url":"https://api.github.com/repos/apache/hudi/issues/3870","id":951965505,"node_id":"IC_kwDOBI7nWM44vddB","user":{"login":"atharvai","id":14027470,"node_id":"MDQ6VXNlcjE0MDI3NDcw","avatar_url":"https://avatars.githubusercontent.com/u/14027470?v=4","gravatar_id":"","url":"https://api.github.com/users/atharvai","html_url":"https://github.com/atharvai","followers_url":"https://api.github.com/users/atharvai/followers","following_url":"https://api.github.com/users/atharvai/following{/other_user}","gists_url":"https://api.github.com/users/atharvai/gists{/gist_id}","starred_url":"https://api.github.com/users/atharvai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atharvai/subscriptions","organizations_url":"https://api.github.com/users/atharvai/orgs","repos_url":"https://api.github.com/users/atharvai/repos","events_url":"https://api.github.com/users/atharvai/events{/privacy}","received_events_url":"https://api.github.com/users/atharvai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T13:55:24Z","updated_at":"2021-10-26T13:55:24Z","author_association":"NONE","body":"```\r\n           __                      __ _\r\n          / /____ _ _   __ ____ _ / /(_)____\r\n     __  / // __ `/| | / // __ `// // // __ \\\r\n    / /_/ // /_/ / | |/ // /_/ // // // / / /\r\n    \\____/ \\__,_/  |___/ \\__,_//_//_//_/ /_/\r\nhudi:phe_london_covid_cases->\r\n        https://javalin.io/documentation\r\nhudi:phe_london_covid_cases->\r\n21/10/26 13:51:52 INFO Javalin: Starting Javalin ...\r\n21/10/26 13:51:52 INFO Server: jetty-9.4.20.v20190813; built: 2019-08-13T21:28:18.144Z; git: 84700530e645e812b336747464d6fbbf370c9a20; jvm 1.8.0_302-b08\r\n21/10/26 13:51:52 INFO Server: Started @29666ms\r\n21/10/26 13:51:52 INFO Javalin: Listening on http://localhost:39451/\r\n21/10/26 13:51:52 INFO Javalin: Javalin started in 160ms \\o/\r\n21/10/26 13:51:53 INFO S3NativeFileSystem: Opening 's3://<mybucket>/phe_london_covid_cases/.hoodie/hoodie.properties' for reading\r\n21/10/26 13:51:53 INFO MultipartUploadOutputStream: close closed:false s3://<mybucket>/phe_london_covid_cases/.hoodie/20211026135153.restore.inflight\r\n21/10/26 13:51:54 WARN SparkMain: The commit \"20211021104635\" failed to roll back.\r\n21/10/26 13:51:54 INFO SparkContext: Invoking stop() from shutdown hook\r\n21/10/26 13:51:54 INFO AbstractConnector: Stopped Spark@73877e19{HTTP/1.1, (http/1.1)}{0.0.0.0:4040}\r\n21/10/26 13:51:54 INFO SparkUI: Stopped Spark web UI at http://ip-10-21-176-60.eu-west-1.compute.internal:4040\r\n21/10/26 13:51:54 INFO YarnClientSchedulerBackend: Interrupting monitor thread\r\n21/10/26 13:51:54 INFO YarnClientSchedulerBackend: Shutting down all executors\r\n21/10/26 13:51:54 INFO YarnSchedulerBackend$YarnDriverEndpoint: Asking each executor to shut down\r\n21/10/26 13:51:54 INFO YarnClientSchedulerBackend: YARN client scheduler backend Stopped\r\n21/10/26 13:51:54 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n21/10/26 13:51:54 INFO MemoryStore: MemoryStore cleared\r\n21/10/26 13:51:54 INFO BlockManager: BlockManager stopped\r\n21/10/26 13:51:54 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n21/10/26 13:51:54 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n21/10/26 13:51:54 INFO SparkContext: Successfully stopped SparkContext\r\n21/10/26 13:51:54 INFO ShutdownHookManager: Shutdown hook called\r\n21/10/26 13:51:54 INFO ShutdownHookManager: Deleting directory /mnt/tmp/spark-5e36e1aa-42d6-43a0-ac12-4bd6d7dfee9f\r\n21/10/26 13:51:54 INFO ShutdownHookManager: Deleting directory /mnt/tmp/spark-4d065ddb-64c7-451d-a237-de75ccdf0049\r\nhudi:phe_london_covid_cases->2021-10-26 13:51:54,493 INFO table.HoodieTableMetaClient: Loading HoodieTableMetaClient from s3://<mybucket>/phe_london_covid_cases\r\n2021-10-26 13:51:54,495 INFO fs.FSUtils: Hadoop Configuration: fs.defaultFS: [hdfs://ip-.eu-west-1.compute.internal:8020], Config:[Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml, yarn-default.xml, yarn-site.xml, hdfs-default.xml, hdfs-site.xml, emrfs-site.xml], FileSystem: [com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem@4471f8fe]\r\n2021-10-26 13:51:54,559 INFO table.HoodieTableConfig: Loading table properties from s3://<mybucket>/phe_london_covid_cases/.hoodie/hoodie.properties\r\n2021-10-26 13:51:54,576 INFO s3n.S3NativeFileSystem: Opening 's3://<mybucket>/phe_london_covid_cases/.hoodie/hoodie.properties' for reading\r\n2021-10-26 13:51:54,593 INFO table.HoodieTableMetaClient: Finished Loading Table of type COPY_ON_WRITE(version=1, baseFileFormat=PARQUET) from s3://<mybucket>/phe_london_covid_cases\r\nSavepoint \"20211021104635\" failed to roll back\r\n\r\nhudi:phe_london_covid_cases->savepoints refresh\r\n2021-10-26 13:52:32,207 INFO table.HoodieTableMetaClient: Loading HoodieTableMetaClient from s3://<mybucket>/phe_london_covid_cases\r\n2021-10-26 13:52:32,208 INFO fs.FSUtils: Hadoop Configuration: fs.defaultFS: [hdfs://ip-.eu-west-1.compute.internal:8020], Config:[Configuration: core-default.xml, core-site.xml, mapred-default.xml, mapred-site.xml, yarn-default.xml, yarn-site.xml, hdfs-default.xml, hdfs-site.xml, emrfs-site.xml], FileSystem: [com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem@4471f8fe]\r\n2021-10-26 13:52:32,254 INFO table.HoodieTableConfig: Loading table properties from s3://<mybucket>/phe_london_covid_cases/.hoodie/hoodie.properties\r\n2021-10-26 13:52:32,254 INFO s3n.S3NativeFileSystem: Opening 's3://<mybucket>/phe_london_covid_cases/.hoodie/hoodie.properties' for reading\r\n2021-10-26 13:52:32,269 INFO table.HoodieTableMetaClient: Finished Loading Table of type COPY_ON_WRITE(version=1, baseFileFormat=PARQUET) from s3://<mybucket>/phe_london_covid_cases\r\nMetadata for table phe_london_covid_cases refreshed.\r\nhudi:phe_london_covid_cases->savepoints show\r\n2021-10-26 13:52:36,242 INFO timeline.HoodieActiveTimeline: Loaded instants [[20211021101613__commit__COMPLETED], [20211021101613__savepoint__COMPLETED], [20211021104001__commit__COMPLETED], [20211021104635__commit__COMPLETED], [20211021104635__savepoint__COMPLETED], [20211021110154__commit__COMPLETED], [20211021110154__savepoint__COMPLETED], [==>20211021121705__restore__INFLIGHT], [==>20211021122414__restore__INFLIGHT], [==>20211021124148__restore__INFLIGHT], [==>20211021125331__restore__INFLIGHT], [==>20211021125532__restore__INFLIGHT], [==>20211021140929__restore__INFLIGHT], [20211026134847__restore__COMPLETED], [==>20211026135153__restore__INFLIGHT]]\r\n╔════════════════╗\r\n║ SavepointTime  ║\r\n╠════════════════╣\r\n║ 20211021110154 ║\r\n╟────────────────╢\r\n║ 20211021104635 ║\r\n╟────────────────╢\r\n║ 20211021101613 ║\r\n╚════════════════╝\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951965505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951981381","html_url":"https://github.com/apache/hudi/issues/3758#issuecomment-951981381","issue_url":"https://api.github.com/repos/apache/hudi/issues/3758","id":951981381,"node_id":"IC_kwDOBI7nWM44vhVF","user":{"login":"absognety","id":25507554,"node_id":"MDQ6VXNlcjI1NTA3NTU0","avatar_url":"https://avatars.githubusercontent.com/u/25507554?v=4","gravatar_id":"","url":"https://api.github.com/users/absognety","html_url":"https://github.com/absognety","followers_url":"https://api.github.com/users/absognety/followers","following_url":"https://api.github.com/users/absognety/following{/other_user}","gists_url":"https://api.github.com/users/absognety/gists{/gist_id}","starred_url":"https://api.github.com/users/absognety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/absognety/subscriptions","organizations_url":"https://api.github.com/users/absognety/orgs","repos_url":"https://api.github.com/users/absognety/repos","events_url":"https://api.github.com/users/absognety/events{/privacy}","received_events_url":"https://api.github.com/users/absognety/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T14:11:20Z","updated_at":"2021-10-26T14:11:20Z","author_association":"NONE","body":"Closing this, we stopped encountering this issue after regulating the parallelism and creating more buckets instead of having single bucket for our application, also added few cluster level configurations suggested from above link.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951981381/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951981643","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-951981643","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":951981643,"node_id":"IC_kwDOBI7nWM44vhZL","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T14:11:35Z","updated_at":"2021-10-26T14:11:35Z","author_association":"CONTRIBUTOR","body":"@dongkelun Sorry, I personally think the previous solution to lowercase fields may not be the best and most correct one. We should dig into the root cause.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951981643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951981890","html_url":"https://github.com/apache/hudi/issues/3868#issuecomment-951981890","issue_url":"https://api.github.com/repos/apache/hudi/issues/3868","id":951981890,"node_id":"IC_kwDOBI7nWM44vhdC","user":{"login":"matthiasdg","id":853674,"node_id":"MDQ6VXNlcjg1MzY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/853674?v=4","gravatar_id":"","url":"https://api.github.com/users/matthiasdg","html_url":"https://github.com/matthiasdg","followers_url":"https://api.github.com/users/matthiasdg/followers","following_url":"https://api.github.com/users/matthiasdg/following{/other_user}","gists_url":"https://api.github.com/users/matthiasdg/gists{/gist_id}","starred_url":"https://api.github.com/users/matthiasdg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthiasdg/subscriptions","organizations_url":"https://api.github.com/users/matthiasdg/orgs","repos_url":"https://api.github.com/users/matthiasdg/repos","events_url":"https://api.github.com/users/matthiasdg/events{/privacy}","received_events_url":"https://api.github.com/users/matthiasdg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T14:11:51Z","updated_at":"2021-10-26T14:29:33Z","author_association":"NONE","body":"Meanwhile experimented with some other versions of hive metastore + mysql running in docker containers (e.g. 2.3.7 cf. spark). Same problems like the hive partition columns missing in the data:\r\n```\r\n21/10/26 16:05:26 WARN HoodieFileIndex: Cannot do the partition prune for table abfss://dev@stsdpglasshouse.dfs.core.windows.net/devs/degeyt70/partitiontests/datalakehouse/vmm.aq_msm.The partitionFragments size (10893,2021,06,30) is not equal to the partition columns size(StructField(sensorId,LongType,false),StructField(timestamp,TimestampType,true))\r\n21/10/26 16:05:28 ERROR Executor: Exception in task 0.0 in stage 6.0 (TID 15) 1]\r\njava.io.IOException: Required column is missing in data file. Col: [hiveid]\r\n\tat org.apache.spark.sql.execution.datasources.parquet.VectorizedParquetRecordReader.initializeInternal(VectorizedParquetRecordReader.java:314)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.VectorizedParquetRecordReader.initialize(VectorizedParquetRecordReader.java:154)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat.$anonfun$buildReaderWithPartitionValues$2(ParquetFileFormat.scala:329)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/951981890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952003386","html_url":"https://github.com/apache/hudi/pull/3614#issuecomment-952003386","issue_url":"https://api.github.com/repos/apache/hudi/issues/3614","id":952003386,"node_id":"IC_kwDOBI7nWM44vms6","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T14:33:24Z","updated_at":"2021-10-26T14:33:24Z","author_association":"CONTRIBUTOR","body":"@liujinhui1994 Did you try to rebase your branch with the master.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952003386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952005376","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-952005376","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":952005376,"node_id":"IC_kwDOBI7nWM44vnMA","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T14:35:40Z","updated_at":"2021-10-26T14:35:40Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n\r\n> @dongkelun Sorry, I personally think the previous solution to lowercase fields may not be the best and most correct one. We should dig into the root cause.\r\n\r\nIn column name matching, I can't think of any better method except to lowercase fields. Can you provide some ideas?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952005376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952084030","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-952084030","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":952084030,"node_id":"IC_kwDOBI7nWM44v6Y-","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T16:00:27Z","updated_at":"2021-10-26T16:00:27Z","author_association":"CONTRIBUTOR","body":"> > @dongkelun Sorry, I personally think the previous solution to lowercase fields may not be the best and most correct one. We should dig into the root cause.\r\n> \r\n> In column name matching, I can't think of any better method except to lowercase fields. Can you provide some ideas?\r\n\r\nFor \r\n\r\n> > > > @dongkelun I reproduce this using the table in UT in my local env, `ClassCastException` is raised. The detail trace stack: `Caused by: java.lang.ClassCastException: org.apache.spark.unsafe.types.UTF8String cannot be cast to java.lang.Integer at org.apache.hudi.sql.payload.ExpressionPayloadEvaluator_228eb15b_f549_4127_a201_a71c459c1f61.eval(Unknown Source) at org.apache.spark.sql.hudi.command.payload.ExpressionPayload.evaluate(ExpressionPayload.scala:258) `\r\n> > > > is it same with yours?\r\n> > > \r\n> > > \r\n> > > Sorry, I don't know what UT is or how to use it. Is UTC time set or something else?\r\n> > \r\n> > \r\n> > I mean UT is unit test. sql is run as followed :\r\n> > create table h0 ( id int, name string, price double, ts long, dt string) using hudi options (primaryKey ='id', preCombineField = 'ts');\r\n> > merge into h0 as t0 using (select 1 as ID, 'a1' as NAME, 1111 as TS, '2021-05-05' as DT, 111 as PRICE) as s0 on t0.id = s0.id when matched then update set * when not matched then insert *;\r\n> \r\n> @YannByron hello,I encountered a similar problem when I added test cases for condition and action to ignore case matching\r\n> \r\n> ```scala\r\n> Caused by: java.lang.RuntimeException: Error in execute expression: org.apache.spark.unsafe.types.UTF8String cannot be cast to java.lang.Double.\r\n> Expressions is: [boundreference() AS `ID`  boundreference() AS `NAME`  (CAST(boundreference() AS DOUBLE) + boundreference()) AS `PRICE`  CAST(boundreference() AS `TS` AS BIGINT)  boundreference() AS `DT`]\r\n> ```\r\n\r\nIs this solved?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952084030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952135431","html_url":"https://github.com/apache/hudi/issues/3839#issuecomment-952135431","issue_url":"https://api.github.com/repos/apache/hudi/issues/3839","id":952135431,"node_id":"IC_kwDOBI7nWM44wG8H","user":{"login":"kywe665","id":1703248,"node_id":"MDQ6VXNlcjE3MDMyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1703248?v=4","gravatar_id":"","url":"https://api.github.com/users/kywe665","html_url":"https://github.com/kywe665","followers_url":"https://api.github.com/users/kywe665/followers","following_url":"https://api.github.com/users/kywe665/following{/other_user}","gists_url":"https://api.github.com/users/kywe665/gists{/gist_id}","starred_url":"https://api.github.com/users/kywe665/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kywe665/subscriptions","organizations_url":"https://api.github.com/users/kywe665/orgs","repos_url":"https://api.github.com/users/kywe665/repos","events_url":"https://api.github.com/users/kywe665/events{/privacy}","received_events_url":"https://api.github.com/users/kywe665/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T17:02:25Z","updated_at":"2021-10-26T17:02:25Z","author_association":"NONE","body":"Hi @laurieliyang I just discovered that it looks like the Chinese localized docs only go up to v0.8.0. I am working to fix this so it also applies to current version. https://issues.apache.org/jira/browse/HUDI-2628 \r\n\r\nI also just submitted a PR for a large docs organization improvement (https://github.com/apache/hudi/pull/3855). I will do some of the basic reorganization for some of the China docs as well, but there will be a few more differences introduced. I would love to collaborate with you if you want to contribute some more localization? I am on the Hudi slack channel if you want to reach out to me there also to collaborate.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952135431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952137960","html_url":"https://github.com/apache/hudi/pull/3671#issuecomment-952137960","issue_url":"https://api.github.com/repos/apache/hudi/issues/3671","id":952137960,"node_id":"IC_kwDOBI7nWM44wHjo","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T17:05:51Z","updated_at":"2021-10-26T17:05:51Z","author_association":"CONTRIBUTOR","body":"> @fengjian428 FYI. error from CI test. seems related to the change\r\n> \r\n> ```\r\n> [ERROR] TestHiveSchemaProvider.testSourceSchema()  Time elapsed: 0.569 s  <<< ERROR!\r\n> org.apache.spark.sql.AnalysisException: \r\n> Hive support is required to CREATE Hive TABLE (AS SELECT);;\r\n> 'CreateTable `schema_registry`.`source_schema_tab`, org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, Ignore\r\n> \r\n> \r\n> [ERROR] TestHiveSchemaProvider.testTargetSchema()  Time elapsed: 0.024 s  <<< ERROR!\r\n> org.apache.spark.sql.AnalysisException: \r\n> Hive support is required to CREATE Hive TABLE (AS SELECT);;\r\n> 'CreateTable `schema_registry`.`source_schema_tab`, org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, Ignore\r\n> \r\n> \r\n> [INFO] \r\n> [INFO] Results:\r\n> [INFO] \r\n> [ERROR] Errors: \r\n> [ERROR]   Hive support is required to CREATE Hive TABLE (AS SELECT);;\r\n> 'CreateTable `schema_registry`.`source_schema_tab`, org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, Ignore\r\n> \r\n> [ERROR]   Hive support is required to CREATE Hive TABLE (AS SELECT);;\r\n> 'CreateTable `schema_registry`.`source_schema_tab`, org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, Ignore\r\n> ```\r\n\r\nThe latest CI is success","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952137960/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952298117","html_url":"https://github.com/apache/hudi/pull/3871#issuecomment-952298117","issue_url":"https://api.github.com/repos/apache/hudi/issues/3871","id":952298117,"node_id":"IC_kwDOBI7nWM44wuqF","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T20:27:45Z","updated_at":"2021-10-26T21:28:37Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ff9411c410ffbc5ce9b18b7ec97e226764062010\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2868\",\n    \"triggerID\" : \"ff9411c410ffbc5ce9b18b7ec97e226764062010\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* ff9411c410ffbc5ce9b18b7ec97e226764062010 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2868) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952298117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952312361","html_url":"https://github.com/apache/hudi/issues/3870#issuecomment-952312361","issue_url":"https://api.github.com/repos/apache/hudi/issues/3870","id":952312361,"node_id":"IC_kwDOBI7nWM44wyIp","user":{"login":"atharvai","id":14027470,"node_id":"MDQ6VXNlcjE0MDI3NDcw","avatar_url":"https://avatars.githubusercontent.com/u/14027470?v=4","gravatar_id":"","url":"https://api.github.com/users/atharvai","html_url":"https://github.com/atharvai","followers_url":"https://api.github.com/users/atharvai/followers","following_url":"https://api.github.com/users/atharvai/following{/other_user}","gists_url":"https://api.github.com/users/atharvai/gists{/gist_id}","starred_url":"https://api.github.com/users/atharvai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atharvai/subscriptions","organizations_url":"https://api.github.com/users/atharvai/orgs","repos_url":"https://api.github.com/users/atharvai/repos","events_url":"https://api.github.com/users/atharvai/events{/privacy}","received_events_url":"https://api.github.com/users/atharvai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T20:46:41Z","updated_at":"2021-10-26T20:46:41Z","author_association":"NONE","body":"Spark history server shows the app has no jobs or stages. seems odd that it looks like a no-op \r\n![image](https://user-images.githubusercontent.com/14027470/138958258-e4257a0a-20cb-43ff-a10b-92e1d09bca7a.png)\r\n![image](https://user-images.githubusercontent.com/14027470/138958332-1d9177f8-02f8-4e85-a347-71b78ba1b870.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952312361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952355364","html_url":"https://github.com/apache/hudi/pull/3173#issuecomment-952355364","issue_url":"https://api.github.com/repos/apache/hudi/issues/3173","id":952355364,"node_id":"IC_kwDOBI7nWM44w8ok","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T21:51:30Z","updated_at":"2021-10-26T21:51:30Z","author_association":"MEMBER","body":"@minihippo yes. we can target this for 0.10.0 . Your take is that this should be ready for landing, after which we can do the follow ons?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952355364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952367956","html_url":"https://github.com/apache/hudi/pull/3866#issuecomment-952367956","issue_url":"https://api.github.com/repos/apache/hudi/issues/3866","id":952367956,"node_id":"IC_kwDOBI7nWM44w_tU","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T22:13:53Z","updated_at":"2021-10-26T22:13:53Z","author_association":"MEMBER","body":"@yihua can you please do a first pass review here?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952367956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952402410","html_url":"https://github.com/apache/hudi/pull/3855#issuecomment-952402410","issue_url":"https://api.github.com/repos/apache/hudi/issues/3855","id":952402410,"node_id":"IC_kwDOBI7nWM44xIHq","user":{"login":"kywe665","id":1703248,"node_id":"MDQ6VXNlcjE3MDMyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1703248?v=4","gravatar_id":"","url":"https://api.github.com/users/kywe665","html_url":"https://github.com/kywe665","followers_url":"https://api.github.com/users/kywe665/followers","following_url":"https://api.github.com/users/kywe665/following{/other_user}","gists_url":"https://api.github.com/users/kywe665/gists{/gist_id}","starred_url":"https://api.github.com/users/kywe665/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kywe665/subscriptions","organizations_url":"https://api.github.com/users/kywe665/orgs","repos_url":"https://api.github.com/users/kywe665/repos","events_url":"https://api.github.com/users/kywe665/events{/privacy}","received_events_url":"https://api.github.com/users/kywe665/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T23:19:05Z","updated_at":"2021-10-26T23:19:05Z","author_association":"NONE","body":"I found that the chinese docs were missing from v0.9.0. Looks like somehow they didn't get versioned at last release? I corrected the issue so that what was localized before continues.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952402410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952457793","html_url":"https://github.com/apache/hudi/issues/3839#issuecomment-952457793","issue_url":"https://api.github.com/repos/apache/hudi/issues/3839","id":952457793,"node_id":"IC_kwDOBI7nWM44xVpB","user":{"login":"laurieliyang","id":11391675,"node_id":"MDQ6VXNlcjExMzkxNjc1","avatar_url":"https://avatars.githubusercontent.com/u/11391675?v=4","gravatar_id":"","url":"https://api.github.com/users/laurieliyang","html_url":"https://github.com/laurieliyang","followers_url":"https://api.github.com/users/laurieliyang/followers","following_url":"https://api.github.com/users/laurieliyang/following{/other_user}","gists_url":"https://api.github.com/users/laurieliyang/gists{/gist_id}","starred_url":"https://api.github.com/users/laurieliyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laurieliyang/subscriptions","organizations_url":"https://api.github.com/users/laurieliyang/orgs","repos_url":"https://api.github.com/users/laurieliyang/repos","events_url":"https://api.github.com/users/laurieliyang/events{/privacy}","received_events_url":"https://api.github.com/users/laurieliyang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T01:24:33Z","updated_at":"2021-10-27T01:24:33Z","author_association":"NONE","body":"> Hi @laurieliyang I just discovered that it looks like the Chinese localized docs only go up to v0.8.0. I am working to fix this so it also applies to current version. https://issues.apache.org/jira/browse/HUDI-2628 \n> \n> \n> \n> I also just submitted a PR for a large docs organization improvement (https://github.com/apache/hudi/pull/3855). I will do some of the basic reorganization for some of the China docs as well, but there will be a few more differences introduced. I would love to collaborate with you if you want to contribute some more localization? I am on the Hudi slack channel if you want to reach out to me there also to collaborate.\n\nHi @kywe665 it sounds greate! I have created 2 PR and 1 have been merged. I would love to help fixing 0.9.0 Chinese docs, following the new organization of docs.\n\nBesides, there is a commit in my second PR fixing the \"Edit this page\" error I talked about in this issue. It works for the organization as well.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952457793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952473543","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-952473543","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":952473543,"node_id":"IC_kwDOBI7nWM44xZfH","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T02:06:23Z","updated_at":"2021-10-27T02:06:23Z","author_association":"CONTRIBUTOR","body":"@hudi-bot  run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952473543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952481648","html_url":"https://github.com/apache/hudi/pull/3614#issuecomment-952481648","issue_url":"https://api.github.com/repos/apache/hudi/issues/3614","id":952481648,"node_id":"IC_kwDOBI7nWM44xbdw","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T02:26:15Z","updated_at":"2021-10-27T02:26:15Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952481648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952510218","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-952510218","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":952510218,"node_id":"IC_kwDOBI7nWM44xicK","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T03:42:03Z","updated_at":"2021-10-27T03:42:03Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952510218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952557838","html_url":"https://github.com/apache/hudi/pull/3778#issuecomment-952557838","issue_url":"https://api.github.com/repos/apache/hudi/issues/3778","id":952557838,"node_id":"IC_kwDOBI7nWM44xuEO","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T05:45:12Z","updated_at":"2021-10-27T05:45:12Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @vinothchandar I addressed all the comments.  Could you take another pass?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952557838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952604834","html_url":"https://github.com/apache/hudi/issues/3680#issuecomment-952604834","issue_url":"https://api.github.com/repos/apache/hudi/issues/3680","id":952604834,"node_id":"IC_kwDOBI7nWM44x5ii","user":{"login":"Cherry-Puppy","id":46736583,"node_id":"MDQ6VXNlcjQ2NzM2NTgz","avatar_url":"https://avatars.githubusercontent.com/u/46736583?v=4","gravatar_id":"","url":"https://api.github.com/users/Cherry-Puppy","html_url":"https://github.com/Cherry-Puppy","followers_url":"https://api.github.com/users/Cherry-Puppy/followers","following_url":"https://api.github.com/users/Cherry-Puppy/following{/other_user}","gists_url":"https://api.github.com/users/Cherry-Puppy/gists{/gist_id}","starred_url":"https://api.github.com/users/Cherry-Puppy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cherry-Puppy/subscriptions","organizations_url":"https://api.github.com/users/Cherry-Puppy/orgs","repos_url":"https://api.github.com/users/Cherry-Puppy/repos","events_url":"https://api.github.com/users/Cherry-Puppy/events{/privacy}","received_events_url":"https://api.github.com/users/Cherry-Puppy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T07:08:45Z","updated_at":"2021-10-27T07:08:45Z","author_association":"NONE","body":"@danny0405 \r\nERROR org.apache.hudi.sink.StreamWriteOperatorCoordinator - Executor executes action [sync hive metadata for instant 20211026160244] error\r\njava.lang.ExceptionInInitializerError: null\r\nat org.apache.hadoop.hive.ql.metadata.Hive.reloadFunctions(Hive.java:247) ~[?:?]\r\nat org.apache.hadoop.hive.ql.metadata.Hive.registerAllFunctionsOnce(Hive.java:231) ~[?:?]\r\nat org.apache.hadoop.hive.ql.metadata.Hive.(Hive.java:388) ~[?:?]\r\nat org.apache.hadoop.hive.ql.metadata.Hive.create(Hive.java:332) ~[?:?]\r\nat org.apache.hadoop.hive.ql.metadata.Hive.getInternal(Hive.java:312) ~[?:?]\r\nat org.apache.hadoop.hive.ql.metadata.Hive.get(Hive.java:288) ~[?:?]\r\nat org.apache.hudi.hive.ddl.HMSDDLExecutor.(HMSDDLExecutor.java:66) ~[?:?]\r\nat org.apache.hudi.hive.HoodieHiveClient.(HoodieHiveClient.java:75) ~[?:?]\r\nat org.apache.hudi.hive.HiveSyncTool.(HiveSyncTool.java:80) ~[?:?]\r\nat org.apache.hudi.sink.utils.HiveSyncContext.hiveSyncTool(HiveSyncContext.java:51) ~[?:?]\r\nat org.apache.hudi.sink.StreamWriteOperatorCoordinator.syncHive(StreamWriteOperatorCoordinator.java:305) ~[?:?]\r\nat org.apache.hudi.sink.utils.NonThrownExecutor.lambda$execute$0(NonThrownExecutor.java:67) ~[?:?]\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_232]\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_232]\r\nat java.lang.Thread.run(Thread.java:748) [?:1.8.0_232]\r\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.hadoop.hive.ql.udf.UDFSubstr\r\nat org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.getUdfClass(GenericUDFBridge.java:134) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.FunctionInfo.getFunctionClass(FunctionInfo.java:151) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.Registry.addFunction(Registry.java:519) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:163) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:154) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:147) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.FunctionRegistry.(FunctionRegistry.java:194) ~[?:?]\r\n... 15 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.hive.ql.udf.UDFSubstr\r\nat java.net.URLClassLoader.findClass(URLClassLoader.java:382) ~[?:1.8.0_232]\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_232]\r\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) ~[?:1.8.0_232]\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_232]\r\nat java.lang.Class.forName0(Native Method) ~[?:1.8.0_232]\r\nat java.lang.Class.forName(Class.java:348) ~[?:1.8.0_232]\r\nat org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.getUdfClassInternal(GenericUDFBridge.java:142) ~[?:?]\r\nat org.apache.hadoop.hive.ql.udf.generic.GenericUDFBridge.getUdfClass(GenericUDFBridge.java:132) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.FunctionInfo.getFunctionClass(FunctionInfo.java:151) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.Registry.addFunction(Registry.java:519) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:163) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:154) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.Registry.registerUDF(Registry.java:147) ~[?:?]\r\nat org.apache.hadoop.hive.ql.exec.FunctionRegistry.(FunctionRegistry.java:194) ~[?:?]","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952604834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952627953","html_url":"https://github.com/apache/hudi/pull/3614#issuecomment-952627953","issue_url":"https://api.github.com/repos/apache/hudi/issues/3614","id":952627953,"node_id":"IC_kwDOBI7nWM44x_Lx","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T07:43:19Z","updated_at":"2021-10-27T07:43:19Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952627953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952644803","html_url":"https://github.com/apache/hudi/pull/3872#issuecomment-952644803","issue_url":"https://api.github.com/repos/apache/hudi/issues/3872","id":952644803,"node_id":"IC_kwDOBI7nWM44yDTD","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T08:06:02Z","updated_at":"2021-10-27T11:30:09Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"e1698c9dce9e172eeba00470cf8f1e268481cc12\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2886\",\n    \"triggerID\" : \"e1698c9dce9e172eeba00470cf8f1e268481cc12\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7a18aebc69f2cc327441ce4342fdc305e93c7694\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2891\",\n    \"triggerID\" : \"7a18aebc69f2cc327441ce4342fdc305e93c7694\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7a18aebc69f2cc327441ce4342fdc305e93c7694 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2891) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952644803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952775161","html_url":"https://github.com/apache/hudi/pull/2819#issuecomment-952775161","issue_url":"https://api.github.com/repos/apache/hudi/issues/2819","id":952775161,"node_id":"IC_kwDOBI7nWM44yjH5","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T10:28:41Z","updated_at":"2021-10-27T10:28:41Z","author_association":"MEMBER","body":"@nsivabalan Updated the PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952775161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952775369","html_url":"https://github.com/apache/hudi/pull/3874#issuecomment-952775369","issue_url":"https://api.github.com/repos/apache/hudi/issues/3874","id":952775369,"node_id":"IC_kwDOBI7nWM44yjLJ","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T10:28:52Z","updated_at":"2021-10-28T05:04:47Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"49ed46d627a0cbfb33c7f7b99fb89750f43a7fb2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2892\",\n    \"triggerID\" : \"49ed46d627a0cbfb33c7f7b99fb89750f43a7fb2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"efb6caf983888dd030570e1a7aad1c8e614fb5e4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2918\",\n    \"triggerID\" : \"efb6caf983888dd030570e1a7aad1c8e614fb5e4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3558d79d982adff1e5debc9b5cb5ad77e39fa19e\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2919\",\n    \"triggerID\" : \"3558d79d982adff1e5debc9b5cb5ad77e39fa19e\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 3558d79d982adff1e5debc9b5cb5ad77e39fa19e Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2919) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952775369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952832809","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-952832809","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":952832809,"node_id":"IC_kwDOBI7nWM44yxMp","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T11:38:32Z","updated_at":"2021-10-27T11:38:32Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952832809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952851955","html_url":"https://github.com/apache/hudi/pull/3875#issuecomment-952851955","issue_url":"https://api.github.com/repos/apache/hudi/issues/3875","id":952851955,"node_id":"IC_kwDOBI7nWM44y13z","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T12:01:32Z","updated_at":"2021-10-27T12:01:32Z","author_association":"MEMBER","body":"cc @umehrot2 you had brought up the case for simplification of the clustering configs before. Could you please review this? \r\ncc @prashantwason @nbalajee @vingov from Uber as well. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952851955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952859446","html_url":"https://github.com/apache/hudi/pull/3203#issuecomment-952859446","issue_url":"https://api.github.com/repos/apache/hudi/issues/3203","id":952859446,"node_id":"IC_kwDOBI7nWM44y3s2","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T12:10:13Z","updated_at":"2021-10-27T12:10:13Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952859446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952871720","html_url":"https://github.com/apache/hudi/pull/3203#issuecomment-952871720","issue_url":"https://api.github.com/repos/apache/hudi/issues/3203","id":952871720,"node_id":"IC_kwDOBI7nWM44y6so","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T12:24:13Z","updated_at":"2021-10-27T12:24:13Z","author_association":"CONTRIBUTOR","body":"@danny0405  split getIncrementalRealtimeSplits  from getRealtimeSplits.\r\n@nsivabalan  @danny0405  could you pls review  again, thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952871720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952941884","html_url":"https://github.com/apache/hudi/issues/3870#issuecomment-952941884","issue_url":"https://api.github.com/repos/apache/hudi/issues/3870","id":952941884,"node_id":"IC_kwDOBI7nWM44zL08","user":{"login":"atharvai","id":14027470,"node_id":"MDQ6VXNlcjE0MDI3NDcw","avatar_url":"https://avatars.githubusercontent.com/u/14027470?v=4","gravatar_id":"","url":"https://api.github.com/users/atharvai","html_url":"https://github.com/atharvai","followers_url":"https://api.github.com/users/atharvai/followers","following_url":"https://api.github.com/users/atharvai/following{/other_user}","gists_url":"https://api.github.com/users/atharvai/gists{/gist_id}","starred_url":"https://api.github.com/users/atharvai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atharvai/subscriptions","organizations_url":"https://api.github.com/users/atharvai/orgs","repos_url":"https://api.github.com/users/atharvai/repos","events_url":"https://api.github.com/users/atharvai/events{/privacy}","received_events_url":"https://api.github.com/users/atharvai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T13:40:37Z","updated_at":"2021-10-27T13:40:37Z","author_association":"NONE","body":"Commit rollback has similar issue \r\n![image](https://user-images.githubusercontent.com/14027470/139077352-c53a87a4-a46b-42fb-89f7-c0c4d8477c9b.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952941884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952958418","html_url":"https://github.com/apache/hudi/issues/1326#issuecomment-952958418","issue_url":"https://api.github.com/repos/apache/hudi/issues/1326","id":952958418,"node_id":"IC_kwDOBI7nWM44zP3S","user":{"login":"absognety","id":25507554,"node_id":"MDQ6VXNlcjI1NTA3NTU0","avatar_url":"https://avatars.githubusercontent.com/u/25507554?v=4","gravatar_id":"","url":"https://api.github.com/users/absognety","html_url":"https://github.com/absognety","followers_url":"https://api.github.com/users/absognety/followers","following_url":"https://api.github.com/users/absognety/following{/other_user}","gists_url":"https://api.github.com/users/absognety/gists{/gist_id}","starred_url":"https://api.github.com/users/absognety/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/absognety/subscriptions","organizations_url":"https://api.github.com/users/absognety/orgs","repos_url":"https://api.github.com/users/absognety/repos","events_url":"https://api.github.com/users/absognety/events{/privacy}","received_events_url":"https://api.github.com/users/absognety/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T13:57:50Z","updated_at":"2021-10-27T14:17:03Z","author_association":"NONE","body":"> Thanks for the help @lamber-ken. The issue was due to a mismatch in data types between the hudi table and the DF we're looking to UPSERT. Casting properly and ensuring schema matched types across both resolved the issue.\r\n\r\nI am reading snowflake tables and writing to S3 in hudi formats, facing this issue consistently, How do I identify which columns to cast? because Reading existing data from S3 and reading incremental data from snowflake into Spark, the both dataframes have same data types.\r\n\r\n@nsivabalan  any suggestions on fixes for this, this is causing issues in our production","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/952958418/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":3},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/953006228","html_url":"https://github.com/apache/hudi/pull/3700#issuecomment-953006228","issue_url":"https://api.github.com/repos/apache/hudi/issues/3700","id":953006228,"node_id":"IC_kwDOBI7nWM44zbiU","user":{"login":"dongkelun","id":13376555,"node_id":"MDQ6VXNlcjEzMzc2NTU1","avatar_url":"https://avatars.githubusercontent.com/u/13376555?v=4","gravatar_id":"","url":"https://api.github.com/users/dongkelun","html_url":"https://github.com/dongkelun","followers_url":"https://api.github.com/users/dongkelun/followers","following_url":"https://api.github.com/users/dongkelun/following{/other_user}","gists_url":"https://api.github.com/users/dongkelun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongkelun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongkelun/subscriptions","organizations_url":"https://api.github.com/users/dongkelun/orgs","repos_url":"https://api.github.com/users/dongkelun/repos","events_url":"https://api.github.com/users/dongkelun/events{/privacy}","received_events_url":"https://api.github.com/users/dongkelun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T14:48:46Z","updated_at":"2021-10-27T14:48:46Z","author_association":"CONTRIBUTOR","body":"@YannByron Hello, I have replaced `toLowerCase `with `resolver`, can you please take a look?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/953006228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]