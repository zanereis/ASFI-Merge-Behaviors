[{"url":"https://api.github.com/repos/apache/solr/issues/comments/1500345322","html_url":"https://github.com/apache/solr/pull/1546#issuecomment-1500345322","issue_url":"https://api.github.com/repos/apache/solr/issues/1546","id":1500345322,"node_id":"IC_kwDOFFj3yM5ZbXPq","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T14:34:36Z","updated_at":"2023-04-07T14:34:36Z","author_association":"CONTRIBUTOR","body":"Yeah will get that stuff cleaned up. Not sure we will want to remove this workaround, it does let us use non-request centric plugins without worrying if those plugins use the thread classloader or not. (This is similar workaround we do for the sql module, which has libraries that will never accept a cloassloader probably...)\r\n\r\nI don't want to move merge this without an integration test, but I'm not sure how to get that working for kerberos... Might play around with that later if no one else has ideas.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1500345322/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1500709938","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1500709938","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1500709938,"node_id":"IC_kwDOFFj3yM5ZcwQy","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T23:01:05Z","updated_at":"2023-04-08T17:52:03Z","author_association":"MEMBER","body":"I have spent some more time unpacking this test.\r\n\r\nTest setup is: shard `shard1` is split into 2 new slices `shard1_0` and `shard1_1`, concurrently there are additions happening.\r\n\r\nThe failure scenario context is:\r\n - the test client makes _direct_ 'add' document calls to the new slice `shard1_1` that is in the process of being created. this means the `DistribPhase` is `NONE`\r\n - target slice (coll.getRouter().getTargetSlice) for the request is `shard1`\r\n - `isLeader` is `false` on the new slice `shard1_1`. the old shard is still considered the leader replica at this point.\r\n - the new slice has `RECOVERY` state. also because target slice is `shard1` the failing doc must be inside the correct slice interval (`isTargetSlice` needs to be true). this makes the `isSubShardLeader` `true`\r\n\r\nBecause the `isLeader` flag is `false`, the `DistributedUpdateProcessor` uses whatever version it can extract from the request. Now _if_ this was a leader originated request (`phase=FROMLEADER`) there would have been a version available, but it is not, so version is `0`. \r\n\r\nthere is no integrity check in place to verify the version is > 0 (I added one with this PR). but we can do better, we can avoid failing the integrity check if we know the `isSubShardLeader` flag is `true` so we can apply a 'leader logic' strategy and generate a new version before saving the new document to the index.\r\n\r\nMore details on passing tests:\r\n - First regarding timing of the state transitions: once the new slice `shard1_1` transitions from 'RECOVERY' to 'ACTIVE', the isLeader flag becomes true (and isSubShardLeader false). this enables the 'leader logic' strategy of generating a version, so no problems\r\n - Second: passing tests that come the closest to failure scenarios have `DistribPhase` `NONE`, `isLeader` `false` BUT `isSubShardLeader` `false` because from what I can tell the `isTargetSlice` check fails. so my theory is passing tests work only because they are unable to use doc ids that fall into that shard interval. probably the test can be updated with a smarter id generation strategy so it will always fail.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1500709938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1501064933","html_url":"https://github.com/apache/solr/pull/1479#issuecomment-1501064933","issue_url":"https://api.github.com/repos/apache/solr/issues/1479","id":1501064933,"node_id":"IC_kwDOFFj3yM5ZeG7l","user":{"login":"MarcusSorealheis","id":2353608,"node_id":"MDQ6VXNlcjIzNTM2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/2353608?v=4","gravatar_id":"","url":"https://api.github.com/users/MarcusSorealheis","html_url":"https://github.com/MarcusSorealheis","followers_url":"https://api.github.com/users/MarcusSorealheis/followers","following_url":"https://api.github.com/users/MarcusSorealheis/following{/other_user}","gists_url":"https://api.github.com/users/MarcusSorealheis/gists{/gist_id}","starred_url":"https://api.github.com/users/MarcusSorealheis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarcusSorealheis/subscriptions","organizations_url":"https://api.github.com/users/MarcusSorealheis/orgs","repos_url":"https://api.github.com/users/MarcusSorealheis/repos","events_url":"https://api.github.com/users/MarcusSorealheis/events{/privacy}","received_events_url":"https://api.github.com/users/MarcusSorealheis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T07:46:07Z","updated_at":"2023-04-09T07:46:07Z","author_association":"CONTRIBUTOR","body":"> Please reach out if you need insight into current Admin UI. As you may know, Solr backend is 100% stateless, so there is no \"login\" as such. The current Admin UI will do the auth, caching Authorization header in browser storage, and pass in on all subsequent reqeusts to Solr backend.\r\n\r\nWill do for sure probably beginning this week as I think I've done sufficient research to have an opinion on the best approach. Haven't pushed it up yet but will very soon. I am aware of the backend being stateless.\r\n\r\n> Question: Is the goal still to host the entire Admin UI, including old non-ported angular-pages, from the new \"modern\" Admin App? Or do you plan to have two independent Admin apps and send users between them?\r\n\r\nI think the best approach is to host both the non-ported and ported UI's at the same time for a while. Given the scope and complexity, it will take some time for us to port over. I think the best path is to chip away at it here over the next 9 months until it is entirely ported over. Over time, I expecting porting to accelerate dramatically, and that estimate could be way overblown. There's also the fact that part of the decision I've chosen the framework that I have chosen is that it is extremely modern, seeing a lot of investment, and makes many strong choices about design. \r\n\r\nI'm detailing the approach in a document for the next community meeting where people can review and comment, in addition to pushing up the example here shortly. The first example I started with was fine, but the framework and approach that was very popular for 6+ years is now obsolete. This approach is newer and should be good for another 6-10 years, which will be vital for preventing the situation that hit us more recently. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1501064933/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1501129913","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1501129913","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1501129913,"node_id":"IC_kwDOFFj3yM5ZeWy5","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T13:31:50Z","updated_at":"2023-04-09T13:31:50Z","author_association":"CONTRIBUTOR","body":"Thanks for sharing the update (and the detailed test notes!)....    Maybe for another day, but having more .bats style tests for these would be great.\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1501129913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502011763","html_url":"https://github.com/apache/solr/pull/1471#issuecomment-1502011763","issue_url":"https://api.github.com/repos/apache/solr/issues/1471","id":1502011763,"node_id":"IC_kwDOFFj3yM5ZhuFz","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T16:11:50Z","updated_at":"2023-04-10T16:11:50Z","author_association":"CONTRIBUTOR","body":"New unit tests and other tweaks look great!  We're just down to the docs at this point I think.\r\n\r\n> It may be worth adding the API docs to collection-management.adoc like you mentioned, but I'll need to read through the backup-restore.adoc to see how I'd want to work them into there.\r\n\r\nSounds good.  Thinking on it a bit more, it might make sense to split those pieces up.  Adding coverage to collection-management.adoc would be relatively rote small and rote, so it seems \"in scope\" for this PR.  backup-restore.adoc probably needs some larger restructing, so I'd be fine creating a separate JIRA ticket for it and leaving it for another day.  But that's just my 2c; happy to handle that however you'd like.\r\n\r\n> [Jdurham2843](https://github.com/Jdurham2843) [force-pushed](https://github.com/apache/solr/compare/d4617416981f0b0c1aca102987935686a8e396fe..875d7a7d7831cd16b8437880abec17648769e3d2) the SOLR-15737-snapshot-collection-v2 branch from [d461741 ](https://github.com/apache/solr/commit/d4617416981f0b0c1aca102987935686a8e396fe)to [875d7a7 ](https://github.com/apache/solr/commit/875d7a7d7831cd16b8437880abec17648769e3d2)\r\n[last week](https://github.com/apache/solr/pull/1471#event-8930236452)\r\n\r\nOne small nitpick process-wise: please avoid force-pushes if you can.  It makes it slightly harder for others from adding small fixes/improvements to your branch, and it makes things a little harder to review in github by doing weird things to ongoing line-level review comments and nullifying Github's really nice \"Diff files since your last review\" feature.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502011763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502024753","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1502024753","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1502024753,"node_id":"IC_kwDOFFj3yM5ZhxQx","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T16:24:35Z","updated_at":"2023-04-10T16:24:35Z","author_association":"CONTRIBUTOR","body":"I ran `./gradlew integrationTests` on both `main` and this branch.  They all pass on main.  on this branch I get these two failures:\r\n\r\n```\r\nnot ok 30 SQL Module\r\nnot ok 34 start solr with ssl\r\n```\r\n\r\nThe others all pass...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502024753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502044312","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1502044312","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1502044312,"node_id":"IC_kwDOFFj3yM5Zh2CY","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T16:44:54Z","updated_at":"2023-04-10T16:44:54Z","author_association":"CONTRIBUTOR","body":"Okay, it looks like the reason that the `SQL Module` test is failing is that the we need now to use `%20` instead of `+` for the spaces in the url...\r\n\r\n```\r\n@@ -32,7 +32,7 @@ teardown() {\r\n @test \"SQL Module\" {\r\n   run solr start -c -Dsolr.modules=sql\r\n   run solr create_collection -c COLL_NAME\r\n-  run solr api -get http://localhost:8983/solr/COLL_NAME/sql?stmt=select+id+from+COLL_NAME+limit+10\r\n+  run solr api -get http://localhost:8983/solr/COLL_NAME/sql?stmt=select%20id%20from%20COLL_NAME%20limit%2010\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502044312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502046302","html_url":"https://github.com/apache/solr/pull/1546#issuecomment-1502046302","issue_url":"https://api.github.com/repos/apache/solr/issues/1546","id":1502046302,"node_id":"IC_kwDOFFj3yM5Zh2he","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T16:47:12Z","updated_at":"2023-04-10T16:47:12Z","author_association":"CONTRIBUTOR","body":"@janhoy added an integration test, which seems to work as expected, and fails when I remove the line that fixes this PR. Let me know if it looks good to you.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502046302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502047760","html_url":"https://github.com/apache/solr/pull/1546#issuecomment-1502047760","issue_url":"https://api.github.com/repos/apache/solr/issues/1546","id":1502047760,"node_id":"IC_kwDOFFj3yM5Zh24Q","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T16:48:42Z","updated_at":"2023-04-10T16:48:42Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502047760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502102973","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1502102973","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1502102973,"node_id":"IC_kwDOFFj3yM5ZiEW9","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T17:41:55Z","updated_at":"2023-04-10T17:41:55Z","author_association":"CONTRIBUTOR","body":"@bszabo97 I hope it's okay, I pushed up a fix, though I don't know that how I fixed it was the best way..  Would your thoughts on if there is a cleaner way ;-)\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502102973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502421101","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1502421101","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1502421101,"node_id":"IC_kwDOFFj3yM5ZjSBt","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T22:33:19Z","updated_at":"2023-04-11T13:15:49Z","author_association":"MEMBER","body":"> Where is this in the PR? I at least like the sound of it :-)\r\n\r\nyou can find the logic here, basically 'not leader logic and zero version' will trigger an exception: https://github.com/apache/solr/pull/1504/files#diff-cd52c0b0fc5671f2e4817e9d0c8373da4b848e6791df1ab73c08289078b07a30R289\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1502421101/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1503810241","html_url":"https://github.com/apache/solr/pull/1556#issuecomment-1503810241","issue_url":"https://api.github.com/repos/apache/solr/issues/1556","id":1503810241,"node_id":"IC_kwDOFFj3yM5ZolLB","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T17:25:35Z","updated_at":"2023-04-11T17:25:35Z","author_association":"CONTRIBUTOR","body":"This is pretty good to go. Just a few things left.\r\n\r\nI have been testing manually with:\r\n\r\n```\r\nexport GIT_REV=$(git rev-parse HEAD)\r\ngradle assembleRelease -PuseGpg -Psign -Pvalidation.git.failOnModified=false -Pversion.suffix=\r\npython3 -u dev-tools/scripts/smokeTestRelease.py --revision $GIT_REV --version 10.0.0 file://$(pwd)/solr/distribution/build/release\r\n```\r\n\r\n( You can speed these up by commenting out the `gradle test` and `gradle integrationTest` lines in the smoke tester)\r\n\r\nThen for both official dockerFiles and a full and slim local docker build:\r\n\r\n```\r\ngradle testDockerfileOfficial -PuseGpg\r\ngradle testDocker -Psolr.docker.dist=full\r\ngradle testDocker -Psolr.docker.dist=slim\r\n```\r\n( You can speed these up by appending this to the end of each gradle testDocker* command:\r\n`-Psolr.docker.tests.concurrent=true --max-workers 3`)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1503810241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1503828534","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1503828534","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1503828534,"node_id":"IC_kwDOFFj3yM5Zopo2","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T17:39:43Z","updated_at":"2023-04-11T17:39:43Z","author_association":"CONTRIBUTOR","body":"The BATS test `test_ssl.bats` passes if I update this branch to the latest in `main`, so the fact that it fails on this PR is just fine:\r\n\r\n```\r\n> Task :solr:packaging:integrationTests\r\n1..1\r\nok 1 start solr with ssl\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1503828534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1503929909","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1503929909","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1503929909,"node_id":"IC_kwDOFFj3yM5ZpCY1","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T18:54:14Z","updated_at":"2023-04-11T18:54:14Z","author_association":"MEMBER","body":"Leaving this here for future reference. I think we could consider allowing doc updates based on the `isSubShardLeader` but this is tricky to verify, and well beyond my knowledge of this code. so I will remove this change from my current PR (this split shard test was passing with the change over a lot of repetitions for additions, but deletes were not applied correctly).\r\n\r\n```\r\n  private boolean leaderLogicWithVersionIntegrityCheck(\r\n      boolean isReplayOrPeersync, long versionOnUpdate) {\r\n    boolean leaderLogic = isLeader && !isReplayOrPeersync;\r\n    if (!leaderLogic && versionOnUpdate == 0) {\r\n      // refreshing leaderLogic status in case this is a race (see SOLR-7609)\r\n      leaderLogic = isSubShardLeader && !isReplayOrPeersync;\r\n      if (!leaderLogic) {\r\n        throw new SolrException(ErrorCode.BAD_REQUEST, \"missing _version_ on update from leader\");\r\n      }\r\n    }\r\n    return leaderLogic;\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1503929909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1503952520","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1503952520","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1503952520,"node_id":"IC_kwDOFFj3yM5ZpH6I","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T19:03:54Z","updated_at":"2023-04-11T21:53:57Z","author_association":"MEMBER","body":"Status on current PR:\r\n - added the version check on additions to fail in case we are not leader and version = 0. (to match delete flows)\r\n - changed error status from BAD_REQUEST to INVALID_STATE to allow for retries. I was able to verify retries are happening [0]\r\n - removed a 'cmd' variable - this is just minor readability refactoring, I tried to avoid changing the code as much as possible\r\n - updated the ShardSplitTest to keep track of exceptions happening during the concurrent adds and deletes and fail if needed.\r\n\r\n Things I did not do\r\n - gave up on trying to use `isSubShardLeader ` to allow 'some' updates. left a comment above with the code snippet just in case anyone wants to review it \r\n - there is still one failure happening `Request says it is coming from parent shard leader but we are in active state`\r\n - noticed the setupRequest() method is usually called twice, I think this is easy to fix with a basic flag, I can add it if it doesn't grow the PR too much, or it can be done on a followup PR.\r\n\r\nI think the changes.txt entry should be more verbose than 'ShardSplitTest NPE', but will wait to reach consensus after review before publishing.\r\n\r\nThank you @dsmiley for the continued reviews and pointers!\r\n\r\n\r\n[0]\r\n\r\n```\r\n11027 INFO  (Thread-43) [] o.a.s.c.s.i.CloudSolrClient Request to collection [collection1] failed due to (510) org.apache.solr.client.solrj.impl.BaseHttpSolrClient$RemoteSolrException: Error from server at http://127.0.0.1:62183/k_fff/wc/collection1: missing _version_ on update from leader, retry=0 maxRetries=5 commError=false errorCode=510 \r\n11027 WARN  (Thread-43) [] o.a.s.c.s.i.CloudSolrClient Re-trying request to collection(s) [collection1] after stale state error from server.\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1503952520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1504046891","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1504046891","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1504046891,"node_id":"IC_kwDOFFj3yM5Zpe8r","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T20:26:36Z","updated_at":"2023-04-11T20:26:36Z","author_association":"CONTRIBUTOR","body":"@bszabo97 I was able to run export just fine:\r\n\r\n```\r\n(base) ➜  solr-10.0.0-SNAPSHOT git:(SOLR-16367) ✗ ./bin/solr export -url http://localhost:8983/solr/films         \r\nNO: of shards : 1\r\n.\r\nTotal Docs exported: 100. Time taken: 0secs\r\n```\r\n\r\nHowever, with a larger number output, I get a different count:\r\n\r\n```\r\n(base) ➜  solr-10.0.0-SNAPSHOT git:(SOLR-16367) ✗ ./bin/solr export -url http://localhost:8983/solr/films -limit -1\r\nNO: of shards : 1\r\n..\r\nExport complete for : films_shard1_replica_n1, docs : 1,100\r\n\r\nTotal Docs exported: 1099. Time taken: 0secs\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1504046891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1504053171","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1504053171","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1504053171,"node_id":"IC_kwDOFFj3yM5Zpgez","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T20:32:43Z","updated_at":"2023-04-11T20:32:43Z","author_association":"CONTRIBUTOR","body":"> @bszabo97 I was able to run export just fine:\r\n> \r\n> ```\r\n> (base) ➜  solr-10.0.0-SNAPSHOT git:(SOLR-16367) ✗ ./bin/solr export -url http://localhost:8983/solr/films         \r\n> NO: of shards : 1\r\n> .\r\n> Total Docs exported: 100. Time taken: 0secs\r\n> ```\r\n> \r\n> However, with a larger number output, I get a different count:\r\n> \r\n> ```\r\n> (base) ➜  solr-10.0.0-SNAPSHOT git:(SOLR-16367) ✗ ./bin/solr export -url http://localhost:8983/solr/films -limit -1\r\n> NO: of shards : 1\r\n> ..\r\n> Export complete for : films_shard1_replica_n1, docs : 1,100\r\n> \r\n> Total Docs exported: 1099. Time taken: 0secs\r\n> ```\r\n\r\nOkay, the miscount of 1099 also shows up in `main` so it's not related to this PR ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1504053171/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1504093505","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1504093505","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1504093505,"node_id":"IC_kwDOFFj3yM5ZpqVB","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T21:07:55Z","updated_at":"2023-04-11T21:07:55Z","author_association":"CONTRIBUTOR","body":"I can duplicate the error with `bin/solr create -c test`, and it actually does work on `main` ;-)\r\n\r\n```\r\n(base) ➜  solr-10.0.0-SNAPSHOT git:(SOLR-16367) ✗  ./bin/solr create -c test\r\nWARNING: Using _default configset with data driven schema functionality. NOT RECOMMENDED for production use.\r\n         To turn off: bin/solr config -c test -p 8983 -action set-user-property -property update.autoCreateFields -value false\r\nException in thread \"main\" java.lang.NullPointerException\r\n\tat org.apache.solr.client.solrj.response.CoreAdminResponse.getCoreStatus(CoreAdminResponse.java:32)\r\n\tat org.apache.solr.util.SolrCLI$CreateCoreTool.runImpl(SolrCLI.java:1570)\r\n\tat org.apache.solr.util.SolrCLI$CreateTool.runImpl(SolrCLI.java:1623)\r\n\tat org.apache.solr.util.SolrCLI$ToolBase.runTool(SolrCLI.java:159)\r\n\tat org.apache.solr.util.SolrCLI.main(SolrCLI.java:293)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1504093505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1504797021","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1504797021","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1504797021,"node_id":"IC_kwDOFFj3yM5ZsWFd","user":{"login":"bszabo97","id":79325622,"node_id":"MDQ6VXNlcjc5MzI1NjIy","avatar_url":"https://avatars.githubusercontent.com/u/79325622?v=4","gravatar_id":"","url":"https://api.github.com/users/bszabo97","html_url":"https://github.com/bszabo97","followers_url":"https://api.github.com/users/bszabo97/followers","following_url":"https://api.github.com/users/bszabo97/following{/other_user}","gists_url":"https://api.github.com/users/bszabo97/gists{/gist_id}","starred_url":"https://api.github.com/users/bszabo97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bszabo97/subscriptions","organizations_url":"https://api.github.com/users/bszabo97/orgs","repos_url":"https://api.github.com/users/bszabo97/repos","events_url":"https://api.github.com/users/bszabo97/events{/privacy}","received_events_url":"https://api.github.com/users/bszabo97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T07:27:55Z","updated_at":"2023-04-12T07:27:55Z","author_association":"CONTRIBUTOR","body":"Thank you @epugh for looking into this!\r\n\r\nI have reviewed the test failures and uploaded a fix for the solr core creation.\r\nThe failures connected to restart were the consequences of a user error, I assumed with a plain `restart` command Solr would restart in the same mode as in which it was started in the first place, but turns out I stopped a Solr cloud instance but started a standalone one. Adding `-c` after the restart command solved all the problems.\r\n\r\nSo as of now I understand that all the failures found by manual testing is either resolved or not related to this PR.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1504797021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505106633","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1505106633","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1505106633,"node_id":"IC_kwDOFFj3yM5ZthrJ","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T11:27:05Z","updated_at":"2023-04-12T11:27:05Z","author_association":"CONTRIBUTOR","body":"Okay, I'm going to ping @risdenk and @dsmiley for another review, now that the tests are all passing, and the manual testing has happened (and is now all passing).  I'd like to merge this in the next day or so ;-).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505106633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505367322","html_url":"https://github.com/apache/solr/pull/1556#issuecomment-1505367322","issue_url":"https://api.github.com/repos/apache/solr/issues/1556","id":1505367322,"node_id":"IC_kwDOFFj3yM5ZuhUa","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T14:21:14Z","updated_at":"2023-04-12T14:21:14Z","author_association":"CONTRIBUTOR","body":"As for the `the licenses/ folder in the -slim release should only contain licenses used by Solr and SolrJ` line, we might want to punt it to another issue that overhauls how we do licenses. Currently we store the licenses for every java gradle module (test and main), however we only want to include licenses for the code we package in a release. So ideally, there would be no licenses included in a source release, and no test licenses would be included in the binary release.\r\n\r\nThis requires more discussion and shouldn't be a blocker for this IMO. (Since we are already handling it incorrectly)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505367322/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505481800","html_url":"https://github.com/apache/solr/pull/1556#issuecomment-1505481800","issue_url":"https://api.github.com/repos/apache/solr/issues/1556","id":1505481800,"node_id":"IC_kwDOFFj3yM5Zu9RI","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T15:31:50Z","updated_at":"2023-04-12T15:31:50Z","author_association":"CONTRIBUTOR","body":"We should probably also update https://github.com/docker-library/docs/blob/master/solr/content.md too, mentioning what `-slim` means for the >=9.3 images (as opposed to the 8.11 image). ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505481800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505521050","html_url":"https://github.com/apache/solr/pull/1556#issuecomment-1505521050","issue_url":"https://api.github.com/repos/apache/solr/issues/1556","id":1505521050,"node_id":"IC_kwDOFFj3yM5ZvG2a","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T15:53:22Z","updated_at":"2023-04-12T15:53:22Z","author_association":"CONTRIBUTOR","body":"Agreed. The website and docker page need changes when the release happens. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505521050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505877485","html_url":"https://github.com/apache/solr/pull/1484#issuecomment-1505877485","issue_url":"https://api.github.com/repos/apache/solr/issues/1484","id":1505877485,"node_id":"IC_kwDOFFj3yM5Zwd3t","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-12T20:22:12Z","updated_at":"2023-04-12T20:23:44Z","author_association":"MEMBER","body":"I would like to revisit one of the changes here, the `Request says it is coming from parent shard leader but we are in active state` flow.\r\nI am looking at this from the ShardSplitTest failures pov and I don't think a retry will help in any way.\r\nIf after a shard split, the new slice reached the `active` state and is still receiving some buffer update from the old-leader it is not going to recover on a retry because the `active` state is the final state (there are no more transitions, from what I am seeing in the test the slice goes through `construction` -> `recovery` -> `active`).\r\n\r\nWhat I am seeing as a race window is: on the old shard there is call to `getSubShardLeaders` which returns the new slice because at the call moment the status is `state == Slice.State.CONSTRUCTION || state == Slice.State.RECOVERY`, but once it reaches the new slice the state is 'active'. (for the sake of completeness params for the request are  `update.distrib=FROMLEADER&distrib.from.parent=shard1&distrib.from=http://127.0.0.1:64511/collection1_shard1_replica_n2/&wt=javabin&version=2`).\r\n\r\nI don't know what the best solution is here, but if there is a retry with the same params it will fail again, it probably needs to be a retry with a different set of params, removing all the 'leader' bits.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1505877485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1506297931","html_url":"https://github.com/apache/solr/pull/1484#issuecomment-1506297931","issue_url":"https://api.github.com/repos/apache/solr/issues/1484","id":1506297931,"node_id":"IC_kwDOFFj3yM5ZyEhL","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T03:51:18Z","updated_at":"2023-04-13T03:51:18Z","author_association":"CONTRIBUTOR","body":"On this issue here (but maybe not ShardSplitTest ?), the different error code resulted in the error bubbling all the way back to the client.  My test (not here) was using CloudSolrClient, which retried and it worked.\r\n\r\nWhat you say is interesting though because I'd imagine it'd be useful for the parent shard to retry this, which is the middle-man for our scenarios.  But since the retries there are done there in SolrCmdDistributor specifically, based on your observation, it could never succeed.  At least not for this scenario.  And it didn't retry a 510 code (I saw empirically) anyway.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1506297931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1506887008","html_url":"https://github.com/apache/solr/pull/1560#issuecomment-1506887008","issue_url":"https://api.github.com/repos/apache/solr/issues/1560","id":1506887008,"node_id":"IC_kwDOFFj3yM5Z0UVg","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T12:34:35Z","updated_at":"2023-04-13T12:34:35Z","author_association":"CONTRIBUTOR","body":"Hey @janhoy actually I am using this branch to migrate the Wiki content over so we can eliminate the old HowToContribute ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1506887008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507060509","html_url":"https://github.com/apache/solr/pull/1560#issuecomment-1507060509","issue_url":"https://api.github.com/repos/apache/solr/issues/1560","id":1507060509,"node_id":"IC_kwDOFFj3yM5Z0-sd","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T14:21:59Z","updated_at":"2023-04-13T15:14:18Z","author_association":"CONTRIBUTOR","body":"Need to delete https://cwiki.apache.org/confluence/display/SOLR/Git+commit+process and https://cwiki.apache.org/confluence/display/SOLR/HowToContribute when merged ;-)  Or maybe, because I think https://cwiki.apache.org/confluence/display/SOLR/HowToContribute has been aroudn a long time, have a pointer to the CONTRIBUTING.md file...?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507060509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507279304","html_url":"https://github.com/apache/solr/pull/1561#issuecomment-1507279304","issue_url":"https://api.github.com/repos/apache/solr/issues/1561","id":1507279304,"node_id":"IC_kwDOFFj3yM5Z10HI","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T16:46:53Z","updated_at":"2023-04-13T16:46:53Z","author_association":"CONTRIBUTOR","body":"Ok I made a ton of changes to the git page, better reflecting best practices and using asciidoc stuff instead of markdown.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507279304/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507290818","html_url":"https://github.com/apache/solr/pull/1561#issuecomment-1507290818","issue_url":"https://api.github.com/repos/apache/solr/issues/1561","id":1507290818,"node_id":"IC_kwDOFFj3yM5Z127C","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T16:56:19Z","updated_at":"2023-04-13T16:56:19Z","author_association":"CONTRIBUTOR","body":"Also can we make a folder for these called `dev-docs/contributing`. Much better than having a lot of random docs mixed together.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507290818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507356785","html_url":"https://github.com/apache/solr/pull/1561#issuecomment-1507356785","issue_url":"https://api.github.com/repos/apache/solr/issues/1561","id":1507356785,"node_id":"IC_kwDOFFj3yM5Z2HBx","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T17:33:00Z","updated_at":"2023-04-13T17:33:00Z","author_association":"CONTRIBUTOR","body":"G\r\n\r\n> Also can we make a folder for these called `dev-docs/contributing`. Much better than having a lot of random docs mixed together.\r\n\r\nI'm excited that we are building enough docs in `dev-docs` to start thinking about nesting...  Having said that, I don't think we actually have enough for a multiples in in a `dev-docs/contributing`?   What structure are you thinking would go in there.....?  ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507356785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507358525","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1507358525","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1507358525,"node_id":"IC_kwDOFFj3yM5Z2Hc9","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T17:34:13Z","updated_at":"2023-04-13T17:34:13Z","author_association":"CONTRIBUTOR","body":"I'm going to run teh full test set on my laptop while I go to the dentist today...  If it passes, I'm planning on merging ;-).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507358525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507363704","html_url":"https://github.com/apache/solr/pull/1561#issuecomment-1507363704","issue_url":"https://api.github.com/repos/apache/solr/issues/1561","id":1507363704,"node_id":"IC_kwDOFFj3yM5Z2It4","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T17:37:47Z","updated_at":"2023-04-13T17:37:47Z","author_association":"CONTRIBUTOR","body":"Yeah maybe there aren't enough files yet, but something to think about in the future!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507363704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507665297","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1507665297","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1507665297,"node_id":"IC_kwDOFFj3yM5Z3SWR","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T22:06:52Z","updated_at":"2023-04-13T22:06:52Z","author_association":"CONTRIBUTOR","body":"@bszabo97 do the tests run for you?  I am getting failures for:\r\n\r\n```\r\n./gradlew :solr:core:test --tests \"org.apache.solr.util.TestSolrCLIRunExample.testTechproductsExample\" -Ptests.jvms=4 \"-Ptests.jvmargs=-XX:TieredStopAtLevel=1 -XX:+UseParallelGC -XX:ActiveProcessorCount=1 -XX:ReservedCodeCacheSize=120m\" -Ptests.seed=64B964B8A1FDC6B8 -Ptests.nightly=true -Ptests.file.encoding=ISO-8859-1\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507665297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507723145","html_url":"https://github.com/apache/solr/pull/1477#issuecomment-1507723145","issue_url":"https://api.github.com/repos/apache/solr/issues/1477","id":1507723145,"node_id":"IC_kwDOFFj3yM5Z3geJ","user":{"login":"patsonluk","id":2895902,"node_id":"MDQ6VXNlcjI4OTU5MDI=","avatar_url":"https://avatars.githubusercontent.com/u/2895902?v=4","gravatar_id":"","url":"https://api.github.com/users/patsonluk","html_url":"https://github.com/patsonluk","followers_url":"https://api.github.com/users/patsonluk/followers","following_url":"https://api.github.com/users/patsonluk/following{/other_user}","gists_url":"https://api.github.com/users/patsonluk/gists{/gist_id}","starred_url":"https://api.github.com/users/patsonluk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patsonluk/subscriptions","organizations_url":"https://api.github.com/users/patsonluk/orgs","repos_url":"https://api.github.com/users/patsonluk/repos","events_url":"https://api.github.com/users/patsonluk/events{/privacy}","received_events_url":"https://api.github.com/users/patsonluk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-13T23:21:28Z","updated_at":"2023-04-13T23:21:28Z","author_association":"CONTRIBUTOR","body":"ping @noblepaul do u have a chance to take a look? Please lemme know if u have any questions/concerns. thanks again!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507723145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507913034","html_url":"https://github.com/apache/solr/pull/1471#issuecomment-1507913034","issue_url":"https://api.github.com/repos/apache/solr/issues/1471","id":1507913034,"node_id":"IC_kwDOFFj3yM5Z4O1K","user":{"login":"jdurham2843","id":7634533,"node_id":"MDQ6VXNlcjc2MzQ1MzM=","avatar_url":"https://avatars.githubusercontent.com/u/7634533?v=4","gravatar_id":"","url":"https://api.github.com/users/jdurham2843","html_url":"https://github.com/jdurham2843","followers_url":"https://api.github.com/users/jdurham2843/followers","following_url":"https://api.github.com/users/jdurham2843/following{/other_user}","gists_url":"https://api.github.com/users/jdurham2843/gists{/gist_id}","starred_url":"https://api.github.com/users/jdurham2843/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdurham2843/subscriptions","organizations_url":"https://api.github.com/users/jdurham2843/orgs","repos_url":"https://api.github.com/users/jdurham2843/repos","events_url":"https://api.github.com/users/jdurham2843/events{/privacy}","received_events_url":"https://api.github.com/users/jdurham2843/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T04:36:57Z","updated_at":"2023-04-14T04:36:57Z","author_association":"CONTRIBUTOR","body":"Collection-management.adoc has been updated with three sections on CREATESNAPSHOT, LISTSNAPSHOTS, and DELETESNAPSHOT. I think it's a good idea to do the backup-restore.adoc separately, since it wouldn't be nearly as simple to update and would need to consider other APIs aside from the three worked on here. Let me know what you think!\r\n\r\nRegarding the force push: sorry about that! I needed to get some code in from the Apache Solr main branch, so I did a rebase and force push. That's normally the approach I reach for when needing to pull in changes, and can't do a fast-forward. Is there a another way to pull in changes, without needing to force push? My git-fu is fairly rudimentary","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1507913034/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1508375380","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1508375380","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1508375380,"node_id":"IC_kwDOFFj3yM5Z5_tU","user":{"login":"bszabo97","id":79325622,"node_id":"MDQ6VXNlcjc5MzI1NjIy","avatar_url":"https://avatars.githubusercontent.com/u/79325622?v=4","gravatar_id":"","url":"https://api.github.com/users/bszabo97","html_url":"https://github.com/bszabo97","followers_url":"https://api.github.com/users/bszabo97/followers","following_url":"https://api.github.com/users/bszabo97/following{/other_user}","gists_url":"https://api.github.com/users/bszabo97/gists{/gist_id}","starred_url":"https://api.github.com/users/bszabo97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bszabo97/subscriptions","organizations_url":"https://api.github.com/users/bszabo97/orgs","repos_url":"https://api.github.com/users/bszabo97/repos","events_url":"https://api.github.com/users/bszabo97/events{/privacy}","received_events_url":"https://api.github.com/users/bszabo97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T11:38:53Z","updated_at":"2023-04-14T11:38:53Z","author_association":"CONTRIBUTOR","body":"Woow somehow having a broken CreateCoreTool did not cause this test to fail, but since the safeCheckCoreExists was also broken when the CreateCoreTool got fixed it broke the test. \r\nNice catch @epugh thank you! I uploaded a fix, now this test is successful for me and I am running all the tests just now","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1508375380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1508396109","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1508396109","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1508396109,"node_id":"IC_kwDOFFj3yM5Z6ExN","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T11:59:25Z","updated_at":"2023-04-14T11:59:25Z","author_association":"CONTRIBUTOR","body":"> Woow somehow having a broken CreateCoreTool did not cause this test to fail, but since the safeCheckCoreExists was also broken when the CreateCoreTool got fixed it broke the test. Nice catch @epugh thank you! I uploaded a fix, now this test is successful for me and I am running all the tests just now\r\n\r\nthanks!  I was just stepipng htrough the debugger, pulling my hair out...  you are ahead of me!   So glad you found the bug.  ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1508396109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1509747726","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1509747726","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1509747726,"node_id":"IC_kwDOFFj3yM5Z_OwO","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T11:59:45Z","updated_at":"2023-04-15T11:59:45Z","author_association":"CONTRIBUTOR","body":"Tests passed!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1509747726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1509748027","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1509748027","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1509748027,"node_id":"IC_kwDOFFj3yM5Z_O07","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T12:01:09Z","updated_at":"2023-04-15T12:01:09Z","author_association":"CONTRIBUTOR","body":"argh, forgot changes.txt.  Will add that when jenkins main test pass...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1509748027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1509808186","html_url":"https://github.com/apache/solr/pull/1566#issuecomment-1509808186","issue_url":"https://api.github.com/repos/apache/solr/issues/1566","id":1509808186,"node_id":"IC_kwDOFFj3yM5Z_dg6","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T12:59:16Z","updated_at":"2023-04-15T12:59:16Z","author_association":"CONTRIBUTOR","body":"Created central branch by mistake - but it will be deleted once we merge...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1509808186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1510470263","html_url":"https://github.com/apache/solr/pull/1453#issuecomment-1510470263","issue_url":"https://api.github.com/repos/apache/solr/issues/1453","id":1510470263,"node_id":"IC_kwDOFFj3yM5aB_J3","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-16T19:44:02Z","updated_at":"2023-04-16T19:44:50Z","author_association":"CONTRIBUTOR","body":"Towards the end of last week, I was able to add the \"restore collection\" API to this PR, which is the last of the \"collection-creating\" APIs I'd hoped to do in this PR.\r\n\r\nIn hindsight though, it's grown a little larger than I was expecting and I'm a little leery of merging as is: both for the onerous-ness of review, and because the size would make any test-noise harder to pinpoint.\r\n\r\nTo this end, I filed a PR this morning that gives the create-collection, create-alias, and restore-collection v2 APIs their own (unique) REST-ful paths.  Splitting them up to be on different paths removes the blocker I mentioned [in my previous comment](https://github.com/apache/solr/pull/1453#issuecomment-1466671301), and will allow me to split this PR into 3 separate PRs (one for each API).  I'll aim to merge those individually, and close this PR without merging.\r\n\r\nThe first of these single-API PRs, for create-collection, can be found [here](https://github.com/apache/solr/pull/1572).  Hoping to have single-API PRs for Create-Alias and Restore shortly as well!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1510470263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1510470765","html_url":"https://github.com/apache/solr/pull/1572#issuecomment-1510470765","issue_url":"https://api.github.com/repos/apache/solr/issues/1572","id":1510470765,"node_id":"IC_kwDOFFj3yM5aB_Rt","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-16T19:46:42Z","updated_at":"2023-04-16T19:46:42Z","author_association":"CONTRIBUTOR","body":"With the exception of a few tests that are unique to this PR, the code here all comes from #1453.  I'm in the process of splitting that PR up into smaller chunks, of which this is one.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1510470765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1510826469","html_url":"https://github.com/apache/solr/pull/1182#issuecomment-1510826469","issue_url":"https://api.github.com/repos/apache/solr/issues/1182","id":1510826469,"node_id":"IC_kwDOFFj3yM5aDWHl","user":{"login":"bszabo97","id":79325622,"node_id":"MDQ6VXNlcjc5MzI1NjIy","avatar_url":"https://avatars.githubusercontent.com/u/79325622?v=4","gravatar_id":"","url":"https://api.github.com/users/bszabo97","html_url":"https://github.com/bszabo97","followers_url":"https://api.github.com/users/bszabo97/followers","following_url":"https://api.github.com/users/bszabo97/following{/other_user}","gists_url":"https://api.github.com/users/bszabo97/gists{/gist_id}","starred_url":"https://api.github.com/users/bszabo97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bszabo97/subscriptions","organizations_url":"https://api.github.com/users/bszabo97/orgs","repos_url":"https://api.github.com/users/bszabo97/repos","events_url":"https://api.github.com/users/bszabo97/events{/privacy}","received_events_url":"https://api.github.com/users/bszabo97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T07:15:18Z","updated_at":"2023-04-17T07:15:18Z","author_association":"CONTRIBUTOR","body":"Thank you @epugh for looking after this PR, it was a lot of help! Also thanks to @dsmiley and @risdenk for the reviews!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1510826469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511083020","html_url":"https://github.com/apache/solr/pull/1562#issuecomment-1511083020","issue_url":"https://api.github.com/repos/apache/solr/issues/1562","id":1511083020,"node_id":"IC_kwDOFFj3yM5aEUwM","user":{"login":"andywebb1975","id":8749798,"node_id":"MDQ6VXNlcjg3NDk3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/8749798?v=4","gravatar_id":"","url":"https://api.github.com/users/andywebb1975","html_url":"https://github.com/andywebb1975","followers_url":"https://api.github.com/users/andywebb1975/followers","following_url":"https://api.github.com/users/andywebb1975/following{/other_user}","gists_url":"https://api.github.com/users/andywebb1975/gists{/gist_id}","starred_url":"https://api.github.com/users/andywebb1975/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andywebb1975/subscriptions","organizations_url":"https://api.github.com/users/andywebb1975/orgs","repos_url":"https://api.github.com/users/andywebb1975/repos","events_url":"https://api.github.com/users/andywebb1975/events{/privacy}","received_events_url":"https://api.github.com/users/andywebb1975/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T10:21:31Z","updated_at":"2023-04-17T10:21:31Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this Houston!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511083020/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511202562","html_url":"https://github.com/apache/solr/pull/1476#issuecomment-1511202562","issue_url":"https://api.github.com/repos/apache/solr/issues/1476","id":1511202562,"node_id":"IC_kwDOFFj3yM5aEx8C","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T11:56:59Z","updated_at":"2023-04-17T11:56:59Z","author_association":"CONTRIBUTOR","body":"Merging in #1182 made this too hard to update...   So I started over again in #1568.   Going to close this one in favour of the new one.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511202562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511257134","html_url":"https://github.com/apache/solr/pull/1568#issuecomment-1511257134","issue_url":"https://api.github.com/repos/apache/solr/issues/1568","id":1511257134,"node_id":"IC_kwDOFFj3yM5aE_Qu","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T12:35:26Z","updated_at":"2023-04-17T12:35:26Z","author_association":"CONTRIBUTOR","body":"Question?  Should we move `org.apache.solr.util.cli` up to `org.apache.solr.cli`?    And related...  Should we move `SolrCLI.java` into the `cli` package?   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511257134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511507845","html_url":"https://github.com/apache/solr/pull/1568#issuecomment-1511507845","issue_url":"https://api.github.com/repos/apache/solr/issues/1568","id":1511507845,"node_id":"IC_kwDOFFj3yM5aF8eF","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T14:44:25Z","updated_at":"2023-04-17T14:44:25Z","author_association":"CONTRIBUTOR","body":"> Question? Should we move `org.apache.solr.util.cli` up to `org.apache.solr.cli`? And related... Should we move `SolrCLI.java` into the `cli` package?\r\n\r\nYes to both IMO","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511507845/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511520948","html_url":"https://github.com/apache/solr/pull/1563#issuecomment-1511520948","issue_url":"https://api.github.com/repos/apache/solr/issues/1563","id":1511520948,"node_id":"IC_kwDOFFj3yM5aF_q0","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T14:52:16Z","updated_at":"2023-04-17T14:52:16Z","author_association":"CONTRIBUTOR","body":"Eventually this will allow non-committers to run the official dockerfile tests, and not require that a GPG signature is generated... But we can save that for another ticket.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511520948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511568532","html_url":"https://github.com/apache/solr/pull/1570#issuecomment-1511568532","issue_url":"https://api.github.com/repos/apache/solr/issues/1570","id":1511568532,"node_id":"IC_kwDOFFj3yM5aGLSU","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T15:15:29Z","updated_at":"2023-04-17T15:15:29Z","author_association":"CONTRIBUTOR","body":"@renatoh  can you look at the precommit failure?  I think a `tidy` is needed ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511568532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511692830","html_url":"https://github.com/apache/solr/pull/1572#issuecomment-1511692830","issue_url":"https://api.github.com/repos/apache/solr/issues/1572","id":1511692830,"node_id":"IC_kwDOFFj3yM5aGpoe","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T16:19:49Z","updated_at":"2023-04-17T16:19:49Z","author_association":"CONTRIBUTOR","body":"Tests and 'check' pass! Will aim to merge in a few days since the bulk of this code has been available for review for some time.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511692830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511768601","html_url":"https://github.com/apache/solr/pull/1471#issuecomment-1511768601","issue_url":"https://api.github.com/repos/apache/solr/issues/1471","id":1511768601,"node_id":"IC_kwDOFFj3yM5aG8IZ","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T17:14:04Z","updated_at":"2023-04-17T17:14:04Z","author_association":"CONTRIBUTOR","body":"> Is there another way to pull in changes, without needing to force push?\r\n\r\nYep, definitely!  IMO this stuff can be tricky to explain (or read about) through text alone.  Everyone's git settings and repo tends to be just different enough that sharing workflow-commands alone can cause as much confusion as it clears up.  Anyway, if this explanation doesn't help I'm happy to do a screenshare to discuss as well. (My email address should be on my GH profile)\r\n\r\nBut here goes!\r\n\r\n----\r\n\r\nLet's say I have a feature branch (`my-feature`) on a Github fork repo (`myfork`), and I want to pull in some changes from the `main` branch in the Apache repo (`origin`).\r\n\r\n* The first step is to update your local copy of `main` so that it matches the latest stuff upstream:\r\n   * `git checkout main`\r\n   * `git pull origin main\r\n* Now that your local copy of `main` is up to date, you can merge those changes into your feature branch\r\n   * `git checkout my-feature`\r\n   * `git merge main`\r\n   * (Optionally fix any merge conflicts that might've arisen and `git commit` when you're happy)\r\n* Your local `my-feature` branch now has the changes from `main`, we just need to publish your updated branch upstream:\r\n   * `git push myfork my-feature:my-feature`\r\n   \r\nHope that helps!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1511768601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1512039598","html_url":"https://github.com/apache/solr/pull/1471#issuecomment-1512039598","issue_url":"https://api.github.com/repos/apache/solr/issues/1471","id":1512039598,"node_id":"IC_kwDOFFj3yM5aH-Su","user":{"login":"jdurham2843","id":7634533,"node_id":"MDQ6VXNlcjc2MzQ1MzM=","avatar_url":"https://avatars.githubusercontent.com/u/7634533?v=4","gravatar_id":"","url":"https://api.github.com/users/jdurham2843","html_url":"https://github.com/jdurham2843","followers_url":"https://api.github.com/users/jdurham2843/followers","following_url":"https://api.github.com/users/jdurham2843/following{/other_user}","gists_url":"https://api.github.com/users/jdurham2843/gists{/gist_id}","starred_url":"https://api.github.com/users/jdurham2843/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdurham2843/subscriptions","organizations_url":"https://api.github.com/users/jdurham2843/orgs","repos_url":"https://api.github.com/users/jdurham2843/repos","events_url":"https://api.github.com/users/jdurham2843/events{/privacy}","received_events_url":"https://api.github.com/users/jdurham2843/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T20:27:29Z","updated_at":"2023-04-17T20:29:10Z","author_association":"CONTRIBUTOR","body":"Awesome, and thank you for the review and help on this!\r\n\r\nRegarding the git notes above: thanks for typing that out, I think it makes sense. I'll be sure to forgo the rebase/force-push approach on future PRs in favors of just doing merges. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1512039598/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1513014295","html_url":"https://github.com/apache/solr/pull/1570#issuecomment-1513014295","issue_url":"https://api.github.com/repos/apache/solr/issues/1570","id":1513014295,"node_id":"IC_kwDOFFj3yM5aLsQX","user":{"login":"renatoh","id":10344132,"node_id":"MDQ6VXNlcjEwMzQ0MTMy","avatar_url":"https://avatars.githubusercontent.com/u/10344132?v=4","gravatar_id":"","url":"https://api.github.com/users/renatoh","html_url":"https://github.com/renatoh","followers_url":"https://api.github.com/users/renatoh/followers","following_url":"https://api.github.com/users/renatoh/following{/other_user}","gists_url":"https://api.github.com/users/renatoh/gists{/gist_id}","starred_url":"https://api.github.com/users/renatoh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/renatoh/subscriptions","organizations_url":"https://api.github.com/users/renatoh/orgs","repos_url":"https://api.github.com/users/renatoh/repos","events_url":"https://api.github.com/users/renatoh/events{/privacy}","received_events_url":"https://api.github.com/users/renatoh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T12:27:09Z","updated_at":"2023-04-18T12:27:09Z","author_association":"CONTRIBUTOR","body":"@epugh Thanks for the feedback. Is there an Intellij Code Style Scheme I can use in order to format the code correctly right within Intellij?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1513014295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1513018116","html_url":"https://github.com/apache/solr/pull/1570#issuecomment-1513018116","issue_url":"https://api.github.com/repos/apache/solr/issues/1570","id":1513018116,"node_id":"IC_kwDOFFj3yM5aLtME","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T12:29:16Z","updated_at":"2023-04-18T12:29:16Z","author_association":"CONTRIBUTOR","body":"Good questions @renatoh..  I am not possiitve, however if you run `gradlew tidy` then it applies our spotless code formatter....","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1513018116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1513079272","html_url":"https://github.com/apache/solr/pull/1471#issuecomment-1513079272","issue_url":"https://api.github.com/repos/apache/solr/issues/1471","id":1513079272,"node_id":"IC_kwDOFFj3yM5aL8Ho","user":{"login":"alessandrobenedetti","id":513195,"node_id":"MDQ6VXNlcjUxMzE5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/513195?v=4","gravatar_id":"","url":"https://api.github.com/users/alessandrobenedetti","html_url":"https://github.com/alessandrobenedetti","followers_url":"https://api.github.com/users/alessandrobenedetti/followers","following_url":"https://api.github.com/users/alessandrobenedetti/following{/other_user}","gists_url":"https://api.github.com/users/alessandrobenedetti/gists{/gist_id}","starred_url":"https://api.github.com/users/alessandrobenedetti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alessandrobenedetti/subscriptions","organizations_url":"https://api.github.com/users/alessandrobenedetti/orgs","repos_url":"https://api.github.com/users/alessandrobenedetti/repos","events_url":"https://api.github.com/users/alessandrobenedetti/events{/privacy}","received_events_url":"https://api.github.com/users/alessandrobenedetti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T12:57:27Z","updated_at":"2023-04-18T12:57:27Z","author_association":"CONTRIBUTOR","body":"Is there any problem with the CHANGES.txt?\r\nI see some broken checks here, and a contribution from a colleague of mine seems to have a broken crave build caused by the CHANGES.txt ?\r\n\r\nStill investigating, so I am sorry if I said any nonsense!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1513079272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1513205591","html_url":"https://github.com/apache/solr/pull/1570#issuecomment-1513205591","issue_url":"https://api.github.com/repos/apache/solr/issues/1570","id":1513205591,"node_id":"IC_kwDOFFj3yM5aMa9X","user":{"login":"renatoh","id":10344132,"node_id":"MDQ6VXNlcjEwMzQ0MTMy","avatar_url":"https://avatars.githubusercontent.com/u/10344132?v=4","gravatar_id":"","url":"https://api.github.com/users/renatoh","html_url":"https://github.com/renatoh","followers_url":"https://api.github.com/users/renatoh/followers","following_url":"https://api.github.com/users/renatoh/following{/other_user}","gists_url":"https://api.github.com/users/renatoh/gists{/gist_id}","starred_url":"https://api.github.com/users/renatoh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/renatoh/subscriptions","organizations_url":"https://api.github.com/users/renatoh/orgs","repos_url":"https://api.github.com/users/renatoh/repos","events_url":"https://api.github.com/users/renatoh/events{/privacy}","received_events_url":"https://api.github.com/users/renatoh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-18T13:56:31Z","updated_at":"2023-04-18T13:56:31Z","author_association":"CONTRIBUTOR","body":"\r\n@epugh  so what tool is used within gradlew tidy to format the code? I am wondering  it is possible to load these code style rules into a Intellij Code Style schema\r\nI ran tidy and pushed the changes to my feature branch. is it possible to add the commit to the current PR or do I need to open a new PR?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1513205591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514212470","html_url":"https://github.com/apache/solr/pull/1575#issuecomment-1514212470","issue_url":"https://api.github.com/repos/apache/solr/issues/1575","id":1514212470,"node_id":"IC_kwDOFFj3yM5aQQx2","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T06:47:15Z","updated_at":"2023-04-19T06:47:15Z","author_association":"CONTRIBUTOR","body":"Thanks. Did you consider patching the apt-get command in the header template too? It only installs wget (gpg is removed in same RUN) so not sure if there is any difference.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514212470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514223539","html_url":"https://github.com/apache/solr/pull/1477#issuecomment-1514223539","issue_url":"https://api.github.com/repos/apache/solr/issues/1477","id":1514223539,"node_id":"IC_kwDOFFj3yM5aQTez","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T06:57:29Z","updated_at":"2023-04-19T06:57:29Z","author_association":"CONTRIBUTOR","body":"> ping @noblepaul do u have a chance to take a look? Please lemme know if u have any questions/concerns. thanks again!\r\n \r\n@patsonluk \r\nI had posted my comments above","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514223539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514755448","html_url":"https://github.com/apache/solr/pull/1568#issuecomment-1514755448","issue_url":"https://api.github.com/repos/apache/solr/issues/1568","id":1514755448,"node_id":"IC_kwDOFFj3yM5aSVV4","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T13:39:13Z","updated_at":"2023-04-19T13:39:13Z","author_association":"CONTRIBUTOR","body":"> I haven't had time to review all of the changes (5k LOC 🤯 ), but things LGTM from the brief skimming I was able to do.\r\n> \r\n> I'd feel more confident in large refactors like this if the bats coverage was beefier to catch regressions in syntax/output, but that's probably an unrealistic expectation at this point and this is definitely a step in the right direction IMO.\r\n\r\nYeah, I added two more bats tests, and actually the PDF that @bszabo97 uploaded on his work was super useful to me in thinking about these tests.     \r\n\r\nI hope to add more bats tests as I look at each Tool in seperate PR's...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514755448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514763484","html_url":"https://github.com/apache/solr/pull/1575#issuecomment-1514763484","issue_url":"https://api.github.com/repos/apache/solr/issues/1575","id":1514763484,"node_id":"IC_kwDOFFj3yM5aSXTc","user":{"login":"bqcuong","id":13081254,"node_id":"MDQ6VXNlcjEzMDgxMjU0","avatar_url":"https://avatars.githubusercontent.com/u/13081254?v=4","gravatar_id":"","url":"https://api.github.com/users/bqcuong","html_url":"https://github.com/bqcuong","followers_url":"https://api.github.com/users/bqcuong/followers","following_url":"https://api.github.com/users/bqcuong/following{/other_user}","gists_url":"https://api.github.com/users/bqcuong/gists{/gist_id}","starred_url":"https://api.github.com/users/bqcuong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bqcuong/subscriptions","organizations_url":"https://api.github.com/users/bqcuong/orgs","repos_url":"https://api.github.com/users/bqcuong/repos","events_url":"https://api.github.com/users/bqcuong/events{/privacy}","received_events_url":"https://api.github.com/users/bqcuong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T13:44:31Z","updated_at":"2023-04-19T13:44:31Z","author_association":"CONTRIBUTOR","body":"Currently, there should be no removed packages for that apt-get install command. However, I think it is recommended to have `--no-intall-recommends` for the case that you want to add other packages rather than wget. `gnupg` package is required for performing GPG key checks in the below commands. I updated the changes with the second commit.\r\n\r\nI tested the build for this changes on the Dockerfile of version `9.2`.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514763484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514789409","html_url":"https://github.com/apache/solr/pull/1575#issuecomment-1514789409","issue_url":"https://api.github.com/repos/apache/solr/issues/1575","id":1514789409,"node_id":"IC_kwDOFFj3yM5aSdoh","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:00:20Z","updated_at":"2023-04-19T14:00:20Z","author_association":"CONTRIBUTOR","body":"This looks good to me. If you want to add an entry to `solr/CHANGELOG.txt`, I think this should be good to go.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514789409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514811016","html_url":"https://github.com/apache/solr/pull/1575#issuecomment-1514811016","issue_url":"https://api.github.com/repos/apache/solr/issues/1575","id":1514811016,"node_id":"IC_kwDOFFj3yM5aSi6I","user":{"login":"bqcuong","id":13081254,"node_id":"MDQ6VXNlcjEzMDgxMjU0","avatar_url":"https://avatars.githubusercontent.com/u/13081254?v=4","gravatar_id":"","url":"https://api.github.com/users/bqcuong","html_url":"https://github.com/bqcuong","followers_url":"https://api.github.com/users/bqcuong/followers","following_url":"https://api.github.com/users/bqcuong/following{/other_user}","gists_url":"https://api.github.com/users/bqcuong/gists{/gist_id}","starred_url":"https://api.github.com/users/bqcuong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bqcuong/subscriptions","organizations_url":"https://api.github.com/users/bqcuong/orgs","repos_url":"https://api.github.com/users/bqcuong/repos","events_url":"https://api.github.com/users/bqcuong/events{/privacy}","received_events_url":"https://api.github.com/users/bqcuong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:13:04Z","updated_at":"2023-04-19T14:13:04Z","author_association":"CONTRIBUTOR","body":"I updated the Changelog in the newest commit. Please revise.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514811016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514815394","html_url":"https://github.com/apache/solr/pull/1576#issuecomment-1514815394","issue_url":"https://api.github.com/repos/apache/solr/issues/1576","id":1514815394,"node_id":"IC_kwDOFFj3yM5aSj-i","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:15:41Z","updated_at":"2023-04-19T14:15:41Z","author_association":"CONTRIBUTOR","body":"@janhoy used bash arrays instead of the string.\r\n\r\nWe should also do this with `SOLR_SSL_OPTS` as it's the only other env to use `+=\"....\"`, but we can tackle that in a separate issue that isn't backported to 9.2.1","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514815394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514830795","html_url":"https://github.com/apache/solr/pull/1576#issuecomment-1514830795","issue_url":"https://api.github.com/repos/apache/solr/issues/1576","id":1514830795,"node_id":"IC_kwDOFFj3yM5aSnvL","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:24:07Z","updated_at":"2023-04-19T14:24:07Z","author_association":"CONTRIBUTOR","body":"Thanks Houston. I removed the now obsolete shellcheck disable comment. Will commit and backport shortly","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514830795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514849013","html_url":"https://github.com/apache/solr/pull/1568#issuecomment-1514849013","issue_url":"https://api.github.com/repos/apache/solr/issues/1568","id":1514849013,"node_id":"IC_kwDOFFj3yM5aSsL1","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:34:01Z","updated_at":"2023-04-19T14:34:01Z","author_association":"CONTRIBUTOR","body":"> Huge improvement to split this up. LGTM although have not studied every change.\r\n> \r\n> Are there places where you did more than simply breaking classes out, where you'd like us to pay special attention?\r\n\r\nI tried to restrain myself from \"fixing\" too many things.  The edits were mostly just responding to some intellij warnings..   I think as long as the changes to the bash/cmd scripts look good?   The bats tests run as do the unit tests, so I think it's actually not too much risk..   \r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514849013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514869614","html_url":"https://github.com/apache/solr/pull/1568#issuecomment-1514869614","issue_url":"https://api.github.com/repos/apache/solr/issues/1568","id":1514869614,"node_id":"IC_kwDOFFj3yM5aSxNu","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T14:45:23Z","updated_at":"2023-04-19T14:45:23Z","author_association":"CONTRIBUTOR","body":"Yea, and the script changes is basically java package name change. Looks good.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514869614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514926143","html_url":"https://github.com/apache/solr/pull/1575#issuecomment-1514926143","issue_url":"https://api.github.com/repos/apache/solr/issues/1575","id":1514926143,"node_id":"IC_kwDOFFj3yM5aS_A_","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T15:20:26Z","updated_at":"2023-04-19T15:20:26Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @bqcuong !","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1514926143/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1515058837","html_url":"https://github.com/apache/solr/pull/1477#issuecomment-1515058837","issue_url":"https://api.github.com/repos/apache/solr/issues/1477","id":1515058837,"node_id":"IC_kwDOFFj3yM5aTfaV","user":{"login":"patsonluk","id":2895902,"node_id":"MDQ6VXNlcjI4OTU5MDI=","avatar_url":"https://avatars.githubusercontent.com/u/2895902?v=4","gravatar_id":"","url":"https://api.github.com/users/patsonluk","html_url":"https://github.com/patsonluk","followers_url":"https://api.github.com/users/patsonluk/followers","following_url":"https://api.github.com/users/patsonluk/following{/other_user}","gists_url":"https://api.github.com/users/patsonluk/gists{/gist_id}","starred_url":"https://api.github.com/users/patsonluk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patsonluk/subscriptions","organizations_url":"https://api.github.com/users/patsonluk/orgs","repos_url":"https://api.github.com/users/patsonluk/repos","events_url":"https://api.github.com/users/patsonluk/events{/privacy}","received_events_url":"https://api.github.com/users/patsonluk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T16:48:57Z","updated_at":"2023-04-19T16:48:57Z","author_association":"CONTRIBUTOR","body":"@noblepaul would u mind to link it again please? i tried the only link i found https://github.com/apache/solr/pull/1477/files/6f682a2febf9e5e4a03b161f61615115d3aea60d and it did not show any comments, perhaps they were not saved? ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1515058837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1515451424","html_url":"https://github.com/apache/solr/pull/1577#issuecomment-1515451424","issue_url":"https://api.github.com/repos/apache/solr/issues/1577","id":1515451424,"node_id":"IC_kwDOFFj3yM5aU_Qg","user":{"login":"tflobbe","id":496684,"node_id":"MDQ6VXNlcjQ5NjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/496684?v=4","gravatar_id":"","url":"https://api.github.com/users/tflobbe","html_url":"https://github.com/tflobbe","followers_url":"https://api.github.com/users/tflobbe/followers","following_url":"https://api.github.com/users/tflobbe/following{/other_user}","gists_url":"https://api.github.com/users/tflobbe/gists{/gist_id}","starred_url":"https://api.github.com/users/tflobbe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tflobbe/subscriptions","organizations_url":"https://api.github.com/users/tflobbe/orgs","repos_url":"https://api.github.com/users/tflobbe/repos","events_url":"https://api.github.com/users/tflobbe/events{/privacy}","received_events_url":"https://api.github.com/users/tflobbe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-19T22:14:21Z","updated_at":"2023-04-19T22:14:21Z","author_association":"MEMBER","body":"This is the output of the `testScalability` on my machine running with nightly property:\r\n\r\n```\r\nPatch: \r\n1225 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.SolrTestCaseJ4 ###Starting testScalability\r\n1229 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ==== numNodes ====\r\n1559 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 1000 nodes, 100 shards, 10000 total replicas, anti-affinity=false, elapsed time 316 ms.\r\n2119 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 2000 nodes, 100 shards, 10000 total replicas, anti-affinity=false, elapsed time 550 ms.\r\n3515 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 10000 total replicas, anti-affinity=false, elapsed time 1385 ms.\r\n6411 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 10000 nodes, 100 shards, 10000 total replicas, anti-affinity=false, elapsed time 2875 ms.\r\n12579 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 20000 nodes, 100 shards, 10000 total replicas, anti-affinity=false, elapsed time 6133 ms.\r\n12584 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ==== numShards ====\r\n13987 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 10000 total replicas, anti-affinity=false, elapsed time 1393 ms.\r\n16791 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 200 shards, 20000 total replicas, anti-affinity=false, elapsed time 2794 ms.\r\n23470 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 500 shards, 50000 total replicas, anti-affinity=false, elapsed time 6666 ms.\r\n36979 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 1000 shards, 100000 total replicas, anti-affinity=false, elapsed time 13488 ms.\r\n63988 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 2000 shards, 200000 total replicas, anti-affinity=false, elapsed time 26970 ms.\r\n64063 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ==== numReplicas ====\r\n64624 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 10000 total replicas, anti-affinity=false, elapsed time 556 ms.\r\n65268 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 20000 total replicas, anti-affinity=false, elapsed time 636 ms.\r\n66351 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 50000 total replicas, anti-affinity=false, elapsed time 1073 ms.\r\n68766 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 100000 total replicas, anti-affinity=false, elapsed time 2397 ms.\r\n76679 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 200000 total replicas, anti-affinity=false, elapsed time 7873 ms.\r\n76753 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ==== antiAffinity ====\r\n78120 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 10000 total replicas, anti-affinity=false, elapsed time 1363 ms.\r\n79883 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 10000 total replicas, anti-affinity=true, elapsed time 1756 ms.\r\n79888 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[29B84ABBD0C09F4A]) [] o.a.s.SolrTestCaseJ4 ###Ending testScalability\r\n\r\n\r\nMain:\r\n1160 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.SolrTestCaseJ4 ###Starting testScalability\r\n1164 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ==== numNodes ====\r\n1498 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 1000 nodes, 100 shards, 10000 total replicas, elapsed time 323 ms.\r\n2081 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 2000 nodes, 100 shards, 10000 total replicas, elapsed time 574 ms.\r\n3543 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 10000 total replicas, elapsed time 1451 ms.\r\n6570 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 10000 nodes, 100 shards, 10000 total replicas, elapsed time 3008 ms.\r\n13138 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 20000 nodes, 100 shards, 10000 total replicas, elapsed time 6539 ms.\r\n13144 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ==== numShards ====\r\n14612 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 10000 total replicas, elapsed time 1462 ms.\r\n17527 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 200 shards, 20000 total replicas, elapsed time 2907 ms.\r\n24854 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 500 shards, 50000 total replicas, elapsed time 7311 ms.\r\n39991 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 1000 shards, 100000 total replicas, elapsed time 15117 ms.\r\n68719 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 2000 shards, 200000 total replicas, elapsed time 28684 ms.\r\n68797 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ==== numReplicas ====\r\n69462 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 10000 total replicas, elapsed time 661 ms.\r\n70184 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 20000 total replicas, elapsed time 715 ms.\r\n71320 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 50000 total replicas, elapsed time 1127 ms.\r\n73796 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 100000 total replicas, elapsed time 2459 ms.\r\n82653 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.c.p.p.AffinityPlacementFactoryTest ComputePlacement: 5000 nodes, 100 shards, 200000 total replicas, elapsed time 8823 ms.\r\n82725 INFO  (TEST-AffinityPlacementFactoryTest.testScalability-seed#[CE15B43BFC926FB0]) [] o.a.s.SolrTestCaseJ4 ###Ending testScalability\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1515451424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1515572066","html_url":"https://github.com/apache/solr/pull/1522#issuecomment-1515572066","issue_url":"https://api.github.com/repos/apache/solr/issues/1522","id":1515572066,"node_id":"IC_kwDOFFj3yM5aVcti","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T01:10:37Z","updated_at":"2023-04-20T01:10:37Z","author_association":"COLLABORATOR","body":"### Autoclosing Skipped\n\nThis PR has been flagged for autoclosing. However, it is being skipped due to the branch being already modified. Please close/delete it manually or report a bug if you think this is in error.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1515572066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1515636831","html_url":"https://github.com/apache/solr/pull/1477#issuecomment-1515636831","issue_url":"https://api.github.com/repos/apache/solr/issues/1477","id":1515636831,"node_id":"IC_kwDOFFj3yM5aVshf","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T02:50:38Z","updated_at":"2023-04-20T02:50:38Z","author_association":"CONTRIBUTOR","body":"@patsonluk \r\nas it is mutating an existing Object, there is a small period during which the state of a given replica is unpredictable . some replicas of the collection would fetch state from old PRS and some will point to new PRS\r\n\r\nThe question is, what did we achieve with this change?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1515636831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516725785","html_url":"https://github.com/apache/solr/pull/1440#issuecomment-1516725785","issue_url":"https://api.github.com/repos/apache/solr/issues/1440","id":1516725785,"node_id":"IC_kwDOFFj3yM5aZ2YZ","user":{"login":"magibney","id":6225104,"node_id":"MDQ6VXNlcjYyMjUxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6225104?v=4","gravatar_id":"","url":"https://api.github.com/users/magibney","html_url":"https://github.com/magibney","followers_url":"https://api.github.com/users/magibney/followers","following_url":"https://api.github.com/users/magibney/following{/other_user}","gists_url":"https://api.github.com/users/magibney/gists{/gist_id}","starred_url":"https://api.github.com/users/magibney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/magibney/subscriptions","organizations_url":"https://api.github.com/users/magibney/orgs","repos_url":"https://api.github.com/users/magibney/repos","events_url":"https://api.github.com/users/magibney/events{/privacy}","received_events_url":"https://api.github.com/users/magibney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T17:54:03Z","updated_at":"2023-04-20T17:54:03Z","author_association":"CONTRIBUTOR","body":"@noblepaul take a look at https://github.com/apache/solr/pull/513 -- in particular, the RawShimTextResponseWriter which together with TextResponseWriter (from which it is invoked) actually handles flipping raw transformer fields over such that `TextWriter.writeStrRaw()` will be called. I think you need an analogous multiplexing (flipping between raw and non-raw) somewhere in JsonResponseWriter.\r\n\r\nAgain it's possible that any concrete performance improvement might be largely a consequence of avoiding [this](https://github.com/apache/solr/blob/c99af207c761ec34812ef1cc3054eb2804b7448b/solr/core/src/java/org/apache/solr/response/QueryResponseWriterUtil.java#L51-L73), which IMO looks really really wrong, and would be the first thing I'd change, even if pursuing using Jackson for JSON serialization anyway.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516725785/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516770497","html_url":"https://github.com/apache/solr/pull/1477#issuecomment-1516770497","issue_url":"https://api.github.com/repos/apache/solr/issues/1477","id":1516770497,"node_id":"IC_kwDOFFj3yM5aaBTB","user":{"login":"patsonluk","id":2895902,"node_id":"MDQ6VXNlcjI4OTU5MDI=","avatar_url":"https://avatars.githubusercontent.com/u/2895902?v=4","gravatar_id":"","url":"https://api.github.com/users/patsonluk","html_url":"https://github.com/patsonluk","followers_url":"https://api.github.com/users/patsonluk/followers","following_url":"https://api.github.com/users/patsonluk/following{/other_user}","gists_url":"https://api.github.com/users/patsonluk/gists{/gist_id}","starred_url":"https://api.github.com/users/patsonluk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patsonluk/subscriptions","organizations_url":"https://api.github.com/users/patsonluk/orgs","repos_url":"https://api.github.com/users/patsonluk/repos","events_url":"https://api.github.com/users/patsonluk/events{/privacy}","received_events_url":"https://api.github.com/users/patsonluk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T18:31:32Z","updated_at":"2023-04-20T18:31:47Z","author_association":"CONTRIBUTOR","body":"> @patsonluk as it is mutating an existing Object, there is a small period during which the state of a given replica is unpredictable . some replicas of the collection would fetch state from old PRS and some will point to new PRS\r\n> \r\n> The question is, what did we achieve with this change?\r\n\r\nThank you for the comments/questions @noblepaul!\r\n\r\nYes you are correct that mutating the prs in  `DocCollection#copyWith(PerReplicaStates)` with `this.prsSupplier.prs = newPerReplicaStates` would set the actual prs instance in one place! TBH, i did find such design a bit hard to trace when the PRS state mutates in `Replica` as such state is kept outside of `Replica` and modified in `DocCollection`. \r\n\r\nI guess that is a reasonable trade-off since `DocCollection/Slice/Replica` are mutable for PRS enabled collection and if we want to keep using the same instances for PRS updates, this is likely the best we could do, so let's just keep your existing implementation! 😊 \r\n\r\nThe goal of this PR is make the loading/fetching of PRS states a bit more deterministic - ie, always fetch before the construction of  `DocCollection` instead of relying on implementation. Currently it's `DocCollection ctor -> Slice#setPrsSupplier -> Slice#findLeader() -> Replica#isLeader() -> PrsSuppler#get`\r\n\r\nI will see if we can achieve that with the Supplier still in place for `DocCollection/Slice/Replica`.\r\n\r\nWill ping you again once the change is made. Thank you again!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516770497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516808584","html_url":"https://github.com/apache/solr/pull/1577#issuecomment-1516808584","issue_url":"https://api.github.com/repos/apache/solr/issues/1577","id":1516808584,"node_id":"IC_kwDOFFj3yM5aaKmI","user":{"login":"tflobbe","id":496684,"node_id":"MDQ6VXNlcjQ5NjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/496684?v=4","gravatar_id":"","url":"https://api.github.com/users/tflobbe","html_url":"https://github.com/tflobbe","followers_url":"https://api.github.com/users/tflobbe/followers","following_url":"https://api.github.com/users/tflobbe/following{/other_user}","gists_url":"https://api.github.com/users/tflobbe/gists{/gist_id}","starred_url":"https://api.github.com/users/tflobbe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tflobbe/subscriptions","organizations_url":"https://api.github.com/users/tflobbe/orgs","repos_url":"https://api.github.com/users/tflobbe/repos","events_url":"https://api.github.com/users/tflobbe/events{/privacy}","received_events_url":"https://api.github.com/users/tflobbe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T19:03:44Z","updated_at":"2023-04-20T19:03:44Z","author_association":"MEMBER","body":"> I do think a different name would be more appropriate though.\r\n\r\nI see. I wasn't aware of the \"spread\" feature in Kubernetes, but yes, it does look closer to what I have here. I was actually going with this naming based on Kubernetes' use of affinity/anti-affinity and making this a \"soft\" anti-affinity, and I was initially thinking about giving up on the rule if it couldn't be satisfied, but ended up implementing a logic similar to the \"spread\" in such case.\r\n\r\n> Also I completely support adding both of these features, there should be both a spread and an anti_affinity.\r\n\r\nIf I understand correctly, you are suggesting:\r\n* Let users configure the \"spread\", which is exactly what the PR is doing for now (new features such as the `maxSkew` could be added in the future)\r\n* Make anti-affinity always \"required\" when configured: Attempt to spread the replicas, but fail if more than one replica is placed on the same affinity group.\r\n\r\nIt probably makes sense to keep both features using the same system property for defining the affinity groups (or \"domains\"?), right? I see no reason to have both features enabled but using different labels.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516808584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516879031","html_url":"https://github.com/apache/solr/pull/1577#issuecomment-1516879031","issue_url":"https://api.github.com/repos/apache/solr/issues/1577","id":1516879031,"node_id":"IC_kwDOFFj3yM5aaby3","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T20:04:10Z","updated_at":"2023-04-20T20:04:10Z","author_association":"CONTRIBUTOR","body":"> Let users configure the \"spread\", which is exactly what the PR is doing for now (new features such as the maxSkew could be added in the future)\r\n\r\nYep 👍 \r\n\r\n> Make anti-affinity always \"required\" when configured: Attempt to spread the replicas, but fail if more than one replica is placed on the same affinity group.\r\n\r\nYes, but have the requirement be configurable. So anti-affinity could have a parameter \"maxAffinity\" (awful name, we would need a better one), which is a rule that \"the maximum replicas in this affinityGroup is `<maxAffinity>`\". \r\n\r\n> It probably makes sense to keep both features using the same system property for defining the affinity groups (or \"domains\"?), right? I see no reason to have both features enabled but using different labels.\r\n\r\nIf we have both of these options available (anti-affinity and spread), I can imagine that they might be used with the different affinityGroup \"keys\". Like you would have spread setup for \"availabilityZone\" and anti-affinity setup for \"rack\".  In that case, you want to spread the nodes across availabilityZones as best as possible, and you want to avoid putting two replicas on the same rack.\r\n\r\nThinking about it more given my answer above, I guess this does make more sense as a single option, with separate toggles like \"maxSkew\" and \"maxAffinity\" (still and awful name). And maybe we eventually allow for two of these to be configured.\r\n\r\nSo in my example you would have the `spread` configured for both `availabilityZone` and `rack`. `availabilityZone` could have a `maxAffinity` of `-1` or `0`, meaning there is no issue with there being tons of replicas in that `availabilityZone`. But `rack` would have a `maxAffinity` of `2`, saying you don't want more than 2 replicas in a single `rack`. \r\n\r\nI know that having multiple `affinityKeys` specified is not yet supported, just kind of thinking out loud. So in the end, I do think it makes sense to keep both features using the same system property, just in the future allow for defining multiple of them.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516879031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516943262","html_url":"https://github.com/apache/solr/pull/1577#issuecomment-1516943262","issue_url":"https://api.github.com/repos/apache/solr/issues/1577","id":1516943262,"node_id":"IC_kwDOFFj3yM5aaree","user":{"login":"tflobbe","id":496684,"node_id":"MDQ6VXNlcjQ5NjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/496684?v=4","gravatar_id":"","url":"https://api.github.com/users/tflobbe","html_url":"https://github.com/tflobbe","followers_url":"https://api.github.com/users/tflobbe/followers","following_url":"https://api.github.com/users/tflobbe/following{/other_user}","gists_url":"https://api.github.com/users/tflobbe/gists{/gist_id}","starred_url":"https://api.github.com/users/tflobbe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tflobbe/subscriptions","organizations_url":"https://api.github.com/users/tflobbe/orgs","repos_url":"https://api.github.com/users/tflobbe/repos","events_url":"https://api.github.com/users/tflobbe/events{/privacy}","received_events_url":"https://api.github.com/users/tflobbe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T21:00:47Z","updated_at":"2023-04-20T21:00:47Z","author_association":"MEMBER","body":"I see. Do keep in mind that \"availabilityZone\" is already doing the first level of spreading, and this configuration is only within one AZ (for racks, in your example). I guess someone may want AZ spreading + rack spreading + host anti-affinity or something like that, but maybe that's not a very common case.\r\n\r\nIt gets more complicated with some of the other variables already implemented, like replica types, or the \"withCollection\" setting","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516943262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516993264","html_url":"https://github.com/apache/solr/pull/1577#issuecomment-1516993264","issue_url":"https://api.github.com/repos/apache/solr/issues/1577","id":1516993264,"node_id":"IC_kwDOFFj3yM5aa3rw","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T21:58:18Z","updated_at":"2023-04-20T21:58:18Z","author_association":"CONTRIBUTOR","body":"> Do keep in mind that \"availabilityZone\" is already doing the first level of spreading, and this configuration is only within one AZ (for racks, in your example).\r\n\r\nI did not realize that, well in that case, I'm not sure we will need another layer. So I'm good to go at this point. Sorry for throwing out the erroneus things.\r\n\r\nI think the only thing left here is to rename it from \"anti-affinity\" to \"spread\" or something similar.\r\nAnd additions to the ref-guide page for this.\r\n\r\nBoth \"maxAffinity\" and \"spreadSkew\" can be added in future tickets.\r\n\r\n> It gets more complicated with some of the other variables already implemented, like replica types, or the \"withCollection\" setting\r\n\r\nAbsolutely. I'm assuming this already plays well with those?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1516993264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1517068641","html_url":"https://github.com/apache/solr/pull/1477#issuecomment-1517068641","issue_url":"https://api.github.com/repos/apache/solr/issues/1477","id":1517068641,"node_id":"IC_kwDOFFj3yM5abKFh","user":{"login":"patsonluk","id":2895902,"node_id":"MDQ6VXNlcjI4OTU5MDI=","avatar_url":"https://avatars.githubusercontent.com/u/2895902?v=4","gravatar_id":"","url":"https://api.github.com/users/patsonluk","html_url":"https://github.com/patsonluk","followers_url":"https://api.github.com/users/patsonluk/followers","following_url":"https://api.github.com/users/patsonluk/following{/other_user}","gists_url":"https://api.github.com/users/patsonluk/gists{/gist_id}","starred_url":"https://api.github.com/users/patsonluk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patsonluk/subscriptions","organizations_url":"https://api.github.com/users/patsonluk/orgs","repos_url":"https://api.github.com/users/patsonluk/repos","events_url":"https://api.github.com/users/patsonluk/events{/privacy}","received_events_url":"https://api.github.com/users/patsonluk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T23:50:31Z","updated_at":"2023-04-20T23:50:40Z","author_association":"CONTRIBUTOR","body":"@noblepaul I have pushed the updates, it's now using `AtomicReference<PerReplicaStates>` very similar to the `PrsSupplier`, but it does not fetch. The fetching is still done by the `PrsSupplier` but is only called before the `DocCollection` is constructed.\r\n\r\nLet me know your thoughts thanks!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1517068641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1517074309","html_url":"https://github.com/apache/solr/pull/1577#issuecomment-1517074309","issue_url":"https://api.github.com/repos/apache/solr/issues/1577","id":1517074309,"node_id":"IC_kwDOFFj3yM5abLeF","user":{"login":"tflobbe","id":496684,"node_id":"MDQ6VXNlcjQ5NjY4NA==","avatar_url":"https://avatars.githubusercontent.com/u/496684?v=4","gravatar_id":"","url":"https://api.github.com/users/tflobbe","html_url":"https://github.com/tflobbe","followers_url":"https://api.github.com/users/tflobbe/followers","following_url":"https://api.github.com/users/tflobbe/following{/other_user}","gists_url":"https://api.github.com/users/tflobbe/gists{/gist_id}","starred_url":"https://api.github.com/users/tflobbe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tflobbe/subscriptions","organizations_url":"https://api.github.com/users/tflobbe/orgs","repos_url":"https://api.github.com/users/tflobbe/repos","events_url":"https://api.github.com/users/tflobbe/events{/privacy}","received_events_url":"https://api.github.com/users/tflobbe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T23:58:18Z","updated_at":"2023-04-20T23:58:18Z","author_association":"MEMBER","body":"I've updated the code with a possible rename. the new validation of \"maxReplicasPerShardInDomain\" is not being used yet. \r\nStill, there is a need to improve javadocs and add something to the reference guide (couldn't find existing docs for this plugin)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1517074309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1517240922","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1517240922","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1517240922,"node_id":"IC_kwDOFFj3yM5ab0Ja","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T04:28:48Z","updated_at":"2023-04-21T04:28:48Z","author_association":"CONTRIBUTOR","body":"I appreciate the bulleted summary of your last comment very much.  It will make a good commit message.   I think this PR is in good shape.\r\n\r\nProposed CHANGES.txt _(less sure on this)_:\r\nIn maybe BUG category, if not IMPROVEMENT:\r\n* SOLR-7609: Internal update requests should fail back to the client (who can retry) in some edge cases for shard splits. Use HTTP status 510.  (your name here)\r\n\r\nThat is *very* similar to my other PR that does the same thing for a similar case.  I might just list both together, which we do sometimes.\r\n\r\n_(disclaimer: I'm on vacation)_","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1517240922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518101663","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1518101663","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1518101663,"node_id":"IC_kwDOFFj3yM5afGSf","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T16:58:28Z","updated_at":"2023-04-21T16:58:28Z","author_association":"MEMBER","body":"> That is very similar to my other PR that does the same thing for a similar case. I might just list both together, which we do sometimes.\r\n\r\nThe CHANGES.txt proposal sounds good to me, and sure if you want to merge both PRs at the same time with an adjacent listing I am fine with that.\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518101663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518426686","html_url":"https://github.com/apache/solr/pull/1504#issuecomment-1518426686","issue_url":"https://api.github.com/repos/apache/solr/issues/1504","id":1518426686,"node_id":"IC_kwDOFFj3yM5agVo-","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T23:46:08Z","updated_at":"2023-04-21T23:46:08Z","author_association":"MEMBER","body":"I spent some more time on this class and have identified 2 problematic things I wanted to share:\r\n * this looks like a NPE waiting to happen https://github.com/apache/solr/blob/db4cb66271f615da6a0a3ae6fed5fb2e184fd053/solr/core/src/java/org/apache/solr/update/processor/DistributedZkUpdateProcessor.java#L889 I believe the intent could have been to check `docCollection` for null instead of `collection`?\r\n * all over the class there is a pattern of checking read only status to prevent some operations I believe could be broken.\r\n```\r\nclusterState = zkController.getClusterState();\r\nif (isReadOnly()) {\r\n  throw new SolrException(ErrorCode.FORBIDDEN, \"Collection \" + collection + \" is read-only.\");\r\n}\r\n```\r\nrefreshing the `clusterState` is insufficient, because the `isReadOnly` is based on the `readOnlyCollection` flag that is only initialized at the beginning. if the intent was to have a fresh check, the `readOnlyCollection` flag needs to be updated too, based on the new `clusterState`. please correct if I am reading this incorrectly.\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518426686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518724980","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1518724980","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1518724980,"node_id":"IC_kwDOFFj3yM5ahed0","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T18:40:49Z","updated_at":"2023-04-22T18:40:49Z","author_association":"CONTRIBUTOR","body":"@elyograg could you test out this PR on your windows box?   I don't have one to test out these changes...   Would love your thoughts!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518724980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518725264","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1518725264","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1518725264,"node_id":"IC_kwDOFFj3yM5aheiQ","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T18:42:19Z","updated_at":"2023-04-22T18:42:19Z","author_association":"CONTRIBUTOR","body":"Okay, I think this PR is ready to go ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518725264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518725481","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1518725481","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1518725481,"node_id":"IC_kwDOFFj3yM5ahelp","user":{"login":"elyograg","id":4984827,"node_id":"MDQ6VXNlcjQ5ODQ4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4984827?v=4","gravatar_id":"","url":"https://api.github.com/users/elyograg","html_url":"https://github.com/elyograg","followers_url":"https://api.github.com/users/elyograg/followers","following_url":"https://api.github.com/users/elyograg/following{/other_user}","gists_url":"https://api.github.com/users/elyograg/gists{/gist_id}","starred_url":"https://api.github.com/users/elyograg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elyograg/subscriptions","organizations_url":"https://api.github.com/users/elyograg/orgs","repos_url":"https://api.github.com/users/elyograg/repos","events_url":"https://api.github.com/users/elyograg/events{/privacy}","received_events_url":"https://api.github.com/users/elyograg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T18:43:44Z","updated_at":"2023-04-22T18:43:44Z","author_association":"CONTRIBUTOR","body":"It is probably obvious to someone who uses github a lot... How do I pull source for the PR so I can build it?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518725481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518738580","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1518738580","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1518738580,"node_id":"IC_kwDOFFj3yM5ahhyU","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T19:23:37Z","updated_at":"2023-04-22T19:23:37Z","author_association":"CONTRIBUTOR","body":"I use github desktop, and then pick the PR via:\r\n<img width=\"516\" alt=\"image\" src=\"https://user-images.githubusercontent.com/22395/233802801-544f4a40-4e11-4ab5-8668-726729f3a67b.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518738580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518738640","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1518738640","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1518738640,"node_id":"IC_kwDOFFj3yM5ahhzQ","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T19:24:03Z","updated_at":"2023-04-22T19:24:03Z","author_association":"CONTRIBUTOR","body":"Does that make sense?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518738640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518739372","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1518739372","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1518739372,"node_id":"IC_kwDOFFj3yM5ahh-s","user":{"login":"elyograg","id":4984827,"node_id":"MDQ6VXNlcjQ5ODQ4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4984827?v=4","gravatar_id":"","url":"https://api.github.com/users/elyograg","html_url":"https://github.com/elyograg","followers_url":"https://api.github.com/users/elyograg/followers","following_url":"https://api.github.com/users/elyograg/following{/other_user}","gists_url":"https://api.github.com/users/elyograg/gists{/gist_id}","starred_url":"https://api.github.com/users/elyograg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elyograg/subscriptions","organizations_url":"https://api.github.com/users/elyograg/orgs","repos_url":"https://api.github.com/users/elyograg/repos","events_url":"https://api.github.com/users/elyograg/events{/privacy}","received_events_url":"https://api.github.com/users/elyograg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T19:28:20Z","updated_at":"2023-04-22T19:28:20Z","author_association":"CONTRIBUTOR","body":"Never used the github app, only the git commandline client that's everywhere.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518739372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518830054","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1518830054","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1518830054,"node_id":"IC_kwDOFFj3yM5ah4Hm","user":{"login":"elyograg","id":4984827,"node_id":"MDQ6VXNlcjQ5ODQ4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4984827?v=4","gravatar_id":"","url":"https://api.github.com/users/elyograg","html_url":"https://github.com/elyograg","followers_url":"https://api.github.com/users/elyograg/followers","following_url":"https://api.github.com/users/elyograg/following{/other_user}","gists_url":"https://api.github.com/users/elyograg/gists{/gist_id}","starred_url":"https://api.github.com/users/elyograg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elyograg/subscriptions","organizations_url":"https://api.github.com/users/elyograg/orgs","repos_url":"https://api.github.com/users/elyograg/repos","events_url":"https://api.github.com/users/elyograg/events{/privacy}","received_events_url":"https://api.github.com/users/elyograg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T21:38:23Z","updated_at":"2023-04-22T21:38:23Z","author_association":"CONTRIBUTOR","body":"All works on Windows as Eric intended.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518830054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518831010","html_url":"https://github.com/apache/solr/pull/1581#issuecomment-1518831010","issue_url":"https://api.github.com/repos/apache/solr/issues/1581","id":1518831010,"node_id":"IC_kwDOFFj3yM5ah4Wi","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T21:45:10Z","updated_at":"2023-04-22T21:45:10Z","author_association":"CONTRIBUTOR","body":"As I opened this PR I wondered to myself, why do we have this command?   Why not just use Curl etc?   I'm curious if we have any ideas why this is here?   For situations where you don't have curl???    ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1518831010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1519009705","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1519009705","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1519009705,"node_id":"IC_kwDOFFj3yM5aij-p","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-23T09:26:56Z","updated_at":"2023-04-23T09:26:56Z","author_association":"CONTRIBUTOR","body":"I use the “hub” cli tool: https://hub.github.com/\r\n\r\n`hub pr checkout 16754`","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1519009705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1519422821","html_url":"https://github.com/apache/solr/pull/1440#issuecomment-1519422821","issue_url":"https://api.github.com/repos/apache/solr/issues/1440","id":1519422821,"node_id":"IC_kwDOFFj3yM5akI1l","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T05:56:25Z","updated_at":"2023-04-24T05:56:25Z","author_association":"CONTRIBUTOR","body":"looks like the  problem was [here](https://github.com/apache/solr/blob/1b06505c0f956ba6d112acec461c5946446dbdad/solr/core/src/java/org/apache/solr/response/transform/GeoTransformerFactory.java#L137)\r\n\r\n@magibney ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1519422821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520201259","html_url":"https://github.com/apache/solr/pull/1477#issuecomment-1520201259","issue_url":"https://api.github.com/repos/apache/solr/issues/1477","id":1520201259,"node_id":"IC_kwDOFFj3yM5anG4r","user":{"login":"noblepaul","id":54862,"node_id":"MDQ6VXNlcjU0ODYy","avatar_url":"https://avatars.githubusercontent.com/u/54862?v=4","gravatar_id":"","url":"https://api.github.com/users/noblepaul","html_url":"https://github.com/noblepaul","followers_url":"https://api.github.com/users/noblepaul/followers","following_url":"https://api.github.com/users/noblepaul/following{/other_user}","gists_url":"https://api.github.com/users/noblepaul/gists{/gist_id}","starred_url":"https://api.github.com/users/noblepaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noblepaul/subscriptions","organizations_url":"https://api.github.com/users/noblepaul/orgs","repos_url":"https://api.github.com/users/noblepaul/repos","events_url":"https://api.github.com/users/noblepaul/events{/privacy}","received_events_url":"https://api.github.com/users/noblepaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T13:51:58Z","updated_at":"2023-04-24T13:51:58Z","author_association":"CONTRIBUTOR","body":"This change looks good now. There are no outstanding concerns now. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520201259/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520424576","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1520424576","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1520424576,"node_id":"IC_kwDOFFj3yM5an9aA","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T15:48:55Z","updated_at":"2023-04-24T15:48:55Z","author_association":"CONTRIBUTOR","body":"do we need to document in the solr 9 changes doc that `-i` and `-info` are gone?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520424576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520431834","html_url":"https://github.com/apache/solr/pull/1579#issuecomment-1520431834","issue_url":"https://api.github.com/repos/apache/solr/issues/1579","id":1520431834,"node_id":"IC_kwDOFFj3yM5an_La","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T15:54:04Z","updated_at":"2023-04-24T15:54:04Z","author_association":"CONTRIBUTOR","body":"> do we need to document in the solr 9 changes doc that `-i` and `-info` are gone?\r\n\r\nIMO yes, no downsides 🙂 ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520431834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520478105","html_url":"https://github.com/apache/solr/pull/1477#issuecomment-1520478105","issue_url":"https://api.github.com/repos/apache/solr/issues/1477","id":1520478105,"node_id":"IC_kwDOFFj3yM5aoKeZ","user":{"login":"patsonluk","id":2895902,"node_id":"MDQ6VXNlcjI4OTU5MDI=","avatar_url":"https://avatars.githubusercontent.com/u/2895902?v=4","gravatar_id":"","url":"https://api.github.com/users/patsonluk","html_url":"https://github.com/patsonluk","followers_url":"https://api.github.com/users/patsonluk/followers","following_url":"https://api.github.com/users/patsonluk/following{/other_user}","gists_url":"https://api.github.com/users/patsonluk/gists{/gist_id}","starred_url":"https://api.github.com/users/patsonluk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patsonluk/subscriptions","organizations_url":"https://api.github.com/users/patsonluk/orgs","repos_url":"https://api.github.com/users/patsonluk/repos","events_url":"https://api.github.com/users/patsonluk/events{/privacy}","received_events_url":"https://api.github.com/users/patsonluk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T16:23:20Z","updated_at":"2023-04-24T16:23:20Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nMany thanks for the review @noblepaul ! I have added another small commit https://github.com/apache/solr/pull/1477/commits/4752028b0c8a741b3e1a2ba91627225200c3c9b6 that adds javadoc and make the changed DocCollection ctor private - to ensure dev calls `DocCollection#buildDocCollection` in the future. If it's all good, would you mind to merge the changes? Or do we also need to add items to the release notes? \r\n\r\nMany thanks again!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520478105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520478108","html_url":"https://github.com/apache/solr/pull/1581#issuecomment-1520478108","issue_url":"https://api.github.com/repos/apache/solr/issues/1581","id":1520478108,"node_id":"IC_kwDOFFj3yM5aoKec","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T16:23:20Z","updated_at":"2023-04-24T16:23:20Z","author_association":"CONTRIBUTOR","body":"> As I opened this PR I wondered to myself, why do we have this command? Why not just use Curl etc? I'm curious if we have any ideas why this is here? For situations where you don't have curl???\r\n\r\nThere are a couple issues, like basicAuth and TLS I believe, that this makes much easier. (Though I have seen the command take extraordinary amounts of time to run. Like 5 seconds for a basic check that should take milliseconds)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520478108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520646003","html_url":"https://github.com/apache/solr/pull/1580#issuecomment-1520646003","issue_url":"https://api.github.com/repos/apache/solr/issues/1580","id":1520646003,"node_id":"IC_kwDOFFj3yM5aozdz","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T18:36:19Z","updated_at":"2023-04-24T18:36:19Z","author_association":"CONTRIBUTOR","body":"I am not going to add it to CHANGES.txt since it's a totally internal refactor...  And pretty small..  ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520646003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520703152","html_url":"https://github.com/apache/solr/pull/1587#issuecomment-1520703152","issue_url":"https://api.github.com/repos/apache/solr/issues/1587","id":1520703152,"node_id":"IC_kwDOFFj3yM5apBaw","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T19:19:49Z","updated_at":"2023-04-24T19:19:49Z","author_association":"MEMBER","body":"thank you @risdenk for the blazing fast review!! waiting on @tflobbe to validate this, as I've discussed the changes with him over slack already (it was in the context of the #1564 regression).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520703152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520799474","html_url":"https://github.com/apache/solr/pull/1587#issuecomment-1520799474","issue_url":"https://api.github.com/repos/apache/solr/issues/1587","id":1520799474,"node_id":"IC_kwDOFFj3yM5apY7y","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-24T20:42:21Z","updated_at":"2023-04-24T20:42:21Z","author_association":"CONTRIBUTOR","body":"@stillalex can you update the PR title to be a bit more representative of what the change is?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1520799474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]