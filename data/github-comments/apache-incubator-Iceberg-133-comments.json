[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986477479","html_url":"https://github.com/apache/iceberg/pull/3606#issuecomment-986477479","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3606","id":986477479,"node_id":"IC_kwDOCW7NX846zHOn","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T06:26:35Z","updated_at":"2021-12-06T06:26:35Z","author_association":"CONTRIBUTOR","body":"> Our HMS does not enable txn and housekeeper service, which is Hive's default behavior.\r\n\r\nMay I know why the housekeeper threads are not enabled? This seems brittle to me, and forcing every user to clean up everything, everytime seems counterproductive. \r\n\r\nThanks, Peter ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986477479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986489371","html_url":"https://github.com/apache/iceberg/pull/3659#issuecomment-986489371","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3659","id":986489371,"node_id":"IC_kwDOCW7NX846zKIb","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T06:54:58Z","updated_at":"2021-12-06T06:54:58Z","author_association":"CONTRIBUTOR","body":"@openinx any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986489371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986545988","html_url":"https://github.com/apache/iceberg/pull/3659#issuecomment-986545988","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3659","id":986545988,"node_id":"IC_kwDOCW7NX846zX9E","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T08:27:58Z","updated_at":"2021-12-06T08:27:58Z","author_association":"MEMBER","body":"I can accept the refactor  names if others really don't like the original nested names which does not match the apache iceberg name styles (I wish the we can have a more clear document about how to define the names, then maybe I could avoid this name confusion when I developed the original version.).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986545988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986556675","html_url":"https://github.com/apache/iceberg/issues/3393#issuecomment-986556675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3393","id":986556675,"node_id":"IC_kwDOCW7NX846zakD","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T08:43:57Z","updated_at":"2021-12-06T08:44:07Z","author_association":"CONTRIBUTOR","body":"To be honest I would like to keep the tests here even if the functionality is not widely used. At least the MR version is somewhat working.\r\nTez functionality not works out of the box with the current Hive versions :( :( :(. We identified several Tez and Hive changes which are needed.\r\n\r\nStill we would like to use this as guinea pig for making sure that the basic Hive functionalities are intact. If there is some Iceberg change affecting the Hive integration the tests should show them immediately, rather than facing them only when we upgrade the Iceberg version after a release.\r\n\r\n+1 on removing this from the 0.13.0 milestone","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986556675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986562001","html_url":"https://github.com/apache/iceberg/pull/3270#issuecomment-986562001","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3270","id":986562001,"node_id":"IC_kwDOCW7NX846zb3R","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T08:51:36Z","updated_at":"2021-12-06T08:51:36Z","author_association":"MEMBER","body":"@jackye1995 , We know the aws sdk provides a bundled jar to include all the dependency jars from all kinds of amazon web services, right ?  Currently,  the aliyun sdk don't provide that bundled jar, then if people plan to test the iceberg on oss, then they will need add the dependencies one by one ( Let's take the flink engines as an example):\r\n\r\n```\r\n./bin/sql-client.sh -j /path/to/<aliyun-oss-sdk>.jar \\\r\n     -j /path/to/<jaxb-api>.jar \\\r\n     -j /path/to/< activation>.jar \\\r\n    -j /path/to/<jaxb-runtime>jar\r\n   shell\r\n```\r\n\r\nThis exposes too much detail to the user, which makes it's harder for people to get their first quickstart works fine.  So I recommend to bundle all the dependency jars into our apache iceberg released `iceberg-aliyun` jar, then people don't have to add them one by one.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986562001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986585869","html_url":"https://github.com/apache/iceberg/pull/3646#issuecomment-986585869","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3646","id":986585869,"node_id":"IC_kwDOCW7NX846zhsN","user":{"login":"wulei0302","id":52473940,"node_id":"MDQ6VXNlcjUyNDczOTQw","avatar_url":"https://avatars.githubusercontent.com/u/52473940?v=4","gravatar_id":"","url":"https://api.github.com/users/wulei0302","html_url":"https://github.com/wulei0302","followers_url":"https://api.github.com/users/wulei0302/followers","following_url":"https://api.github.com/users/wulei0302/following{/other_user}","gists_url":"https://api.github.com/users/wulei0302/gists{/gist_id}","starred_url":"https://api.github.com/users/wulei0302/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wulei0302/subscriptions","organizations_url":"https://api.github.com/users/wulei0302/orgs","repos_url":"https://api.github.com/users/wulei0302/repos","events_url":"https://api.github.com/users/wulei0302/events{/privacy}","received_events_url":"https://api.github.com/users/wulei0302/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T09:18:42Z","updated_at":"2021-12-06T09:18:42Z","author_association":"CONTRIBUTOR","body":"> Thanks for fixing this, @wulei0302! I'll merge when the tests are passing.\r\n> \r\n> And thank you for updating the tests! Nice work.\r\n\r\nTrouble you to approve again, thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986585869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986613079","html_url":"https://github.com/apache/iceberg/pull/3652#issuecomment-986613079","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3652","id":986613079,"node_id":"IC_kwDOCW7NX846zoVX","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T09:54:07Z","updated_at":"2021-12-06T09:54:07Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch @marton-bod!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986613079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986613480","html_url":"https://github.com/apache/iceberg/pull/3653#issuecomment-986613480","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3653","id":986613480,"node_id":"IC_kwDOCW7NX846zobo","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T09:54:42Z","updated_at":"2021-12-06T09:54:42Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch @marton-bod!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986613480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986726809","html_url":"https://github.com/apache/iceberg/issues/3236#issuecomment-986726809","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3236","id":986726809,"node_id":"IC_kwDOCW7NX8460EGZ","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T12:22:10Z","updated_at":"2021-12-06T12:22:10Z","author_association":"CONTRIBUTOR","body":"Thanks @RussellSpitzer .\r\n\r\nCan you please help me with some clarification's :) or can point me to some resources : \r\n\r\nwhen it's said groups which have single file you mean to say the packed groups ?\r\nhttps://github.com/apache/iceberg/blob/adc6d153b26e7f982d75b427f62002e32f1913fc/core/src/main/java/org/apache/iceberg/actions/BinPackStrategy.java#L137-L139\r\n\r\nImplying an additional condition on filtering the potentialGroups .\r\n```\r\n(group.size() >= minInputFiles && group.size() != 1)  || sizeOfInputFiles(group) > targetFileSize\r\n```\r\nor you mean skip all groups when `minInputFiles = 1` .\r\n\r\nAs per my understanding, this story, attemps to save op's when we have one file within our targetSize we don't need to re-write it and thus can make this a no-op. But if there is a file whose size is  > targetSize it make sense for it to be re-written into optimal size files and hence the skipping all groups when this config is set to 1 is incorrect and thus we should intend to modify the filter condition in the potentialGroups filtering.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986726809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986874859","html_url":"https://github.com/apache/iceberg/pull/3294#issuecomment-986874859","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3294","id":986874859,"node_id":"IC_kwDOCW7NX8460oPr","user":{"login":"mayursrivastava","id":8659624,"node_id":"MDQ6VXNlcjg2NTk2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8659624?v=4","gravatar_id":"","url":"https://api.github.com/users/mayursrivastava","html_url":"https://github.com/mayursrivastava","followers_url":"https://api.github.com/users/mayursrivastava/followers","following_url":"https://api.github.com/users/mayursrivastava/following{/other_user}","gists_url":"https://api.github.com/users/mayursrivastava/gists{/gist_id}","starred_url":"https://api.github.com/users/mayursrivastava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayursrivastava/subscriptions","organizations_url":"https://api.github.com/users/mayursrivastava/orgs","repos_url":"https://api.github.com/users/mayursrivastava/repos","events_url":"https://api.github.com/users/mayursrivastava/events{/privacy}","received_events_url":"https://api.github.com/users/mayursrivastava/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T15:19:15Z","updated_at":"2021-12-06T15:19:15Z","author_association":"CONTRIBUTOR","body":"(apologies for the delay, due to year-end stuff, I wasn't able to get back to this pr).\r\n\r\nI've made the following updates:\r\n1. Refactored ```InMemoryCatalog``` code so that ```InMemoryTableOperations``` is as inner class and both directly access namespace/table maps. \r\n2. Refactored ```InMemoryFileIO``` such all other classes are inner classes and all of them directly access the ```InMemoryFileStore```.\r\n3. Added seek test to ```InMemoryFileIOTest``` to better emulate parquet file read behavior.\r\n4. Moved common catalog tests from ```TestHadoopCatalog``` to ```CommonCatalogTests```. The ```CommonCatalogTests``` runs parameterized tests on ```HadoopCatalog``` and ```InMemoryCatalog```. ```CommonCatalogTests``` contains tests that don't require checking the file system (as was done by a few tests in the ```TestHadoopCatalog```). This change was made so that we run the same tests on the ```InMemoryCatalog``` as done by other catalogs.\r\n5. Rebased/resolved conflicts from ```TestHadoopCatalog```.\r\n\r\nPlease take another look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986874859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986938823","html_url":"https://github.com/apache/iceberg/pull/3434#issuecomment-986938823","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3434","id":986938823,"node_id":"IC_kwDOCW7NX846033H","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T16:28:25Z","updated_at":"2021-12-06T16:28:25Z","author_association":"CONTRIBUTOR","body":"I'll take a look today. Thanks, @openinx! And thanks to everyoen for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/986938823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987043460","html_url":"https://github.com/apache/iceberg/pull/3606#issuecomment-987043460","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3606","id":987043460,"node_id":"IC_kwDOCW7NX8461RaE","user":{"login":"smallx","id":16517035,"node_id":"MDQ6VXNlcjE2NTE3MDM1","avatar_url":"https://avatars.githubusercontent.com/u/16517035?v=4","gravatar_id":"","url":"https://api.github.com/users/smallx","html_url":"https://github.com/smallx","followers_url":"https://api.github.com/users/smallx/followers","following_url":"https://api.github.com/users/smallx/following{/other_user}","gists_url":"https://api.github.com/users/smallx/gists{/gist_id}","starred_url":"https://api.github.com/users/smallx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smallx/subscriptions","organizations_url":"https://api.github.com/users/smallx/orgs","repos_url":"https://api.github.com/users/smallx/repos","events_url":"https://api.github.com/users/smallx/events{/privacy}","received_events_url":"https://api.github.com/users/smallx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T18:30:49Z","updated_at":"2021-12-06T18:30:49Z","author_association":"CONTRIBUTOR","body":"Thanks @pvary \r\n\r\nWe haven't encountered similar lock problems before. And we will also try housekeeper service.\r\n\r\nIf we can forwardly release the locks when the program is abnormal, it may be better for users who do not start the housekeeper threads.\r\n\r\nWhen the program exits normally, `tableLocksById` should be empty, so this shutdown hook will do nothing. The lock cleaning action will be executed only when the program exits abnormally. If possible, I can also add a property to control whether to add shutdown hook.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987043460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987088495","html_url":"https://github.com/apache/iceberg/pull/3664#issuecomment-987088495","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3664","id":987088495,"node_id":"IC_kwDOCW7NX8461cZv","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T19:09:33Z","updated_at":"2021-12-06T19:09:33Z","author_association":"CONTRIBUTOR","body":"I'll merge this. Thanks for reviewing, @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987088495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987094684","html_url":"https://github.com/apache/iceberg/pull/3664#issuecomment-987094684","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3664","id":987094684,"node_id":"IC_kwDOCW7NX8461d6c","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T19:12:43Z","updated_at":"2021-12-06T19:12:43Z","author_association":"CONTRIBUTOR","body":"Late reply (I thought I'd approved but it was pending), but this is a welcome addition and will make sending table metadata updates to the REST catalog much simpler.\r\n\r\nThank you @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987094684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987096895","html_url":"https://github.com/apache/iceberg/pull/3677#issuecomment-987096895","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3677","id":987096895,"node_id":"IC_kwDOCW7NX8461ec_","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T19:13:33Z","updated_at":"2021-12-06T19:13:33Z","author_association":"CONTRIBUTOR","body":"@CircArgs","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987096895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987139569","html_url":"https://github.com/apache/iceberg/pull/3294#issuecomment-987139569","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3294","id":987139569,"node_id":"IC_kwDOCW7NX8461o3x","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T20:00:11Z","updated_at":"2021-12-06T20:00:11Z","author_association":"CONTRIBUTOR","body":"Thanks for continuing the work! FYI, I already imported the in-memory catalog to https://github.com/prestodb/presto/pull/17046. The overall implementation looks good to me for the catalog. \r\n\r\nI am a bit unsure about the `InMemoryFileIO` part. Do you think it's actually practical to store all the bytes in a map? The FileIO would be serialized and passed around worker nodes, storing all data in memory would cause serialization failure when payload is too large. Would it be more useful to have a `LocalFileIO` instead of `InMemoryFileIO`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987139569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987226142","html_url":"https://github.com/apache/iceberg/pull/3482#issuecomment-987226142","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3482","id":987226142,"node_id":"IC_kwDOCW7NX8461-Ae","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T21:17:59Z","updated_at":"2021-12-06T21:17:59Z","author_association":"CONTRIBUTOR","body":"@KnightChess any updates?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987226142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987269053","html_url":"https://github.com/apache/iceberg/pull/3591#issuecomment-987269053","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3591","id":987269053,"node_id":"IC_kwDOCW7NX8462Ie9","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T21:56:01Z","updated_at":"2021-12-06T21:56:01Z","author_association":"CONTRIBUTOR","body":"There is no more unresolved comment and it's been open for some time now, I will merge it, thanks Ryan!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987269053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987270945","html_url":"https://github.com/apache/iceberg/pull/3614#issuecomment-987270945","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3614","id":987270945,"node_id":"IC_kwDOCW7NX8462I8h","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T21:58:40Z","updated_at":"2021-12-06T21:58:40Z","author_association":"CONTRIBUTOR","body":"If I understand correctly, you can't change table properties when there is a primary key set for the table?\r\n\r\n@stevenzwu and @tweise, can you take a look at this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987270945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987272717","html_url":"https://github.com/apache/iceberg/pull/3673#issuecomment-987272717","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3673","id":987272717,"node_id":"IC_kwDOCW7NX8462JYN","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:01:15Z","updated_at":"2021-12-06T22:01:15Z","author_association":"CONTRIBUTOR","body":"Thanks for porting these, @wypoon!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987272717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987282389","html_url":"https://github.com/apache/iceberg/pull/3663#issuecomment-987282389","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3663","id":987282389,"node_id":"IC_kwDOCW7NX8462LvV","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:11:25Z","updated_at":"2021-12-06T22:11:25Z","author_association":"CONTRIBUTOR","body":"@CodingCat, adding the ability to use a lock doesn't need to require a dependency on iceberg-aws. The lock manager was built as an API and multiple implementations, including an in-memory implementation. The interface and in-memory implementation could be moved into core and you would then dynamically load your preferred lock manager. That avoids the circular dependency and adds very similar functionality to what you're doing here out of the box.\r\n\r\nRegarding the use case, I understand wanting to have no dependency other than the object store. I think the right way to do that is to coordinate writers, whether those are threads or processes. If you choose to go with the in-memory lock manager and risk data loss that's up to you -- to your point, you would have reached parity so you may not want full locking.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987282389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987290780","html_url":"https://github.com/apache/iceberg/pull/3675#issuecomment-987290780","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3675","id":987290780,"node_id":"IC_kwDOCW7NX8462Nyc","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:18:38Z","updated_at":"2021-12-06T22:18:38Z","author_association":"CONTRIBUTOR","body":"Thanks, @ajantha-bhat!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987290780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987308704","html_url":"https://github.com/apache/iceberg/pull/3627#issuecomment-987308704","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3627","id":987308704,"node_id":"IC_kwDOCW7NX8462SKg","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:34:20Z","updated_at":"2021-12-06T22:34:20Z","author_association":"CONTRIBUTOR","body":"Thanks, @pvary! Looks good to me, but it has conflicts.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987308704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987311177","html_url":"https://github.com/apache/iceberg/pull/3642#issuecomment-987311177","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3642","id":987311177,"node_id":"IC_kwDOCW7NX8462SxJ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:36:33Z","updated_at":"2021-12-06T22:36:33Z","author_association":"CONTRIBUTOR","body":"Running CI.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987311177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987320323","html_url":"https://github.com/apache/iceberg/pull/3642#issuecomment-987320323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3642","id":987320323,"node_id":"IC_kwDOCW7NX8462VAD","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:43:16Z","updated_at":"2021-12-06T22:43:16Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @racevedoo! The nebula plugin was in maintenance mode before we started using it, but the team didn't actually have a replacement to recommend. We can look into it again. I think that Gradle was working on dependency management at the time and there may be something new that we can move to.\r\n\r\nI'm skeptical that moving to a hard-coded slf4j-api version is the right thing to do. If we don't need to include SLF4J in the runtime module for 3.2, then let's just exclude it there. I think that's a better solution because we're shipping a smaller Jar and we're not modifying anything else.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987320323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987320480","html_url":"https://github.com/apache/iceberg/pull/3642#issuecomment-987320480","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3642","id":987320480,"node_id":"IC_kwDOCW7NX8462VCg","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:43:32Z","updated_at":"2021-12-06T22:43:32Z","author_association":"CONTRIBUTOR","body":"Marking this for inclusion in 0.13.0.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987320480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987325605","html_url":"https://github.com/apache/iceberg/pull/3270#issuecomment-987325605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3270","id":987325605,"node_id":"IC_kwDOCW7NX8462WSl","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:46:17Z","updated_at":"2021-12-06T22:46:17Z","author_association":"CONTRIBUTOR","body":"We only have 1 bundled jar for an engine for all JDK versions, so we have to either include all the dependencies, or no dependency at all.\r\n\r\nI think the reason we did not include the jars for AWS was because we didn't want to inflate the bundled jar size. That's something we also need to consider here. For Aliyun, I am checking the maven repo, to include all dependencies for OSS, it also needs 3 other direct dependencies (core, ram, kms), all their dependencies, and the 3 javax jars. The runtime jar of jaxb was over 1MB. So it's not a small dependency footprint. \r\n\r\nI have not checked if the jars conflict with any jars in the engine, that's something we also need to be careful. Plus it also creates an inconsistent experience across intergrated services, so I am a bit hesitated here. @rdblue any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987325605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987333687","html_url":"https://github.com/apache/iceberg/pull/3591#issuecomment-987333687","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3591","id":987333687,"node_id":"IC_kwDOCW7NX8462YQ3","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:58:41Z","updated_at":"2021-12-06T22:58:41Z","author_association":"CONTRIBUTOR","body":"Thanks, @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987333687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987333727","html_url":"https://github.com/apache/iceberg/pull/3659#issuecomment-987333727","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3659","id":987333727,"node_id":"IC_kwDOCW7NX8462YRf","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T22:58:45Z","updated_at":"2021-12-06T22:58:45Z","author_association":"CONTRIBUTOR","body":"> I wish the we can have a more clear document about how to define the names\r\n\r\nThanks, I added #3678 to track this\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987333727/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987336259","html_url":"https://github.com/apache/iceberg/pull/3294#issuecomment-987336259","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3294","id":987336259,"node_id":"IC_kwDOCW7NX8462Y5D","user":{"login":"mayuropensource","id":50754297,"node_id":"MDQ6VXNlcjUwNzU0Mjk3","avatar_url":"https://avatars.githubusercontent.com/u/50754297?v=4","gravatar_id":"","url":"https://api.github.com/users/mayuropensource","html_url":"https://github.com/mayuropensource","followers_url":"https://api.github.com/users/mayuropensource/followers","following_url":"https://api.github.com/users/mayuropensource/following{/other_user}","gists_url":"https://api.github.com/users/mayuropensource/gists{/gist_id}","starred_url":"https://api.github.com/users/mayuropensource/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayuropensource/subscriptions","organizations_url":"https://api.github.com/users/mayuropensource/orgs","repos_url":"https://api.github.com/users/mayuropensource/repos","events_url":"https://api.github.com/users/mayuropensource/events{/privacy}","received_events_url":"https://api.github.com/users/mayuropensource/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T23:03:13Z","updated_at":"2021-12-07T00:02:37Z","author_association":"CONTRIBUTOR","body":"Hi @jackye1995, good to know that the catalog is working well.\r\nThe purpose of ```InMemoryFileIO``` is for unit testing that can be used in environments where local disk is not accessible or allowed. The expectation was that the payload will be small in unit testing environments. If we need larger payloads, we can make the catalog parameterized to accept ```LocalFileIO``` or ```HadoopFileIO```.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987336259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987345065","html_url":"https://github.com/apache/iceberg/pull/3642#issuecomment-987345065","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3642","id":987345065,"node_id":"IC_kwDOCW7NX8462bCp","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T23:14:34Z","updated_at":"2021-12-06T23:14:34Z","author_association":"CONTRIBUTOR","body":"@rdblue thanks, adding an issue to track the long-term effort.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987345065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987359794","html_url":"https://github.com/apache/iceberg/pull/3642#issuecomment-987359794","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3642","id":987359794,"node_id":"IC_kwDOCW7NX8462eoy","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T23:28:52Z","updated_at":"2021-12-06T23:28:52Z","author_association":"CONTRIBUTOR","body":"sorry did not see this issue #3650 already opened, mark #3679 as duplicate.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987359794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987360478","html_url":"https://github.com/apache/iceberg/issues/3679#issuecomment-987360478","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3679","id":987360478,"node_id":"IC_kwDOCW7NX8462eze","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-06T23:29:24Z","updated_at":"2021-12-06T23:29:24Z","author_association":"CONTRIBUTOR","body":"duplicate of #3650 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987360478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987395629","html_url":"https://github.com/apache/iceberg/pull/3671#issuecomment-987395629","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3671","id":987395629,"node_id":"IC_kwDOCW7NX8462nYt","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T00:05:36Z","updated_at":"2021-12-07T00:05:36Z","author_association":"MEMBER","body":"@kbendick : PR is ready. Could you please take a look at it again ?\r\ncc: @rdblue , @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987395629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987396650","html_url":"https://github.com/apache/iceberg/pull/3672#issuecomment-987396650","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3672","id":987396650,"node_id":"IC_kwDOCW7NX8462noq","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T00:06:11Z","updated_at":"2021-12-07T00:06:11Z","author_association":"MEMBER","body":"cc: @kbendick , @RussellSpitzer , @rdblue \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987396650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987404066","html_url":"https://github.com/apache/iceberg/pull/3671#issuecomment-987404066","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3671","id":987404066,"node_id":"IC_kwDOCW7NX8462pci","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T00:10:58Z","updated_at":"2021-12-07T00:10:58Z","author_association":"MEMBER","body":"> The new name of the file is: spark/v3.1/spark/src/main/java/org/apache/spark/sql/catalyst/plans.logical/SetWriteDistributionAndOrdering.scala\r\n\r\n> It's odd to me that it would be catalyst/plans.logical/SetWriteDistributionAndOrdering.scala instead of with a slash in the file path name (instead using plans.logical for just part of the path).\r\n\r\nI have created a sub packages, instead single package. So, the path is using '/' now instead of '.'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987404066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987415885","html_url":"https://github.com/apache/iceberg/issues/3669#issuecomment-987415885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3669","id":987415885,"node_id":"IC_kwDOCW7NX8462sVN","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T00:20:15Z","updated_at":"2021-12-07T00:20:15Z","author_association":"CONTRIBUTOR","body":"Looks like Hive is missing from your classpath. If you add it, I think it should work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987415885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987420105","html_url":"https://github.com/apache/iceberg/pull/3646#issuecomment-987420105","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3646","id":987420105,"node_id":"IC_kwDOCW7NX8462tXJ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T00:23:46Z","updated_at":"2021-12-07T00:23:46Z","author_association":"CONTRIBUTOR","body":"Thanks, @wulei0302!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987420105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987420221","html_url":"https://github.com/apache/iceberg/issues/3575#issuecomment-987420221","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3575","id":987420221,"node_id":"IC_kwDOCW7NX8462tY9","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T00:23:59Z","updated_at":"2021-12-07T00:23:59Z","author_association":"CONTRIBUTOR","body":"Fixed in #3646.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987420221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987484116","html_url":"https://github.com/apache/iceberg/pull/3482#issuecomment-987484116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3482","id":987484116,"node_id":"IC_kwDOCW7NX84628_U","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T01:28:45Z","updated_at":"2021-12-07T01:28:45Z","author_association":"CONTRIBUTOR","body":"> @KnightChess any updates?\r\n\r\nsorry, my fault. There was no change in the email I received so I did not confirm on github. I will do it today","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987484116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987485161","html_url":"https://github.com/apache/iceberg/pull/3482#issuecomment-987485161","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3482","id":987485161,"node_id":"IC_kwDOCW7NX84629Pp","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T01:31:04Z","updated_at":"2021-12-07T01:31:04Z","author_association":"CONTRIBUTOR","body":"@jackye1995 cc","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987485161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987509603","html_url":"https://github.com/apache/iceberg/pull/3270#issuecomment-987509603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3270","id":987509603,"node_id":"IC_kwDOCW7NX8463DNj","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T02:26:58Z","updated_at":"2021-12-07T02:26:58Z","author_association":"MEMBER","body":"As we will introduce more and more vendor's integration modules,  I think it's time to consider the strategy to handle the relationship between iceberg core/api/engines modules and vendor integration modules.\r\n\r\nCurrently, we have introduced the aws & nessie modules and we added them into the engines runtime modules by default. As more and more integration come in,  the engine runtime modules will be  even more fatter. The correct way is making them to be pluggable modules,  for example the apache hadoop release don't include all the cloud vendor's object storage   implementations into the default classpath,  but it makes those modules to be hadoop's plugin implementations and if people want to enable the specific vendor implementation then they just enable it.\r\n\r\nFor our apache iceberg integration case, I think we can also make the `iceberg-aliyun` to be optional plugin modules and we build `iceberg-aliyun` module with including all dependencies jars. If people want to access the iceberg tables backed aliyun oss, then they just need to load the `iceberg-aliyun` jar. Does that make sense (also for future vendor integration ) ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987509603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987510546","html_url":"https://github.com/apache/iceberg/pull/3434#issuecomment-987510546","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3434","id":987510546,"node_id":"IC_kwDOCW7NX8463DcS","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T02:29:20Z","updated_at":"2021-12-07T02:29:20Z","author_association":"MEMBER","body":"I think this PR will need an update now because I think there are some newly introduced changes which were added into flin 1.13.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987510546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987519246","html_url":"https://github.com/apache/iceberg/pull/2680#issuecomment-987519246","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2680","id":987519246,"node_id":"IC_kwDOCW7NX8463FkO","user":{"login":"kien-truong","id":149578,"node_id":"MDQ6VXNlcjE0OTU3OA==","avatar_url":"https://avatars.githubusercontent.com/u/149578?v=4","gravatar_id":"","url":"https://api.github.com/users/kien-truong","html_url":"https://github.com/kien-truong","followers_url":"https://api.github.com/users/kien-truong/followers","following_url":"https://api.github.com/users/kien-truong/following{/other_user}","gists_url":"https://api.github.com/users/kien-truong/gists{/gist_id}","starred_url":"https://api.github.com/users/kien-truong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kien-truong/subscriptions","organizations_url":"https://api.github.com/users/kien-truong/orgs","repos_url":"https://api.github.com/users/kien-truong/repos","events_url":"https://api.github.com/users/kien-truong/events{/privacy}","received_events_url":"https://api.github.com/users/kien-truong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T02:51:32Z","updated_at":"2021-12-07T02:51:32Z","author_association":"NONE","body":"We have used RocksDB in the past with Flink, and it does require some tuning to avoid OOM. For example, we have to change the memory allocator to `jemalloc`, because the default  `glibc` allocator has major memory fragmentation issues with RocksDB. Furthermore, there are also various settings to control the amount of memory allocated to each tree level, index, cache, etc...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987519246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987526058","html_url":"https://github.com/apache/iceberg/pull/3670#issuecomment-987526058","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3670","id":987526058,"node_id":"IC_kwDOCW7NX8463HOq","user":{"login":"kevinjqliu","id":9057843,"node_id":"MDQ6VXNlcjkwNTc4NDM=","avatar_url":"https://avatars.githubusercontent.com/u/9057843?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinjqliu","html_url":"https://github.com/kevinjqliu","followers_url":"https://api.github.com/users/kevinjqliu/followers","following_url":"https://api.github.com/users/kevinjqliu/following{/other_user}","gists_url":"https://api.github.com/users/kevinjqliu/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinjqliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinjqliu/subscriptions","organizations_url":"https://api.github.com/users/kevinjqliu/orgs","repos_url":"https://api.github.com/users/kevinjqliu/repos","events_url":"https://api.github.com/users/kevinjqliu/events{/privacy}","received_events_url":"https://api.github.com/users/kevinjqliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T03:08:11Z","updated_at":"2021-12-07T03:08:11Z","author_association":"CONTRIBUTOR","body":"> Some people might have implemented the HMS interface, but changed minor things like the timestamp precision (as an example) on the server side. Leaving it to the metastore's implementation seems ideal to me.\r\n\r\nsounds good, I'll defer to HMS to handle this param. The Hive Engine also removes the param and defers to HMS.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987526058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987528140","html_url":"https://github.com/apache/iceberg/pull/2680#issuecomment-987528140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2680","id":987528140,"node_id":"IC_kwDOCW7NX8463HvM","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T03:12:51Z","updated_at":"2021-12-07T03:12:51Z","author_association":"CONTRIBUTOR","body":"> We have used RocksDB in the past with Flink, and it does require some tuning to avoid OOM. For example, we have to change the memory allocator to `jemalloc`, because the default `glibc` allocator has major memory fragmentation issues with RocksDB. Furthermore, there are also various settings to control the amount of memory allocated to each tree level, index, cache, etc...\r\n\r\nIt's true that RocksDB introduces more complexity. But it's really a trade off. User's don't necessarily have to opt-in either.\r\n\r\n1. It can save a large amount of money for jobs that need a very large amount of memory to keep their entire state in memory.\r\n2. Mostly I've found, at least with Flink, that once the core set of parameters were tuned for our common use cases, we could apply those everywhere and get away with that being \"good enough\".\r\n3. Tuning very large JVMs, with the amount of memory needed to store equivalent amount of data that can be stored for much less on disk with RocksDB is its own challenge. There's simply no truly escaping a certain level of complexity at a certain scale.\r\n\r\nAdditionally, RocksDB is arguably the most common state backend for Flink. Now, as of Spark 3.2, there's a RocksDB state store for structured streaming contributed by databricks.\r\n\r\nGiven these two things, I don't think that the additional settings available is a huge issue.\r\n\r\nI think the Flink project has done a lot of work in minimizing the necessary tuning for RocksDB. With time, similar things could be introduced here. But even making this a possibility will be a really large win for very large jobs which might have a large amount of state or need to otherwise spill to disk.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987528140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987535452","html_url":"https://github.com/apache/iceberg/issues/3669#issuecomment-987535452","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3669","id":987535452,"node_id":"IC_kwDOCW7NX8463Jhc","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T03:28:50Z","updated_at":"2021-12-07T03:28:50Z","author_association":"CONTRIBUTOR","body":"I use hadoop catalogso hive catalog shoudnt be findedthe hadoop table  can't load table by path?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987535452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987535952","html_url":"https://github.com/apache/iceberg/pull/2680#issuecomment-987535952","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2680","id":987535952,"node_id":"IC_kwDOCW7NX8463JpQ","user":{"login":"kien-truong","id":149578,"node_id":"MDQ6VXNlcjE0OTU3OA==","avatar_url":"https://avatars.githubusercontent.com/u/149578?v=4","gravatar_id":"","url":"https://api.github.com/users/kien-truong","html_url":"https://github.com/kien-truong","followers_url":"https://api.github.com/users/kien-truong/followers","following_url":"https://api.github.com/users/kien-truong/following{/other_user}","gists_url":"https://api.github.com/users/kien-truong/gists{/gist_id}","starred_url":"https://api.github.com/users/kien-truong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kien-truong/subscriptions","organizations_url":"https://api.github.com/users/kien-truong/orgs","repos_url":"https://api.github.com/users/kien-truong/repos","events_url":"https://api.github.com/users/kien-truong/events{/privacy}","received_events_url":"https://api.github.com/users/kien-truong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T03:30:02Z","updated_at":"2021-12-07T03:30:02Z","author_association":"NONE","body":"I agree with you that having RocksDB is a win, our stateful Flink jobs all use Rocksdb backend :)\r\n\r\nBut I think we need to more clearly communicated the trade-off to the user. For example, RocksDB can be a magnitude slower than in-memory hash map even with very fast SSD, depending on the read/write pattern. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987535952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987536501","html_url":"https://github.com/apache/iceberg/pull/3270#issuecomment-987536501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3270","id":987536501,"node_id":"IC_kwDOCW7NX8463Jx1","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T03:31:23Z","updated_at":"2021-12-07T03:31:23Z","author_association":"CONTRIBUTOR","body":"Trying to remember why the code was bundled in that way, it's in #1887. A shot summary of the approach used there was that:\r\n1. use 1MB as a threshold, if the total size of the vendor's runtime module is less than 1MB, just include it\r\n2. otherwise, we can include the iceberg integration code, but the vendor dependency is marked as provided and not bundled in the runtime jar.\r\n\r\nBut I think what @openinx suggests also works, and it's a clean user experience.\r\n\r\nThe reason we did not do that for the AWS module was that people usually have their preferred AWS SDK version that is used across their environment and upgraded together, so we don't want people to be bundled to an exact AWS SDK version that we offer. For example, AWS EMR maintains its own AWS SDK version and it's already in the java classpath, so user actually don't need to specify all those additional AWS SDK dependencies anyway, specifying it would potentially cause issue because of 2 SDK versions coexist. I don't know if this's also a concern for Aliyun.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987536501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987542250","html_url":"https://github.com/apache/iceberg/pull/2680#issuecomment-987542250","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2680","id":987542250,"node_id":"IC_kwDOCW7NX8463LLq","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T03:47:22Z","updated_at":"2021-12-07T03:47:22Z","author_association":"CONTRIBUTOR","body":"> I agree with you that having RocksDB is a win, our stateful Flink jobs all use Rocksdb backend :)\r\n> \r\n> But I think we need to more clearly communicated the trade-off to the user. For example, RocksDB can be a magnitude slower than in-memory hash map even with very fast SSD, depending on the read/write pattern.\r\n\r\n> I agree with you that having RocksDB is a win, our stateful Flink jobs all use Rocksdb backend :)\r\n> \r\n> But I think we need to more clearly communicated the trade-off to the user. For example, RocksDB can be a magnitude slower than in-memory hash map even with very fast SSD, depending on the read/write pattern.\r\n\r\nFor sure. No disagreement. But we're just maybe not their yet is all I mean. Having the ability to spill to disk is a lot of work - which @openinx and others have been doing a great job with. But even look at the age of this PR - it's moving along, but it's definitely a process.\r\n\r\nIt's good to be aware of how the need to pass configurations will affect the rest of the codebase, as Ryan had mentioned was one of the bigger areas for concern. Ideally we can pass configs to rocksdb without too much disruption to the rest of the codebase.\r\n\r\nOnce that has crossed it's goal, we can worry more about user experience when using RocksDB. And I'll happily drop most anything I'm doing to review most documentation PRs!\r\n\r\nAnd when the time comes, if you want to write a blogpost about using RocksDB, I'd happily review any drafts or be sure it's prominently displayed on the Apache Flink website \r\n\r\nFor now, let's focus on getting RocksDB or similar available to developers within Iceberg and then we can definitely focus on the user experience. It is definitely true that there are many situations where it makes less sense than remaining in-memory, but having the option sure is nice.\r\n\r\nBut it's good to be thinking about end user experience always. It's definitely one of my biggest concerns with all things too. So many thanks for that. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987542250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987545455","html_url":"https://github.com/apache/iceberg/pull/2680#issuecomment-987545455","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2680","id":987545455,"node_id":"IC_kwDOCW7NX8463L9v","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T03:56:57Z","updated_at":"2021-12-07T03:56:57Z","author_association":"CONTRIBUTOR","body":"> I agree with you that having RocksDB is a win, our stateful Flink jobs all use Rocksdb backend :)\r\n> \r\n> But I think we need to more clearly communicated the trade-off to the user. For example, RocksDB can be a magnitude slower than in-memory hash map even with very fast SSD, depending on the read/write pattern.\r\n\r\n(Shameless plug while I have your attention)\r\n\r\nAlso, if you're looking to help out or get more involved, we can definitely use more reviewers on the Flink side of the codebase that have the necessary context with Flink to help properly review code! I definitely appreciate your concern for end-users as well.\r\n\r\nI don't consider myself \"well-informed\" about much of anything, least of all Flink. But I have experience with it, and I'll check out PRs from Github locally (I use the Github CLI to clone by PR number) and poke around the Iceberg and Flink source code in my IDE to be able to try to contribute to those conversations.\r\n\r\nAnd if you can download it and run some sample jobs locally, even better! That's also always very appreciatied. Hope to hear more from you. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987545455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987548260","html_url":"https://github.com/apache/iceberg/pull/3680#issuecomment-987548260","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3680","id":987548260,"node_id":"IC_kwDOCW7NX8463Mpk","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T04:04:25Z","updated_at":"2021-12-07T04:08:18Z","author_association":"CONTRIBUTOR","body":"Nit: Can you please edit the PR description to say something like the following \"Fix Flink job incorrectly labeled as streaming job when it's a batch job\"? @wuwenchi?\r\n\r\nI had to open the file to see what the issue was, it's not clear from the diff alone. It's helpful for other reviewers to have proper context when reviewing PRs. Again, thanks for this patch! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987548260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987549786","html_url":"https://github.com/apache/iceberg/pull/3680#issuecomment-987549786","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3680","id":987549786,"node_id":"IC_kwDOCW7NX8463NBa","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T04:07:55Z","updated_at":"2021-12-07T04:07:55Z","author_association":"CONTRIBUTOR","body":"Also, for PR titles, by convention we tend to use \"[Primary Project Component] - Description of what was fixed\".\r\n\r\nFor this PR, you'll get more PR reviewers / the correct PR reviewers if you use a title more like \"Site Docs - Fix Flink batch job incorrectly labeled as streaming\" or something similar.\r\n\r\nCertain people focus more on the docs or on different areas, so that convention helps them prioritize where to review. Thanks again!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987549786/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987576962","html_url":"https://github.com/apache/iceberg/pull/2680#issuecomment-987576962","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2680","id":987576962,"node_id":"IC_kwDOCW7NX8463TqC","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T05:16:45Z","updated_at":"2021-12-07T05:16:53Z","author_association":"CONTRIBUTOR","body":"Are we still considering this feature? I wonder what would be the performance of this versus in memory vectorized read + compaction. If the later is good enough, we can probably avoid introducing this complication.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987576962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987585529","html_url":"https://github.com/apache/iceberg/pull/2680#issuecomment-987585529","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2680","id":987585529,"node_id":"IC_kwDOCW7NX8463Vv5","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T05:37:24Z","updated_at":"2021-12-07T05:38:33Z","author_association":"CONTRIBUTOR","body":"> Are we still considering this feature? I wonder what would be the performance of this versus in memory vectorized read + compaction. If the later is good enough, we can probably avoid introducing this complication.\r\n\r\nDiscussion came back up, but I'm not sure.\r\n\r\nBesides other perceived possible benefits from RocksDB (which admittedly might not be reason enough to introduce the added complexity for some use cases), the motivating use case is really the potentially much larger than typical memory usage required to process the initial table snapshot for CDC, which is a common use case. To take a snapshot or begin a CDC stream from MySQL for example, a full table copy is required before the initial checkpoint can be taken iiuc. So this historically has lead users to have to majorly increase their initial memory / resource allocation and then tune down after the job had successfully checkpointed.\r\n\r\nI'll follow up with openinx and steven about the status of this feature and state of the problem in general.\r\n\r\nWithout that issue, I'd lean towards keeping as few elements in state as possible to avoid having to worry about further serrialized forms. But I think the issue is still outstanding, as a full snapshot is needed before any deltas can be written iiuc.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987585529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987609838","html_url":"https://github.com/apache/iceberg/pull/3681#issuecomment-987609838","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3681","id":987609838,"node_id":"IC_kwDOCW7NX8463bru","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T06:24:45Z","updated_at":"2021-12-07T06:24:45Z","author_association":"CONTRIBUTOR","body":"@openinx @stevenzwu can you help take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987609838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987621490","html_url":"https://github.com/apache/iceberg/pull/3680#issuecomment-987621490","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3680","id":987621490,"node_id":"IC_kwDOCW7NX8463ehy","user":{"login":"wuwenchi","id":19755729,"node_id":"MDQ6VXNlcjE5NzU1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/19755729?v=4","gravatar_id":"","url":"https://api.github.com/users/wuwenchi","html_url":"https://github.com/wuwenchi","followers_url":"https://api.github.com/users/wuwenchi/followers","following_url":"https://api.github.com/users/wuwenchi/following{/other_user}","gists_url":"https://api.github.com/users/wuwenchi/gists{/gist_id}","starred_url":"https://api.github.com/users/wuwenchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuwenchi/subscriptions","organizations_url":"https://api.github.com/users/wuwenchi/orgs","repos_url":"https://api.github.com/users/wuwenchi/repos","events_url":"https://api.github.com/users/wuwenchi/events{/privacy}","received_events_url":"https://api.github.com/users/wuwenchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T06:49:47Z","updated_at":"2021-12-07T06:49:47Z","author_association":"CONTRIBUTOR","body":"@kbendick  Sorry for the problem with the PR format ... Thanks for your advice, and I will follow the convention in the future to improve efficiency ~","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987621490/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987686693","html_url":"https://github.com/apache/iceberg/issues/3682#issuecomment-987686693","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3682","id":987686693,"node_id":"IC_kwDOCW7NX8463ucl","user":{"login":"xloya","id":26177232,"node_id":"MDQ6VXNlcjI2MTc3MjMy","avatar_url":"https://avatars.githubusercontent.com/u/26177232?v=4","gravatar_id":"","url":"https://api.github.com/users/xloya","html_url":"https://github.com/xloya","followers_url":"https://api.github.com/users/xloya/followers","following_url":"https://api.github.com/users/xloya/following{/other_user}","gists_url":"https://api.github.com/users/xloya/gists{/gist_id}","starred_url":"https://api.github.com/users/xloya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xloya/subscriptions","organizations_url":"https://api.github.com/users/xloya/orgs","repos_url":"https://api.github.com/users/xloya/repos","events_url":"https://api.github.com/users/xloya/events{/privacy}","received_events_url":"https://api.github.com/users/xloya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T08:31:59Z","updated_at":"2021-12-07T10:54:20Z","author_association":"CONTRIBUTOR","body":"For example, we can partition with 500,000 pieces of data as a threshold, and write the data corresponding to the id into the corresponding partition. The data's id between 1 - 500,000 will be written into partition_1, and the data's id between 500,001 - 1,000,000 will be written into partition_2, and so on.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987686693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987691212","html_url":"https://github.com/apache/iceberg/pull/3432#issuecomment-987691212","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3432","id":987691212,"node_id":"IC_kwDOCW7NX8463vjM","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T08:38:32Z","updated_at":"2021-12-07T08:38:32Z","author_association":"CONTRIBUTOR","body":"> I like the overall structure but I worry that the performance description may still be a bit difficult for a new user to understand.\r\n\r\n@RussellSpitzer Yes I agree, but it's also a bit awkward to leave it unexplained... please let me know if you have any better idea, or we can try to improve that section over time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987691212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987700662","html_url":"https://github.com/apache/iceberg/pull/3270#issuecomment-987700662","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3270","id":987700662,"node_id":"IC_kwDOCW7NX8463x22","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T08:48:30Z","updated_at":"2021-12-07T08:48:30Z","author_association":"MEMBER","body":"> For example, AWS EMR maintains its own AWS SDK version and it's already in the java classpath, so user actually don't need to specify all those additional AWS SDK dependencies anyway, specifying it would potentially cause issue because of 2 SDK versions coexist\r\n\r\nThe way that AWS EMR put all the common aws sdk dependencies into a common path and let all the upper layer components to refer them,  I think it handle the aws sdk conflict issue correctly.  In our Aliyun EMR,  we don't put all of the aliyun sdk into a common path and make all the components refer it, instead we guarantee all the upper components are using the same aliyun sdk version and packaging them into their specific components classpath.  Although those components are packaging the same versioned aliyun sdk and introduce the duplicated sdk jars, but they are using the same version, so in theory we can use anyone of them.\r\n\r\nAnother difference from aliyun sdk is:  we aliyun don't publish the bundled aliyun sdk to aliyun users, so people have to choose their needed aliyun sdk jars and package them into a bundled jar by themself (if necessary).  I think most of the other vendors choose this approach. So that's why I proposed the plugin approach.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987700662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987708916","html_url":"https://github.com/apache/iceberg/pull/3270#issuecomment-987708916","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3270","id":987708916,"node_id":"IC_kwDOCW7NX8463z30","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T08:59:55Z","updated_at":"2021-12-07T08:59:55Z","author_association":"CONTRIBUTOR","body":"> or our apache iceberg integration case, I think we can also make the iceberg-aliyun to be optional plugin modules and we build iceberg-aliyun module with including all dependencies jars. If people want to access the iceberg tables backed aliyun oss, then they just need to load the iceberg-aliyun jar\r\n\r\nDoes that mean you need to have 1 `iceberg-aliyun` jar, and another `iceberg-aliyun-runtime` jar, so the user experience become:\r\n\r\n```\r\n./bin/sql-client.sh -j  /path/to/iceberg-aliyun-runtime.jar shell\r\n```\r\n\r\nI think my understanding is probably wrong... could you provide an example of the e2e integration steps?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987708916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987713943","html_url":"https://github.com/apache/iceberg/pull/3270#issuecomment-987713943","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3270","id":987713943,"node_id":"IC_kwDOCW7NX84631GX","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T09:05:57Z","updated_at":"2021-12-07T09:05:57Z","author_association":"MEMBER","body":"Fine,  Let me create another PR to show the complete example.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987713943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987738144","html_url":"https://github.com/apache/iceberg/pull/3580#issuecomment-987738144","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3580","id":987738144,"node_id":"IC_kwDOCW7NX84637Ag","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T09:33:49Z","updated_at":"2021-12-07T09:33:49Z","author_association":"CONTRIBUTOR","body":"Closing in favor of https://github.com/apache/iceberg/pull/3664","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987738144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987987248","html_url":"https://github.com/apache/iceberg/pull/3638#issuecomment-987987248","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3638","id":987987248,"node_id":"IC_kwDOCW7NX846430w","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T14:39:48Z","updated_at":"2021-12-07T14:39:48Z","author_association":"CONTRIBUTOR","body":"@jackye1995, it is marked serializable as we previously did not have a serializable table and passed such things separately.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/987987248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988006120","html_url":"https://github.com/apache/iceberg/pull/3627#issuecomment-988006120","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3627","id":988006120,"node_id":"IC_kwDOCW7NX84648bo","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T15:00:30Z","updated_at":"2021-12-07T15:00:30Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue for the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988006120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988048799","html_url":"https://github.com/apache/iceberg/pull/3664#issuecomment-988048799","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3664","id":988048799,"node_id":"IC_kwDOCW7NX8465G2f","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T15:46:21Z","updated_at":"2021-12-07T15:46:21Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue  the changes look good to me. I am curious about the interest in this approach over eg #3580? It seems to me that we have written a lot of boilerplate code here for a builder that could be removed w/ Immutables or equivalent. Additionally the hand-coded json parsers could also be removed. [This link](https://github.com/rymurr/nessie/blob/store-metadata/model/src/main/java/org/projectnessie/model/IcebergTableMetadata.java#L56) shows a prototype I've been working on (please ignore the differences from the spec its a WIP). It illustrates the builder and the json serialization though I have removed some of the validations for the purpose of the PoC. Immutables has rich [support for validations](https://immutables.github.io/immutable.html#precondition-check-method) though.\r\n\r\nWould it be helpful to start a mailing list discussion about this pattern? Its worked well for Nessie and has recently been adopted into Calcite also.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988048799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988077371","html_url":"https://github.com/apache/iceberg/pull/3434#issuecomment-988077371","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3434","id":988077371,"node_id":"IC_kwDOCW7NX8465N07","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T16:20:24Z","updated_at":"2021-12-07T16:20:24Z","author_association":"CONTRIBUTOR","body":"Thanks, @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988077371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988110672","html_url":"https://github.com/apache/iceberg/pull/3640#issuecomment-988110672","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3640","id":988110672,"node_id":"IC_kwDOCW7NX8465V9Q","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T17:03:28Z","updated_at":"2021-12-07T17:03:28Z","author_association":"CONTRIBUTOR","body":"Thanks, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988110672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988200101","html_url":"https://github.com/apache/iceberg/pull/3668#issuecomment-988200101","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3668","id":988200101,"node_id":"IC_kwDOCW7NX8465ryl","user":{"login":"yyanyy","id":71906210,"node_id":"MDQ6VXNlcjcxOTA2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/71906210?v=4","gravatar_id":"","url":"https://api.github.com/users/yyanyy","html_url":"https://github.com/yyanyy","followers_url":"https://api.github.com/users/yyanyy/followers","following_url":"https://api.github.com/users/yyanyy/following{/other_user}","gists_url":"https://api.github.com/users/yyanyy/gists{/gist_id}","starred_url":"https://api.github.com/users/yyanyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyanyy/subscriptions","organizations_url":"https://api.github.com/users/yyanyy/orgs","repos_url":"https://api.github.com/users/yyanyy/repos","events_url":"https://api.github.com/users/yyanyy/events{/privacy}","received_events_url":"https://api.github.com/users/yyanyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T19:17:26Z","updated_at":"2021-12-07T19:17:26Z","author_association":"CONTRIBUTOR","body":"Do we know which engine would encounter issue with a more relaxing database name? I think the point \"since at that time the database likely already existed (if not created using Iceberg library)\" mentioned in the PR description is the main reason, as otherwise it could be a confusing experience if the user wants to create a table with a preexisting database and we fail validation because of the database name. At least it would be good if we print out exactly which part of the table identifier was violating the rule. \r\n\r\nIt definitely would be the best if we can get an answer from Glue team on why we have such inconsistency and the path forward. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988200101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988210539","html_url":"https://github.com/apache/iceberg/pull/3638#issuecomment-988210539","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3638","id":988210539,"node_id":"IC_kwDOCW7NX8465uVr","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T19:35:18Z","updated_at":"2021-12-07T19:35:18Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi ah totally forgot that. We can either:\r\n1. change to use hash map, to keep it Kyro serializable\r\n2. just make it not implement `Serializable`\r\n3. keep it as is\r\n\r\nIMO (1) seems like the preferred way, because we cannot change public interface to achieve (2), and if we go with (3) it might create a false impression that the object is Kyro serializable.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988210539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988336942","html_url":"https://github.com/apache/iceberg/issues/3295#issuecomment-988336942","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3295","id":988336942,"node_id":"IC_kwDOCW7NX8466NMu","user":{"login":"1ambda","id":4968473,"node_id":"MDQ6VXNlcjQ5Njg0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/4968473?v=4","gravatar_id":"","url":"https://api.github.com/users/1ambda","html_url":"https://github.com/1ambda","followers_url":"https://api.github.com/users/1ambda/followers","following_url":"https://api.github.com/users/1ambda/following{/other_user}","gists_url":"https://api.github.com/users/1ambda/gists{/gist_id}","starred_url":"https://api.github.com/users/1ambda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/1ambda/subscriptions","organizations_url":"https://api.github.com/users/1ambda/orgs","repos_url":"https://api.github.com/users/1ambda/repos","events_url":"https://api.github.com/users/1ambda/events{/privacy}","received_events_url":"https://api.github.com/users/1ambda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-07T23:25:42Z","updated_at":"2021-12-07T23:27:19Z","author_association":"MEMBER","body":"Hi, \r\n\r\nI am trying to read a PrestoDB (0.266 w/ Iceberg 0.12) created iceberg table in Spark (3.2.0 w/ Iceberg 0.13 SNAPSHOT).\r\n- Presto can read Spark created iceberg tables without any errors\r\n- However, Spark throw an error when trying to read Presto created iceberg tables\r\n- Presto can read presto-generated iceberg tables while Spark also can read spark-generated iceberg tables without errors.\r\n\r\n```scala\r\n// 'hive_prod' is iceberg catalog defined in 'spark-defaults.conf'\r\n// Spark SQL\r\nspark.sql(\"SELECT * FROM hive_prod.test_db.test_table LIMIT 10\").printSchema().show()\r\n\r\n// ERROR\r\nCaused by: java.lang.ClassCastException: [B cannot be cast to org.apache.spark.unsafe.types.UTF8String\r\n  at org.apache.spark.sql.catalyst.expressions.BaseGenericInternalRow.getUTF8String(rows.scala:46)\r\n  at org.apache.spark.sql.catalyst.expressions.BaseGenericInternalRow.getUTF8String$(rows.scala:46)\r\n  at org.apache.spark.sql.catalyst.expressions.GenericInternalRow.getUTF8String(rows.scala:195)\r\n  at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n```\r\n\r\nHere is DDL and DML for creating iceberg tables used in Presto and inserting data into the table.\r\n\r\n```sql\r\nCREATE TABLE iceberg.test_db.test_table (\r\n    col_a bigint comment '...' ,\r\n    col_b varchar comment '...',\r\n    p_ymd varchar\r\n)\r\nWITH (\r\n    format = 'PARQUET',\r\n    partitioning = ARRAY['p_ymd'],\r\n    location = 's3://...'\r\n)\r\n \r\nINSERT INTO CREATE TABLE iceberg.test_db.test_table\r\nSELECT col_a, col_b, '20211201' as p_ymd\r\nFROM existing_table\r\n```\r\n\r\n@RussellSpitzer Could different version of iceberg library used in each computing engine have affect on the read query? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988336942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988366971","html_url":"https://github.com/apache/iceberg/issues/3295#issuecomment-988366971","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3295","id":988366971,"node_id":"IC_kwDOCW7NX8466Uh7","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T00:17:21Z","updated_at":"2021-12-08T00:17:21Z","author_association":"MEMBER","body":"That is possible, since a snapshot build isn't necessarily production ready yet. Although we should have no problem with pretty much any released Iceberg version reading Iceberg tables unless they are Iceberg V2 Tables since the spec had not finalized until recently. In this case it looks like somewhere it is returning a Byte value where it expects a string.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988366971/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988374214","html_url":"https://github.com/apache/iceberg/issues/3295#issuecomment-988374214","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3295","id":988374214,"node_id":"IC_kwDOCW7NX8466WTG","user":{"login":"1ambda","id":4968473,"node_id":"MDQ6VXNlcjQ5Njg0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/4968473?v=4","gravatar_id":"","url":"https://api.github.com/users/1ambda","html_url":"https://github.com/1ambda","followers_url":"https://api.github.com/users/1ambda/followers","following_url":"https://api.github.com/users/1ambda/following{/other_user}","gists_url":"https://api.github.com/users/1ambda/gists{/gist_id}","starred_url":"https://api.github.com/users/1ambda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/1ambda/subscriptions","organizations_url":"https://api.github.com/users/1ambda/orgs","repos_url":"https://api.github.com/users/1ambda/repos","events_url":"https://api.github.com/users/1ambda/events{/privacy}","received_events_url":"https://api.github.com/users/1ambda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T00:28:16Z","updated_at":"2021-12-08T00:28:16Z","author_association":"MEMBER","body":"Thanks for the quick answer! Will try iceberg 0.12 in Spark too. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988374214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988384976","html_url":"https://github.com/apache/iceberg/issues/3295#issuecomment-988384976","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3295","id":988384976,"node_id":"IC_kwDOCW7NX8466Y7Q","user":{"login":"1ambda","id":4968473,"node_id":"MDQ6VXNlcjQ5Njg0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/4968473?v=4","gravatar_id":"","url":"https://api.github.com/users/1ambda","html_url":"https://github.com/1ambda","followers_url":"https://api.github.com/users/1ambda/followers","following_url":"https://api.github.com/users/1ambda/following{/other_user}","gists_url":"https://api.github.com/users/1ambda/gists{/gist_id}","starred_url":"https://api.github.com/users/1ambda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/1ambda/subscriptions","organizations_url":"https://api.github.com/users/1ambda/orgs","repos_url":"https://api.github.com/users/1ambda/repos","events_url":"https://api.github.com/users/1ambda/events{/privacy}","received_events_url":"https://api.github.com/users/1ambda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T00:45:18Z","updated_at":"2021-12-08T00:49:12Z","author_association":"MEMBER","body":"Tested in Spark 3.1.2 (Iceberg runtime 0.12.1), But still got same error. \r\n\r\nIn Presto, usually we don't need to setup much, prestodb 0.266 embed required iceberg runtime (0.12.1) by default and user only need to provide catalog setup for iceberg. Since catalog setup for iceberg is quite simple, I don't think Presto is the cause of this problem. (even though the table is created in presto). The Spark iceberg runtime doesn't seem to be able to read this file properly.\r\n\r\n\r\n```\r\nSpark session available as 'spark'.\r\nWelcome to\r\n      ____              __\r\n     / __/__  ___ _____/ /__\r\n    _\\ \\/ _ \\/ _ `/ __/  '_/\r\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 3.1.2\r\n      /_/\r\n\r\nUsing Scala version 2.12.10 (OpenJDK 64-Bit Server VM, Java 1.8.0_242)\r\nType in expressions to have them evaluated.\r\nType :help for more information.\r\n\r\nscala> spark.sql(\"SELECT * FROM hive_prod.test_db.test_table ...\").show()\r\nres0: org.apache.spark.sql.DataFrame = [col_a: bigint, col_b: string ... 1 more field]\r\n\r\nscala> spark.sql(\"SELECT * FROM hive_prod.test_db.test_table ...\").show()\r\n21/12/08 09:42:22 ERROR Executor: Exception in task 0.0 in stage 0.0 (TID 0)/ 1]\r\njava.lang.ClassCastException: [B cannot be cast to org.apache.spark.unsafe.types.UTF8String\r\n        at org.apache.spark.sql.catalyst.expressions.BaseGenericInternalRow.getUTF8String(rows.scala:46)\r\n        at org.apache.spark.sql.catalyst.expressions.BaseGenericInternalRow.getUTF8String$(rows.scala:46)\r\n        at org.apache.spark.sql.catalyst.expressions.GenericInternalRow.getUTF8String(rows.scala:195)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:755)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:345)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:898)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:898)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n21/12/08 09:42:22 WARN TaskSetManager: Lost task 0.0 in stage 0.0 (TID 0) (hive-metastore-2-66d6c89cf-jxbcg executor driver): java.lang.ClassCastException: [B cannot be cast to org.apache.spark.unsafe.types.UTF8String\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988384976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988389064","html_url":"https://github.com/apache/iceberg/pull/3680#issuecomment-988389064","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3680","id":988389064,"node_id":"IC_kwDOCW7NX8466Z7I","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T00:50:52Z","updated_at":"2021-12-08T00:50:52Z","author_association":"CONTRIBUTOR","body":"No worries @wuwenchi! Just thought I'd give you a heads up. Your contribution is greatly appreciated!\r\n\r\ncc @samredai for a docs related PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988389064/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988390661","html_url":"https://github.com/apache/iceberg/issues/3665#issuecomment-988390661","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3665","id":988390661,"node_id":"IC_kwDOCW7NX8466aUF","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T00:53:55Z","updated_at":"2021-12-08T00:53:55Z","author_association":"CONTRIBUTOR","body":"@nssalian Just for my understanding. Spark has this Merge into table support. Anything else that needs to be implemented on OSS Spark side?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988390661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988391594","html_url":"https://github.com/apache/iceberg/pull/3664#issuecomment-988391594","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3664","id":988391594,"node_id":"IC_kwDOCW7NX8466aiq","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T00:55:37Z","updated_at":"2021-12-08T00:55:37Z","author_association":"CONTRIBUTOR","body":"@rymurr, the purpose of the builder here is different than what I thought was the goal of #3580. This standardizes the set of changes to `TableMetadata` and uses a builder pattern to make consistent, high level changes. For example, `setCurrentSchema` will add a schema, rebuild partition specs and sort orders, then set the current schema. And every update is tracked in a list of changes since the version last written to disk. That's quite different from a builder that assumes you're doing to supply each part of the metadata separately.\r\n\r\nMaybe immutables can be used for this purpose? I don't really know it that well, but it seems like a lot of customization to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988391594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988397156","html_url":"https://github.com/apache/iceberg/issues/3665#issuecomment-988397156","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3665","id":988397156,"node_id":"IC_kwDOCW7NX8466b5k","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T01:05:35Z","updated_at":"2021-12-08T01:05:35Z","author_association":"CONTRIBUTOR","body":"@huaxingao  thanks for chiming in. Could you point me to the Dataframe/ DataSource API where the mergeInto is exposed? I was under the impression that only Delta has this implemented. CC @kbendick  if I missed something.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988397156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988413499","html_url":"https://github.com/apache/iceberg/issues/3665#issuecomment-988413499","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3665","id":988413499,"node_id":"IC_kwDOCW7NX8466f47","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T01:35:20Z","updated_at":"2021-12-08T01:35:20Z","author_association":"CONTRIBUTOR","body":"@nssalian There isn't a mergeInto Dataframe/ DataSet API in Spark. The SQL syntax merge into is supported in Spark, though. I am just trying to figure out what exactly needs to be done in Spark to make this work. I might be able to implement that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988413499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988424253","html_url":"https://github.com/apache/iceberg/issues/3665#issuecomment-988424253","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3665","id":988424253,"node_id":"IC_kwDOCW7NX8466ig9","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T01:55:17Z","updated_at":"2021-12-08T01:55:17Z","author_association":"CONTRIBUTOR","body":"That's right. The request is the mergeInto Dataframe/ DataSet API in Spark, so that Iceberg could take advantage of it in the API rather than SQL. Not a blocker but would be great to have along side append, overwrite. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988424253/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988444444","html_url":"https://github.com/apache/iceberg/issues/3682#issuecomment-988444444","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3682","id":988444444,"node_id":"IC_kwDOCW7NX8466ncc","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T02:39:41Z","updated_at":"2021-12-08T02:39:41Z","author_association":"CONTRIBUTOR","body":"> For example, we can partition with 500,000 pieces of data as a threshold, and write the data corresponding to the id into the corresponding partition. The data's id between 1 - 500,000 will be written into partition_1, and the data's id between 500,001 - 1,000,000 will be written into partition_2, and so on.\r\n\r\nThis sounds like you want to have your data range-partitioned. Would `truncate` transform solve the issue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988444444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988455850","html_url":"https://github.com/apache/iceberg/pull/3432#issuecomment-988455850","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3432","id":988455850,"node_id":"IC_kwDOCW7NX8466qOq","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T03:07:53Z","updated_at":"2021-12-08T03:07:53Z","author_association":"CONTRIBUTOR","body":"Updated the document by removing the comparison between position and equality deletes, and instead just discuss their tradeoffs in the specific sections. Also removed separation of `data compaction` and `delete compaction`, and just talk about `RewriteDataFiles` and `ExpireSnapshots`. \r\n\r\n@rdblue @RussellSpitzer @liuml07 please let me know if you have any more comments, otherwise I hope to merge this documentation because it is referenced quite a lot recently.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988455850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988460102","html_url":"https://github.com/apache/iceberg/pull/3684#issuecomment-988460102","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3684","id":988460102,"node_id":"IC_kwDOCW7NX8466rRG","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T03:16:50Z","updated_at":"2021-12-08T03:16:50Z","author_association":"MEMBER","body":"I'd like to publish another document PR to describe how should we we use the aliyun integration to access iceberg tables. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988460102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988464646","html_url":"https://github.com/apache/iceberg/issues/3682#issuecomment-988464646","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3682","id":988464646,"node_id":"IC_kwDOCW7NX8466sYG","user":{"login":"xloya","id":26177232,"node_id":"MDQ6VXNlcjI2MTc3MjMy","avatar_url":"https://avatars.githubusercontent.com/u/26177232?v=4","gravatar_id":"","url":"https://api.github.com/users/xloya","html_url":"https://github.com/xloya","followers_url":"https://api.github.com/users/xloya/followers","following_url":"https://api.github.com/users/xloya/following{/other_user}","gists_url":"https://api.github.com/users/xloya/gists{/gist_id}","starred_url":"https://api.github.com/users/xloya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xloya/subscriptions","organizations_url":"https://api.github.com/users/xloya/orgs","repos_url":"https://api.github.com/users/xloya/repos","events_url":"https://api.github.com/users/xloya/events{/privacy}","received_events_url":"https://api.github.com/users/xloya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T03:26:10Z","updated_at":"2021-12-08T03:26:10Z","author_association":"CONTRIBUTOR","body":"> > For example, we can partition with 500,000 pieces of data as a threshold, and write the data corresponding to the id into the corresponding partition. The data's id between 1 - 500,000 will be written into partition_1, and the data's id between 500,001 - 1,000,000 will be written into partition_2, and so on.\r\n> \r\n> This sounds like you want to have your data range-partitioned. Would `truncate` transform solve the issue?\r\n\r\nHey jack, thx for reply! I misunderstood the function of truncate transform, it is indeed feasible after actual testing, thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988464646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988466975","html_url":"https://github.com/apache/iceberg/pull/3684#issuecomment-988466975","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3684","id":988466975,"node_id":"IC_kwDOCW7NX8466s8f","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T03:32:30Z","updated_at":"2021-12-08T03:32:30Z","author_association":"CONTRIBUTOR","body":"> I'd like to publish another document PR to describe how should we we use the aliyun integration to access iceberg tables.\r\n\r\nI think it would be helpful to just have the document in this PR so people can agree upon the user experience.\r\n\r\nI am overall fine with bundling a runtime jar if that is what Aliyun user is used to have. But I would expect other people to have some concerns due to:\r\n\r\n1. in the future all service vendors will need 2 modules, that will add a lot of new modules to Iceberg. (although arguably we are already creating a ton of modules due to engine versioning)\r\n2. it is a different experience from the Nessie and AWS modules. We should determine the strategy to follow for all future vendors.\r\n\r\nWe can raise this in the dev list and sync meeting to collect some feedback, I can send out the email.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988466975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988467989","html_url":"https://github.com/apache/iceberg/pull/3642#issuecomment-988467989","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3642","id":988467989,"node_id":"IC_kwDOCW7NX8466tMV","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T03:35:11Z","updated_at":"2021-12-08T03:35:11Z","author_association":"CONTRIBUTOR","body":"@racevedoo hi Rafael, I think we would like this to go to the upcoming 0.13 release, would you have time to fix this issue in the upcoming days? If not we can take over and mark you as a coauthor.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988467989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988479357","html_url":"https://github.com/apache/iceberg/pull/3684#issuecomment-988479357","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3684","id":988479357,"node_id":"IC_kwDOCW7NX8466v99","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T04:05:15Z","updated_at":"2021-12-08T04:05:15Z","author_association":"MEMBER","body":"> in the future all service vendors will need 2 modules, that will add a lot of new modules to Iceberg. (although arguably we are already creating a ton of modules due to engine versioning)\r\n\r\nIntroducing 2 modules for a vendor integration does not sounds like a bad thing for me. In fact we are deploying apache iceberg to maven repo for two kinds of people: \r\n\r\n1. The first are developers,  they just choose to dependency a light-weight module to develop their own applications,  so we should make the dependency as light-weight as possible.\r\n2. The second are iceberg users.  They need a whole bundled jar to make the iceberg access work. As we know, we don't plan to add the integration jar whose size is greater than 1MB, then how to handle those integration work. The ideal way should be creating a separate bundled module for them.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988479357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988521562","html_url":"https://github.com/apache/iceberg/pull/3425#issuecomment-988521562","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3425","id":988521562,"node_id":"IC_kwDOCW7NX84666Ra","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T05:54:01Z","updated_at":"2021-12-08T06:00:08Z","author_association":"CONTRIBUTOR","body":"@rdblue @jackye1995 Can this PR  be merged? And then we can continue the following work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988521562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988544664","html_url":"https://github.com/apache/iceberg/pull/3685#issuecomment-988544664","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3685","id":988544664,"node_id":"IC_kwDOCW7NX8466_6Y","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T06:46:41Z","updated_at":"2021-12-08T06:46:41Z","author_association":"MEMBER","body":"cc: @RussellSpitzer , @rdblue , @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988544664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988587044","html_url":"https://github.com/apache/iceberg/pull/3642#issuecomment-988587044","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3642","id":988587044,"node_id":"IC_kwDOCW7NX8467KQk","user":{"login":"racevedoo","id":5193063,"node_id":"MDQ6VXNlcjUxOTMwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/5193063?v=4","gravatar_id":"","url":"https://api.github.com/users/racevedoo","html_url":"https://github.com/racevedoo","followers_url":"https://api.github.com/users/racevedoo/followers","following_url":"https://api.github.com/users/racevedoo/following{/other_user}","gists_url":"https://api.github.com/users/racevedoo/gists{/gist_id}","starred_url":"https://api.github.com/users/racevedoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/racevedoo/subscriptions","organizations_url":"https://api.github.com/users/racevedoo/orgs","repos_url":"https://api.github.com/users/racevedoo/repos","events_url":"https://api.github.com/users/racevedoo/events{/privacy}","received_events_url":"https://api.github.com/users/racevedoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T08:07:57Z","updated_at":"2021-12-08T08:07:57Z","author_association":"CONTRIBUTOR","body":"@jackye1995 sure! I can work on it tomorrow. Just let me know what solution is preferred (a couple of them were discussed here). Personally I think we can hardcode the slf4j version for now (to avoid postponing the release) and then work on #3650 which solves the root cause properly. WDYT? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988587044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988606276","html_url":"https://github.com/apache/iceberg/pull/3460#issuecomment-988606276","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3460","id":988606276,"node_id":"IC_kwDOCW7NX8467O9E","user":{"login":"izchen","id":67534059,"node_id":"MDQ6VXNlcjY3NTM0MDU5","avatar_url":"https://avatars.githubusercontent.com/u/67534059?v=4","gravatar_id":"","url":"https://api.github.com/users/izchen","html_url":"https://github.com/izchen","followers_url":"https://api.github.com/users/izchen/followers","following_url":"https://api.github.com/users/izchen/following{/other_user}","gists_url":"https://api.github.com/users/izchen/gists{/gist_id}","starred_url":"https://api.github.com/users/izchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/izchen/subscriptions","organizations_url":"https://api.github.com/users/izchen/orgs","repos_url":"https://api.github.com/users/izchen/repos","events_url":"https://api.github.com/users/izchen/events{/privacy}","received_events_url":"https://api.github.com/users/izchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T08:37:55Z","updated_at":"2021-12-08T08:37:55Z","author_association":"CONTRIBUTOR","body":"@rdblue @kbendick Could you help review continue? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988606276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988629688","html_url":"https://github.com/apache/iceberg/pull/3039#issuecomment-988629688","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3039","id":988629688,"node_id":"IC_kwDOCW7NX8467Uq4","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T09:11:24Z","updated_at":"2021-12-08T09:11:24Z","author_association":"CONTRIBUTOR","body":"I connected with @SreeramGarlapati to contribute on this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988629688/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988638223","html_url":"https://github.com/apache/iceberg/pull/3684#issuecomment-988638223","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3684","id":988638223,"node_id":"IC_kwDOCW7NX8467WwP","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T09:22:37Z","updated_at":"2021-12-08T09:22:37Z","author_association":"MEMBER","body":"> I'd like to publish another document PR to describe how should we we use the aliyun integration to access iceberg tables.\r\n\r\nThe document is here: https://github.com/apache/iceberg/pull/3686/files","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988638223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988665774","html_url":"https://github.com/apache/iceberg/pull/3596#issuecomment-988665774","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3596","id":988665774,"node_id":"IC_kwDOCW7NX8467deu","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T09:59:58Z","updated_at":"2021-12-08T09:59:58Z","author_association":"MEMBER","body":"@xingbowu currently is busying for other things now, let me pick this up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988665774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988787526","html_url":"https://github.com/apache/iceberg/pull/3596#issuecomment-988787526","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3596","id":988787526,"node_id":"IC_kwDOCW7NX84677NG","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T12:49:57Z","updated_at":"2021-12-08T12:49:57Z","author_association":"MEMBER","body":"Closed via https://github.com/apache/iceberg/pull/3687.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/988787526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989120897","html_url":"https://github.com/apache/iceberg/pull/3601#issuecomment-989120897","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3601","id":989120897,"node_id":"IC_kwDOCW7NX8469MmB","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T19:15:56Z","updated_at":"2021-12-08T19:17:22Z","author_association":"COLLABORATOR","body":"Thanks @CircArgs for this change, which improves the current implementation using some powerful python features. \r\n\r\nIn addition to the open question about the possible extra performance cost, another concern I have is the impact on other classes. As this change is a fundamental one, it will bring some changes to other classes depending on it, e.g. the transform will then be implemented in a similar way using generic_class defined in types (based on [the PR](https://github.com/jun-he/incubator-iceberg/pull/4)). \r\n\r\nFor example, ```Truncate[Decimal[9, 2], 10](12.34)``` will create an iceberg Decimal class instance. This will add extra cost to process the data. In the current way, we create a Truncate instance, which will be re-used to apply a transform function to a python value and then return it in python directly. So there is no iceberg type instances in the middle.\r\n\r\nCurrently, the iceberg literals are types are separated. literals are mainly used for data, e.g. used expressions, and types are mainly used in metadata, e.g. transform, partition spec. This way enables us to improve the performance or shortcut the transformation when it is needed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989120897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989308118","html_url":"https://github.com/apache/iceberg/pull/3104#issuecomment-989308118","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3104","id":989308118,"node_id":"IC_kwDOCW7NX84696TW","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-08T23:23:16Z","updated_at":"2021-12-08T23:23:16Z","author_association":"CONTRIBUTOR","body":"I have updated this PR based on the TableMetadata builder refactoring. it is quite hard to separate the update logic out of this, so I just included the changes in #3612 and marked @hameizi as coauthor.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989308118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989337663","html_url":"https://github.com/apache/iceberg/pull/3601#issuecomment-989337663","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3601","id":989337663,"node_id":"IC_kwDOCW7NX846-Bg_","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T00:27:44Z","updated_at":"2021-12-09T00:27:44Z","author_association":"CONTRIBUTOR","body":"Suggesting a path forward here: @CircArgs would you be ok with converting this to a draft and breaking it up into a series of smaller PR's? There's a lot of good things here and I think it would be easier to review, discuss, and merge these incrementally.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989337663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989355819","html_url":"https://github.com/apache/iceberg/pull/3685#issuecomment-989355819","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3685","id":989355819,"node_id":"IC_kwDOCW7NX846-F8r","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T01:00:35Z","updated_at":"2021-12-09T01:00:35Z","author_association":"CONTRIBUTOR","body":"Can we revert the change that removed the old rewrite files in 2.4 only? That seems like the safest way to fix the regression ahead of the 0.13.0 release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989355819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989357176","html_url":"https://github.com/apache/iceberg/pull/3683#issuecomment-989357176","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3683","id":989357176,"node_id":"IC_kwDOCW7NX846-GR4","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-09T01:01:39Z","updated_at":"2021-12-09T01:01:39Z","author_association":"CONTRIBUTOR","body":"Thanks, @ajantha-bhat!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/989357176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]