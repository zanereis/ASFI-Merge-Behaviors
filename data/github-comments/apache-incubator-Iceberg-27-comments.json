[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/591569470","html_url":"https://github.com/apache/iceberg/pull/814#issuecomment-591569470","issue_url":"https://api.github.com/repos/apache/iceberg/issues/814","id":591569470,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU2OTQ3MA==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T18:20:51Z","updated_at":"2020-02-26T18:21:01Z","author_association":"CONTRIBUTOR","body":"@rdblue : Do you have any concern? I was thinking if we could merge, and I can rebase/cherry-pick this change onto our internal fork.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/591569470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/591666661","html_url":"https://github.com/apache/iceberg/pull/823#issuecomment-591666661","issue_url":"https://api.github.com/repos/apache/iceberg/issues/823","id":591666661,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTY2NjY2MQ==","user":{"login":"vrozov","id":12200381,"node_id":"MDQ6VXNlcjEyMjAwMzgx","avatar_url":"https://avatars.githubusercontent.com/u/12200381?v=4","gravatar_id":"","url":"https://api.github.com/users/vrozov","html_url":"https://github.com/vrozov","followers_url":"https://api.github.com/users/vrozov/followers","following_url":"https://api.github.com/users/vrozov/following{/other_user}","gists_url":"https://api.github.com/users/vrozov/gists{/gist_id}","starred_url":"https://api.github.com/users/vrozov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vrozov/subscriptions","organizations_url":"https://api.github.com/users/vrozov/orgs","repos_url":"https://api.github.com/users/vrozov/repos","events_url":"https://api.github.com/users/vrozov/events{/privacy}","received_events_url":"https://api.github.com/users/vrozov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T22:01:11Z","updated_at":"2020-02-26T22:01:11Z","author_association":"MEMBER","body":"@rdsr @edgarRd Please review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/591666661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/591768765","html_url":"https://github.com/apache/iceberg/issues/820#issuecomment-591768765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/820","id":591768765,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc2ODc2NQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T04:03:52Z","updated_at":"2020-02-27T04:03:52Z","author_association":"CONTRIBUTOR","body":"This makes sense to me. I'll close this ticket. Thks everyone!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/591768765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/591779918","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-591779918","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":591779918,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTc3OTkxOA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T04:52:34Z","updated_at":"2020-02-27T04:52:34Z","author_association":"CONTRIBUTOR","body":"This is ready for another round of review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/591779918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593247034","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-593247034","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":593247034,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzI0NzAzNA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T06:47:15Z","updated_at":"2020-03-02T06:47:15Z","author_association":"CONTRIBUTOR","body":"@rdblue would you please take another look at this patch at your convenience.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593247034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593489524","html_url":"https://github.com/apache/iceberg/issues/644#issuecomment-593489524","issue_url":"https://api.github.com/repos/apache/iceberg/issues/644","id":593489524,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzQ4OTUyNA==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T16:27:56Z","updated_at":"2020-03-02T16:27:56Z","author_association":"NONE","body":"I have created a hive view using spark.sql on top of two iceberg tables?\r\nThe view get created but while querying the data on the view not able to read the data.\r\n\r\nI tried Presto client and able to create the view and able to read the data using Presto. But the same view is not queryable using spark.\r\nI tried loading the data using spark.read.format(\"iceberg\") but it fails as it doesn't have the iceberg type defined in the HiveMetastore table properties. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593489524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593644399","html_url":"https://github.com/apache/iceberg/pull/823#issuecomment-593644399","issue_url":"https://api.github.com/repos/apache/iceberg/issues/823","id":593644399,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzY0NDM5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T21:58:15Z","updated_at":"2020-03-02T21:58:15Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThanks for fixing this and the resource leak, @vrozov!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593644399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593645225","html_url":"https://github.com/apache/iceberg/pull/819#issuecomment-593645225","issue_url":"https://api.github.com/repos/apache/iceberg/issues/819","id":593645225,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzY0NTIyNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T22:00:09Z","updated_at":"2020-03-02T22:00:09Z","author_association":"CONTRIBUTOR","body":"The table's split size shouldn't be used for metadata tables. I think we should just rely on the options passed to the scan. We will also need tests for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593645225/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593654327","html_url":"https://github.com/apache/iceberg/pull/814#issuecomment-593654327","issue_url":"https://api.github.com/repos/apache/iceberg/issues/814","id":593654327,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzY1NDMyNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T22:22:11Z","updated_at":"2020-03-02T22:22:11Z","author_association":"CONTRIBUTOR","body":"Thanks @mehtaashish23! I think we're almost ready to commit this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593654327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593681753","html_url":"https://github.com/apache/iceberg/issues/822#issuecomment-593681753","issue_url":"https://api.github.com/repos/apache/iceberg/issues/822","id":593681753,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzY4MTc1Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T23:46:43Z","updated_at":"2020-03-02T23:46:43Z","author_association":"CONTRIBUTOR","body":"I'm re-posting my reply from the dev list here:\r\n\r\nThe section of code that you point out is _mostly_ correct, but there is a case that we should fix. The reason I say \"mostly correct\" is that it has correct behavior and has error handling to ensure that as much of the work is done as possible.\r\n\r\nEven if not all of the data is cleaned up, the behavior must be to throw an exception if and only if the metadata commit was successful. If the commit is successful, then throwing an error puts a client in an unrecoverable state because it thinks that the table hasn't changed when it actually did. If a client retries an operation that was already committed successfully, it could make incorrect changes to the table.\r\n\r\nTo address reliability, cleanup uses `Tasks` so that [a single failure doesn't prevent attempting to delete other files](https://github.com/apache/incubator-iceberg/blob/master/core/src/main/java/org/apache/iceberg/RemoveSnapshots.java#L281) and files that can't be deleted are logged. There is similar failure handling while finding files to delete, so that [read failures don't prevent deleting](https://github.com/apache/incubator-iceberg/blob/master/core/src/main/java/org/apache/iceberg/RemoveSnapshots.java#L291) as much data as possible. If you want even more guarantees, then you can add a custom delete method and persist the files to delete for another service to handle.\r\n\r\nNow that I'm looking at this, one area that can be improved is the handling of manifest list files. There is [no failure handling while reading manifest lists](https://github.com/apache/incubator-iceberg/blob/master/core/src/main/java/org/apache/iceberg/RemoveSnapshots.java#L333-L344), so we should add that.\r\n\r\nI should also point out that this is not the only way for data to leak. For example, an executor failure in Spark can lead to a data file getting written by not committed to a table. I recommend having a way to periodically list table locations and check against the metadata tables, like `all_data_files` and `all_manifests`, to ensure that no files are left behind.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593681753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593682226","html_url":"https://github.com/apache/iceberg/issues/825#issuecomment-593682226","issue_url":"https://api.github.com/repos/apache/iceberg/issues/825","id":593682226,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzY4MjIyNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T23:48:25Z","updated_at":"2020-03-02T23:48:25Z","author_association":"CONTRIBUTOR","body":"I don't think we need to add columns to schemas, although we can make additional columns available. We've discussed this in the Spark community and the plan was to allow Spark to project additional metadata columns when pruning.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593682226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593747623","html_url":"https://github.com/apache/iceberg/issues/825#issuecomment-593747623","issue_url":"https://api.github.com/repos/apache/iceberg/issues/825","id":593747623,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzc0NzYyMw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T03:24:04Z","updated_at":"2020-03-03T09:24:56Z","author_association":"COLLABORATOR","body":"Thanks for the explanation.\r\n\r\nDo you mean that spark will pass schema with metadata columns and Iceberg doesn't need to add additional columns by itself? I 'm not sure what benefit if spark provides the meta columns, while if Iceberg doesn't have the meta columns, then other engines will need to contain redundant logic like what spark would do, that would bring the complexity for implementing the new readers such as Flink source and hive InputFormat.\r\n\r\nBTW, do we have any jira or doc about the discussion? Many thanks if you could provide the link about the context.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593747623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593792711","html_url":"https://github.com/apache/iceberg/pull/588#issuecomment-593792711","issue_url":"https://api.github.com/repos/apache/iceberg/issues/588","id":593792711,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzc5MjcxMQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T06:37:39Z","updated_at":"2020-03-03T06:37:39Z","author_association":"COLLABORATOR","body":"@rdblue @aokolnychyi , Any more comments or suggestions? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593792711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593809703","html_url":"https://github.com/apache/iceberg/pull/499#issuecomment-593809703","issue_url":"https://api.github.com/repos/apache/iceberg/issues/499","id":593809703,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzgwOTcwMw==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T07:35:50Z","updated_at":"2020-03-03T07:35:50Z","author_association":"COLLABORATOR","body":"@manishmalhotrawork \r\nCan you let me know if you are still working on it? If you are busy, I will continue this work and finish it. Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593809703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593973326","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-593973326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":593973326,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzk3MzMyNg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T14:17:58Z","updated_at":"2020-03-03T14:17:58Z","author_association":"CONTRIBUTOR","body":"fyi, I'm taking this patch up and working on an initial version using @guilload patch as base","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/593973326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594012244","html_url":"https://github.com/apache/iceberg/issues/359#issuecomment-594012244","issue_url":"https://api.github.com/repos/apache/iceberg/issues/359","id":594012244,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDAxMjI0NA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T15:33:54Z","updated_at":"2020-03-03T15:33:54Z","author_association":"COLLABORATOR","body":"Just for information and answer questions myself. I did some POC to generate delete files in Parquet format with additional meta columns. The approach is to generate dataframe according to filters and then extend the internal row with metadata. It works fine but looks a bit strange that we spawn spark tasks in a table format, which means it has some write amplification when deleting by filters. But it should be ok if the deletion records are provided by Spark like Hudi. This reminds me that we can add an API like `deleteByRowKeys(Iteratable<InternalRows>)`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594012244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594028819","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594028819","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594028819,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDAyODgxOQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T16:06:00Z","updated_at":"2020-03-03T16:06:00Z","author_association":"CONTRIBUTOR","body":"Hey there, along with @teabot and @cmathiesen we've started working on this and have managed to get the read path working from Hive on an Iceberg table using an InputFormat. We had to make quite a few changes to the original patch as it was using a different Hive API to that one that appears to be in use in Hive 2.x. Maybe it was targetting Hive 3.x? We have run into a number of issues with version conflicts between Hive, Spark, Iceberg, Guava and Avro but managed to get it working as a separate (Maven) project. We attempted to integrate it with Iceberg as a new module (although maybe adding it to the existing iceberg-hive would be better) but couldn't get Gradle to isolate the versions for just the new subproject. We'd be happy to share what we've done so far, we just need to figure out where best to put it so others can take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594028819/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594065809","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594065809","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594065809,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA2NTgwOQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T17:17:52Z","updated_at":"2020-03-03T17:17:52Z","author_association":"CONTRIBUTOR","body":"@massdosage that's great to hear. \r\n> We had to make quite a few changes to the original patch as it was using a different Hive API \r\n\r\nWhich patch is this ? @guilload  patch was only for MR input format AFAIK.\r\n\r\nMy take would be that the MR API patches should go into the iceberg-mr module.   The Hive StorageHandler API can possibly go into iceberg-hive, but I guess you may be using a different version of Hive then Iceberg. This can be a non-issue if the StorageHandler API has not changed across different versions of Hive.\r\nNevertheless, it would be great if you can have the patch out. We can review it and take it from there.\r\nThanks again all of you for your work on this!\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594065809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594077199","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594077199","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594077199,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA3NzE5OQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T17:42:49Z","updated_at":"2020-03-03T17:42:49Z","author_association":"CONTRIBUTOR","body":"Yes, the InputFormat in the other patch was using `org.apache.hadoop.mapreduce.InputFormat;` but in order to get this working with Hive 2.3.x we had to use `org.apache.hadoop.mapred.InputFormat`. We can get the code up onto GitHub to show and then you could pull the parts you want into Iceberg if it looks useful. We'll try get that done in a day or two.\r\n\r\nOur other attempt at it was in an iceberg-mr subproject but ended in version lock hell, it's quite possible that there are some Gradle tricks to manage versions that we're not aware of as we're not big Gradle users. The \"work in progress\" code for that is here: https://github.com/ExpediaGroup/incubator-iceberg/blob/hive-read-support/mr/src/main/java/org/apache/iceberg/mr/IcebergInputFormat.java. We also are aware that there are probably way better ways to get to the Iceberg metadata instead of the path/string manipulation we are currently doing but we're not entirely aware of all the ins and outs of the Iceberg APIs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594077199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594083320","html_url":"https://github.com/apache/iceberg/pull/723#issuecomment-594083320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/723","id":594083320,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA4MzMyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T17:56:01Z","updated_at":"2020-03-03T17:56:01Z","author_association":"CONTRIBUTOR","body":"@samarthjain, only a few minor things left. Could you remove all of the patch files from the PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594083320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594122562","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594122562","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594122562,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEyMjU2Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T19:22:04Z","updated_at":"2020-03-03T19:22:04Z","author_association":"CONTRIBUTOR","body":"Is an update to Hive 2.3 the main blocker for getting this into the Apache repo? If so, maybe we should look at upgrading Hive earlier.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594122562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594128938","html_url":"https://github.com/apache/iceberg/pull/826#issuecomment-594128938","issue_url":"https://api.github.com/repos/apache/iceberg/issues/826","id":594128938,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEyODkzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T19:35:14Z","updated_at":"2020-03-03T19:35:14Z","author_association":"CONTRIBUTOR","body":"Looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594128938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594404958","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594404958","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594404958,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDQwNDk1OA==","user":{"login":"colinmjj","id":8003795,"node_id":"MDQ6VXNlcjgwMDM3OTU=","avatar_url":"https://avatars.githubusercontent.com/u/8003795?v=4","gravatar_id":"","url":"https://api.github.com/users/colinmjj","html_url":"https://github.com/colinmjj","followers_url":"https://api.github.com/users/colinmjj/followers","following_url":"https://api.github.com/users/colinmjj/following{/other_user}","gists_url":"https://api.github.com/users/colinmjj/gists{/gist_id}","starred_url":"https://api.github.com/users/colinmjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colinmjj/subscriptions","organizations_url":"https://api.github.com/users/colinmjj/orgs","repos_url":"https://api.github.com/users/colinmjj/repos","events_url":"https://api.github.com/users/colinmjj/events{/privacy}","received_events_url":"https://api.github.com/users/colinmjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T09:07:49Z","updated_at":"2020-03-04T09:13:38Z","author_association":"NONE","body":"hi, @rdsr @massdosage @rdblue \r\nI also did some investigation on Hive integrate with Iceberg, the target of investigation is to integrate Hive with possible plugin,eg, HiveStorageHandler, but got some block issues:\r\nfile/folder of data has different organization, in Hive, there is:\r\n\r\n\r\n* warehouse\r\n    * dbname.db\r\n       * table\r\n          * partition\r\n             * datafile\r\n\r\nin Iceberg, it maybe:\r\n* catalog_base\r\n   * metadata\r\n      * manifest\r\n    * datafile\r\n\r\nIt's wired to have both folder in warehouse, so I suppose iceberg table may be existed as Hive external table, and define the metadata folder as table location which will be used in InputFormat. \r\n\r\nPartition is also a problem. Partition is existed as a folder in Hive, but it's \"hidden partition\" in Iceberg. There is no plugin like InputFormat to solve this, and iceberg can't work properly now. For example, \"show partition\", \"select c1 from t where partition_col = 'p1'\".\r\nI think Hive has to be modified to deal with the partition things, eg, \"alter table add partition\", \"show partition\", etc.\r\n\r\nOur scene is writing Iceberg with Flink and Hive can read the data ASAP, as an option solution, maybe create a toolkit which can transfer IcebergTable to Hive table is suitable for our case. \r\nDo we have the same target on Hive integration in this MR?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594404958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594443081","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594443081","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594443081,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDQ0MzA4MQ==","user":{"login":"teabot","id":228950,"node_id":"MDQ6VXNlcjIyODk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/228950?v=4","gravatar_id":"","url":"https://api.github.com/users/teabot","html_url":"https://github.com/teabot","followers_url":"https://api.github.com/users/teabot/followers","following_url":"https://api.github.com/users/teabot/following{/other_user}","gists_url":"https://api.github.com/users/teabot/gists{/gist_id}","starred_url":"https://api.github.com/users/teabot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teabot/subscriptions","organizations_url":"https://api.github.com/users/teabot/orgs","repos_url":"https://api.github.com/users/teabot/repos","events_url":"https://api.github.com/users/teabot/events{/privacy}","received_events_url":"https://api.github.com/users/teabot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T10:31:49Z","updated_at":"2020-03-04T10:31:49Z","author_association":"NONE","body":"Hey Colin,\n\nIn the implementation described by @massdosage, we assume that Iceberg is\nresponsible for partitioning, layout of files, etc. This allows us to model\nIceberg tables as unpartitioned external Hive tables in an existing\nmetastore. By reducing scope like this, we avoid the need to align the Hive\npartitioning and warehouse models with that of Iceberg. Additionally, we\ncan have Iceberg tables coexist with existing Hive tables in the same\ncatalogue - which is important for us as any move towards Iceberg will be\nan incremental migration.\n\nThanks,\n\nElliot.\n\nOn Wed, 4 Mar 2020 at 09:07, Colin <notifications@github.com> wrote:\n\n> hi, @rdsr <https://github.com/rdsr> @massdosage\n> <https://github.com/massdosage> @rdblue <https://github.com/rdblue>\n> I also did some investigation on Hive integrate with Iceberg, the target\n> of investigation is to integrate Hive with possible plugin,eg,\n> HiveStorageHandler, but got some block issues:\n>\n>    1. file/folder of data has different organization,\n>    in Hive, there is:\n>    warehouse\n>    |- dbname.db\n>    |- table\n>    |- partition\n>    |- datafile\n>    in Iceberg, it maybe:\n>    catalog_base\n>    |- metadata\n>    |- manifest\n>    |- datafile\n>    It's wired to have both folder in warehouse, so I suppose iceberg\n>    table may be existed as Hive external table, and define the metadata folder\n>    as table location which will be used in InputFormat.\n>    2. Partition is also a problem. Partition is existed as a folder in\n>    Hive, but it's \"hidden partition\" in Iceberg. There is no plugin like\n>    InputFormat to solve this, and iceberg can't work properly now. For\n>    example, \"show partition\", \"select c1 from t where partition_col = 'p1'\".\n>    I think Hive has to be modified to deal with the partition things, eg,\n>    \"alter table add partition\", \"show partition\", etc.\n>    Our scene is writing Iceberg with Flink and Hive can read the data\n>    ASAP, as an option solution, maybe create a toolkit which can transfer\n>    IcebergTable to Hive table is suitable for our case.\n>    Do we have the same target on Hive integration in this MR?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-iceberg/issues/170?email_source=notifications&email_token=AABX4VR3SZGPC7FALFAH25DRFYK6NA5CNFSM4HH46HTKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOENW6MXQ#issuecomment-594404958>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AABX4VVPNNU5M5OZ7K5IMHLRFYK6NANCNFSM4HH46HTA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594443081/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594542308","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594542308","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594542308,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDU0MjMwOA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T14:05:27Z","updated_at":"2020-03-04T14:05:27Z","author_association":"CONTRIBUTOR","body":"@teabot @massdosage do you have a public WIP branch for this Hive support, I would like to know how you achieve the Hive support.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594542308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594553698","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594553698","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594553698,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDU1MzY5OA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T14:24:46Z","updated_at":"2020-03-04T14:24:46Z","author_association":"CONTRIBUTOR","body":"@jerryshao Yes, you can take a look at it here: https://github.com/ExpediaGroup/hiveberg","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594553698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594555804","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594555804","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594555804,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDU1NTgwNA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T14:28:03Z","updated_at":"2020-03-04T14:28:03Z","author_association":"CONTRIBUTOR","body":"> Is an update to Hive 2.3 the main blocker for getting this into the Apache repo? If so, maybe we should look at upgrading Hive earlier.\r\n\r\nIt's not just that, the problem is that Hive 2.3 relies on versions of Guava and Avro that are older than the versions in Iceberg. So if you run the InputFormat using Hive's libraries there are all kinds of \"method not found\" and other exceptions thrown. As I said, we couldn't get Gradle to allow us to override and shadow things properly within Iceberg itself which is why we created the above project separately. We then also needed to make these changes to Iceberg to shade the libraries it is using that cause problems with Hive: https://github.com/apache/incubator-iceberg/compare/master...ExpediaGroup:build-hiveberg-modules\r\n\r\nIt would be nice to find some way to do all the above within Iceberg itself and then move the \"hiveberg\" code over there.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594555804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594572553","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594572553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594572553,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDU3MjU1Mw==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T14:51:57Z","updated_at":"2020-03-04T14:54:08Z","author_association":"CONTRIBUTOR","body":"@massdosage \r\nI think it would be good if we can break this up into multiple tasks\r\n1st would be to get the InputFormat working and get that checked in. I glanced at the your patch, currently its in-memory record representation/container is tied to Avro. We should try to make it generic. There's a discussion on this above.  Happy to help review this if you'd like to take this up, or else I can even take that up if you like [ as we are also planning to have our Hive story for Iceberg sorted out]\r\nThen we see how to build the mapred version of the InputFormat API. Maybe just a wrapper on top of MRv1 could do?\r\nLastly we can take up  writing the Hive SerDe code . I guess this must have already done by you so shouldn't be too much of an issue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594572553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594579042","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594579042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594579042,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDU3OTA0Mg==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T15:00:36Z","updated_at":"2020-03-04T15:00:36Z","author_association":"CONTRIBUTOR","body":"Sure, we have some tickets indicating next steps and the Avro tie-in is something we're aware of and would like to sort out. @cmathiesen is working on https://github.com/ExpediaGroup/hiveberg/issues/3 right now, we would love input from others on this (and anything else in the current implementation).\r\n\r\nAs for a `mapreduce` version, I'm not sure that's even possible with Hive 2? (see https://snippetessay.wordpress.com/2017/10/20/mapred-vs-mapreduce-the-api-question-of-hadoop-and-impact-on-the-ecosystem/). We tried that first and it didn't work so went for `mapred`, maybe `mapreduce` works with Hive 3? But yes, having the common logic somewhere and then wrappers for `mapred` and `mapreduce` sounds like a good idea.\r\n\r\nWe don't currently have a SerDe but have a ticket for what we've thought of there so far - https://github.com/ExpediaGroup/hiveberg/issues/2","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594579042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594589426","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-594589426","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":594589426,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDU4OTQyNg==","user":{"login":"teabot","id":228950,"node_id":"MDQ6VXNlcjIyODk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/228950?v=4","gravatar_id":"","url":"https://api.github.com/users/teabot","html_url":"https://github.com/teabot","followers_url":"https://api.github.com/users/teabot/followers","following_url":"https://api.github.com/users/teabot/following{/other_user}","gists_url":"https://api.github.com/users/teabot/gists{/gist_id}","starred_url":"https://api.github.com/users/teabot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teabot/subscriptions","organizations_url":"https://api.github.com/users/teabot/orgs","repos_url":"https://api.github.com/users/teabot/repos","events_url":"https://api.github.com/users/teabot/events{/privacy}","received_events_url":"https://api.github.com/users/teabot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T15:13:42Z","updated_at":"2020-03-04T15:14:30Z","author_association":"NONE","body":"> We don't currently have a SerDe but have a ticket for what we've thought of there so far - [ExpediaGroup/hiveberg#2](https://github.com/ExpediaGroup/hiveberg/issues/2)\r\n\r\nTo be clear, we do have SerDe integration using the standard `AvroSerDe` as we could start with this 'out of the box', however we will clearly need to implement an Iceberg specific SerDe.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594589426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594741812","html_url":"https://github.com/apache/iceberg/pull/826#issuecomment-594741812","issue_url":"https://api.github.com/repos/apache/iceberg/issues/826","id":594741812,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDc0MTgxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T18:43:31Z","updated_at":"2020-03-04T18:43:31Z","author_association":"CONTRIBUTOR","body":"I'm going to go ahead and merge this since it has been open long enough for feedback. If there is anything else to fix when @edgarRd or @omalley have a look we can open follow-ups. Thanks @shardulm94!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/594741812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595000651","html_url":"https://github.com/apache/iceberg/issues/659#issuecomment-595000651","issue_url":"https://api.github.com/repos/apache/iceberg/issues/659","id":595000651,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTAwMDY1MQ==","user":{"login":"golammott","id":4261703,"node_id":"MDQ6VXNlcjQyNjE3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/4261703?v=4","gravatar_id":"","url":"https://api.github.com/users/golammott","html_url":"https://github.com/golammott","followers_url":"https://api.github.com/users/golammott/followers","following_url":"https://api.github.com/users/golammott/following{/other_user}","gists_url":"https://api.github.com/users/golammott/gists{/gist_id}","starred_url":"https://api.github.com/users/golammott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/golammott/subscriptions","organizations_url":"https://api.github.com/users/golammott/orgs","repos_url":"https://api.github.com/users/golammott/repos","events_url":"https://api.github.com/users/golammott/events{/privacy}","received_events_url":"https://api.github.com/users/golammott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T02:48:56Z","updated_at":"2020-03-05T02:48:56Z","author_association":"CONTRIBUTOR","body":"Hi @aokolnychyi, first time contributor attempting to help with this one. Ive submitted PR above let me know if this wasn't exactly what you had in mind and I can make the necessary changes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595000651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595094994","html_url":"https://github.com/apache/iceberg/issues/731#issuecomment-595094994","issue_url":"https://api.github.com/repos/apache/iceberg/issues/731","id":595094994,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTA5NDk5NA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T08:29:47Z","updated_at":"2020-03-05T08:29:47Z","author_association":"CONTRIBUTOR","body":"Current Spark uses option `snapshot-id` to specify which snapshot to read. May be an easy way to introduce incremental scan in Spark is to use options like `start-snapshot-id`, `end-snapshot-id`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595094994/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595114368","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-595114368","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":595114368,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTExNDM2OA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T09:12:56Z","updated_at":"2020-03-05T09:12:56Z","author_association":"CONTRIBUTOR","body":"Seems like we're focusing on read path currently. \r\n\r\nI have a question about write path, are we also targeting the write path? For the write path, I'm curious how do we pass the metadata operations to Iceberg, like create DDL, I'm not sure if Hive has a similar catalog plugin like Spark.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595114368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595128292","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-595128292","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":595128292,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTEyODI5Mg==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T09:40:31Z","updated_at":"2020-03-05T09:40:31Z","author_association":"CONTRIBUTOR","body":"Yes, our focus currently is on the read path. We would like to work on the write path next but it will probably be quite a bit more complicated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595128292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595212638","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-595212638","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":595212638,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTIxMjYzOA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T12:51:01Z","updated_at":"2020-03-05T12:51:38Z","author_association":"CONTRIBUTOR","body":"Sorry I still have several questions about the implementation of read path, would like know how you think about this.\r\n\r\n1. Are we going to implement as a storage handler (non-native table) or just input/output format? From what I understanding, seems like `HiveStorageHandler` is more suitable.\r\n2. How do we get filter expressions from Hive and map to Iceberg' internal ones, also to push the expressions? Spark will get the filter expressions to reader, not sure if Hive has such thing.\r\n3. How do we leverage Iceberg's catalog (HiveCatalog for example)? In the current implementation, it only uses `HadoopTables` with `location` property, not sure how do we leverage Iceberg's catalog implementation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595212638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595243046","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-595243046","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":595243046,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTI0MzA0Ng==","user":{"login":"teabot","id":228950,"node_id":"MDQ6VXNlcjIyODk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/228950?v=4","gravatar_id":"","url":"https://api.github.com/users/teabot","html_url":"https://github.com/teabot","followers_url":"https://api.github.com/users/teabot/followers","following_url":"https://api.github.com/users/teabot/following{/other_user}","gists_url":"https://api.github.com/users/teabot/gists{/gist_id}","starred_url":"https://api.github.com/users/teabot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teabot/subscriptions","organizations_url":"https://api.github.com/users/teabot/orgs","repos_url":"https://api.github.com/users/teabot/repos","events_url":"https://api.github.com/users/teabot/events{/privacy}","received_events_url":"https://api.github.com/users/teabot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T13:58:25Z","updated_at":"2020-03-05T13:58:25Z","author_association":"NONE","body":"Firstly, what has been shared is very much a work in progress, it does not\nrepresent a complete solution. To your points:\n\n   1. Yes, it would be beneficial to do this. However, we are first\n   focusing on getting records into Hive.\n   2. This is a good question. ORC does this already and so we'll attempt\n   to use the same mechanism. The required information appears to be generally\n   available in the job configuration.\n   3. Agreed, we should store catalogue information in the metastore.\n\nThanks,\n\nElliot.\n\nOn Thu, 5 Mar 2020 at 12:51, Saisai Shao <notifications@github.com> wrote:\n\n> Sorry I still have several questions about the implementation of read\n> path, would like know how you think about this.\n>\n>    1. Are we going to implement as a storage handler (non-native table)\n>    or just input/output format? From what I understanding, seems like\n>    HiveStorageHandler is more suitable.\n>    2. How do we get filter expressions from Hive and map to Iceberg'\n>    internal ones, also to push the expressions? Spark will get the filter\n>    expressions to reader, not sure if Hive has such thing.\n>    3. How do we leverage Iceberg's catalog (HiveCatalog)? In the current\n>    implementation, it only uses HadoopTables with location property, not\n>    sure how do we leverage Iceberg's catalog implementation.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-iceberg/issues/170?email_source=notifications&email_token=AABX4VTTFFUTOHZZWLZ4MHDRF6N3NA5CNFSM4HH46HTKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEN5DSXQ#issuecomment-595212638>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AABX4VUV5UCA7SL5DOZXOMDRF6N3NANCNFSM4HH46HTA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595243046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595319862","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-595319862","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":595319862,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTMxOTg2Mg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T16:28:01Z","updated_at":"2020-03-05T16:28:01Z","author_association":"CONTRIBUTOR","body":"Thanks @shardulm94 . I will review this today.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595319862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595417185","html_url":"https://github.com/apache/iceberg/issues/731#issuecomment-595417185","issue_url":"https://api.github.com/repos/apache/iceberg/issues/731","id":595417185,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTQxNzE4NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T19:55:30Z","updated_at":"2020-03-05T19:55:30Z","author_association":"CONTRIBUTOR","body":"Good idea, @jerryshao!\r\n\r\nSince this one is finished, I'm going to close it. Could you open a new issue or PR for incremental scan properties?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595417185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595423050","html_url":"https://github.com/apache/iceberg/pull/827#issuecomment-595423050","issue_url":"https://api.github.com/repos/apache/iceberg/issues/827","id":595423050,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTQyMzA1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-05T20:08:23Z","updated_at":"2020-03-05T20:08:23Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @golammott! It's a great start, but I think we probably want to refactor a bit more; see my last comment.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595423050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595552486","html_url":"https://github.com/apache/iceberg/issues/731#issuecomment-595552486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/731","id":595552486,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTU1MjQ4Ng==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-06T01:34:52Z","updated_at":"2020-03-06T01:34:52Z","author_association":"CONTRIBUTOR","body":"Sure, will do.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595552486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595732389","html_url":"https://github.com/apache/iceberg/issues/567#issuecomment-595732389","issue_url":"https://api.github.com/repos/apache/iceberg/issues/567","id":595732389,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTczMjM4OQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-06T11:44:48Z","updated_at":"2020-03-06T11:45:40Z","author_association":"CONTRIBUTOR","body":"Working on porting/moving the code provided as [nfflink-connector-iceberg](https://github.com/Netflix-Skunkworks/nfflink-connector-iceberg) to master. Hopefully could make it done and upload a PR in the middle of next week. It might be useful if anyone would like to get a simple working version of Flink Iceberg sink for PoC. @stevenzwu @bowenli86  @rdblue FYI","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595732389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595927957","html_url":"https://github.com/apache/iceberg/pull/827#issuecomment-595927957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/827","id":595927957,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTkyNzk1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-06T19:38:24Z","updated_at":"2020-03-06T19:38:35Z","author_association":"CONTRIBUTOR","body":"Looks great, @golammott! I merged this. Thank you for contributing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595927957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595937698","html_url":"https://github.com/apache/iceberg/pull/829#issuecomment-595937698","issue_url":"https://api.github.com/repos/apache/iceberg/issues/829","id":595937698,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTkzNzY5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-06T19:51:03Z","updated_at":"2020-03-06T19:51:03Z","author_association":"CONTRIBUTOR","body":"Thanks @jerryshao, it looks great so I'll merge.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/595937698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596027589","html_url":"https://github.com/apache/iceberg/issues/567#issuecomment-596027589","issue_url":"https://api.github.com/repos/apache/iceberg/issues/567","id":596027589,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjAyNzU4OQ==","user":{"login":"bowenli86","id":1892692,"node_id":"MDQ6VXNlcjE4OTI2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/1892692?v=4","gravatar_id":"","url":"https://api.github.com/users/bowenli86","html_url":"https://github.com/bowenli86","followers_url":"https://api.github.com/users/bowenli86/followers","following_url":"https://api.github.com/users/bowenli86/following{/other_user}","gists_url":"https://api.github.com/users/bowenli86/gists{/gist_id}","starred_url":"https://api.github.com/users/bowenli86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bowenli86/subscriptions","organizations_url":"https://api.github.com/users/bowenli86/orgs","repos_url":"https://api.github.com/users/bowenli86/repos","events_url":"https://api.github.com/users/bowenli86/events{/privacy}","received_events_url":"https://api.github.com/users/bowenli86/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-07T01:21:07Z","updated_at":"2020-03-07T01:21:07Z","author_association":"MEMBER","body":"@waterlx awesome, thanks! Let us know if you need any help.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596027589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596033778","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-596033778","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":596033778,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjAzMzc3OA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-07T02:11:20Z","updated_at":"2020-03-07T02:11:20Z","author_association":"CONTRIBUTOR","body":"Thanks @teabot @massdosage . Let me know if you guys need any help and if I can pick up a something. This is on our roadmap as well","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596033778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596143410","html_url":"https://github.com/apache/iceberg/pull/814#issuecomment-596143410","issue_url":"https://api.github.com/repos/apache/iceberg/issues/814","id":596143410,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjE0MzQxMA==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-07T22:22:27Z","updated_at":"2020-03-07T22:22:27Z","author_association":"CONTRIBUTOR","body":"@rdblue accommodated your feedback, with making sure, we check the exact file expected in clean up. Please review. It took time, as I was working on ongoing commitment.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596143410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596280702","html_url":"https://github.com/apache/iceberg/pull/780#issuecomment-596280702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/780","id":596280702,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjI4MDcwMg==","user":{"login":"yp-oss","id":15472649,"node_id":"MDQ6VXNlcjE1NDcyNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/15472649?v=4","gravatar_id":"","url":"https://api.github.com/users/yp-oss","html_url":"https://github.com/yp-oss","followers_url":"https://api.github.com/users/yp-oss/followers","following_url":"https://api.github.com/users/yp-oss/following{/other_user}","gists_url":"https://api.github.com/users/yp-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/yp-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yp-oss/subscriptions","organizations_url":"https://api.github.com/users/yp-oss/orgs","repos_url":"https://api.github.com/users/yp-oss/repos","events_url":"https://api.github.com/users/yp-oss/events{/privacy}","received_events_url":"https://api.github.com/users/yp-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T01:28:50Z","updated_at":"2020-03-09T01:28:50Z","author_association":"NONE","body":"@rdblue any thoughts or suggestions? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596280702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596363762","html_url":"https://github.com/apache/iceberg/issues/567#issuecomment-596363762","issue_url":"https://api.github.com/repos/apache/iceberg/issues/567","id":596363762,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjM2Mzc2Mg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T07:10:01Z","updated_at":"2020-03-09T07:10:01Z","author_association":"MEMBER","body":"Thanks @waterlx for your work, would take a look if the PR is prepared. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596363762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596637087","html_url":"https://github.com/apache/iceberg/issues/832#issuecomment-596637087","issue_url":"https://api.github.com/repos/apache/iceberg/issues/832","id":596637087,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjYzNzA4Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T16:33:33Z","updated_at":"2020-03-09T16:33:33Z","author_association":"CONTRIBUTOR","body":"The reason for using 1.2.1 is that's the version Spark uses. When we update to Spark that depends on something other than 1.2.1-spark2, I think we all agree we should update.\r\n\r\nI also thought that it was safer to depend on 1.2.1, so that we don't use any new APIs that are incompatible with that version. But it should be safe to update to 2.3.x as long as we test the spark-runtime Jar with 2.4.x versions of Spark where 1.2.1-spark2 is the provided version.\r\n\r\nSince the Hive catalog is fairly stable at this point, I think it probably makes sense to update to 2.3.x to enable Hive/Iceberg support.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596637087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596823256","html_url":"https://github.com/apache/iceberg/pull/814#issuecomment-596823256","issue_url":"https://api.github.com/repos/apache/iceberg/issues/814","id":596823256,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjgyMzI1Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T23:14:46Z","updated_at":"2020-03-09T23:14:46Z","author_association":"CONTRIBUTOR","body":"@mehtaashish23, I think the tests are doing the right thing and I want to get this into master so that cherry-picked commits are no longer dangerous. We can solve the remaining issues in a follow-up. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596823256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596824075","html_url":"https://github.com/apache/iceberg/pull/802#issuecomment-596824075","issue_url":"https://api.github.com/repos/apache/iceberg/issues/802","id":596824075,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjgyNDA3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T23:17:18Z","updated_at":"2020-03-09T23:17:18Z","author_association":"CONTRIBUTOR","body":"Closing this because #814 replaces it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596824075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596852869","html_url":"https://github.com/apache/iceberg/issues/832#issuecomment-596852869","issue_url":"https://api.github.com/repos/apache/iceberg/issues/832","id":596852869,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Njg1Mjg2OQ==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T01:15:33Z","updated_at":"2020-03-10T01:15:33Z","author_association":"CONTRIBUTOR","body":"I think it should be worked when upgrading to Hive 2.3.x, I will take a try on this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/596852869/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597192698","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-597192698","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":597192698,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzE5MjY5OA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T16:49:06Z","updated_at":"2020-03-10T16:49:06Z","author_association":"COLLABORATOR","body":"@rdsr, I think again about your comments, that should be doable. I will submit an update later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597192698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597199207","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-597199207","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":597199207,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzE5OTIwNw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T17:00:46Z","updated_at":"2020-03-10T17:00:46Z","author_association":"COLLABORATOR","body":"@rdsr, ready for another review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597199207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597200427","html_url":"https://github.com/apache/iceberg/pull/833#issuecomment-597200427","issue_url":"https://api.github.com/repos/apache/iceberg/issues/833","id":597200427,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzIwMDQyNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T17:03:01Z","updated_at":"2020-03-10T17:03:01Z","author_association":"CONTRIBUTOR","body":"I don't think that the right solution to concurrent access is to use a concurrent queue. That avoids the exception you're seeing, but doesn't mean that the code is correct.\r\n\r\nIt looks like the problem is that a shared `SchemaVisitor`, in this case `MappingUtil.CreateMapping.INSTANCE`, has multiple threads updating the visitor's internal field ID stack. Since that stack is specific to the schema that is visited, it isn't correct to share the stack across threads. This was an oversight because the actual visitor doesn't keep any state so it seemed safe to share one instead of creating a new one each time.\r\n\r\nThe solution is to either avoid creating singleton `SchemaVisitor` instances, or to remove the field ID stack. I think we should remove the field ID stack, since it is only used when converting an Iceberg type to Avro (`TypeToSchema`).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597200427/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597243617","html_url":"https://github.com/apache/iceberg/pull/491#issuecomment-597243617","issue_url":"https://api.github.com/repos/apache/iceberg/issues/491","id":597243617,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzI0MzYxNw==","user":{"login":"jun-ma-0","id":51969269,"node_id":"MDQ6VXNlcjUxOTY5MjY5","avatar_url":"https://avatars.githubusercontent.com/u/51969269?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-ma-0","html_url":"https://github.com/jun-ma-0","followers_url":"https://api.github.com/users/jun-ma-0/followers","following_url":"https://api.github.com/users/jun-ma-0/following{/other_user}","gists_url":"https://api.github.com/users/jun-ma-0/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-ma-0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-ma-0/subscriptions","organizations_url":"https://api.github.com/users/jun-ma-0/orgs","repos_url":"https://api.github.com/users/jun-ma-0/repos","events_url":"https://api.github.com/users/jun-ma-0/events{/privacy}","received_events_url":"https://api.github.com/users/jun-ma-0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T18:29:45Z","updated_at":"2020-03-10T18:29:45Z","author_association":"NONE","body":"@rdblue I'll resume this work, but can't find the option to reopen the PR. Could you help to reopen it?\r\nWe can make paths relative to table location. I'll address your feedback to make relative path optional. Besides this, do you have any other feedback/concern about implementation? Since this PR is doing low level change, I want to make sure it won't cause problems for future changes of iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597243617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597245527","html_url":"https://github.com/apache/iceberg/pull/491#issuecomment-597245527","issue_url":"https://api.github.com/repos/apache/iceberg/issues/491","id":597245527,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzI0NTUyNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-10T18:33:53Z","updated_at":"2020-03-10T18:33:53Z","author_association":"CONTRIBUTOR","body":"@jun-ma-0, I reopened it for you.\r\n\r\nThis is a forward-incompatible change. That is, it will break older readers that don't know how to construct a full path using the table location and a relative path. That means we need to put it behind a feature flag in table properties, like the recent change that made snapshot IDs in manifest files optional. We should also update the spec.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597245527/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597525476","html_url":"https://github.com/apache/iceberg/pull/833#issuecomment-597525476","issue_url":"https://api.github.com/repos/apache/iceberg/issues/833","id":597525476,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzUyNTQ3Ng==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T09:19:43Z","updated_at":"2020-03-11T11:20:17Z","author_association":"COLLABORATOR","body":"Thanks @rdblue for the explanation.\r\n\r\nI walked through the code path and found that we still need the `id` to for the record name since we need to do Avro resolution via name mapping when parsing the `ManifesEntry` and `ManifestFile`, which means we need to build the same name mapping (or with some renames) against the schema we define for `ManifesEntry` and `ManifestFile`.  If we remove the `fieldIds` stack from `SchemaVisitor` we need to find another way to do the same schema visiting logic that may be more complicated.  So we may consider the first way, make sense?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597525476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597723370","html_url":"https://github.com/apache/iceberg/pull/833#issuecomment-597723370","issue_url":"https://api.github.com/repos/apache/iceberg/issues/833","id":597723370,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzcyMzM3MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T16:09:18Z","updated_at":"2020-03-11T16:09:18Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, you're right that we do need the id to produce the record name. That doesn't mean that we need to include the field id stack in _all_ of the schema visitors. A simple solution is to use a different schema visitor for the one case that needs the id.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597723370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597728192","html_url":"https://github.com/apache/iceberg/pull/833#issuecomment-597728192","issue_url":"https://api.github.com/repos/apache/iceberg/issues/833","id":597728192,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzcyODE5Mg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T16:17:49Z","updated_at":"2020-03-11T16:17:49Z","author_association":"COLLABORATOR","body":"Thanks, I got it. Will update this later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/597728192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598430109","html_url":"https://github.com/apache/iceberg/pull/833#issuecomment-598430109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/833","id":598430109,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODQzMDEwOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T21:39:55Z","updated_at":"2020-03-12T21:39:55Z","author_association":"CONTRIBUTOR","body":"Ideally, this wouldn't create a new visitor for the one case that uses the field IDs. I opened a #840 with an alternative solution that uses new callbacks instead of a different visitor pattern. Could you look at that?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598430109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598496532","html_url":"https://github.com/apache/iceberg/pull/833#issuecomment-598496532","issue_url":"https://api.github.com/repos/apache/iceberg/issues/833","id":598496532,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODQ5NjUzMg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T00:57:57Z","updated_at":"2020-03-13T08:02:20Z","author_association":"COLLABORATOR","body":"I tried the way you provided, just have one concern that all other schema visitors are forced to add more stack frames, not sure if that could be optimized by the compiler.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598496532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598497213","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-598497213","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":598497213,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODQ5NzIxMw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T01:00:41Z","updated_at":"2020-03-13T01:00:41Z","author_association":"COLLABORATOR","body":"@rdsr, any new comments? The new commit uses the way you suggest.\r\n\r\n@rdblue, could you please help to take a look at your convenience as well?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598497213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598535934","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-598535934","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":598535934,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODUzNTkzNA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T03:54:43Z","updated_at":"2020-03-13T03:54:43Z","author_association":"CONTRIBUTOR","body":"I've create a PR to build Iceberg against Hive 2.3.6 #841 , I think with this we don't have to maintain Hive support out of Iceberg, the work here could be moved to Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598535934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598621602","html_url":"https://github.com/apache/iceberg/issues/170#issuecomment-598621602","issue_url":"https://api.github.com/repos/apache/iceberg/issues/170","id":598621602,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODYyMTYwMg==","user":{"login":"teabot","id":228950,"node_id":"MDQ6VXNlcjIyODk1MA==","avatar_url":"https://avatars.githubusercontent.com/u/228950?v=4","gravatar_id":"","url":"https://api.github.com/users/teabot","html_url":"https://github.com/teabot","followers_url":"https://api.github.com/users/teabot/followers","following_url":"https://api.github.com/users/teabot/following{/other_user}","gists_url":"https://api.github.com/users/teabot/gists{/gist_id}","starred_url":"https://api.github.com/users/teabot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teabot/subscriptions","organizations_url":"https://api.github.com/users/teabot/orgs","repos_url":"https://api.github.com/users/teabot/repos","events_url":"https://api.github.com/users/teabot/events{/privacy}","received_events_url":"https://api.github.com/users/teabot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T09:08:46Z","updated_at":"2020-03-13T09:37:48Z","author_association":"NONE","body":"> I've create a PR to build Iceberg against Hive 2.3.6 #841 , I think with this we don't have to maintain Hive support out of Iceberg, the work here could be moved to Iceberg.\r\n\r\nExcellent! When this PR is merged we'll attempt to move our work from [ExpediaGroup/hiveberg#2](https://github.com/ExpediaGroup/hiveberg/issues/2) and into appropriate submodule(s) in the Iceberg project.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598621602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598762891","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-598762891","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":598762891,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODc2Mjg5MQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T15:01:37Z","updated_at":"2020-03-13T15:01:37Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada Been a little busy lately. I'll try to find time to look into it next week. Hope that's ok.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598762891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598809775","html_url":"https://github.com/apache/iceberg/pull/841#issuecomment-598809775","issue_url":"https://api.github.com/repos/apache/iceberg/issues/841","id":598809775,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODgwOTc3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T16:34:13Z","updated_at":"2020-03-13T16:34:21Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @jerryshao! I think the code part is close -- I'd just prefer to use the `DynMethods` builder to avoid try/catch and custom reflect code.\r\n\r\nWe also need to take a close look at all the dependency additions and remove whatever we can. This pulls in a lot of new dependencies and most of them are probably unnecessary. Those cause a lot of work to maintain our binary LICENSE and NOTICE files and can cause conflicts.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598809775/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598810889","html_url":"https://github.com/apache/iceberg/pull/833#issuecomment-598810889","issue_url":"https://api.github.com/repos/apache/iceberg/issues/833","id":598810889,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODgxMDg4OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T16:36:45Z","updated_at":"2020-03-13T16:36:45Z","author_association":"CONTRIBUTOR","body":"The solution in #840 won't add more stack frames because the calls are invoked and return outside the recursive call to `visit`.\r\n\r\nI merged the other version so I'm going to close this. Thanks @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598810889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598812854","html_url":"https://github.com/apache/iceberg/pull/780#issuecomment-598812854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/780","id":598812854,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODgxMjg1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T16:41:07Z","updated_at":"2020-03-13T16:41:07Z","author_association":"CONTRIBUTOR","body":"@yathindranath, I don't think it's a good idea to include this in snapshot expiration, though I could be convinced otherwise. To keep this moving forward, let's start by adding a separate utility (maybe `MetadataUtil.clean`?) that traverses the old metadata lists to clean them up. Once we have that, it would be fairly easy to add that to snapshot expiration if we think it's a good idea.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598812854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598815686","html_url":"https://github.com/apache/iceberg/pull/818#issuecomment-598815686","issue_url":"https://api.github.com/repos/apache/iceberg/issues/818","id":598815686,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODgxNTY4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T16:47:09Z","updated_at":"2020-03-13T16:47:09Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks @jun-he!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598815686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598965519","html_url":"https://github.com/apache/iceberg/pull/770#issuecomment-598965519","issue_url":"https://api.github.com/repos/apache/iceberg/issues/770","id":598965519,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2NTUxOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:00:22Z","updated_at":"2020-03-13T23:00:22Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598965519/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598965654","html_url":"https://github.com/apache/iceberg/pull/716#issuecomment-598965654","issue_url":"https://api.github.com/repos/apache/iceberg/issues/716","id":598965654,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk2NTY1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-13T23:01:04Z","updated_at":"2020-03-13T23:01:04Z","author_association":"CONTRIBUTOR","body":"Since there hasn't been an update since January, I'm going to close this. Feel free to reopen if you want to pick it up again.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598965654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598992609","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-598992609","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":598992609,"node_id":"MDEyOklzc3VlQ29tbWVudDU5ODk5MjYwOQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-14T01:24:12Z","updated_at":"2020-03-14T01:24:12Z","author_association":"COLLABORATOR","body":"@rdsr no problem, take you time:)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/598992609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599304008","html_url":"https://github.com/apache/iceberg/pull/841#issuecomment-599304008","issue_url":"https://api.github.com/repos/apache/iceberg/issues/841","id":599304008,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTMwNDAwOA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T01:59:22Z","updated_at":"2020-03-16T01:59:22Z","author_association":"CONTRIBUTOR","body":"Sure, I will revisit all the dependencies and try to remove unnecessary ones as possible as I can.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599304008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599334036","html_url":"https://github.com/apache/iceberg/issues/844#issuecomment-599334036","issue_url":"https://api.github.com/repos/apache/iceberg/issues/844","id":599334036,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTMzNDAzNg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T04:00:17Z","updated_at":"2020-03-16T04:00:17Z","author_association":"MEMBER","body":"I did the check,  you're right.   we'd better to wrap the reader as: \r\n```\r\ntry(ManifestReader reader = ManifestReader.read(manifestFile, io, specsById)){\r\n   ....\r\n}\r\n```\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599334036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599358216","html_url":"https://github.com/apache/iceberg/issues/844#issuecomment-599358216","issue_url":"https://api.github.com/repos/apache/iceberg/issues/844","id":599358216,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTM1ODIxNg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T05:54:58Z","updated_at":"2020-03-16T05:54:58Z","author_association":"COLLABORATOR","body":"@openinx , Thanks. I got it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599358216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599385717","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-599385717","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":599385717,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTM4NTcxNw==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T07:32:47Z","updated_at":"2020-03-16T07:32:47Z","author_association":"CONTRIBUTOR","body":"I think @teabot they're also working on this, not sure how do we collaborate. Maybe we should create a milestone and break down all the tasks, so that we could parallelize all the works and reduce the conflicts.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599385717/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599519942","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-599519942","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":599519942,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTUxOTk0Mg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T12:53:28Z","updated_at":"2020-03-16T12:53:28Z","author_association":"CONTRIBUTOR","body":"> I think @teabot they're also working on this, not sure how do we collaborate. Maybe we should create a milestone and break down all the tasks, so that we could parallelize all the works and reduce the conflicts.\r\n\r\n+1. I'll create those tasks. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599519942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599672081","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-599672081","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":599672081,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTY3MjA4MQ==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T17:41:44Z","updated_at":"2020-03-16T17:41:44Z","author_association":"CONTRIBUTOR","body":"OK, so the `InputFormat` we've been working on (https://github.com/ExpediaGroup/hiveberg/blob/master/src/main/java/com/expediagroup/hiveberg/IcebergInputFormat.java) implements the `org.apache.hadoop.mapred.InputFormat` API. I see the one above implements the `org.apache.hadoop.mapreduce.InputFormat` API. Which version of Hive is the latter targetting? I'm pretty sure it won't work on Hive 2.x as we tried that first and then moved to the `mapred` API which we can confirm is working for a simple read path (and we also have a Hive unit test for this at https://github.com/ExpediaGroup/hiveberg/blob/master/src/test/java/com/expediagroup/hiveberg/TestIcebergInputFormat.java). See https://stackoverflow.com/questions/33235199/hadoop-hive-serde-input-format-must-implement-inputformat for some more information on the two APIs.\r\n\r\nOne possible approach here would be that we move our code from the \"hiveberg\" repo back into a PR against Iceberg but we would need someone from the Iceberg project to help us with the dependency and version hell that this leads to (specifically Hive, Guava and Avro version conflicts). We could then have a `mapred` input format and a `mapreduce` input format and at that point refactor out the commonality from them.\r\n\r\nThe InputFormat is also only one part of the picture, we're also intending to add a SerDe (see https://github.com/ExpediaGroup/hiveberg/blob/master/src/main/java/com/expediagroup/hiveberg/IcebergSerDe.java) and related classes and ultimately potentially bundle this all into a Hive StorageHandler. This and other roadmap we have on mind can be found at https://github.com/ExpediaGroup/hiveberg/issues. \r\n\r\nAgain, we would happily move all this work over to here and I think that would make it a lot easier to have visibility on all the issues and split the work to remove duplication etc. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599672081/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599682646","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-599682646","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":599682646,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTY4MjY0Ng==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T18:04:08Z","updated_at":"2020-03-16T18:04:30Z","author_association":"CONTRIBUTOR","body":"Thanks @massdosage . \r\nThis implements the MRv2 InputFormat api. Since Pig implements MRv2 and it is the relatively newer api when compared to Mrv1 I chose to implement this.\r\n\r\nI think we should be able to add Mrv1 support on top of Mrv2 . I had seen some libraries which provide out of the box support for converting MRv2 to Mrv1. I was unable to find that library now, but I vaguely recollect that maybe twitter had built something around this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599682646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599881816","html_url":"https://github.com/apache/iceberg/issues/788#issuecomment-599881816","issue_url":"https://api.github.com/repos/apache/iceberg/issues/788","id":599881816,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTg4MTgxNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T05:13:28Z","updated_at":"2020-03-17T05:13:28Z","author_association":"CONTRIBUTOR","body":"@openinx, sorry for the late reply. I think the Iceberg community would love to have a public Flink integration and use cases with a reasonably low latency should be properly supported. I went through the docs and saw a lot of great discussion. I am also glad that Netflix shared their implementation as an example. I'll need to go though that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/599881816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600139656","html_url":"https://github.com/apache/iceberg/issues/567#issuecomment-600139656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/567","id":600139656,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDEzOTY1Ng==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T15:38:37Z","updated_at":"2020-03-17T15:39:50Z","author_association":"CONTRIBUTOR","body":"Just would like to share some progress:\r\n\r\nI have moved the source code part of [nfflink-connector-iceberg](https://github.com/Netflix-Skunkworks/nfflink-connector-iceberg) into a dedicate project (iceberg-flink) under Iceberg, also made some corrections and improvements, with most of the checkstyle issues addressed.\r\n\r\nIt works (DataFiles generated and commit made as expected) but is still an immature version. \r\nWe also found some bugs (such as duplicate records) as well as some enhancments good to have(such as if we could remove the usage of Avro IndexedRecord as the intermediate format). \r\n\r\nPlan to upload a WIP PR in the next few days (hopefully before the end of this week) to show the current workable version. \r\nFYI @stevenzwu @bowenli86 @openinx @aokolnychyi @chenjunjiedada @rdblue  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600139656/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600163797","html_url":"https://github.com/apache/iceberg/pull/841#issuecomment-600163797","issue_url":"https://api.github.com/repos/apache/iceberg/issues/841","id":600163797,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDE2Mzc5Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T16:22:14Z","updated_at":"2020-03-17T16:22:14Z","author_association":"CONTRIBUTOR","body":"Merging this. Thanks for the quick fixes, @jerryshao!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600163797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600264055","html_url":"https://github.com/apache/iceberg/issues/659#issuecomment-600264055","issue_url":"https://api.github.com/repos/apache/iceberg/issues/659","id":600264055,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDI2NDA1NQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T19:47:22Z","updated_at":"2020-03-17T19:47:22Z","author_association":"CONTRIBUTOR","body":"@golammott, sorry I was out for a while. Thanks for contributing this! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600264055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600382310","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600382310","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600382310,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM4MjMxMA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T01:45:18Z","updated_at":"2020-03-18T01:45:18Z","author_association":"CONTRIBUTOR","body":"Any suggestions on how we support the mapred API? \r\nWe can go the route of https://github.com/twitter/elephant-bird/blob/master/core/src/main/java/com/twitter/elephantbird/mapred/input/DeprecatedInputFormatWrapper.java.\r\nAny other ideas?\r\n@rdblue , @massdosage, @jerryshao  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600382310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600383981","html_url":"https://github.com/apache/iceberg/issues/788#issuecomment-600383981","issue_url":"https://api.github.com/repos/apache/iceberg/issues/788","id":600383981,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM4Mzk4MQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T01:52:57Z","updated_at":"2020-03-18T01:52:57Z","author_association":"MEMBER","body":"Currently, @waterlx is working on the code integration, the progress is here. https://github.com/apache/incubator-iceberg/issues/567.  FYI @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600383981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600386856","html_url":"https://github.com/apache/iceberg/issues/567#issuecomment-600386856","issue_url":"https://api.github.com/repos/apache/iceberg/issues/567","id":600386856,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM4Njg1Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T02:04:47Z","updated_at":"2020-03-18T02:04:47Z","author_association":"MEMBER","body":"@waterlx , I think the first pull request version don't have to be so perfect, can put the rough patch to review and see what's the feedback from community, and create the following issues to address them :-) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600386856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600394238","html_url":"https://github.com/apache/iceberg/pull/780#issuecomment-600394238","issue_url":"https://api.github.com/repos/apache/iceberg/issues/780","id":600394238,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM5NDIzOA==","user":{"login":"yp-oss","id":15472649,"node_id":"MDQ6VXNlcjE1NDcyNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/15472649?v=4","gravatar_id":"","url":"https://api.github.com/users/yp-oss","html_url":"https://github.com/yp-oss","followers_url":"https://api.github.com/users/yp-oss/followers","following_url":"https://api.github.com/users/yp-oss/following{/other_user}","gists_url":"https://api.github.com/users/yp-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/yp-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yp-oss/subscriptions","organizations_url":"https://api.github.com/users/yp-oss/orgs","repos_url":"https://api.github.com/users/yp-oss/repos","events_url":"https://api.github.com/users/yp-oss/events{/privacy}","received_events_url":"https://api.github.com/users/yp-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T02:36:21Z","updated_at":"2020-03-18T02:36:21Z","author_association":"NONE","body":"@rdblue sounds good, shall I close this PR then?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600394238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600396097","html_url":"https://github.com/apache/iceberg/pull/778#issuecomment-600396097","issue_url":"https://api.github.com/repos/apache/iceberg/issues/778","id":600396097,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM5NjA5Nw==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T02:44:07Z","updated_at":"2020-03-18T02:44:07Z","author_association":"CONTRIBUTOR","body":"Sorry this took so long to address. Got sidetracked. I made a few changes in the latest commit.\r\n- Addressed the PR comments\r\n- We now use ZoneId and ZonedDateTime instead of ZoneOffset and OffsetDateTime. So this works now with timezones which require DST adjustments.\r\n- Rebased to latest master","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600396097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600417010","html_url":"https://github.com/apache/iceberg/pull/819#issuecomment-600417010","issue_url":"https://api.github.com/repos/apache/iceberg/issues/819","id":600417010,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQxNzAxMA==","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T04:19:57Z","updated_at":"2020-03-18T04:19:57Z","author_association":"COLLABORATOR","body":"@rdblue  can you please take a look? Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600417010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600455407","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600455407","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600455407,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQ1NTQwNw==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T06:55:27Z","updated_at":"2020-03-18T06:55:27Z","author_association":"CONTRIBUTOR","body":"Addressed some review comments.\r\nSpecifically around having a higher level way of specifying in memory data model.\r\nIf folks can eye ball the PR , that will be great. Three main things I need feedback on\r\n1. In Memory data model approach\r\n2. Logic for handling identity partition columns\r\n3. How we do address mapred inputformat as described above.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600455407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600455522","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600455522","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600455522,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQ1NTUyMg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T06:55:50Z","updated_at":"2020-03-18T06:55:50Z","author_association":"CONTRIBUTOR","body":"Once folks are ok with the approach. I'll start writing tests","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600455522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600582238","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600582238","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600582238,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDU4MjIzOA==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T12:00:19Z","updated_at":"2020-03-18T12:00:19Z","author_association":"CONTRIBUTOR","body":">Any suggestions on how we support the mapred API?\r\nWe can go the route of https://github.com/twitter/elephant-bird/blob/master/core/src/main/java/com/twitter/elephantbird/mapred/input/DeprecatedInputFormatWrapper.java.\r\nAny other ideas?\r\n\r\nI'm not so if there're other wrappers, but I think this should be fine.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600582238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600615043","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600615043","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600615043,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDYxNTA0Mw==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T13:13:34Z","updated_at":"2020-03-18T13:13:43Z","author_association":"CONTRIBUTOR","body":"> I'm not so if there're other wrappers, but I think this should be fine.\r\n\r\nI did see long time back a better written converter from MRv2 -> Mrv1 I couldn't remember the name of the library now.  \r\nI guess if we go the route of the converter, we'd have to copy paste that code instead of adding that dependency which could bring in a lot of unneeded artifacts.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600615043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600645433","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600645433","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600645433,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDY0NTQzMw==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T14:11:14Z","updated_at":"2020-03-18T14:11:14Z","author_association":"CONTRIBUTOR","body":"> Any suggestions on how we support the mapred API?\r\nWe can go the route of https://github.com/twitter/elephant-bird/blob/master/core/src/main/java/com/twitter/elephantbird/mapred/input/DeprecatedInputFormatWrapper.java.\r\nAny other ideas?\r\n@rdblue , @massdosage, @jerryshao\r\n\r\nI'll create a ticket for this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600645433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600670402","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600670402","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600670402,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDY3MDQwMg==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T14:55:49Z","updated_at":"2020-03-18T14:55:49Z","author_association":"CONTRIBUTOR","body":"I've raised a [PR](https://github.com/rdsr/incubator-iceberg/pull/1) against @rdsr's branch which could be a first step at having both InputFormats, we could then look into factoring the commonality out (possibly using something like ElephantBird). Alternatively we raise a separate PR for the `mapreduce` InputFormat and do the refactoring of commonality later. \r\n\r\nIt would be good to decide on who is going to do what and in what order. For now we are working on the Hive Serde and looking into improving the Hive read path (other file formats, partition predicate and projected column pushdown etc.)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600670402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600720182","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600720182","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600720182,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDcyMDE4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T16:07:57Z","updated_at":"2020-03-18T16:07:57Z","author_association":"CONTRIBUTOR","body":"Do we need to support the `mapred` format? If the intent is to support Pig, Hive, and MR applications then isn't a `mapreduce` format sufficient?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600720182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600724252","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600724252","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600724252,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDcyNDI1Mg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T16:15:22Z","updated_at":"2020-03-18T16:15:22Z","author_association":"CONTRIBUTOR","body":"@rdblue  HiveStorageHandler https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveStorageHandler.java only supports the mapred API","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600724252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600726342","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-600726342","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":600726342,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDcyNjM0Mg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T16:19:11Z","updated_at":"2020-03-18T16:19:11Z","author_association":"CONTRIBUTOR","body":"@massdosage Thanks for the PR. I'll look into it.\r\nIf it is OK with you, I  suggest the the following break down\r\nYou can implement the Hive StorageHandler, Serde and mapred inputformat [lets discuss this here what is the best way to do this]. I'll help with the reviews.\r\nI can continue working on the mapreduce API \r\nLet me know if it sounds good to you and if anything else is required.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/600726342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]