[{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816466877","html_url":"https://github.com/apache/rocketmq/issues/2782#issuecomment-816466877","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2782","id":816466877,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ2Njg3Nw==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T07:11:46Z","updated_at":"2021-04-09T07:11:46Z","author_association":"CONTRIBUTOR","body":"重启服务的话，pid是会改变的，也就改变了消费进度的存储位置，这两个是矛盾的。\r\n广播模式消费进度是存储再本地的，同一台机器的话，还是建议客户端修改存储位置LOCAL_OFFSET_STORE_DIR\r\n你说的也是对的，我们可以想想其它的标识符，来解决这个问题","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816466877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816475731","html_url":"https://github.com/apache/rocketmq/issues/2770#issuecomment-816475731","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2770","id":816475731,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ3NTczMQ==","user":{"login":"felayman","id":7543851,"node_id":"MDQ6VXNlcjc1NDM4NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7543851?v=4","gravatar_id":"","url":"https://api.github.com/users/felayman","html_url":"https://github.com/felayman","followers_url":"https://api.github.com/users/felayman/followers","following_url":"https://api.github.com/users/felayman/following{/other_user}","gists_url":"https://api.github.com/users/felayman/gists{/gist_id}","starred_url":"https://api.github.com/users/felayman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felayman/subscriptions","organizations_url":"https://api.github.com/users/felayman/orgs","repos_url":"https://api.github.com/users/felayman/repos","events_url":"https://api.github.com/users/felayman/events{/privacy}","received_events_url":"https://api.github.com/users/felayman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T07:26:47Z","updated_at":"2021-04-09T07:26:47Z","author_association":"NONE","body":"可以调整如下两个参数：\r\npersistConsumerOffsetInterval -> consumer定时将当前消费组的消费点上报给broker, 默认每5秒上报一次\r\nheartbeatBrokerInterval -> consumer定期清除下线的broker, 默认30s\r\n\r\nconsumer在上报消费点的时候会在本地缓存维护的brokerAddrTable中判断上报的broker是否存在，上报的时候可能还未清除下线的broker。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816475731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816480384","html_url":"https://github.com/apache/rocketmq/issues/2750#issuecomment-816480384","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2750","id":816480384,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ4MDM4NA==","user":{"login":"felayman","id":7543851,"node_id":"MDQ6VXNlcjc1NDM4NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7543851?v=4","gravatar_id":"","url":"https://api.github.com/users/felayman","html_url":"https://github.com/felayman","followers_url":"https://api.github.com/users/felayman/followers","following_url":"https://api.github.com/users/felayman/following{/other_user}","gists_url":"https://api.github.com/users/felayman/gists{/gist_id}","starred_url":"https://api.github.com/users/felayman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felayman/subscriptions","organizations_url":"https://api.github.com/users/felayman/orgs","repos_url":"https://api.github.com/users/felayman/repos","events_url":"https://api.github.com/users/felayman/events{/privacy}","received_events_url":"https://api.github.com/users/felayman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T07:34:40Z","updated_at":"2021-04-09T07:34:40Z","author_association":"NONE","body":"鼓励，rq里面太多无效的代码了","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816480384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816488899","html_url":"https://github.com/apache/rocketmq/issues/2715#issuecomment-816488899","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2715","id":816488899,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ4ODg5OQ==","user":{"login":"felayman","id":7543851,"node_id":"MDQ6VXNlcjc1NDM4NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7543851?v=4","gravatar_id":"","url":"https://api.github.com/users/felayman","html_url":"https://github.com/felayman","followers_url":"https://api.github.com/users/felayman/followers","following_url":"https://api.github.com/users/felayman/following{/other_user}","gists_url":"https://api.github.com/users/felayman/gists{/gist_id}","starred_url":"https://api.github.com/users/felayman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felayman/subscriptions","organizations_url":"https://api.github.com/users/felayman/orgs","repos_url":"https://api.github.com/users/felayman/repos","events_url":"https://api.github.com/users/felayman/events{/privacy}","received_events_url":"https://api.github.com/users/felayman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T07:48:06Z","updated_at":"2021-04-09T07:48:06Z","author_association":"NONE","body":"The config class(NettyClientConfig) has more  properties are not exposed","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816488899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816492840","html_url":"https://github.com/apache/rocketmq/issues/2714#issuecomment-816492840","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2714","id":816492840,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ5Mjg0MA==","user":{"login":"felayman","id":7543851,"node_id":"MDQ6VXNlcjc1NDM4NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7543851?v=4","gravatar_id":"","url":"https://api.github.com/users/felayman","html_url":"https://github.com/felayman","followers_url":"https://api.github.com/users/felayman/followers","following_url":"https://api.github.com/users/felayman/following{/other_user}","gists_url":"https://api.github.com/users/felayman/gists{/gist_id}","starred_url":"https://api.github.com/users/felayman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felayman/subscriptions","organizations_url":"https://api.github.com/users/felayman/orgs","repos_url":"https://api.github.com/users/felayman/repos","events_url":"https://api.github.com/users/felayman/events{/privacy}","received_events_url":"https://api.github.com/users/felayman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T07:54:11Z","updated_at":"2021-04-09T07:54:11Z","author_association":"NONE","body":"In the production environment，some cases are that first expand then shrink, the client consumer will be replaced, Is this meant to be loss more msgs？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816492840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816496334","html_url":"https://github.com/apache/rocketmq/issues/2787#issuecomment-816496334","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2787","id":816496334,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ5NjMzNA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T08:00:06Z","updated_at":"2021-04-09T08:00:06Z","author_association":"CONTRIBUTOR","body":"Same as #2689","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816496334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816511933","html_url":"https://github.com/apache/rocketmq/issues/2786#issuecomment-816511933","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2786","id":816511933,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjUxMTkzMw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T08:23:09Z","updated_at":"2021-04-09T08:23:09Z","author_association":"CONTRIBUTOR","body":"@felayman FYI，https://github.com/apache/rocketmq/pull/635/files","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816511933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817067210","html_url":"https://github.com/apache/rocketmq/pull/2792#issuecomment-817067210","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2792","id":817067210,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA2NzIxMA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T02:53:44Z","updated_at":"2021-04-15T03:14:56Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38835587/badge)](https://coveralls.io/builds/38835587)\n\nCoverage decreased (-0.03%) to 51.9% when pulling **8e7996b3d230cc3c448f9fa67b9243269ee51b0d on ph3636:AbstractAllocateMessageQueueStrategy** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817067210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817067572","html_url":"https://github.com/apache/rocketmq/pull/2793#issuecomment-817067572","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2793","id":817067572,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA2NzU3Mg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T02:57:41Z","updated_at":"2021-04-13T11:45:59Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38696540/badge)](https://coveralls.io/builds/38696540)\n\nCoverage decreased (-0.2%) to 51.736% when pulling **df113750494dfe91401ec9e3abbfbb996095e517 on ph3636:topicSynFlag** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817067572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817252408","html_url":"https://github.com/apache/rocketmq/issues/2794#issuecomment-817252408","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2794","id":817252408,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzI1MjQwOA==","user":{"login":"maixiaohai","id":3734319,"node_id":"MDQ6VXNlcjM3MzQzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3734319?v=4","gravatar_id":"","url":"https://api.github.com/users/maixiaohai","html_url":"https://github.com/maixiaohai","followers_url":"https://api.github.com/users/maixiaohai/followers","following_url":"https://api.github.com/users/maixiaohai/following{/other_user}","gists_url":"https://api.github.com/users/maixiaohai/gists{/gist_id}","starred_url":"https://api.github.com/users/maixiaohai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maixiaohai/subscriptions","organizations_url":"https://api.github.com/users/maixiaohai/orgs","repos_url":"https://api.github.com/users/maixiaohai/repos","events_url":"https://api.github.com/users/maixiaohai/events{/privacy}","received_events_url":"https://api.github.com/users/maixiaohai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-11T05:35:39Z","updated_at":"2021-04-11T05:35:39Z","author_association":"CONTRIBUTOR","body":"Hi @VAEAZE , refer to this issue https://github.com/apache/rocketmq-spring/issues/339\r\nset different instance name can fix it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817252408/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817262814","html_url":"https://github.com/apache/rocketmq/pull/2796#issuecomment-817262814","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2796","id":817262814,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzI2MjgxNA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-11T07:22:59Z","updated_at":"2021-04-11T07:22:59Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38705974/badge)](https://coveralls.io/builds/38705974)\n\nCoverage increased (+0.07%) to 51.911% when pulling **420218d61036e3316fef82ae8e03d98bc5efd1d5 on drgnchan:master** into **b4240d5cea8d001c21b9c0d73f5aa700fcd0d568 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817262814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817263890","html_url":"https://github.com/apache/rocketmq/pull/2796#issuecomment-817263890","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2796","id":817263890,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzI2Mzg5MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-11T07:33:59Z","updated_at":"2021-04-11T07:33:59Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2796?src=pr&el=h1) Report\n> Merging [#2796](https://codecov.io/gh/apache/rocketmq/pull/2796?src=pr&el=desc) (420218d) into [master](https://codecov.io/gh/apache/rocketmq/commit/b4240d5cea8d001c21b9c0d73f5aa700fcd0d568?el=desc) (b4240d5) will **increase** coverage by `0.01%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/2796/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv)](https://codecov.io/gh/apache/rocketmq/pull/2796?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2796      +/-   ##\n============================================\n+ Coverage     45.96%   45.98%   +0.01%     \n- Complexity     4316     4319       +3     \n============================================\n  Files           547      547              \n  Lines         36236    36235       -1     \n  Branches       4808     4807       -1     \n============================================\n+ Hits          16657    16663       +6     \n+ Misses        17491    17484       -7     \n  Partials       2088     2088              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/2796?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/rocketmq/broker/topic/TopicConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNDb25maWdNYW5hZ2VyLmphdmE=) | `59.23% <100.00%> (+0.22%)` | `16.00 <0.00> (ø)` | |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `75.00% <0.00%> (-7.70%)` | `10.00% <0.00%> (-1.00%)` | |\n| [...pache/rocketmq/test/listener/AbstractListener.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC9saXN0ZW5lci9BYnN0cmFjdExpc3RlbmVyLmphdmE=) | `66.66% <0.00%> (-7.41%)` | `9.00% <0.00%> (-1.00%)` | |\n| [...ketmq/client/impl/consumer/PullMessageService.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9QdWxsTWVzc2FnZVNlcnZpY2UuamF2YQ==) | `71.11% <0.00%> (-4.45%)` | `8.00% <0.00%> (-1.00%)` | |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | `13.00% <0.00%> (-1.00%)` | |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `28.85% <0.00%> (-0.66%)` | `25.00% <0.00%> (-1.00%)` | |\n| [...rocketmq/client/impl/factory/MQClientInstance.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9mYWN0b3J5L01RQ2xpZW50SW5zdGFuY2UuamF2YQ==) | `50.14% <0.00%> (-0.15%)` | `90.00% <0.00%> (-1.00%)` | |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `66.42% <0.00%> (-0.11%)` | `79.00% <0.00%> (ø%)` | |\n| [.../apache/rocketmq/logging/inner/LoggingBuilder.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnaW5nQnVpbGRlci5qYXZh) | `63.92% <0.00%> (+0.31%)` | `3.00% <0.00%> (ø%)` | |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `60.46% <0.00%> (+0.46%)` | `33.00% <0.00%> (+1.00%)` | |\n| ... and [6 more](https://codecov.io/gh/apache/rocketmq/pull/2796/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/2796?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2796?src=pr&el=footer). Last update [b4240d5...420218d](https://codecov.io/gh/apache/rocketmq/pull/2796?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817263890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817295153","html_url":"https://github.com/apache/rocketmq/issues/2791#issuecomment-817295153","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2791","id":817295153,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzI5NTE1Mw==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-11T11:55:14Z","updated_at":"2021-04-11T11:55:14Z","author_association":"CONTRIBUTOR","body":"Hi @zhaoyy0513，you can use extra rocketmqtemplate to send transactional messages, refer to [rocketmq-spring wiki FAQ article 11](https://github.com/apache/rocketmq-spring/wiki/FAQ).","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817295153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817295550","html_url":"https://github.com/apache/rocketmq/pull/2796#issuecomment-817295550","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2796","id":817295550,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzI5NTU1MA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-11T11:58:32Z","updated_at":"2021-04-11T11:58:32Z","author_association":"CONTRIBUTOR","body":"Plz create an issue before you submit a pull request and change the target branch to develop.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817295550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817298427","html_url":"https://github.com/apache/rocketmq/pull/2796#issuecomment-817298427","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2796","id":817298427,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzI5ODQyNw==","user":{"login":"drgnchan","id":40224023,"node_id":"MDQ6VXNlcjQwMjI0MDIz","avatar_url":"https://avatars.githubusercontent.com/u/40224023?v=4","gravatar_id":"","url":"https://api.github.com/users/drgnchan","html_url":"https://github.com/drgnchan","followers_url":"https://api.github.com/users/drgnchan/followers","following_url":"https://api.github.com/users/drgnchan/following{/other_user}","gists_url":"https://api.github.com/users/drgnchan/gists{/gist_id}","starred_url":"https://api.github.com/users/drgnchan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drgnchan/subscriptions","organizations_url":"https://api.github.com/users/drgnchan/orgs","repos_url":"https://api.github.com/users/drgnchan/repos","events_url":"https://api.github.com/users/drgnchan/events{/privacy}","received_events_url":"https://api.github.com/users/drgnchan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-11T12:19:29Z","updated_at":"2021-04-11T12:19:29Z","author_association":"CONTRIBUTOR","body":"> Plz create an issue before you submit a pull request and change the target branch to develop.\r\n\r\nsorry,i will make another pr according to the checklist.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817298427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817300107","html_url":"https://github.com/apache/rocketmq/pull/2798#issuecomment-817300107","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2798","id":817300107,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzMwMDEwNw==","user":{"login":"drgnchan","id":40224023,"node_id":"MDQ6VXNlcjQwMjI0MDIz","avatar_url":"https://avatars.githubusercontent.com/u/40224023?v=4","gravatar_id":"","url":"https://api.github.com/users/drgnchan","html_url":"https://github.com/drgnchan","followers_url":"https://api.github.com/users/drgnchan/followers","following_url":"https://api.github.com/users/drgnchan/following{/other_user}","gists_url":"https://api.github.com/users/drgnchan/gists{/gist_id}","starred_url":"https://api.github.com/users/drgnchan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drgnchan/subscriptions","organizations_url":"https://api.github.com/users/drgnchan/orgs","repos_url":"https://api.github.com/users/drgnchan/repos","events_url":"https://api.github.com/users/drgnchan/events{/privacy}","received_events_url":"https://api.github.com/users/drgnchan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-11T12:31:24Z","updated_at":"2021-04-11T12:31:24Z","author_association":"CONTRIBUTOR","body":"#2797 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817300107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817302254","html_url":"https://github.com/apache/rocketmq/pull/2798#issuecomment-817302254","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2798","id":817302254,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzMwMjI1NA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-11T12:46:21Z","updated_at":"2021-04-11T12:46:21Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38708184/badge)](https://coveralls.io/builds/38708184)\n\nCoverage decreased (-0.1%) to 51.822% when pulling **39509c522755da5746fcb5f4414cb854e005872c on drgnchan:develop** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817302254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817341425","html_url":"https://github.com/apache/rocketmq/issues/2795#issuecomment-817341425","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2795","id":817341425,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzM0MTQyNQ==","user":{"login":"francisoliverlee","id":5908412,"node_id":"MDQ6VXNlcjU5MDg0MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5908412?v=4","gravatar_id":"","url":"https://api.github.com/users/francisoliverlee","html_url":"https://github.com/francisoliverlee","followers_url":"https://api.github.com/users/francisoliverlee/followers","following_url":"https://api.github.com/users/francisoliverlee/following{/other_user}","gists_url":"https://api.github.com/users/francisoliverlee/gists{/gist_id}","starred_url":"https://api.github.com/users/francisoliverlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/francisoliverlee/subscriptions","organizations_url":"https://api.github.com/users/francisoliverlee/orgs","repos_url":"https://api.github.com/users/francisoliverlee/repos","events_url":"https://api.github.com/users/francisoliverlee/events{/privacy}","received_events_url":"https://api.github.com/users/francisoliverlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-11T17:20:01Z","updated_at":"2021-04-11T17:20:01Z","author_association":"MEMBER","body":"@htf1129 there is pictures as bellow, maybe network problems.\r\n![image](https://user-images.githubusercontent.com/5908412/114314426-27e3b480-9b2d-11eb-9722-5c6465f71c5e.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817341425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817430602","html_url":"https://github.com/apache/rocketmq/issues/2791#issuecomment-817430602","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2791","id":817430602,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzQzMDYwMg==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T02:07:01Z","updated_at":"2021-04-12T02:07:01Z","author_association":"CONTRIBUTOR","body":"I will close the issue first, Plz feel free to reopen it if you have other questions.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817430602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817431528","html_url":"https://github.com/apache/rocketmq/pull/2788#issuecomment-817431528","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2788","id":817431528,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzQzMTUyOA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T02:10:33Z","updated_at":"2021-04-12T02:10:33Z","author_association":"CONTRIBUTOR","body":"Plz create an issue before you submit a pull request and change the target branch to develop.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817431528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817432763","html_url":"https://github.com/apache/rocketmq/pull/2793#issuecomment-817432763","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2793","id":817432763,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzQzMjc2Mw==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T02:14:59Z","updated_at":"2021-04-12T02:14:59Z","author_association":"CONTRIBUTOR","body":"Plz create an issue before you submit a pull request.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817432763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817457658","html_url":"https://github.com/apache/rocketmq/pull/2790#issuecomment-817457658","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2790","id":817457658,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzQ1NzY1OA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T03:43:58Z","updated_at":"2021-04-12T04:38:39Z","author_association":"CONTRIBUTOR","body":"It would be better if you could add UT.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817457658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817604560","html_url":"https://github.com/apache/rocketmq/issues/2799#issuecomment-817604560","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2799","id":817604560,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzYwNDU2MA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T08:29:33Z","updated_at":"2021-04-12T08:29:33Z","author_association":"CONTRIBUTOR","body":"这个是因为mq已经在每个broker里面创建了一个和brokerName相同的topic，他的描述就是 给broker发送消息。可以理解为这个命令是为了检查每台broker发消息是否正常","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817604560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817885286","html_url":"https://github.com/apache/rocketmq/issues/2794#issuecomment-817885286","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2794","id":817885286,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzg4NTI4Ng==","user":{"login":"VAEAZE","id":5530411,"node_id":"MDQ6VXNlcjU1MzA0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/5530411?v=4","gravatar_id":"","url":"https://api.github.com/users/VAEAZE","html_url":"https://github.com/VAEAZE","followers_url":"https://api.github.com/users/VAEAZE/followers","following_url":"https://api.github.com/users/VAEAZE/following{/other_user}","gists_url":"https://api.github.com/users/VAEAZE/gists{/gist_id}","starred_url":"https://api.github.com/users/VAEAZE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/VAEAZE/subscriptions","organizations_url":"https://api.github.com/users/VAEAZE/orgs","repos_url":"https://api.github.com/users/VAEAZE/repos","events_url":"https://api.github.com/users/VAEAZE/events{/privacy}","received_events_url":"https://api.github.com/users/VAEAZE/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T15:01:19Z","updated_at":"2021-04-12T15:01:19Z","author_association":"NONE","body":"@maixiaohai ,at first ,I start two instance,when I find that may be the reason,I have stop all of them.Ant then start one of the instance,but when the topic is create more  and more,the problem still happen, ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/817885286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/818568328","html_url":"https://github.com/apache/rocketmq/pull/2751#issuecomment-818568328","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2751","id":818568328,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODU2ODMyOA==","user":{"login":"zcsh0721","id":43027219,"node_id":"MDQ6VXNlcjQzMDI3MjE5","avatar_url":"https://avatars.githubusercontent.com/u/43027219?v=4","gravatar_id":"","url":"https://api.github.com/users/zcsh0721","html_url":"https://github.com/zcsh0721","followers_url":"https://api.github.com/users/zcsh0721/followers","following_url":"https://api.github.com/users/zcsh0721/following{/other_user}","gists_url":"https://api.github.com/users/zcsh0721/gists{/gist_id}","starred_url":"https://api.github.com/users/zcsh0721/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcsh0721/subscriptions","organizations_url":"https://api.github.com/users/zcsh0721/orgs","repos_url":"https://api.github.com/users/zcsh0721/repos","events_url":"https://api.github.com/users/zcsh0721/events{/privacy}","received_events_url":"https://api.github.com/users/zcsh0721/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T08:52:10Z","updated_at":"2021-04-13T08:52:10Z","author_association":"NONE","body":"@maixiaohai  你好,我不太清楚我种修改代码的方式该如何写测试用例.\r\n首先我是删除无用代码, 且把代码抽离一部分; 组成了一个`getSuggestPullingFromSlave()` 方法. 且我认为他应该是 `private`. \r\n因为这不是新增加功能和修复 bug . 所以我认为只要通过原来的测试用例即可. 尽管我想编写一些测试用例,但是这种情况我不知道如何下手; \r\n想请教一下............","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/818568328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/818696188","html_url":"https://github.com/apache/rocketmq/issues/2795#issuecomment-818696188","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2795","id":818696188,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODY5NjE4OA==","user":{"login":"ihoooooo","id":35485029,"node_id":"MDQ6VXNlcjM1NDg1MDI5","avatar_url":"https://avatars.githubusercontent.com/u/35485029?v=4","gravatar_id":"","url":"https://api.github.com/users/ihoooooo","html_url":"https://github.com/ihoooooo","followers_url":"https://api.github.com/users/ihoooooo/followers","following_url":"https://api.github.com/users/ihoooooo/following{/other_user}","gists_url":"https://api.github.com/users/ihoooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/ihoooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ihoooooo/subscriptions","organizations_url":"https://api.github.com/users/ihoooooo/orgs","repos_url":"https://api.github.com/users/ihoooooo/repos","events_url":"https://api.github.com/users/ihoooooo/events{/privacy}","received_events_url":"https://api.github.com/users/ihoooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T12:28:26Z","updated_at":"2021-04-13T12:28:26Z","author_association":"CONTRIBUTOR","body":"I'm sorry. It's my fault that the image is missing due to my browser plugin.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/818696188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819205370","html_url":"https://github.com/apache/rocketmq/pull/2802#issuecomment-819205370","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2802","id":819205370,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTIwNTM3MA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T03:39:22Z","updated_at":"2021-04-14T03:39:23Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38792063/badge)](https://coveralls.io/builds/38792063)\n\nCoverage increased (+0.1%) to 51.911% when pulling **0ff882bd4d1d0054ce9d261abef21fa6da3bcfe5 on zhangjidi2016:develop** into **af8a9648c75d3dac5a7e7fcd0d8047d41456d96d on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819205370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819216955","html_url":"https://github.com/apache/rocketmq/pull/2804#issuecomment-819216955","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2804","id":819216955,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTIxNjk1NQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T04:21:03Z","updated_at":"2021-04-14T04:21:03Z","author_association":"CONTRIBUTOR","body":"#2803 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819216955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819245035","html_url":"https://github.com/apache/rocketmq/pull/2804#issuecomment-819245035","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2804","id":819245035,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTI0NTAzNQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T05:44:38Z","updated_at":"2021-04-14T10:18:27Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38802131/badge)](https://coveralls.io/builds/38802131)\n\nCoverage increased (+0.01%) to 51.825% when pulling **d45f18bca5badbdfac9f3f56996b9c7fe1e1ad4f on panzhi33:release-4.8.0** into **af8a9648c75d3dac5a7e7fcd0d8047d41456d96d on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819245035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819338071","html_url":"https://github.com/apache/rocketmq/pull/2804#issuecomment-819338071","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2804","id":819338071,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTMzODA3MQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T08:32:21Z","updated_at":"2021-04-14T08:32:21Z","author_association":"CONTRIBUTOR","body":"It would be better to write a UT.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819338071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819385900","html_url":"https://github.com/apache/rocketmq/pull/2792#issuecomment-819385900","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2792","id":819385900,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTM4NTkwMA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T09:43:41Z","updated_at":"2021-04-14T09:43:41Z","author_association":"CONTRIBUTOR","body":"Plz create an issue before you submit a pull request","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819385900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819423864","html_url":"https://github.com/apache/rocketmq/issues/2803#issuecomment-819423864","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2803","id":819423864,"node_id":"MDEyOklzc3VlQ29tbWVudDgxOTQyMzg2NA==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-14T10:47:59Z","updated_at":"2021-04-14T10:47:59Z","author_association":"CONTRIBUTOR","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/819423864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820145044","html_url":"https://github.com/apache/rocketmq/pull/2810#issuecomment-820145044","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2810","id":820145044,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDE0NTA0NA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T06:13:56Z","updated_at":"2021-04-15T06:13:56Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38839032/badge)](https://coveralls.io/builds/38839032)\n\nCoverage decreased (-0.003%) to 51.835% when pulling **2befd698a8c6f964b2afe103a8a7fe09a363e4a6 on dilei:patch-1** into **b4240d5cea8d001c21b9c0d73f5aa700fcd0d568 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820145044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820149422","html_url":"https://github.com/apache/rocketmq/pull/2810#issuecomment-820149422","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2810","id":820149422,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDE0OTQyMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-15T06:22:51Z","updated_at":"2021-04-15T06:22:51Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2810?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2810](https://codecov.io/gh/apache/rocketmq/pull/2810?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2befd69) into [master](https://codecov.io/gh/apache/rocketmq/commit/b4240d5cea8d001c21b9c0d73f5aa700fcd0d568?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b4240d5) will **increase** coverage by `0.04%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/2810/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/2810?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2810      +/-   ##\n============================================\n+ Coverage     45.96%   46.00%   +0.04%     \n- Complexity     4316     4318       +2     \n============================================\n  Files           547      547              \n  Lines         36236    36236              \n  Branches       4808     4808              \n============================================\n+ Hits          16657    16672      +15     \n+ Misses        17491    17478      -13     \n+ Partials       2088     2086       -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/2810?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `75.00% <0.00%> (-7.70%)` | `10.00% <0.00%> (-1.00%)` | |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `28.85% <0.00%> (-0.66%)` | `25.00% <0.00%> (-1.00%)` | |\n| [...rocketmq/client/impl/factory/MQClientInstance.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9mYWN0b3J5L01RQ2xpZW50SW5zdGFuY2UuamF2YQ==) | `49.70% <0.00%> (-0.59%)` | `90.00% <0.00%> (-1.00%)` | |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `73.60% <0.00%> (-0.51%)` | `17.00% <0.00%> (ø%)` | |\n| [...n/java/org/apache/rocketmq/store/ha/HAService.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL0hBU2VydmljZS5qYXZh) | `68.21% <0.00%> (+0.33%)` | `18.00% <0.00%> (ø%)` | |\n| [.../rocketmq/client/impl/consumer/PullAPIWrapper.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9QdWxsQVBJV3JhcHBlci5qYXZh) | `51.28% <0.00%> (+0.85%)` | `13.00% <0.00%> (+1.00%)` | |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `60.93% <0.00%> (+0.93%)` | `32.00% <0.00%> (ø%)` | |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `59.82% <0.00%> (+1.70%)` | `30.00% <0.00%> (+1.00%)` | |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `43.47% <0.00%> (+4.34%)` | `6.00% <0.00%> (+1.00%)` | |\n| [...e/rocketmq/client/impl/consumer/RebalanceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VJbXBsLmphdmE=) | `50.19% <0.00%> (+4.38%)` | `33.00% <0.00%> (+1.00%)` | |\n| ... and [2 more](https://codecov.io/gh/apache/rocketmq/pull/2810/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/2810?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2810?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [b4240d5...2befd69](https://codecov.io/gh/apache/rocketmq/pull/2810?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820149422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820865945","html_url":"https://github.com/apache/rocketmq/pull/2815#issuecomment-820865945","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2815","id":820865945,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDg2NTk0NQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T02:35:47Z","updated_at":"2021-04-16T02:37:16Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38870610/badge)](https://coveralls.io/builds/38870610)\n\nCoverage decreased (-0.02%) to 51.826% when pulling **ee5ecc1335ca7e189431212037d2af24e6c38f51 on BurningCN:fix_messageArrivingListener_npe** into **1fbccd14e03d929f64947fb75d4ab7d943603adb on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820865945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820873990","html_url":"https://github.com/apache/rocketmq/issues/2813#issuecomment-820873990","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2813","id":820873990,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDg3Mzk5MA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T03:04:33Z","updated_at":"2021-04-16T03:04:33Z","author_association":"CONTRIBUTOR","body":"Usually we say that the queue is messageQueue, which is bound to the topic,  that it is a Topic Shard entity。just like the partition of kafka。\r\nConsumequeue can be understood as an index, which can be used to quickly find the physical storage location of the message，will only use on the broker","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820873990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820880972","html_url":"https://github.com/apache/rocketmq/pull/2818#issuecomment-820880972","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2818","id":820880972,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDg4MDk3Mg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T03:29:32Z","updated_at":"2021-04-16T03:29:32Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38871283/badge)](https://coveralls.io/builds/38871283)\n\nCoverage increased (+0.05%) to 51.886% when pulling **a4e0609ce45d64a41c3103a9406c88722f761364 on sunxi92:modify** into **b4240d5cea8d001c21b9c0d73f5aa700fcd0d568 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820880972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820881023","html_url":"https://github.com/apache/rocketmq/pull/2818#issuecomment-820881023","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2818","id":820881023,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDg4MTAyMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T03:29:43Z","updated_at":"2021-04-16T03:29:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2818?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2818](https://codecov.io/gh/apache/rocketmq/pull/2818?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a4e0609) into [master](https://codecov.io/gh/apache/rocketmq/commit/3ae251751586b940b7467284966ec4fe93f86be1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3ae2517) will **increase** coverage by `0.06%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/2818/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/2818?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2818      +/-   ##\n============================================\n+ Coverage     45.98%   46.05%   +0.06%     \n- Complexity     4320     4321       +1     \n============================================\n  Files           547      547              \n  Lines         36236    36225      -11     \n  Branches       4808     4805       -3     \n============================================\n+ Hits          16663    16683      +20     \n+ Misses        17490    17451      -39     \n- Partials       2083     2091       +8     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/2818?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/org/apache/rocketmq/broker/BrokerController.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvQnJva2VyQ29udHJvbGxlci5qYXZh) | `45.38% <0.00%> (+0.48%)` | `38.00 <0.00> (ø)` | |\n| [...org/apache/rocketmq/broker/out/BrokerOuterAPI.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvb3V0L0Jyb2tlck91dGVyQVBJLmphdmE=) | `48.48% <0.00%> (+2.01%)` | `12.00 <0.00> (ø)` | |\n| [...ain/java/org/apache/rocketmq/test/util/MQWait.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RV2FpdC5qYXZh) | `43.24% <0.00%> (-5.41%)` | `3.00% <0.00%> (ø%)` | |\n| [...mq/client/impl/consumer/RebalanceLitePullImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VMaXRlUHVsbEltcGwuamF2YQ==) | `49.15% <0.00%> (-5.09%)` | `10.00% <0.00%> (-1.00%)` | |\n| [...ava/org/apache/rocketmq/test/util/VerifyUtils.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL1ZlcmlmeVV0aWxzLmphdmE=) | `46.26% <0.00%> (-2.99%)` | `14.00% <0.00%> (-1.00%)` | |\n| [...client/consumer/store/RemoteBrokerOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvUmVtb3RlQnJva2VyT2Zmc2V0U3RvcmUuamF2YQ==) | `67.56% <0.00%> (-1.81%)` | `20.00% <0.00%> (-2.00%)` | |\n| [.../rocketmq/broker/filter/ConsumerFilterManager.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL0NvbnN1bWVyRmlsdGVyTWFuYWdlci5qYXZh) | `72.19% <0.00%> (-1.80%)` | `33.00% <0.00%> (ø%)` | |\n| [...etmq/client/latency/LatencyFaultToleranceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvbGF0ZW5jeS9MYXRlbmN5RmF1bHRUb2xlcmFuY2VJbXBsLmphdmE=) | `50.00% <0.00%> (-1.29%)` | `8.00% <0.00%> (ø%)` | |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `28.85% <0.00%> (-0.66%)` | `25.00% <0.00%> (-1.00%)` | |\n| [...rocketmq/client/impl/factory/MQClientInstance.java](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9mYWN0b3J5L01RQ2xpZW50SW5zdGFuY2UuamF2YQ==) | `49.41% <0.00%> (-0.15%)` | `89.00% <0.00%> (-1.00%)` | |\n| ... and [8 more](https://codecov.io/gh/apache/rocketmq/pull/2818/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/2818?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2818?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [3ae2517...a4e0609](https://codecov.io/gh/apache/rocketmq/pull/2818?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820881023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820883165","html_url":"https://github.com/apache/rocketmq/issues/2817#issuecomment-820883165","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2817","id":820883165,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDg4MzE2NQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T03:37:37Z","updated_at":"2021-04-16T03:37:37Z","author_association":"CONTRIBUTOR","body":"double check。if not change，But there is topic update on the broker side, so you need to wait for the next time to update namesrv","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820883165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820899156","html_url":"https://github.com/apache/rocketmq/issues/2817#issuecomment-820899156","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2817","id":820899156,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMDg5OTE1Ng==","user":{"login":"sunxi92","id":25401190,"node_id":"MDQ6VXNlcjI1NDAxMTkw","avatar_url":"https://avatars.githubusercontent.com/u/25401190?v=4","gravatar_id":"","url":"https://api.github.com/users/sunxi92","html_url":"https://github.com/sunxi92","followers_url":"https://api.github.com/users/sunxi92/followers","following_url":"https://api.github.com/users/sunxi92/following{/other_user}","gists_url":"https://api.github.com/users/sunxi92/gists{/gist_id}","starred_url":"https://api.github.com/users/sunxi92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunxi92/subscriptions","organizations_url":"https://api.github.com/users/sunxi92/orgs","repos_url":"https://api.github.com/users/sunxi92/repos","events_url":"https://api.github.com/users/sunxi92/events{/privacy}","received_events_url":"https://api.github.com/users/sunxi92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T04:34:49Z","updated_at":"2021-04-16T04:34:49Z","author_association":"CONTRIBUTOR","body":"two problems:\r\n(1)when broker receives namesrv's response, there is no need to decode the body of the response\r\n(2) in the reponse that the namesrv returns, changed will not be null, it's true or false \r\n![image](https://user-images.githubusercontent.com/25401190/114971421-db8ed080-9eae-11eb-861f-f17bca4441ea.png)\r\n\r\nSince the changedList only obatain the value of Boolean.TRUE, so we only judge whether the size of changedList is greater than 0 instead of loop the list\r\n![image](https://user-images.githubusercontent.com/25401190/114971892-e1d17c80-9eaf-11eb-96b2-a97ccbe3d2d5.png)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/820899156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/821006700","html_url":"https://github.com/apache/rocketmq/pull/2820#issuecomment-821006700","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2820","id":821006700,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTAwNjcwMA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T08:18:56Z","updated_at":"2021-04-16T08:19:20Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38877148/badge)](https://coveralls.io/builds/38877148)\n\nCoverage increased (+0.007%) to 51.849% when pulling **1c51c7da57791ae4cfa3e9ccec556829e7ba15ba on BurningCN:fix_haClient_shutdown** into **1fbccd14e03d929f64947fb75d4ab7d943603adb on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/821006700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/821045323","html_url":"https://github.com/apache/rocketmq/pull/2822#issuecomment-821045323","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2822","id":821045323,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTA0NTMyMw==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T09:24:02Z","updated_at":"2021-04-16T09:25:07Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38878838/badge)](https://coveralls.io/builds/38878838)\n\nCoverage increased (+0.003%) to 51.845% when pulling **0720f0eb531b6545b95b530179850013adcfad91 on zhangjidi2016:develop** into **1fbccd14e03d929f64947fb75d4ab7d943603adb on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/821045323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/821045674","html_url":"https://github.com/apache/rocketmq/pull/2822#issuecomment-821045674","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2822","id":821045674,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTA0NTY3NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T09:24:39Z","updated_at":"2021-04-16T09:25:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2822?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2822](https://codecov.io/gh/apache/rocketmq/pull/2822?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0720f0e) into [develop](https://codecov.io/gh/apache/rocketmq/commit/1fbccd14e03d929f64947fb75d4ab7d943603adb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (1fbccd1) will **decrease** coverage by `0.09%`.\n> The diff coverage is `50.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/2822/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/2822?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #2822      +/-   ##\n=============================================\n- Coverage      46.74%   46.64%   -0.10%     \n+ Complexity      3441     3433       -8     \n=============================================\n  Files            307      307              \n  Lines          29055    29055              \n  Branches        4171     4171              \n=============================================\n- Hits           13581    13553      -28     \n- Misses         13636    13666      +30     \n+ Partials        1838     1836       -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/2822?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `73.60% <50.00%> (ø)` | `17.00 <0.00> (ø)` | |\n| [.../broker/subscription/SubscriptionGroupManager.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbkdyb3VwTWFuYWdlci5qYXZh) | `54.11% <0.00%> (-16.48%)` | `8.00% <0.00%> (-3.00%)` | |\n| [...rocketmq/broker/filtersrv/FilterServerManager.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyc3J2L0ZpbHRlclNlcnZlck1hbmFnZXIuamF2YQ==) | `20.00% <0.00%> (-14.29%)` | `5.00% <0.00%> (-2.00%)` | |\n| [...a/org/apache/rocketmq/logging/inner/SysLogger.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9TeXNMb2dnZXIuamF2YQ==) | `28.57% <0.00%> (-5.72%)` | `6.00% <0.00%> (-1.00%)` | |\n| [...java/org/apache/rocketmq/logging/inner/Logger.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnZXIuamF2YQ==) | `51.67% <0.00%> (-4.31%)` | `28.00% <0.00%> (-1.00%)` | |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `59.82% <0.00%> (-2.57%)` | `30.00% <0.00%> (-1.00%)` | |\n| [...apache/rocketmq/remoting/netty/ResponseFuture.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Jlc3BvbnNlRnV0dXJlLmphdmE=) | `87.50% <0.00%> (-2.50%)` | `17.00% <0.00%> (-1.00%)` | |\n| [...a/org/apache/rocketmq/filter/util/BloomFilter.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CbG9vbUZpbHRlci5qYXZh) | `59.13% <0.00%> (-2.16%)` | `25.00% <0.00%> (-1.00%)` | |\n| [...mq/client/consumer/store/LocalFileOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvTG9jYWxGaWxlT2Zmc2V0U3RvcmUuamF2YQ==) | `56.86% <0.00%> (-1.97%)` | `19.00% <0.00%> (ø%)` | |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `49.44% <0.00%> (-1.48%)` | `22.00% <0.00%> (ø%)` | |\n| ... and [8 more](https://codecov.io/gh/apache/rocketmq/pull/2822/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/2822?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2822?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [1fbccd1...0720f0e](https://codecov.io/gh/apache/rocketmq/pull/2822?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/821045674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/821198625","html_url":"https://github.com/apache/rocketmq/issues/2508#issuecomment-821198625","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2508","id":821198625,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMTE5ODYyNQ==","user":{"login":"power522","id":38269154,"node_id":"MDQ6VXNlcjM4MjY5MTU0","avatar_url":"https://avatars.githubusercontent.com/u/38269154?v=4","gravatar_id":"","url":"https://api.github.com/users/power522","html_url":"https://github.com/power522","followers_url":"https://api.github.com/users/power522/followers","following_url":"https://api.github.com/users/power522/following{/other_user}","gists_url":"https://api.github.com/users/power522/gists{/gist_id}","starred_url":"https://api.github.com/users/power522/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/power522/subscriptions","organizations_url":"https://api.github.com/users/power522/orgs","repos_url":"https://api.github.com/users/power522/repos","events_url":"https://api.github.com/users/power522/events{/privacy}","received_events_url":"https://api.github.com/users/power522/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-16T14:00:57Z","updated_at":"2021-04-16T14:00:57Z","author_association":"NONE","body":"\n\n已经解决\n发自网易邮箱大师\n在2021年04月06日 17:16，Huwei1993 写道：\n\n如果解决了，能把解决方案分享一下吗？\n\n有解决吗 ？\n\n—\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/821198625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822024676","html_url":"https://github.com/apache/rocketmq/issues/2553#issuecomment-822024676","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2553","id":822024676,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjAyNDY3Ng==","user":{"login":"smiletrl","id":2764799,"node_id":"MDQ6VXNlcjI3NjQ3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/2764799?v=4","gravatar_id":"","url":"https://api.github.com/users/smiletrl","html_url":"https://github.com/smiletrl","followers_url":"https://api.github.com/users/smiletrl/followers","following_url":"https://api.github.com/users/smiletrl/following{/other_user}","gists_url":"https://api.github.com/users/smiletrl/gists{/gist_id}","starred_url":"https://api.github.com/users/smiletrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiletrl/subscriptions","organizations_url":"https://api.github.com/users/smiletrl/orgs","repos_url":"https://api.github.com/users/smiletrl/repos","events_url":"https://api.github.com/users/smiletrl/events{/privacy}","received_events_url":"https://api.github.com/users/smiletrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T17:05:34Z","updated_at":"2021-04-18T17:05:34Z","author_association":"NONE","body":"This [article](https://chowdera.com/2021/01/20210107122409152h.html) might be helpful for JDK 1.9+. To make it simple, I just used jdk 1.8. Then it works fine. The two commands are also required to make it start successfully.\r\n\r\n```\r\nmkdir -p ~/store/commitlog/\r\nmkdir -p ~/store/consumequeue/ \r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822024676/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822110883","html_url":"https://github.com/apache/rocketmq/issues/2816#issuecomment-822110883","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2816","id":822110883,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjExMDg4Mw==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T01:35:24Z","updated_at":"2021-04-19T01:35:24Z","author_association":"CONTRIBUTOR","body":"merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822110883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822113901","html_url":"https://github.com/apache/rocketmq/issues/2811#issuecomment-822113901","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2811","id":822113901,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjExMzkwMQ==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T01:48:30Z","updated_at":"2021-04-19T01:48:30Z","author_association":"CONTRIBUTOR","body":"@BurningCN Would you like submit a PR to fix it?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822113901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822141298","html_url":"https://github.com/apache/rocketmq/issues/2811#issuecomment-822141298","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2811","id":822141298,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjE0MTI5OA==","user":{"login":"BurningCN","id":43363120,"node_id":"MDQ6VXNlcjQzMzYzMTIw","avatar_url":"https://avatars.githubusercontent.com/u/43363120?v=4","gravatar_id":"","url":"https://api.github.com/users/BurningCN","html_url":"https://github.com/BurningCN","followers_url":"https://api.github.com/users/BurningCN/followers","following_url":"https://api.github.com/users/BurningCN/following{/other_user}","gists_url":"https://api.github.com/users/BurningCN/gists{/gist_id}","starred_url":"https://api.github.com/users/BurningCN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BurningCN/subscriptions","organizations_url":"https://api.github.com/users/BurningCN/orgs","repos_url":"https://api.github.com/users/BurningCN/repos","events_url":"https://api.github.com/users/BurningCN/events{/privacy}","received_events_url":"https://api.github.com/users/BurningCN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T03:29:40Z","updated_at":"2021-04-19T03:29:40Z","author_association":"MEMBER","body":"> @BurningCN Would you like submit a PR to fix it?\r\n\r\nOkay, no problem","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822141298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822146409","html_url":"https://github.com/apache/rocketmq/pull/2824#issuecomment-822146409","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2824","id":822146409,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjE0NjQwOQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T03:49:27Z","updated_at":"2021-04-19T03:49:27Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38919213/badge)](https://coveralls.io/builds/38919213)\n\nCoverage decreased (-0.07%) to 51.823% when pulling **0b6bd183bfffb17f8cb112ae6d080e908ebbca1e on BurningCN:fix_test_consume_wrong_topic** into **ba74c497fa180499f4ab7a727f03776caa61a637 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822146409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822146412","html_url":"https://github.com/apache/rocketmq/pull/2824#issuecomment-822146412","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2824","id":822146412,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjE0NjQxMg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T03:49:28Z","updated_at":"2021-04-19T03:49:28Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38919213/badge)](https://coveralls.io/builds/38919213)\n\nCoverage decreased (-0.07%) to 51.823% when pulling **0b6bd183bfffb17f8cb112ae6d080e908ebbca1e on BurningCN:fix_test_consume_wrong_topic** into **ba74c497fa180499f4ab7a727f03776caa61a637 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822146412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822146498","html_url":"https://github.com/apache/rocketmq/pull/2824#issuecomment-822146498","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2824","id":822146498,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjE0NjQ5OA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T03:49:46Z","updated_at":"2021-04-19T03:49:46Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2824?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2824](https://codecov.io/gh/apache/rocketmq/pull/2824?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0b6bd18) into [develop](https://codecov.io/gh/apache/rocketmq/commit/1fbccd14e03d929f64947fb75d4ab7d943603adb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (1fbccd1) will **increase** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/2824/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/2824?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #2824      +/-   ##\n=============================================\n+ Coverage      46.74%   46.76%   +0.02%     \n+ Complexity      3441     3438       -3     \n=============================================\n  Files            307      307              \n  Lines          29055    29056       +1     \n  Branches        4171     4172       +1     \n=============================================\n+ Hits           13581    13588       +7     \n+ Misses         13636    13627       -9     \n- Partials        1838     1841       +3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/2824?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ketmq/client/impl/consumer/PullMessageService.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9QdWxsTWVzc2FnZVNlcnZpY2UuamF2YQ==) | `75.55% <0.00%> (-4.45%)` | `9.00% <0.00%> (-1.00%)` | |\n| [...a/org/apache/rocketmq/filter/util/BloomFilter.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CbG9vbUZpbHRlci5qYXZh) | `59.13% <0.00%> (-2.16%)` | `25.00% <0.00%> (-1.00%)` | |\n| [...mq/client/consumer/store/LocalFileOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvTG9jYWxGaWxlT2Zmc2V0U3RvcmUuamF2YQ==) | `56.86% <0.00%> (-1.97%)` | `19.00% <0.00%> (ø%)` | |\n| [...che/rocketmq/namesrv/kvconfig/KVConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bmFtZXNydi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbmFtZXNydi9rdmNvbmZpZy9LVkNvbmZpZ01hbmFnZXIuamF2YQ==) | `59.18% <0.00%> (-1.03%)` | `11.00% <0.00%> (-1.00%)` | |\n| [.../rocketmq/client/impl/consumer/PullAPIWrapper.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9QdWxsQVBJV3JhcHBlci5qYXZh) | `50.42% <0.00%> (-0.86%)` | `12.00% <0.00%> (-1.00%)` | |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `55.61% <0.00%> (-0.85%)` | `110.00% <0.00%> (ø%)` | |\n| [...etmq/client/latency/LatencyFaultToleranceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvbGF0ZW5jeS9MYXRlbmN5RmF1bHRUb2xlcmFuY2VJbXBsLmphdmE=) | `50.00% <0.00%> (ø)` | `8.00% <0.00%> (ø%)` | |\n| [...ain/java/org/apache/rocketmq/store/MappedFile.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL01hcHBlZEZpbGUuamF2YQ==) | `50.90% <0.00%> (+0.36%)` | `52.00% <0.00%> (+1.00%)` | |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `74.11% <0.00%> (+0.50%)` | `17.00% <0.00%> (ø%)` | |\n| [.../rocketmq/broker/filter/ConsumerFilterManager.java](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL0NvbnN1bWVyRmlsdGVyTWFuYWdlci5qYXZh) | `73.99% <0.00%> (+1.79%)` | `33.00% <0.00%> (ø%)` | |\n| ... and [2 more](https://codecov.io/gh/apache/rocketmq/pull/2824/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/2824?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2824?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [1fbccd1...0b6bd18](https://codecov.io/gh/apache/rocketmq/pull/2824?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822146498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822458767","html_url":"https://github.com/apache/rocketmq/issues/2819#issuecomment-822458767","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2819","id":822458767,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjQ1ODc2Nw==","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T13:16:45Z","updated_at":"2021-04-19T13:16:45Z","author_association":"CONTRIBUTOR","body":"> The channel used by slave to request synchronous metadata information from master is different：\r\n> port 10909 is used to synchronous the topic configuration information and port 10911 is used for the rest of the information\r\n> Is there a problem with that?\r\n> \r\n> ![未命名3](https://user-images.githubusercontent.com/25401190/114966872-045e9800-9ea6-11eb-8f81-439e6d936096.png)\r\n\r\nIMO, metadata sync is only used for inner, it no need to expose to user, so use another port.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822458767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822464210","html_url":"https://github.com/apache/rocketmq/issues/2814#issuecomment-822464210","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2814","id":822464210,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjQ2NDIxMA==","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T13:24:49Z","updated_at":"2021-04-19T13:24:49Z","author_association":"CONTRIBUTOR","body":"> getAllTopicList\r\n\r\nI agree with u, unlock can throw exception indeed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822464210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822473228","html_url":"https://github.com/apache/rocketmq/issues/2819#issuecomment-822473228","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2819","id":822473228,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjQ3MzIyOA==","user":{"login":"sunxi92","id":25401190,"node_id":"MDQ6VXNlcjI1NDAxMTkw","avatar_url":"https://avatars.githubusercontent.com/u/25401190?v=4","gravatar_id":"","url":"https://api.github.com/users/sunxi92","html_url":"https://github.com/sunxi92","followers_url":"https://api.github.com/users/sunxi92/followers","following_url":"https://api.github.com/users/sunxi92/following{/other_user}","gists_url":"https://api.github.com/users/sunxi92/gists{/gist_id}","starred_url":"https://api.github.com/users/sunxi92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunxi92/subscriptions","organizations_url":"https://api.github.com/users/sunxi92/orgs","repos_url":"https://api.github.com/users/sunxi92/repos","events_url":"https://api.github.com/users/sunxi92/events{/privacy}","received_events_url":"https://api.github.com/users/sunxi92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-19T13:37:53Z","updated_at":"2021-04-19T13:39:15Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n\r\n\r\n> > The channel used by slave to request synchronous metadata information from master is different：\r\n> > port 10909 is used to synchronous the topic configuration information and port 10911 is used for the rest of the information\r\n> > Is there a problem with that?\r\n> > ![未命名3](https://user-images.githubusercontent.com/25401190/114966872-045e9800-9ea6-11eb-8f81-439e6d936096.png)\r\n> \r\n> IMO, metadata sync is only used for inner, it no need to expose to user, so use another port.\r\n\r\n\r\nThe port 10909 is used to synchronous the topic.json, but the port 10911 is used to synchronous consumerOffset.json、delayOffset.json and subscriptionGroup.json.\r\nWhy the rest three metadata use 10911 instead of 10909.Is there a problem with that?\r\n![image](https://user-images.githubusercontent.com/25401190/115245178-3e09fa00-a157-11eb-8d6d-d35ba308eb20.png)\r\n![image](https://user-images.githubusercontent.com/25401190/115245282-59750500-a157-11eb-801d-b61f696294db.png)\r\n![image](https://user-images.githubusercontent.com/25401190/115245403-76113d00-a157-11eb-8591-7f9446dc0b7e.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822473228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822954241","html_url":"https://github.com/apache/rocketmq/issues/2821#issuecomment-822954241","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2821","id":822954241,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjk1NDI0MQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T03:54:52Z","updated_at":"2021-04-20T03:54:52Z","author_association":"CONTRIBUTOR","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822954241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822968849","html_url":"https://github.com/apache/rocketmq/issues/2805#issuecomment-822968849","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2805","id":822968849,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjk2ODg0OQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T04:42:51Z","updated_at":"2021-04-20T04:42:51Z","author_association":"CONTRIBUTOR","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822968849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822970183","html_url":"https://github.com/apache/rocketmq/pull/2769#issuecomment-822970183","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2769","id":822970183,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjk3MDE4Mw==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T04:47:36Z","updated_at":"2021-04-20T04:47:36Z","author_association":"CONTRIBUTOR","body":"IMO, this pull request is not very helpful to the project, so I will close it first. Plz feel free to reopen it if you have another question.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822970183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822970315","html_url":"https://github.com/apache/rocketmq/issues/2806#issuecomment-822970315","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2806","id":822970315,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMjk3MDMxNQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T04:48:02Z","updated_at":"2021-04-20T04:48:02Z","author_association":"CONTRIBUTOR","body":"IMO, this pull request is not very helpful to the project, so I will close it first. Plz feel free to reopen it if you have another question.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/822970315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823036762","html_url":"https://github.com/apache/rocketmq/issues/2819#issuecomment-823036762","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2819","id":823036762,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzAzNjc2Mg==","user":{"login":"sunxi92","id":25401190,"node_id":"MDQ6VXNlcjI1NDAxMTkw","avatar_url":"https://avatars.githubusercontent.com/u/25401190?v=4","gravatar_id":"","url":"https://api.github.com/users/sunxi92","html_url":"https://github.com/sunxi92","followers_url":"https://api.github.com/users/sunxi92/followers","following_url":"https://api.github.com/users/sunxi92/following{/other_user}","gists_url":"https://api.github.com/users/sunxi92/gists{/gist_id}","starred_url":"https://api.github.com/users/sunxi92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunxi92/subscriptions","organizations_url":"https://api.github.com/users/sunxi92/orgs","repos_url":"https://api.github.com/users/sunxi92/repos","events_url":"https://api.github.com/users/sunxi92/events{/privacy}","received_events_url":"https://api.github.com/users/sunxi92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T07:15:49Z","updated_at":"2021-04-20T07:15:49Z","author_association":"CONTRIBUTOR","body":"@duhenglucky if you can confirm this problem, I can fix it","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823036762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823164058","html_url":"https://github.com/apache/rocketmq/pull/2827#issuecomment-823164058","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2827","id":823164058,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzE2NDA1OA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T10:25:58Z","updated_at":"2021-04-20T10:25:58Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38965208/badge)](https://coveralls.io/builds/38965208)\n\nCoverage decreased (-0.03%) to 51.806% when pulling **046a7124f39862abbaf50cf02d1a539ecefd0e6f on shenshaoming:master** into **b4240d5cea8d001c21b9c0d73f5aa700fcd0d568 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823164058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823171412","html_url":"https://github.com/apache/rocketmq/issues/2814#issuecomment-823171412","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2814","id":823171412,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzE3MTQxMg==","user":{"login":"shenshaoming","id":42922512,"node_id":"MDQ6VXNlcjQyOTIyNTEy","avatar_url":"https://avatars.githubusercontent.com/u/42922512?v=4","gravatar_id":"","url":"https://api.github.com/users/shenshaoming","html_url":"https://github.com/shenshaoming","followers_url":"https://api.github.com/users/shenshaoming/followers","following_url":"https://api.github.com/users/shenshaoming/following{/other_user}","gists_url":"https://api.github.com/users/shenshaoming/gists{/gist_id}","starred_url":"https://api.github.com/users/shenshaoming/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenshaoming/subscriptions","organizations_url":"https://api.github.com/users/shenshaoming/orgs","repos_url":"https://api.github.com/users/shenshaoming/repos","events_url":"https://api.github.com/users/shenshaoming/events{/privacy}","received_events_url":"https://api.github.com/users/shenshaoming/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T10:39:22Z","updated_at":"2021-04-20T10:39:22Z","author_association":"CONTRIBUTOR","body":"> > getAllTopicList\r\n> \r\n> I agree with u, unlock can throw exception indeed.\r\n\r\nYes, you were right about this. The unlock method will throw an Exception if current thread didn't obtain the lock, which means some exception happens when call the lock method.\r\nThank you for your replay.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823171412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823309204","html_url":"https://github.com/apache/rocketmq/pull/1820#issuecomment-823309204","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1820","id":823309204,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzMwOTIwNA==","user":{"login":"mouzz","id":33170820,"node_id":"MDQ6VXNlcjMzMTcwODIw","avatar_url":"https://avatars.githubusercontent.com/u/33170820?v=4","gravatar_id":"","url":"https://api.github.com/users/mouzz","html_url":"https://github.com/mouzz","followers_url":"https://api.github.com/users/mouzz/followers","following_url":"https://api.github.com/users/mouzz/following{/other_user}","gists_url":"https://api.github.com/users/mouzz/gists{/gist_id}","starred_url":"https://api.github.com/users/mouzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouzz/subscriptions","organizations_url":"https://api.github.com/users/mouzz/orgs","repos_url":"https://api.github.com/users/mouzz/repos","events_url":"https://api.github.com/users/mouzz/events{/privacy}","received_events_url":"https://api.github.com/users/mouzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-20T14:14:18Z","updated_at":"2021-04-20T14:14:18Z","author_association":"NONE","body":"没有升级 用防火墙做限制了\r\n\r\n发送自 Windows 10 版邮件<https://go.microsoft.com/fwlink/?LinkId=550986>应用\r\n\r\n发件人: ***@***.***>\r\n发送时间: 2021年3月28日 0:07\r\n收件人: ***@***.***>\r\n抄送: ***@***.***>; ***@***.***>\r\n主题: Re: [apache/rocketmq] [ISSUE #1233] Fix CVE-2011-1473 (#1820)\r\n\r\n\r\n版本的rocketmq已经解决了是吗？ 安装新版本即可。这边的应用刚刚扫到这个漏洞。 服务器支持 TL\r\n您好，TLS Client-initiated 重协商攻击(CVE-2011-1473) 漏洞您是怎么解决的，可以请教下么\r\n\r\n―\r\nYou are receiving this because you commented.\r\nReply to this email directly, view it on GitHub<https://github.com/apache/rocketmq/pull/1820#issuecomment-808754998>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AH5CLBBBNL3YU2AC7OV2CMDTFX7DDANCNFSM4LCCROKQ>.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823309204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823716404","html_url":"https://github.com/apache/rocketmq/issues/2732#issuecomment-823716404","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2732","id":823716404,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzcxNjQwNA==","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-21T01:53:54Z","updated_at":"2021-04-21T01:53:54Z","author_association":"CONTRIBUTOR","body":"I had reproduce the bug in this commit:\r\nhttps://github.com/areyouok/rocketmq/commit/a54599ec45f2473acb647d2e7b15eb55983607d7\r\n\r\nAt first, create a topic with only one queue:\r\n```./mqadmin updateTopic -n 127.0.0.1:9876 -t TopicTest -r 1 -w 1 -c DefaultCluster```\r\n\r\nthen run LitePullConsumerBug, it send two messages, receive one, and the offset is update to consumerOffset.json\r\n\r\nThe output:\r\n```\r\nRocketMQLog:WARN No appenders could be found for logger (io.netty.util.internal.PlatformDependent0).\r\nRocketMQLog:WARN Please initialize the logger system properly.\r\nSendResult [sendStatus=SEND_OK, msgId=AC1128381E4718B4AAC2691C5DF80000, offsetMsgId=AC11283800002A9F0000000000000C60, messageQueue=MessageQueue [topic=TopicTest, brokerName=broker-a, queueId=0], queueOffset=18]\r\n09:51:07,801 1749887142 get queue\r\n09:51:07,803 1749887142 pull step 1\r\n09:51:08,776 start consumer 2\r\n09:51:09,787 203029914 get queue\r\n09:51:09,787 1749887142 lost queue\r\n09:51:09,788 203029914 pull step 1\r\n09:51:10,790 1749887142 get queue\r\n09:51:10,791 1749887142 pull step 1\r\n09:51:10,808 1749887142 pull step 2\r\n09:51:10,814 submit 1 msgs\r\n09:51:10,815 drop 1 msgs\r\n09:51:12,792 203029914 pull step 2\r\n09:51:13,793 1749887142 pull step 2\r\nSendResult [sendStatus=SEND_OK, msgId=AC1128381E4718B4AAC2691C815A0001, offsetMsgId=AC11283800002A9F0000000000000D10, messageQueue=MessageQueue [topic=TopicTest, brokerName=broker-a, queueId=0], queueOffset=19]\r\n09:51:15,806 submit 1 msgs\r\nreceive msg: AC1128381E4718B4AAC2691C815A0001\r\n09:51:15,807 1749887142 pull step 1\r\n09:51:18,807 1749887142 pull step 2\r\n```\r\n\r\nThe root cause in DefaultLitePullConsumerImpl.PullTaskImpl.run\r\n...\r\nlong offset = nextPullOffset(messageQueue);\r\n...\r\nupdatePullOffset(messageQueue, pullResult.getNextBeginOffset());\r\n\r\nAfter a ProcessQueue is dropped, but the PullTask is still run. The invalid task will call updatePullOffset.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823716404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823890095","html_url":"https://github.com/apache/rocketmq/pull/2828#issuecomment-823890095","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2828","id":823890095,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzg5MDA5NQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-21T08:41:34Z","updated_at":"2021-05-21T02:42:33Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/39877194/badge)](https://coveralls.io/builds/39877194)\n\nCoverage increased (+1.9%) to 53.739% when pulling **aaa92a2e53d773c7f1d9e9f25e41709f6948fa83 on master** into **bc4ecb3e0224071d59e75b4f3c0ae9373fa854c8 on develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823890095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823904603","html_url":"https://github.com/apache/rocketmq/issues/2706#issuecomment-823904603","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2706","id":823904603,"node_id":"MDEyOklzc3VlQ29tbWVudDgyMzkwNDYwMw==","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-21T09:04:37Z","updated_at":"2021-04-21T09:04:37Z","author_association":"CONTRIBUTOR","body":"\r\n> 测试过，如果在运行过程中，将文件改为只读，是可以强刷的。启动前改为只读，会报异常。您是怎么测试的呀\r\n\r\n如果改文件权限的方式，确实可以写入。我估计是程序已经打开了文件，再改权限没用了。我模拟的是文件系统read only，一般是存储故障造成的。其实代码能看出来，try catch以后没处理，自然传给其他方法的结果还是成功的。\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/823904603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824491734","html_url":"https://github.com/apache/rocketmq/pull/2707#issuecomment-824491734","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2707","id":824491734,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNDQ5MTczNA==","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T02:25:26Z","updated_at":"2021-04-22T02:25:26Z","author_association":"CONTRIBUTOR","body":"Thanks。But in my test，there is no FLUSH_DISK_TIMEOUT，my client get SEND_OK.In fact，I first tested the impact of the file system read only and found this problem, and then I went to analyze the code.\r\n\r\n\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/rocketmq\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2021年4月22日(星期四) 上午10:17\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [apache/rocketmq] [ISSUE #2706]  Fix the problem of returning SEND_OK after flush failed  (#2707)\r\n\r\n\r\n\r\n\r\n\r\n \r\n@RongtongJin commented on this pull request.\r\n \r\nGood catch! But I feel that the change is a bit complicated. When the flushing error occurs, the location flushedPosition does not move and will return to the client FLUSH_DISK_TIMEOUT.\r\n \r\n—\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824491734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824503706","html_url":"https://github.com/apache/rocketmq/pull/2829#issuecomment-824503706","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2829","id":824503706,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNDUwMzcwNg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T03:04:50Z","updated_at":"2021-04-22T03:04:50Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/39029585/badge)](https://coveralls.io/builds/39029585)\n\nCoverage increased (+0.009%) to 51.847% when pulling **2617efae727b56b186c536ea57ef351d4a0d4c61 on sunxi92:bugfix-syncAll** into **b4240d5cea8d001c21b9c0d73f5aa700fcd0d568 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824503706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824507501","html_url":"https://github.com/apache/rocketmq/pull/2829#issuecomment-824507501","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2829","id":824507501,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNDUwNzUwMQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T03:16:33Z","updated_at":"2021-04-22T03:16:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2829?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2829](https://codecov.io/gh/apache/rocketmq/pull/2829?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2617efa) into [master](https://codecov.io/gh/apache/rocketmq/commit/3ae251751586b940b7467284966ec4fe93f86be1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3ae2517) will **increase** coverage by `0.03%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/2829/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/2829?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2829      +/-   ##\n============================================\n+ Coverage     45.98%   46.02%   +0.03%     \n- Complexity     4320     4326       +6     \n============================================\n  Files           547      547              \n  Lines         36236    36236              \n  Branches       4808     4808              \n============================================\n+ Hits          16663    16676      +13     \n+ Misses        17490    17471      -19     \n- Partials       2083     2089       +6     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/2829?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/rocketmq/broker/out/BrokerOuterAPI.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvb3V0L0Jyb2tlck91dGVyQVBJLmphdmE=) | `46.47% <0.00%> (ø)` | `12.00 <0.00> (ø)` | |\n| [...ketmq/client/impl/consumer/PullMessageService.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9QdWxsTWVzc2FnZVNlcnZpY2UuamF2YQ==) | `71.11% <0.00%> (-8.89%)` | `8.00% <0.00%> (-2.00%)` | |\n| [...mq/client/impl/consumer/RebalanceLitePullImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VMaXRlUHVsbEltcGwuamF2YQ==) | `49.15% <0.00%> (-5.09%)` | `10.00% <0.00%> (-1.00%)` | |\n| [...ketmq/common/protocol/body/ConsumerConnection.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvYm9keS9Db25zdW1lckNvbm5lY3Rpb24uamF2YQ==) | `95.83% <0.00%> (-4.17%)` | `13.00% <0.00%> (-1.00%)` | |\n| [...ava/org/apache/rocketmq/test/util/VerifyUtils.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL1ZlcmlmeVV0aWxzLmphdmE=) | `46.26% <0.00%> (-2.99%)` | `14.00% <0.00%> (-1.00%)` | |\n| [...client/consumer/store/RemoteBrokerOffsetStore.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvY29uc3VtZXIvc3RvcmUvUmVtb3RlQnJva2VyT2Zmc2V0U3RvcmUuamF2YQ==) | `67.56% <0.00%> (-1.81%)` | `20.00% <0.00%> (-2.00%)` | |\n| [.../rocketmq/broker/filter/ConsumerFilterManager.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvZmlsdGVyL0NvbnN1bWVyRmlsdGVyTWFuYWdlci5qYXZh) | `72.19% <0.00%> (-1.80%)` | `33.00% <0.00%> (ø%)` | |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `58.11% <0.00%> (-1.71%)` | `29.00% <0.00%> (-1.00%)` | |\n| [...etmq/client/latency/LatencyFaultToleranceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvbGF0ZW5jeS9MYXRlbmN5RmF1bHRUb2xlcmFuY2VJbXBsLmphdmE=) | `50.00% <0.00%> (-1.29%)` | `8.00% <0.00%> (ø%)` | |\n| [...pl/consumer/ConsumeMessageConcurrentlyService.java](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Db25zdW1lTWVzc2FnZUNvbmN1cnJlbnRseVNlcnZpY2UuamF2YQ==) | `42.71% <0.00%> (-0.98%)` | `10.00% <0.00%> (ø%)` | |\n| ... and [13 more](https://codecov.io/gh/apache/rocketmq/pull/2829/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/2829?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2829?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [3ae2517...2617efa](https://codecov.io/gh/apache/rocketmq/pull/2829?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824507501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824559815","html_url":"https://github.com/apache/rocketmq/issues/2830#issuecomment-824559815","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2830","id":824559815,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNDU1OTgxNQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T05:53:39Z","updated_at":"2021-04-22T05:54:50Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/29321745/115662781-104ccd00-a372-11eb-9d24-48f47c95010c.png)\r\norg.apache.rocketmq.store.CommitLog#asyncPutMessages  \r\nI did not find the code you said","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824559815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824581923","html_url":"https://github.com/apache/rocketmq/pull/2707#issuecomment-824581923","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2707","id":824581923,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNDU4MTkyMw==","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T06:40:02Z","updated_at":"2021-04-22T06:40:02Z","author_association":"CONTRIBUTOR","body":"> Good catch! But I feel that the change is a bit complicated. When the flushing error occurs, the location flushedPosition does not move and will return to the client FLUSH_DISK_TIMEOUT.\r\n\r\n\r\n **this.flushedPosition.set(value);**\r\nYou can see that this line of code will be executed no matter what。So even if an error is reported, the position will change。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824581923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824592777","html_url":"https://github.com/apache/rocketmq/pull/2707#issuecomment-824592777","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2707","id":824592777,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNDU5Mjc3Nw==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T07:00:19Z","updated_at":"2021-04-22T07:00:19Z","author_association":"CONTRIBUTOR","body":"> > Good catch! But I feel that the change is a bit complicated. When the flushing error occurs, the location flushedPosition does not move and will return to the client FLUSH_DISK_TIMEOUT.\r\n> \r\n> **this.flushedPosition.set(value);**\r\n> You can see that this line of code will be executed no matter what。So even if an error is reported, the position will change。\r\n\r\nYou're right. But when an exception is thrown, we can not set  flushedPosition.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824592777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824596217","html_url":"https://github.com/apache/rocketmq/pull/2707#issuecomment-824596217","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2707","id":824596217,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNDU5NjIxNw==","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T07:06:20Z","updated_at":"2021-04-22T07:58:12Z","author_association":"CONTRIBUTOR","body":"But there is a try catch,code as below:\r\ncatch (Throwable e) {            \r\n     log.error(\"Error occurred when force data to disk.\", e);          \r\n   }\r\nIn my test,I can see the error \"Error occurred when force data to disk.\" in log。But the exception is caught so it does not affect code execution\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/rocketmq\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2021年4月22日(星期四) 下午3:00\r\n***@***.***&gt;;\r\n***@***.***&gt;;\"State ***@***.***&gt;;\r\n主题:&nbsp;Re: [apache/rocketmq] [ISSUE #2706]  Fix the problem of returning SEND_OK after flush failed  (#2707)\r\n\r\n\r\n\r\n\r\n\r\n   \r\nGood catch! But I feel that the change is a bit complicated. When the flushing error occurs, the location flushedPosition does not move and will return to the client FLUSH_DISK_TIMEOUT.\r\n  \r\nthis.flushedPosition.set(value);\r\n You can see that this line of code will be executed no matter what。So even if an error is reported, the position will change。\r\n  \r\nYou're right. But when an exception is thrown, we can not set  flushedPosition.\r\n \r\n—\r\nYou are receiving this because you modified the open/close state.\r\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824596217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824841061","html_url":"https://github.com/apache/rocketmq/pull/2832#issuecomment-824841061","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2832","id":824841061,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNDg0MTA2MQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-22T13:27:25Z","updated_at":"2021-04-25T02:18:15Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/39077767/badge)](https://coveralls.io/builds/39077767)\n\nCoverage decreased (-0.08%) to 51.801% when pulling **dee9230142be8c24eebd1adc8132ef348a731374 on areyouok:fix_litepull** into **bc4ecb3e0224071d59e75b4f3c0ae9373fa854c8 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/824841061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825309705","html_url":"https://github.com/apache/rocketmq/issues/2830#issuecomment-825309705","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2830","id":825309705,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTMwOTcwNQ==","user":{"login":"saharaheart","id":21186104,"node_id":"MDQ6VXNlcjIxMTg2MTA0","avatar_url":"https://avatars.githubusercontent.com/u/21186104?v=4","gravatar_id":"","url":"https://api.github.com/users/saharaheart","html_url":"https://github.com/saharaheart","followers_url":"https://api.github.com/users/saharaheart/followers","following_url":"https://api.github.com/users/saharaheart/following{/other_user}","gists_url":"https://api.github.com/users/saharaheart/gists{/gist_id}","starred_url":"https://api.github.com/users/saharaheart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saharaheart/subscriptions","organizations_url":"https://api.github.com/users/saharaheart/orgs","repos_url":"https://api.github.com/users/saharaheart/repos","events_url":"https://api.github.com/users/saharaheart/events{/privacy}","received_events_url":"https://api.github.com/users/saharaheart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T00:59:30Z","updated_at":"2021-04-23T01:01:47Z","author_association":"NONE","body":"> ![image](https://user-images.githubusercontent.com/29321745/115662781-104ccd00-a372-11eb-9d24-48f47c95010c.png)\r\n> org.apache.rocketmq.store.CommitLog#asyncPutMessages\r\n> I did not find the code you said\r\n\r\nFirst is here, org/apache/rocketmq/store/CommitLog#putMessage, It could be seen that the message appending operation in point A(I annotated in the following code), and the disk flushing operation and ha waiting operation in point B.\r\nHowever, the reputMessageService (org.apache.rocketmq.store.DefaultMessageStore.ReputMessageService), which did the reput service (get the message from commitLog and put it into consumerQueue) in another thread. I mean if this service is fast enough, some of the message appended after pointA may already been pushed to the consumerQueue, which could be seen by the consumer. However, those messages may have not flushed or replicated to slaves. If something broke there, could that be possible the message is consumed but not recored in the broker?\r\n\r\n\r\n```\r\npublic PutMessageResult putMessage(final MessageExtBrokerInner msg) {\r\n        //.............\r\n       **//The following do the appendmessage operation with the mappedfile (point A)**\r\n\r\n        MappedFile unlockMappedFile = null;\r\n        MappedFile mappedFile = this.mappedFileQueue.getLastMappedFile();\r\n\r\n        putMessageLock.lock(); //spin or ReentrantLock ,depending on store config\r\n        try {\r\n            long beginLockTimestamp = this.defaultMessageStore.getSystemClock().now();\r\n            this.beginTimeInLock = beginLockTimestamp;\r\n\r\n            // Here settings are stored timestamp, in order to ensure an orderly\r\n            // global\r\n            msg.setStoreTimestamp(beginLockTimestamp);\r\n\r\n            if (null == mappedFile || mappedFile.isFull()) {\r\n                mappedFile = this.mappedFileQueue.getLastMappedFile(0); // Mark: NewFile may be cause noise\r\n            }\r\n            if (null == mappedFile) {\r\n                log.error(\"create mapped file1 error, topic: \" + msg.getTopic() + \" clientAddr: \" + msg.getBornHostString());\r\n                beginTimeInLock = 0;\r\n                return new PutMessageResult(PutMessageStatus.CREATE_MAPEDFILE_FAILED, null);\r\n            }\r\n\r\n            result = mappedFile.appendMessage(msg, this.appendMessageCallback);\r\n            \r\n       ..............\r\n\r\n        if (elapsedTimeInLock > 500) {\r\n            log.warn(\"[NOTIFYME]putMessage in lock cost time(ms)={}, bodyLength={} AppendMessageResult={}\", elapsedTimeInLock, msg.getBody().length, result);\r\n        }\r\n\r\n        if (null != unlockMappedFile && this.defaultMessageStore.getMessageStoreConfig().isWarmMapedFileEnable()) {\r\n            this.defaultMessageStore.unlockMappedFile(unlockMappedFile);\r\n        }\r\n\r\n        PutMessageResult putMessageResult = new PutMessageResult(PutMessageStatus.PUT_OK, result);\r\n\r\n        // Statistics\r\n        storeStatsService.getSinglePutMessageTopicTimesTotal(msg.getTopic()).incrementAndGet();\r\n        storeStatsService.getSinglePutMessageTopicSizeTotal(topic).addAndGet(result.getWroteBytes());\r\n\r\n       **//Here it actually do the disk flush and ha handling and waiting  (pointB)**\r\n        handleDiskFlush(result, putMessageResult, msg);\r\n        handleHA(result, putMessageResult, msg);\r\n\r\n        return putMessageResult;\r\n    }\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825309705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825346734","html_url":"https://github.com/apache/rocketmq/issues/2830#issuecomment-825346734","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2830","id":825346734,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTM0NjczNA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T02:44:14Z","updated_at":"2021-04-23T02:44:14Z","author_association":"CONTRIBUTOR","body":"if the brokerRole is SYNC_MASTER and flushDiskType is SYNC_FLUSH，the situation you said will not happen.\r\nothers,maybe something like what you said will happen","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825346734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825356729","html_url":"https://github.com/apache/rocketmq/issues/2826#issuecomment-825356729","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2826","id":825356729,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTM1NjcyOQ==","user":{"login":"lizhimins","id":22487634,"node_id":"MDQ6VXNlcjIyNDg3NjM0","avatar_url":"https://avatars.githubusercontent.com/u/22487634?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhimins","html_url":"https://github.com/lizhimins","followers_url":"https://api.github.com/users/lizhimins/followers","following_url":"https://api.github.com/users/lizhimins/following{/other_user}","gists_url":"https://api.github.com/users/lizhimins/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhimins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhimins/subscriptions","organizations_url":"https://api.github.com/users/lizhimins/orgs","repos_url":"https://api.github.com/users/lizhimins/repos","events_url":"https://api.github.com/users/lizhimins/events{/privacy}","received_events_url":"https://api.github.com/users/lizhimins/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T03:16:33Z","updated_at":"2021-04-23T03:16:33Z","author_association":"MEMBER","body":"OK","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825356729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825371305","html_url":"https://github.com/apache/rocketmq/issues/2560#issuecomment-825371305","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2560","id":825371305,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTM3MTMwNQ==","user":{"login":"zhousheng2","id":35722213,"node_id":"MDQ6VXNlcjM1NzIyMjEz","avatar_url":"https://avatars.githubusercontent.com/u/35722213?v=4","gravatar_id":"","url":"https://api.github.com/users/zhousheng2","html_url":"https://github.com/zhousheng2","followers_url":"https://api.github.com/users/zhousheng2/followers","following_url":"https://api.github.com/users/zhousheng2/following{/other_user}","gists_url":"https://api.github.com/users/zhousheng2/gists{/gist_id}","starred_url":"https://api.github.com/users/zhousheng2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhousheng2/subscriptions","organizations_url":"https://api.github.com/users/zhousheng2/orgs","repos_url":"https://api.github.com/users/zhousheng2/repos","events_url":"https://api.github.com/users/zhousheng2/events{/privacy}","received_events_url":"https://api.github.com/users/zhousheng2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T04:08:51Z","updated_at":"2021-04-23T04:08:51Z","author_association":"NONE","body":"Caused by: java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [192.169.200.99:9876] failed\r\n\tat org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:679)\r\n\tat org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:509)\r\n\tat org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.tryToFindTopicPublishInfo(DefaultMQProducerImpl.java:693)\r\n\tat org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:557)\r\n\tat org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1343)\r\n\tat org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:344)\r\n\tat org.apache.rocketmq.spring.core.RocketMQTemplate.syncSend(RocketMQTemplate.java:543)\r\n\t... 60 common frames omitted\r\nCaused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [192.169.200.99:9876] failed\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateNameserverChannel(NettyRemotingClient.java:445)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateChannel(NettyRemotingClient.java:400)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:369)\r\n\tat org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1363)\r\n\tat org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1353)\r\n\tat org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:622)\r\n\t... 66 common frames omitted","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825371305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825425361","html_url":"https://github.com/apache/rocketmq/pull/2832#issuecomment-825425361","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2832","id":825425361,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTQyNTM2MQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T06:34:43Z","updated_at":"2021-04-23T06:34:43Z","author_association":"CONTRIBUTOR","body":"Is the range of this lock a bit large? If a consumer allocates more queues, will many pull tasks get stuck in updatePullOffset?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825425361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825724077","html_url":"https://github.com/apache/rocketmq/pull/2834#issuecomment-825724077","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2834","id":825724077,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTcyNDA3Nw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T15:08:55Z","updated_at":"2021-04-23T15:08:55Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2834?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2834](https://codecov.io/gh/apache/rocketmq/pull/2834?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6cee912) into [develop](https://codecov.io/gh/apache/rocketmq/commit/bc4ecb3e0224071d59e75b4f3c0ae9373fa854c8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (bc4ecb3) will **increase** coverage by `0.55%`.\n> The diff coverage is `71.09%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/2834/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/2834?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #2834      +/-   ##\n=============================================\n+ Coverage      46.52%   47.07%   +0.55%     \n- Complexity      3426     3482      +56     \n=============================================\n  Files            307      309       +2     \n  Lines          29059    29186     +127     \n  Branches        4172     4175       +3     \n=============================================\n+ Hits           13520    13740     +220     \n+ Misses         13697    13583     -114     \n- Partials        1842     1863      +21     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/2834?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...client/trace/hook/EndTransactionTraceHookImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvaG9vay9FbmRUcmFuc2FjdGlvblRyYWNlSG9va0ltcGwuamF2YQ==) | `13.33% <13.33%> (ø)` | `2.00 <2.00> (?)` | |\n| [...he/rocketmq/client/producer/DefaultMQProducer.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvcHJvZHVjZXIvRGVmYXVsdE1RUHJvZHVjZXIuamF2YQ==) | `52.63% <50.00%> (-0.03%)` | `41.00 <0.00> (ø)` | |\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `44.64% <77.77%> (+7.41%)` | `83.00 <5.00> (+12.00)` | |\n| [...he/rocketmq/client/hook/EndTransactionContext.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaG9vay9FbmRUcmFuc2FjdGlvbkNvbnRleHQuamF2YQ==) | `86.36% <86.36%> (ø)` | `12.00 <12.00> (?)` | |\n| [...apache/rocketmq/client/trace/TraceDataEncoder.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvVHJhY2VEYXRhRW5jb2Rlci5qYXZh) | `70.32% <97.14%> (+8.65%)` | `11.00 <0.00> (+2.00)` | |\n| [...ocketmq/client/producer/TransactionMQProducer.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvcHJvZHVjZXIvVHJhbnNhY3Rpb25NUVByb2R1Y2VyLmphdmE=) | `42.55% <100.00%> (+42.55%)` | `10.00 <0.00> (+10.00)` | |\n| [...va/org/apache/rocketmq/client/trace/TraceBean.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvVHJhY2VCZWFuLmphdmE=) | `98.03% <100.00%> (+0.42%)` | `29.00 <6.00> (+6.00)` | |\n| [...va/org/apache/rocketmq/client/trace/TraceType.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvVHJhY2VUeXBlLmphdmE=) | `100.00% <100.00%> (ø)` | `1.00 <0.00> (ø)` | |\n| [...etmq/client/latency/LatencyFaultToleranceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvbGF0ZW5jeS9MYXRlbmN5RmF1bHRUb2xlcmFuY2VJbXBsLmphdmE=) | `50.00% <0.00%> (-1.29%)` | `8.00% <0.00%> (ø%)` | |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `30.16% <0.00%> (-0.66%)` | `27.00% <0.00%> (-1.00%)` | |\n| ... and [22 more](https://codecov.io/gh/apache/rocketmq/pull/2834/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/2834?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2834?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [bc4ecb3...6cee912](https://codecov.io/gh/apache/rocketmq/pull/2834?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825724077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825727962","html_url":"https://github.com/apache/rocketmq/pull/2834#issuecomment-825727962","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2834","id":825727962,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNTcyNzk2Mg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-23T15:15:02Z","updated_at":"2021-04-23T15:15:02Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/39082328/badge)](https://coveralls.io/builds/39082328)\n\nCoverage increased (+0.5%) to 52.339% when pulling **6cee912f3414898ab3fbc9879d331c11824fc5b5 on yuz10:develop** into **bc4ecb3e0224071d59e75b4f3c0ae9373fa854c8 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/825727962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826005873","html_url":"https://github.com/apache/rocketmq/issues/2830#issuecomment-826005873","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2830","id":826005873,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjAwNTg3Mw==","user":{"login":"saharaheart","id":21186104,"node_id":"MDQ6VXNlcjIxMTg2MTA0","avatar_url":"https://avatars.githubusercontent.com/u/21186104?v=4","gravatar_id":"","url":"https://api.github.com/users/saharaheart","html_url":"https://github.com/saharaheart","followers_url":"https://api.github.com/users/saharaheart/followers","following_url":"https://api.github.com/users/saharaheart/following{/other_user}","gists_url":"https://api.github.com/users/saharaheart/gists{/gist_id}","starred_url":"https://api.github.com/users/saharaheart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saharaheart/subscriptions","organizations_url":"https://api.github.com/users/saharaheart/orgs","repos_url":"https://api.github.com/users/saharaheart/repos","events_url":"https://api.github.com/users/saharaheart/events{/privacy}","received_events_url":"https://api.github.com/users/saharaheart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-24T00:39:34Z","updated_at":"2021-04-24T00:39:34Z","author_association":"NONE","body":"Is there any code that indicates the SYNC_MASTER and SYNC_FLUSH mechanism? I rechecked that the reputMessageService(org.apache.rocketmq.store.DefaultMessageStore.ReputMessageService) relies on the commitedOffset to transfer commitlog to consumerQueue. It could be traced from ReputMessageService#doReput(). The SelectMappedBufferResult result = DefaultMessageStore.this.commitLog.getData(reputFromOffset); in doReput() finally use commitedOffset as the bound to do the reput. However, The commitedOffset is updated by the CommitRealTimeService (org.apache.rocketmq.store.CommitLog.CommitRealTimeService). This service will just update the commitedOffset periodly, which does not consider if the data is actually flushed to the disk. The flush operation is actually happened in another thread. There is no syncronization between them. So in this case, even in the SYNC_MASTER and SYNC_FLUSH settings, there is no gurantee to make the reputService waitfor the disk flush and slave replication.\r\nI wonder if I miss something or this is what actually what rocketmq is designed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826005873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826019739","html_url":"https://github.com/apache/rocketmq/issues/2830#issuecomment-826019739","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2830","id":826019739,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjAxOTczOQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-24T02:22:17Z","updated_at":"2021-04-24T02:22:17Z","author_association":"CONTRIBUTOR","body":"> Is there any code that indicates the SYNC_MASTER and SYNC_FLUSH mechanism? I rechecked that the reputMessageService(org.apache.rocketmq.store.DefaultMessageStore.ReputMessageService) relies on the commitedOffset to transfer commitlog to consumerQueue. It could be traced from ReputMessageService#doReput(). The SelectMappedBufferResult result = DefaultMessageStore.this.commitLog.getData(reputFromOffset); in doReput() finally use commitedOffset as the bound to do the reput. However, The commitedOffset is updated by the CommitRealTimeService (org.apache.rocketmq.store.CommitLog.CommitRealTimeService). This service will just update the commitedOffset periodly, which does not consider if the data is actually flushed to the disk. The flush operation is actually happened in another thread. There is no syncronization between them. So in this case, even in the SYNC_MASTER and SYNC_FLUSH settings, there is no gurantee to make the reputService waitfor the disk flush and slave replication.\r\n> I wonder if I miss something or this is what actually what rocketmq is designed.\r\n\r\nupdate broker config。you can see the configuration of the broker。\r\nthey don`t wait,because only these two places are ok, the message is send successfully。You should look at the entire process of sending messages, not just this place\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826019739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826029426","html_url":"https://github.com/apache/rocketmq/pull/2835#issuecomment-826029426","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2835","id":826029426,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjAyOTQyNg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-24T03:57:10Z","updated_at":"2021-04-24T03:58:16Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/39096627/badge)](https://coveralls.io/builds/39096627)\n\nCoverage decreased (-0.3%) to 51.995% when pulling **80bc36cf304e5e938ff1dbe6c20bcf7664daf2d9 on hill007299:pop_consumer** into **c3578dd5fb0ac2b08e9e7b66aa8e601e906043ef on apache:pop_consumer**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826029426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826192868","html_url":"https://github.com/apache/rocketmq/issues/2836#issuecomment-826192868","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2836","id":826192868,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjE5Mjg2OA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T01:32:16Z","updated_at":"2021-04-25T01:32:16Z","author_association":"CONTRIBUTOR","body":"Inconsistent subscription relationship。https://blog.csdn.net/zchdjb/article/details/97722500","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826192868/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826205057","html_url":"https://github.com/apache/rocketmq/issues/2836#issuecomment-826205057","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2836","id":826205057,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjIwNTA1Nw==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T01:58:01Z","updated_at":"2021-04-25T01:58:01Z","author_association":"CONTRIBUTOR","body":"I will close the Issue first, but please feel free to reopen it if you have any other issues.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826205057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826219367","html_url":"https://github.com/apache/rocketmq/pull/2832#issuecomment-826219367","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2832","id":826219367,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjIxOTM2Nw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T02:18:24Z","updated_at":"2021-04-25T02:18:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2832?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2832](https://codecov.io/gh/apache/rocketmq/pull/2832?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (dee9230) into [develop](https://codecov.io/gh/apache/rocketmq/commit/bc4ecb3e0224071d59e75b4f3c0ae9373fa854c8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (bc4ecb3) will **increase** coverage by `0.06%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/2832/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/2832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #2832      +/-   ##\n=============================================\n+ Coverage      46.52%   46.59%   +0.06%     \n- Complexity      3426     3427       +1     \n=============================================\n  Files            307      307              \n  Lines          29059    29065       +6     \n  Branches        4172     4175       +3     \n=============================================\n+ Hits           13520    13543      +23     \n+ Misses         13697    13674      -23     \n- Partials        1842     1848       +6     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/2832?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...tmq/client/impl/consumer/AssignedMessageQueue.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Bc3NpZ25lZE1lc3NhZ2VRdWV1ZS5qYXZh) | `61.66% <0.00%> (-1.05%)` | `21.00 <0.00> (ø)` | |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...nt/impl/consumer/ConsumeMessageOrderlyService.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Db25zdW1lTWVzc2FnZU9yZGVybHlTZXJ2aWNlLmphdmE=) | `38.98% <0.00%> (-2.53%)` | `16.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `29.50% <0.00%> (-1.32%)` | `26.00% <0.00%> (-2.00%)` | |\n| [...che/rocketmq/namesrv/kvconfig/KVConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bmFtZXNydi9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbmFtZXNydi9rdmNvbmZpZy9LVkNvbmZpZ01hbmFnZXIuamF2YQ==) | `59.18% <0.00%> (-1.03%)` | `11.00% <0.00%> (-1.00%)` | |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `57.67% <0.00%> (-0.94%)` | `31.00% <0.00%> (ø%)` | |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `66.32% <0.00%> (-0.21%)` | `79.00% <0.00%> (ø%)` | |\n| [...ketmq/client/impl/consumer/PullMessageService.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9QdWxsTWVzc2FnZVNlcnZpY2UuamF2YQ==) | `75.55% <0.00%> (ø)` | `9.00% <0.00%> (ø%)` | |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `55.31% <0.00%> (+0.19%)` | `109.00% <0.00%> (ø%)` | |\n| [.../apache/rocketmq/logging/inner/LoggingBuilder.java](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnaW5nQnVpbGRlci5qYXZh) | `64.08% <0.00%> (+0.31%)` | `3.00% <0.00%> (ø%)` | |\n| ... and [7 more](https://codecov.io/gh/apache/rocketmq/pull/2832/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/2832?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2832?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [bc4ecb3...dee9230](https://codecov.io/gh/apache/rocketmq/pull/2832?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826219367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826271834","html_url":"https://github.com/apache/rocketmq/issues/2715#issuecomment-826271834","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2715","id":826271834,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjI3MTgzNA==","user":{"login":"maixiaohai","id":3734319,"node_id":"MDQ6VXNlcjM3MzQzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3734319?v=4","gravatar_id":"","url":"https://api.github.com/users/maixiaohai","html_url":"https://github.com/maixiaohai","followers_url":"https://api.github.com/users/maixiaohai/followers","following_url":"https://api.github.com/users/maixiaohai/following{/other_user}","gists_url":"https://api.github.com/users/maixiaohai/gists{/gist_id}","starred_url":"https://api.github.com/users/maixiaohai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maixiaohai/subscriptions","organizations_url":"https://api.github.com/users/maixiaohai/orgs","repos_url":"https://api.github.com/users/maixiaohai/repos","events_url":"https://api.github.com/users/maixiaohai/events{/privacy}","received_events_url":"https://api.github.com/users/maixiaohai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T07:11:40Z","updated_at":"2021-04-25T07:11:40Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826271834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826275062","html_url":"https://github.com/apache/rocketmq/issues/2837#issuecomment-826275062","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2837","id":826275062,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjI3NTA2Mg==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T07:37:59Z","updated_at":"2021-04-25T07:37:59Z","author_association":"CONTRIBUTOR","body":"顺序消息要保证每个queue里面的消息被顺序消费，因此需要保证增加或减少消费者实例时，需要重新负载均衡时，只能有一个消费者实例分配到这个queue。并发消费不需要保证顺序性，因此不需要lock\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826275062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826275975","html_url":"https://github.com/apache/rocketmq/issues/2837#issuecomment-826275975","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2837","id":826275975,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjI3NTk3NQ==","user":{"login":"ChenYilei2016","id":31011150,"node_id":"MDQ6VXNlcjMxMDExMTUw","avatar_url":"https://avatars.githubusercontent.com/u/31011150?v=4","gravatar_id":"","url":"https://api.github.com/users/ChenYilei2016","html_url":"https://github.com/ChenYilei2016","followers_url":"https://api.github.com/users/ChenYilei2016/followers","following_url":"https://api.github.com/users/ChenYilei2016/following{/other_user}","gists_url":"https://api.github.com/users/ChenYilei2016/gists{/gist_id}","starred_url":"https://api.github.com/users/ChenYilei2016/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChenYilei2016/subscriptions","organizations_url":"https://api.github.com/users/ChenYilei2016/orgs","repos_url":"https://api.github.com/users/ChenYilei2016/repos","events_url":"https://api.github.com/users/ChenYilei2016/events{/privacy}","received_events_url":"https://api.github.com/users/ChenYilei2016/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T07:45:27Z","updated_at":"2021-04-25T07:47:52Z","author_association":"NONE","body":"> 顺序消息要保证每个queue里面的消息被顺序消费，因此需要保证增加或减少消费者实例时，需要重新负载均衡时，只能有一个消费者实例分配到这个queue。并发消费不需要保证顺序性，因此不需要lock\r\n\r\n也就是说 会存在多个ConcurrentConsumer 同时消费一个queue的情况吧    \r\n虽然ConcurrentConsumer 不用保证顺序性, 但加上lock 也可以减少重复消费吧? ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826275975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826279219","html_url":"https://github.com/apache/rocketmq/issues/2830#issuecomment-826279219","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2830","id":826279219,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjI3OTIxOQ==","user":{"login":"saharaheart","id":21186104,"node_id":"MDQ6VXNlcjIxMTg2MTA0","avatar_url":"https://avatars.githubusercontent.com/u/21186104?v=4","gravatar_id":"","url":"https://api.github.com/users/saharaheart","html_url":"https://github.com/saharaheart","followers_url":"https://api.github.com/users/saharaheart/followers","following_url":"https://api.github.com/users/saharaheart/following{/other_user}","gists_url":"https://api.github.com/users/saharaheart/gists{/gist_id}","starred_url":"https://api.github.com/users/saharaheart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saharaheart/subscriptions","organizations_url":"https://api.github.com/users/saharaheart/orgs","repos_url":"https://api.github.com/users/saharaheart/repos","events_url":"https://api.github.com/users/saharaheart/events{/privacy}","received_events_url":"https://api.github.com/users/saharaheart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T08:06:33Z","updated_at":"2021-04-25T08:06:33Z","author_association":"NONE","body":"emm, what do you mean by \"only these two places are ok, the message is send successfully \"? the broker sends to the producer or sends to the consumer?\r\nI know the ack message will be sent to producer when these two places are ready. But when the consumer pulls the message from the broker, I do not find the code that gurantee thoses two places are ready.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826279219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826279490","html_url":"https://github.com/apache/rocketmq/issues/2837#issuecomment-826279490","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2837","id":826279490,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjI3OTQ5MA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T08:08:12Z","updated_at":"2021-04-25T08:08:12Z","author_association":"CONTRIBUTOR","body":"> > 顺序消息要保证每个queue里面的消息被顺序消费，因此需要保证增加或减少消费者实例时，需要重新负载均衡时，只能有一个消费者实例分配到这个queue。并发消费不需要保证顺序性，因此不需要lock\r\n> \r\n> 也就是说 会存在多个ConcurrentConsumer 同时消费一个queue的情况吧\r\n> 虽然ConcurrentConsumer 不用保证顺序性, 但加上lock 也可以减少重复消费吧?\r\n\r\n加了lock就会损耗掉一些性能的，同时消费者上下线期间重新负载均衡时，这段时间有可能不能消费。为了保证高性能消费，因此需要牺牲消息的重复消费","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826279490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826283817","html_url":"https://github.com/apache/rocketmq/issues/2830#issuecomment-826283817","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2830","id":826283817,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjI4MzgxNw==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T08:38:40Z","updated_at":"2021-04-25T08:40:10Z","author_association":"CONTRIBUTOR","body":"> emm, what do you mean by \"only these two places are ok, the message is send successfully \"? the broker sends to the producer or sends to the consumer?\r\n> I know the ack message will be sent to producer when these two places are ready. But when the consumer pulls the message from the broker, I do not find the code that gurantee thoses two places are ready.\r\n\r\nyou are right，sorry。I reviewed the relevant code，It is possible that the message was consumed without flashing the disk and backing up to the standby node。But the message will still be flashed and synchronized to the standby node at the end\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826283817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826326556","html_url":"https://github.com/apache/rocketmq/issues/2837#issuecomment-826326556","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2837","id":826326556,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjMyNjU1Ng==","user":{"login":"ChenYilei2016","id":31011150,"node_id":"MDQ6VXNlcjMxMDExMTUw","avatar_url":"https://avatars.githubusercontent.com/u/31011150?v=4","gravatar_id":"","url":"https://api.github.com/users/ChenYilei2016","html_url":"https://github.com/ChenYilei2016","followers_url":"https://api.github.com/users/ChenYilei2016/followers","following_url":"https://api.github.com/users/ChenYilei2016/following{/other_user}","gists_url":"https://api.github.com/users/ChenYilei2016/gists{/gist_id}","starred_url":"https://api.github.com/users/ChenYilei2016/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChenYilei2016/subscriptions","organizations_url":"https://api.github.com/users/ChenYilei2016/orgs","repos_url":"https://api.github.com/users/ChenYilei2016/repos","events_url":"https://api.github.com/users/ChenYilei2016/events{/privacy}","received_events_url":"https://api.github.com/users/ChenYilei2016/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T13:40:55Z","updated_at":"2021-04-25T13:40:55Z","author_association":"NONE","body":"> > > 顺序消息要保证每个queue里面的消息被顺序消费，因此需要保证增加或减少消费者实例时，需要重新负载均衡时，只能有一个消费者实例分配到这个queue。并发消费不需要保证顺序性，因此不需要lock\r\n> > \r\n> > \r\n> > 也就是说 会存在多个ConcurrentConsumer 同时消费一个queue的情况吧\r\n> > 虽然ConcurrentConsumer 不用保证顺序性, 但加上lock 也可以减少重复消费吧?\r\n> \r\n> 加了lock就会损耗掉一些性能的，同时消费者上下线期间重新负载均衡时，这段时间有可能不能消费。为了保证高性能消费，因此需要牺牲消息的重复消费\r\n\r\nThanks♪(･ω･)ﾉ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826326556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826717684","html_url":"https://github.com/apache/rocketmq/pull/2834#issuecomment-826717684","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2834","id":826717684,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjcxNzY4NA==","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T10:27:55Z","updated_at":"2021-04-26T10:27:55Z","author_association":"MEMBER","body":"Spring RocketMQ will need to integrate this feature, make a note here.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826717684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826779665","html_url":"https://github.com/apache/rocketmq/issues/2830#issuecomment-826779665","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2830","id":826779665,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjc3OTY2NQ==","user":{"login":"saharaheart","id":21186104,"node_id":"MDQ6VXNlcjIxMTg2MTA0","avatar_url":"https://avatars.githubusercontent.com/u/21186104?v=4","gravatar_id":"","url":"https://api.github.com/users/saharaheart","html_url":"https://github.com/saharaheart","followers_url":"https://api.github.com/users/saharaheart/followers","following_url":"https://api.github.com/users/saharaheart/following{/other_user}","gists_url":"https://api.github.com/users/saharaheart/gists{/gist_id}","starred_url":"https://api.github.com/users/saharaheart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saharaheart/subscriptions","organizations_url":"https://api.github.com/users/saharaheart/orgs","repos_url":"https://api.github.com/users/saharaheart/repos","events_url":"https://api.github.com/users/saharaheart/events{/privacy}","received_events_url":"https://api.github.com/users/saharaheart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T12:02:40Z","updated_at":"2021-04-26T12:02:40Z","author_association":"NONE","body":"So, would you think it is useful to add configuration and related code for this issue, so it could avoid the case. The Kafka provides guarantee like this.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826779665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826876711","html_url":"https://github.com/apache/rocketmq/issues/2830#issuecomment-826876711","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2830","id":826876711,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjg3NjcxMQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T14:23:28Z","updated_at":"2021-04-26T14:35:39Z","author_association":"CONTRIBUTOR","body":"> So, would you think it is useful to add configuration and related code for this issue, so it could avoid the case. The Kafka provides guarantee like this.\r\n\r\nI think you can try， and I'll learn it in the meantime","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/826876711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/827274574","html_url":"https://github.com/apache/rocketmq/issues/2840#issuecomment-827274574","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2840","id":827274574,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzI3NDU3NA==","user":{"login":"yuz10","id":14816818,"node_id":"MDQ6VXNlcjE0ODE2ODE4","avatar_url":"https://avatars.githubusercontent.com/u/14816818?v=4","gravatar_id":"","url":"https://api.github.com/users/yuz10","html_url":"https://github.com/yuz10","followers_url":"https://api.github.com/users/yuz10/followers","following_url":"https://api.github.com/users/yuz10/following{/other_user}","gists_url":"https://api.github.com/users/yuz10/gists{/gist_id}","starred_url":"https://api.github.com/users/yuz10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuz10/subscriptions","organizations_url":"https://api.github.com/users/yuz10/orgs","repos_url":"https://api.github.com/users/yuz10/repos","events_url":"https://api.github.com/users/yuz10/events{/privacy}","received_events_url":"https://api.github.com/users/yuz10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T02:49:44Z","updated_at":"2021-04-27T02:49:44Z","author_association":"MEMBER","body":"本地事务返回COMMIT，不能保证commit消息送到，要依赖回查机制，请确保checkLocalTransaction回调函数也返回了COMMIT","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/827274574/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/827403830","html_url":"https://github.com/apache/rocketmq/issues/2841#issuecomment-827403830","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2841","id":827403830,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzQwMzgzMA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T08:02:45Z","updated_at":"2021-04-27T08:02:45Z","author_association":"CONTRIBUTOR","body":"你是用的那个分支，使用的打包命令是啥呀，我试下","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/827403830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/827464699","html_url":"https://github.com/apache/rocketmq/issues/2732#issuecomment-827464699","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2732","id":827464699,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzQ2NDY5OQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T09:33:29Z","updated_at":"2021-04-27T09:33:29Z","author_association":"CONTRIBUTOR","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/827464699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/828077027","html_url":"https://github.com/apache/rocketmq/issues/2840#issuecomment-828077027","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2840","id":828077027,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODA3NzAyNw==","user":{"login":"hill007299","id":5370269,"node_id":"MDQ6VXNlcjUzNzAyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/5370269?v=4","gravatar_id":"","url":"https://api.github.com/users/hill007299","html_url":"https://github.com/hill007299","followers_url":"https://api.github.com/users/hill007299/followers","following_url":"https://api.github.com/users/hill007299/following{/other_user}","gists_url":"https://api.github.com/users/hill007299/gists{/gist_id}","starred_url":"https://api.github.com/users/hill007299/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hill007299/subscriptions","organizations_url":"https://api.github.com/users/hill007299/orgs","repos_url":"https://api.github.com/users/hill007299/repos","events_url":"https://api.github.com/users/hill007299/events{/privacy}","received_events_url":"https://api.github.com/users/hill007299/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T01:43:43Z","updated_at":"2021-04-28T01:43:43Z","author_association":"CONTRIBUTOR","body":"@309283175 建议升级到4.7.0后的版本，针对事务消息做了很多优化。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/828077027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]