[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/246923412","html_url":"https://github.com/openzipkin/zipkin/pull/1290#issuecomment-246923412","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1290","id":246923412,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjkyMzQxMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-14T06:58:57Z","updated_at":"2016-09-14T06:58:57Z","author_association":"MEMBER","body":"gonna close this as from your description you seemed to be most interested in feedback. I'd like to keep the PR queue clean as possible. If I closed this too early, please re-open!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/246923412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/246963358","html_url":"https://github.com/openzipkin/zipkin/pull/1294#issuecomment-246963358","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1294","id":246963358,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Njk2MzM1OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-14T09:55:42Z","updated_at":"2016-09-14T09:55:42Z","author_association":"MEMBER","body":"implemented storage flush and wired in a delegate for span store.\n\nNext step: incrementally implement SpanStore, probably easiest ones first :)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/246963358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247218310","html_url":"https://github.com/openzipkin/zipkin/pull/1294#issuecomment-247218310","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1294","id":247218310,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzIxODMxMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T02:43:44Z","updated_at":"2016-09-15T02:43:44Z","author_association":"MEMBER","body":"using a lightly wrapped apachehc to implement a json api is too much work. I'm switching to okhttp.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247218310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247263546","html_url":"https://github.com/openzipkin/zipkin/pull/1294#issuecomment-247263546","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1294","id":247263546,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzI2MzU0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T08:05:32Z","updated_at":"2016-09-15T08:05:32Z","author_association":"MEMBER","body":"switched to OkHttp+Moshi and implemented the first read api: getRawTrace\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247263546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247265956","html_url":"https://github.com/openzipkin/zipkin/issues/1262#issuecomment-247265956","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1262","id":247265956,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzI2NTk1Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T08:17:52Z","updated_at":"2016-09-15T08:17:52Z","author_association":"MEMBER","body":"moving to implementation in #1298\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247265956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247286034","html_url":"https://github.com/openzipkin/zipkin/issues/1300#issuecomment-247286034","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1300","id":247286034,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzI4NjAzNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T09:54:51Z","updated_at":"2016-09-15T09:54:51Z","author_association":"MEMBER","body":"Span detail view could show this I guess\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247286034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247317276","html_url":"https://github.com/openzipkin/zipkin/issues/1301#issuecomment-247317276","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1301","id":247317276,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzMxNzI3Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T12:42:37Z","updated_at":"2016-09-15T12:42:37Z","author_association":"MEMBER","body":"\"67e1383c1e7f\" isn't an IP address. what is sending this?\n\nOn Thu, Sep 15, 2016 at 8:40 PM, Pavol Loffay notifications@github.com\nwrote:\n\n> Env:\n> Zipkin master/head\n> openjdk version \"1.8.0_102\"\n> OpenJDK Runtime Environment (build 1.8.0_102-b14)\n> OpenJDK 64-Bit Server VM (build 25.102-b14, mixed mode)\n> \n> Exception:\n> \n> 2016-09-15 14:19:49.649  WARN 18326 --- [nio-9411-exec-2] zipkin.server.ZipkinHttpCollector        : Cannot decode spans due to IllegalArgumentException(For input string: \"67e1383c1e7f\" reading List<Span> from json: [{\"name\":\"get\",\"traceId\":\"ff6b08e210acd24b\",\"id\":\"ff6b08e210acd24b\",\"annotations\":[{\"value\":\"sr\",\"timestamp\":1473941989594730,\"endpoint\":{\"ipv4\":\"67e1383c1e7f\",\"port\":9292,\"serviceName\":\"roda\"}},{\"value\":\"ss\",\"timestamp\":1473941989594846,\"endpoint\":{\"ipv4\":\"67e1383c1e7f\",\"port\":9292,\"serviceName\":\"roda\"}}],\"binaryAnnotations\":[{\"key\":\"http.uri\",\"value\":\"/roda/hello\",\"endpoint\":{\"ipv4\":\"67e1383c1e7f\",\"port\":9292,\"serviceName\":\"roda\"}}],\"timestamp\":1473941989594695,\"duration\":158,\"debug\":false}])\n> \n> java.lang.IllegalArgumentException: For input string: \"67e1383c1e7f\" reading List<Span> from json: [{\"name\":\"get\",\"traceId\":\"ff6b08e210acd24b\",\"id\":\"ff6b08e210acd24b\",\"annotations\":[{\"value\":\"sr\",\"timestamp\":1473941989594730,\"endpoint\":{\"ipv4\":\"67e1383c1e7f\",\"port\":9292,\"serviceName\":\"roda\"}},{\"value\":\"ss\",\"timestamp\":1473941989594846,\"endpoint\":{\"ipv4\":\"67e1383c1e7f\",\"port\":9292,\"serviceName\":\"roda\"}}],\"binaryAnnotations\":[{\"key\":\"http.uri\",\"value\":\"/roda/hello\",\"endpoint\":{\"ipv4\":\"67e1383c1e7f\",\"port\":9292,\"serviceName\":\"roda\"}}],\"timestamp\":1473941989594695,\"duration\":158,\"debug\":false}]\n>     at zipkin.internal.JsonCodec.exceptionReading(JsonCodec.java:643) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.internal.JsonCodec.readList(JsonCodec.java:597) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.internal.JsonCodec.readSpans(JsonCodec.java:432) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.collector.Collector.acceptSpans(Collector.java:93) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.server.ZipkinHttpCollector.validateAndStoreSpans(ZipkinHttpCollector.java:89) [classes!/:na]\n>     at zipkin.server.ZipkinHttpCollector.uploadSpansJson(ZipkinHttpCollector.java:63) [classes!/:na]\n>     at sun.reflect.GeneratedMethodAccessor84.invoke(Unknown Source) ~[na:na]\n>     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_102]\n>     at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_102]\n>     at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114) [spring-webmvc-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) [spring-webmvc-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) [spring-webmvc-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at javax.servlet.http.HttpServlet.service(HttpServlet.java:648) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55) [spring-boot-1.4.0.RELEASE.jar!/:1.4.0.RELEASE]\n>     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:105) [spring-boot-actuator-1.4.0.RELEASE.jar!/:1.4.0.RELEASE]\n>     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:107) [spring-boot-actuator-1.4.0.RELEASE.jar!/:1.4.0.RELEASE]\n>     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.2.RELEASE.jar!/:4.3.2.RELEASE]\n>     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:522) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:1110) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:785) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1425) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_102]\n>     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_102]\n>     at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.4.jar!/:8.5.4]\n>     at java.lang.Thread.run(Thread.java:745) [na:1.8.0_102]\n> Caused by: java.lang.NumberFormatException: For input string: \"67e1383c1e7f\"\n>     at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) ~[na:1.8.0_102]\n>     at java.lang.Integer.parseInt(Integer.java:580) ~[na:1.8.0_102]\n>     at java.lang.Integer.parseInt(Integer.java:615) ~[na:1.8.0_102]\n>     at zipkin.internal.JsonCodec$1.fromJson(JsonCodec.java:76) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.internal.JsonCodec$1.fromJson(JsonCodec.java:63) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.internal.JsonCodec$2.fromJson(JsonCodec.java:145) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.internal.JsonCodec$2.fromJson(JsonCodec.java:133) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.internal.JsonCodec$4.fromJson(JsonCodec.java:331) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.internal.JsonCodec$4.fromJson(JsonCodec.java:309) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     at zipkin.internal.JsonCodec.readList(JsonCodec.java:592) ~[zipkin-1.9.1-SNAPSHOT.jar!/:na]\n>     ... 69 common frames omitted\n> \n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/openzipkin/zipkin/issues/1301, or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAD61_u98MPI6E5dqdP-q0VIwah1VpkAks5qqTzVgaJpZM4J90dL\n> .\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247317276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247319148","html_url":"https://github.com/openzipkin/zipkin/issues/1301#issuecomment-247319148","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1301","id":247319148,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzMxOTE0OA==","user":{"login":"pavolloffay","id":5618424,"node_id":"MDQ6VXNlcjU2MTg0MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5618424?v=4","gravatar_id":"","url":"https://api.github.com/users/pavolloffay","html_url":"https://github.com/pavolloffay","followers_url":"https://api.github.com/users/pavolloffay/followers","following_url":"https://api.github.com/users/pavolloffay/following{/other_user}","gists_url":"https://api.github.com/users/pavolloffay/gists{/gist_id}","starred_url":"https://api.github.com/users/pavolloffay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavolloffay/subscriptions","organizations_url":"https://api.github.com/users/pavolloffay/orgs","repos_url":"https://api.github.com/users/pavolloffay/repos","events_url":"https://api.github.com/users/pavolloffay/events{/privacy}","received_events_url":"https://api.github.com/users/pavolloffay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T12:51:31Z","updated_at":"2016-09-15T12:51:31Z","author_association":"NONE","body":"It is from app instrumented with https://github.com/smoketurner/dropwizard-zipkin\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247319148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247320874","html_url":"https://github.com/openzipkin/zipkin/issues/1301#issuecomment-247320874","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1301","id":247320874,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzMyMDg3NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T12:59:25Z","updated_at":"2016-09-15T12:59:25Z","author_association":"MEMBER","body":"shouldn't matter, but do you mind trying to explicitly update Brave to 3.11? the json writer was changed in this version, though I've never seen anything like this before.\n\n```\n<dependency>\n    <groupId>io.zipkin.brave</groupId>\n    <artifactId>brave</artifactId>\n    <version>3.11.0</version>\n</dependency>\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247320874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247321705","html_url":"https://github.com/openzipkin/zipkin/issues/1301#issuecomment-247321705","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1301","id":247321705,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzMyMTcwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T13:03:01Z","updated_at":"2016-09-15T13:03:01Z","author_association":"MEMBER","body":"ps not that it should matter, but zipkin-1.9.1-SNAPSHOT isn't head.. 1.11.2-SNAPSHOT is\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247321705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247330059","html_url":"https://github.com/openzipkin/zipkin/issues/1301#issuecomment-247330059","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1301","id":247330059,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzMzMDA1OQ==","user":{"login":"pavolloffay","id":5618424,"node_id":"MDQ6VXNlcjU2MTg0MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5618424?v=4","gravatar_id":"","url":"https://api.github.com/users/pavolloffay","html_url":"https://github.com/pavolloffay","followers_url":"https://api.github.com/users/pavolloffay/followers","following_url":"https://api.github.com/users/pavolloffay/following{/other_user}","gists_url":"https://api.github.com/users/pavolloffay/gists{/gist_id}","starred_url":"https://api.github.com/users/pavolloffay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavolloffay/subscriptions","organizations_url":"https://api.github.com/users/pavolloffay/orgs","repos_url":"https://api.github.com/users/pavolloffay/repos","events_url":"https://api.github.com/users/pavolloffay/events{/privacy}","received_events_url":"https://api.github.com/users/pavolloffay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T13:37:49Z","updated_at":"2016-09-15T13:37:49Z","author_association":"NONE","body":"So the problem is in https://github.com/openzipkin/zipkin-tracer not in brave library. It happens when the app is deployed in docker container.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247330059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247332123","html_url":"https://github.com/openzipkin/zipkin/issues/1301#issuecomment-247332123","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1301","id":247332123,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzMzMjEyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-15T13:45:43Z","updated_at":"2016-09-15T13:45:43Z","author_association":"MEMBER","body":"This issue was moved to openzipkin/zipkin-tracer#75\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247332123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247501298","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-247501298","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":247501298,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzUwMTI5OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-16T01:58:12Z","updated_at":"2016-09-16T01:58:12Z","author_association":"MEMBER","body":"holy moly! this is quite a bit of progress!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247501298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247503246","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-247503246","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":247503246,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzUwMzI0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-16T02:17:18Z","updated_at":"2016-09-16T02:17:18Z","author_association":"MEMBER","body":"@sethp-jive thanks for this work! I'll stop my work and help yours.\n\nI think the next step is to modularize. Right now, there are a number of classpath problems we have already, so adding two new dep trees (especially with guava etc), is something we should avoid forcing. Here's the idea.\n\ncreate elasticsearch-jest (which has the jest dependency)\ncreate elasticsearch-aws (which depends on elasticsearch-jest and aws sdk)\n\nThis implies exposing Client, probably as InternalElasticsearchClient extending LazyCloseable. The Internal thing implies that it is internal eventhough it is exposed public. place the jest and aws impls in a separate package like zipkin.elasticsearch.jest and zipkin.elasticsearch.aws. These classes that extend InternalElasticsearchClient should have builders that look like other builders, and be an arg to ElasticSearchStorage.builder without any prior knowledge (ex  ElasticSearchStorage has no registry)\n\nIn those modules, we would have any unit tests they need, but at the very least copies of the DependenciesTest and SpanStoreTest so that they can be tested independently. The AWS variant would look for AWS access key or similar. If these args are present, the AWS variant runs or silently ignores (because its TestGraph is written to). Avoid creating a elasticsearch test jar unless it really really really helps :)\n\nOnce that's together we can work on auto-configuration (via spring). No magic until then. ex please don't detect anything :) magic is for auto-configuration, storage components should have smart defaults, but no magic.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247503246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247503363","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-247503363","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":247503363,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzUwMzM2Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-16T02:18:25Z","updated_at":"2016-09-16T02:18:25Z","author_association":"MEMBER","body":"pps please limit use of guava in InternalElasticsearchClient, and if it is really required, limit it to signatures present in 18.0\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247503363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247503526","html_url":"https://github.com/openzipkin/zipkin/pull/1294#issuecomment-247503526","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1294","id":247503526,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzUwMzUyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-16T02:20:15Z","updated_at":"2016-09-16T02:20:15Z","author_association":"MEMBER","body":"obviated by #1302\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247503526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247505649","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-247505649","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":247505649,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzUwNTY0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-16T02:41:06Z","updated_at":"2016-09-16T02:41:06Z","author_association":"MEMBER","body":"incidentally, aws could probably be done as an autoconfigure module. It doesn't seem to need to affect anything else, so I think we'd have..\n\n### modify: zipkin-storage/elasticsearch\n\nrefactored to expose zipkin.elasticsearch.InternalElasticsearchClient and accept it\n\n### add: zipkin-storage/elasticsearch-jest\n\ndepends on ^^ and jest, implements  zipkin.elasticsearch.jest.JestElasticsearchClient\n\n### add: zipkin-autoconfigure/storage-elasticsearch-jest\n\nmaps spring properties for http endpoints and instantiates JestElasticsearchClient via classes in package zipkin.autoconfigure.storage.elasticsearch.jest\n\n### add: zipkin-autoconfigure/storage-elasticsearch-aws\n\nuses AWS sdk to provide overrideable defaults for http endpoint and authentication and instantiates JestElasticsearchClient via classes in package zipkin.autoconfigure.storage.elasticsearch.aws\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247505649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247506255","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-247506255","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":247506255,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzUwNjI1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-16T02:46:46Z","updated_at":"2016-09-16T02:46:46Z","author_association":"MEMBER","body":"ps wrt commits, it is probably nicest to merge the refactor one first, as it is less code.\n\nThen a PR for:\nzipkin-storage/elasticsearch-jest, zipkin-autoconfigure/storage-elasticsearch-jest (and changes to zipkin-server including property/env variable documentation)\n\nThen, a PR for:\nzipkin-autoconfigure/storage-elasticsearch-aws (and changes to zipkin-server including property/env variable documentation)\n\nI'm ok reviewing everything as one pull request, just this ^^ is one way to break it up.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247506255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247507555","html_url":"https://github.com/openzipkin/zipkin/issues/1253#issuecomment-247507555","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1253","id":247507555,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzUwNzU1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-16T03:00:01Z","updated_at":"2016-09-16T03:00:01Z","author_association":"MEMBER","body":"there's a new impl in town, via @sethp-jive https://github.com/openzipkin/zipkin/pull/1302\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247507555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247683391","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-247683391","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":247683391,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzY4MzM5MQ==","user":{"login":"sethp-jive","id":2934009,"node_id":"MDQ6VXNlcjI5MzQwMDk=","avatar_url":"https://avatars.githubusercontent.com/u/2934009?v=4","gravatar_id":"","url":"https://api.github.com/users/sethp-jive","html_url":"https://github.com/sethp-jive","followers_url":"https://api.github.com/users/sethp-jive/followers","following_url":"https://api.github.com/users/sethp-jive/following{/other_user}","gists_url":"https://api.github.com/users/sethp-jive/gists{/gist_id}","starred_url":"https://api.github.com/users/sethp-jive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sethp-jive/subscriptions","organizations_url":"https://api.github.com/users/sethp-jive/orgs","repos_url":"https://api.github.com/users/sethp-jive/repos","events_url":"https://api.github.com/users/sethp-jive/events{/privacy}","received_events_url":"https://api.github.com/users/sethp-jive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-16T19:13:21Z","updated_at":"2016-09-16T19:13:21Z","author_association":"CONTRIBUTOR","body":"Oh, cool, I had totally missed that this was already in progress, I'm sorry for dropping in unannounced. Thanks for the feedback! \n\nI'll get started teasing this stuff out into modules as you described, but I have a few questions for you:\n1. Jest's dependency on Elasticsearch core (and its drag) is optional. I've just kept it around it for the query builders really – if you're comfortable with embedding those in the source as JSON instead of objects, we could have a zipkin-storage/elasticsearch, zipkin-storage/elasticsearch-transport, zipkin-storage/elasticsearch-http (or Jest) tree?\n2. As far as I know (which is not very far, admittedly), the difference between the Transport client and Jest is largely of Java API (+ discovery entrypoint, naturally) – do we want to consider simplifying things by just replacing the elasticsearch implementation with one over HTTP instead of the binary transport? So just zipkin-storage/elasticsearch and zipkin-storage/elasticsearch-http? I didn't go that route initially because it would be a breaking change for existing configurations, but I thought I should mention it.\n3. I'm not very familiar with spring-boot or the autoconfiguration stuff, but I think I can figure it out if you can help me understand the final vision for how this stuff gets driven. Is the current (user-facing) magic regarding URL parsing and host-pattern-matching acceptable? e.g. one `STORAGE_TYPE=elasticsearch` and switching on the value in `ES_HOSTS`, or are we aiming for a suite of storage options like `STORAGE_TYPE=elasticsearch`, `STORAGE_TYPE=elasticsearch-http`, `STORAGE_TYPE=elasticsearch-aws`?\n4. Regarding testing the AWS integration – I don't know if it was clear, but the AWS code makes identical requests to the normal HTTP client with the addition of a pair of magic AWS headers. Regrettably, the contents of those headers are tough to validate except against a running AWS ES instance (I have a gnarly story about just how many URL encoding rounds it accepts for commas, if you want to hear it). I think that means just detecting on the presence of credentials is not quite enough – we also need a \"domain\" (what AWS calls an ES cluster) to connect to. How would you imagine this working in an environment that's not just my machine (with access to my AWS account)? i.e. should I be looking in an environment variable for that domain? I could code the tests to try creating a domain with the credentials at hand, but regrettably that takes quite a few minutes.\n\nI think if you're alright with it, I'd like to keep this PR as a kind of \"tracking\" issue and for the final zipkin-storage/elasticsearch-aws modules when we get there, and I can send you other PRs for the steps along the way.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247683391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247746564","html_url":"https://github.com/openzipkin/zipkin/pull/1304#issuecomment-247746564","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1304","id":247746564,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Nzc0NjU2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-17T03:30:59Z","updated_at":"2016-09-17T03:30:59Z","author_association":"MEMBER","body":"cc @sethp-jive \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247746564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247746585","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-247746585","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":247746585,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Nzc0NjU4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-17T03:31:38Z","updated_at":"2016-09-17T03:31:38Z","author_association":"MEMBER","body":"coolio. this will need to be rebased on top of #1304 once merged\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247746585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247746860","html_url":"https://github.com/openzipkin/zipkin/pull/1303#issuecomment-247746860","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1303","id":247746860,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Nzc0Njg2MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-17T03:40:12Z","updated_at":"2016-09-17T03:40:12Z","author_association":"MEMBER","body":"here's the follow-up. thanks again @sethp-jive!\n\nhttps://github.com/openzipkin/zipkin/pull/1304\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247746860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247747111","html_url":"https://github.com/openzipkin/zipkin/issues/1265#issuecomment-247747111","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1265","id":247747111,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Nzc0NzExMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-17T03:48:09Z","updated_at":"2016-09-17T03:48:09Z","author_association":"MEMBER","body":"whoot! https://github.com/Yelp/py_zipkin\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247747111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247747823","html_url":"https://github.com/openzipkin/zipkin/pull/1304#issuecomment-247747823","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1304","id":247747823,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Nzc0NzgyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-17T04:11:08Z","updated_at":"2016-09-17T04:11:08Z","author_association":"MEMBER","body":"merging to keep trunk shippable and @sethp-jive unblocked\n\n@sethp-jive feel free to change the internal interface as you need to in your next PR\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247747823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247748156","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-247748156","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":247748156,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Nzc0ODE1Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-17T04:21:46Z","updated_at":"2016-09-17T04:21:46Z","author_association":"MEMBER","body":"This is a summarising reply :)\n\nI can help with the magic stuff and also some of the test setup issues.\n\nLet's go with jest for now (vs ground up http or es 5 client) as we can\nalways optimize later. If you run into trouble with modularisation or\nmagic, just note in the pull request and I can take some efforts to tidy\nthings.\n\nI suspect that we can handle most of this in spring by looking at the value\nof the elasticsearth hosts. Ex if they are amazon, assume that. If the are\nnot port 9300 assume http. We can have something like ES_CLIENT_TYPE=http\nor native or aws to force a decision if need be.\n\nOn 17 Sep 2016 03:13, \"sethp-jive\" notifications@github.com wrote:\n\n> Oh, cool, I had totally missed that this was already in progress, I'm\n> sorry for dropping in unannounced. Thanks for the feedback!\n> \n> I'll get started teasing this stuff out into modules as you described, but\n> I have a few questions for you:\n> 1. Jest's dependency on Elasticsearch core (and its drag) is optional.\n>    I've just kept it around it for the query builders really – if you're\n>    comfortable with embedding those in the source as JSON instead of objects,\n>    we could have a zipkin-storage/elasticsearch, zipkin-storage/elasticsearch-transport,\n>    zipkin-storage/elasticsearch-http (or Jest) tree?\n> 2. As far as I know (which is not very far, admittedly), the\n>    difference between the Transport client and Jest is largely of Java API (+\n>    discovery entrypoint, naturally) – do we want to consider simplifying\n>    things by just replacing the elasticsearch implementation with one over\n>    HTTP instead of the binary transport? So just zipkin-storage/elasticsearch\n>    and zipkin-storage/elasticsearch-http? I didn't go that route\n>    initially because it would be a breaking change for existing\n>    configurations, but I thought I should mention it.\n> 3. I'm not very familiar with spring-boot or the autoconfiguration\n>    stuff, but I think I can figure it out if you can help me understand the\n>    final vision for how this stuff gets driven. Is the current (user-facing)\n>    magic regarding URL parsing and host-pattern-matching acceptable? e.g. one\n>    STORAGE_TYPE=elasticsearch and switching on the value in ES_HOSTS, or\n>    are we aiming for a suite of storage options like\n>    STORAGE_TYPE=elasticsearch, STORAGE_TYPE=elasticsearch-http,\n>    STORAGE_TYPE=elasticsearch-aws?\n> 4. Regarding testing the AWS integration – I don't know if it was\n>    clear, but the AWS code makes identical requests to the normal HTTP client\n>    with the addition of a pair of magic AWS headers. Regrettably, the contents\n>    of those headers are tough to validate except against a running AWS ES\n>    instance (I have a gnarly story about just how many URL encoding rounds it\n>    accepts for commas, if you want to hear it). I think that means just\n>    detecting on the presence of credentials is not quite enough – we also need\n>    a \"domain\" (what AWS calls an ES cluster) to connect to. How would you\n>    imagine this working in an environment that's not just my machine (with\n>    access to my AWS account)? i.e. should I be looking in an environment\n>    variable for that domain? I could code the tests to try creating a domain\n>    with the credentials at hand, but regrettably that takes quite a few\n>    minutes.\n> \n> I think if you're alright with it, I'd like to keep this PR as a kind of\n> \"tracking\" issue and for the final zipkin-storage/elasticsearch-aws\n> modules when we get there, and I can send you other PRs for the steps along\n> the way.\n> \n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> https://github.com/openzipkin/zipkin/pull/1302#issuecomment-247683391,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAD61wpI1hXUc7JaLlUx1tdQySWRhGzXks5qqupSgaJpZM4J-Wai\n> .\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/247748156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248181654","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-248181654","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":248181654,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODE4MTY1NA==","user":{"login":"sethp-jive","id":2934009,"node_id":"MDQ6VXNlcjI5MzQwMDk=","avatar_url":"https://avatars.githubusercontent.com/u/2934009?v=4","gravatar_id":"","url":"https://api.github.com/users/sethp-jive","html_url":"https://github.com/sethp-jive","followers_url":"https://api.github.com/users/sethp-jive/followers","following_url":"https://api.github.com/users/sethp-jive/following{/other_user}","gists_url":"https://api.github.com/users/sethp-jive/gists{/gist_id}","starred_url":"https://api.github.com/users/sethp-jive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sethp-jive/subscriptions","organizations_url":"https://api.github.com/users/sethp-jive/orgs","repos_url":"https://api.github.com/users/sethp-jive/repos","events_url":"https://api.github.com/users/sethp-jive/events{/privacy}","received_events_url":"https://api.github.com/users/sethp-jive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T02:03:36Z","updated_at":"2016-09-20T02:03:36Z","author_association":"CONTRIBUTOR","body":"I put up the alternative implementation as you described (I think) in #1306 – I wasn't quite sure what to do with some parts (especially the autoconfigure conditional stuff), but it seems to approximate the right behavior for me.\n\nIf you've got anything you want me to take care of, let me know. Otherwise, I'll focus on getting the AWS request signing stuff wedged in via a new autoconfigure package.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248181654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248201792","html_url":"https://github.com/openzipkin/zipkin/pull/1306#issuecomment-248201792","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1306","id":248201792,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODIwMTc5Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T04:59:09Z","updated_at":"2016-09-20T04:59:09Z","author_association":"MEMBER","body":"This one is my fault I think. So is the best behaviour to copy/paste a\none-liner?\n\nOn 20 Sep 2016 12:36 pm, \"Tommy Ludwig\" notifications@github.com wrote:\n\n> ## _@shakuzen_ commented on this pull request.\n> \n> In zipkin-autoconfigure/storage-elasticsearch-jest/src/main/\n> java/zipkin/autoconfigure/storage/elasticsearch/jest/\n> ZipkinElasticsearchJestStorageProperties.java\n> https://github.com/openzipkin/zipkin/pull/1306#pullrequestreview-676674:\n> \n> > - \\* Unless required by applicable law or agreed to in writing, software distributed under the License\n> > - \\* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n> > - \\* or implied. See the License for the specific language governing permissions and limitations under\n> > - \\* the License.\n> > - */\n> >   +package zipkin.autoconfigure.storage.elasticsearch.jest;\n> >   +\n> >   +import java.util.Collections;\n> >   +import java.util.List;\n> >   +import org.springframework.boot.context.properties.ConfigurationProperties;\n> >   +import zipkin.storage.elasticsearch.ElasticsearchStorage;\n> >   +import zipkin.storage.elasticsearch.jest.RestClient;\n> >   +\n> >   +@ConfigurationProperties(\"zipkin.storage.elasticsearch\")\n> >   +public class ZipkinElasticsearchJestStorageProperties {\n> > -  /*\\* @see ElasticsearchStorage.Builder#hosts(List) */\n> \n> Per convention, JavaDoc comments on @ConfigurationProperties fields are\n> plain text (don't use JavaDoc keywords like @see) because they are used\n> by the configuration processor and then by IDEs as descriptions of the\n> \n> ## fields during auto-completion, for instance.\n> \n> In zipkin-storage/elasticsearch-jest/src/main/java/zipkin/\n> storage/elasticsearch/jest/RestClient.java\n> https://github.com/openzipkin/zipkin/pull/1306#pullrequestreview-676674:\n> \n> > -  private static final int MAX_INDICES = 100;\n> >   +\n> > -  public static final class Builder implements InternalElasticsearchClient.Builder {\n> > -    List<String> hosts = Collections.singletonList(\"http://localhost:9200\");\n> > -    boolean flushOnWrites;\n> >   +\n> > -    /**\n> > -     \\* Unnecessary, but we'll check it's not null for consistency's sake.\n> > -     */\n> > -    @Override public Builder cluster(String cluster) {\n> > -      checkNotNull(cluster, \"cluster\");\n> > -      return this;\n> > -    }\n> >   +\n> > -    /**\n> > -     \\* A comma separated list of elasticsearch hostnodes to connect to, in http://host:port or\n> \n> Not a comma-separated list but an actual List\n> \n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> https://github.com/openzipkin/zipkin/pull/1306#pullrequestreview-676674,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAD612Kovuw4gMyVDD5fV63nN5nfusTrks5qr2LXgaJpZM4KBJdk\n> .\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248201792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248241992","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248241992","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248241992,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODI0MTk5Mg==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T08:48:59Z","updated_at":"2016-09-20T08:48:59Z","author_association":"MEMBER","body":"Basic thoughts and a skeleton for using Zipkin with the new style of Cassandra datamodel, but replacing the SASI with Solr Cores. This allows the data model to run against Cassandra-3.0.8+ but does require a DSE installation.\n\nA fair bit of work still has to happen here, wiring it together, etc.\nBut the basic idea is in place.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248241992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248249649","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248249649","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248249649,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODI0OTY0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T09:23:41Z","updated_at":"2016-09-20T09:23:41Z","author_association":"MEMBER","body":"interested, as I'm interested in decommissioning the \"cassandra\" module, but I don't think this gets us there, as not everyone uses DSE. Basically, we end up with 3 codebases for cassandra that don't share code.\n\nI know @schrepfler asked about DSE, but not sure if he uses zipkin at the moment or not. Do we have a good gauge of how many use DSE?\n\nI'm concerned about the maintenance problem of bringing this into the core repo, particularly as it is getting bloated and it doesn't seem obvious how to test commercial variants like this. There's also bus factor.. we're lucky we have you, but there's few others working on cassandra, almost none. Can we afford to have a third codebase? Finally, we already blow up on memory often as it is and our builds are approaching 20minutes.. Feels like it should be a separate repo.\n\n@openzipkin/cassandra @abesto What are your thoughts?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248249649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248252322","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248252322","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248252322,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODI1MjMyMg==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T09:35:37Z","updated_at":"2016-09-20T09:35:37Z","author_association":"MEMBER","body":"Personally I would rather not include the code into master, for the same reasons you describe @adriancole \n\nBut I did want to at least throw the code out here, so that others could take it (if only the idea) and run if they wanted to.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248252322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248252550","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248252550","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248252550,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODI1MjU1MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T09:36:37Z","updated_at":"2016-09-20T09:36:37Z","author_association":"MEMBER","body":"@michaelsembwever I noticed this has a dep on cassandra3. seems `CassandraSpanConsumer` is the same type, but it has a different front-end (SpanStore) and schema.\n\nAm I right to think that this is \"effectively\" the same schema? Else, I'd assume you wouldn't be able to use cassandra3's `CassandraSpanConsumer`\n\nWhile this PR is >2K lines, it seems some of it is benign (ex UDT related cruft) or some things that have to be copy/pasted. The heaviest class seems to be the SpanStore variant. Is that a fair assessment?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248252550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248253818","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248253818","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248253818,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODI1MzgxOA==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T09:42:30Z","updated_at":"2016-09-20T09:42:30Z","author_association":"MEMBER","body":"Yes it is the same schema as far as writes go. Just that the SASI are not used. DSE Solr Cores replace them.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248253818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248253831","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248253831","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248253831,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODI1MzgzMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T09:42:34Z","updated_at":"2016-09-20T09:42:34Z","author_association":"MEMBER","body":"> Personally I would rather not include the code into master, for the same\n> reasons you describe @adriancole https://github.com/adriancole\n> \n> But I did want to at least throw the code out here, so that others could\n> take it (if only the idea) and run if they wanted to.\n> \n> Historically, most of the repos we spun out from concerns about interest\n> didn't turn into anything. Ex mongo and redis went to separate repos to\n> die. However, I think it is more reasonable that this could live. I'd offer\n> effort to carve out a repo for this.\n\nWe could attract attention to it, saying that once cassandra3 is done,\nwe'll deprecate \"cassandra\" for removal at some point. Those who can't\nupgrade on account of DSE should look to the zipkin-storage-dse5 repo. If\nno-one is interested enough even to comment there, then there's not much\nelse we can do... worst case, it dies.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248253831/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248254880","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248254880","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248254880,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODI1NDg4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T09:47:26Z","updated_at":"2016-09-20T09:47:26Z","author_association":"MEMBER","body":"Thanks for answering my questions, @michaelsembwever! I'll shut up and see what others think\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248254880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248255724","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248255724","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248255724,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODI1NTcyNA==","user":{"login":"schrepfler","id":3553,"node_id":"MDQ6VXNlcjM1NTM=","avatar_url":"https://avatars.githubusercontent.com/u/3553?v=4","gravatar_id":"","url":"https://api.github.com/users/schrepfler","html_url":"https://github.com/schrepfler","followers_url":"https://api.github.com/users/schrepfler/followers","following_url":"https://api.github.com/users/schrepfler/following{/other_user}","gists_url":"https://api.github.com/users/schrepfler/gists{/gist_id}","starred_url":"https://api.github.com/users/schrepfler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schrepfler/subscriptions","organizations_url":"https://api.github.com/users/schrepfler/orgs","repos_url":"https://api.github.com/users/schrepfler/repos","events_url":"https://api.github.com/users/schrepfler/events{/privacy}","received_events_url":"https://api.github.com/users/schrepfler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T09:51:22Z","updated_at":"2016-09-20T09:51:22Z","author_association":"CONTRIBUTOR","body":"I would go with external repo and some sort of contrib model and zipkin-storage-dse5 sounds fine (ideally Datastax themselves would be maintainers as they know their features best and it would advocate optimal use of their product.)\nIs the DSE Solr interface so much different when starting Cassandra with the parameters to turn on string indexing using ES or Solr (I was under the impression Cassandra ships with such an example config but I can't find it in my instance, perhaps I've seen it in use on some modified Cassandra ex. Titan+Cassandra+ES)?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248255724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248465630","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248465630","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248465630,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODQ2NTYzMA==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-20T23:23:00Z","updated_at":"2016-09-20T23:23:00Z","author_association":"MEMBER","body":"> Is the DSE Solr interface so much different when starting Cassandra with the parameters to turn on string indexing using ES or Solr …\n\n@schrepfler i'm only familiar with the rather basic approach of using `dsetool create_core …` from the command line to create the Solr Core off a C\\* table.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248465630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248479931","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248479931","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248479931,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODQ3OTkzMQ==","user":{"login":"schrepfler","id":3553,"node_id":"MDQ6VXNlcjM1NTM=","avatar_url":"https://avatars.githubusercontent.com/u/3553?v=4","gravatar_id":"","url":"https://api.github.com/users/schrepfler","html_url":"https://github.com/schrepfler","followers_url":"https://api.github.com/users/schrepfler/followers","following_url":"https://api.github.com/users/schrepfler/following{/other_user}","gists_url":"https://api.github.com/users/schrepfler/gists{/gist_id}","starred_url":"https://api.github.com/users/schrepfler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schrepfler/subscriptions","organizations_url":"https://api.github.com/users/schrepfler/orgs","repos_url":"https://api.github.com/users/schrepfler/repos","events_url":"https://api.github.com/users/schrepfler/events{/privacy}","received_events_url":"https://api.github.com/users/schrepfler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T00:53:22Z","updated_at":"2016-09-21T00:53:22Z","author_association":"CONTRIBUTOR","body":"I think that's the way to go too, haven't dealt with it directly though.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248479931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248481585","html_url":"https://github.com/openzipkin/zipkin/pull/1308#issuecomment-248481585","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1308","id":248481585,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODQ4MTU4NQ==","user":{"login":"danchia","id":1222141,"node_id":"MDQ6VXNlcjEyMjIxNDE=","avatar_url":"https://avatars.githubusercontent.com/u/1222141?v=4","gravatar_id":"","url":"https://api.github.com/users/danchia","html_url":"https://github.com/danchia","followers_url":"https://api.github.com/users/danchia/followers","following_url":"https://api.github.com/users/danchia/following{/other_user}","gists_url":"https://api.github.com/users/danchia/gists{/gist_id}","starred_url":"https://api.github.com/users/danchia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danchia/subscriptions","organizations_url":"https://api.github.com/users/danchia/orgs","repos_url":"https://api.github.com/users/danchia/repos","events_url":"https://api.github.com/users/danchia/events{/privacy}","received_events_url":"https://api.github.com/users/danchia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T01:04:37Z","updated_at":"2016-09-21T01:04:37Z","author_association":"NONE","body":"AFAIK there's the command line client, and a deprecrated? HTTP endpoint. Sadly can't create the indexes from CQL directly since you need the solr config.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248481585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248498977","html_url":"https://github.com/openzipkin/zipkin/pull/1309#issuecomment-248498977","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1309","id":248498977,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODQ5ODk3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T03:08:17Z","updated_at":"2016-09-21T03:08:17Z","author_association":"MEMBER","body":"cc @devinsba\n\nI'll make a similar change to brave, too\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248498977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248499437","html_url":"https://github.com/openzipkin/zipkin/pull/1309#issuecomment-248499437","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1309","id":248499437,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODQ5OTQzNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T03:12:07Z","updated_at":"2016-09-21T03:12:07Z","author_association":"MEMBER","body":"PS in hindsight I wouldn't have defined port as a short, rather left that to codec.\n\nThis class used to be a literal struct, and latter changed to decouple from field lengths. In zipkin 2 we could break api and change port accordingly, if we felt the need to. For now, this change should help mitigate the concern.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248499437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248510515","html_url":"https://github.com/openzipkin/zipkin/pull/1306#issuecomment-248510515","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1306","id":248510515,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODUxMDUxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-21T04:46:42Z","updated_at":"2016-09-21T04:46:42Z","author_association":"MEMBER","body":"cherry-picked in. take note of a few conventional file renames (also it is now plumbed to zipkin-server), so the following works:\n\n``` bash\n$ STORAGE_TYPE=elasticsearch ES_HOSTS=http://localhost:9200 java -jar zipkin-server/target/zipkin-server-1.11.2-SNAPSHOT-exec.jar\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248510515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248803432","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-248803432","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":248803432,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODgwMzQzMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T03:42:47Z","updated_at":"2016-09-22T03:42:47Z","author_association":"MEMBER","body":"looks like we are on final lap. I'd like to cut a release from master sometime in the next day or two as there's a method I'd like to deprecate and get a replacement out for. do you think you'll have time for the aws autoconfigure in the next day or two? If so, it would be nice to make a general announcement for elasticsearch http+aws vs separately.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248803432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248958178","html_url":"https://github.com/openzipkin/zipkin/issues/1232#issuecomment-248958178","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1232","id":248958178,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk1ODE3OA==","user":{"login":"dwelch2344","id":160142,"node_id":"MDQ6VXNlcjE2MDE0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/160142?v=4","gravatar_id":"","url":"https://api.github.com/users/dwelch2344","html_url":"https://github.com/dwelch2344","followers_url":"https://api.github.com/users/dwelch2344/followers","following_url":"https://api.github.com/users/dwelch2344/following{/other_user}","gists_url":"https://api.github.com/users/dwelch2344/gists{/gist_id}","starred_url":"https://api.github.com/users/dwelch2344/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dwelch2344/subscriptions","organizations_url":"https://api.github.com/users/dwelch2344/orgs","repos_url":"https://api.github.com/users/dwelch2344/repos","events_url":"https://api.github.com/users/dwelch2344/events{/privacy}","received_events_url":"https://api.github.com/users/dwelch2344/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T16:38:04Z","updated_at":"2016-09-22T16:38:04Z","author_association":"NONE","body":"Any word on this? We dev against PG and would love to not have another database dep just for zipkin (especially on dev machines) \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248958178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248978432","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-248978432","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":248978432,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODk3ODQzMg==","user":{"login":"sethp-jive","id":2934009,"node_id":"MDQ6VXNlcjI5MzQwMDk=","avatar_url":"https://avatars.githubusercontent.com/u/2934009?v=4","gravatar_id":"","url":"https://api.github.com/users/sethp-jive","html_url":"https://github.com/sethp-jive","followers_url":"https://api.github.com/users/sethp-jive/followers","following_url":"https://api.github.com/users/sethp-jive/following{/other_user}","gists_url":"https://api.github.com/users/sethp-jive/gists{/gist_id}","starred_url":"https://api.github.com/users/sethp-jive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sethp-jive/subscriptions","organizations_url":"https://api.github.com/users/sethp-jive/orgs","repos_url":"https://api.github.com/users/sethp-jive/repos","events_url":"https://api.github.com/users/sethp-jive/events{/privacy}","received_events_url":"https://api.github.com/users/sethp-jive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-22T17:55:01Z","updated_at":"2016-09-22T17:55:01Z","author_association":"CONTRIBUTOR","body":"Yup – I'm in the final stages of testing here on my end before wrapping up the last change and sending it along for review.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/248978432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249072022","html_url":"https://github.com/openzipkin/zipkin/issues/1232#issuecomment-249072022","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1232","id":249072022,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA3MjAyMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T00:55:52Z","updated_at":"2016-09-23T00:55:52Z","author_association":"MEMBER","body":"your are lucky number 3 person to be interested in this! https://blog.codinghorror.com/rule-of-three/\n\nif we started this, would you help maintain and/or test it? Which version of postgresql can you use?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249072022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249072814","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249072814","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249072814,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA3MjgxNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T01:00:20Z","updated_at":"2016-09-23T01:00:20Z","author_association":"MEMBER","body":"@sethp-jive great. once you have this is, I'll take a look at it and possibly modify it to use https://github.com/spring-cloud/spring-cloud-aws\n\nReason being is there's a standard way to get AWS credentials in spring boot, I can port the approach if you don't have cycles to look into it.\n\ncc @dsyer \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249072814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249084931","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249084931","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249084931,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA4NDkzMQ==","user":{"login":"sethp-jive","id":2934009,"node_id":"MDQ6VXNlcjI5MzQwMDk=","avatar_url":"https://avatars.githubusercontent.com/u/2934009?v=4","gravatar_id":"","url":"https://api.github.com/users/sethp-jive","html_url":"https://github.com/sethp-jive","followers_url":"https://api.github.com/users/sethp-jive/followers","following_url":"https://api.github.com/users/sethp-jive/following{/other_user}","gists_url":"https://api.github.com/users/sethp-jive/gists{/gist_id}","starred_url":"https://api.github.com/users/sethp-jive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sethp-jive/subscriptions","organizations_url":"https://api.github.com/users/sethp-jive/orgs","repos_url":"https://api.github.com/users/sethp-jive/repos","events_url":"https://api.github.com/users/sethp-jive/events{/privacy}","received_events_url":"https://api.github.com/users/sethp-jive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T02:17:38Z","updated_at":"2016-09-23T02:17:38Z","author_association":"CONTRIBUTOR","body":"Hmm, my only concern about that spring-aws module is that it looks like it might establish a different set of conventions from the pre-existing AWS client stuff (a rich set of system properties, environment variables, and/or config files that parameterize a bunch of different entrypoints into things like AWS credentials).\n\nFor example, in local development it's really convenient to use `AWS_PROFILE=zipkin` and have a role defined that I can switch into that emulates a restricted permission user comparable to what'd be running in production. Do you think that module will match pre-existing expectations?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249084931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249088679","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249088679","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249088679,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA4ODY3OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T02:48:15Z","updated_at":"2016-09-23T02:48:15Z","author_association":"MEMBER","body":"> Hmm, my only concern about that spring-aws module is that it looks like it\n> might establish a different set of conventions from the pre-existing AWS\n> client stuff (a rich set of system properties, environment variables,\n> and/or config files that parameterize a bunch of different entrypoints into\n> things like AWS credentials).\n> \n> For example, in local development it's really convenient to use\n> AWS_PROFILE=zipkin and have a role defined that I can switch into that\n> emulates a restricted permission user comparable to what'd be running in\n> production. Do you think that module will match pre-existing expectations?\n> \n> Not sure if it will be a problem or not. Sounds like a valid concern.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249088679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249091383","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249091383","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249091383,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA5MTM4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T03:10:13Z","updated_at":"2016-09-23T03:10:13Z","author_association":"MEMBER","body":"no worries. I'm only sensitive as I've broken JRE compat in two related\nzipkin libraries accidentally in the last year :P\n\nOn Fri, Sep 23, 2016 at 11:09 AM, sethp-jive notifications@github.com\nwrote:\n\n> ## _@sethp-jive_ commented on this pull request.\n> \n> In pom.xml https://github.com/openzipkin/zipkin/pull/1302:\n> \n> > @@ -40,7 +40,8 @@\n> >      <project.build.resourceEncoding>UTF-8</project.build.resourceEncoding>\n> \n> ```\n>  <!-- default bytecode version for src/main -->\n> ```\n> -    <main.java.version>1.7</main.java.version>\n> -    <!-- IntelliJ isn't clever enough to have different language levels for tests vs. main code -->\n> -    <main.java.version>1.8</main.java.version>\n> \n> yeah, I'm sorry, I'd been good about keeping this out of the commit (I\n> know it's not going in), but an errant git commit -a seems to have undone\n> that effort.\n> \n> Thanks for the JIRA and the workaround!\n> \n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> https://github.com/openzipkin/zipkin/pull/1302, or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAD6121oViaGwyLnlW8dns1E6eC_enUMks5qs0LjgaJpZM4J-Wai\n> .\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249091383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249092696","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249092696","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249092696,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA5MjY5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T03:20:58Z","updated_at":"2016-09-23T03:20:58Z","author_association":"MEMBER","body":"Oh wait.. I forgot :) the intent of the naming convention here is to relate\nto the path of properties  what you had was right\n\nOn 23 Sep 2016 10:11 am, \"sethp-jive\" notifications@github.com wrote:\n\n> ## _@sethp-jive_ commented on this pull request.\n> \n> In zipkin-autoconfigure/storage-elasticsearch-http/src/main/\n> java/zipkin/autoconfigure/storage/elasticsearch/http/\n> ZipkinHttpElasticsearchStorageAutoConfiguration.java\n> https://github.com/openzipkin/zipkin/pull/1302#pullrequestreview-1262349\n> :\n> \n> >  @Configuration\n> > -@EnableConfigurationProperties(ZipkinElasticsearchHttpStorageProperties.class)\n> > +@EnableConfigurationProperties(ZipkinHttpElasticsearchStorageProperties.class)\n> \n> I think this is more conventional this way? I changed it to mirror your\n> \n> ## change to the HTTP autoconfiguration.\n> \n> In zipkin-autoconfigure/storage-elasticsearch-aws/src/main/\n> java/zipkin/storage/elasticsearch/LazyDomainLookup.java\n> https://github.com/openzipkin/zipkin/pull/1302#pullrequestreview-1262349\n> :\n> \n> > -  }\n> >   +\n> > -  @Override public InternalElasticsearchClient.Builder cluster(String cluster) {\n> > -    throw new UnsupportedOperationException();\n> > -  }\n> >   +\n> > -  @Override public InternalElasticsearchClient.Builder hosts(List<String> hosts) {\n> > -    throw new UnsupportedOperationException();\n> > -  }\n> >   +\n> > -  @Override public InternalElasticsearchClient.Builder flushOnWrites(boolean flushOnWrites) {\n> > -    throw new UnsupportedOperationException();\n> > -  }\n> >   +\n> > -  @Override public InternalElasticsearchClient.Factory buildFactory() {\n> > -    return new InternalElasticsearchClient.Factory() {\n> \n> Since the endpoint URLs that get dumped out of the AWS ES service aren't\n> particularly friendly (e.g. https://search-name-\n> wvkjy7wgk6j7iihjqcqemhhfju.us-west-2.es.amazonaws.com ) I found it useful\n> to have Zipkin do the lookup for me to map from the name of the domain to\n> the endpoint for a few different testing purposes. I also thought it might\n> be nice to have a second more explicit path in just in case the AWS \"magic\"\n> \n> ## parsing of the URLs fails.\n> \n> In zipkin-server/src/main/java/zipkin/server/ZipkinServer.java\n> https://github.com/openzipkin/zipkin/pull/1302#pullrequestreview-1262349\n> :\n> \n> >  import org.springframework.boot.builder.SpringApplicationBuilder;\n> >  import zipkin.server.brave.BootstrapTrace;\n> \n> -@SpringBootApplication\n> +@SpringBootApplication(exclude = JestAutoConfiguration.class)\n> \n> I'm sorry about this, but it was the only way I could find to prevent\n> Spring from (eagerly) spinning up an unused JestClient in the application\n> context (with pursuant confusing log messages about its initialization). I\n> suppose we could have found a way to use that configuration, but it doesn't\n> quite meet our needs – there's no hook for adding the signing interceptor,\n> for example. I'd also suggest that makes more sense to have the HttpClient\n> own its own connectivity rather than having it injected, similarly to how\n> \n> ## the NativeClient handles things.\n> \n> In zipkin-storage/elasticsearch-http/src/main/java/zipkin/\n> storage/elasticsearch/http/HttpClient.java\n> https://github.com/openzipkin/zipkin/pull/1302#pullrequestreview-1262349\n> :\n> \n> > @@ -289,23 +322,18 @@ public void clear(String index) {\n> >      checkState(!\"RED\".equalsIgnoreCase(status), \"Health status is RED\");\n> >    }\n> -  private static final class IndicesHealth extends GenericResultAbstractAction {\n> -  private static final class IndicesHealth extends Health {\n> \n> I had this change locally because, as I'm sure you noted, my previous\n> attempt to move the method-local class out didn't quite work (the\n> constructor needed the additional setURI call).\n> \n> The worst part about this is that I think it means the ES tests didn't run\n> for my last PR – all the tests are passing consistently for me locally, but\n> maybe having some trouble in CI. I might need your help to dig into that if\n> it persists.\n> \n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> https://github.com/openzipkin/zipkin/pull/1302#pullrequestreview-1262349,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAD610knqG7ubV_VwxsC1OVDzuZPVOIbks5qszVTgaJpZM4J-Wai\n> .\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249092696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249093721","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249093721","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249093721,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTA5MzcyMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T03:29:09Z","updated_at":"2016-09-23T03:29:09Z","author_association":"MEMBER","body":"> Was there a race condition? I only saw a janky ordering thing (with the constructor calling setURI out of order with its descendant) but it was limited to the constructing single thread (no leaking this outside the class that I saw, at least).\n> \n>  sorry I meant an ordering problem, which robbed me of time when\n> innocently attempting to make the class static. Stuff like that is dodgy to\n> me. If a class isn't designed for extension (because of method calls in the\n> constructor), it should be marked final.\n> \n> I'll swap the base class out and fix up LenientSearch (which has sorta the\n> same problem, except it has no constructor parameters for now). In that\n> case, though, it seems I just misunderstood the Jest API and that class can\n> go away entirely.\n> \n> k. lemme know when you are finished polishing I probably won't pull this\n> down for an hour or so anyway. Cheers\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249093721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249101531","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249101531","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249101531,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTEwMTUzMQ==","user":{"login":"sethp-jive","id":2934009,"node_id":"MDQ6VXNlcjI5MzQwMDk=","avatar_url":"https://avatars.githubusercontent.com/u/2934009?v=4","gravatar_id":"","url":"https://api.github.com/users/sethp-jive","html_url":"https://github.com/sethp-jive","followers_url":"https://api.github.com/users/sethp-jive/followers","following_url":"https://api.github.com/users/sethp-jive/following{/other_user}","gists_url":"https://api.github.com/users/sethp-jive/gists{/gist_id}","starred_url":"https://api.github.com/users/sethp-jive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sethp-jive/subscriptions","organizations_url":"https://api.github.com/users/sethp-jive/orgs","repos_url":"https://api.github.com/users/sethp-jive/repos","events_url":"https://api.github.com/users/sethp-jive/events{/privacy}","received_events_url":"https://api.github.com/users/sethp-jive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T04:40:24Z","updated_at":"2016-09-23T04:40:24Z","author_association":"CONTRIBUTOR","body":"I have good news and bad news about the test failures – the good news is I can reproduce them locally now that I figured out Circle CI is running elasticsearch 1.7.2! Huzzah!\n\nThe bad news is that there seems to be a fundamental incompatibility between Jest for the 2.x elasticsearches and for the 1.x stuff – we might be able to paper over the difference with enough effort, but what do you think about just declaring Zipkin as only supporting elasticsearch >= 2.x?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249101531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249102103","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249102103","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249102103,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTEwMjEwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T04:46:12Z","updated_at":"2016-09-23T04:46:12Z","author_association":"MEMBER","body":"zipkin already doesn't support elasticsearch 1! what you've found is likely\na glitch in the circleci config. thanks for finding it\n\nOn Fri, Sep 23, 2016 at 12:40 PM, sethp-jive notifications@github.com\nwrote:\n\n> I have good news and bad news about the test failures – the good news is I\n> can reproduce them locally now that I figured out Circle CI is running\n> elasticsearch 1.7.2! Huzzah!\n> \n> The bad news is that there seems to be a fundamental incompatibility\n> between Jest for the 2.x elasticsearches and for the 1.x stuff – we might\n> be able to paper over the difference with enough effort, but what do you\n> think about just declaring Zipkin as only supporting elasticsearch >= 2.x?\n> \n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249101531,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAD612L_8TW-pq-qcosJetCecvDHR46sks5qs1g6gaJpZM4J-Wai\n> .\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249102103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249102605","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249102605","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249102605,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTEwMjYwNQ==","user":{"login":"sethp-jive","id":2934009,"node_id":"MDQ6VXNlcjI5MzQwMDk=","avatar_url":"https://avatars.githubusercontent.com/u/2934009?v=4","gravatar_id":"","url":"https://api.github.com/users/sethp-jive","html_url":"https://github.com/sethp-jive","followers_url":"https://api.github.com/users/sethp-jive/followers","following_url":"https://api.github.com/users/sethp-jive/following{/other_user}","gists_url":"https://api.github.com/users/sethp-jive/gists{/gist_id}","starred_url":"https://api.github.com/users/sethp-jive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sethp-jive/subscriptions","organizations_url":"https://api.github.com/users/sethp-jive/orgs","repos_url":"https://api.github.com/users/sethp-jive/repos","events_url":"https://api.github.com/users/sethp-jive/events{/privacy}","received_events_url":"https://api.github.com/users/sethp-jive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T04:51:07Z","updated_at":"2016-09-23T04:51:07Z","author_association":"CONTRIBUTOR","body":"Hooray – in that case, I think I'm going to take my green checkmark and declare victory for now. Thank you very much for all your help getting this in!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249102605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249126918","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249126918","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249126918,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTEyNjkxOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T07:56:25Z","updated_at":"2016-09-23T07:56:25Z","author_association":"MEMBER","body":"cherry-picked 92df918f7ca567b7afa2decf8ed40439ffe9052a independently into master\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249126918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249133023","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249133023","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249133023,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTEzMzAyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T08:27:00Z","updated_at":"2016-09-23T08:27:00Z","author_association":"MEMBER","body":"lol \"AwsMagic\"\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249133023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249137355","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249137355","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249137355,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTEzNzM1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T08:48:24Z","updated_at":"2016-09-23T08:48:24Z","author_association":"MEMBER","body":"update: just trying to unravel the tension between the http client and the AWS config. I think I can do it.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249137355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249153272","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249153272","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249153272,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTE1MzI3Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T10:07:16Z","updated_at":"2016-09-23T10:07:16Z","author_association":"MEMBER","body":"pushed some tidying here https://github.com/openzipkin/zipkin/tree/es-aws\nhttps://travis-ci.org/openzipkin/zipkin/builds/162150722\n\nI provisioned an AWS elasticsearch domain and waiting for it to come up. once it does, I'll confirm things.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249153272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249173919","html_url":"https://github.com/openzipkin/zipkin/pull/1302#issuecomment-249173919","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1302","id":249173919,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTE3MzkxOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T12:01:49Z","updated_at":"2016-09-23T12:01:49Z","author_association":"MEMBER","body":"closed via 738b51f\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249173919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249174029","html_url":"https://github.com/openzipkin/zipkin/issues/1253#issuecomment-249174029","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1253","id":249174029,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTE3NDAyOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-23T12:02:29Z","updated_at":"2016-09-23T12:02:29Z","author_association":"MEMBER","body":"Will be released in zipkin 1.12\n\n``` bash\n# make sure your cli credentials are setup as zipkin will read them\n$ aws es describe-elasticsearch-domain --domain-name mydomain|jq .DomainStatus.Endpoint\n\"search-mydomain-2rlih66ibw43ftlk4342ceeewu.ap-southeast-1.es.amazonaws.com\"\n$ STORAGE_TYPE=elasticsearch ES_HOSTS=https://search-mydomain-2rlih66ibw43ftlk4342ceeewu.ap-southeast-1.es.amazonaws.com java -jar zipkin.jar\n# or if you don't know the url already\n$ STORAGE_TYPE=elasticsearch ES_AWS_DOMAIN=mycluster ES_AWS_REGION=ap-southeast-1 java -jar zipkin.jar\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249174029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249343412","html_url":"https://github.com/openzipkin/zipkin/pull/1311#issuecomment-249343412","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1311","id":249343412,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTM0MzQxMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-24T03:57:37Z","updated_at":"2016-09-24T03:57:37Z","author_association":"MEMBER","body":"cc @openzipkin/elasticsearch \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249343412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249344183","html_url":"https://github.com/openzipkin/zipkin/pull/1311#issuecomment-249344183","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1311","id":249344183,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTM0NDE4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-24T04:19:59Z","updated_at":"2016-09-24T04:19:59Z","author_association":"MEMBER","body":"To validate this, I put the wrong url in (leaving out the domain) and got a more helpful message back:\n\n``` bash\n$ curl -s localhost:9411/health|jq .\n{\n  \"status\": \"DOWN\",\n  \"zipkin\": {\n    \"status\": \"DOWN\",\n    \"ScribeCollector\": {\n      \"status\": \"UP\"\n    },\n    \"ElasticsearchStorage\": {\n      \"status\": \"DOWN\",\n      \"error\": \"java.net.UnknownHostException: ap-southeast-1.es.amazonaws.com: unknown error\"\n    }\n  },\n  \"diskSpace\": {\n    \"status\": \"UP\",\n    \"total\": 498920849408,\n    \"free\": 377195024384,\n    \"threshold\": 10485760\n  }\n}\n```\n\nwhich is nicer than\n\n```\n    \"ElasticsearchStorage\": {\n      \"status\": \"DOWN\",\n      \"error\": \"com.google.common.util.concurrent.UncheckedExecutionException: java.net.UnknownHostException: ap-southeast-1.es.amazonaws.com: unknown error\"\n    }\n```\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249344183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249397727","html_url":"https://github.com/openzipkin/zipkin/issues/1312#issuecomment-249397727","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1312","id":249397727,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTM5NzcyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-25T01:51:38Z","updated_at":"2016-09-25T01:51:38Z","author_association":"MEMBER","body":"cc @openzipkin/elasticsearch ps I've started resurrecting my old okhttp work towards this. The client design that @sethp-jive made makes it much lighter effort.\n\nI'm personally interested in an okhttp option for a number of reasons:\n- We want a single library for ES http 2-5 if possible. Each dependency makes life difficult, and I'm pretty sure ES 2 will be a problem in the same classpath as ES 5.\n- Similar, but focused on Jest. Library compatibility bites me in every project used as platform code and jest uses many of the usual suspects of api compat problems: guava, gson and apachehc. OkHttp (and similar like moshi) have the same dependency policy: switch package names when you break api. \n- I really don't like how inefficient the apachehc stuff is, especially when using the AWS interceptor, it literally copies the data when we don't need to. While less concerning for query, we should be careful about performance on the write side.\n- We want self-tracing for ES performance and behavior debugging. OkHttp already has a brave integration, as well a way to tag calls.\n- And should be said.. I like to enjoy coding and OkHttp is much more fun than worrying about AWS SDK library gotchas, terrible apachehc interceptors, things like constructor order in Jest, or other indirection.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249397727/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249411791","html_url":"https://github.com/openzipkin/zipkin/pull/1313#issuecomment-249411791","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1313","id":249411791,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQxMTc5MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-25T09:25:23Z","updated_at":"2016-09-25T09:25:37Z","author_association":"MEMBER","body":"cc @openzipkin/elasticsearch ps this is net less main code, the increase in lines is due to backfilling tests on the aggregation bucket code which had a bug\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249411791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249423408","html_url":"https://github.com/openzipkin/zipkin/pull/1314#issuecomment-249423408","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1314","id":249423408,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTQyMzQwOA==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-25T14:01:07Z","updated_at":"2016-09-25T14:01:07Z","author_association":"MEMBER","body":"I guess I could update all the links to relative while I'm at it :)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249423408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249561093","html_url":"https://github.com/openzipkin/zipkin/issues/1312#issuecomment-249561093","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1312","id":249561093,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTU2MTA5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-26T12:53:45Z","updated_at":"2016-09-26T12:53:45Z","author_association":"MEMBER","body":"I've completed the okhttp storage layer for elasticsearch 2.x (haven't looked into 5.x portability, yet). I've also written a tracing interceptor so that we can debug the performance. \nhttps://github.com/openzipkin/brave/pull/242\n\nAfter I get an okhttp aws signature v4 interceptor together, I'll raise a pull request. should be tomorrow or next day. here's a peek for now.\n\n![screen shot 2016-09-26 at 8 49 02 pm](https://cloud.githubusercontent.com/assets/64215/18834950/49821852-842b-11e6-807b-9913ce07aa82.png)\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249561093/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249884958","html_url":"https://github.com/openzipkin/zipkin/pull/1315#issuecomment-249884958","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1315","id":249884958,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTg4NDk1OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-27T14:39:52Z","updated_at":"2016-09-27T14:39:52Z","author_association":"MEMBER","body":"@shakuzen thx for the review!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/249884958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250143172","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250143172","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250143172,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDE0MzE3Mg==","user":{"login":"sachinpkale","id":2646664,"node_id":"MDQ6VXNlcjI2NDY2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2646664?v=4","gravatar_id":"","url":"https://api.github.com/users/sachinpkale","html_url":"https://github.com/sachinpkale","followers_url":"https://api.github.com/users/sachinpkale/followers","following_url":"https://api.github.com/users/sachinpkale/following{/other_user}","gists_url":"https://api.github.com/users/sachinpkale/gists{/gist_id}","starred_url":"https://api.github.com/users/sachinpkale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachinpkale/subscriptions","organizations_url":"https://api.github.com/users/sachinpkale/orgs","repos_url":"https://api.github.com/users/sachinpkale/repos","events_url":"https://api.github.com/users/sachinpkale/events{/privacy}","received_events_url":"https://api.github.com/users/sachinpkale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-28T11:39:56Z","updated_at":"2016-09-28T11:39:56Z","author_association":"NONE","body":"I ran Zipkin with `--logging.level.com.datastax.driver.core.QueryLogger=trace` and insert queries for `service_name_index` and `service_span_name_index` did not appear. \nThe instrumentation library I am using is old one and does not send `span.timestamp` and `duration`. Could that be the reason?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250143172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250180138","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250180138","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250180138,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDE4MDEzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-28T14:19:21Z","updated_at":"2016-09-28T14:19:21Z","author_association":"MEMBER","body":"we'll need the json for the spans that work in the in-mem, but not in cassandra. can you paste that?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250180138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250184087","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250184087","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250184087,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDE4NDA4Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-28T14:32:22Z","updated_at":"2016-09-28T14:32:22Z","author_association":"MEMBER","body":"ps @guilespi @aliceliang @strongh if any of you are interested in continuing work on clj-zipkin, let us know. for example, we've moved some language specific repositories into the openzipkin or so others can help maintain them. would be nice to keep the fire burning.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250184087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250231164","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250231164","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250231164,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDIzMTE2NA==","user":{"login":"sachinpkale","id":2646664,"node_id":"MDQ6VXNlcjI2NDY2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2646664?v=4","gravatar_id":"","url":"https://api.github.com/users/sachinpkale","html_url":"https://github.com/sachinpkale","followers_url":"https://api.github.com/users/sachinpkale/followers","following_url":"https://api.github.com/users/sachinpkale/following{/other_user}","gists_url":"https://api.github.com/users/sachinpkale/gists{/gist_id}","starred_url":"https://api.github.com/users/sachinpkale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachinpkale/subscriptions","organizations_url":"https://api.github.com/users/sachinpkale/orgs","repos_url":"https://api.github.com/users/sachinpkale/repos","events_url":"https://api.github.com/users/sachinpkale/events{/privacy}","received_events_url":"https://api.github.com/users/sachinpkale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-28T17:05:53Z","updated_at":"2016-09-28T17:05:53Z","author_association":"NONE","body":"I have thrift serialized data that `clj-zipkin` is sending to scribe.\n\n`#ns525700959.Span{:trace_id 10339031, :name Renderer, :id 9887479, :parent_id 3778525, :annotations (#ns_1186963580.Annotation{:timestamp 1475082174174000, :value end:Renderer, :host #ns1048748842.Endpoint{:ipv4 3232243969, :port 0, :service_name RendererService}, :duration 0} #ns_1186963580.Annotation{:timestamp 1475082174071000, :value start:Renderer, :host #ns1048748842.Endpoint{:ipv4 3232243969, :port 0, :service_name RendererService}, :duration 0}), :binary_annotations [], :debug 0}\n`\n\nI tried to get JSON by running Zipkin jar in DEBUG mode but could not collect it. Any way to capture it?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250231164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250237552","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250237552","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250237552,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDIzNzU1Mg==","user":{"login":"sachinpkale","id":2646664,"node_id":"MDQ6VXNlcjI2NDY2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2646664?v=4","gravatar_id":"","url":"https://api.github.com/users/sachinpkale","html_url":"https://github.com/sachinpkale","followers_url":"https://api.github.com/users/sachinpkale/followers","following_url":"https://api.github.com/users/sachinpkale/following{/other_user}","gists_url":"https://api.github.com/users/sachinpkale/gists{/gist_id}","starred_url":"https://api.github.com/users/sachinpkale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachinpkale/subscriptions","organizations_url":"https://api.github.com/users/sachinpkale/orgs","repos_url":"https://api.github.com/users/sachinpkale/repos","events_url":"https://api.github.com/users/sachinpkale/events{/privacy}","received_events_url":"https://api.github.com/users/sachinpkale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-28T17:27:51Z","updated_at":"2016-09-28T17:28:18Z","author_association":"NONE","body":"@adriancole Got the json by following your comment in Gitter channel.\n`\n[\n  {\n    \"traceId\": \"0000000000043ece\",\n    \"id\": \"00000000005245a2\",\n    \"name\": \":get:/\",\n    \"timestamp\": 1475082087593000,\n    \"duration\": 919000,\n    \"annotations\": [\n      {\n        \"timestamp\": 1475082087593000,\n        \"value\": \"start::get:/\",\n        \"endpoint\": {\n          \"serviceName\": \"testservice\"\n        }\n      },\n      {\n        \"timestamp\": 1475082088512000,\n        \"value\": \"end::get:/\",\n        \"endpoint\": {\n          \"serviceName\": \"testservice\"\n        }\n      }\n    ],\n    \"debug\": true\n  },\n  {\n    \"traceId\": \"0000000000043ece\",\n    \"id\": \"0000000000db87ad\",\n    \"name\": \"renderer\",\n    \"parentId\": \"00000000005245a2\",\n    \"timestamp\": 1475082088097000,\n    \"duration\": 105000,\n    \"annotations\": [\n      {\n        \"timestamp\": 1475082088097000,\n        \"value\": \"start:Renderer\",\n        \"endpoint\": {\n          \"serviceName\": \"rendererservice\"\n        }\n      },\n      {\n        \"timestamp\": 1475082088202000,\n        \"value\": \"end:Renderer\",\n        \"endpoint\": {\n          \"serviceName\": \"rendererservice\"\n        }\n      }\n    ],\n    \"debug\": true\n  }\n]\n` \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250237552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250321833","html_url":"https://github.com/openzipkin/zipkin/issues/1232#issuecomment-250321833","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1232","id":250321833,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDMyMTgzMw==","user":{"login":"dwelch2344","id":160142,"node_id":"MDQ6VXNlcjE2MDE0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/160142?v=4","gravatar_id":"","url":"https://api.github.com/users/dwelch2344","html_url":"https://github.com/dwelch2344","followers_url":"https://api.github.com/users/dwelch2344/followers","following_url":"https://api.github.com/users/dwelch2344/following{/other_user}","gists_url":"https://api.github.com/users/dwelch2344/gists{/gist_id}","starred_url":"https://api.github.com/users/dwelch2344/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dwelch2344/subscriptions","organizations_url":"https://api.github.com/users/dwelch2344/orgs","repos_url":"https://api.github.com/users/dwelch2344/repos","events_url":"https://api.github.com/users/dwelch2344/events{/privacy}","received_events_url":"https://api.github.com/users/dwelch2344/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-28T22:36:49Z","updated_at":"2016-09-28T22:36:49Z","author_association":"NONE","body":"Yes! Definitely. Our company is about to launch and one of our goals is to contribute to active open source projects, so we have buy-off from an organizational level to contribute to FOSS. \n\nWe're on 9.5+, but we could easily support earlier versions. I agree to your previous statements that 9.1 would be a good goal to shoot for. \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250321833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250338505","html_url":"https://github.com/openzipkin/zipkin/issues/1232#issuecomment-250338505","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1232","id":250338505,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDMzODUwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T00:19:47Z","updated_at":"2016-09-29T00:19:47Z","author_association":"MEMBER","body":"ooo this sounds suspiciously like an offer to help :) @dwelch2344 would you be up to designing this?\n\nps the version discussion is dated. ex 9.4 is the current supported version https://www.postgresql.org/download/linux/ubuntu/\n\n@Koizumi85 @eirslett @klette @mansu @jcarres-mdsol any thoughts on this one?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250338505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250339077","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250339077","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250339077,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDMzOTA3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T00:24:16Z","updated_at":"2016-09-29T00:24:16Z","author_association":"MEMBER","body":"ps the ip is very invalid.. that's why it isn't showing up in the json\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250339077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250366608","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250366608","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250366608,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDM2NjYwOA==","user":{"login":"sachinpkale","id":2646664,"node_id":"MDQ6VXNlcjI2NDY2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2646664?v=4","gravatar_id":"","url":"https://api.github.com/users/sachinpkale","html_url":"https://github.com/sachinpkale","followers_url":"https://api.github.com/users/sachinpkale/followers","following_url":"https://api.github.com/users/sachinpkale/following{/other_user}","gists_url":"https://api.github.com/users/sachinpkale/gists{/gist_id}","starred_url":"https://api.github.com/users/sachinpkale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachinpkale/subscriptions","organizations_url":"https://api.github.com/users/sachinpkale/orgs","repos_url":"https://api.github.com/users/sachinpkale/repos","events_url":"https://api.github.com/users/sachinpkale/events{/privacy}","received_events_url":"https://api.github.com/users/sachinpkale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T04:18:23Z","updated_at":"2016-09-29T04:18:23Z","author_association":"NONE","body":"ip32 overflows beyond `127.255.255.255`. I was testing on my machine with intranet IP address `192.168.XXX.XXX`. That's why I changed it to ip64.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250366608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250374690","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250374690","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250374690,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDM3NDY5MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T05:37:18Z","updated_at":"2016-09-29T05:37:18Z","author_association":"MEMBER","body":"raised this to help get you along\nhttps://github.com/sachinpkale/clj-zipkin/pull/1\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250374690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250444923","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250444923","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250444923,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDQ0NDkyMw==","user":{"login":"sachinpkale","id":2646664,"node_id":"MDQ6VXNlcjI2NDY2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2646664?v=4","gravatar_id":"","url":"https://api.github.com/users/sachinpkale","html_url":"https://github.com/sachinpkale","followers_url":"https://api.github.com/users/sachinpkale/followers","following_url":"https://api.github.com/users/sachinpkale/following{/other_user}","gists_url":"https://api.github.com/users/sachinpkale/gists{/gist_id}","starred_url":"https://api.github.com/users/sachinpkale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sachinpkale/subscriptions","organizations_url":"https://api.github.com/users/sachinpkale/orgs","repos_url":"https://api.github.com/users/sachinpkale/repos","events_url":"https://api.github.com/users/sachinpkale/events{/privacy}","received_events_url":"https://api.github.com/users/sachinpkale/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T11:51:25Z","updated_at":"2016-09-29T11:51:25Z","author_association":"NONE","body":"Thanks for these changes. Much useful. I made few corrections to it and added it to separate branch. Spans are being stored in Cassandra successfully.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250444923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250445645","html_url":"https://github.com/openzipkin/zipkin/issues/1316#issuecomment-250445645","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1316","id":250445645,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDQ0NTY0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T11:55:11Z","updated_at":"2016-09-29T11:55:11Z","author_association":"MEMBER","body":"whoo hoo!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250445645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250458125","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250458125","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250458125,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDQ1ODEyNQ==","user":{"login":"dan-tr","id":16211383,"node_id":"MDQ6VXNlcjE2MjExMzgz","avatar_url":"https://avatars.githubusercontent.com/u/16211383?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-tr","html_url":"https://github.com/dan-tr","followers_url":"https://api.github.com/users/dan-tr/followers","following_url":"https://api.github.com/users/dan-tr/following{/other_user}","gists_url":"https://api.github.com/users/dan-tr/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-tr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-tr/subscriptions","organizations_url":"https://api.github.com/users/dan-tr/orgs","repos_url":"https://api.github.com/users/dan-tr/repos","events_url":"https://api.github.com/users/dan-tr/events{/privacy}","received_events_url":"https://api.github.com/users/dan-tr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T12:56:53Z","updated_at":"2016-09-29T12:56:53Z","author_association":"NONE","body":"Actually, I think all I am really looking for is when did the record get inserted into Elasticsearch. If Zipkin does only inserts, then I am looking for the record creation timestamp. If it does inserts and updates, then I am looking for the last update timestamp.\n\nSo I don't think any calculation needs to be done. Zipkin just needs to store the current time on each insert/update.\n\nIn production this timestamp can be valuable when something goes wrong and you want to know the last time Zipkin wrote anything to ES.\n\nDoes that make sense?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250458125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250465048","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250465048","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250465048,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDQ2NTA0OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T13:25:47Z","updated_at":"2016-09-29T13:25:47Z","author_association":"MEMBER","body":"we could add this, but it will be the third timestamp field, which makes me\nreluctant.\n\nWould metrics be reasonable way to track the last write attempt?\n\nhttps://github.com/openzipkin/zipkin/tree/master/zipkin-server#collector\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250465048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250466962","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250466962","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250466962,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDQ2Njk2Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T13:33:28Z","updated_at":"2016-09-29T13:33:28Z","author_association":"MEMBER","body":"ps @openzipkin/elasticsearch this topic is a pretty opsy one. anyone doing something similar and have opinions?\n\nex. timestamp(_millis) is a semantic field for the span. If someone wanted to know the created_at, well elasticsearch doesn't do that. The question here, is should we? if so, how can we label such a field so that it isn't confused with the timestamp reported by the apps?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250466962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250467565","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250467565","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250467565,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDQ2NzU2NQ==","user":{"login":"dan-tr","id":16211383,"node_id":"MDQ6VXNlcjE2MjExMzgz","avatar_url":"https://avatars.githubusercontent.com/u/16211383?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-tr","html_url":"https://github.com/dan-tr","followers_url":"https://api.github.com/users/dan-tr/followers","following_url":"https://api.github.com/users/dan-tr/following{/other_user}","gists_url":"https://api.github.com/users/dan-tr/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-tr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-tr/subscriptions","organizations_url":"https://api.github.com/users/dan-tr/orgs","repos_url":"https://api.github.com/users/dan-tr/repos","events_url":"https://api.github.com/users/dan-tr/events{/privacy}","received_events_url":"https://api.github.com/users/dan-tr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T13:35:46Z","updated_at":"2016-09-29T13:35:46Z","author_association":"NONE","body":"I agree this is pretty opsy. I think logstash does this by adding an @ sign to the front of the field. Maybe Zipkin could use the same convention. \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250467565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250476801","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250476801","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250476801,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDQ3NjgwMQ==","user":{"login":"yurishkuro","id":3523016,"node_id":"MDQ6VXNlcjM1MjMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/3523016?v=4","gravatar_id":"","url":"https://api.github.com/users/yurishkuro","html_url":"https://github.com/yurishkuro","followers_url":"https://api.github.com/users/yurishkuro/followers","following_url":"https://api.github.com/users/yurishkuro/following{/other_user}","gists_url":"https://api.github.com/users/yurishkuro/gists{/gist_id}","starred_url":"https://api.github.com/users/yurishkuro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurishkuro/subscriptions","organizations_url":"https://api.github.com/users/yurishkuro/orgs","repos_url":"https://api.github.com/users/yurishkuro/repos","events_url":"https://api.github.com/users/yurishkuro/events{/privacy}","received_events_url":"https://api.github.com/users/yurishkuro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T14:09:42Z","updated_at":"2016-09-29T14:09:42Z","author_association":"CONTRIBUTOR","body":"In similar situations (ingesting from a queue-like pipeline) we simply emit a metric as `timer(\"ingestion.latency\", time.Now() - span.startTime)`. Wouldn't this be sufficient for this use case, rather than storing it in ES?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250476801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250501063","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250501063","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250501063,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDUwMTA2Mw==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T15:30:44Z","updated_at":"2016-09-29T15:30:44Z","author_association":"MEMBER","body":"+1 for metrics over adding a meta field to the data model.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250501063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250539830","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250539830","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250539830,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDUzOTgzMA==","user":{"login":"dan-tr","id":16211383,"node_id":"MDQ6VXNlcjE2MjExMzgz","avatar_url":"https://avatars.githubusercontent.com/u/16211383?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-tr","html_url":"https://github.com/dan-tr","followers_url":"https://api.github.com/users/dan-tr/followers","following_url":"https://api.github.com/users/dan-tr/following{/other_user}","gists_url":"https://api.github.com/users/dan-tr/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-tr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-tr/subscriptions","organizations_url":"https://api.github.com/users/dan-tr/orgs","repos_url":"https://api.github.com/users/dan-tr/repos","events_url":"https://api.github.com/users/dan-tr/events{/privacy}","received_events_url":"https://api.github.com/users/dan-tr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-29T17:45:53Z","updated_at":"2016-09-29T17:45:53Z","author_association":"NONE","body":"Where is the metric emitted to? And how does it correlate that to the record written to Elasticsearch? Seems like we would need to emit the ingest latency along with the span id. \n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250539830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250632176","html_url":"https://github.com/openzipkin/zipkin/issues/1317#issuecomment-250632176","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1317","id":250632176,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDYzMjE3Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T00:52:25Z","updated_at":"2016-09-30T00:52:25Z","author_association":"MEMBER","body":"this storage type should also help people answer the question @dan-tr asked about\n\n> Can anyone offer any guidance on the number and type of servers to use to run Zipkin-Server? We are expecting roughly 10,000 spans per second in our production enviornment?\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250632176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250633583","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250633583","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250633583,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDYzMzU4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T01:04:49Z","updated_at":"2016-09-30T01:04:49Z","author_association":"MEMBER","body":"I think the key thing here is that Dan is looking for a per-message\naccounting of latency vs an aggregate one (ex via metrics). This is the\nfirst time such a request has come up (ex hasn't happened on any other\nstorage system). That may be because spans are lossy and so not guaranteed.\nMaybe people aren't looking at spans one-at-a-time knowing that. I can\ncertainly understand that when troubleshooting or setting up the system for\nthe first time, something like this could be handy!\n\nTo answer the question, the server's /metrics endpoint is json and there's\nalso a prometheus metrics endpoint exposed. Regardless of monitoring system\nused, these metrics would need to be collected to be useful in any way.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250633583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250634394","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250634394","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250634394,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDYzNDM5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T01:11:05Z","updated_at":"2016-09-30T01:11:05Z","author_association":"MEMBER","body":"I think that we should add (and define) latency metrics as an initial step, since this would be useful regardless of the storage backend. Will keep this issue open about the forensic investigation on a span-by-span basis.\n\nps opened this to help showcase metrics in use https://github.com/openzipkin/docker-zipkin/issues/121\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250634394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250635240","html_url":"https://github.com/openzipkin/zipkin/issues/1251#issuecomment-250635240","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1251","id":250635240,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDYzNTI0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T01:17:57Z","updated_at":"2016-09-30T01:17:57Z","author_association":"MEMBER","body":"@tushar-dadlani if you know of any place users can go to when asking about CF, please note here!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250635240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250642054","html_url":"https://github.com/openzipkin/zipkin/issues/1317#issuecomment-250642054","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1317","id":250642054,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDY0MjA1NA==","user":{"login":"schlosna","id":54594,"node_id":"MDQ6VXNlcjU0NTk0","avatar_url":"https://avatars.githubusercontent.com/u/54594?v=4","gravatar_id":"","url":"https://api.github.com/users/schlosna","html_url":"https://github.com/schlosna","followers_url":"https://api.github.com/users/schlosna/followers","following_url":"https://api.github.com/users/schlosna/following{/other_user}","gists_url":"https://api.github.com/users/schlosna/gists{/gist_id}","starred_url":"https://api.github.com/users/schlosna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schlosna/subscriptions","organizations_url":"https://api.github.com/users/schlosna/orgs","repos_url":"https://api.github.com/users/schlosna/repos","events_url":"https://api.github.com/users/schlosna/events{/privacy}","received_events_url":"https://api.github.com/users/schlosna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T02:14:13Z","updated_at":"2016-09-30T02:14:13Z","author_association":"CONTRIBUTOR","body":"This might be a separate request, but one item I haven't had a chance to look into would be exposing something along the lines of a span predicate filter that would allow dropping spans based on specific logic -- say drop spans with duration less than 1 millisecond, or in noop case drop everything.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250642054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250644085","html_url":"https://github.com/openzipkin/zipkin/issues/1317#issuecomment-250644085","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1317","id":250644085,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDY0NDA4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T02:31:13Z","updated_at":"2016-09-30T02:31:13Z","author_association":"MEMBER","body":"> This might be a separate request, but one item I haven't had a chance to\n> look into would be exposing something along the lines of a span predicate\n> filter that would allow dropping spans based on specific logic -- say drop\n> spans with duration less than 1 millisecond, or in noop case drop\n> everything.\n> \n> yeah worth calling out separately, I think. in that issue, we'd have to\n> discuss the impact which is partial trace data. this has historically been\n> troublesome in collectors and why they consistently drop based on trace id\n> vs content of one span in a trace.\n\non the other hand.. you raise a very interesting point! if we set\ncollection sample rate to zero, we have effectively noop storage :P\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250644085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250687943","html_url":"https://github.com/openzipkin/zipkin/pull/1320#issuecomment-250687943","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1320","id":250687943,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDY4Nzk0Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T08:23:23Z","updated_at":"2016-09-30T08:23:23Z","author_association":"MEMBER","body":"most of the additional lines (~750) here are from resurrecting the dependency link and span moshi adapters and tests.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250687943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250695023","html_url":"https://github.com/openzipkin/zipkin/issues/1322#issuecomment-250695023","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1322","id":250695023,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDY5NTAyMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T08:59:11Z","updated_at":"2016-09-30T08:59:11Z","author_association":"MEMBER","body":"ps travis remains slow, but doesn't break on account of memory. I think it has larger VMs\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250695023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250695380","html_url":"https://github.com/openzipkin/zipkin/pull/1320#issuecomment-250695380","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1320","id":250695380,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDY5NTM4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T09:00:45Z","updated_at":"2016-09-30T09:00:45Z","author_association":"MEMBER","body":"@openzipkin/elasticsearch I need to backfill some unit tests, but I've tested this manually against local and AWS elasticsearch and 👍 \n\nNote: some of the new code here is self-tracing, which we never had before.\n\n<img width=\"950\" alt=\"screen shot 2016-09-30 at 3 59 22 pm\" src=\"https://cloud.githubusercontent.com/assets/64215/18986447/65efd14e-872f-11e6-9b2f-380828733f99.png\">\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250695380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250730378","html_url":"https://github.com/openzipkin/zipkin/issues/1317#issuecomment-250730378","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1317","id":250730378,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDczMDM3OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T12:18:47Z","updated_at":"2016-09-30T12:18:47Z","author_association":"MEMBER","body":"`COLLECTOR_SAMPLE_RATE=0.0` is essentially noop storage and requires no effort!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250730378/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250742867","html_url":"https://github.com/openzipkin/zipkin/issues/1318#issuecomment-250742867","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1318","id":250742867,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDc0Mjg2Nw==","user":{"login":"dan-tr","id":16211383,"node_id":"MDQ6VXNlcjE2MjExMzgz","avatar_url":"https://avatars.githubusercontent.com/u/16211383?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-tr","html_url":"https://github.com/dan-tr","followers_url":"https://api.github.com/users/dan-tr/followers","following_url":"https://api.github.com/users/dan-tr/following{/other_user}","gists_url":"https://api.github.com/users/dan-tr/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-tr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-tr/subscriptions","organizations_url":"https://api.github.com/users/dan-tr/orgs","repos_url":"https://api.github.com/users/dan-tr/repos","events_url":"https://api.github.com/users/dan-tr/events{/privacy}","received_events_url":"https://api.github.com/users/dan-tr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T13:22:21Z","updated_at":"2016-09-30T13:23:45Z","author_association":"NONE","body":"Maybe the insert timestamp could be an optional field turned on either through an environment variable or maybe the Elasticsearch template (not sure about that).\n\nBecause we are using async messaging (via Kafka) there is always the possibility of a message backlog. Knowing the insert date would be very help in deducing how far behind the server is in processing the backlog.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250742867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250831302","html_url":"https://github.com/openzipkin/zipkin/issues/1322#issuecomment-250831302","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1322","id":250831302,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDgzMTMwMg==","user":{"login":"abesto","id":59982,"node_id":"MDQ6VXNlcjU5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/59982?v=4","gravatar_id":"","url":"https://api.github.com/users/abesto","html_url":"https://github.com/abesto","followers_url":"https://api.github.com/users/abesto/followers","following_url":"https://api.github.com/users/abesto/following{/other_user}","gists_url":"https://api.github.com/users/abesto/gists{/gist_id}","starred_url":"https://api.github.com/users/abesto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abesto/subscriptions","organizations_url":"https://api.github.com/users/abesto/orgs","repos_url":"https://api.github.com/users/abesto/repos","events_url":"https://api.github.com/users/abesto/events{/privacy}","received_events_url":"https://api.github.com/users/abesto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T19:25:21Z","updated_at":"2016-09-30T19:25:21Z","author_association":"MEMBER","body":"Ooooh, OOM, my second best friend! I'll look into this over the weekend.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250831302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250892503","html_url":"https://github.com/openzipkin/zipkin/issues/1322#issuecomment-250892503","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1322","id":250892503,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDg5MjUwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-01T04:52:07Z","updated_at":"2016-10-01T04:52:07Z","author_association":"MEMBER","body":":) thanks for your service to a friend\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/250892503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]