[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1294539418","html_url":"https://github.com/apache/brpc/issues/1532#issuecomment-1294539418","issue_url":"https://api.github.com/repos/apache/brpc/issues/1532","id":1294539418,"node_id":"IC_kwDOBhmkcs5NKRqa","user":{"login":"cxbyr","id":67259916,"node_id":"MDQ6VXNlcjY3MjU5OTE2","avatar_url":"https://avatars.githubusercontent.com/u/67259916?v=4","gravatar_id":"","url":"https://api.github.com/users/cxbyr","html_url":"https://github.com/cxbyr","followers_url":"https://api.github.com/users/cxbyr/followers","following_url":"https://api.github.com/users/cxbyr/following{/other_user}","gists_url":"https://api.github.com/users/cxbyr/gists{/gist_id}","starred_url":"https://api.github.com/users/cxbyr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxbyr/subscriptions","organizations_url":"https://api.github.com/users/cxbyr/orgs","repos_url":"https://api.github.com/users/cxbyr/repos","events_url":"https://api.github.com/users/cxbyr/events{/privacy}","received_events_url":"https://api.github.com/users/cxbyr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T06:50:42Z","updated_at":"2022-10-28T06:50:42Z","author_association":"NONE","body":"那brpc的worker线程和tensorflow自己的线程肯定会产生资源竞争吧 怎么去平衡这个关系呢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1294539418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1294621087","html_url":"https://github.com/apache/brpc/issues/1945#issuecomment-1294621087","issue_url":"https://api.github.com/repos/apache/brpc/issues/1945","id":1294621087,"node_id":"IC_kwDOBhmkcs5NKlmf","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T07:49:18Z","updated_at":"2022-10-28T07:49:18Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n具体是什么类型的polling需求呢？polling也有些副作用。我还在考虑应该怎么去实现更好","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1294621087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1294814279","html_url":"https://github.com/apache/brpc/issues/1532#issuecomment-1294814279","issue_url":"https://api.github.com/repos/apache/brpc/issues/1532","id":1294814279,"node_id":"IC_kwDOBhmkcs5NLUxH","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T10:16:21Z","updated_at":"2022-10-28T10:16:21Z","author_association":"CONTRIBUTOR","body":"> 那brpc的worker线程和tensorflow自己的线程肯定会产生资源竞争吧 怎么去平衡这个关系呢\r\n\r\n不同线程肯定会竞争cpu，确保分配足够多的cpu即可。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1294814279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1295113341","html_url":"https://github.com/apache/brpc/issues/1940#issuecomment-1295113341","issue_url":"https://api.github.com/repos/apache/brpc/issues/1940","id":1295113341,"node_id":"IC_kwDOBhmkcs5NMdx9","user":{"login":"wasphin","id":1237906,"node_id":"MDQ6VXNlcjEyMzc5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/1237906?v=4","gravatar_id":"","url":"https://api.github.com/users/wasphin","html_url":"https://github.com/wasphin","followers_url":"https://api.github.com/users/wasphin/followers","following_url":"https://api.github.com/users/wasphin/following{/other_user}","gists_url":"https://api.github.com/users/wasphin/gists{/gist_id}","starred_url":"https://api.github.com/users/wasphin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wasphin/subscriptions","organizations_url":"https://api.github.com/users/wasphin/orgs","repos_url":"https://api.github.com/users/wasphin/repos","events_url":"https://api.github.com/users/wasphin/events{/privacy}","received_events_url":"https://api.github.com/users/wasphin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T15:06:37Z","updated_at":"2022-10-28T15:25:37Z","author_association":"MEMBER","body":"Is it possible that we fix the host field after a server has been selected?\r\n\r\n> B: set host field by remote_side\r\n\r\nIf schema is not http(s), but protocol is HTTP.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1295113341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1295710036","html_url":"https://github.com/apache/brpc/issues/1532#issuecomment-1295710036","issue_url":"https://api.github.com/repos/apache/brpc/issues/1532","id":1295710036,"node_id":"IC_kwDOBhmkcs5NOvdU","user":{"login":"cxbyr","id":67259916,"node_id":"MDQ6VXNlcjY3MjU5OTE2","avatar_url":"https://avatars.githubusercontent.com/u/67259916?v=4","gravatar_id":"","url":"https://api.github.com/users/cxbyr","html_url":"https://github.com/cxbyr","followers_url":"https://api.github.com/users/cxbyr/followers","following_url":"https://api.github.com/users/cxbyr/following{/other_user}","gists_url":"https://api.github.com/users/cxbyr/gists{/gist_id}","starred_url":"https://api.github.com/users/cxbyr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxbyr/subscriptions","organizations_url":"https://api.github.com/users/cxbyr/orgs","repos_url":"https://api.github.com/users/cxbyr/repos","events_url":"https://api.github.com/users/cxbyr/events{/privacy}","received_events_url":"https://api.github.com/users/cxbyr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T03:32:36Z","updated_at":"2022-10-29T03:32:36Z","author_association":"NONE","body":"> > 那brpc的worker线程和tensorflow自己的线程肯定会产生资源竞争吧 怎么去平衡这个关系呢\r\n> \r\n> 不同线程肯定会竞争cpu，确保分配足够多的cpu即可。\r\n\r\n机器cpu固定的情况下 如果是高并发请求到server，而server内部又要调用tf去计算  worker对应的线程少了会导致服务阻塞耗时增加 worker对应的线程分配多了 会和tf的线程抢占资源 导致tf计算耗时增加从而导致服务本身的耗时增加","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1295710036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1295762878","html_url":"https://github.com/apache/brpc/pull/1969#issuecomment-1295762878","issue_url":"https://api.github.com/repos/apache/brpc/issues/1969","id":1295762878,"node_id":"IC_kwDOBhmkcs5NO8W-","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T07:51:23Z","updated_at":"2022-10-29T07:51:23Z","author_association":"CONTRIBUTOR","body":"Thanks for your contributions!","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1295762878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296090851","html_url":"https://github.com/apache/brpc/issues/1940#issuecomment-1296090851","issue_url":"https://api.github.com/repos/apache/brpc/issues/1940","id":1296090851,"node_id":"IC_kwDOBhmkcs5NQMbj","user":{"login":"thorneliu","id":10826201,"node_id":"MDQ6VXNlcjEwODI2MjAx","avatar_url":"https://avatars.githubusercontent.com/u/10826201?v=4","gravatar_id":"","url":"https://api.github.com/users/thorneliu","html_url":"https://github.com/thorneliu","followers_url":"https://api.github.com/users/thorneliu/followers","following_url":"https://api.github.com/users/thorneliu/following{/other_user}","gists_url":"https://api.github.com/users/thorneliu/gists{/gist_id}","starred_url":"https://api.github.com/users/thorneliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorneliu/subscriptions","organizations_url":"https://api.github.com/users/thorneliu/orgs","repos_url":"https://api.github.com/users/thorneliu/repos","events_url":"https://api.github.com/users/thorneliu/events{/privacy}","received_events_url":"https://api.github.com/users/thorneliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T03:43:59Z","updated_at":"2022-10-30T03:44:35Z","author_association":"CONTRIBUTOR","body":"> Is it possible that we fix the host field after a server has been selected?\r\n> \r\n> > B: set host field by remote_side\r\n> \r\n> If schema is not http(s), but protocol is HTTP.\r\n\r\nCurrently the host is set by remote side iff the host is not set. however such scheme info is not available when host is updated by remote_side inside http impl\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296090851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296445417","html_url":"https://github.com/apache/brpc/pull/1972#issuecomment-1296445417","issue_url":"https://api.github.com/repos/apache/brpc/issues/1972","id":1296445417,"node_id":"IC_kwDOBhmkcs5NRi_p","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T02:08:16Z","updated_at":"2022-10-31T02:08:16Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296445417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296487575","html_url":"https://github.com/apache/brpc/pull/1975#issuecomment-1296487575","issue_url":"https://api.github.com/repos/apache/brpc/issues/1975","id":1296487575,"node_id":"IC_kwDOBhmkcs5NRtSX","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T03:22:34Z","updated_at":"2022-10-31T03:22:34Z","author_association":"CONTRIBUTOR","body":"related: https://github.com/apache/incubator-brpc/pull/1031","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296487575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296488949","html_url":"https://github.com/apache/brpc/pull/1975#issuecomment-1296488949","issue_url":"https://api.github.com/repos/apache/brpc/issues/1975","id":1296488949,"node_id":"IC_kwDOBhmkcs5NRtn1","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T03:24:25Z","updated_at":"2022-10-31T03:24:25Z","author_association":"CONTRIBUTOR","body":"CI is failed","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296488949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296491288","html_url":"https://github.com/apache/brpc/issues/1976#issuecomment-1296491288","issue_url":"https://api.github.com/repos/apache/brpc/issues/1976","id":1296491288,"node_id":"IC_kwDOBhmkcs5NRuMY","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T03:27:36Z","updated_at":"2022-10-31T03:27:36Z","author_association":"CONTRIBUTOR","body":"max_connection_pool_size是限制客户端连接数的。\r\nsingle模式，每个后端server（ip+port）只会建立一个连接。所以只要限制server个数，就可以限制客户端的连接数。\r\n服务端的连接数目前无法限制","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296491288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296494080","html_url":"https://github.com/apache/brpc/issues/1976#issuecomment-1296494080","issue_url":"https://api.github.com/repos/apache/brpc/issues/1976","id":1296494080,"node_id":"IC_kwDOBhmkcs5NRu4A","user":{"login":"kof02guy","id":19186563,"node_id":"MDQ6VXNlcjE5MTg2NTYz","avatar_url":"https://avatars.githubusercontent.com/u/19186563?v=4","gravatar_id":"","url":"https://api.github.com/users/kof02guy","html_url":"https://github.com/kof02guy","followers_url":"https://api.github.com/users/kof02guy/followers","following_url":"https://api.github.com/users/kof02guy/following{/other_user}","gists_url":"https://api.github.com/users/kof02guy/gists{/gist_id}","starred_url":"https://api.github.com/users/kof02guy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kof02guy/subscriptions","organizations_url":"https://api.github.com/users/kof02guy/orgs","repos_url":"https://api.github.com/users/kof02guy/repos","events_url":"https://api.github.com/users/kof02guy/events{/privacy}","received_events_url":"https://api.github.com/users/kof02guy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T03:31:26Z","updated_at":"2022-10-31T03:31:26Z","author_association":"NONE","body":"多谢回复。请问对于服务端的连接数，是否有一个推荐的值的范围。如果连接数过多，除了linux本身的limit限制之外，还会有别的影响么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296494080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296506660","html_url":"https://github.com/apache/brpc/issues/1976#issuecomment-1296506660","issue_url":"https://api.github.com/repos/apache/brpc/issues/1976","id":1296506660,"node_id":"IC_kwDOBhmkcs5NRx8k","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T03:56:02Z","updated_at":"2022-10-31T03:56:02Z","author_association":"CONTRIBUTOR","body":"max_connection_pool_size 的话只是限制一个连接池常驻链接的数量，实际建立的连接数取决于并发数量，brpc作为客户端底层建立的tcp连接会尽量共享的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296506660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296508761","html_url":"https://github.com/apache/brpc/issues/1976#issuecomment-1296508761","issue_url":"https://api.github.com/repos/apache/brpc/issues/1976","id":1296508761,"node_id":"IC_kwDOBhmkcs5NRydZ","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T04:01:27Z","updated_at":"2022-10-31T04:01:27Z","author_association":"CONTRIBUTOR","body":"> 多谢回复。请问对于服务端的连接数，是否有一个推荐的值的范围。如果连接数过多，除了linux本身的limit限制之外，还会有别的影响么？\r\n\r\n连接数一般来说没什么影响，只要不超过linux本身limit限制即可。\r\n对服务可用性影响更大的是并发请求数，这个一般通过ServerOptions的max_concurrency来限制","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296508761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296513098","html_url":"https://github.com/apache/brpc/issues/1976#issuecomment-1296513098","issue_url":"https://api.github.com/repos/apache/brpc/issues/1976","id":1296513098,"node_id":"IC_kwDOBhmkcs5NRzhK","user":{"login":"kof02guy","id":19186563,"node_id":"MDQ6VXNlcjE5MTg2NTYz","avatar_url":"https://avatars.githubusercontent.com/u/19186563?v=4","gravatar_id":"","url":"https://api.github.com/users/kof02guy","html_url":"https://github.com/kof02guy","followers_url":"https://api.github.com/users/kof02guy/followers","following_url":"https://api.github.com/users/kof02guy/following{/other_user}","gists_url":"https://api.github.com/users/kof02guy/gists{/gist_id}","starred_url":"https://api.github.com/users/kof02guy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kof02guy/subscriptions","organizations_url":"https://api.github.com/users/kof02guy/orgs","repos_url":"https://api.github.com/users/kof02guy/repos","events_url":"https://api.github.com/users/kof02guy/events{/privacy}","received_events_url":"https://api.github.com/users/kof02guy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T04:08:25Z","updated_at":"2022-10-31T04:08:25Z","author_association":"NONE","body":"> > 多谢回复。请问对于服务端的连接数，是否有一个推荐的值的范围。如果连接数过多，除了linux本身的limit限制之外，还会有别的影响么？\r\n> \r\n> 连接数一般来说没什么影响，只要不超过linux本身limit限制即可。 对服务可用性影响更大的是并发请求数，这个一般通过ServerOptions的max_concurrency来限制\r\n\r\n请问下，这里的max_concurrency可以理解成是对连接数的一个限制吗？因为如果有大于max_concurrency的请求到来，会被立刻拒绝。这里实际的连接数应该总是<= max_concurrency的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296513098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296559317","html_url":"https://github.com/apache/brpc/issues/1390#issuecomment-1296559317","issue_url":"https://api.github.com/repos/apache/brpc/issues/1390","id":1296559317,"node_id":"IC_kwDOBhmkcs5NR-zV","user":{"login":"Lhfcws","id":898272,"node_id":"MDQ6VXNlcjg5ODI3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/898272?v=4","gravatar_id":"","url":"https://api.github.com/users/Lhfcws","html_url":"https://github.com/Lhfcws","followers_url":"https://api.github.com/users/Lhfcws/followers","following_url":"https://api.github.com/users/Lhfcws/following{/other_user}","gists_url":"https://api.github.com/users/Lhfcws/gists{/gist_id}","starred_url":"https://api.github.com/users/Lhfcws/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lhfcws/subscriptions","organizations_url":"https://api.github.com/users/Lhfcws/orgs","repos_url":"https://api.github.com/users/Lhfcws/repos","events_url":"https://api.github.com/users/Lhfcws/events{/privacy}","received_events_url":"https://api.github.com/users/Lhfcws/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T05:26:53Z","updated_at":"2022-10-31T05:26:53Z","author_association":"NONE","body":"> > server.ReleaseKeytableForUT();\r\n> \r\n> 这个方法是哪来的，源码里没找到呀\r\n\r\n我修改了下描述。“我的版本是内部改过一些的版本，如果没有这个方法的可以自己加下。”","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296559317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296567233","html_url":"https://github.com/apache/brpc/issues/1976#issuecomment-1296567233","issue_url":"https://api.github.com/repos/apache/brpc/issues/1976","id":1296567233,"node_id":"IC_kwDOBhmkcs5NSAvB","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T05:40:12Z","updated_at":"2022-10-31T05:40:12Z","author_association":"CONTRIBUTOR","body":"> \r\n> 请问下，这里的max_concurrency可以理解成是对连接数的一个限制吗？因为如果有大于max_concurrency的请求到来，会被立刻拒绝。这里实际的连接数应该总是<= max_concurrency的\r\n\r\nmax_concurrency跟连接没关系，它限制的是并发处理的请求数。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296567233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296584959","html_url":"https://github.com/apache/brpc/pull/1973#issuecomment-1296584959","issue_url":"https://api.github.com/repos/apache/brpc/issues/1973","id":1296584959,"node_id":"IC_kwDOBhmkcs5NSFD_","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T06:09:23Z","updated_at":"2022-10-31T06:09:23Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1296584959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1297929369","html_url":"https://github.com/apache/brpc/issues/1945#issuecomment-1297929369","issue_url":"https://api.github.com/repos/apache/brpc/issues/1945","id":1297929369,"node_id":"IC_kwDOBhmkcs5NXNSZ","user":{"login":"bystorm","id":15179542,"node_id":"MDQ6VXNlcjE1MTc5NTQy","avatar_url":"https://avatars.githubusercontent.com/u/15179542?v=4","gravatar_id":"","url":"https://api.github.com/users/bystorm","html_url":"https://github.com/bystorm","followers_url":"https://api.github.com/users/bystorm/followers","following_url":"https://api.github.com/users/bystorm/following{/other_user}","gists_url":"https://api.github.com/users/bystorm/gists{/gist_id}","starred_url":"https://api.github.com/users/bystorm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bystorm/subscriptions","organizations_url":"https://api.github.com/users/bystorm/orgs","repos_url":"https://api.github.com/users/bystorm/repos","events_url":"https://api.github.com/users/bystorm/events{/privacy}","received_events_url":"https://api.github.com/users/bystorm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T02:17:50Z","updated_at":"2022-11-01T02:17:50Z","author_association":"NONE","body":"> 具体是什么类型的polling需求呢？polling也有些副作用。我还在考虑应该怎么去实现更好\r\n\r\n现在有一种场景一般都是基于spdk 架构的追求极致时延与极致吞吐的存储产品。最终目标希望所有流程都在一个线程完成，发起和收割都在一个线程完成是最好的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1297929369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1298527929","html_url":"https://github.com/apache/brpc/issues/1881#issuecomment-1298527929","issue_url":"https://api.github.com/repos/apache/brpc/issues/1881","id":1298527929,"node_id":"IC_kwDOBhmkcs5NZfa5","user":{"login":"wasphin","id":1237906,"node_id":"MDQ6VXNlcjEyMzc5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/1237906?v=4","gravatar_id":"","url":"https://api.github.com/users/wasphin","html_url":"https://github.com/wasphin","followers_url":"https://api.github.com/users/wasphin/followers","following_url":"https://api.github.com/users/wasphin/following{/other_user}","gists_url":"https://api.github.com/users/wasphin/gists{/gist_id}","starred_url":"https://api.github.com/users/wasphin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wasphin/subscriptions","organizations_url":"https://api.github.com/users/wasphin/orgs","repos_url":"https://api.github.com/users/wasphin/repos","events_url":"https://api.github.com/users/wasphin/events{/privacy}","received_events_url":"https://api.github.com/users/wasphin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T13:42:33Z","updated_at":"2022-11-01T13:42:33Z","author_association":"MEMBER","body":"像是库链接顺序问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1298527929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1299540031","html_url":"https://github.com/apache/brpc/issues/1978#issuecomment-1299540031","issue_url":"https://api.github.com/repos/apache/brpc/issues/1978","id":1299540031,"node_id":"IC_kwDOBhmkcs5NdWg_","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T04:12:28Z","updated_at":"2022-11-02T04:12:28Z","author_association":"CONTRIBUTOR","body":"确认下service mesh http请求header中是包含requestid","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1299540031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1301637267","html_url":"https://github.com/apache/brpc/issues/1945#issuecomment-1301637267","issue_url":"https://api.github.com/repos/apache/brpc/issues/1945","id":1301637267,"node_id":"IC_kwDOBhmkcs5NlWiT","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T04:51:51Z","updated_at":"2022-11-03T04:51:51Z","author_association":"CONTRIBUTOR","body":"> 现在有一种场景一般都是基于spdk 架构的追求极致时延与极致吞吐的存储产品。最终目标希望所有流程都在一个线程完成，发起和收割都在一个线程完成是最好的。\r\n\r\nspdk的逻辑本身在spdk thread里面，和brpc的bthread融合方面需要一个更好的设计。我猜这个场景是更希望bypass bthread么","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1301637267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1302086107","html_url":"https://github.com/apache/brpc/issues/1978#issuecomment-1302086107","issue_url":"https://api.github.com/repos/apache/brpc/issues/1978","id":1302086107,"node_id":"IC_kwDOBhmkcs5NnEHb","user":{"login":"yyhclimacool","id":8384040,"node_id":"MDQ6VXNlcjgzODQwNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8384040?v=4","gravatar_id":"","url":"https://api.github.com/users/yyhclimacool","html_url":"https://github.com/yyhclimacool","followers_url":"https://api.github.com/users/yyhclimacool/followers","following_url":"https://api.github.com/users/yyhclimacool/following{/other_user}","gists_url":"https://api.github.com/users/yyhclimacool/gists{/gist_id}","starred_url":"https://api.github.com/users/yyhclimacool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyhclimacool/subscriptions","organizations_url":"https://api.github.com/users/yyhclimacool/orgs","repos_url":"https://api.github.com/users/yyhclimacool/repos","events_url":"https://api.github.com/users/yyhclimacool/events{/privacy}","received_events_url":"https://api.github.com/users/yyhclimacool/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T13:08:26Z","updated_at":"2022-11-03T13:08:26Z","author_association":"NONE","body":"测试通过了，SetHeader是起作用的，需要mesh下发配置生效才行！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1302086107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1303003517","html_url":"https://github.com/apache/brpc/issues/1981#issuecomment-1303003517","issue_url":"https://api.github.com/repos/apache/brpc/issues/1981","id":1303003517,"node_id":"IC_kwDOBhmkcs5NqkF9","user":{"login":"leeliliang","id":49196656,"node_id":"MDQ6VXNlcjQ5MTk2NjU2","avatar_url":"https://avatars.githubusercontent.com/u/49196656?v=4","gravatar_id":"","url":"https://api.github.com/users/leeliliang","html_url":"https://github.com/leeliliang","followers_url":"https://api.github.com/users/leeliliang/followers","following_url":"https://api.github.com/users/leeliliang/following{/other_user}","gists_url":"https://api.github.com/users/leeliliang/gists{/gist_id}","starred_url":"https://api.github.com/users/leeliliang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leeliliang/subscriptions","organizations_url":"https://api.github.com/users/leeliliang/orgs","repos_url":"https://api.github.com/users/leeliliang/repos","events_url":"https://api.github.com/users/leeliliang/events{/privacy}","received_events_url":"https://api.github.com/users/leeliliang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T05:45:05Z","updated_at":"2022-11-04T05:45:21Z","author_association":"NONE","body":"链接mac的系统函数库后解决","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1303003517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1304411148","html_url":"https://github.com/apache/brpc/issues/1390#issuecomment-1304411148","issue_url":"https://api.github.com/repos/apache/brpc/issues/1390","id":1304411148,"node_id":"IC_kwDOBhmkcs5Nv7wM","user":{"login":"zouyonghao","id":7647081,"node_id":"MDQ6VXNlcjc2NDcwODE=","avatar_url":"https://avatars.githubusercontent.com/u/7647081?v=4","gravatar_id":"","url":"https://api.github.com/users/zouyonghao","html_url":"https://github.com/zouyonghao","followers_url":"https://api.github.com/users/zouyonghao/followers","following_url":"https://api.github.com/users/zouyonghao/following{/other_user}","gists_url":"https://api.github.com/users/zouyonghao/gists{/gist_id}","starred_url":"https://api.github.com/users/zouyonghao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zouyonghao/subscriptions","organizations_url":"https://api.github.com/users/zouyonghao/orgs","repos_url":"https://api.github.com/users/zouyonghao/repos","events_url":"https://api.github.com/users/zouyonghao/events{/privacy}","received_events_url":"https://api.github.com/users/zouyonghao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-05T05:19:50Z","updated_at":"2022-11-05T05:19:50Z","author_association":"NONE","body":"Thanks @Lhfcws \r\nSo according to your comments, the leak is true, but we can ignore it, right?\r\n\r\nIs there a better elegant way to solve this, like smart pointer or something else?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1304411148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1305134626","html_url":"https://github.com/apache/brpc/issues/1918#issuecomment-1305134626","issue_url":"https://api.github.com/repos/apache/brpc/issues/1918","id":1305134626,"node_id":"IC_kwDOBhmkcs5NysYi","user":{"login":"JadeFlute0127","id":35321989,"node_id":"MDQ6VXNlcjM1MzIxOTg5","avatar_url":"https://avatars.githubusercontent.com/u/35321989?v=4","gravatar_id":"","url":"https://api.github.com/users/JadeFlute0127","html_url":"https://github.com/JadeFlute0127","followers_url":"https://api.github.com/users/JadeFlute0127/followers","following_url":"https://api.github.com/users/JadeFlute0127/following{/other_user}","gists_url":"https://api.github.com/users/JadeFlute0127/gists{/gist_id}","starred_url":"https://api.github.com/users/JadeFlute0127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JadeFlute0127/subscriptions","organizations_url":"https://api.github.com/users/JadeFlute0127/orgs","repos_url":"https://api.github.com/users/JadeFlute0127/repos","events_url":"https://api.github.com/users/JadeFlute0127/events{/privacy}","received_events_url":"https://api.github.com/users/JadeFlute0127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T06:11:36Z","updated_at":"2022-11-07T06:11:36Z","author_association":"NONE","body":" /assign","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1305134626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1306765510","html_url":"https://github.com/apache/brpc/issues/1769#issuecomment-1306765510","issue_url":"https://api.github.com/repos/apache/brpc/issues/1769","id":1306765510,"node_id":"IC_kwDOBhmkcs5N46jG","user":{"login":"runrunrun-go","id":117716414,"node_id":"U_kgDOBwQ1vg","avatar_url":"https://avatars.githubusercontent.com/u/117716414?v=4","gravatar_id":"","url":"https://api.github.com/users/runrunrun-go","html_url":"https://github.com/runrunrun-go","followers_url":"https://api.github.com/users/runrunrun-go/followers","following_url":"https://api.github.com/users/runrunrun-go/following{/other_user}","gists_url":"https://api.github.com/users/runrunrun-go/gists{/gist_id}","starred_url":"https://api.github.com/users/runrunrun-go/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runrunrun-go/subscriptions","organizations_url":"https://api.github.com/users/runrunrun-go/orgs","repos_url":"https://api.github.com/users/runrunrun-go/repos","events_url":"https://api.github.com/users/runrunrun-go/events{/privacy}","received_events_url":"https://api.github.com/users/runrunrun-go/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T07:46:17Z","updated_at":"2022-11-08T07:46:17Z","author_association":"NONE","body":"请问下这个怎么解决的呢，遇到了同样的问题 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1306765510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1307052595","html_url":"https://github.com/apache/brpc/pull/1984#issuecomment-1307052595","issue_url":"https://api.github.com/repos/apache/brpc/issues/1984","id":1307052595,"node_id":"IC_kwDOBhmkcs5N6Aoz","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T11:22:04Z","updated_at":"2022-11-08T11:22:04Z","author_association":"CONTRIBUTOR","body":"CI is failed","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1307052595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1308091519","html_url":"https://github.com/apache/brpc/pull/1984#issuecomment-1308091519","issue_url":"https://api.github.com/repos/apache/brpc/issues/1984","id":1308091519,"node_id":"IC_kwDOBhmkcs5N9-R_","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T01:58:22Z","updated_at":"2022-11-09T01:58:22Z","author_association":"CONTRIBUTOR","body":"@wwbmmm Could you have a look at CI job https://app.travis-ci.com/github/apache/incubator-brpc/jobs/587871585. Seems irrelevant to the PR","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1308091519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1308101716","html_url":"https://github.com/apache/brpc/pull/1984#issuecomment-1308101716","issue_url":"https://api.github.com/repos/apache/brpc/issues/1984","id":1308101716,"node_id":"IC_kwDOBhmkcs5N-AxU","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T02:09:54Z","updated_at":"2022-11-09T02:09:54Z","author_association":"CONTRIBUTOR","body":"> @wwbmmm Could you have a look at CI job https://app.travis-ci.com/github/apache/incubator-brpc/jobs/587871585. Seems irrelevant to the PR\r\n\r\nYes, it's irrelevant.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1308101716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1308455335","html_url":"https://github.com/apache/brpc/issues/1979#issuecomment-1308455335","issue_url":"https://api.github.com/repos/apache/brpc/issues/1979","id":1308455335,"node_id":"IC_kwDOBhmkcs5N_XGn","user":{"login":"lorinlee","id":16054841,"node_id":"MDQ6VXNlcjE2MDU0ODQx","avatar_url":"https://avatars.githubusercontent.com/u/16054841?v=4","gravatar_id":"","url":"https://api.github.com/users/lorinlee","html_url":"https://github.com/lorinlee","followers_url":"https://api.github.com/users/lorinlee/followers","following_url":"https://api.github.com/users/lorinlee/following{/other_user}","gists_url":"https://api.github.com/users/lorinlee/gists{/gist_id}","starred_url":"https://api.github.com/users/lorinlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lorinlee/subscriptions","organizations_url":"https://api.github.com/users/lorinlee/orgs","repos_url":"https://api.github.com/users/lorinlee/repos","events_url":"https://api.github.com/users/lorinlee/events{/privacy}","received_events_url":"https://api.github.com/users/lorinlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T09:21:35Z","updated_at":"2022-11-09T09:21:35Z","author_association":"CONTRIBUTOR","body":"应该是其他地方内存写坏导致破坏了tcmalloc的内部数据结构，挂在这里只是brpc申请内存触发了，这里已经不是第一现场了。可以用ASAN或者valgrind看看是不是哪里内存写坏了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1308455335/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1309821474","html_url":"https://github.com/apache/brpc/issues/1979#issuecomment-1309821474","issue_url":"https://api.github.com/repos/apache/brpc/issues/1979","id":1309821474,"node_id":"IC_kwDOBhmkcs5OEkoi","user":{"login":"vinllen","id":6987398,"node_id":"MDQ6VXNlcjY5ODczOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6987398?v=4","gravatar_id":"","url":"https://api.github.com/users/vinllen","html_url":"https://github.com/vinllen","followers_url":"https://api.github.com/users/vinllen/followers","following_url":"https://api.github.com/users/vinllen/following{/other_user}","gists_url":"https://api.github.com/users/vinllen/gists{/gist_id}","starred_url":"https://api.github.com/users/vinllen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinllen/subscriptions","organizations_url":"https://api.github.com/users/vinllen/orgs","repos_url":"https://api.github.com/users/vinllen/repos","events_url":"https://api.github.com/users/vinllen/events{/privacy}","received_events_url":"https://api.github.com/users/vinllen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T06:10:54Z","updated_at":"2022-11-10T06:10:54Z","author_association":"NONE","body":"了解 预期猜测的确是上层的问题，我再看下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1309821474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310027262","html_url":"https://github.com/apache/brpc/pull/1985#issuecomment-1310027262","issue_url":"https://api.github.com/repos/apache/brpc/issues/1985","id":1310027262,"node_id":"IC_kwDOBhmkcs5OFW3-","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T09:49:58Z","updated_at":"2022-11-10T09:49:58Z","author_association":"CONTRIBUTOR","body":"Could you please share how you install libibverbs? At all my servers, libibverbs.so and libibverbs.so.1 exist at the same time and the former one is a symbol link to the latter one. The latter one is also a symbol link to the real so, just like the figure you pasted above.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310027262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310028538","html_url":"https://github.com/apache/brpc/issues/1980#issuecomment-1310028538","issue_url":"https://api.github.com/repos/apache/brpc/issues/1980","id":1310028538,"node_id":"IC_kwDOBhmkcs5OFXL6","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T09:51:07Z","updated_at":"2022-11-10T09:51:07Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-brpc/blob/master/src/brpc/policy/locality_aware_load_balancer.cpp#L31\r\n这里有一些参数，可以调下试试","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310028538/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310032703","html_url":"https://github.com/apache/brpc/issues/1980#issuecomment-1310032703","issue_url":"https://api.github.com/repos/apache/brpc/issues/1980","id":1310032703,"node_id":"IC_kwDOBhmkcs5OFYM_","user":{"login":"zhaojinzhou","id":16334836,"node_id":"MDQ6VXNlcjE2MzM0ODM2","avatar_url":"https://avatars.githubusercontent.com/u/16334836?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojinzhou","html_url":"https://github.com/zhaojinzhou","followers_url":"https://api.github.com/users/zhaojinzhou/followers","following_url":"https://api.github.com/users/zhaojinzhou/following{/other_user}","gists_url":"https://api.github.com/users/zhaojinzhou/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojinzhou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojinzhou/subscriptions","organizations_url":"https://api.github.com/users/zhaojinzhou/orgs","repos_url":"https://api.github.com/users/zhaojinzhou/repos","events_url":"https://api.github.com/users/zhaojinzhou/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojinzhou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T09:54:45Z","updated_at":"2022-11-10T09:55:29Z","author_association":"NONE","body":"> https://github.com/apache/incubator-brpc/blob/master/src/brpc/policy/locality_aware_load_balancer.cpp#L31 这里有一些参数，可以调下试试\r\n\r\n调了 punish_inflight_ratio和 min_weight 这两参数。 \r\n按我理解，min_weight=0就是说可能有机器的 qps约等于没有？\r\npunish_inflight_ratio=1就是说  只要当前的请求耗时超过平均值了就调权重？\r\n\r\n这两参数值应该是最极端的参数了。 但是似乎还是没有效果。 只是 机器间的qps 差异确实大了那么一丁点。 但也不明显。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310032703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310127476","html_url":"https://github.com/apache/brpc/issues/1980#issuecomment-1310127476","issue_url":"https://api.github.com/repos/apache/brpc/issues/1980","id":1310127476,"node_id":"IC_kwDOBhmkcs5OFvV0","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T11:13:30Z","updated_at":"2022-11-10T11:13:30Z","author_association":"CONTRIBUTOR","body":"> 调了 punish_inflight_ratio和 min_weight 这两参数。\r\n> 按我理解，min_weight=0就是说可能有机器的 qps约等于没有？\r\n> punish_inflight_ratio=1就是说 只要当前的请求耗时超过平均值了就调权重？\r\n\r\n是的。\r\n\r\n如果还不符合预期，可以加些日志，把实例的权重打印出来看看","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310127476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310669424","html_url":"https://github.com/apache/brpc/issues/1649#issuecomment-1310669424","issue_url":"https://api.github.com/repos/apache/brpc/issues/1649","id":1310669424,"node_id":"IC_kwDOBhmkcs5OHzpw","user":{"login":"yinchunxiang","id":1582781,"node_id":"MDQ6VXNlcjE1ODI3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1582781?v=4","gravatar_id":"","url":"https://api.github.com/users/yinchunxiang","html_url":"https://github.com/yinchunxiang","followers_url":"https://api.github.com/users/yinchunxiang/followers","following_url":"https://api.github.com/users/yinchunxiang/following{/other_user}","gists_url":"https://api.github.com/users/yinchunxiang/gists{/gist_id}","starred_url":"https://api.github.com/users/yinchunxiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yinchunxiang/subscriptions","organizations_url":"https://api.github.com/users/yinchunxiang/orgs","repos_url":"https://api.github.com/users/yinchunxiang/repos","events_url":"https://api.github.com/users/yinchunxiang/events{/privacy}","received_events_url":"https://api.github.com/users/yinchunxiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T17:51:30Z","updated_at":"2022-11-10T17:51:30Z","author_association":"NONE","body":"@617076674 你们使用 grpc 客户端访问 brpc 服务现在自适应限流功能正常吗？ 我们现在使用 golang 的 grpc 客户端访问 brpc 服务的时候设置 RetryableStatusCodes之后不能正常重试。看代码是 golang 的 grpc 客户端在检查 TrailersOnly()的时候失败。不知道是不是 brpc 服务端没有支持 TrailersOnly()","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1310669424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1311563150","html_url":"https://github.com/apache/brpc/issues/1986#issuecomment-1311563150","issue_url":"https://api.github.com/repos/apache/brpc/issues/1986","id":1311563150,"node_id":"IC_kwDOBhmkcs5OLN2O","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T11:13:46Z","updated_at":"2022-11-11T11:13:46Z","author_association":"CONTRIBUTOR","body":"看代码应该是没有Trailers-Only相关的逻辑","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1311563150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312472070","html_url":"https://github.com/apache/brpc/pull/1985#issuecomment-1312472070","issue_url":"https://api.github.com/repos/apache/brpc/issues/1985","id":1312472070,"node_id":"IC_kwDOBhmkcs5OOrwG","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T12:49:22Z","updated_at":"2022-11-12T12:49:22Z","author_association":"CONTRIBUTOR","body":"> Could you please share how you install libibverbs? At all my servers, libibverbs.so and libibverbs.so.1 exist at the same time and the former one is a symbol link to the latter one. The latter one is also a symbol link to the real so, just like the figure you pasted above.\r\n\r\nOn Ubuntu 22.04 , `libibverbs1` provides `libibverbs.so.1` and the real so.\r\n```bash\r\n# dpkg -L libibverbs1\r\n/.\r\n/usr\r\n/usr/lib\r\n/usr/lib/x86_64-linux-gnu\r\n/usr/lib/x86_64-linux-gnu/libibverbs.so.1.14.39.0\r\n/usr/share\r\n/usr/share/doc\r\n/usr/share/doc/libibverbs1\r\n/usr/share/doc/libibverbs1/changelog.Debian.gz\r\n/usr/share/doc/libibverbs1/copyright\r\n/usr/share/doc/libibverbs1/libibverbs.md\r\n/usr/lib/x86_64-linux-gnu/libibverbs.so.1\r\n```\r\nThis is enough to use ibverbs in production environment(`libibverbs-dev` is not necessary).\r\nIn development environment, `libibverbs-dev` provides header files and `libibverbs.so` as a symbol link.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312472070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312656128","html_url":"https://github.com/apache/brpc/pull/1985#issuecomment-1312656128","issue_url":"https://api.github.com/repos/apache/brpc/issues/1985","id":1312656128,"node_id":"IC_kwDOBhmkcs5OPYsA","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T07:10:07Z","updated_at":"2022-11-13T07:10:07Z","author_association":"CONTRIBUTOR","body":"> > Could you please share how you install libibverbs? At all my servers, libibverbs.so and libibverbs.so.1 exist at the same time and the former one is a symbol link to the latter one. The latter one is also a symbol link to the real so, just like the figure you pasted above.\r\n> \r\n> On Ubuntu 22.04 , `libibverbs1` provides `libibverbs.so.1` and the real so.\r\n> \r\n> ```shell\r\n> # dpkg -L libibverbs1\r\n> /.\r\n> /usr\r\n> /usr/lib\r\n> /usr/lib/x86_64-linux-gnu\r\n> /usr/lib/x86_64-linux-gnu/libibverbs.so.1.14.39.0\r\n> /usr/share\r\n> /usr/share/doc\r\n> /usr/share/doc/libibverbs1\r\n> /usr/share/doc/libibverbs1/changelog.Debian.gz\r\n> /usr/share/doc/libibverbs1/copyright\r\n> /usr/share/doc/libibverbs1/libibverbs.md\r\n> /usr/lib/x86_64-linux-gnu/libibverbs.so.1\r\n> ```\r\n> \r\n> This is enough to use ibverbs in production environment(`libibverbs-dev` is not necessary). In development environment, `libibverbs-dev` provides header files and `libibverbs.so` as a symbol link.\r\n\r\nThanks for your feedback.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312656128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312703844","html_url":"https://github.com/apache/brpc/issues/1891#issuecomment-1312703844","issue_url":"https://api.github.com/repos/apache/brpc/issues/1891","id":1312703844,"node_id":"IC_kwDOBhmkcs5OPkVk","user":{"login":"leaf-potato","id":49188857,"node_id":"MDQ6VXNlcjQ5MTg4ODU3","avatar_url":"https://avatars.githubusercontent.com/u/49188857?v=4","gravatar_id":"","url":"https://api.github.com/users/leaf-potato","html_url":"https://github.com/leaf-potato","followers_url":"https://api.github.com/users/leaf-potato/followers","following_url":"https://api.github.com/users/leaf-potato/following{/other_user}","gists_url":"https://api.github.com/users/leaf-potato/gists{/gist_id}","starred_url":"https://api.github.com/users/leaf-potato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leaf-potato/subscriptions","organizations_url":"https://api.github.com/users/leaf-potato/orgs","repos_url":"https://api.github.com/users/leaf-potato/repos","events_url":"https://api.github.com/users/leaf-potato/events{/privacy}","received_events_url":"https://api.github.com/users/leaf-potato/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T11:07:09Z","updated_at":"2022-11-13T11:07:09Z","author_association":"CONTRIBUTOR","body":"PR: #1990","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312703844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312951615","html_url":"https://github.com/apache/brpc/pull/1990#issuecomment-1312951615","issue_url":"https://api.github.com/repos/apache/brpc/issues/1990","id":1312951615,"node_id":"IC_kwDOBhmkcs5OQg0_","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T02:20:05Z","updated_at":"2022-11-14T02:20:05Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312951615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312952075","html_url":"https://github.com/apache/brpc/issues/1940#issuecomment-1312952075","issue_url":"https://api.github.com/repos/apache/brpc/issues/1940","id":1312952075,"node_id":"IC_kwDOBhmkcs5OQg8L","user":{"login":"thorneliu","id":10826201,"node_id":"MDQ6VXNlcjEwODI2MjAx","avatar_url":"https://avatars.githubusercontent.com/u/10826201?v=4","gravatar_id":"","url":"https://api.github.com/users/thorneliu","html_url":"https://github.com/thorneliu","followers_url":"https://api.github.com/users/thorneliu/followers","following_url":"https://api.github.com/users/thorneliu/following{/other_user}","gists_url":"https://api.github.com/users/thorneliu/gists{/gist_id}","starred_url":"https://api.github.com/users/thorneliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorneliu/subscriptions","organizations_url":"https://api.github.com/users/thorneliu/orgs","repos_url":"https://api.github.com/users/thorneliu/repos","events_url":"https://api.github.com/users/thorneliu/events{/privacy}","received_events_url":"https://api.github.com/users/thorneliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T02:21:03Z","updated_at":"2022-11-14T02:21:03Z","author_association":"CONTRIBUTOR","body":"correction merged 3f8e1cc4e23d36094d0a631a499f89f5ad2c4fb4","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312952075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312958232","html_url":"https://github.com/apache/brpc/issues/1986#issuecomment-1312958232","issue_url":"https://api.github.com/repos/apache/brpc/issues/1986","id":1312958232,"node_id":"IC_kwDOBhmkcs5OQicY","user":{"login":"12epartur3","id":37526842,"node_id":"MDQ6VXNlcjM3NTI2ODQy","avatar_url":"https://avatars.githubusercontent.com/u/37526842?v=4","gravatar_id":"","url":"https://api.github.com/users/12epartur3","html_url":"https://github.com/12epartur3","followers_url":"https://api.github.com/users/12epartur3/followers","following_url":"https://api.github.com/users/12epartur3/following{/other_user}","gists_url":"https://api.github.com/users/12epartur3/gists{/gist_id}","starred_url":"https://api.github.com/users/12epartur3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/12epartur3/subscriptions","organizations_url":"https://api.github.com/users/12epartur3/orgs","repos_url":"https://api.github.com/users/12epartur3/repos","events_url":"https://api.github.com/users/12epartur3/events{/privacy}","received_events_url":"https://api.github.com/users/12epartur3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T02:34:05Z","updated_at":"2022-11-14T02:34:05Z","author_association":"NONE","body":"> 看代码应该是没有Trailers-Only相关的逻辑\r\n\r\n这个看起来会导致grpc重试功能不生效，咱们brpc这边有计划做一些修改吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1312958232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313348900","html_url":"https://github.com/apache/brpc/pull/1990#issuecomment-1313348900","issue_url":"https://api.github.com/repos/apache/brpc/issues/1990","id":1313348900,"node_id":"IC_kwDOBhmkcs5OSB0k","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T09:15:06Z","updated_at":"2022-11-14T09:15:06Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313348900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313379378","html_url":"https://github.com/apache/brpc/issues/1891#issuecomment-1313379378","issue_url":"https://api.github.com/repos/apache/brpc/issues/1891","id":1313379378,"node_id":"IC_kwDOBhmkcs5OSJQy","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T09:39:32Z","updated_at":"2022-11-14T09:39:32Z","author_association":"CONTRIBUTOR","body":"已合入，closed","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313379378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313636569","html_url":"https://github.com/apache/brpc/issues/1918#issuecomment-1313636569","issue_url":"https://api.github.com/repos/apache/brpc/issues/1918","id":1313636569,"node_id":"IC_kwDOBhmkcs5OTIDZ","user":{"login":"fansehep","id":75058860,"node_id":"MDQ6VXNlcjc1MDU4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/75058860?v=4","gravatar_id":"","url":"https://api.github.com/users/fansehep","html_url":"https://github.com/fansehep","followers_url":"https://api.github.com/users/fansehep/followers","following_url":"https://api.github.com/users/fansehep/following{/other_user}","gists_url":"https://api.github.com/users/fansehep/gists{/gist_id}","starred_url":"https://api.github.com/users/fansehep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fansehep/subscriptions","organizations_url":"https://api.github.com/users/fansehep/orgs","repos_url":"https://api.github.com/users/fansehep/repos","events_url":"https://api.github.com/users/fansehep/events{/privacy}","received_events_url":"https://api.github.com/users/fansehep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T12:47:01Z","updated_at":"2022-11-14T12:47:01Z","author_association":"CONTRIBUTOR","body":"I tried to make brpc an external dependency directly. But bazel give me many errors. such as ```@openssl:``` can not found.\r\n```c++\r\ngit_repository(\r\n    name = \"apache_brpc\",\r\n    branch = \"release-1.3\",\r\n    remote = \"https://github.com/apache/incubator-brpc\",\r\n)\r\n```\r\na BUILD file like this :\r\n```c++\r\ncc_test(\r\n  name = \"slice_test\",\r\n  srcs = glob([\r\n    \"slice_test.cpp\",\r\n  ]),\r\n  deps = [\r\n    \"@apache_brpc//:bvar\",\r\n  ],\r\n )\r\n```\r\nSome brpc reliances are in ```/bazel/third_patry/*```, but bazel don't identification them. can give me some help?\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313636569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313640567","html_url":"https://github.com/apache/brpc/issues/1918#issuecomment-1313640567","issue_url":"https://api.github.com/repos/apache/brpc/issues/1918","id":1313640567,"node_id":"IC_kwDOBhmkcs5OTJB3","user":{"login":"fusying-hwang","id":101255426,"node_id":"U_kgDOBgkJAg","avatar_url":"https://avatars.githubusercontent.com/u/101255426?v=4","gravatar_id":"","url":"https://api.github.com/users/fusying-hwang","html_url":"https://github.com/fusying-hwang","followers_url":"https://api.github.com/users/fusying-hwang/followers","following_url":"https://api.github.com/users/fusying-hwang/following{/other_user}","gists_url":"https://api.github.com/users/fusying-hwang/gists{/gist_id}","starred_url":"https://api.github.com/users/fusying-hwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fusying-hwang/subscriptions","organizations_url":"https://api.github.com/users/fusying-hwang/orgs","repos_url":"https://api.github.com/users/fusying-hwang/repos","events_url":"https://api.github.com/users/fusying-hwang/events{/privacy}","received_events_url":"https://api.github.com/users/fusying-hwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T12:50:56Z","updated_at":"2022-11-14T12:50:56Z","author_association":"NONE","body":"> I tried to make brpc an external dependency directly. But bazel give me many errors. such as `@openssl:` can not found.\r\n> \r\n> ```c++\r\n> git_repository(\r\n>     name = \"apache_brpc\",\r\n>     branch = \"release-1.3\",\r\n>     remote = \"https://github.com/apache/incubator-brpc\",\r\n> )\r\n> ```\r\n> \r\n> a BUILD file like this :\r\n> \r\n> ```c++\r\n> cc_test(\r\n>   name = \"slice_test\",\r\n>   srcs = glob([\r\n>     \"slice_test.cpp\",\r\n>   ]),\r\n>   deps = [\r\n>     \"@apache_brpc//:bvar\",\r\n>   ],\r\n>  )\r\n> ```\r\n> \r\n> Some brpc reliances are in `/bazel/third_patry/*`, but bazel don't identification them. can give me some help?\r\n\r\nActually, I end up with not finding a decent way to resolve this. So, basically, what I did was build the brpc library to an .a library first and then just link against that .a file. It's dirty but it actually works. Hope that helps. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313640567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313660031","html_url":"https://github.com/apache/brpc/issues/1918#issuecomment-1313660031","issue_url":"https://api.github.com/repos/apache/brpc/issues/1918","id":1313660031,"node_id":"IC_kwDOBhmkcs5OTNx_","user":{"login":"fansehep","id":75058860,"node_id":"MDQ6VXNlcjc1MDU4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/75058860?v=4","gravatar_id":"","url":"https://api.github.com/users/fansehep","html_url":"https://github.com/fansehep","followers_url":"https://api.github.com/users/fansehep/followers","following_url":"https://api.github.com/users/fansehep/following{/other_user}","gists_url":"https://api.github.com/users/fansehep/gists{/gist_id}","starred_url":"https://api.github.com/users/fansehep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fansehep/subscriptions","organizations_url":"https://api.github.com/users/fansehep/orgs","repos_url":"https://api.github.com/users/fansehep/repos","events_url":"https://api.github.com/users/fansehep/events{/privacy}","received_events_url":"https://api.github.com/users/fansehep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:02:06Z","updated_at":"2022-11-14T13:02:27Z","author_association":"CONTRIBUTOR","body":"oh, so pity!.\r\nhow about rewrite the brpc bazel BUILD rules? that we can open a new issue. If other guys can help us. i think it's easy to do it.\r\n😄 \r\n ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313660031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313667995","html_url":"https://github.com/apache/brpc/issues/1918#issuecomment-1313667995","issue_url":"https://api.github.com/repos/apache/brpc/issues/1918","id":1313667995,"node_id":"IC_kwDOBhmkcs5OTPub","user":{"login":"fusying-hwang","id":101255426,"node_id":"U_kgDOBgkJAg","avatar_url":"https://avatars.githubusercontent.com/u/101255426?v=4","gravatar_id":"","url":"https://api.github.com/users/fusying-hwang","html_url":"https://github.com/fusying-hwang","followers_url":"https://api.github.com/users/fusying-hwang/followers","following_url":"https://api.github.com/users/fusying-hwang/following{/other_user}","gists_url":"https://api.github.com/users/fusying-hwang/gists{/gist_id}","starred_url":"https://api.github.com/users/fusying-hwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fusying-hwang/subscriptions","organizations_url":"https://api.github.com/users/fusying-hwang/orgs","repos_url":"https://api.github.com/users/fusying-hwang/repos","events_url":"https://api.github.com/users/fusying-hwang/events{/privacy}","received_events_url":"https://api.github.com/users/fusying-hwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:07:27Z","updated_at":"2022-11-14T13:07:27Z","author_association":"NONE","body":"You might need to resort to the BRPC team for help then. Actually I'm persuading my team to use GRPC instead but there's an ex-Baiduer who insists on using BRPC. So that's what I can do for it's shitty bazel build system. :-P","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313667995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313685167","html_url":"https://github.com/apache/brpc/issues/1918#issuecomment-1313685167","issue_url":"https://api.github.com/repos/apache/brpc/issues/1918","id":1313685167,"node_id":"IC_kwDOBhmkcs5OTT6v","user":{"login":"fansehep","id":75058860,"node_id":"MDQ6VXNlcjc1MDU4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/75058860?v=4","gravatar_id":"","url":"https://api.github.com/users/fansehep","html_url":"https://github.com/fansehep","followers_url":"https://api.github.com/users/fansehep/followers","following_url":"https://api.github.com/users/fansehep/following{/other_user}","gists_url":"https://api.github.com/users/fansehep/gists{/gist_id}","starred_url":"https://api.github.com/users/fansehep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fansehep/subscriptions","organizations_url":"https://api.github.com/users/fansehep/orgs","repos_url":"https://api.github.com/users/fansehep/repos","events_url":"https://api.github.com/users/fansehep/events{/privacy}","received_events_url":"https://api.github.com/users/fansehep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:18:40Z","updated_at":"2022-11-14T13:18:40Z","author_association":"CONTRIBUTOR","body":"> You might need to resort to the BRPC team for help then. Actually I'm persuading my team to use GRPC instead but there's an ex-Baiduer who insists on using BRPC. So that's what I can do for it's shitty bazel build system. :-P\r\n\r\nYep, if we want to do it. it is really a big problem.\r\nAnyway I think bRPC is a superior rpc project.\r\nI will try to do the bazel build file rewrite. If someone is interesting in it or can help me. welcome to reach me.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313685167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313685986","html_url":"https://github.com/apache/brpc/pull/1965#issuecomment-1313685986","issue_url":"https://api.github.com/repos/apache/brpc/issues/1965","id":1313685986,"node_id":"IC_kwDOBhmkcs5OTUHi","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:19:17Z","updated_at":"2022-11-14T13:19:17Z","author_association":"CONTRIBUTOR","body":"@wayslog remind","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313685986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313689362","html_url":"https://github.com/apache/brpc/pull/1806#issuecomment-1313689362","issue_url":"https://api.github.com/repos/apache/brpc/issues/1806","id":1313689362,"node_id":"IC_kwDOBhmkcs5OTU8S","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:20:57Z","updated_at":"2022-11-14T13:20:57Z","author_association":"CONTRIBUTOR","body":"@ZeroLiu2018 remind","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313689362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313710790","html_url":"https://github.com/apache/brpc/issues/1815#issuecomment-1313710790","issue_url":"https://api.github.com/repos/apache/brpc/issues/1815","id":1313710790,"node_id":"IC_kwDOBhmkcs5OTaLG","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:29:34Z","updated_at":"2022-11-14T13:29:34Z","author_association":"CONTRIBUTOR","body":"closed","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313710790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313720115","html_url":"https://github.com/apache/brpc/issues/1805#issuecomment-1313720115","issue_url":"https://api.github.com/repos/apache/brpc/issues/1805","id":1313720115,"node_id":"IC_kwDOBhmkcs5OTccz","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:33:24Z","updated_at":"2022-11-14T13:33:24Z","author_association":"CONTRIBUTOR","body":"closed, reopen if you have further ideas.\r\nThank you for your contributions! ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313720115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313722635","html_url":"https://github.com/apache/brpc/issues/1562#issuecomment-1313722635","issue_url":"https://api.github.com/repos/apache/brpc/issues/1562","id":1313722635,"node_id":"IC_kwDOBhmkcs5OTdEL","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:35:17Z","updated_at":"2022-11-14T13:35:17Z","author_association":"CONTRIBUTOR","body":"closed, reopen if you have further ideas.\r\nThank you for your contributions! ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313722635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313725568","html_url":"https://github.com/apache/brpc/issues/1392#issuecomment-1313725568","issue_url":"https://api.github.com/repos/apache/brpc/issues/1392","id":1313725568,"node_id":"IC_kwDOBhmkcs5OTdyA","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:37:44Z","updated_at":"2022-11-14T13:37:44Z","author_association":"CONTRIBUTOR","body":"closed, reopen if you have further ideas.\r\nThank you for your contributions! ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313725568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313726217","html_url":"https://github.com/apache/brpc/issues/1378#issuecomment-1313726217","issue_url":"https://api.github.com/repos/apache/brpc/issues/1378","id":1313726217,"node_id":"IC_kwDOBhmkcs5OTd8J","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:38:19Z","updated_at":"2022-11-14T13:38:19Z","author_association":"CONTRIBUTOR","body":"closed, reopen if you have further ideas.\r\nThank you for your contributions! ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313726217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313727325","html_url":"https://github.com/apache/brpc/issues/1340#issuecomment-1313727325","issue_url":"https://api.github.com/repos/apache/brpc/issues/1340","id":1313727325,"node_id":"IC_kwDOBhmkcs5OTeNd","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:39:15Z","updated_at":"2022-11-14T13:39:15Z","author_association":"CONTRIBUTOR","body":"closed, reopen if you have further ideas.\r\nThank you for your contributions! ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313727325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313727739","html_url":"https://github.com/apache/brpc/issues/1337#issuecomment-1313727739","issue_url":"https://api.github.com/repos/apache/brpc/issues/1337","id":1313727739,"node_id":"IC_kwDOBhmkcs5OTeT7","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:39:38Z","updated_at":"2022-11-14T13:39:38Z","author_association":"CONTRIBUTOR","body":"closed, reopen if you have further ideas.\r\nThank you for your contributions! ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313727739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313727944","html_url":"https://github.com/apache/brpc/issues/1336#issuecomment-1313727944","issue_url":"https://api.github.com/repos/apache/brpc/issues/1336","id":1313727944,"node_id":"IC_kwDOBhmkcs5OTeXI","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:39:48Z","updated_at":"2022-11-14T13:39:48Z","author_association":"CONTRIBUTOR","body":"closed, reopen if you have further ideas.\r\nThank you for your contributions! ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313727944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313738561","html_url":"https://github.com/apache/brpc/issues/761#issuecomment-1313738561","issue_url":"https://api.github.com/repos/apache/brpc/issues/761","id":1313738561,"node_id":"IC_kwDOBhmkcs5OTg9B","user":{"login":"serverglen","id":38067377,"node_id":"MDQ6VXNlcjM4MDY3Mzc3","avatar_url":"https://avatars.githubusercontent.com/u/38067377?v=4","gravatar_id":"","url":"https://api.github.com/users/serverglen","html_url":"https://github.com/serverglen","followers_url":"https://api.github.com/users/serverglen/followers","following_url":"https://api.github.com/users/serverglen/following{/other_user}","gists_url":"https://api.github.com/users/serverglen/gists{/gist_id}","starred_url":"https://api.github.com/users/serverglen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serverglen/subscriptions","organizations_url":"https://api.github.com/users/serverglen/orgs","repos_url":"https://api.github.com/users/serverglen/repos","events_url":"https://api.github.com/users/serverglen/events{/privacy}","received_events_url":"https://api.github.com/users/serverglen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:48:37Z","updated_at":"2022-11-14T13:48:37Z","author_association":"CONTRIBUTOR","body":"应该是用法问题，MaxConcurrencyOf() 应该发生在AddService后，server启动前。\r\n\r\nclosed, reopen if you have further ideas.\r\nThank you for your contributions! ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313738561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313990651","html_url":"https://github.com/apache/brpc/issues/1986#issuecomment-1313990651","issue_url":"https://api.github.com/repos/apache/brpc/issues/1986","id":1313990651,"node_id":"IC_kwDOBhmkcs5OUef7","user":{"login":"leaf-potato","id":49188857,"node_id":"MDQ6VXNlcjQ5MTg4ODU3","avatar_url":"https://avatars.githubusercontent.com/u/49188857?v=4","gravatar_id":"","url":"https://api.github.com/users/leaf-potato","html_url":"https://github.com/leaf-potato","followers_url":"https://api.github.com/users/leaf-potato/followers","following_url":"https://api.github.com/users/leaf-potato/following{/other_user}","gists_url":"https://api.github.com/users/leaf-potato/gists{/gist_id}","starred_url":"https://api.github.com/users/leaf-potato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leaf-potato/subscriptions","organizations_url":"https://api.github.com/users/leaf-potato/orgs","repos_url":"https://api.github.com/users/leaf-potato/repos","events_url":"https://api.github.com/users/leaf-potato/events{/privacy}","received_events_url":"https://api.github.com/users/leaf-potato/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T16:04:50Z","updated_at":"2022-11-14T16:04:50Z","author_association":"CONTRIBUTOR","body":"> 看代码应该是没有Trailers-Only相关的逻辑\r\n\r\n想问下，在brpc client场景中server返回的哪些错误码会进行重试呢？我了解的到`ELIMIT`限流时会进行重试，还有别的情况吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1313990651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314244517","html_url":"https://github.com/apache/brpc/issues/1992#issuecomment-1314244517","issue_url":"https://api.github.com/repos/apache/brpc/issues/1992","id":1314244517,"node_id":"IC_kwDOBhmkcs5OVcel","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T19:08:51Z","updated_at":"2022-11-14T19:08:51Z","author_association":"MEMBER","body":"Fan, do you want to work on it?\r\n\r\nThe ideal state would be the [examples](https://github.com/apache/incubator-brpc/tree/master/example) can link brpc using bazel as a third_party","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314244517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314260586","html_url":"https://github.com/apache/brpc/issues/1986#issuecomment-1314260586","issue_url":"https://api.github.com/repos/apache/brpc/issues/1986","id":1314260586,"node_id":"IC_kwDOBhmkcs5OVgZq","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T19:22:05Z","updated_at":"2022-11-14T19:22:05Z","author_association":"MEMBER","body":"@yinchunxiang Hi, 这看上去grpc stream的代码，目前还不兼容grpc stream.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314260586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314261899","html_url":"https://github.com/apache/brpc/issues/1986#issuecomment-1314261899","issue_url":"https://api.github.com/repos/apache/brpc/issues/1986","id":1314261899,"node_id":"IC_kwDOBhmkcs5OVguL","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T19:23:25Z","updated_at":"2022-11-14T19:23:25Z","author_association":"MEMBER","body":"@leaf-potato https://github.com/apache/incubator-brpc/blob/master/docs/cn/client.md#%E9%94%99%E8%AF%AF%E5%80%BC%E5%BE%97%E9%87%8D%E8%AF%95","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314261899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314263592","html_url":"https://github.com/apache/brpc/issues/1983#issuecomment-1314263592","issue_url":"https://api.github.com/repos/apache/brpc/issues/1983","id":1314263592,"node_id":"IC_kwDOBhmkcs5OVhIo","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T19:25:08Z","updated_at":"2022-11-14T19:25:08Z","author_association":"MEMBER","body":"目前workaround是把流控关闭（window_size设置一个大值）","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314263592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314267173","html_url":"https://github.com/apache/brpc/issues/1963#issuecomment-1314267173","issue_url":"https://api.github.com/repos/apache/brpc/issues/1963","id":1314267173,"node_id":"IC_kwDOBhmkcs5OViAl","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T19:28:30Z","updated_at":"2022-11-14T19:28:30Z","author_association":"MEMBER","body":"@guodongxiaren Wei, since you finished migrating to MacOS, are you also working on migrating the other tests to Actions? If not, I will start to migrate later.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314267173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314273863","html_url":"https://github.com/apache/brpc/issues/1992#issuecomment-1314273863","issue_url":"https://api.github.com/repos/apache/brpc/issues/1992","id":1314273863,"node_id":"IC_kwDOBhmkcs5OVjpH","user":{"login":"fansehep","id":75058860,"node_id":"MDQ6VXNlcjc1MDU4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/75058860?v=4","gravatar_id":"","url":"https://api.github.com/users/fansehep","html_url":"https://github.com/fansehep","followers_url":"https://api.github.com/users/fansehep/followers","following_url":"https://api.github.com/users/fansehep/following{/other_user}","gists_url":"https://api.github.com/users/fansehep/gists{/gist_id}","starred_url":"https://api.github.com/users/fansehep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fansehep/subscriptions","organizations_url":"https://api.github.com/users/fansehep/orgs","repos_url":"https://api.github.com/users/fansehep/repos","events_url":"https://api.github.com/users/fansehep/events{/privacy}","received_events_url":"https://api.github.com/users/fansehep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T19:34:54Z","updated_at":"2022-11-14T19:34:54Z","author_association":"CONTRIBUTOR","body":"I'll try, but it may take some time.\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314273863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314276279","html_url":"https://github.com/apache/brpc/issues/1992#issuecomment-1314276279","issue_url":"https://api.github.com/repos/apache/brpc/issues/1992","id":1314276279,"node_id":"IC_kwDOBhmkcs5OVkO3","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T19:37:17Z","updated_at":"2022-11-14T19:37:17Z","author_association":"MEMBER","body":"> I'll try, but it may take some time.\r\n\r\nSounds good.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314276279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314676987","html_url":"https://github.com/apache/brpc/issues/1986#issuecomment-1314676987","issue_url":"https://api.github.com/repos/apache/brpc/issues/1986","id":1314676987,"node_id":"IC_kwDOBhmkcs5OXGD7","user":{"login":"12epartur3","id":37526842,"node_id":"MDQ6VXNlcjM3NTI2ODQy","avatar_url":"https://avatars.githubusercontent.com/u/37526842?v=4","gravatar_id":"","url":"https://api.github.com/users/12epartur3","html_url":"https://github.com/12epartur3","followers_url":"https://api.github.com/users/12epartur3/followers","following_url":"https://api.github.com/users/12epartur3/following{/other_user}","gists_url":"https://api.github.com/users/12epartur3/gists{/gist_id}","starred_url":"https://api.github.com/users/12epartur3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/12epartur3/subscriptions","organizations_url":"https://api.github.com/users/12epartur3/orgs","repos_url":"https://api.github.com/users/12epartur3/repos","events_url":"https://api.github.com/users/12epartur3/events{/privacy}","received_events_url":"https://api.github.com/users/12epartur3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T02:31:35Z","updated_at":"2022-11-15T06:55:33Z","author_association":"NONE","body":"> > 看代码应该是没有Trailers-Only相关的逻辑\r\n> \r\n> 想问下，在brpc client场景中server返回的哪些错误码会进行重试呢？我了解的到`ELIMIT`限流时会进行重试，还有别的情况吗？\r\n@leaf-potato\r\ngrpc客户端可以配置对应的错误码，遇到对应错误码可以重试\r\n{\r\n        \"loadBalancingConfig\": [\r\n            {\r\n                \"round_robin\": {}\r\n            }\r\n        ],\r\n        \"retryThrottling\": {\r\n            \"maxTokens\": 10,\r\n            \"tokenRatio\": 1\r\n        },\r\n        \"methodConfig\": [\r\n            {\r\n                \"name\": [\r\n                    {\r\n                        \"service\": \"my_service,\r\n                        \"method\": \"my_method\"\r\n                    }\r\n                ],\r\n                \"retryPolicy\": {\r\n                    \"MaxAttempts\": 2,\r\n                    \"InitialBackoff\": \"0.001s\",\r\n                    \"MaxBackoff\": \"0.001s\",\r\n                    \"BackoffMultiplier\": 1.0,\r\n                    \"RetryableStatusCodes\": [\r\n                        \"**UNAVAILABLE**\",\r\n                        \"**RESOURCE_EXHAUSTED**\"\r\n                    ]\r\n                },\r\n                \"waitForReady\": true\r\n            }\r\n        ]\r\n    }\r\n参考：\r\nhttps://github.com/grpc/grpc-go/tree/f51d21267df53c7f4e3533e18fdf5b61c76e005d/examples/features/retry\r\nhttps://github.com/grpc/proposal/blob/master/A6-client-retries.md#retryable-status-codes\r\n\r\nbrpc服务器中模拟error，cntl->SetFailed(brpc::ELOGOFF, \"test ELOGOFF”);\r\n在grpc的客户端中配置对应错误码 UNAVAILABLE(ELIMIT对应grpc错误码RESOURCE_EXHAUSTED)，发现没有进行重试，后续看到是grpc-go的shouldRetry函数中，判断if !a.s.TrailersOnly()提前退出了。\r\n看grpc的文档貌似应该将错误码返回在TrailersOnly的帧里面，但是brpc返回错误码是带了header。\r\nMost responses are expected to have both headers and trailers but Trailers-Only is permitted for calls that produce an immediate error.\r\n参考：https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md\r\n\r\n看了brpc的文档，ELOGOFF和ELIMIT是brpc希望客户端进行重试的两个错误，所以在grpc客户端上配置了对应的错误码UNAVAILABLE和RESOURCE_EXHAUSTED希望实现重试的功能","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314676987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314680219","html_url":"https://github.com/apache/brpc/issues/1986#issuecomment-1314680219","issue_url":"https://api.github.com/repos/apache/brpc/issues/1986","id":1314680219,"node_id":"IC_kwDOBhmkcs5OXG2b","user":{"login":"12epartur3","id":37526842,"node_id":"MDQ6VXNlcjM3NTI2ODQy","avatar_url":"https://avatars.githubusercontent.com/u/37526842?v=4","gravatar_id":"","url":"https://api.github.com/users/12epartur3","html_url":"https://github.com/12epartur3","followers_url":"https://api.github.com/users/12epartur3/followers","following_url":"https://api.github.com/users/12epartur3/following{/other_user}","gists_url":"https://api.github.com/users/12epartur3/gists{/gist_id}","starred_url":"https://api.github.com/users/12epartur3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/12epartur3/subscriptions","organizations_url":"https://api.github.com/users/12epartur3/orgs","repos_url":"https://api.github.com/users/12epartur3/repos","events_url":"https://api.github.com/users/12epartur3/events{/privacy}","received_events_url":"https://api.github.com/users/12epartur3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T02:36:17Z","updated_at":"2022-11-15T06:56:52Z","author_association":"NONE","body":"\r\n> @yinchunxiang Hi, 这看上去grpc stream的代码，目前还不兼容grpc stream.\r\n\r\n\r\n@zyearn \r\n是**brpc**的 stream不兼容**grpc**的stream吗\r\n是否将brpc返回错误码的frame修改为TrailersOnly就可以了？\r\nMost responses are expected to have both headers and trailers but Trailers-Only is permitted for calls that produce an immediate error.\r\n参考：https://github.com/grpc/grpc/blob/master/doc/PROTOCOL-HTTP2.md\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314680219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314691090","html_url":"https://github.com/apache/brpc/issues/1986#issuecomment-1314691090","issue_url":"https://api.github.com/repos/apache/brpc/issues/1986","id":1314691090,"node_id":"IC_kwDOBhmkcs5OXJgS","user":{"login":"12epartur3","id":37526842,"node_id":"MDQ6VXNlcjM3NTI2ODQy","avatar_url":"https://avatars.githubusercontent.com/u/37526842?v=4","gravatar_id":"","url":"https://api.github.com/users/12epartur3","html_url":"https://github.com/12epartur3","followers_url":"https://api.github.com/users/12epartur3/followers","following_url":"https://api.github.com/users/12epartur3/following{/other_user}","gists_url":"https://api.github.com/users/12epartur3/gists{/gist_id}","starred_url":"https://api.github.com/users/12epartur3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/12epartur3/subscriptions","organizations_url":"https://api.github.com/users/12epartur3/orgs","repos_url":"https://api.github.com/users/12epartur3/repos","events_url":"https://api.github.com/users/12epartur3/events{/privacy}","received_events_url":"https://api.github.com/users/12epartur3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T02:55:47Z","updated_at":"2022-11-15T03:15:44Z","author_association":"NONE","body":"补充一下问题复现：\r\n![Snipaste_2022-11-15_11-09-27](https://user-images.githubusercontent.com/37526842/201817316-df884ec7-6276-4114-898c-49546359b590.png)\r\n![Snipaste_202：q2-11-15_10-57-10](https://user-images.githubusercontent.com/37526842/201817325-1dab92f4-99c7-4426-94f8-690abf00f920.png)\r\n\r\n\r\n![invoke](https://user-images.githubusercontent.com/37526842/201818006-0b9976d7-da23-421c-a18c-7c808d455cab.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314691090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314829081","html_url":"https://github.com/apache/brpc/issues/1390#issuecomment-1314829081","issue_url":"https://api.github.com/repos/apache/brpc/issues/1390","id":1314829081,"node_id":"IC_kwDOBhmkcs5OXrMZ","user":{"login":"Lhfcws","id":898272,"node_id":"MDQ6VXNlcjg5ODI3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/898272?v=4","gravatar_id":"","url":"https://api.github.com/users/Lhfcws","html_url":"https://github.com/Lhfcws","followers_url":"https://api.github.com/users/Lhfcws/followers","following_url":"https://api.github.com/users/Lhfcws/following{/other_user}","gists_url":"https://api.github.com/users/Lhfcws/gists{/gist_id}","starred_url":"https://api.github.com/users/Lhfcws/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Lhfcws/subscriptions","organizations_url":"https://api.github.com/users/Lhfcws/orgs","repos_url":"https://api.github.com/users/Lhfcws/repos","events_url":"https://api.github.com/users/Lhfcws/events{/privacy}","received_events_url":"https://api.github.com/users/Lhfcws/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T06:19:40Z","updated_at":"2022-11-15T06:19:40Z","author_association":"NONE","body":"> Thanks @Lhfcws So according to your comments, the leak is true, but we can ignore it, right?\r\n> \r\n> Is there a better elegant way to solve this, like smart pointer or something else?\r\n\r\nObviously smart pointer can solve this issue functionally, but I have no idea how it may affect the performance.  Maybe some other maintainers or core developers could tell us the tradeoff when they decide to leave this mem-leak issue ignored.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314829081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314851891","html_url":"https://github.com/apache/brpc/issues/1889#issuecomment-1314851891","issue_url":"https://api.github.com/repos/apache/brpc/issues/1889","id":1314851891,"node_id":"IC_kwDOBhmkcs5OXwwz","user":{"login":"wangxun155423","id":12822920,"node_id":"MDQ6VXNlcjEyODIyOTIw","avatar_url":"https://avatars.githubusercontent.com/u/12822920?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxun155423","html_url":"https://github.com/wangxun155423","followers_url":"https://api.github.com/users/wangxun155423/followers","following_url":"https://api.github.com/users/wangxun155423/following{/other_user}","gists_url":"https://api.github.com/users/wangxun155423/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxun155423/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxun155423/subscriptions","organizations_url":"https://api.github.com/users/wangxun155423/orgs","repos_url":"https://api.github.com/users/wangxun155423/repos","events_url":"https://api.github.com/users/wangxun155423/events{/privacy}","received_events_url":"https://api.github.com/users/wangxun155423/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T06:50:15Z","updated_at":"2022-11-15T06:50:15Z","author_association":"NONE","body":"这个问题有解决方案了吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1314851891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1315130484","html_url":"https://github.com/apache/brpc/issues/1986#issuecomment-1315130484","issue_url":"https://api.github.com/repos/apache/brpc/issues/1986","id":1315130484,"node_id":"IC_kwDOBhmkcs5OY0x0","user":{"login":"yinchunxiang","id":1582781,"node_id":"MDQ6VXNlcjE1ODI3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1582781?v=4","gravatar_id":"","url":"https://api.github.com/users/yinchunxiang","html_url":"https://github.com/yinchunxiang","followers_url":"https://api.github.com/users/yinchunxiang/followers","following_url":"https://api.github.com/users/yinchunxiang/following{/other_user}","gists_url":"https://api.github.com/users/yinchunxiang/gists{/gist_id}","starred_url":"https://api.github.com/users/yinchunxiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yinchunxiang/subscriptions","organizations_url":"https://api.github.com/users/yinchunxiang/orgs","repos_url":"https://api.github.com/users/yinchunxiang/repos","events_url":"https://api.github.com/users/yinchunxiang/events{/privacy}","received_events_url":"https://api.github.com/users/yinchunxiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T10:47:52Z","updated_at":"2022-11-15T10:47:52Z","author_association":"NONE","body":"> @yinchunxiang Hi, 这看上去grpc stream的代码，目前还不兼容grpc stream.\r\n\r\n可以通过在 brpc 服务端继承 RetryPolicy来实现支持 TrailersOnly，从而达到让 grpc 重试吗？ @zyearn ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1315130484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1315146524","html_url":"https://github.com/apache/brpc/issues/1992#issuecomment-1315146524","issue_url":"https://api.github.com/repos/apache/brpc/issues/1992","id":1315146524,"node_id":"IC_kwDOBhmkcs5OY4sc","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T11:02:12Z","updated_at":"2022-11-15T11:02:12Z","author_association":"CONTRIBUTOR","body":"```BUILD\r\nhttp_archive(\r\n    name = \"apache_brpc\",\r\n    urls = [\r\n        \"https://github.com/apache/incubator-brpc/archive/3d90221107000133c2d7f3ccc6372680fb6af27d.tar.gz\",\r\n    ],\r\n    sha256 = \"b4f4517bad125e8b57a1af54cfe6d31691362c9e02db6f8c434fdd693e27c71a\",\r\n    strip_prefix = \"incubator-brpc-3d90221107000133c2d7f3ccc6372680fb6af27d\",\r\n)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1315146524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1315211157","html_url":"https://github.com/apache/brpc/issues/1995#issuecomment-1315211157","issue_url":"https://api.github.com/repos/apache/brpc/issues/1995","id":1315211157,"node_id":"IC_kwDOBhmkcs5OZIeV","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T12:01:19Z","updated_at":"2022-11-15T12:01:19Z","author_association":"CONTRIBUTOR","body":"Thanks. This is a bug. The buf to attach is not the exactly same with the base address registered. I will commit a patch to fix this bug later. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1315211157/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1315431797","html_url":"https://github.com/apache/brpc/issues/1992#issuecomment-1315431797","issue_url":"https://api.github.com/repos/apache/brpc/issues/1992","id":1315431797,"node_id":"IC_kwDOBhmkcs5OZ-V1","user":{"login":"fansehep","id":75058860,"node_id":"MDQ6VXNlcjc1MDU4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/75058860?v=4","gravatar_id":"","url":"https://api.github.com/users/fansehep","html_url":"https://github.com/fansehep","followers_url":"https://api.github.com/users/fansehep/followers","following_url":"https://api.github.com/users/fansehep/following{/other_user}","gists_url":"https://api.github.com/users/fansehep/gists{/gist_id}","starred_url":"https://api.github.com/users/fansehep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fansehep/subscriptions","organizations_url":"https://api.github.com/users/fansehep/orgs","repos_url":"https://api.github.com/users/fansehep/repos","events_url":"https://api.github.com/users/fansehep/events{/privacy}","received_events_url":"https://api.github.com/users/fansehep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T14:58:47Z","updated_at":"2022-11-15T14:59:02Z","author_association":"CONTRIBUTOR","body":"> ```\r\n> http_archive(\r\n>     name = \"apache_brpc\",\r\n>     urls = [\r\n>         \"https://github.com/apache/incubator-brpc/archive/3d90221107000133c2d7f3ccc6372680fb6af27d.tar.gz\",\r\n>     ],\r\n>     sha256 = \"b4f4517bad125e8b57a1af54cfe6d31691362c9e02db6f8c434fdd693e27c71a\",\r\n>     strip_prefix = \"incubator-brpc-3d90221107000133c2d7f3ccc6372680fb6af27d\",\r\n> )\r\n> ```\r\n\r\nit is useless in my server. bazel can not found some deps like openssl.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1315431797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316149328","html_url":"https://github.com/apache/brpc/issues/1992#issuecomment-1316149328","issue_url":"https://api.github.com/repos/apache/brpc/issues/1992","id":1316149328,"node_id":"IC_kwDOBhmkcs5OcthQ","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T01:33:55Z","updated_at":"2022-11-16T01:33:55Z","author_association":"CONTRIBUTOR","body":"@fansehep \r\n```BUILD\r\nhttp_archive(\r\n    name = \"rules_perl\",  # 2021-09-23T03:21:58Z\r\n    sha256 = \"55fbe071971772758ad669615fc9aac9b126db6ae45909f0f36de499f6201dd3\",\r\n    strip_prefix = \"rules_perl-2f4f36f454375e678e81e5ca465d4d497c5c02da\",\r\n    urls = [\r\n        \"https://github.com/bazelbuild/rules_perl/archive/2f4f36f454375e678e81e5ca465d4d497c5c02da.tar.gz\",\r\n    ],\r\n)\r\n# Use rules_foreign_cc as fewer as possible.\r\n#\r\n# 1. Build very basic libraries without any further dependencies.\r\n# 2. Build too complex to bazelize library.\r\nhttp_archive(\r\n    name = \"rules_foreign_cc\",\r\n    sha256 = \"2a4d07cd64b0719b39a7c12218a3e507672b82a97b98c6a89d38565894cf7c51\",\r\n    strip_prefix = \"rules_foreign_cc-0.9.0\",\r\n    url = \"https://github.com/bazelbuild/rules_foreign_cc/archive/0.9.0.tar.gz\",\r\n)\r\n#\r\n# Starlark rules\r\n#\r\nload(\"@rules_foreign_cc//foreign_cc:repositories.bzl\", \"rules_foreign_cc_dependencies\")\r\nrules_foreign_cc_dependencies()\r\n#\r\n# Perl Dependencies\r\n# (Required by building openssl)\r\n#\r\nload(\"@rules_perl//perl:deps.bzl\", \"perl_register_toolchains\", \"perl_rules_dependencies\")\r\nperl_rules_dependencies()\r\nperl_register_toolchains()\r\n\r\n# bRPC cannot use boringssl. Build openssl.\r\nhttp_archive(\r\n   name = \"openssl\",  # 2022-11-1\r\n   build_file = \"//third_party/openssl:openssl.foreign_rules.BUILD\",\r\n   sha256 = \"c5ac01e760ee6ff0dab61d6b2bbd30146724d063eb322180c6f18a6f74e4b6aa\",\r\n   strip_prefix = \"openssl-1.1.1s\",\r\n   urls = [\r\n       \"https://www.openssl.org/source/openssl-1.1.1s.tar.gz\",\r\n   ],\r\n)\r\n```\r\n`openssl.foreign_rules.BUILD`\r\n```BUILD\r\n\"\"\"An openssl build file based on a snippet found in the github issue:\r\nhttps://github.com/bazelbuild/rules_foreign_cc/issues/337\r\n\r\nNote that the $(PERL) \"make variable\" (https://docs.bazel.build/versions/main/be/make-variables.html)\r\nis populated by the perl toolchain provided by rules_perl.\r\n\"\"\"\r\n\r\nload(\"@rules_foreign_cc//foreign_cc:defs.bzl\", \"configure_make\", \"configure_make_variant\")\r\n\r\n# Read https://wiki.openssl.org/index.php/Compilation_and_Installation\r\n\r\nfilegroup(\r\n    name = \"all_srcs\",\r\n    srcs = glob(\r\n        include = [\"**\"],\r\n        exclude = [\"*.bazel\"],\r\n    ),\r\n)\r\n\r\nCONFIGURE_OPTIONS = [\r\n    \"no-comp\",\r\n    \"no-idea\",\r\n    \"no-weak-ssl-ciphers\",\r\n    \"no-shared\",\r\n]\r\n\r\nLIB_NAME = \"openssl\"\r\n\r\nMAKE_TARGETS = [\r\n    \"build_libs\",\r\n    \"install_dev\",\r\n]\r\n\r\nconfig_setting(\r\n    name = \"msvc_compiler\",\r\n    flag_values = {\r\n        \"@bazel_tools//tools/cpp:compiler\": \"msvc-cl\",\r\n    },\r\n    visibility = [\"//visibility:public\"],\r\n)\r\n\r\nalias(\r\n    name = \"openssl\",\r\n    actual = \"openssl_default\",\r\n    visibility = [\"//visibility:public\"],\r\n)\r\n\r\nalias(\r\n    name = \"ssl\",\r\n    actual = \"openssl_default\",\r\n    visibility = [\"//visibility:public\"],\r\n)\r\n\r\nalias(\r\n    name = \"crypto\",\r\n    actual = \"openssl_default\",\r\n    visibility = [\"//visibility:public\"],\r\n)\r\n\r\nconfigure_make(\r\n    name = \"openssl_default\",\r\n    configure_command = \"config\",\r\n    configure_in_place = True,\r\n    configure_options = CONFIGURE_OPTIONS,\r\n    args = [\"-j `nproc`\"],\r\n    env = select({\r\n        \"@platforms//os:macos\": {\r\n            \"AR\": \"\",\r\n            \"PERL\": \"$$EXT_BUILD_ROOT$$/$(PERL)\",\r\n        },\r\n        \"//conditions:default\": {\r\n            \"PERL\": \"$$EXT_BUILD_ROOT$$/$(PERL)\",\r\n        },\r\n    }),\r\n    lib_name = LIB_NAME,\r\n    lib_source = \":all_srcs\",\r\n    copts = [\"-fPIC\"],\r\n    # Note that for Linux builds, libssl must come before libcrypto on the linker command-line.\r\n    # As such, libssl must be listed before libcrypto\r\n    out_static_libs = [\r\n        \"libssl.a\",\r\n        \"libcrypto.a\",\r\n    ],\r\n    targets = MAKE_TARGETS,\r\n    toolchains = [\"@rules_perl//:current_toolchain\"],\r\n)\r\n\r\nfilegroup(\r\n    name = \"gen_dir\",\r\n    srcs = [\":openssl\"],\r\n    output_group = \"gen_dir\",\r\n    visibility = [\"//visibility:public\"],\r\n)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316149328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316161463","html_url":"https://github.com/apache/brpc/issues/1995#issuecomment-1316161463","issue_url":"https://api.github.com/repos/apache/brpc/issues/1995","id":1316161463,"node_id":"IC_kwDOBhmkcs5Ocwe3","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T01:45:59Z","updated_at":"2022-11-16T01:45:59Z","author_association":"CONTRIBUTOR","body":"@Tuvie How much work is needed? It's grateful if you can shed some light on the relation between `user_data` and memory registered by `ibv_reg_mr`","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316161463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316267576","html_url":"https://github.com/apache/brpc/issues/1992#issuecomment-1316267576","issue_url":"https://api.github.com/repos/apache/brpc/issues/1992","id":1316267576,"node_id":"IC_kwDOBhmkcs5OdKY4","user":{"login":"fansehep","id":75058860,"node_id":"MDQ6VXNlcjc1MDU4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/75058860?v=4","gravatar_id":"","url":"https://api.github.com/users/fansehep","html_url":"https://github.com/fansehep","followers_url":"https://api.github.com/users/fansehep/followers","following_url":"https://api.github.com/users/fansehep/following{/other_user}","gists_url":"https://api.github.com/users/fansehep/gists{/gist_id}","starred_url":"https://api.github.com/users/fansehep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fansehep/subscriptions","organizations_url":"https://api.github.com/users/fansehep/orgs","repos_url":"https://api.github.com/users/fansehep/repos","events_url":"https://api.github.com/users/fansehep/events{/privacy}","received_events_url":"https://api.github.com/users/fansehep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T03:27:48Z","updated_at":"2022-11-16T03:27:48Z","author_association":"CONTRIBUTOR","body":"> @fansehep\r\n> \r\n> ```\r\n> http_archive(\r\n>     name = \"rules_perl\",  # 2021-09-23T03:21:58Z\r\n>     sha256 = \"55fbe071971772758ad669615fc9aac9b126db6ae45909f0f36de499f6201dd3\",\r\n>     strip_prefix = \"rules_perl-2f4f36f454375e678e81e5ca465d4d497c5c02da\",\r\n>     urls = [\r\n>         \"https://github.com/bazelbuild/rules_perl/archive/2f4f36f454375e678e81e5ca465d4d497c5c02da.tar.gz\",\r\n>     ],\r\n> )\r\n> # Use rules_foreign_cc as fewer as possible.\r\n> #\r\n> # 1. Build very basic libraries without any further dependencies.\r\n> # 2. Build too complex to bazelize library.\r\n> http_archive(\r\n>     name = \"rules_foreign_cc\",\r\n>     sha256 = \"2a4d07cd64b0719b39a7c12218a3e507672b82a97b98c6a89d38565894cf7c51\",\r\n>     strip_prefix = \"rules_foreign_cc-0.9.0\",\r\n>     url = \"https://github.com/bazelbuild/rules_foreign_cc/archive/0.9.0.tar.gz\",\r\n> )\r\n> #\r\n> # Starlark rules\r\n> #\r\n> load(\"@rules_foreign_cc//foreign_cc:repositories.bzl\", \"rules_foreign_cc_dependencies\")\r\n> rules_foreign_cc_dependencies()\r\n> #\r\n> # Perl Dependencies\r\n> # (Required by building openssl)\r\n> #\r\n> load(\"@rules_perl//perl:deps.bzl\", \"perl_register_toolchains\", \"perl_rules_dependencies\")\r\n> perl_rules_dependencies()\r\n> perl_register_toolchains()\r\n> \r\n> # bRPC cannot use boringssl. Build openssl.\r\n> http_archive(\r\n>    name = \"openssl\",  # 2022-11-1\r\n>    build_file = \"//third_party/openssl:openssl.foreign_rules.BUILD\",\r\n>    sha256 = \"c5ac01e760ee6ff0dab61d6b2bbd30146724d063eb322180c6f18a6f74e4b6aa\",\r\n>    strip_prefix = \"openssl-1.1.1s\",\r\n>    urls = [\r\n>        \"https://www.openssl.org/source/openssl-1.1.1s.tar.gz\",\r\n>    ],\r\n> )\r\n> ```\r\n> \r\n> `openssl.foreign_rules.BUILD`\r\n> \r\n> ```\r\n> \"\"\"An openssl build file based on a snippet found in the github issue:\r\n> https://github.com/bazelbuild/rules_foreign_cc/issues/337\r\n> \r\n> Note that the $(PERL) \"make variable\" (https://docs.bazel.build/versions/main/be/make-variables.html)\r\n> is populated by the perl toolchain provided by rules_perl.\r\n> \"\"\"\r\n> \r\n> load(\"@rules_foreign_cc//foreign_cc:defs.bzl\", \"configure_make\", \"configure_make_variant\")\r\n> \r\n> # Read https://wiki.openssl.org/index.php/Compilation_and_Installation\r\n> \r\n> filegroup(\r\n>     name = \"all_srcs\",\r\n>     srcs = glob(\r\n>         include = [\"**\"],\r\n>         exclude = [\"*.bazel\"],\r\n>     ),\r\n> )\r\n> \r\n> CONFIGURE_OPTIONS = [\r\n>     \"no-comp\",\r\n>     \"no-idea\",\r\n>     \"no-weak-ssl-ciphers\",\r\n>     \"no-shared\",\r\n> ]\r\n> \r\n> LIB_NAME = \"openssl\"\r\n> \r\n> MAKE_TARGETS = [\r\n>     \"build_libs\",\r\n>     \"install_dev\",\r\n> ]\r\n> \r\n> config_setting(\r\n>     name = \"msvc_compiler\",\r\n>     flag_values = {\r\n>         \"@bazel_tools//tools/cpp:compiler\": \"msvc-cl\",\r\n>     },\r\n>     visibility = [\"//visibility:public\"],\r\n> )\r\n> \r\n> alias(\r\n>     name = \"openssl\",\r\n>     actual = \"openssl_default\",\r\n>     visibility = [\"//visibility:public\"],\r\n> )\r\n> \r\n> alias(\r\n>     name = \"ssl\",\r\n>     actual = \"openssl_default\",\r\n>     visibility = [\"//visibility:public\"],\r\n> )\r\n> \r\n> alias(\r\n>     name = \"crypto\",\r\n>     actual = \"openssl_default\",\r\n>     visibility = [\"//visibility:public\"],\r\n> )\r\n> \r\n> configure_make(\r\n>     name = \"openssl_default\",\r\n>     configure_command = \"config\",\r\n>     configure_in_place = True,\r\n>     configure_options = CONFIGURE_OPTIONS,\r\n>     args = [\"-j `nproc`\"],\r\n>     env = select({\r\n>         \"@platforms//os:macos\": {\r\n>             \"AR\": \"\",\r\n>             \"PERL\": \"$$EXT_BUILD_ROOT$$/$(PERL)\",\r\n>         },\r\n>         \"//conditions:default\": {\r\n>             \"PERL\": \"$$EXT_BUILD_ROOT$$/$(PERL)\",\r\n>         },\r\n>     }),\r\n>     lib_name = LIB_NAME,\r\n>     lib_source = \":all_srcs\",\r\n>     copts = [\"-fPIC\"],\r\n>     # Note that for Linux builds, libssl must come before libcrypto on the linker command-line.\r\n>     # As such, libssl must be listed before libcrypto\r\n>     out_static_libs = [\r\n>         \"libssl.a\",\r\n>         \"libcrypto.a\",\r\n>     ],\r\n>     targets = MAKE_TARGETS,\r\n>     toolchains = [\"@rules_perl//:current_toolchain\"],\r\n> )\r\n> \r\n> filegroup(\r\n>     name = \"gen_dir\",\r\n>     srcs = [\":openssl\"],\r\n>     output_group = \"gen_dir\",\r\n>     visibility = [\"//visibility:public\"],\r\n> )\r\n> ```\r\n\r\nThank you. but it seems not only openssl. and leveldb or other deps. I know how to solve it. you can see my new pr.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316267576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316297197","html_url":"https://github.com/apache/brpc/issues/1992#issuecomment-1316297197","issue_url":"https://api.github.com/repos/apache/brpc/issues/1992","id":1316297197,"node_id":"IC_kwDOBhmkcs5OdRnt","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T04:04:58Z","updated_at":"2022-11-16T04:05:25Z","author_association":"CONTRIBUTOR","body":"`bind` is not recommended. See https://bazel.build/reference/be/workspace#bind\r\nIMHO, you can write a bazel function that expose all external dependency in BRPC, and call that function in BRPC `WORKSPACE` or in project that depends on BRPC. For example, TF WORKSPACE\r\nhttps://github.com/tensorflow/tensorflow/blob/49959d2f7d5e497edf90d6cdebc9afa3247234b7/WORKSPACE#L9-L23","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316297197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316309626","html_url":"https://github.com/apache/brpc/pull/1996#issuecomment-1316309626","issue_url":"https://api.github.com/repos/apache/brpc/issues/1996","id":1316309626,"node_id":"IC_kwDOBhmkcs5OdUp6","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T04:21:04Z","updated_at":"2022-11-16T04:21:04Z","author_association":"CONTRIBUTOR","body":"CI is failed","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316309626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316317409","html_url":"https://github.com/apache/brpc/pull/1996#issuecomment-1316317409","issue_url":"https://api.github.com/repos/apache/brpc/issues/1996","id":1316317409,"node_id":"IC_kwDOBhmkcs5OdWjh","user":{"login":"fansehep","id":75058860,"node_id":"MDQ6VXNlcjc1MDU4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/75058860?v=4","gravatar_id":"","url":"https://api.github.com/users/fansehep","html_url":"https://github.com/fansehep","followers_url":"https://api.github.com/users/fansehep/followers","following_url":"https://api.github.com/users/fansehep/following{/other_user}","gists_url":"https://api.github.com/users/fansehep/gists{/gist_id}","starred_url":"https://api.github.com/users/fansehep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fansehep/subscriptions","organizations_url":"https://api.github.com/users/fansehep/orgs","repos_url":"https://api.github.com/users/fansehep/repos","events_url":"https://api.github.com/users/fansehep/events{/privacy}","received_events_url":"https://api.github.com/users/fansehep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T04:26:28Z","updated_at":"2022-11-16T04:26:28Z","author_association":"CONTRIBUTOR","body":"> CI is failed\r\n\r\nmaybe it is the test failed.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316317409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316386474","html_url":"https://github.com/apache/brpc/issues/1992#issuecomment-1316386474","issue_url":"https://api.github.com/repos/apache/brpc/issues/1992","id":1316386474,"node_id":"IC_kwDOBhmkcs5Odnaq","user":{"login":"fansehep","id":75058860,"node_id":"MDQ6VXNlcjc1MDU4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/75058860?v=4","gravatar_id":"","url":"https://api.github.com/users/fansehep","html_url":"https://github.com/fansehep","followers_url":"https://api.github.com/users/fansehep/followers","following_url":"https://api.github.com/users/fansehep/following{/other_user}","gists_url":"https://api.github.com/users/fansehep/gists{/gist_id}","starred_url":"https://api.github.com/users/fansehep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fansehep/subscriptions","organizations_url":"https://api.github.com/users/fansehep/orgs","repos_url":"https://api.github.com/users/fansehep/repos","events_url":"https://api.github.com/users/fansehep/events{/privacy}","received_events_url":"https://api.github.com/users/fansehep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T05:32:55Z","updated_at":"2022-11-16T05:53:07Z","author_association":"CONTRIBUTOR","body":"> `bind` is not recommended. See https://bazel.build/reference/be/workspace#bind IMHO, you can write a bazel function that expose all external dependency in BRPC, and call that function in BRPC `WORKSPACE` or in project that depends on BRPC. For example, TF WORKSPACE https://github.com/tensorflow/tensorflow/blob/49959d2f7d5e497edf90d6cdebc9afa3247234b7/WORKSPACE#L9-L23\r\n\r\nwow, thank you!. looks elegance. i will try it.\r\nok fixed it. I erase bind in the example WORKSPACE. and build successful.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316386474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316884635","html_url":"https://github.com/apache/brpc/issues/1997#issuecomment-1316884635","issue_url":"https://api.github.com/repos/apache/brpc/issues/1997","id":1316884635,"node_id":"IC_kwDOBhmkcs5OfhCb","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T11:55:41Z","updated_at":"2022-11-16T11:55:41Z","author_association":"CONTRIBUTOR","body":"这就是完整的core栈。bthread的堆栈就是从bthread_make_fcontext 开始的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316884635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316919461","html_url":"https://github.com/apache/brpc/pull/1808#issuecomment-1316919461","issue_url":"https://api.github.com/repos/apache/brpc/issues/1808","id":1316919461,"node_id":"IC_kwDOBhmkcs5Ofpil","user":{"login":"jiangdongzi","id":17529657,"node_id":"MDQ6VXNlcjE3NTI5NjU3","avatar_url":"https://avatars.githubusercontent.com/u/17529657?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangdongzi","html_url":"https://github.com/jiangdongzi","followers_url":"https://api.github.com/users/jiangdongzi/followers","following_url":"https://api.github.com/users/jiangdongzi/following{/other_user}","gists_url":"https://api.github.com/users/jiangdongzi/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangdongzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangdongzi/subscriptions","organizations_url":"https://api.github.com/users/jiangdongzi/orgs","repos_url":"https://api.github.com/users/jiangdongzi/repos","events_url":"https://api.github.com/users/jiangdongzi/events{/privacy}","received_events_url":"https://api.github.com/users/jiangdongzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T12:16:38Z","updated_at":"2022-11-16T12:16:38Z","author_association":"NONE","body":"@zhangke96 mongoclient怎么样了, 我们现在也有这样的需求","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1316919461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317186330","html_url":"https://github.com/apache/brpc/issues/1995#issuecomment-1317186330","issue_url":"https://api.github.com/repos/apache/brpc/issues/1995","id":1317186330,"node_id":"IC_kwDOBhmkcs5Ogqsa","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T15:19:12Z","updated_at":"2022-11-16T15:19:12Z","author_association":"CONTRIBUTOR","body":"> @Tuvie How much work is needed? It's grateful if you can shed some light on the relation between `user_data` and memory registered by `ibv_reg_mr`\r\n\r\nA PR is committed: https://github.com/apache/incubator-brpc/pull/1999\r\nPls try again and refer to the update on docs.\r\n\r\nBy default, if you use memory managed by IOBuf, you don't need to register memory by yourself. If you manage memory outside the IOBuf, you should register memory explicitly as you did. However, since it is not efficient to lookup the lkey for this kind of user_data, we suggest you maintain your own memory pool and register all the pool once.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317186330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317231234","html_url":"https://github.com/apache/brpc/issues/1988#issuecomment-1317231234","issue_url":"https://api.github.com/repos/apache/brpc/issues/1988","id":1317231234,"node_id":"IC_kwDOBhmkcs5Og1qC","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T15:48:37Z","updated_at":"2022-11-16T15:48:37Z","author_association":"CONTRIBUTOR","body":"\"impl.\"中的.指这是一个缩写\r\n![image](https://user-images.githubusercontent.com/6566535/202227535-bf6049df-e19e-4377-81d7-10fa0365ce77.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317231234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317356357","html_url":"https://github.com/apache/brpc/issues/1997#issuecomment-1317356357","issue_url":"https://api.github.com/repos/apache/brpc/issues/1997","id":1317356357,"node_id":"IC_kwDOBhmkcs5OhUNF","user":{"login":"guodongxiaren","id":5945107,"node_id":"MDQ6VXNlcjU5NDUxMDc=","avatar_url":"https://avatars.githubusercontent.com/u/5945107?v=4","gravatar_id":"","url":"https://api.github.com/users/guodongxiaren","html_url":"https://github.com/guodongxiaren","followers_url":"https://api.github.com/users/guodongxiaren/followers","following_url":"https://api.github.com/users/guodongxiaren/following{/other_user}","gists_url":"https://api.github.com/users/guodongxiaren/gists{/gist_id}","starred_url":"https://api.github.com/users/guodongxiaren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guodongxiaren/subscriptions","organizations_url":"https://api.github.com/users/guodongxiaren/orgs","repos_url":"https://api.github.com/users/guodongxiaren/repos","events_url":"https://api.github.com/users/guodongxiaren/events{/privacy}","received_events_url":"https://api.github.com/users/guodongxiaren/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T17:02:27Z","updated_at":"2022-11-19T18:32:17Z","author_association":"MEMBER","body":"这个可能你业务代码抛出了异常，没有catch，异常逃逸到了brpc框架内。本质原因是业务代码的问题，不是brpc的问题。\n建议给service函数接口加上noexcept声明，这样不会core栈更准确，不会在brpc框架内部。你业务代码中调用的函数也可以加上noexcept，方便core的时候定位问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317356357/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317955101","html_url":"https://github.com/apache/brpc/pull/1996#issuecomment-1317955101","issue_url":"https://api.github.com/repos/apache/brpc/issues/1996","id":1317955101,"node_id":"IC_kwDOBhmkcs5OjmYd","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T02:09:21Z","updated_at":"2022-11-17T02:09:21Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317955101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317959593","html_url":"https://github.com/apache/brpc/issues/1995#issuecomment-1317959593","issue_url":"https://api.github.com/repos/apache/brpc/issues/1995","id":1317959593,"node_id":"IC_kwDOBhmkcs5Ojnep","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T02:14:16Z","updated_at":"2022-11-17T02:14:16Z","author_association":"CONTRIBUTOR","body":"Would it be better if `MAX_USER_MRS` be defined by `gflags`?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317959593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317981930","html_url":"https://github.com/apache/brpc/pull/1996#issuecomment-1317981930","issue_url":"https://api.github.com/repos/apache/brpc/issues/1996","id":1317981930,"node_id":"IC_kwDOBhmkcs5Ojs7q","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T02:45:06Z","updated_at":"2022-11-17T02:45:06Z","author_association":"CONTRIBUTOR","body":"Does it support MacOS?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317981930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317996849","html_url":"https://github.com/apache/brpc/issues/1995#issuecomment-1317996849","issue_url":"https://api.github.com/repos/apache/brpc/issues/1995","id":1317996849,"node_id":"IC_kwDOBhmkcs5Ojwkx","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T03:06:35Z","updated_at":"2022-11-17T03:06:35Z","author_association":"CONTRIBUTOR","body":"Since linear scan is not efficient. Would interval tree be used to query and update in $\\mathcal{O}(\\log{}n)$ ? ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1317996849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318001070","html_url":"https://github.com/apache/brpc/pull/1996#issuecomment-1318001070","issue_url":"https://api.github.com/repos/apache/brpc/issues/1996","id":1318001070,"node_id":"IC_kwDOBhmkcs5Ojxmu","user":{"login":"fansehep","id":75058860,"node_id":"MDQ6VXNlcjc1MDU4ODYw","avatar_url":"https://avatars.githubusercontent.com/u/75058860?v=4","gravatar_id":"","url":"https://api.github.com/users/fansehep","html_url":"https://github.com/fansehep","followers_url":"https://api.github.com/users/fansehep/followers","following_url":"https://api.github.com/users/fansehep/following{/other_user}","gists_url":"https://api.github.com/users/fansehep/gists{/gist_id}","starred_url":"https://api.github.com/users/fansehep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fansehep/subscriptions","organizations_url":"https://api.github.com/users/fansehep/orgs","repos_url":"https://api.github.com/users/fansehep/repos","events_url":"https://api.github.com/users/fansehep/events{/privacy}","received_events_url":"https://api.github.com/users/fansehep/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T03:12:22Z","updated_at":"2022-11-17T03:12:22Z","author_association":"CONTRIBUTOR","body":"> Does it support MacOS?\r\n\r\nI do not have Mac laptop, you can try it?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318001070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318112797","html_url":"https://github.com/apache/brpc/issues/1995#issuecomment-1318112797","issue_url":"https://api.github.com/repos/apache/brpc/issues/1995","id":1318112797,"node_id":"IC_kwDOBhmkcs5OkM4d","user":{"login":"372046933","id":1251167,"node_id":"MDQ6VXNlcjEyNTExNjc=","avatar_url":"https://avatars.githubusercontent.com/u/1251167?v=4","gravatar_id":"","url":"https://api.github.com/users/372046933","html_url":"https://github.com/372046933","followers_url":"https://api.github.com/users/372046933/followers","following_url":"https://api.github.com/users/372046933/following{/other_user}","gists_url":"https://api.github.com/users/372046933/gists{/gist_id}","starred_url":"https://api.github.com/users/372046933/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/372046933/subscriptions","organizations_url":"https://api.github.com/users/372046933/orgs","repos_url":"https://api.github.com/users/372046933/repos","events_url":"https://api.github.com/users/372046933/events{/privacy}","received_events_url":"https://api.github.com/users/372046933/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T05:43:53Z","updated_at":"2022-11-17T05:43:53Z","author_association":"CONTRIBUTOR","body":"In my scenario, memory pool is not applicable, because the memory are allocated by allocator in the library out of control. I have tested  `RegisterMemoryForRdma` with size from `KB`s to `MB`s and found that `RegisterMemoryForRdma` always faster than `memcpy`.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318112797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318152330","html_url":"https://github.com/apache/brpc/issues/1997#issuecomment-1318152330","issue_url":"https://api.github.com/repos/apache/brpc/issues/1997","id":1318152330,"node_id":"IC_kwDOBhmkcs5OkWiK","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T06:30:41Z","updated_at":"2022-11-17T06:30:41Z","author_association":"CONTRIBUTOR","body":"> 这个是你业务代码抛出了异常，没有catch，异常逃逸到了brpc框架内。\r\n\r\n业务代码抛异常为什么会跑到brpc的 SocketDeleter::operator() 函数里呢？\r\n这种堆栈以前也见过，但想不明白为啥会core在这里","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318152330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318211889","html_url":"https://github.com/apache/brpc/issues/1995#issuecomment-1318211889","issue_url":"https://api.github.com/repos/apache/brpc/issues/1995","id":1318211889,"node_id":"IC_kwDOBhmkcs5OklEx","user":{"login":"Tuvie","id":5780312,"node_id":"MDQ6VXNlcjU3ODAzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/5780312?v=4","gravatar_id":"","url":"https://api.github.com/users/Tuvie","html_url":"https://github.com/Tuvie","followers_url":"https://api.github.com/users/Tuvie/followers","following_url":"https://api.github.com/users/Tuvie/following{/other_user}","gists_url":"https://api.github.com/users/Tuvie/gists{/gist_id}","starred_url":"https://api.github.com/users/Tuvie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tuvie/subscriptions","organizations_url":"https://api.github.com/users/Tuvie/orgs","repos_url":"https://api.github.com/users/Tuvie/repos","events_url":"https://api.github.com/users/Tuvie/events{/privacy}","received_events_url":"https://api.github.com/users/Tuvie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T07:38:19Z","updated_at":"2022-11-17T07:38:19Z","author_association":"CONTRIBUTOR","body":"> Since linear scan is not efficient. Would interval tree be used to query and update in O(log⁡n) ?\r\n\r\nCurrently, it is a tradeoff to avoid using lock for lkey lookup (more frequent operation during data transmission). To design a better solution, here is a question for your scenario: how do you use append_user_data in you application? Since you don't manage memory by yourself, why don't you use IOBuf instead?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318211889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318216399","html_url":"https://github.com/apache/brpc/pull/1996#issuecomment-1318216399","issue_url":"https://api.github.com/repos/apache/brpc/issues/1996","id":1318216399,"node_id":"IC_kwDOBhmkcs5OkmLP","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T07:42:55Z","updated_at":"2022-11-17T07:42:55Z","author_association":"CONTRIBUTOR","body":"> \r\nOk, I will try it later.\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/1318216399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]