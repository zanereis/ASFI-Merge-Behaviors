[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348282668","html_url":"https://github.com/apache/couchdb/pull/962#issuecomment-348282668","issue_url":"https://api.github.com/repos/apache/couchdb/issues/962","id":348282668,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODI4MjY2OA==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T18:46:34Z","updated_at":"2017-11-30T18:46:34Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348282668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348522493","html_url":"https://github.com/apache/couchdb/issues/1026#issuecomment-348522493","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1026","id":348522493,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODUyMjQ5Mw==","user":{"login":"flimzy","id":8555063,"node_id":"MDQ6VXNlcjg1NTUwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8555063?v=4","gravatar_id":"","url":"https://api.github.com/users/flimzy","html_url":"https://github.com/flimzy","followers_url":"https://api.github.com/users/flimzy/followers","following_url":"https://api.github.com/users/flimzy/following{/other_user}","gists_url":"https://api.github.com/users/flimzy/gists{/gist_id}","starred_url":"https://api.github.com/users/flimzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flimzy/subscriptions","organizations_url":"https://api.github.com/users/flimzy/orgs","repos_url":"https://api.github.com/users/flimzy/repos","events_url":"https://api.github.com/users/flimzy/events{/privacy}","received_events_url":"https://api.github.com/users/flimzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-01T15:22:48Z","updated_at":"2017-12-01T15:22:48Z","author_association":"MEMBER","body":"Investigating further.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348522493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348725030","html_url":"https://github.com/apache/couchdb/issues/1015#issuecomment-348725030","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1015","id":348725030,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODcyNTAzMA==","user":{"login":"brendand","id":586075,"node_id":"MDQ6VXNlcjU4NjA3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/586075?v=4","gravatar_id":"","url":"https://api.github.com/users/brendand","html_url":"https://github.com/brendand","followers_url":"https://api.github.com/users/brendand/followers","following_url":"https://api.github.com/users/brendand/following{/other_user}","gists_url":"https://api.github.com/users/brendand/gists{/gist_id}","starred_url":"https://api.github.com/users/brendand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brendand/subscriptions","organizations_url":"https://api.github.com/users/brendand/orgs","repos_url":"https://api.github.com/users/brendand/repos","events_url":"https://api.github.com/users/brendand/events{/privacy}","received_events_url":"https://api.github.com/users/brendand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-02T22:32:59Z","updated_at":"2017-12-02T22:32:59Z","author_association":"NONE","body":"I don't have a brew command on my Mac, so I can't install nspr. \r\n\r\nIs there a way to get this into the package itself so it's not a third-party dependency?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348725030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348815611","html_url":"https://github.com/apache/couchdb/issues/1040#issuecomment-348815611","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1040","id":348815611,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODgxNTYxMQ==","user":{"login":"rperretta","id":3914264,"node_id":"MDQ6VXNlcjM5MTQyNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3914264?v=4","gravatar_id":"","url":"https://api.github.com/users/rperretta","html_url":"https://github.com/rperretta","followers_url":"https://api.github.com/users/rperretta/followers","following_url":"https://api.github.com/users/rperretta/following{/other_user}","gists_url":"https://api.github.com/users/rperretta/gists{/gist_id}","starred_url":"https://api.github.com/users/rperretta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rperretta/subscriptions","organizations_url":"https://api.github.com/users/rperretta/orgs","repos_url":"https://api.github.com/users/rperretta/repos","events_url":"https://api.github.com/users/rperretta/events{/privacy}","received_events_url":"https://api.github.com/users/rperretta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-03T21:21:03Z","updated_at":"2017-12-03T21:21:03Z","author_association":"NONE","body":"A correction. That's Mac OS 10. Sorry about any confusion.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348815611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348838880","html_url":"https://github.com/apache/couchdb/issues/1015#issuecomment-348838880","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1015","id":348838880,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODgzODg4MA==","user":{"login":"mr-bobz","id":12365601,"node_id":"MDQ6VXNlcjEyMzY1NjAx","avatar_url":"https://avatars.githubusercontent.com/u/12365601?v=4","gravatar_id":"","url":"https://api.github.com/users/mr-bobz","html_url":"https://github.com/mr-bobz","followers_url":"https://api.github.com/users/mr-bobz/followers","following_url":"https://api.github.com/users/mr-bobz/following{/other_user}","gists_url":"https://api.github.com/users/mr-bobz/gists{/gist_id}","starred_url":"https://api.github.com/users/mr-bobz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr-bobz/subscriptions","organizations_url":"https://api.github.com/users/mr-bobz/orgs","repos_url":"https://api.github.com/users/mr-bobz/repos","events_url":"https://api.github.com/users/mr-bobz/events{/privacy}","received_events_url":"https://api.github.com/users/mr-bobz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-04T01:35:54Z","updated_at":"2017-12-04T01:35:54Z","author_association":"NONE","body":"Ideally CouchDB package for macOS should handle it.\r\n\r\nFor now, you can install brew from here \r\nhttps://brew.sh/\r\neg: \r\n\r\n> /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\r\n\r\n\r\nand run \r\n\r\n> brew install nspr","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348838880/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348844128","html_url":"https://github.com/apache/couchdb/issues/1040#issuecomment-348844128","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1040","id":348844128,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODg0NDEyOA==","user":{"login":"rperretta","id":3914264,"node_id":"MDQ6VXNlcjM5MTQyNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/3914264?v=4","gravatar_id":"","url":"https://api.github.com/users/rperretta","html_url":"https://github.com/rperretta","followers_url":"https://api.github.com/users/rperretta/followers","following_url":"https://api.github.com/users/rperretta/following{/other_user}","gists_url":"https://api.github.com/users/rperretta/gists{/gist_id}","starred_url":"https://api.github.com/users/rperretta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rperretta/subscriptions","organizations_url":"https://api.github.com/users/rperretta/orgs","repos_url":"https://api.github.com/users/rperretta/repos","events_url":"https://api.github.com/users/rperretta/events{/privacy}","received_events_url":"https://api.github.com/users/rperretta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-04T02:22:31Z","updated_at":"2017-12-04T02:22:31Z","author_association":"NONE","body":"Ran Onyx scripts on system, dumped Couchdb into app cleaner - didn't have time to remove files individually, reinstalled and reran. No luck. Went back to Couchdb 1.6.1.  Works fine, passes verification.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/348844128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349123135","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-349123135","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":349123135,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTEyMzEzNQ==","user":{"login":"elistevens","id":138016,"node_id":"MDQ6VXNlcjEzODAxNg==","avatar_url":"https://avatars.githubusercontent.com/u/138016?v=4","gravatar_id":"","url":"https://api.github.com/users/elistevens","html_url":"https://github.com/elistevens","followers_url":"https://api.github.com/users/elistevens/followers","following_url":"https://api.github.com/users/elistevens/following{/other_user}","gists_url":"https://api.github.com/users/elistevens/gists{/gist_id}","starred_url":"https://api.github.com/users/elistevens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elistevens/subscriptions","organizations_url":"https://api.github.com/users/elistevens/orgs","repos_url":"https://api.github.com/users/elistevens/repos","events_url":"https://api.github.com/users/elistevens/events{/privacy}","received_events_url":"https://api.github.com/users/elistevens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-04T22:09:52Z","updated_at":"2017-12-04T22:09:52Z","author_association":"NONE","body":"We believe that we're seeing this in internal testing on single-node hosts doing local replication too. Our attachment sizes can be in the gigabytes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349123135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349126920","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-349126920","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":349126920,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTEyNjkyMA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-04T22:24:25Z","updated_at":"2017-12-04T22:24:25Z","author_association":"CONTRIBUTOR","body":"Hi @elistevens, \r\n\r\nThanks for your report. Would you be able to make a short script to reproduce the issue. Or at least describe the steps in more details, for example something like: 1: clone couch at version X, erlang version Y, OS version Z etc, 2: build, 3: setup with these config parameters, 4: create 2 dbs, 5: populate with attachment of this size, ...).\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349126920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349128975","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-349128975","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":349128975,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTEyODk3NQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-04T22:32:22Z","updated_at":"2017-12-04T22:32:22Z","author_association":"CONTRIBUTOR","body":"@calonso, Sorry for the delayed response. There a minor fix in that code in 2.1.1, would you be able to retry it with that latest version, to see if results in the same error? If you do upgrade, take a look a release notes regarding vm.args file and localhost vs 127.0.0.1 node names.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349128975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349140140","html_url":"https://github.com/apache/couchdb/issues/1042#issuecomment-349140140","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1042","id":349140140,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTE0MDE0MA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-04T23:20:22Z","updated_at":"2017-12-04T23:20:22Z","author_association":"CONTRIBUTOR","body":"That would be good to have. Found an older Jira ticket about it:\r\n\r\nhttps://issues.apache.org/jira/browse/COUCHDB-1956\r\n\r\nAnd  an associated PR https://github.com/apache/couchdb/pull/138 that was never merged.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349140140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349150224","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349150224","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349150224,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTE1MDIyNA==","user":{"login":"bjonnh","id":521867,"node_id":"MDQ6VXNlcjUyMTg2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/521867?v=4","gravatar_id":"","url":"https://api.github.com/users/bjonnh","html_url":"https://github.com/bjonnh","followers_url":"https://api.github.com/users/bjonnh/followers","following_url":"https://api.github.com/users/bjonnh/following{/other_user}","gists_url":"https://api.github.com/users/bjonnh/gists{/gist_id}","starred_url":"https://api.github.com/users/bjonnh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bjonnh/subscriptions","organizations_url":"https://api.github.com/users/bjonnh/orgs","repos_url":"https://api.github.com/users/bjonnh/repos","events_url":"https://api.github.com/users/bjonnh/events{/privacy}","received_events_url":"https://api.github.com/users/bjonnh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T00:07:08Z","updated_at":"2017-12-05T00:07:08Z","author_association":"NONE","body":"I wasn't able to reproduce the bug using the docker image 2.1.1\r\n(using both fauxton or direct curl access).\r\n\r\nIt would help if you removed all specific configuration that you made and tested again.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349150224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349150450","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349150450","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349150450,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTE1MDQ1MA==","user":{"login":"vmx","id":42839,"node_id":"MDQ6VXNlcjQyODM5","avatar_url":"https://avatars.githubusercontent.com/u/42839?v=4","gravatar_id":"","url":"https://api.github.com/users/vmx","html_url":"https://github.com/vmx","followers_url":"https://api.github.com/users/vmx/followers","following_url":"https://api.github.com/users/vmx/following{/other_user}","gists_url":"https://api.github.com/users/vmx/gists{/gist_id}","starred_url":"https://api.github.com/users/vmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmx/subscriptions","organizations_url":"https://api.github.com/users/vmx/orgs","repos_url":"https://api.github.com/users/vmx/repos","events_url":"https://api.github.com/users/vmx/events{/privacy}","received_events_url":"https://api.github.com/users/vmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T00:08:26Z","updated_at":"2017-12-05T00:08:26Z","author_association":"CONTRIBUTOR","body":"So it looks like it's an environment issue. `undef` errors usually mean that some Erlang module can't be found.\r\nI suggest that you look in the log files to see which module/function is \"undef\", this should help narrowing it down.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349150450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349165204","html_url":"https://github.com/apache/couchdb/pull/1006#issuecomment-349165204","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1006","id":349165204,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTE2NTIwNA==","user":{"login":"vitaly-goot","id":6166649,"node_id":"MDQ6VXNlcjYxNjY2NDk=","avatar_url":"https://avatars.githubusercontent.com/u/6166649?v=4","gravatar_id":"","url":"https://api.github.com/users/vitaly-goot","html_url":"https://github.com/vitaly-goot","followers_url":"https://api.github.com/users/vitaly-goot/followers","following_url":"https://api.github.com/users/vitaly-goot/following{/other_user}","gists_url":"https://api.github.com/users/vitaly-goot/gists{/gist_id}","starred_url":"https://api.github.com/users/vitaly-goot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vitaly-goot/subscriptions","organizations_url":"https://api.github.com/users/vitaly-goot/orgs","repos_url":"https://api.github.com/users/vitaly-goot/repos","events_url":"https://api.github.com/users/vitaly-goot/events{/privacy}","received_events_url":"https://api.github.com/users/vitaly-goot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T01:30:02Z","updated_at":"2017-12-05T01:30:02Z","author_association":"CONTRIBUTOR","body":"commit `8dac207`:\r\n\r\ncount number of bb chains during sort phase in emsort;\r\nemsort:get_status returns additional counter (to be saved in compaction meta file)\r\ncalculate merge phase progress after merge is started","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349165204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349222530","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349222530","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349222530,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTIyMjUzMA==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T07:44:59Z","updated_at":"2017-12-05T07:44:59Z","author_association":"NONE","body":"Thanks guys for helping with this. As to the config, there is no configuration at all except step 5 as detailed above (setting the admin password). The config files for the reproducible case above are as downloaded from the official sources. Obviously, my actual system has lots of configuration, but I already trimmed it down for the reproducible case as detailed above.\r\n\r\nThere wasn't anything striking in the log, but I'll post the entries later as well as try to \"git bisect\" to find the commit between 2.1.0 and 2.1.1 that caused the error.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349222530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349270139","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349270139","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349270139,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTI3MDEzOQ==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T10:59:45Z","updated_at":"2017-12-05T10:59:45Z","author_association":"NONE","body":"Ok, here is the log entry:\r\n\r\n[error] 2017-12-05T11:59:10.116706Z couchdb@127.0.0.1 <0.3495.0> f3b107961c req_err(2998209829) unknown_error : undef\r\n    [<<\"jiffy:decode/2\">>,<<\"couch_util:json_decode/1 L429\">>,<<\"chttpd_db:db_doc_req/3 L814\">>,<<\"chttpd:process_request/1 L295\">>,<<\"chttpd:handle_request_int/1 L231\">>,<<\"mochiweb_http:headers/6 L91\">>,<<\"proc_lib:init_p_do_apply/3 L239\">>]\r\n[notice] 2017-12-05T11:59:10.116907Z couchdb@127.0.0.1 <0.3495.0> f3b107961c localhost:5984 127.0.0.1 undefined PUT /_users/_design/User 500 ok 3","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349270139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349277614","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-349277614","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":349277614,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTI3NzYxNA==","user":{"login":"calonso","id":2392041,"node_id":"MDQ6VXNlcjIzOTIwNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2392041?v=4","gravatar_id":"","url":"https://api.github.com/users/calonso","html_url":"https://github.com/calonso","followers_url":"https://api.github.com/users/calonso/followers","following_url":"https://api.github.com/users/calonso/following{/other_user}","gists_url":"https://api.github.com/users/calonso/gists{/gist_id}","starred_url":"https://api.github.com/users/calonso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calonso/subscriptions","organizations_url":"https://api.github.com/users/calonso/orgs","repos_url":"https://api.github.com/users/calonso/repos","events_url":"https://api.github.com/users/calonso/events{/privacy}","received_events_url":"https://api.github.com/users/calonso/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T11:31:12Z","updated_at":"2017-12-05T11:31:12Z","author_association":"NONE","body":"Hi @nickva.\r\n\r\nWe updated to 2.1.1 a while ago and unfortunately we keep seeing the same error... :(\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349277614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349282886","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349282886","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349282886,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTI4Mjg4Ng==","user":{"login":"vmx","id":42839,"node_id":"MDQ6VXNlcjQyODM5","avatar_url":"https://avatars.githubusercontent.com/u/42839?v=4","gravatar_id":"","url":"https://api.github.com/users/vmx","html_url":"https://github.com/vmx","followers_url":"https://api.github.com/users/vmx/followers","following_url":"https://api.github.com/users/vmx/following{/other_user}","gists_url":"https://api.github.com/users/vmx/gists{/gist_id}","starred_url":"https://api.github.com/users/vmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmx/subscriptions","organizations_url":"https://api.github.com/users/vmx/orgs","repos_url":"https://api.github.com/users/vmx/repos","events_url":"https://api.github.com/users/vmx/events{/privacy}","received_events_url":"https://api.github.com/users/vmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T11:55:42Z","updated_at":"2017-12-05T11:55:42Z","author_association":"CONTRIBUTOR","body":"It looks like there's a problem with Jiffy. It recently got updated in https://github.com/apache/couchdb/commit/e01f3009b59a00d81dd1f6d4e807afab08b2d072. Can you double check that the Jiffy on your system also got updated?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349282886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349290628","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349290628","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349290628,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTI5MDYyOA==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T12:31:35Z","updated_at":"2017-12-05T12:31:35Z","author_association":"NONE","body":"I'm not sure what Jiffy is nor how to check its version, but I have installed this RPM: erlang-jiffy-0.8.5-3.el7.x86_64","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349290628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349294457","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349294457","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349294457,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTI5NDQ1Nw==","user":{"login":"vmx","id":42839,"node_id":"MDQ6VXNlcjQyODM5","avatar_url":"https://avatars.githubusercontent.com/u/42839?v=4","gravatar_id":"","url":"https://api.github.com/users/vmx","html_url":"https://github.com/vmx","followers_url":"https://api.github.com/users/vmx/followers","following_url":"https://api.github.com/users/vmx/following{/other_user}","gists_url":"https://api.github.com/users/vmx/gists{/gist_id}","starred_url":"https://api.github.com/users/vmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmx/subscriptions","organizations_url":"https://api.github.com/users/vmx/orgs","repos_url":"https://api.github.com/users/vmx/repos","events_url":"https://api.github.com/users/vmx/events{/privacy}","received_events_url":"https://api.github.com/users/vmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T12:48:33Z","updated_at":"2017-12-05T12:48:33Z","author_association":"CONTRIBUTOR","body":"Try to get a version >= 0.14.12 and you should be good.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349294457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349318407","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349318407","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349318407,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTMxODQwNw==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T14:23:00Z","updated_at":"2017-12-05T14:24:25Z","author_association":"NONE","body":"Unfortunately there is no newer release for CentOS/EL7.\r\n\r\nCouchDB 2.1.0 did work with the older version of Jiffy. Is there a definitive list of dependencies for CouchDB? Or perhaps test protocols / procedures for releases on supported platforms? Just trying to find out whether this is a bug that will be fixed or a \"works as designed\".","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349318407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349324367","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349324367","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349324367,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTMyNDM2Nw==","user":{"login":"vmx","id":42839,"node_id":"MDQ6VXNlcjQyODM5","avatar_url":"https://avatars.githubusercontent.com/u/42839?v=4","gravatar_id":"","url":"https://api.github.com/users/vmx","html_url":"https://github.com/vmx","followers_url":"https://api.github.com/users/vmx/followers","following_url":"https://api.github.com/users/vmx/following{/other_user}","gists_url":"https://api.github.com/users/vmx/gists{/gist_id}","starred_url":"https://api.github.com/users/vmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmx/subscriptions","organizations_url":"https://api.github.com/users/vmx/orgs","repos_url":"https://api.github.com/users/vmx/repos","events_url":"https://api.github.com/users/vmx/events{/privacy}","received_events_url":"https://api.github.com/users/vmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T14:43:36Z","updated_at":"2017-12-05T14:43:36Z","author_association":"CONTRIBUTOR","body":"@realulim Did you install the official RPM? It looks like it already contains Jiffy. Try to uninstall the Jiffy package, perhaps there's some problem with the paths.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349324367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349327422","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349327422","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349327422,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTMyNzQyMg==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T14:53:19Z","updated_at":"2017-12-05T14:53:19Z","author_association":"NONE","body":"I installed from sources in order to customise the location of CouchDB and its shards in the filesystem. But now that you mentioned it, I tried to install the RPM from the official yum repo and that works! So apparently the dev team has a better build process than the one detailed in the docs :)\r\n\r\nSo I suppose this issue can be closed now or transformed into a documentation issue, whatever seems more appropriate. I can work with the binaries. Thanks all for your help, much appreciated!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349327422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349340906","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349340906","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349340906,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTM0MDkwNg==","user":{"login":"vmx","id":42839,"node_id":"MDQ6VXNlcjQyODM5","avatar_url":"https://avatars.githubusercontent.com/u/42839?v=4","gravatar_id":"","url":"https://api.github.com/users/vmx","html_url":"https://github.com/vmx","followers_url":"https://api.github.com/users/vmx/followers","following_url":"https://api.github.com/users/vmx/following{/other_user}","gists_url":"https://api.github.com/users/vmx/gists{/gist_id}","starred_url":"https://api.github.com/users/vmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmx/subscriptions","organizations_url":"https://api.github.com/users/vmx/orgs","repos_url":"https://api.github.com/users/vmx/repos","events_url":"https://api.github.com/users/vmx/events{/privacy}","received_events_url":"https://api.github.com/users/vmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T15:35:13Z","updated_at":"2017-12-05T15:35:13Z","author_association":"CONTRIBUTOR","body":"I could imagine that if you compile from source, that it picks up your system's Jiffy. So perhaps if works if you remove it and then do a source installation from scratch.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349340906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349379519","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349379519","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349379519,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTM3OTUxOQ==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T17:33:02Z","updated_at":"2017-12-05T17:33:02Z","author_association":"NONE","body":"No, the source installation already assumes that all erlang stuff etc. is installed. So I installed Jiffy (and all other deps) from the CentOS repository, which has no newer versions.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349379519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349395441","html_url":"https://github.com/apache/couchdb/issues/887#issuecomment-349395441","issue_url":"https://api.github.com/repos/apache/couchdb/issues/887","id":349395441,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTM5NTQ0MQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T18:25:13Z","updated_at":"2017-12-05T18:25:13Z","author_association":"MEMBER","body":"Closed by #1017","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349395441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349415259","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349415259","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349415259,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTQxNTI1OQ==","user":{"login":"vmx","id":42839,"node_id":"MDQ6VXNlcjQyODM5","avatar_url":"https://avatars.githubusercontent.com/u/42839?v=4","gravatar_id":"","url":"https://api.github.com/users/vmx","html_url":"https://github.com/vmx","followers_url":"https://api.github.com/users/vmx/followers","following_url":"https://api.github.com/users/vmx/following{/other_user}","gists_url":"https://api.github.com/users/vmx/gists{/gist_id}","starred_url":"https://api.github.com/users/vmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmx/subscriptions","organizations_url":"https://api.github.com/users/vmx/orgs","repos_url":"https://api.github.com/users/vmx/repos","events_url":"https://api.github.com/users/vmx/events{/privacy}","received_events_url":"https://api.github.com/users/vmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T19:32:24Z","updated_at":"2017-12-05T19:32:24Z","author_association":"CONTRIBUTOR","body":"It expects Erlang to be installed (also according to the documentation). But I don't think it expects Jiffy to be installed. Could you please try it again with Jiffy uninstalled (if it needs Jiffy installed, that would be a bug in the documentation).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349415259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349452988","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349452988","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349452988,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTQ1Mjk4OA==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T21:49:36Z","updated_at":"2017-12-05T21:50:20Z","author_association":"NONE","body":"While I don't really get a decent couchdb installation up that way, I do get it running enough to confirm that the problem detailed in this issue doesn't appear, when not installing erlang-jiffy and relying on the CouchDB build to add it. I'll stay with the binaries though, as they seem to work out of the box and come with all dependencies.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349452988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349467946","html_url":"https://github.com/apache/couchdb/issues/982#issuecomment-349467946","issue_url":"https://api.github.com/repos/apache/couchdb/issues/982","id":349467946,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTQ2Nzk0Ng==","user":{"login":"vmx","id":42839,"node_id":"MDQ6VXNlcjQyODM5","avatar_url":"https://avatars.githubusercontent.com/u/42839?v=4","gravatar_id":"","url":"https://api.github.com/users/vmx","html_url":"https://github.com/vmx","followers_url":"https://api.github.com/users/vmx/followers","following_url":"https://api.github.com/users/vmx/following{/other_user}","gists_url":"https://api.github.com/users/vmx/gists{/gist_id}","starred_url":"https://api.github.com/users/vmx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vmx/subscriptions","organizations_url":"https://api.github.com/users/vmx/orgs","repos_url":"https://api.github.com/users/vmx/repos","events_url":"https://api.github.com/users/vmx/events{/privacy}","received_events_url":"https://api.github.com/users/vmx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T22:50:06Z","updated_at":"2017-12-05T22:50:06Z","author_association":"CONTRIBUTOR","body":"Would you mind closing the issue if it is resolved?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349467946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349473068","html_url":"https://github.com/apache/couchdb/issues/1015#issuecomment-349473068","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1015","id":349473068,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTQ3MzA2OA==","user":{"login":"brendand","id":586075,"node_id":"MDQ6VXNlcjU4NjA3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/586075?v=4","gravatar_id":"","url":"https://api.github.com/users/brendand","html_url":"https://github.com/brendand","followers_url":"https://api.github.com/users/brendand/followers","following_url":"https://api.github.com/users/brendand/following{/other_user}","gists_url":"https://api.github.com/users/brendand/gists{/gist_id}","starred_url":"https://api.github.com/users/brendand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brendand/subscriptions","organizations_url":"https://api.github.com/users/brendand/orgs","repos_url":"https://api.github.com/users/brendand/repos","events_url":"https://api.github.com/users/brendand/events{/privacy}","received_events_url":"https://api.github.com/users/brendand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T23:12:47Z","updated_at":"2017-12-05T23:12:47Z","author_association":"NONE","body":"Yup. I did that and it does work. I was just hoping to not have to have home-brew on my Mac. Just more stuff to keep track of. Plus teaching my customers how to install home brew isn't the most pleasant thing to have to do. Kind of takes the whole \"it just works\" thing on the Mac to a bad place.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349473068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349497713","html_url":"https://github.com/apache/couchdb/issues/980#issuecomment-349497713","issue_url":"https://api.github.com/repos/apache/couchdb/issues/980","id":349497713,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTQ5NzcxMw==","user":{"login":"vitaly-goot","id":6166649,"node_id":"MDQ6VXNlcjYxNjY2NDk=","avatar_url":"https://avatars.githubusercontent.com/u/6166649?v=4","gravatar_id":"","url":"https://api.github.com/users/vitaly-goot","html_url":"https://github.com/vitaly-goot","followers_url":"https://api.github.com/users/vitaly-goot/followers","following_url":"https://api.github.com/users/vitaly-goot/following{/other_user}","gists_url":"https://api.github.com/users/vitaly-goot/gists{/gist_id}","starred_url":"https://api.github.com/users/vitaly-goot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vitaly-goot/subscriptions","organizations_url":"https://api.github.com/users/vitaly-goot/orgs","repos_url":"https://api.github.com/users/vitaly-goot/repos","events_url":"https://api.github.com/users/vitaly-goot/events{/privacy}","received_events_url":"https://api.github.com/users/vitaly-goot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T01:19:41Z","updated_at":"2017-12-06T01:19:41Z","author_association":"CONTRIBUTOR","body":"Adding merge phase reporting.\r\n\r\ncouch_emsort changes:\r\nA new counter to keep track the number of merged paths (emsort.bb_chains). That counter is committed to compact meta file during sort phase.  The format of compact.meta file changed (to keep that counter) but new code should be able to work with both disk representations.  On merge phase, that counter is used to report a ratio of how many bb_chains were merged vs. added. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349497713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349523816","html_url":"https://github.com/apache/couchdb/issues/953#issuecomment-349523816","issue_url":"https://api.github.com/repos/apache/couchdb/issues/953","id":349523816,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTUyMzgxNg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T03:48:43Z","updated_at":"2017-12-06T03:48:43Z","author_association":"CONTRIBUTOR","body":"This one was fixed","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349523816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349524515","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-349524515","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":349524515,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTUyNDUxNQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T03:53:25Z","updated_at":"2017-12-06T03:53:25Z","author_association":"CONTRIBUTOR","body":"@calonso, thanks for checking, it helps to know that.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349524515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349542530","html_url":"https://github.com/apache/couchdb/issues/1015#issuecomment-349542530","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1015","id":349542530,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTU0MjUzMA==","user":{"login":"craftzdog","id":1332805,"node_id":"MDQ6VXNlcjEzMzI4MDU=","avatar_url":"https://avatars.githubusercontent.com/u/1332805?v=4","gravatar_id":"","url":"https://api.github.com/users/craftzdog","html_url":"https://github.com/craftzdog","followers_url":"https://api.github.com/users/craftzdog/followers","following_url":"https://api.github.com/users/craftzdog/following{/other_user}","gists_url":"https://api.github.com/users/craftzdog/gists{/gist_id}","starred_url":"https://api.github.com/users/craftzdog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/craftzdog/subscriptions","organizations_url":"https://api.github.com/users/craftzdog/orgs","repos_url":"https://api.github.com/users/craftzdog/repos","events_url":"https://api.github.com/users/craftzdog/events{/privacy}","received_events_url":"https://api.github.com/users/craftzdog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T05:52:59Z","updated_at":"2017-12-06T05:52:59Z","author_association":"NONE","body":"I've got below error log flooded:\r\n\r\n```\r\n[error] 2017-12-06T05:48:15.347175Z couchdb@localhost <0.1994.0> -------- OS Process Error <0.6574.1> :: {os_process_error,{exit_status,134}}\r\n```\r\n\r\nAfter having `brew install nspr`, it got fixed! Thanks @lyudmil.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349542530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349616768","html_url":"https://github.com/apache/couchdb/issues/999#issuecomment-349616768","issue_url":"https://api.github.com/repos/apache/couchdb/issues/999","id":349616768,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTYxNjc2OA==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T11:49:54Z","updated_at":"2017-12-06T11:49:54Z","author_association":"NONE","body":"@wohali Any idea what controls the address/port this `beam.smp` is binding on?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349616768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349621055","html_url":"https://github.com/apache/couchdb/issues/999#issuecomment-349621055","issue_url":"https://api.github.com/repos/apache/couchdb/issues/999","id":349621055,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTYyMTA1NQ==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T12:09:15Z","updated_at":"2017-12-06T12:09:15Z","author_association":"NONE","body":"Apparently, adding an argument such as `[{kernel,[{inet_dist_use_interface,{127,0,0,1}}]}].` to erlang invocations should solve it. This is [a proposed answer for RabbitMQ](https://serverfault.com/questions/235669/how-do-i-make-rabbitmq-listen-only-to-localhost), but I’m not sure how I can pass this to CouchDB. Would adding a line like this in `vm.args` work:\r\n```\r\n-kernel inet_dist_use_interface 127.0.0.1\r\n```\r\n?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349621055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349817677","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-349817677","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":349817677,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTgxNzY3Nw==","user":{"login":"elistevens","id":138016,"node_id":"MDQ6VXNlcjEzODAxNg==","avatar_url":"https://avatars.githubusercontent.com/u/138016?v=4","gravatar_id":"","url":"https://api.github.com/users/elistevens","html_url":"https://github.com/elistevens","followers_url":"https://api.github.com/users/elistevens/followers","following_url":"https://api.github.com/users/elistevens/following{/other_user}","gists_url":"https://api.github.com/users/elistevens/gists{/gist_id}","starred_url":"https://api.github.com/users/elistevens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elistevens/subscriptions","organizations_url":"https://api.github.com/users/elistevens/orgs","repos_url":"https://api.github.com/users/elistevens/repos","events_url":"https://api.github.com/users/elistevens/events{/privacy}","received_events_url":"https://api.github.com/users/elistevens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T00:11:15Z","updated_at":"2017-12-07T00:11:15Z","author_association":"NONE","body":"Bah, my earlier draft response got eaten by a browser shutdown.\r\n\r\nI don't have an easy repro script, sadly. We're seeing the issue under load during our test runs, but any single test seems to work fine when run in isolation. Our largest attachments are in the range of 100MB to 1GB. I know that's against recommended practices, but that wasn't clear when the bones of our architecture was laid down in ~2011.\r\n\r\nWe are running 2.1.1 on Ubuntu, using the official .debs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/349817677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350101019","html_url":"https://github.com/apache/couchdb/issues/609#issuecomment-350101019","issue_url":"https://api.github.com/repos/apache/couchdb/issues/609","id":350101019,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDEwMTAxOQ==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T21:33:58Z","updated_at":"2017-12-07T21:33:58Z","author_association":"MEMBER","body":"PR submitted upstream: https://github.com/kubernetes/charts/pull/2964","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350101019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350280676","html_url":"https://github.com/apache/couchdb/issues/875#issuecomment-350280676","issue_url":"https://api.github.com/repos/apache/couchdb/issues/875","id":350280676,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDI4MDY3Ng==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T14:47:07Z","updated_at":"2017-12-08T14:47:07Z","author_association":"MEMBER","body":"code merged, closing, the docs issue is referenced above","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350280676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350410612","html_url":"https://github.com/apache/couchdb/pull/1030#issuecomment-350410612","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1030","id":350410612,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDQxMDYxMg==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-09T01:05:56Z","updated_at":"2017-12-09T01:05:56Z","author_association":"CONTRIBUTOR","body":"Thanks a lot @janl for review.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350410612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350543074","html_url":"https://github.com/apache/couchdb/issues/979#issuecomment-350543074","issue_url":"https://api.github.com/repos/apache/couchdb/issues/979","id":350543074,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDU0MzA3NA==","user":{"login":"koleto","id":275842,"node_id":"MDQ6VXNlcjI3NTg0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/275842?v=4","gravatar_id":"","url":"https://api.github.com/users/koleto","html_url":"https://github.com/koleto","followers_url":"https://api.github.com/users/koleto/followers","following_url":"https://api.github.com/users/koleto/following{/other_user}","gists_url":"https://api.github.com/users/koleto/gists{/gist_id}","starred_url":"https://api.github.com/users/koleto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koleto/subscriptions","organizations_url":"https://api.github.com/users/koleto/orgs","repos_url":"https://api.github.com/users/koleto/repos","events_url":"https://api.github.com/users/koleto/events{/privacy}","received_events_url":"https://api.github.com/users/koleto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-10T11:55:02Z","updated_at":"2017-12-10T11:55:02Z","author_association":"NONE","body":"It still doesn't work! Please reopen this issue!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350543074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350837902","html_url":"https://github.com/apache/couchdb/issues/1060#issuecomment-350837902","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1060","id":350837902,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDgzNzkwMg==","user":{"login":"ARChilton","id":22243890,"node_id":"MDQ6VXNlcjIyMjQzODkw","avatar_url":"https://avatars.githubusercontent.com/u/22243890?v=4","gravatar_id":"","url":"https://api.github.com/users/ARChilton","html_url":"https://github.com/ARChilton","followers_url":"https://api.github.com/users/ARChilton/followers","following_url":"https://api.github.com/users/ARChilton/following{/other_user}","gists_url":"https://api.github.com/users/ARChilton/gists{/gist_id}","starred_url":"https://api.github.com/users/ARChilton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ARChilton/subscriptions","organizations_url":"https://api.github.com/users/ARChilton/orgs","repos_url":"https://api.github.com/users/ARChilton/repos","events_url":"https://api.github.com/users/ARChilton/events{/privacy}","received_events_url":"https://api.github.com/users/ARChilton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-11T19:51:46Z","updated_at":"2017-12-11T19:51:46Z","author_association":"NONE","body":"While the above is true the _stats can be found on port 5986 which could perhaps be added to the documentation instead ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350837902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350841682","html_url":"https://github.com/apache/couchdb/issues/979#issuecomment-350841682","issue_url":"https://api.github.com/repos/apache/couchdb/issues/979","id":350841682,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDg0MTY4Mg==","user":{"login":"silverbackvasco","id":33719880,"node_id":"MDQ6VXNlcjMzNzE5ODgw","avatar_url":"https://avatars.githubusercontent.com/u/33719880?v=4","gravatar_id":"","url":"https://api.github.com/users/silverbackvasco","html_url":"https://github.com/silverbackvasco","followers_url":"https://api.github.com/users/silverbackvasco/followers","following_url":"https://api.github.com/users/silverbackvasco/following{/other_user}","gists_url":"https://api.github.com/users/silverbackvasco/gists{/gist_id}","starred_url":"https://api.github.com/users/silverbackvasco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silverbackvasco/subscriptions","organizations_url":"https://api.github.com/users/silverbackvasco/orgs","repos_url":"https://api.github.com/users/silverbackvasco/repos","events_url":"https://api.github.com/users/silverbackvasco/events{/privacy}","received_events_url":"https://api.github.com/users/silverbackvasco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-11T20:04:34Z","updated_at":"2017-12-11T20:04:50Z","author_association":"NONE","body":"Could this issue be added to the documentation?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350841682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350883347","html_url":"https://github.com/apache/couchdb/pull/1062#issuecomment-350883347","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1062","id":350883347,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDg4MzM0Nw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-11T22:44:34Z","updated_at":"2017-12-11T22:44:34Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350883347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350884293","html_url":"https://github.com/apache/couchdb/issues/871#issuecomment-350884293","issue_url":"https://api.github.com/repos/apache/couchdb/issues/871","id":350884293,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDg4NDI5Mw==","user":{"login":"mQckingbird","id":12424545,"node_id":"MDQ6VXNlcjEyNDI0NTQ1","avatar_url":"https://avatars.githubusercontent.com/u/12424545?v=4","gravatar_id":"","url":"https://api.github.com/users/mQckingbird","html_url":"https://github.com/mQckingbird","followers_url":"https://api.github.com/users/mQckingbird/followers","following_url":"https://api.github.com/users/mQckingbird/following{/other_user}","gists_url":"https://api.github.com/users/mQckingbird/gists{/gist_id}","starred_url":"https://api.github.com/users/mQckingbird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mQckingbird/subscriptions","organizations_url":"https://api.github.com/users/mQckingbird/orgs","repos_url":"https://api.github.com/users/mQckingbird/repos","events_url":"https://api.github.com/users/mQckingbird/events{/privacy}","received_events_url":"https://api.github.com/users/mQckingbird/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-11T22:48:50Z","updated_at":"2017-12-11T22:48:50Z","author_association":"NONE","body":"How did you get it working?\r\n\r\nI get connection refused when I try to enable SSL from local.ini (I don't want to use HAProxy).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350884293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350894727","html_url":"https://github.com/apache/couchdb/issues/832#issuecomment-350894727","issue_url":"https://api.github.com/repos/apache/couchdb/issues/832","id":350894727,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDg5NDcyNw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-11T23:37:44Z","updated_at":"2017-12-11T23:37:44Z","author_association":"MEMBER","body":"Forgot to respond, this is just a matter of adding the couch_stats calls for the stats already defined here:\r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/couch_log/priv/stats_descriptions.cfg\r\n\r\nSo basically just look at any existing couch_stats usage from another app (mem3 and rexi are both straightforward examples) and insert the calls as appropriate for couch_log.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350894727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350930241","html_url":"https://github.com/apache/couchdb/issues/832#issuecomment-350930241","issue_url":"https://api.github.com/repos/apache/couchdb/issues/832","id":350930241,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDkzMDI0MQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T02:59:12Z","updated_at":"2017-12-12T02:59:12Z","author_association":"CONTRIBUTOR","body":"@davisp Hi Paul, let me complete this to avoid pending of this for longer time. Would you please review https://github.com/apache/couchdb/pull/1064? Thanks in advance.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350930241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350932379","html_url":"https://github.com/apache/couchdb/issues/820#issuecomment-350932379","issue_url":"https://api.github.com/repos/apache/couchdb/issues/820","id":350932379,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDkzMjM3OQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T03:13:47Z","updated_at":"2017-12-12T03:13:47Z","author_association":"CONTRIBUTOR","body":"@wohali I added this support for\r\n - /{db}_all_docs \r\n - /{db}/_design_docs\r\n - /{db}/_local_doc\r\n\r\nin PR https://github.com/apache/couchdb/pull/1032\r\n\r\nWould you please review them when you get back? (No hurry, and enjoy your break!)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/350932379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351045978","html_url":"https://github.com/apache/couchdb/pull/1064#issuecomment-351045978","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1064","id":351045978,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTA0NTk3OA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T13:07:03Z","updated_at":"2017-12-12T13:07:03Z","author_association":"MEMBER","body":"This change creates a circular dependency. With it `couch_log` now depends on `couch_stats` to start first (_which need, btw, to be reflected in `couch_log.app.src`_), but `couch_stats` is using `couch_log` and depends on it [to be started first](https://github.com/apache/couchdb/blob/master/src/couch_stats/src/couch_stats.app.src#L17).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351045978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351100032","html_url":"https://github.com/apache/couchdb/pull/1064#issuecomment-351100032","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1064","id":351100032,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTEwMDAzMg==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T16:13:04Z","updated_at":"2017-12-12T16:13:04Z","author_association":"MEMBER","body":"Historically we've just handwaved off these sorts of things as they only cause problems during the bootsequence if something else has gone wrong. However, looking into this particular case it seems like it would be better to remove the couch_log dependency from couch_stats as its a relatively minor usage.\r\n\r\nAlso to break the cycle we can swap couch_stats to message error_logger directly in the places where that makes sense (which I think is just one for the unknown metric message).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351100032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351301113","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-351301113","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":351301113,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTMwMTExMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-13T06:57:15Z","updated_at":"2018-02-09T16:19:36Z","author_association":"MEMBER","body":"Hey @nickva I spent time today on getting a repro for this, as it's affecting more and more people. Bear with me on the setup, it's a little involved.\r\n\r\nSet up a VM with the following parameters (I used VMWare Workstation):\r\n- 20GB HDD, 512 MB RAM (!), 1 CPU\r\n- Debian 8.latest (or 9, I tested on 8), 64-bit\r\n- CouchDB master - have it running on `localhost:5984` with `admin:password` as the creds, `n=1`, and logging at `debug` level\r\n- `sudo apt-get install stress python3 python3-virtualenv virtualenv python3-cxx-dev`\r\n- `mkdir 745 && cd 745 && virtualenv -p python3 venv && source venv/bin/activate`\r\n- `pip install RandomWords RandomIO requests docopt schema urllib3 chardet certifi idna`\r\n- `wget https://gist.github.com/wohali/1cd19b78c0a417dbeb9f66b3229f7b58/raw/6539d48fa9e05b021f344b80fbf0d7c3e7fcd6e4/makeit.py`\r\n\r\nNow you're ready to setup the test:\r\n\r\n```\r\n$ curl -X PUT http://admin:password@localhost:5984/foo\r\n$ python ./makeit.py 10\r\n```\r\nRepeat the above a few times - get the DB to 1GB or larger. You can increase 10 but at some point you'll run out of RAM, so be careful. This script creates sample docs with a few fields and a 50MB attachment full of random bytes.\r\n\r\nNow to run the test:\r\n\r\n* In one window: `tail -f | grep` your couch log for `mp_parser`.\r\n* In another window, stress the machine's CPU and network: `stress --timeout 90m --cpu 1 --io 4`. (You can add disk access to this with `-d 8` if desired.\r\n* In the window running the Python `virtualenv`, start the replication:\r\n`curl http://admin:password@localhost:5984/_replicate -H \"Content-Type: application/json\" --data '{\"create_target\": true, \"source\": \"foo\", \"target\": \"bar\"}'`\r\n\r\nIf the above succeeds, `curl -X DELETE http://admin:password@localhost:5984/bar` and try to replicate again.\r\n\r\nThis produces a failure for me within 10 minutes. The command line returns:\r\n\r\n```\r\n{\"error\":\"error\",\"reason\":\"{worker_died,<0.26846.9>,{process_died,<0.27187.9>,kaboom}}\"}\r\n```\r\nand the logfile has errors identical to that in the original post above, and in #574. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351301113/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351357435","html_url":"https://github.com/apache/couchdb/issues/996#issuecomment-351357435","issue_url":"https://api.github.com/repos/apache/couchdb/issues/996","id":351357435,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTM1NzQzNQ==","user":{"login":"jer-gentoo","id":2178449,"node_id":"MDQ6VXNlcjIxNzg0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/2178449?v=4","gravatar_id":"","url":"https://api.github.com/users/jer-gentoo","html_url":"https://github.com/jer-gentoo","followers_url":"https://api.github.com/users/jer-gentoo/followers","following_url":"https://api.github.com/users/jer-gentoo/following{/other_user}","gists_url":"https://api.github.com/users/jer-gentoo/gists{/gist_id}","starred_url":"https://api.github.com/users/jer-gentoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jer-gentoo/subscriptions","organizations_url":"https://api.github.com/users/jer-gentoo/orgs","repos_url":"https://api.github.com/users/jer-gentoo/repos","events_url":"https://api.github.com/users/jer-gentoo/events{/privacy}","received_events_url":"https://api.github.com/users/jer-gentoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-13T10:59:01Z","updated_at":"2017-12-13T10:59:01Z","author_association":"NONE","body":"See also http://erlang.org/pipermail/erlang-questions/2017-November/094092.html","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351357435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351624677","html_url":"https://github.com/apache/couchdb/pull/1064#issuecomment-351624677","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1064","id":351624677,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTYyNDY3Nw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T06:53:57Z","updated_at":"2017-12-14T06:53:57Z","author_association":"CONTRIBUTOR","body":"Below is from output from `couch_stats`.\r\n\r\n```\r\njiangphs-mbp-2:dev jiangph$ ./remsh\r\nErlang/OTP 18 [erts-7.2.1] [source] [64-bit] [smp:8:8] [async-threads:10] [hipe] [kernel-poll:false] [dtrace]\r\n\r\nEshell V7.2.1  (abort with ^G)\r\n(node1@127.0.0.1)1> couch_stats:increment_counter([couchdb, httpd, unknown]).\r\n{error,unknown_metric}\r\n(node1@127.0.0.1)2>\r\n=ERROR REPORT==== 14-Dec-2017::13:49:37 ===\r\nunknown metric: [couchdb,httpd,unknown]** at node node1@127.0.0.1 **\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351624677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351729309","html_url":"https://github.com/apache/couchdb/issues/1065#issuecomment-351729309","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1065","id":351729309,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTcyOTMwOQ==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T14:40:48Z","updated_at":"2017-12-14T14:40:48Z","author_association":"MEMBER","body":"Hi @style95, CouchDB is configured to ~continuously cross-check the replicas of each database shard for consistency. The warning messages you observed are emitted when one of the replicas falls behind in its cross-checks, which can definitely be a side-effect of maxing out the incoming write load on the cluster. The cross-checks are not scheduled at any particular interval; rather, they are queued up whenever writes are committed.\r\n\r\nI'm not sure those warning messages are directly related to your observed throughput degradation though. Performance degradation that recovers on its own while the load is still applied is an interesting case. Do you have automatic compactions configured or anything like that? I think we may need a fair bit more detail to offer much constructive advice here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351729309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351731443","html_url":"https://github.com/apache/couchdb/issues/1065#issuecomment-351731443","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1065","id":351731443,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTczMTQ0Mw==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T14:47:56Z","updated_at":"2017-12-14T14:47:56Z","author_association":"MEMBER","body":"@kocolosk Thanks\r\n\r\nI have this configuration.\r\n\r\n```\r\n[compaction_daemon]\r\ncheck_interval = 300\r\nmin_file_size = 131072\r\n\r\n[compactions]\r\n_default = [{db_fragmentation, \"70%\"}, {view_fragmentation, \"60%\"}]\r\n```\r\n\r\nI think, to minimize the impact of `cross-check`, it might be better to reduce the check interval.\r\nThen side effects might be distributed across time.\r\n\r\nCould I just reduce that `check_interval` value to get what I described above?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351731443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351756427","html_url":"https://github.com/apache/couchdb/issues/1065#issuecomment-351756427","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1065","id":351756427,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc1NjQyNw==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T16:10:23Z","updated_at":"2017-12-14T16:10:23Z","author_association":"MEMBER","body":"OK, it may be the case that the server is triggering compactions and the competition for resources is what is slowing you down in those intervals. When the compaction finishes your throughput is restored. You can determine if this is the case by checking the Active Tasks in the dashboard (or use the `_active_tasks` endpoint).\r\n\r\nChanging the `check_interval` might defer things a bit, but you'd still have the possibility of a compaction running during your benchmark. There are many other settings you can apply to tune the compactor's resource utilization:\r\n\r\nhttp://docs.couchdb.org/en/2.1.1/config/compaction.html\r\n\r\nYou could also disable compaction during the test, but note that compaction does need to run periodically even if your database never updates individual documents.\r\n\r\nNote that compaction is a separate process from the one generating the `pending_changes` messages. I think those are less likely to be related to the changes in throughput personally.\r\n\r\nI'm going to go ahead and close this issue for now but by all means re-open if you have further questions :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351756427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351757263","html_url":"https://github.com/apache/couchdb/pull/1039#issuecomment-351757263","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1039","id":351757263,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc1NzI2Mw==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T16:13:11Z","updated_at":"2017-12-14T16:13:11Z","author_association":"MEMBER","body":"Good call. It's a nit but maybe `_haproxy_stats` is better so it's guaranteed not to clash with any CouchDB database name?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351757263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351758709","html_url":"https://github.com/apache/couchdb/issues/1054#issuecomment-351758709","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1054","id":351758709,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc1ODcwOQ==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T16:18:00Z","updated_at":"2017-12-14T16:18:00Z","author_association":"MEMBER","body":"Yes that looks right to me @endyjasmi , and your proposed solution is a good one. Leaving this here for now to see if anyone wants to try their hand at a patch. Thanks for the report.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351758709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351758792","html_url":"https://github.com/apache/couchdb/pull/1039#issuecomment-351758792","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1039","id":351758792,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc1ODc5Mg==","user":{"login":"redgeoff","id":3378986,"node_id":"MDQ6VXNlcjMzNzg5ODY=","avatar_url":"https://avatars.githubusercontent.com/u/3378986?v=4","gravatar_id":"","url":"https://api.github.com/users/redgeoff","html_url":"https://github.com/redgeoff","followers_url":"https://api.github.com/users/redgeoff/followers","following_url":"https://api.github.com/users/redgeoff/following{/other_user}","gists_url":"https://api.github.com/users/redgeoff/gists{/gist_id}","starred_url":"https://api.github.com/users/redgeoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redgeoff/subscriptions","organizations_url":"https://api.github.com/users/redgeoff/orgs","repos_url":"https://api.github.com/users/redgeoff/repos","events_url":"https://api.github.com/users/redgeoff/events{/privacy}","received_events_url":"https://api.github.com/users/redgeoff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T16:18:18Z","updated_at":"2017-12-14T16:18:18Z","author_association":"CONTRIBUTOR","body":"Changed to `_haproxy_stats` as per @kocolosk's recommendation","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351758792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351760287","html_url":"https://github.com/apache/couchdb/issues/1043#issuecomment-351760287","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1043","id":351760287,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc2MDI4Nw==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T16:23:14Z","updated_at":"2017-12-14T16:23:14Z","author_association":"MEMBER","body":"Hi @anlexN , your database is very small so compaction would have completed almost instantaneously. You could check the logs for indications of each shard file in the database being compacted.\r\n\r\nI'm going to close this issue for now but please feel free to re-open if you have questions.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351760287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351762412","html_url":"https://github.com/apache/couchdb/issues/1051#issuecomment-351762412","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1051","id":351762412,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc2MjQxMg==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T16:29:59Z","updated_at":"2017-12-14T16:29:59Z","author_association":"MEMBER","body":"Yes this is a bug -- the `couch_passwords` hashing module is rightly checking that the password is the correct datatype before proceeding, but we can be smarter about bubbling up a good error message.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351762412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351775748","html_url":"https://github.com/apache/couchdb/issues/1052#issuecomment-351775748","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1052","id":351775748,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc3NTc0OA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T17:11:14Z","updated_at":"2017-12-14T17:11:14Z","author_association":"MEMBER","body":"Can you try setting `chttpd.authentication_handlers` like this instead?\r\n\r\n```\r\n[chttpd]\r\nauthentication_handlers = {chttpd_auth, cookie_authentication_handler}, {couch_httpd_auth, proxy_authentication_handler}, {chttpd_auth, default_authentication_handler}\r\n```\r\n\r\n(note the use of `chttpd_auth` instead of `couch_httpd_auth` for cookie and basic handlers).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351775748/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351784099","html_url":"https://github.com/apache/couchdb/issues/1045#issuecomment-351784099","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1045","id":351784099,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc4NDA5OQ==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T17:42:05Z","updated_at":"2017-12-14T17:42:05Z","author_association":"MEMBER","body":"So this is really a general question about setting environment variables on Windows.\r\n\r\nFor what it's worth, in modern versions of CouchDB we already automatically activate the thread pool (and set it to 16 threads).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351784099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351785405","html_url":"https://github.com/apache/couchdb/issues/1031#issuecomment-351785405","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1031","id":351785405,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTc4NTQwNQ==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T17:47:04Z","updated_at":"2017-12-14T17:47:04Z","author_association":"MEMBER","body":"Not in the roadmap at the moment, no.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351785405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351853742","html_url":"https://github.com/apache/couchdb/pull/1064#issuecomment-351853742","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1064","id":351853742,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTg1Mzc0Mg==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-14T22:20:12Z","updated_at":"2017-12-14T22:20:12Z","author_association":"MEMBER","body":"lgtm. wait on +1 from @davisp though","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351853742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351895657","html_url":"https://github.com/apache/couchdb/issues/1065#issuecomment-351895657","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1065","id":351895657,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTg5NTY1Nw==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T02:28:12Z","updated_at":"2017-12-15T02:28:12Z","author_association":"MEMBER","body":"@kocolosk Thank you for the answer. But I am still curious.\r\nAFAIK, compaction is the progress of deleting old revisions.\r\nIn my benchmark, I always insert new documents with bulk insertion.\r\nIn this case, there could be compaction which affects performance such tremendously?\r\n\r\nIs there any interval to synchronize(internally and across node) bunch of bulk-inserted documents?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351895657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351895767","html_url":"https://github.com/apache/couchdb/issues/832#issuecomment-351895767","issue_url":"https://api.github.com/repos/apache/couchdb/issues/832","id":351895767,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTg5NTc2Nw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T02:28:58Z","updated_at":"2017-12-15T02:28:58Z","author_association":"MEMBER","body":"Implemented in #1064","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351895767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351898153","html_url":"https://github.com/apache/couchdb/issues/1065#issuecomment-351898153","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1065","id":351898153,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTg5ODE1Mw==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T02:45:43Z","updated_at":"2017-12-15T02:45:43Z","author_association":"MEMBER","body":"A very fair question.\r\n\r\nIt turns out that compaction cleans up more than just old document revisions. Any time a document is written CouchDB needs to update a pair of Btree indexes that help to quickly locate the document on disk. Like everything else in CouchDB, these indexes are maintained in a purely copy-on-write fashion. This means that the database file accumulates a lot of old Btree nodes, even when the database is only seeing new inserts.  Eventually the volume of old Btree nodes alone is enough to trip the db_fragmentation threshold.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351898153/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351898458","html_url":"https://github.com/apache/couchdb/issues/1065#issuecomment-351898458","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1065","id":351898458,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTg5ODQ1OA==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T02:47:45Z","updated_at":"2017-12-15T02:47:45Z","author_association":"MEMBER","body":"Very clear.\r\nThank you very much @kocolosk : )","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351898458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351919211","html_url":"https://github.com/apache/couchdb/issues/1045#issuecomment-351919211","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1045","id":351919211,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTkxOTIxMQ==","user":{"login":"anlexN","id":8686739,"node_id":"MDQ6VXNlcjg2ODY3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/8686739?v=4","gravatar_id":"","url":"https://api.github.com/users/anlexN","html_url":"https://github.com/anlexN","followers_url":"https://api.github.com/users/anlexN/followers","following_url":"https://api.github.com/users/anlexN/following{/other_user}","gists_url":"https://api.github.com/users/anlexN/gists{/gist_id}","starred_url":"https://api.github.com/users/anlexN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anlexN/subscriptions","organizations_url":"https://api.github.com/users/anlexN/orgs","repos_url":"https://api.github.com/users/anlexN/repos","events_url":"https://api.github.com/users/anlexN/events{/privacy}","received_events_url":"https://api.github.com/users/anlexN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T05:44:14Z","updated_at":"2017-12-15T05:44:14Z","author_association":"NONE","body":"@kocolosk  can you tell me how to set this manually?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351919211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351919368","html_url":"https://github.com/apache/couchdb/issues/1043#issuecomment-351919368","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1043","id":351919368,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTkxOTM2OA==","user":{"login":"anlexN","id":8686739,"node_id":"MDQ6VXNlcjg2ODY3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/8686739?v=4","gravatar_id":"","url":"https://api.github.com/users/anlexN","html_url":"https://github.com/anlexN","followers_url":"https://api.github.com/users/anlexN/followers","following_url":"https://api.github.com/users/anlexN/following{/other_user}","gists_url":"https://api.github.com/users/anlexN/gists{/gist_id}","starred_url":"https://api.github.com/users/anlexN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anlexN/subscriptions","organizations_url":"https://api.github.com/users/anlexN/orgs","repos_url":"https://api.github.com/users/anlexN/repos","events_url":"https://api.github.com/users/anlexN/events{/privacy}","received_events_url":"https://api.github.com/users/anlexN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T05:45:26Z","updated_at":"2017-12-15T05:45:26Z","author_association":"NONE","body":"please add this imformation in your document","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351919368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351961614","html_url":"https://github.com/apache/couchdb/pull/1011#issuecomment-351961614","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1011","id":351961614,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTk2MTYxNA==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T09:47:36Z","updated_at":"2017-12-15T09:47:36Z","author_association":"MEMBER","body":"fixed in #1038 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351961614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351991542","html_url":"https://github.com/apache/couchdb/issues/1015#issuecomment-351991542","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1015","id":351991542,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTk5MTU0Mg==","user":{"login":"sauoq","id":11614707,"node_id":"MDQ6VXNlcjExNjE0NzA3","avatar_url":"https://avatars.githubusercontent.com/u/11614707?v=4","gravatar_id":"","url":"https://api.github.com/users/sauoq","html_url":"https://github.com/sauoq","followers_url":"https://api.github.com/users/sauoq/followers","following_url":"https://api.github.com/users/sauoq/following{/other_user}","gists_url":"https://api.github.com/users/sauoq/gists{/gist_id}","starred_url":"https://api.github.com/users/sauoq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sauoq/subscriptions","organizations_url":"https://api.github.com/users/sauoq/orgs","repos_url":"https://api.github.com/users/sauoq/repos","events_url":"https://api.github.com/users/sauoq/events{/privacy}","received_events_url":"https://api.github.com/users/sauoq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T12:13:40Z","updated_at":"2017-12-15T12:13:40Z","author_association":"NONE","body":"Installing homebrew is not a satisfactory solution as brew and macports don't always play well together. I use macports. Manually linking or copying the library to the brew install location is less than ideal.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351991542/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351995964","html_url":"https://github.com/apache/couchdb/issues/1052#issuecomment-351995964","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1052","id":351995964,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTk5NTk2NA==","user":{"login":"kvzhkv","id":20382494,"node_id":"MDQ6VXNlcjIwMzgyNDk0","avatar_url":"https://avatars.githubusercontent.com/u/20382494?v=4","gravatar_id":"","url":"https://api.github.com/users/kvzhkv","html_url":"https://github.com/kvzhkv","followers_url":"https://api.github.com/users/kvzhkv/followers","following_url":"https://api.github.com/users/kvzhkv/following{/other_user}","gists_url":"https://api.github.com/users/kvzhkv/gists{/gist_id}","starred_url":"https://api.github.com/users/kvzhkv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kvzhkv/subscriptions","organizations_url":"https://api.github.com/users/kvzhkv/orgs","repos_url":"https://api.github.com/users/kvzhkv/repos","events_url":"https://api.github.com/users/kvzhkv/events{/privacy}","received_events_url":"https://api.github.com/users/kvzhkv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T12:38:28Z","updated_at":"2017-12-15T12:38:28Z","author_association":"NONE","body":"Thanks a lot! It's working now!\r\nI guess the docs should be updated now?!...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351995964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351998899","html_url":"https://github.com/apache/couchdb/pull/1011#issuecomment-351998899","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1011","id":351998899,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTk5ODg5OQ==","user":{"login":"nono","id":2767,"node_id":"MDQ6VXNlcjI3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/2767?v=4","gravatar_id":"","url":"https://api.github.com/users/nono","html_url":"https://github.com/nono","followers_url":"https://api.github.com/users/nono/followers","following_url":"https://api.github.com/users/nono/following{/other_user}","gists_url":"https://api.github.com/users/nono/gists{/gist_id}","starred_url":"https://api.github.com/users/nono/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nono/subscriptions","organizations_url":"https://api.github.com/users/nono/orgs","repos_url":"https://api.github.com/users/nono/repos","events_url":"https://api.github.com/users/nono/events{/privacy}","received_events_url":"https://api.github.com/users/nono/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T12:54:07Z","updated_at":"2017-12-15T12:54:07Z","author_association":"NONE","body":"Thanks @willholley!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/351998899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352014568","html_url":"https://github.com/apache/couchdb/issues/1052#issuecomment-352014568","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1052","id":352014568,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjAxNDU2OA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T14:09:58Z","updated_at":"2017-12-15T14:09:58Z","author_association":"MEMBER","body":"Yep I filed apache/couchdb-documentation#220 (not sure why the link did not show up here automatically). I think we can close the issue against this repo :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352014568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352062376","html_url":"https://github.com/apache/couchdb/issues/1041#issuecomment-352062376","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1041","id":352062376,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjA2MjM3Ng==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T17:21:50Z","updated_at":"2017-12-15T17:21:50Z","author_association":"MEMBER","body":"This is not possible for a specific user today. The only way to invalidate a token associated with a given username is to change the value of the `[couch_httpd_auth] secret` configuration setting, but this would invalidate *all* of your tokens.\r\n\r\nThe point of the token in the proxy authentication handler is to prove that the system sending the HTTP request should be trusted by CouchDB. It's specifically not intended to be a user-specific password.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352062376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352120511","html_url":"https://github.com/apache/couchdb/issues/1033#issuecomment-352120511","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1033","id":352120511,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjEyMDUxMQ==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-15T21:49:43Z","updated_at":"2017-12-15T21:49:43Z","author_association":"MEMBER","body":"Hi @MiguelSR , that's a pretty peculiar error message. Can you share a few more details about the setup? When you say you switched back from a three node cluster to the \"normal configuration\", what does that mean for you? Was it still the same Docker image but with one node instead of three, or were you switching code versions?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352120511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352177405","html_url":"https://github.com/apache/couchdb/pull/1068#issuecomment-352177405","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1068","id":352177405,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjE3NzQwNQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-16T11:24:10Z","updated_at":"2017-12-16T11:24:10Z","author_association":"CONTRIBUTOR","body":"@janl Hey Jan, would you like to review this when you get time? Thanks in advance. Peng Hui","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352177405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352239274","html_url":"https://github.com/apache/couchdb/issues/1020#issuecomment-352239274","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1020","id":352239274,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjIzOTI3NA==","user":{"login":"brendand","id":586075,"node_id":"MDQ6VXNlcjU4NjA3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/586075?v=4","gravatar_id":"","url":"https://api.github.com/users/brendand","html_url":"https://github.com/brendand","followers_url":"https://api.github.com/users/brendand/followers","following_url":"https://api.github.com/users/brendand/following{/other_user}","gists_url":"https://api.github.com/users/brendand/gists{/gist_id}","starred_url":"https://api.github.com/users/brendand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brendand/subscriptions","organizations_url":"https://api.github.com/users/brendand/orgs","repos_url":"https://api.github.com/users/brendand/repos","events_url":"https://api.github.com/users/brendand/events{/privacy}","received_events_url":"https://api.github.com/users/brendand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-17T08:10:31Z","updated_at":"2017-12-17T08:10:31Z","author_association":"NONE","body":"I'd also like to know this. I looked in `~/Library/Application Support/CouchDB2/etc/couchdb`, but there was no `local.ini` file there, even though the changes saved in the Fauxton configuration UI are being saved somewhere.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352239274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352258028","html_url":"https://github.com/apache/couchdb/issues/979#issuecomment-352258028","issue_url":"https://api.github.com/repos/apache/couchdb/issues/979","id":352258028,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjI1ODAyOA==","user":{"login":"martinleopold","id":1692826,"node_id":"MDQ6VXNlcjE2OTI4MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1692826?v=4","gravatar_id":"","url":"https://api.github.com/users/martinleopold","html_url":"https://github.com/martinleopold","followers_url":"https://api.github.com/users/martinleopold/followers","following_url":"https://api.github.com/users/martinleopold/following{/other_user}","gists_url":"https://api.github.com/users/martinleopold/gists{/gist_id}","starred_url":"https://api.github.com/users/martinleopold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinleopold/subscriptions","organizations_url":"https://api.github.com/users/martinleopold/orgs","repos_url":"https://api.github.com/users/martinleopold/repos","events_url":"https://api.github.com/users/martinleopold/events{/privacy}","received_events_url":"https://api.github.com/users/martinleopold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-17T14:05:41Z","updated_at":"2017-12-17T14:05:41Z","author_association":"NONE","body":"There is an open issue adressing this problem here: https://github.com/apache/couchdb/issues/1004","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352258028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352282392","html_url":"https://github.com/apache/couchdb/issues/1033#issuecomment-352282392","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1033","id":352282392,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjI4MjM5Mg==","user":{"login":"MiguelSR","id":4849000,"node_id":"MDQ6VXNlcjQ4NDkwMDA=","avatar_url":"https://avatars.githubusercontent.com/u/4849000?v=4","gravatar_id":"","url":"https://api.github.com/users/MiguelSR","html_url":"https://github.com/MiguelSR","followers_url":"https://api.github.com/users/MiguelSR/followers","following_url":"https://api.github.com/users/MiguelSR/following{/other_user}","gists_url":"https://api.github.com/users/MiguelSR/gists{/gist_id}","starred_url":"https://api.github.com/users/MiguelSR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MiguelSR/subscriptions","organizations_url":"https://api.github.com/users/MiguelSR/orgs","repos_url":"https://api.github.com/users/MiguelSR/repos","events_url":"https://api.github.com/users/MiguelSR/events{/privacy}","received_events_url":"https://api.github.com/users/MiguelSR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-17T20:20:31Z","updated_at":"2017-12-17T20:20:31Z","author_association":"NONE","body":"Hello @kocolosk.\r\n\r\nWhen I said \"normal configuration\" I meant that I went back to my initial RAM config. I mean: I initially reserved 256 MB to the CouchDB process, then 512 and then 256 again. So nothing to do with CouchDB itself, but AWS config.\r\n\r\nThe Docker image was everytime the same.\r\n\r\nBy the way I already fixed this. I think it was failing because I hadn't the file local.d/local.ini as a persistent Docker volume. So only DB was persistent but not the configuration itself, and that could led my cluster to an inconsistent state when I restarted the containers. Maybe the documentation of the project apache/couchdb-docker should say clearly that this folder should be persistent, but that's not a problem of this project :).\r\n\r\nThank you very much,\r\nMiguel.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352282392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352336820","html_url":"https://github.com/apache/couchdb/issues/1071#issuecomment-352336820","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1071","id":352336820,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjMzNjgyMA==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-18T06:26:27Z","updated_at":"2017-12-18T06:26:27Z","author_association":"MEMBER","body":"I found, memory usage of one node1 keep increasing until 95%, and suddenly all modules are restarted.\r\n\r\nMemory usage of other nodes(node2, 3) were stable under 40%.\r\n\r\n```\r\n[info] 2017-12-18T06:04:11.965787Z couchdb@10.113.130.91 <0.7.0> -------- Application couch_log started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:11.969249Z couchdb@10.113.130.91 <0.7.0> -------- Application folsom started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:11.998677Z couchdb@10.113.130.91 <0.7.0> -------- Application couch_stats started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:11.998838Z couchdb@10.113.130.91 <0.7.0> -------- Application khash started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.005142Z couchdb@10.113.130.91 <0.7.0> -------- Application couch_event started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.009451Z couchdb@10.113.130.91 <0.7.0> -------- Application ibrowse started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.013053Z couchdb@10.113.130.91 <0.7.0> -------- Application ioq started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.013204Z couchdb@10.113.130.91 <0.7.0> -------- Application mochiweb started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.018868Z couchdb@10.113.130.91 <0.201.0> -------- Apache CouchDB 2.1.1 is starting.\r\n\r\n[info] 2017-12-18T06:04:12.018999Z couchdb@10.113.130.91 <0.202.0> -------- Starting couch_sup\r\n[info] 2017-12-18T06:04:12.140996Z couchdb@10.113.130.91 <0.201.0> -------- Apache CouchDB has started. Time to relax.\r\n\r\n[info] 2017-12-18T06:04:12.141142Z couchdb@10.113.130.91 <0.201.0> -------- Apache CouchDB has started on http://any:5986/\r\n[info] 2017-12-18T06:04:12.141225Z couchdb@10.113.130.91 <0.7.0> -------- Application couch started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.141311Z couchdb@10.113.130.91 <0.7.0> -------- Application ets_lru started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.163563Z couchdb@10.113.130.91 <0.7.0> -------- Application rexi started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.165314Z couchdb@10.113.130.91 <0.265.0> -------- Opening index for db: _users idx: _design/_auth sig: \"3e823c2a4383ac0c18d4e574135a5b08\"\r\n[info] 2017-12-18T06:04:12.177415Z couchdb@10.113.130.91 <0.291.0> -------- Opening index for db: _replicator idx: _design/_replicator sig: \"3e823c2a4383ac0c18d4e574135a5b08\"\r\n[error] 2017-12-18T06:04:12.197986Z couchdb@10.113.130.91 emulator -------- Error in process <0.308.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<19 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.198169Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `subjects` from database `shards/e0000000-ffffffff/lambda-bmt_subjects.1513576321`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"lambda-bmt_subjects\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.209860Z couchdb@10.113.130.91 emulator -------- Error in process <0.343.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<22 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.210001Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `logCleanup` from database `shards/c0000000-dfffffff/lambda-bmt_activations.1513576331`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"lambda-bmt_activations\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.212308Z couchdb@10.113.130.91 emulator -------- Error in process <0.350.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<11 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.212430Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `_replicator` from database `shards/80000000-9fffffff/_replicator.1513576319`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"_replicator\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.218714Z couchdb@10.113.130.91 emulator -------- Error in process <0.366.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<22 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.218968Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `whisks-filters.v2` from database `shards/80000000-9fffffff/lambda-bmt_activations.1513576331`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"lambda-bmt_activations\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.226318Z couchdb@10.113.130.91 emulator -------- Error in process <0.391.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<6 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.226595Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `_auth` from database `shards/40000000-5fffffff/_users.1513576319`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"_users\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.236714Z couchdb@10.113.130.91 emulator -------- Error in process <0.425.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<17 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.236955Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `whisks.v2` from database `shards/20000000-3fffffff/lambda-bmt_whisks.1513576330`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"lambda-bmt_whisks\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.239656Z couchdb@10.113.130.91 emulator -------- Error in process <0.429.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<22 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.239796Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `whisks.v2` from database `shards/20000000-3fffffff/lambda-bmt_activations.1513576331`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"lambda-bmt_activations\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.243468Z couchdb@10.113.130.91 emulator -------- Error in process <0.442.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<19 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.243604Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `snapshotFilters` from database `shards/00000000-1fffffff/lambda-bmt_subjects.1513576321`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"lambda-bmt_subjects\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.245585Z couchdb@10.113.130.91 emulator -------- Error in process <0.449.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<17 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.245828Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `snapshotFilters` from database `shards/00000000-1fffffff/lambda-bmt_whisks.1513576330`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"lambda-bmt_whisks\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.248764Z couchdb@10.113.130.91 emulator -------- Error in process <0.453.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<22 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.248891Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `snapshotFilters` from database `shards/00000000-1fffffff/lambda-bmt_activations.1513576331`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"lambda-bmt_activations\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[info] 2017-12-18T06:04:12.250156Z couchdb@10.113.130.91 <0.456.0> -------- Starting compaction for db \"shards/00000000-1fffffff/_global_changes.1513576319\"\r\n[notice] 2017-12-18T06:04:12.259997Z couchdb@10.113.130.91 <0.456.0> -------- Compaction swap for db: ./data/shards/00000000-1fffffff/_global_changes.1513576319.couch 5509326 49352\r\n[info] 2017-12-18T06:04:12.260331Z couchdb@10.113.130.91 <0.456.0> -------- Compaction for db \"shards/00000000-1fffffff/_global_changes.1513576319\" completed.\r\n[error] 2017-12-18T06:04:12.260952Z couchdb@10.113.130.91 emulator -------- Error in process <0.465.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<15 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.265586Z couchdb@10.113.130.91 emulator -------- Error in process <0.481.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<16 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.265820Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `namespaces` from database `shards/a0000000-bfffffff/service_mappings.1513576326`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"service_mappings\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[error] 2017-12-18T06:04:12.269434Z couchdb@10.113.130.91 emulator -------- Error in process <0.488.0> on node 'couchdb@10.113.130.91' with exit value: {badarg,[{ets,member,[mem3_openers,<<22 bytes>>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk...\r\n[error] 2017-12-18T06:04:12.269561Z couchdb@10.113.130.91 <0.254.0> -------- Error opening view group `activations` from database `shards/a0000000-bfffffff/lambda-bmt_activations.1513576331`: {'EXIT',{{badmatch,{badarg,[{ets,member,[mem3_openers,<<\"lambda-bmt_activations\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk,2,[{file,\"src/mem3_shards.erl\"},{line,407}]},{mem3_shards,for_docid,3,[{file,\"src/mem3_shards.erl\"},{line,96}]},{fabric_doc_open,go,3,[{file,\"src/fabric_doc_open.erl\"},{line,38}]},{couch_index_server,'-get_index/3-fun-0-',2,[{file,\"src/couch_index_server.erl\"},{line,68}]}]}},[{couch_mrview,get_info,2,[{file,\"src/couch_mrview.erl\"},{line,332}]},{couch_compaction_daemon,maybe_compact_view,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,253}]},{couch_compaction_daemon,maybe_compact_views,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,227}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,278}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]},{couch_server,all_databases,2,[{file,\"src/couch_server.erl\"},{line,267}]}]}}\r\n[notice] 2017-12-18T06:04:12.379628Z couchdb@10.113.130.91 <0.269.0> -------- rexi_server_mon : cluster unstable\r\n[notice] 2017-12-18T06:04:12.379672Z couchdb@10.113.130.91 <0.272.0> -------- rexi_server_mon : cluster unstable\r\n[notice] 2017-12-18T06:04:12.379798Z couchdb@10.113.130.91 <0.267.0> -------- rexi_server : cluster unstable\r\n[notice] 2017-12-18T06:04:12.379926Z couchdb@10.113.130.91 <0.271.0> -------- rexi_buffer : cluster unstable\r\n[notice] 2017-12-18T06:04:12.404666Z couchdb@10.113.130.91 <0.269.0> -------- rexi_server_mon : cluster unstable\r\n[notice] 2017-12-18T06:04:12.404757Z couchdb@10.113.130.91 <0.272.0> -------- rexi_server_mon : cluster unstable\r\n[notice] 2017-12-18T06:04:12.404825Z couchdb@10.113.130.91 <0.267.0> -------- rexi_server : cluster unstable\r\n[notice] 2017-12-18T06:04:12.404877Z couchdb@10.113.130.91 <0.271.0> -------- rexi_buffer : cluster unstable\r\n[info] 2017-12-18T06:04:12.417694Z couchdb@10.113.130.91 <0.7.0> -------- Application mem3 started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.417779Z couchdb@10.113.130.91 <0.7.0> -------- Application fabric started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.478630Z couchdb@10.113.130.91 <0.7.0> -------- Application chttpd started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.529773Z couchdb@10.113.130.91 <0.7.0> -------- Application couch_index started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.529875Z couchdb@10.113.130.91 <0.7.0> -------- Application couch_mrview started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.529942Z couchdb@10.113.130.91 <0.7.0> -------- Application couch_plugins started on node 'couchdb@10.113.130.91'\r\n[notice] 2017-12-18T06:04:12.773666Z couchdb@10.113.130.91 <0.88.0> -------- config: [features] scheduler set to true for reason nil\r\n[notice] 2017-12-18T06:04:12.839556Z couchdb@10.113.130.91 <0.874.0> 96b227aa8c 10.113.130.91:5984 10.66.100.4 admin GET /_active_tasks 200 ok 90\r\n[info] 2017-12-18T06:04:12.967585Z couchdb@10.113.130.91 <0.7.0> -------- Application couch_replicator started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:12.984160Z couchdb@10.113.130.91 <0.7.0> -------- Application couch_peruser started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:13.005258Z couchdb@10.113.130.91 <0.7.0> -------- Application ddoc_cache started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:13.031852Z couchdb@10.113.130.91 <0.7.0> -------- Application global_changes started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:13.032102Z couchdb@10.113.130.91 <0.7.0> -------- Application jiffy started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:13.045481Z couchdb@10.113.130.91 <0.7.0> -------- Application mango started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:13.055213Z couchdb@10.113.130.91 <0.7.0> -------- Application setup started on node 'couchdb@10.113.130.91'\r\n[info] 2017-12-18T06:04:13.055272Z couchdb@10.113.130.91 <0.7.0> -------- Application snappy started on node 'couchdb@10.113.130.91\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352336820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352338033","html_url":"https://github.com/apache/couchdb/pull/1067#issuecomment-352338033","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1067","id":352338033,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjMzODAzMw==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-18T06:34:57Z","updated_at":"2017-12-18T06:34:57Z","author_association":"CONTRIBUTOR","body":"The fix lgtm. The garbage collection test is a little tricky, just want to understand it a bit better.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352338033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352339244","html_url":"https://github.com/apache/couchdb/issues/869#issuecomment-352339244","issue_url":"https://api.github.com/repos/apache/couchdb/issues/869","id":352339244,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjMzOTI0NA==","user":{"login":"penkeysuresh","id":4910654,"node_id":"MDQ6VXNlcjQ5MTA2NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4910654?v=4","gravatar_id":"","url":"https://api.github.com/users/penkeysuresh","html_url":"https://github.com/penkeysuresh","followers_url":"https://api.github.com/users/penkeysuresh/followers","following_url":"https://api.github.com/users/penkeysuresh/following{/other_user}","gists_url":"https://api.github.com/users/penkeysuresh/gists{/gist_id}","starred_url":"https://api.github.com/users/penkeysuresh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/penkeysuresh/subscriptions","organizations_url":"https://api.github.com/users/penkeysuresh/orgs","repos_url":"https://api.github.com/users/penkeysuresh/repos","events_url":"https://api.github.com/users/penkeysuresh/events{/privacy}","received_events_url":"https://api.github.com/users/penkeysuresh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-18T06:43:05Z","updated_at":"2017-12-18T06:56:53Z","author_association":"NONE","body":"@nickva I'm also facing the same, above described issue. I'm using couchdb 1.6.1. In my case I'm doing a continuous replication between two couch databases for ~20K databases of each ~10MB on average, to and forth. After a certain time couch db crashes and beam process eats up all the available CPU. Restarting the couch process, or deleting the replications didn't help. Could you tell me what information I should be looking at ? Or can provide any pointers to solve this issue ? d\r\n\r\nThe out put of `couchdb.stderr` file\r\n\r\n```\r\nheart_beat_kill_pid = 15996\r\nheart_beat_timeout = 11\r\nheart: Fri Dec 15 22:01:14 2017: Erlang has closed.\r\nTerminated\r\nsh: echo: I/O error\r\nheart: Fri Dec 15 22:01:15 2017: Executed \"/usr/bin/couchdb -k\" -> 256. Terminating.\r\n\r\nheart_beat_kill_pid = 16103\r\nheart_beat_timeout = 11\r\nheart: Fri Dec 15 22:03:52 2017: Erlang has closed.\r\nTerminated\r\nsh: echo: I/O error\r\nheart: Fri Dec 15 22:03:53 2017: Executed \"/usr/bin/couchdb -k\" -> 256. Terminating.\r\n\r\nheart_beat_kill_pid = 1202\r\nheart_beat_timeout = 11\r\n\r\nheart_beat_kill_pid = 21749\r\nheart_beat_timeout = 11\r\nKilled\r\ninet_gethost[1711]: WARNING:Unable to write to child process.\r\ninet_gethost[1711]: WARNING:Unable to select on dying child file descriptor, errno = 9.\r\n\r\nheart_beat_kill_pid = 8077\r\nheart_beat_timeout = 11\r\nheart: Mon Dec 18 01:32:56 2017: Erlang has closed.\r\nTerminated\r\nsh: echo: I/O error\r\nheart: Mon Dec 18 01:32:57 2017: Executed \"/usr/bin/couchdb -k\" -> 256. Terminating.\r\n\r\n```\r\n\r\nLast lines out put of `couchdb.stdout` file\r\n\r\n\r\n```\r\n=ERROR REPORT==== 18-Dec-2017::01:33:31 ===\r\n** Generic server <0.13137.79> terminating \r\n** Last message in was {'EXIT',<0.13139.79>,\r\n                           {badarg,\r\n                               [{ets,lookup,\r\n                                    [couch_rep_id_to_rep_state,\r\n                                     {\"622580889a5576440ff2e9c08454d3b7\",\r\n                                      \"+continuous+create_target\"}],\r\n                                    []},\r\n                                {couch_replicator_manager,rep_state,1,\r\n                                    [{file,\"src/couch_replicator_manager.erl\"},\r\n                                     {line,617}]},\r\n                                {couch_replicator_manager,\r\n                                    replication_started,1,\r\n                                    [{file,\"src/couch_replicator_manager.erl\"},\r\n                                     {line,65}]},\r\n                                {couch_replicator,do_init,1,\r\n                                    [{file,\"src/couch_replicator.erl\"},\r\n                                     {line,329}]},\r\n                                {couch_replicator,init,1,\r\n                                    [{file,\"src/couch_replicator.erl\"},\r\n                                     {line,231}]},\r\n                                {gen_server,init_it,6,\r\n                                    [{file,\"gen_server.erl\"},{line,304}]},\r\n                                {proc_lib,init_p_do_apply,3,\r\n                                    [{file,\"proc_lib.erl\"},{line,239}]}]}}\r\n** When Server state == {state,\"https://<uname>:<pwd>@<domain.name>/lg39e96df4-f71a-42dc-96f1-da90bd46d872/\",\r\n                               20,\r\n                               [<0.13136.79>],\r\n                               [],\r\n                               {[],[]}}\r\n** Reason for termination == \r\n** {badarg,\r\n       [{ets,lookup,\r\n            [couch_rep_id_to_rep_state,\r\n             {\"622580889a5576440ff2e9c08454d3b7\",\"+continuous+create_target\"}],\r\n            []},\r\n        {couch_replicator_manager,rep_state,1,\r\n            [{file,\"src/couch_replicator_manager.erl\"},{line,617}]},\r\n        {couch_replicator_manager,replication_started,1,\r\n            [{file,\"src/couch_replicator_manager.erl\"},{line,65}]},\r\n        {couch_replicator,do_init,1,\r\n            [{file,\"src/couch_replicator.erl\"},{line,329}]},\r\n        {couch_replicator,init,1,\r\n            [{file,\"src/couch_replicator.erl\"},{line,231}]},\r\n        {gen_server,init_it,6,[{file,\"gen_server.erl\"},{line,304}]},\r\n        {proc_lib,init_p_do_apply,3,[{file,\"proc_lib.erl\"},{line,239}]}]}\r\n[error] [<0.296.0>] Could not open file /var/lib/couchdb/lg37be7786-fad0-4dd2-ae69-603e2c69fc1d.couch: file already exists\r\n[info] [<0.269.0>] 10.15.0.2 - - PUT /lg37be7786-fad0-4dd2-ae69-603e2c69fc1d/ 412\r\n[info] [<0.270.0>] 10.15.0.2 - - HEAD /lg37be7786-fad0-4dd2-ae69-603e2c69fc1d/ 200\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352339244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352344473","html_url":"https://github.com/apache/couchdb/issues/790#issuecomment-352344473","issue_url":"https://api.github.com/repos/apache/couchdb/issues/790","id":352344473,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjM0NDQ3Mw==","user":{"login":"penkeysuresh","id":4910654,"node_id":"MDQ6VXNlcjQ5MTA2NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4910654?v=4","gravatar_id":"","url":"https://api.github.com/users/penkeysuresh","html_url":"https://github.com/penkeysuresh","followers_url":"https://api.github.com/users/penkeysuresh/followers","following_url":"https://api.github.com/users/penkeysuresh/following{/other_user}","gists_url":"https://api.github.com/users/penkeysuresh/gists{/gist_id}","starred_url":"https://api.github.com/users/penkeysuresh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/penkeysuresh/subscriptions","organizations_url":"https://api.github.com/users/penkeysuresh/orgs","repos_url":"https://api.github.com/users/penkeysuresh/repos","events_url":"https://api.github.com/users/penkeysuresh/events{/privacy}","received_events_url":"https://api.github.com/users/penkeysuresh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-18T07:18:48Z","updated_at":"2018-01-04T14:17:01Z","author_association":"NONE","body":"@wohali I'm facing the same Issue and I posted the logs and error output here https://github.com/apache/couchdb/issues/869 . Could you please go through and give some pointers on how to solve this ? \r\n  \r\nEdit: I've managed to bring back the CPU utilisation to normal levels, it's hardly a solution, but it fixes my problem for time being. Check out the comments here https://github.com/apache/couchdb/issues/869","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352344473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352480728","html_url":"https://github.com/apache/couchdb/issues/1074#issuecomment-352480728","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1074","id":352480728,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjQ4MDcyOA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-18T16:35:04Z","updated_at":"2017-12-18T16:35:04Z","author_association":"MEMBER","body":"`fs-manager` is not part of CouchDB, it seems that you've been hacked with crypto mining software. Check out this [mail-thread](https://mail-archives.apache.org/mod_mbox/couchdb-user/201712.mbox/%3CCAPXXe8ubB2zMd2iMb8UUsvY26%3DYzDYPZhk2AXZbwrx4%2Bg88w3g%40mail.gmail.com%3E) with a similar case.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352480728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352515462","html_url":"https://github.com/apache/couchdb/pull/1069#issuecomment-352515462","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1069","id":352515462,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjUxNTQ2Mg==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-18T18:24:52Z","updated_at":"2017-12-18T18:24:52Z","author_association":"CONTRIBUTOR","body":"+1 after whitespace issue, nice catch.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352515462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352534152","html_url":"https://github.com/apache/couchdb/issues/979#issuecomment-352534152","issue_url":"https://api.github.com/repos/apache/couchdb/issues/979","id":352534152,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjUzNDE1Mg==","user":{"login":"bedney","id":13412,"node_id":"MDQ6VXNlcjEzNDEy","avatar_url":"https://avatars.githubusercontent.com/u/13412?v=4","gravatar_id":"","url":"https://api.github.com/users/bedney","html_url":"https://github.com/bedney","followers_url":"https://api.github.com/users/bedney/followers","following_url":"https://api.github.com/users/bedney/following{/other_user}","gists_url":"https://api.github.com/users/bedney/gists{/gist_id}","starred_url":"https://api.github.com/users/bedney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bedney/subscriptions","organizations_url":"https://api.github.com/users/bedney/orgs","repos_url":"https://api.github.com/users/bedney/repos","events_url":"https://api.github.com/users/bedney/events{/privacy}","received_events_url":"https://api.github.com/users/bedney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-18T19:33:09Z","updated_at":"2017-12-18T19:33:09Z","author_association":"NONE","body":"Just got bit by this today (again...) on High Sierra.\r\n\r\nI'm using the double-clickable Mac installer and especially for the user base that uses this, there is certainly an expectation that CouchDB is just going to work \"out of the box\".\r\n\r\n@janl - is there a complexity here that is preventing this from being fixed? I'm willing to help test a fix for this. Please let me know if I can help! Thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352534152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352559352","html_url":"https://github.com/apache/couchdb/issues/979#issuecomment-352559352","issue_url":"https://api.github.com/repos/apache/couchdb/issues/979","id":352559352,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjU1OTM1Mg==","user":{"login":"koleto","id":275842,"node_id":"MDQ6VXNlcjI3NTg0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/275842?v=4","gravatar_id":"","url":"https://api.github.com/users/koleto","html_url":"https://github.com/koleto","followers_url":"https://api.github.com/users/koleto/followers","following_url":"https://api.github.com/users/koleto/following{/other_user}","gists_url":"https://api.github.com/users/koleto/gists{/gist_id}","starred_url":"https://api.github.com/users/koleto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koleto/subscriptions","organizations_url":"https://api.github.com/users/koleto/orgs","repos_url":"https://api.github.com/users/koleto/repos","events_url":"https://api.github.com/users/koleto/events{/privacy}","received_events_url":"https://api.github.com/users/koleto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-18T21:14:20Z","updated_at":"2017-12-18T21:14:20Z","author_association":"NONE","body":"Actually there is no working package on macOS Sierra anymore for both CouchDB 1.x and CouchDB 2.x ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352559352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352632946","html_url":"https://github.com/apache/couchdb/issues/1071#issuecomment-352632946","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1071","id":352632946,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjYzMjk0Ng==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-19T03:56:34Z","updated_at":"2017-12-19T03:56:34Z","author_association":"MEMBER","body":"I found memory usage keep increasing til 90~95% and at some point, kernel killed `beam.smp`, due to out of memory issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352632946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352652305","html_url":"https://github.com/apache/couchdb/issues/1074#issuecomment-352652305","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1074","id":352652305,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjY1MjMwNQ==","user":{"login":"ransanjeev","id":1526402,"node_id":"MDQ6VXNlcjE1MjY0MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1526402?v=4","gravatar_id":"","url":"https://api.github.com/users/ransanjeev","html_url":"https://github.com/ransanjeev","followers_url":"https://api.github.com/users/ransanjeev/followers","following_url":"https://api.github.com/users/ransanjeev/following{/other_user}","gists_url":"https://api.github.com/users/ransanjeev/gists{/gist_id}","starred_url":"https://api.github.com/users/ransanjeev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ransanjeev/subscriptions","organizations_url":"https://api.github.com/users/ransanjeev/orgs","repos_url":"https://api.github.com/users/ransanjeev/repos","events_url":"https://api.github.com/users/ransanjeev/events{/privacy}","received_events_url":"https://api.github.com/users/ransanjeev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-19T06:30:02Z","updated_at":"2017-12-19T06:30:02Z","author_association":"NONE","body":"Thanks @eiri I think I figured out the problem.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352652305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352659382","html_url":"https://github.com/apache/couchdb/issues/1073#issuecomment-352659382","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1073","id":352659382,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjY1OTM4Mg==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-19T07:14:45Z","updated_at":"2017-12-19T07:14:45Z","author_association":"MEMBER","body":"I am facing same issue.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352659382/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352663384","html_url":"https://github.com/apache/couchdb/issues/1073#issuecomment-352663384","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1073","id":352663384,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjY2MzM4NA==","user":{"login":"harald-d","id":33542207,"node_id":"MDQ6VXNlcjMzNTQyMjA3","avatar_url":"https://avatars.githubusercontent.com/u/33542207?v=4","gravatar_id":"","url":"https://api.github.com/users/harald-d","html_url":"https://github.com/harald-d","followers_url":"https://api.github.com/users/harald-d/followers","following_url":"https://api.github.com/users/harald-d/following{/other_user}","gists_url":"https://api.github.com/users/harald-d/gists{/gist_id}","starred_url":"https://api.github.com/users/harald-d/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harald-d/subscriptions","organizations_url":"https://api.github.com/users/harald-d/orgs","repos_url":"https://api.github.com/users/harald-d/repos","events_url":"https://api.github.com/users/harald-d/events{/privacy}","received_events_url":"https://api.github.com/users/harald-d/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-19T07:38:19Z","updated_at":"2017-12-19T07:38:19Z","author_association":"NONE","body":"If you could post your configuration too it may help the devs identifying the problem :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352663384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352674657","html_url":"https://github.com/apache/couchdb/issues/1073#issuecomment-352674657","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1073","id":352674657,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjY3NDY1Nw==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-19T08:34:30Z","updated_at":"2017-12-19T08:34:30Z","author_association":"MEMBER","body":"I just used default configurations in docker image, `apache/couchdb:2.1`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352674657/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352779051","html_url":"https://github.com/apache/couchdb/issues/1020#issuecomment-352779051","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1020","id":352779051,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mjc3OTA1MQ==","user":{"login":"aal89","id":4449982,"node_id":"MDQ6VXNlcjQ0NDk5ODI=","avatar_url":"https://avatars.githubusercontent.com/u/4449982?v=4","gravatar_id":"","url":"https://api.github.com/users/aal89","html_url":"https://github.com/aal89","followers_url":"https://api.github.com/users/aal89/followers","following_url":"https://api.github.com/users/aal89/following{/other_user}","gists_url":"https://api.github.com/users/aal89/gists{/gist_id}","starred_url":"https://api.github.com/users/aal89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aal89/subscriptions","organizations_url":"https://api.github.com/users/aal89/orgs","repos_url":"https://api.github.com/users/aal89/repos","events_url":"https://api.github.com/users/aal89/events{/privacy}","received_events_url":"https://api.github.com/users/aal89/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-19T14:50:20Z","updated_at":"2017-12-19T14:50:20Z","author_association":"NONE","body":"For everyone who is still figuring this out. It should be in your users Library folder under Preferences.\r\n\r\n```\r\n# cd ~/Library/Preferences/couchdb2-local.ini\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352779051/reactions","total_count":12,"+1":12,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352882896","html_url":"https://github.com/apache/couchdb/pull/1067#issuecomment-352882896","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1067","id":352882896,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mjg4Mjg5Ng==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-19T20:52:31Z","updated_at":"2017-12-19T20:52:31Z","author_association":"MEMBER","body":"Hey @tonysun83 , was my explanation sufficient? Do you want me to change anything in the tests?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352882896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352943496","html_url":"https://github.com/apache/couchdb/issues/1077#issuecomment-352943496","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1077","id":352943496,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mjk0MzQ5Ng==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-20T02:05:07Z","updated_at":"2017-12-20T02:05:07Z","author_association":"MEMBER","body":"You can configure `default_security` to `admin_only`.\r\nhttps://github.com/apache/couchdb/blob/master/rel/overlay/etc/default.ini#L31\r\n\r\nOnly admin can read/write databases.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352943496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352944582","html_url":"https://github.com/apache/couchdb/issues/1077#issuecomment-352944582","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1077","id":352944582,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mjk0NDU4Mg==","user":{"login":"popojargo","id":9197078,"node_id":"MDQ6VXNlcjkxOTcwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/9197078?v=4","gravatar_id":"","url":"https://api.github.com/users/popojargo","html_url":"https://github.com/popojargo","followers_url":"https://api.github.com/users/popojargo/followers","following_url":"https://api.github.com/users/popojargo/following{/other_user}","gists_url":"https://api.github.com/users/popojargo/gists{/gist_id}","starred_url":"https://api.github.com/users/popojargo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popojargo/subscriptions","organizations_url":"https://api.github.com/users/popojargo/orgs","repos_url":"https://api.github.com/users/popojargo/repos","events_url":"https://api.github.com/users/popojargo/events{/privacy}","received_events_url":"https://api.github.com/users/popojargo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-20T02:12:35Z","updated_at":"2017-12-20T02:14:09Z","author_association":"MEMBER","body":"@style95  Correct me if I'm wrong but `default_security` is for the default security object of database. \r\n\r\nSo if I switch it to `admin_only`, only the admins will have access to the databases by default. Consequently, my user **Foo** won't be able to access any database by default.\r\n\r\nTherefore, `_all_dbs` will still return all the databases names(even if Foo doesn't access to any of them).\r\n\r\n`default_security` has no effects on `_all_dbs`.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352944582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352953025","html_url":"https://github.com/apache/couchdb/issues/1076#issuecomment-352953025","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1076","id":352953025,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mjk1MzAyNQ==","user":{"login":"Jianru-Lin","id":1057486,"node_id":"MDQ6VXNlcjEwNTc0ODY=","avatar_url":"https://avatars.githubusercontent.com/u/1057486?v=4","gravatar_id":"","url":"https://api.github.com/users/Jianru-Lin","html_url":"https://github.com/Jianru-Lin","followers_url":"https://api.github.com/users/Jianru-Lin/followers","following_url":"https://api.github.com/users/Jianru-Lin/following{/other_user}","gists_url":"https://api.github.com/users/Jianru-Lin/gists{/gist_id}","starred_url":"https://api.github.com/users/Jianru-Lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jianru-Lin/subscriptions","organizations_url":"https://api.github.com/users/Jianru-Lin/orgs","repos_url":"https://api.github.com/users/Jianru-Lin/repos","events_url":"https://api.github.com/users/Jianru-Lin/events{/privacy}","received_events_url":"https://api.github.com/users/Jianru-Lin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-20T03:13:29Z","updated_at":"2017-12-20T03:13:29Z","author_association":"NONE","body":"@tata2000 Is the link correct? \"CVE ID Not Found\"","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/352953025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353016413","html_url":"https://github.com/apache/couchdb/issues/1079#issuecomment-353016413","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1079","id":353016413,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzAxNjQxMw==","user":{"login":"cuddle-sujeet","id":16955604,"node_id":"MDQ6VXNlcjE2OTU1NjA0","avatar_url":"https://avatars.githubusercontent.com/u/16955604?v=4","gravatar_id":"","url":"https://api.github.com/users/cuddle-sujeet","html_url":"https://github.com/cuddle-sujeet","followers_url":"https://api.github.com/users/cuddle-sujeet/followers","following_url":"https://api.github.com/users/cuddle-sujeet/following{/other_user}","gists_url":"https://api.github.com/users/cuddle-sujeet/gists{/gist_id}","starred_url":"https://api.github.com/users/cuddle-sujeet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuddle-sujeet/subscriptions","organizations_url":"https://api.github.com/users/cuddle-sujeet/orgs","repos_url":"https://api.github.com/users/cuddle-sujeet/repos","events_url":"https://api.github.com/users/cuddle-sujeet/events{/privacy}","received_events_url":"https://api.github.com/users/cuddle-sujeet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-20T09:49:06Z","updated_at":"2017-12-20T09:49:06Z","author_association":"NONE","body":"Got the solution:\r\nThe problem is that I used a capital letter as username eg: Testadmin.\r\nBut CouchDB changes this to all small letter testadmin, hence I was unable to log in.\r\nI verified by looking at /Users/$user/Library/Preferences/couchdb2-local.ini file where I saw the admin username\r\n\r\nAlways use the small letters for DB name and username.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353016413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]