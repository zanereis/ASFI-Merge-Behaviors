[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290857759","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1290857759","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1290857759,"node_id":"IC_kwDOACaFSM5M8O0f","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T16:49:28Z","updated_at":"2022-10-25T16:49:28Z","author_association":"CONTRIBUTOR","body":"> could this be caused by a bug in the multiplexed RPCs?\r\n\r\nI don't think so, as the multiplexing is at the protocol level and the frame buffer is at the transport level. Still looking...","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290857759/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290873668","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1290873668","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1290873668,"node_id":"IC_kwDOACaFSM5M8StE","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T17:03:50Z","updated_at":"2022-10-25T17:03:50Z","author_association":"MEMBER","body":"> I was seeing this when I had external compaction enabled. Now, running a cluster with **internal** compactions, I am not seeing this.\r\n\r\nNevermind. I just got this again on the manager with internal compactions. Only once though, whereas I was getting it a lot before. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290873668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290883024","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1290883024","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1290883024,"node_id":"IC_kwDOACaFSM5M8U_Q","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T17:12:14Z","updated_at":"2022-10-25T17:12:14Z","author_association":"CONTRIBUTOR","body":"I think for the GC process to get it, it has to come from the Monitor. From what I can tell the clients are using a TFramedTransport.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1290883024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291012301","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1291012301","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1291012301,"node_id":"IC_kwDOACaFSM5M80jN","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T19:03:42Z","updated_at":"2022-10-25T19:09:52Z","author_association":"CONTRIBUTOR","body":"So, I don't think this is a blocker. Everything with the test is still running - to include Accumulo processes, CI Ingest processes, and CI Agitator. Also, the frame errors in the gc, manager, and coordinator logs are all from the timeframe of 1546 and 1547. The frame errors in the logs on the worker nodes are from 1542 to 1559. Nothing new in over 3 hours, even though things are still running","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291012301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291018834","html_url":"https://github.com/apache/accumulo/issues/3041#issuecomment-1291018834","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3041","id":1291018834,"node_id":"IC_kwDOACaFSM5M82JS","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T19:10:19Z","updated_at":"2022-10-25T19:10:19Z","author_association":"MEMBER","body":"I was able to reproduce this with the listed steps and got the following error from the manager log:\r\n```\r\n2022-10-25T14:55:49,959 [util.ConfigPropertyUpgrader] INFO : Upgrading namespace +accumulo base path: /accumulo/400c837f-e752-4155-89c7-fde86e48e835/namespaces/+accumulo/conf\r\n2022-10-25T14:55:49,966 [upgrade.UpgradeCoordinator] ERROR: FATAL: Error performing upgrade\r\njava.lang.IllegalStateException: Failed to release transform lock for /accumulo/400c837f-e752-4155-89c7-fde86e48e835/namespaces/+accumulo/conf/transform_token\r\n\tat org.apache.accumulo.server.conf.util.TransformToken.releaseToken(TransformToken.java:165) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.server.conf.util.ConfigTransformer.transform(ConfigTransformer.java:186) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.server.conf.util.ConfigTransformer.transform(ConfigTransformer.java:111) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.server.conf.util.ConfigPropertyUpgrader.upgradeNamespaceProps(ConfigPropertyUpgrader.java:111) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.server.conf.util.ConfigPropertyUpgrader.doUpgrade(ConfigPropertyUpgrader.java:90) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.manager.upgrade.Upgrader9to10.upgradePropertyStorage(Upgrader9to10.java:209) ~[accumulo-manager-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.manager.upgrade.Upgrader9to10.upgradeZookeeper(Upgrader9to10.java:137) ~[accumulo-manager-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.manager.upgrade.UpgradeCoordinator.upgradeZookeeper(UpgradeCoordinator.java:156) ~[accumulo-manager-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.manager.Manager.setManagerState(Manager.java:302) ~[accumulo-manager-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.manager.Manager.getManagerLock(Manager.java:1534) ~[accumulo-manager-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.manager.Manager.run(Manager.java:1078) ~[accumulo-manager-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n\tat java.lang.Thread.run(Thread.java:829) ~[?:?]\r\nCaused by: org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /accumulo/400c837f-e752-4155-89c7-fde86e48e835/namespaces/+accumulo/conf/transform_token\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:118) ~[zookeeper-3.8.0.jar:3.8.0]\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:54) ~[zookeeper-3.8.0.jar:3.8.0]\r\n\tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1972) ~[zookeeper-3.8.0.jar:3.8.0]\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.lambda$getData$1(ZooReader.java:84) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.retryLoopMutator(ZooReader.java:185) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.retryLoop(ZooReader.java:164) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.retryLoop(ZooReader.java:151) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.core.fate.zookeeper.ZooReader.getData(ZooReader.java:84) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n\tat org.apache.accumulo.server.conf.util.TransformToken.releaseToken(TransformToken.java:152) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n\t... 12 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291018834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291020440","html_url":"https://github.com/apache/accumulo/pull/3043#issuecomment-1291020440","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3043","id":1291020440,"node_id":"IC_kwDOACaFSM5M82iY","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T19:12:01Z","updated_at":"2022-10-25T19:12:01Z","author_association":"MEMBER","body":"I was able to reproduce the bug in #3041 with the steps given on that ticket. Then tried the same steps again except substituted this branch and everything seemed to work fine.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291020440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291021400","html_url":"https://github.com/apache/accumulo/issues/3041#issuecomment-1291021400","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3041","id":1291021400,"node_id":"IC_kwDOACaFSM5M82xY","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T19:13:02Z","updated_at":"2022-10-25T19:13:02Z","author_association":"CONTRIBUTOR","body":"Is that with the fix?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291021400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291023285","html_url":"https://github.com/apache/accumulo/issues/3041#issuecomment-1291023285","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3041","id":1291023285,"node_id":"IC_kwDOACaFSM5M83O1","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T19:15:09Z","updated_at":"2022-10-25T19:15:09Z","author_association":"MEMBER","body":"> Is that with the fix?\r\n\r\nNo, before the fix. See my comment on #3043 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291023285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291084758","html_url":"https://github.com/apache/accumulo/pull/3043#issuecomment-1291084758","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3043","id":1291084758,"node_id":"IC_kwDOACaFSM5M9GPW","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T20:14:15Z","updated_at":"2022-10-25T20:14:15Z","author_association":"CONTRIBUTOR","body":"A full set of ITs passed - FateIT needed to be rerun.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291084758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291086699","html_url":"https://github.com/apache/accumulo/issues/3041#issuecomment-1291086699","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3041","id":1291086699,"node_id":"IC_kwDOACaFSM5M9Gtr","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T20:16:12Z","updated_at":"2022-10-25T20:16:12Z","author_association":"CONTRIBUTOR","body":"Resolved with #3043 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291086699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291373312","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1291373312","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1291373312,"node_id":"IC_kwDOACaFSM5M-MsA","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T01:46:03Z","updated_at":"2022-10-26T01:46:03Z","author_association":"MEMBER","body":"So, one thing that can cause this is network analysis software doing port scans/probes or anti-virus checking for stuff. Thrift might try to interpret some random bytes on the wire from that kind of stuff, and fail here when it doesn't work because it parsed out some integer that won't work. Be sure you're not running into any of that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291373312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291430448","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1291430448","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1291430448,"node_id":"IC_kwDOACaFSM5M-aow","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T02:58:38Z","updated_at":"2022-10-26T02:58:38Z","author_association":"MEMBER","body":"I will create a 2.1.0-RC2 without a fix for this, but I'm still tracking this for 2.1.0 because it may still end up blocking a release. If it doesn't, we can bump it off to 2.1.1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291430448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291431204","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1291431204","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1291431204,"node_id":"IC_kwDOACaFSM5M-a0k","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T02:59:58Z","updated_at":"2022-10-26T02:59:58Z","author_association":"MEMBER","body":"I will create a 2.1.0-RC2 without a fix for this, but I'm still tracking this for 2.1.0 because it may still end up blocking a release. If it doesn't, we can bump it off to 2.1.1 (assuming it's a problem, and not something scanning ports with pings or something like that)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291431204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291431617","html_url":"https://github.com/apache/accumulo/issues/3046#issuecomment-1291431617","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3046","id":1291431617,"node_id":"IC_kwDOACaFSM5M-a7B","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T03:00:38Z","updated_at":"2022-10-26T03:00:38Z","author_association":"MEMBER","body":"I will create a 2.1.0-RC2 without a fix for this, but I'm still tracking this for 2.1.0 because it may still end up blocking a release. If it doesn't, we can bump it off to 2.1.1","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1291431617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292087477","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1292087477","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1292087477,"node_id":"IC_kwDOACaFSM5NA7C1","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T13:53:15Z","updated_at":"2022-10-26T13:53:15Z","author_association":"MEMBER","body":"> So, one thing that can cause this is network analysis software doing port scans/probes or anti-virus checking for stuff. Thrift might try to interpret some random bytes on the wire from that kind of stuff, and fail here when it doesn't work because it parsed out some integer that won't work. Be sure you're not running into any of that.\r\n\r\nI was seeing this on a generic Centos 7 image which I assume does not ship with those sort of tools. Might be something similar though, not sure. Just commenting in case this helps narrow things down.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292087477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292141938","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1292141938","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1292141938,"node_id":"IC_kwDOACaFSM5NBIVy","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T14:30:14Z","updated_at":"2022-10-26T14:30:14Z","author_association":"CONTRIBUTOR","body":"These messages come from the Thrift [FrameBuffer](https://github.com/apache/thrift/blob/master/lib/java/src/main/java/org/apache/thrift/server/AbstractNonblockingServer.java#L311) class. It's possible that we could print the client address to the log to try and identify the culprit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292141938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292161018","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1292161018","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1292161018,"node_id":"IC_kwDOACaFSM5NBM_6","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T14:43:20Z","updated_at":"2022-10-26T14:43:20Z","author_association":"CONTRIBUTOR","body":"Put up a PR for additional logging against `main`. If we need to do RC3, then we can change the target branch and merge it in.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292161018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292192735","html_url":"https://github.com/apache/accumulo/issues/3048#issuecomment-1292192735","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3048","id":1292192735,"node_id":"IC_kwDOACaFSM5NBUvf","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T15:05:20Z","updated_at":"2022-10-26T15:05:20Z","author_association":"MEMBER","body":"I don't think ISO-8601 offers clarity. It offers brevity, certainty, but not clarity.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292192735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292194485","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1292194485","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1292194485,"node_id":"IC_kwDOACaFSM5NBVK1","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T15:06:39Z","updated_at":"2022-10-26T15:06:39Z","author_association":"MEMBER","body":"Go ahead and put the target branch for 2.1 anyway. That way, it will be included in 2.1.1 if there's no 2.1.0-rc3","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292194485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292201110","html_url":"https://github.com/apache/accumulo/issues/3048#issuecomment-1292201110","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3048","id":1292201110,"node_id":"IC_kwDOACaFSM5NBWyW","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T15:11:41Z","updated_at":"2022-10-26T15:11:41Z","author_association":"CONTRIBUTOR","body":"It's the way logs present time, so to my eyes it looks normal.  Anything shorted could be an improvement rather than explaining what GMT is on each timestamp","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292201110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292204884","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1292204884","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1292204884,"node_id":"IC_kwDOACaFSM5NBXtU","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T15:14:28Z","updated_at":"2022-10-26T15:14:28Z","author_association":"CONTRIBUTOR","body":"target branch changed","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292204884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292348681","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1292348681","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1292348681,"node_id":"IC_kwDOACaFSM5NB60J","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T17:07:37Z","updated_at":"2022-10-26T17:07:37Z","author_association":"MEMBER","body":"Could this be related to the Ample bug fixed in #3049 ?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292348681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292371525","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1292371525","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1292371525,"node_id":"IC_kwDOACaFSM5NCAZF","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T17:26:35Z","updated_at":"2022-10-26T17:26:54Z","author_association":"CONTRIBUTOR","body":"> Could this be related to the Ample bug fixed in https://github.com/apache/accumulo/pull/3049 ?\r\n\r\nI looked around and user compactions do use the code that was broken in #3044.   Not sure if that was causing this, but it certainly seems like it could cause problems for a user compaction.\r\n\r\nhttps://github.com/apache/accumulo/blob/d0d7b585ea7bace2f86d5168058aaf5f33eda69c/server/manager/src/main/java/org/apache/accumulo/manager/tableOps/compact/CompactionDriver.java#L107","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292371525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292461121","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1292461121","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1292461121,"node_id":"IC_kwDOACaFSM5NCWRB","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T18:51:06Z","updated_at":"2022-10-26T18:51:06Z","author_association":"MEMBER","body":"I think it is likely this was fixed by #3049. I will close it, but can reopen if it occurs again.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292461121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292599362","html_url":"https://github.com/apache/accumulo/issues/3050#issuecomment-1292599362","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3050","id":1292599362,"node_id":"IC_kwDOACaFSM5NC4BC","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T20:11:02Z","updated_at":"2022-10-26T20:11:02Z","author_association":"CONTRIBUTOR","body":"Specifically - the command `ts.exec(\"compact -b g -e z -w\");` around line 756 does not seem to be compacting on the expected range.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292599362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292642752","html_url":"https://github.com/apache/accumulo/issues/3050#issuecomment-1292642752","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3050","id":1292642752,"node_id":"IC_kwDOACaFSM5NDCnA","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T20:55:52Z","updated_at":"2022-10-26T20:55:52Z","author_association":"CONTRIBUTOR","body":"@keith-turner - I think this may be caused by your recent commits, d0d7b585ea7bace2f86d5168058aaf5f33eda69c and e4674f7e5ee99e4f6df3890daa74f09b1d83cfba. The test above was passing before these changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292642752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292650687","html_url":"https://github.com/apache/accumulo/issues/3050#issuecomment-1292650687","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3050","id":1292650687,"node_id":"IC_kwDOACaFSM5NDEi_","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T21:04:20Z","updated_at":"2022-10-26T21:04:20Z","author_association":"CONTRIBUTOR","body":"I tried running the ShellServerIT with previous commits to isolate where the issue started.\r\n\r\n```\r\ncf32e3d17a - passes (upgrade fix)\r\nd0d7b585ea - tests time out, so something is incorrect (first bulk import fix)\r\ne4674f7e5e - fails with same error as above , so this improved things, but not 100% (ample fix)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292650687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292741510","html_url":"https://github.com/apache/accumulo/issues/3050#issuecomment-1292741510","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3050","id":1292741510,"node_id":"IC_kwDOACaFSM5NDauG","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T22:41:03Z","updated_at":"2022-10-26T22:41:03Z","author_association":"CONTRIBUTOR","body":"I think I know what the problem is, testing a fix.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292741510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292750655","html_url":"https://github.com/apache/accumulo/issues/3050#issuecomment-1292750655","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3050","id":1292750655,"node_id":"IC_kwDOACaFSM5NDc8_","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T22:53:53Z","updated_at":"2022-10-26T22:53:53Z","author_association":"CONTRIBUTOR","body":"I opened #3051.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292750655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292751915","html_url":"https://github.com/apache/accumulo/pull/3051#issuecomment-1292751915","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3051","id":1292751915,"node_id":"IC_kwDOACaFSM5NDdQr","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T22:55:41Z","updated_at":"2022-10-26T22:55:41Z","author_association":"CONTRIBUTOR","body":"I'm testing this now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292751915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292755354","html_url":"https://github.com/apache/accumulo/pull/3051#issuecomment-1292755354","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3051","id":1292755354,"node_id":"IC_kwDOACaFSM5NDeGa","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T23:00:52Z","updated_at":"2022-10-26T23:00:52Z","author_association":"CONTRIBUTOR","body":"The problem was the end range for overlapping.  If I have a table with splits g,r,z and I want the tablets that overlap the row range (i,s] then the tablets with end rows r,z would overlap.  However z sorts after s, so a metadata range with s would exclude z.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1292755354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294870236","html_url":"https://github.com/apache/accumulo/issues/3053#issuecomment-1294870236","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3053","id":1294870236,"node_id":"IC_kwDOACaFSM5NLibc","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T11:15:22Z","updated_at":"2022-10-28T11:15:22Z","author_association":"CONTRIBUTOR","body":"I agree that the thread pool creation is noisy and does not seem to add much user value and we should look at bumping the log level down to trace.  However, for development - is this pointing to places where there may inefficiencies where we creating thread pools where we could be reusing one that already exists - could be a separate issue to investigate.\r\n\r\n(this is also true for the manager log)\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294870236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294895698","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1294895698","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1294895698,"node_id":"IC_kwDOACaFSM5NLopS","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T11:43:31Z","updated_at":"2022-10-28T11:43:31Z","author_association":"CONTRIBUTOR","body":"Re-opening this, I'm seeing another case of this with RC4. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294895698/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294952302","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1294952302","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1294952302,"node_id":"IC_kwDOACaFSM5NL2du","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T12:40:35Z","updated_at":"2022-10-28T12:40:35Z","author_association":"CONTRIBUTOR","body":"Could this be triggered by the compactor not recovering from an IOException?  With the current run - the compation is shown as running for a long time - but I think the compactor actually died.\r\n\r\n```\r\n2022-10-28T06:46:05,732 [compactor.Compactor] INFO : Starting up compaction runnable for job: TExternalCompactionJob(externalCompactionId:ECID:7165d849-502f-4dd2-9d29-5530ff7874f2, extent:TKeyExtent(table:31, endRow:35 35 30\r\n 61 34 37, prevEndRow:35 34 66 35 63 63), files:[InputFile(metadataFileEntry:hdfs://10.113.15.70:8000/accumulo/tables/1/t-000f7qh/C001iqkw.rf, size:79216171, entries:1993712, timestamp:-1), InputFile(metadataFileEntry:hdfs:/\r\n/10.113.15.70:8000/accumulo/tables/1/t-000f7qh/F001jops.rf, size:430831, entries:10936, timestamp:-1), InputFile(metadataFileEntry:hdfs://10.113.15.70:8000/accumulo/tables/1/t-000f7qh/C001jmbx.rf, size:1581904, entries:47271\r\n, timestamp:-1), InputFile(metadataFileEntry:hdfs://10.113.15.70:8000/accumulo/tables/1/t-000f7qh/C0016gno.rf, size:77565257, entries:1994277, timestamp:-1), InputFile(metadataFileEntry:hdfs://10.113.15.70:8000/accumulo/tabl\r\nes/1/t-000f7qh/C001jdog.rf, size:7055973, entries:190899, timestamp:-1), InputFile(metadataFileEntry:hdfs://10.113.15.70:8000/accumulo/tables/1/t-000f7qh/F001jmfa.rf, size:412293, entries:11682, timestamp:-1), InputFile(meta\r\ndataFileEntry:hdfs://10.113.15.70:8000/accumulo/tables/1/t-000f7qh/C001ctsl.rf, size:83113000, entries:2114094, timestamp:-1)], iteratorSettings:IteratorConfig(iterators:[]), outputFile:hdfs://10.113.15.70:8000/accumulo/tabl\r\nes/1/t-000f7qh/C001jqxc.rf_tmp, propagateDeletes:true, kind:SYSTEM, userCompactionId:0, overrides:{})\r\n2022-10-28T06:46:05,733 [compactor.Compactor] DEBUG: Progress checks will occur every 23 seconds\r\n2022-10-28T06:46:08,896 [server.GarbageCollectionLogger] DEBUG: gc G1 Young Generation=47.72(+0.01) secs G1 Old Generation=0.00(+0.00) secs freemem=109,708,624(-18,760,296) totalmem=268,435,456\r\n2022-10-28T06:46:13,897 [server.GarbageCollectionLogger] DEBUG: gc G1 Young Generation=47.73(+0.01) secs G1 Old Generation=0.00(+0.00) secs freemem=157,836,976(+29,368,056) totalmem=268,435,456\r\n2022-10-28T06:46:18,897 [server.GarbageCollectionLogger] DEBUG: gc G1 Young Generation=47.73(+0.01) secs G1 Old Generation=0.00(+0.00) secs freemem=69,887,424(-58,581,496) totalmem=268,435,456\r\n2022-10-28T06:46:23,897 [server.GarbageCollectionLogger] DEBUG: gc G1 Young Generation=47.74(+0.01) secs G1 Old Generation=0.00(+0.00) secs freemem=122,355,152(-6,113,768) totalmem=268,435,456\r\n2022-10-28T06:46:28,734 [compactor.Compactor] DEBUG: Updating coordinator with compaction progress: Compaction in progress, read 4110336 of 6362871 input entries ( 64.59876 % ), written 4099072 entries.\r\n2022-10-28T06:46:28,897 [server.GarbageCollectionLogger] DEBUG: gc G1 Young Generation=47.75(+0.01) secs G1 Old Generation=0.00(+0.00) secs freemem=156,882,320(+28,413,400) totalmem=268,435,456\r\n2022-10-28T06:46:33,514 [compaction.FileCompactor] WARN : Failed to close map file\r\njava.io.IOException: Filesystem closed\r\n        at org.apache.hadoop.hdfs.DFSClient.checkOpen(DFSClient.java:494) ~[hadoop-client-api-3.3.4.jar:?]\r\n        at org.apache.hadoop.hdfs.DFSInputStream.close(DFSInputStream.java:768) ~[hadoop-client-api-3.3.4.jar:?]\r\n        at java.io.FilterInputStream.close(FilterInputStream.java:180) ~[?:?]\r\n        at java.io.FilterInputStream.close(FilterInputStream.java:180) ~[?:?]\r\n        at org.apache.accumulo.core.file.blockfile.impl.CachableBlockFile$Reader.close(CachableBlockFile.java:464) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.core.file.rfile.RFile$Reader.close(RFile.java:1299) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.server.compaction.FileCompactor.compactLocalityGroup(FileCompactor.java:417) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.server.compaction.FileCompactor.call(FileCompactor.java:234) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.compactor.Compactor.lambda$createCompactionJob$7(Compactor.java:569) ~[accumulo-compactor-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n        at java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n~\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294952302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294964833","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1294964833","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1294964833,"node_id":"IC_kwDOACaFSM5NL5hh","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T12:53:09Z","updated_at":"2022-10-28T12:53:09Z","author_association":"CONTRIBUTOR","body":"So, as happened previously, the Compactor that was running the external compaction was killed by the agitator. There is nothing in the metadata table referencing this external compaction. Here are the relevant logs:\r\n\r\n### Tablet Server\r\n```\r\n2022-10-28T06:46:05,718 [compactions.CompactionManager] DEBUG: Attempting to reserve external compaction, queue:q1 priority:-32753 compactor:a.b.c.d:9133\r\n2022-10-28T06:46:05,718 [threads.ThreadPools] DEBUG: Creating ScheduledThreadPoolExecutor for GeneralExecutor with 1 threads\r\n2022-10-28T06:46:05,718 [threads.ThreadPools] DEBUG: Creating ThreadPoolExecutor for org.apache.accumulo.core.clientImpl.TabletServerBatchWriter$MutationWriter with 3 core threads and 3 max threads 180000 MILLISECONDS timeout\r\n2022-10-28T06:46:05,718 [threads.ThreadPools] DEBUG: Creating ThreadPoolExecutor for BinMutations with 1 core threads and 1 max threads 180000 MILLISECONDS timeout\r\n2022-10-28T06:46:05,729 [tablet.files] DEBUG: Compacting 1;550a47;54f5cc on e.q1 for SYSTEM from [C0016gno.rf, C001iqkw.rf, F001jmfa.rf, C001ctsl.rf, F001jops.rf, C001jmbx.rf, C001jdog.rf] size 237 MB\r\n2022-10-28T06:46:05,729 [compactions.CompactionManager] DEBUG: Reserved external compaction ECID:7165d849-502f-4dd2-9d29-5530ff7874f2\r\n2022-10-28T06:46:12,921 [tablet.Tablet] DEBUG: Waiting to completeClose for 1;550a47;54f5cc. 2 writes 0 scans\r\n2022-10-28T06:46:13,033 [tablet.location] DEBUG: Split 1;550a47;54f5cc into 1;55000a;54f5cc and 1;550a47;55000a on 10.113.15.203:9997[100000e72e8009f]\r\n2022-10-28T06:46:13,033 [tablet.Tablet] DEBUG: offline split time :   0.20 secs\r\n2022-10-28T06:46:13,033 [tserver.TabletServer] INFO : Starting split: 1;550a47;54f5cc\r\n2022-10-28T06:46:13,034 [tserver.TabletServer] INFO : Tablet split: 1;550a47;54f5cc size0 536996303 size1 536996309 time 240ms\r\n```\r\n\r\n### Compaction Coordinator\r\n```\r\n2022-10-28T06:46:05,731 [coordinator.CompactionCoordinator] DEBUG: Returning external job ECID:7165d849-502f-4dd2-9d29-5530ff7874f2 to a.b.c.d:9133\r\n2022-10-28T06:46:05,732 [coordinator.CompactionCoordinator] DEBUG: Compaction status update, id: ECID:7165d849-502f-4dd2-9d29-5530ff7874f2, timestamp: 1666939565733, update: TCompactionStatusUpdate(state:STARTED, message:Compaction started, entriesToBeCompacted:-1, entriesRead:-1, entriesWritten:-1)\r\n2022-10-28T06:46:28,734 [coordinator.CompactionCoordinator] DEBUG: Compaction status update, id: ECID:7165d849-502f-4dd2-9d29-5530ff7874f2, timestamp: 1666939588734, update: TCompactionStatusUpdate(state:IN_PROGRESS, message:Compaction in progress, read 4110336 of 6362871 input entries ( 64.59876 % ), written 4099072 entries, entriesToBeCompacted:6362871, entriesRead:4110336, entriesWritten:4099072)\r\n```\r\n\r\n### Compactor Log\r\n```\r\n2022-10-28T06:46:05,732 [compactor.Compactor] INFO : Starting up compaction runnable for job: TExternalCompactionJob(externalCompactionId:ECID:7165d849-502f-4dd2-9d29-5530ff7874f2, extent:TKeyExtent(table:31, endRow:35 35 30 61 34 37, prevEndRow:35 34 66 35 63 63), files:...\r\n2022-10-28T06:46:05,732 [compactor.Compactor] DEBUG: Received next compaction job: TExternalCompactionJob(externalCompactionId:ECID:7165d849-502f-4dd2-9d29-5530ff7874f2, extent:TKeyExtent(table:31, endRow:35 35 30 61 34 37, prevEndRow:35 34 66 35 63 63), files:...\r\n2022-10-28T06:46:05,732 [compactor.Compactor] INFO : Starting up compaction runnable for job: TExternalCompactionJob(externalCompactionId:ECID:7165d849-502f-4dd2-9d29-5530ff7874f2, extent:TKeyExtent(table:31, endRow:35 35 30 61 34 37, prevEndRow:35 34 66 35 63 63), files:...\r\n2022-10-28T06:46:05,733 [compactor.Compactor] DEBUG: Progress checks will occur every 23 seconds\r\n2022-10-28T06:46:28,734 [compactor.Compactor] DEBUG: Updating coordinator with compaction progress: Compaction in progress, read 4110336 of 6362871 input entries ( 64.59876 % ), written 4099072 entries.\r\n2022-10-28T06:46:28,897 [server.GarbageCollectionLogger] DEBUG: gc G1 Young Generation=47.75(+0.01) secs G1 Old Generation=0.00(+0.00) secs freemem=156,882,320(+28,413,400) totalmem=268,435,456\r\n2022-10-28T06:46:33,514 [compaction.FileCompactor] WARN : Failed to close map file\r\njava.io.IOException: Filesystem closed\r\n        at org.apache.hadoop.hdfs.DFSClient.checkOpen(DFSClient.java:494) ~[hadoop-client-api-3.3.4.jar:?]\r\n        at org.apache.hadoop.hdfs.DFSInputStream.close(DFSInputStream.java:768) ~[hadoop-client-api-3.3.4.jar:?]\r\n        at java.io.FilterInputStream.close(FilterInputStream.java:180) ~[?:?]\r\n        at java.io.FilterInputStream.close(FilterInputStream.java:180) ~[?:?]\r\n        at org.apache.accumulo.core.file.blockfile.impl.CachableBlockFile$Reader.close(CachableBlockFile.java:464) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.core.file.rfile.RFile$Reader.close(RFile.java:1299) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.server.compaction.FileCompactor.compactLocalityGroup(FileCompactor.java:417) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.server.compaction.FileCompactor.call(FileCompactor.java:234) ~[accumulo-server-base-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.compactor.Compactor.lambda$createCompactionJob$7(Compactor.java:569) ~[accumulo-compactor-2.1.0.jar:2.1.0]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-2.1.0.jar:2.1.0]\r\n        at java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n```\r\n\r\n### Compactor Agitator log\r\n```\r\n20221028 06:46:32 Killing compactor at a.b.c.d\r\n```\r\n\r\nIt appears that the ExternalCompaction started (06:46:05), the tablet was split (06:46:13), and the compactor killed (06:46:32) in a short time span. I believe that restarting the compaction coordinator would resolve the issue of the external compaction displaying in the monitor. Also, we have an [IT](https://github.com/apache/accumulo/blob/main/test/src/main/java/org/apache/accumulo/test/compaction/ExternalCompaction_2_IT.java#L94) that tests that an external compaction is cancelled when a tablet is split, so I think this is an edge case that we have not handled.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294964833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294982326","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1294982326","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1294982326,"node_id":"IC_kwDOACaFSM5NL9y2","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T13:10:27Z","updated_at":"2022-10-28T13:10:27Z","author_association":"CONTRIBUTOR","body":"The Compactor process [watches](https://github.com/apache/accumulo/blob/6099e81c891195caa7f54a4f4e96cf9fd10afef0/server/compactor/src/main/java/org/apache/accumulo/compactor/Compactor.java#L206) for a tablet deletion or split, or if the compaction has been canceled. In this case, the Compactor was dead, so it could not do that.\r\n\r\nThe Coordinator uses the [DeadCompactionDetector](https://github.com/apache/accumulo/blob/main/server/compaction-coordinator/src/main/java/org/apache/accumulo/coordinator/DeadCompactionDetector.java) to look for failed external compactions, and then cancels them via the Coordinator.\r\n\r\nI'm wondering if the external compaction information does not get retained on a tablet split or something...","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294982326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294983940","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1294983940","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1294983940,"node_id":"IC_kwDOACaFSM5NL-ME","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T13:11:58Z","updated_at":"2022-10-28T13:11:58Z","author_association":"CONTRIBUTOR","body":"@keith-turner - would like to hear your thoughts here. Also, I can bounce the CompactionCoordinator to test that it resolves the issue. But, I'll wait to hear something from you.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1294983940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295157253","html_url":"https://github.com/apache/accumulo/issues/3055#issuecomment-1295157253","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3055","id":1295157253,"node_id":"IC_kwDOACaFSM5NMogF","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T15:46:35Z","updated_at":"2022-10-28T15:46:35Z","author_association":"CONTRIBUTOR","body":"Same as https://github.com/apache/accumulo/issues/3048 ?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295157253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295166535","html_url":"https://github.com/apache/accumulo/issues/3055#issuecomment-1295166535","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3055","id":1295166535,"node_id":"IC_kwDOACaFSM5NMqxH","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T15:55:49Z","updated_at":"2022-10-28T15:55:49Z","author_association":"CONTRIBUTOR","body":"> Same as #3048 ?\r\n\r\nYes I did not know that other issue existed, I'll close this as a duplicate.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295166535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295167304","html_url":"https://github.com/apache/accumulo/issues/3048#issuecomment-1295167304","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3048","id":1295167304,"node_id":"IC_kwDOACaFSM5NMq9I","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T15:56:42Z","updated_at":"2022-10-28T15:56:42Z","author_association":"CONTRIBUTOR","body":"I opened up PR #3056\r\n\r\nThe JavaScript function that is supposed to format the date calls format but then doesn't return the formatted value and instead returns the original date and a very verbose format.\r\n\r\nAn example of the format that displays is: `Fri Oct 28 2022 11:15:10 GMT-0400 (Eastern Daylight Time)` which is the default toString() method being called. The bug is here with the return on this line https://github.com/apache/accumulo/blob/6099e81c891195caa7f54a4f4e96cf9fd10afef0/server/monitor/src/main/resources/org/apache/accumulo/monitor/resources/js/functions.js#L138\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295167304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295239039","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295239039","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295239039,"node_id":"IC_kwDOACaFSM5NM8d_","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:01:44Z","updated_at":"2022-10-28T17:02:17Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - Should we hold off merging this until 2.1.0 is done? It looks like the branch is still set to 2.1.0-SNAPSHOT and not 2.1.1-SNAPSHOT","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295239039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295251919","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295251919","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295251919,"node_id":"IC_kwDOACaFSM5NM_nP","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:15:47Z","updated_at":"2022-10-28T17:16:08Z","author_association":"MEMBER","body":"> @ctubbsii - Should we hold off merging this until 2.1.0 is done? It looks like the branch is still set to 2.1.0-SNAPSHOT and not 2.1.1-SNAPSHOT\r\n\r\nThings can be merged into the 2.1 branch, but they generally should be limited to bug fixes (semver rules). If we need another release candidate, they will make it into 2.1.0. If not, they'll make it into 2.1.1. The current SNAPSHOT version doesn't matter. We'll update those after the release is finished, as needed.\r\n\r\nHowever, see my note above. I am against this change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295251919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295256770","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295256770","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295256770,"node_id":"IC_kwDOACaFSM5NNAzC","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:20:48Z","updated_at":"2022-10-28T17:21:24Z","author_association":"CONTRIBUTOR","body":"I will again toss out that there is benifits of matching the timestamp format of the logs `2022-10-28 17:13:50,493` - yes, that can be changed by configs, but by default if we are consistent then it eases things.\r\n\r\nAn example would be grab a timestamp from the monitor and then grep a log - much easier to cut-n-paste than needing to convert and type.\r\n\r\nBut anything that makes the timestamp shorter is moving in the right direction.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295256770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295286004","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295286004","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295286004,"node_id":"IC_kwDOACaFSM5NNH70","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T17:51:40Z","updated_at":"2022-10-28T17:52:12Z","author_association":"CONTRIBUTOR","body":"> I would strongly prefer not having MM/dd/YYYY format. It is very confusing to me, having a military background, and living overseas for a bit. YYYYMMdd is better, because it's sortable, and europeans use dd/MM/YYYY, which is often indistinguishable from MM/dd/YYYY, enough to cause confusion.\r\n> \r\n> The human-readable long format is better in that regard... no ambiguity or confusion. Something like dd-MMM-YYYY might also be okay (e.g. 04-JUL-1776), but please avoid anything that results in MM/dd/YYYY.\r\n\r\nWe may have to go ahead and use the `toISOString()` method and then parse and customize that a bit. Using toLocaleString() doesn't let you change the year to be first, which makes sense, as the it's supposed to format for your locality. As you mentioned it would show up different for Europeans.\r\n\r\nI could just show something like `2011-10-05 14:48:00.000Z` which is what @EdColeman had mentioned. If we wanted to keep local timezone and AM/PM then we'd need to do more work or find another library as I don't think native Javascript has a lot of options out of the box for formatting timestamps so just using ISO in this case probably makes the most sense.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295286004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295351810","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295351810","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295351810,"node_id":"IC_kwDOACaFSM5NNYAC","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T19:02:29Z","updated_at":"2022-10-28T19:02:29Z","author_association":"CONTRIBUTOR","body":"@ctubbsii and @EdColeman , My latest commit updates things so it's YYYY-MM-DD and Z since I used the toISOString() format and that's in Z, new sample screen shot:\r\n\r\n![image](https://user-images.githubusercontent.com/123009/198712158-4292377d-42ee-4324-a3b5-fc4fc5980202.png)\r\n\r\nLet me know what you think, I can always write something custom to tweak things more because as I said out of the box there's not a lot of formatting options in JavaScript (Java has a lot more customization options with its formatter naively)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295351810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295476696","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295476696","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295476696,"node_id":"IC_kwDOACaFSM5NN2fY","user":{"login":"AlbertWhitlock","id":40367659,"node_id":"MDQ6VXNlcjQwMzY3NjU5","avatar_url":"https://avatars.githubusercontent.com/u/40367659?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbertWhitlock","html_url":"https://github.com/AlbertWhitlock","followers_url":"https://api.github.com/users/AlbertWhitlock/followers","following_url":"https://api.github.com/users/AlbertWhitlock/following{/other_user}","gists_url":"https://api.github.com/users/AlbertWhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbertWhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbertWhitlock/subscriptions","organizations_url":"https://api.github.com/users/AlbertWhitlock/orgs","repos_url":"https://api.github.com/users/AlbertWhitlock/repos","events_url":"https://api.github.com/users/AlbertWhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/AlbertWhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T21:18:17Z","updated_at":"2022-10-28T21:18:17Z","author_association":"CONTRIBUTOR","body":"I reviewed these changes. They look good. Displaying as:\r\n\r\n![image](https://user-images.githubusercontent.com/40367659/198734290-f205889b-62da-44c2-94ad-6d812623aea4.png)\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295476696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295510589","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1295510589","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1295510589,"node_id":"IC_kwDOACaFSM5NN-w9","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T22:01:37Z","updated_at":"2022-10-28T22:01:37Z","author_association":"CONTRIBUTOR","body":"@dlmarion  I can look at this Monday.   Is the external compaction showing up in the monitor, but there is nothing present for it in the metadata table?  Is that the problem you are seeing?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295510589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295516142","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1295516142","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1295516142,"node_id":"IC_kwDOACaFSM5NOAHu","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T22:07:51Z","updated_at":"2022-10-28T22:07:51Z","author_association":"MEMBER","body":"@dlmarion Do you think this is a blocker for 2.1?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295516142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295522646","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1295522646","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1295522646,"node_id":"IC_kwDOACaFSM5NOBtW","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T22:12:32Z","updated_at":"2022-10-28T22:12:32Z","author_association":"CONTRIBUTOR","body":"> I can look at this Monday. Is the external compaction showing up in the monitor, but there is nothing present for it in the metadata table? Is that the problem you are seeing?\r\n\r\nYes. I think the compaction is still in the RUNNING set inside the compaction coordinator, it didn't get canceled due to the issues I mentioned above. So, basically the accounting is off.\r\n\r\n> Do you think this is a blocker for 2.1?\r\n\r\nNo. I just restarted *only* the compaction coordinator and the \"stuck\" (orphaned rather) external compaction is gone.\r\n\r\n\r\nThe only other thing to note is that when I stopped the compaction coordinator, the Monitor page displayed an error dialogue box that said:\r\n```\r\nDataTables warning: table id=runningTable - Ajax error. For more information about this error, please see http://datatables.net/tn/7\r\n```\r\nEven after restarting the compaction coordinator the boxes kept re-appearing for a little while.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295522646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295598517","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295598517","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295598517,"node_id":"IC_kwDOACaFSM5NOUO1","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T22:52:11Z","updated_at":"2022-10-28T22:52:59Z","author_association":"CONTRIBUTOR","body":"@ctubbsii  - So there is actually one bug here either way. The current code is not actually using the ` toLocaleString()`. It calls that method but it returns the original date so what you are seeing is actually the format of the `toString()` method. I do agree that I liked having the locality better (your own time zone).\r\n\r\nIf we fixed the bug and used the `toLocaleString()` method for real it would show up as:\r\n`10/28/2022, 6:45:19 PM`\r\n\r\nIf you like the current format then I can just fix the bug and remove the unnecessary call to toLocaleString() and then maybe drop the full time zone name as I still think that we should at least drop \"Eastern Daylight Time\" as it's so verbose.\r\n\r\n**New Proposed format:**\r\n`Fri Oct 28 2022 18:47:02 GMT-0400`\r\n\r\nHow does that sound?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295598517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295628730","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295628730","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295628730,"node_id":"IC_kwDOACaFSM5NObm6","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T23:12:57Z","updated_at":"2022-10-28T23:12:57Z","author_association":"MEMBER","body":"I do prefer your proposed format. However, I'm also thinking it's probably best to just stick with the default locale string, even though I don't personally like it. It seems to be the option that gives the most deference to the user's environment/configuration. I hadn't realized that was an actual bug. I thought this was just about style preferences. My main concern is that it doesn't show the time zone (neither do the logs, apparently, since the version of ISO8601 log4j is printing doesn't seem to include it, so maybe it's fine).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295628730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295638933","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295638933","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295638933,"node_id":"IC_kwDOACaFSM5NOeGV","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T23:31:13Z","updated_at":"2022-10-28T23:31:13Z","author_association":"CONTRIBUTOR","body":"Alright, tomorrow I can fix it to use toLocaleString() like it was supposed to be all along. I will also do some research/testing and see if we can customize the output at all. I think the function takes some options that we can set so we may be able to customize the output to show the time zone, but not sure until I try. \n\nIf we can customize it I can give some example outputs and pick the one everyone likes the best otherwise I'll just use what's given if we can't.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295638933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295854216","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295854216","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295854216,"node_id":"IC_kwDOACaFSM5NPSqI","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T14:33:21Z","updated_at":"2022-10-29T14:33:21Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - There are actually quite a few ways we can customize `toLocaleString().` Documentation is located here for [toLocaleString() ](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString) and the options for customization supported are the same as [Intl.DateTimeFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat)\r\n\r\nThis list is not exhaustive of course but I figure one of these should accomplish the goal of being more concise but still containing all the info we want (date, time, timezone, etc)\r\n\r\nHere are several examples of options and outputs, what do you think of them? Any of these seem fine to me. Do we want to include the day of the week? Also do you prefer the timezone as an offset or the actual name? (ie EDT or GMT-4). \r\n\r\n<pre>\r\ndate.toLocaleString([], { timeStyle: 'long', dateStyle: 'medium' })\r\nOutput: <b>Oct 29, 2022, 10:08:11 AM EDT</b>\r\n</pre>\r\n\r\n<pre>\r\ndate.toLocaleString([], { timeStyle: 'long', dateStyle: 'long' })\r\nOutput: <b>October 29, 2022 at 10:04:00 AM EDT</b>\r\n</pre>\r\n<pre>\r\n\r\ndate.toLocaleString([], { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric', \r\n   hour: 'numeric', minute: 'numeric', second: 'numeric', timeZoneName: 'shortOffset' })\r\nOutput: <b>Sat, Oct 29, 2022, 10:08:11 AM GMT-4</b>\r\n</pre>\r\n\r\n<pre>\r\ndate.toLocaleString([], { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric', \r\n  hour: 'numeric', minute: 'numeric', second: 'numeric', timeZoneName: 'short' })\r\nOutput: <b>Sat, Oct 29, 2022, 10:16:28 AM EDT</b>\r\n</pre>\r\n\r\n<pre>\r\ndate.toLocaleString([], { weekday: 'short', month: 'numeric', day: 'numeric', year: 'numeric', \r\n  hour: 'numeric', minute: 'numeric', second: 'numeric', timeZoneName: 'short' })\r\nOutput: <b>Sat, 10/29/2022, 10:16:28 AM EDT</b>\r\n</pre>\r\n\r\n<pre>\r\ndate.toLocaleString([], { month: 'numeric', day: 'numeric', year: 'numeric', \r\n  hour: 'numeric', minute: 'numeric', second: 'numeric', timeZoneName: 'short' })\r\nOutput: <b>10/29/2022, 10:17:41 AM EDT</b>\r\n</pre>\r\n\r\n<pre>\r\ndate.toLocaleString([], { weekday: 'short', month: '2-digit', day: '2-digit', year: '2-digit', \r\n  hour: 'numeric', minute: 'numeric', second: 'numeric', timeZoneName: 'shortOffset' })\r\nOutput: <b>Sat, 10/29/22, 10:17:41 AM GMT-4</b>\r\n</pre>\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295854216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295870397","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1295870397","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1295870397,"node_id":"IC_kwDOACaFSM5NPWm9","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T15:24:49Z","updated_at":"2022-10-29T15:24:49Z","author_association":"CONTRIBUTOR","body":"> date.toLocaleString([], { timeStyle: 'long', dateStyle: 'medium' })\r\nOutput: Oct 29, 2022, 10:08:11 AM EDT\r\n\r\nOut of the ones listed, I'd put my vote on something like this. Clear on month and day to avoid any possible confusion but also short and concise. EDT over GMT +/- though not sure how useful timezone is in general for these logs. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295870397/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295890429","html_url":"https://github.com/apache/accumulo/issues/3033#issuecomment-1295890429","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3033","id":1295890429,"node_id":"IC_kwDOACaFSM5NPbf9","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T16:23:40Z","updated_at":"2022-10-29T16:23:40Z","author_association":"CONTRIBUTOR","body":"Just for context, the workarounds others have suggested in the ticket do work. Both `\"-p\"` and `--parents`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295890429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295895112","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1295895112","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1295895112,"node_id":"IC_kwDOACaFSM5NPcpI","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T16:38:00Z","updated_at":"2022-10-29T16:38:00Z","author_association":"CONTRIBUTOR","body":"I looked at this in detail and there are several issues here of why this happens compared to the Manager page.\r\n\r\n1. The main issue is that the status for EC is cached for 1 minute. So when the page first loads if the coordinator was recently shut down then the api call of `/rest/ec` will still return a good status for a minute until the coordinator info is refreshed. Because of this the status page renders the tables and makes the table REST calls for data thinking that there is a compaction coordinator. The rest endpoints for the tables are then called and proceed to fail with a 500 error (Issue 2)\r\n2. Instead of returning no data or empty response the rest endpoints throw an IllegalStateException if the coordinator is down. This translates into a 500 error and is why the pop ups show up because the Ajax call had a server error. The rest endpoints on the manager page don't seem to throw a 500 error if the manager is down but these do.\r\n3. The EC page and manager page are a bit different with status checks. The manager page will check the status each time a refresh is done on a table to see if the manager is alive. If the manager is alive then it updates the page to show the window that it's down as described and hide the bottom table. The EC page only checks the status on first render of the page and only refreshed if you refresh the entire page. Status is not checked again if you click on one of the refresh buttons in the Compactors or Running Compactors table. So this would cause an error forever until the page is loaded again (due to the 500 error) even if the EC status updates after a minute.\r\n\r\nSo based on this I think we need to decide what we want to do. \r\n\r\nOne thing that should happen either way is status should always be checked on refreshes of the tables. Besides that we probably need to do one or more of the following to fix this:\r\n\r\n1. Don't cache the status or provide a way for an immediate refresh of status to see if the coordinator is alive.\r\n2. Don't return a 500 error when querying the endpoints for data on external compactions, just return something like an empty list, etc. This will prevent the error and just show an empty table and then eventually the status would catch up and we could show that it's down and hide the tables.\r\n3. Keep throwing the 500 error if the endpoints are hit and figure out a way for the JavaScript code to catch the error and show an empty table instead of the pop up, or maybe print a message but not an alert. Or on 500 error we just immediately take that to mean that the coordinator is down and show the down message and hide the tables, etc. Basically just some sort of better handling of the 500 error on the rest call until the cached status catches up so that the page knows the coordinator is down.\r\n\r\nNumber 3 seems like the best solution to me. Just figure out a way to handle the 500 error more gracefully until the server updates the cached status to show it's down. (And of course as I said make sure the refreshes check status first).\r\n\r\n@dlmarion and @ctubbsii thoughts?\r\n\r\nAlso, @DomGarguilo - Can you look at this too and see what you think about the best way to handle the issue? I saw that you worked a lot recently on the monitor including the status stuff for the manager page so you may have a better idea on how to fix it or know of something I'm not aware of as my JavaScript is pretty rusty. I'm wondering if there is something simple in the data tables to just better handle the failed Ajax call but I didn't get a chance to look into it yet. If you wanted to take a shot at fixing it feel free too otherwise I can get back to it probably Friday or next weekend.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295895112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295902584","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1295902584","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1295902584,"node_id":"IC_kwDOACaFSM5NPed4","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-29T17:01:30Z","updated_at":"2022-10-29T17:01:30Z","author_association":"MEMBER","body":"> Also, @DomGarguilo - Can you look at this too and see what you think about the best way to handle the issue?\n\nSure thing  ill take a look when I get a chance. Probably this coming week. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1295902584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1296986881","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1296986881","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1296986881,"node_id":"IC_kwDOACaFSM5NTnMB","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T12:03:04Z","updated_at":"2022-10-31T12:03:04Z","author_association":"CONTRIBUTOR","body":"@dlmarion I have been looking over the coordinator code.  There are some race conditions w/ the RUNNING set.   The RUNNING set is an informational cache of what might be running, but by the time things are added to it they may not actually be running.    Looking at the code, it seems like this would mostly impact the monitor and ecadmin tool.  I think the code can be restructured to avoid these race conditions, I am going to work on doing that restructuring and submit a PR.\r\n\r\n@ctubbsii I saw you moved this to 2.1.1.  I was not sure about that, but it feels like it may be the right thing to do.  I think I could have a fix ready in a day or two if you were interested in waiting, but we will find more bugs in 2.1.0 and will need to release a 2.1.1 anyway.  Also, I don't see anything ATM that makes me think this will impact the correctness of external compactions.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1296986881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297005275","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1297005275","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1297005275,"node_id":"IC_kwDOACaFSM5NTrrb","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T12:20:22Z","updated_at":"2022-10-31T12:20:22Z","author_association":"MEMBER","body":"> @ctubbsii I saw you moved this to 2.1.1.\r\n\r\nYeah, I'm not sure which one it's going to land in. I wasn't going to withdraw the RC4 for this, based on @dlmarion's response to my question about whether he thought it was a blocker, so it'll depend on the outcome of the vote. If you think it's critical enough to block the release, I am happy to withdraw it, though. Otherwise, I think it can be listed in a \"known issues\" section of the release notes for anybody who might be interested in using external compactions.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297005275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297012835","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1297012835","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1297012835,"node_id":"IC_kwDOACaFSM5NTthj","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T12:26:43Z","updated_at":"2022-10-31T12:26:43Z","author_association":"MEMBER","body":"@cshannon asked:\r\n> @ctubbsii thoughts?\r\n\r\nSeems like this is outcome-driven. Any of the options you suggested could work, as long as it yields the desired behavior. I don't have an opinion about which to pursue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297012835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297024221","html_url":"https://github.com/apache/accumulo/issues/3033#issuecomment-1297024221","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3033","id":1297024221,"node_id":"IC_kwDOACaFSM5NTwTd","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T12:37:35Z","updated_at":"2022-10-31T12:37:35Z","author_association":"MEMBER","body":"> Just for context, the workarounds others have suggested in the ticket do work. Both `\"-p\"` and `--parents`\r\n\r\nI'd rather wait for the upstream bug to be fixed, rather than use these workarounds. Hacking the quote parsing for the short option seems fragile, and using the long option won't work on non-GNU systems like BSD. There's no reason the plugin should be doing anything with the arguments passed to the executable at all. We can leave this at the current version for now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297024221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297028318","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1297028318","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1297028318,"node_id":"IC_kwDOACaFSM5NTxTe","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T12:41:35Z","updated_at":"2022-10-31T12:41:35Z","author_association":"MEMBER","body":"> > date.toLocaleString([], { timeStyle: 'long', dateStyle: 'medium' })\r\n> > Output: Oct 29, 2022, 10:08:11 AM EDT\r\n> \r\n> Out of the ones listed, I'd put my vote on something like this. Clear on month and day to avoid any possible confusion but also short and concise. EDT over GMT +/- though not sure how useful timezone is in general for these logs.\r\n\r\nI agree with this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297028318/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297031549","html_url":"https://github.com/apache/accumulo/pull/3054#issuecomment-1297031549","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3054","id":1297031549,"node_id":"IC_kwDOACaFSM5NTyF9","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T12:44:50Z","updated_at":"2022-10-31T12:44:50Z","author_association":"MEMBER","body":"If this doesn't make it into 2.1.0, then it can go into 2.1.1, and we can make a note of it in the known issues section of the 2.1.0 release notes, with a suggestion to filter it out in one's own log4j configuration if it is a problem for the user.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297031549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297044101","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1297044101","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1297044101,"node_id":"IC_kwDOACaFSM5NT1KF","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T12:53:36Z","updated_at":"2022-10-31T12:53:36Z","author_association":"CONTRIBUTOR","body":"> I don't see anything ATM that makes me think this will impact the correctness of external compactions.\r\n\r\nAgreed, I didn't see any issues because of this orphan external compaction in the RUNNING set. Restarting the Coordinator removed it from Monitor.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297044101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297061802","html_url":"https://github.com/apache/accumulo/issues/3045#issuecomment-1297061802","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3045","id":1297061802,"node_id":"IC_kwDOACaFSM5NT5eq","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T13:06:56Z","updated_at":"2022-10-31T13:06:56Z","author_association":"CONTRIBUTOR","body":">  If you think it's critical enough to block the release, I am happy to withdraw it, though.\r\n\r\nI don't think this issue should block the release.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297061802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297104014","html_url":"https://github.com/apache/accumulo/issues/3042#issuecomment-1297104014","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3042","id":1297104014,"node_id":"IC_kwDOACaFSM5NUDyO","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T13:37:01Z","updated_at":"2022-10-31T13:37:01Z","author_association":"CONTRIBUTOR","body":"I didn't see any of these errors while testing 2.1.0 RC4, so I think that maybe something external to Accumulo may have been trying to test open ports or something.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297104014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297124132","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1297124132","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1297124132,"node_id":"IC_kwDOACaFSM5NUIsk","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T13:50:19Z","updated_at":"2022-10-31T13:50:19Z","author_association":"CONTRIBUTOR","body":"> I don't have an opinion about which to pursue.\r\n\r\nSame. I would implement the easiest solution to stop the pop-ups, whatever that might be. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297124132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297253543","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1297253543","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1297253543,"node_id":"IC_kwDOACaFSM5NUoSn","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T15:22:05Z","updated_at":"2022-10-31T15:22:05Z","author_association":"CONTRIBUTOR","body":"Sounds good, I will let @DomGarguilo take a look this week and see what he thinks and I figure we can work together on a solution here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297253543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297254759","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1297254759","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1297254759,"node_id":"IC_kwDOACaFSM5NUoln","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T15:22:57Z","updated_at":"2022-10-31T15:22:57Z","author_association":"MEMBER","body":"I found this excerpt on the [datatables website](https://datatables.net/manual/tech-notes/7#Resolution):\r\n\r\n> If you are willing to accept the error (for example if you cannot alter the backend system to fix the error), but don't want your end users to see the alert() message, you can change DataTables' error reporting mechanism to throw a Javascript error to the browser's console, rather than alerting it. This can be done using:\r\n$.fn.dataTable.ext.errMode = 'throw';\r\n\r\nWhich is a possibility and might be the easiest \"fix\" for this. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297254759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297261859","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1297261859","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1297261859,"node_id":"IC_kwDOACaFSM5NUqUj","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T15:27:38Z","updated_at":"2022-10-31T17:22:59Z","author_association":"CONTRIBUTOR","body":"> I found this excerpt on the [datatables website](https://datatables.net/manual/tech-notes/7#Resolution):\r\n> \r\n> > If you are willing to accept the error (for example if you cannot alter the backend system to fix the error), but don't want your end users to see the alert() message, you can change DataTables' error reporting mechanism to throw a Javascript error to the browser's console, rather than alerting it. This can be done using:\r\n> > $.fn.dataTable.ext.errMode = 'throw';\r\n> \r\n> Which is a possibility and might be the easiest \"fix\" for this.\r\n\r\nYeah, the simplest thing I think is just handling the error and not showing the pop up. I figured datatables had a way to do it but I've never used the library (hence deferring to you to see if you knew). I can give this a shot later today/tomorrow and create a PR if it works.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297261859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297262925","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1297262925","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1297262925,"node_id":"IC_kwDOACaFSM5NUqlN","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T15:28:22Z","updated_at":"2022-10-31T17:22:44Z","author_association":"CONTRIBUTOR","body":"> > > date.toLocaleString([], { timeStyle: 'long', dateStyle: 'medium' })\r\n> > > Output: Oct 29, 2022, 10:08:11 AM EDT\r\n> > \r\n> > \r\n> > Out of the ones listed, I'd put my vote on something like this. Clear on month and day to avoid any possible confusion but also short and concise. EDT over GMT +/- though not sure how useful timezone is in general for these logs.\r\n> \r\n> I agree with this.\r\n\r\nI'll update the PR with this later today or tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297262925/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297474979","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1297474979","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1297474979,"node_id":"IC_kwDOACaFSM5NVeWj","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T18:08:28Z","updated_at":"2022-10-31T18:08:28Z","author_association":"MEMBER","body":"> I found this excerpt on the [datatables website](https://datatables.net/manual/tech-notes/7#Resolution):\r\n> \r\n> > If you are willing to accept the error (for example if you cannot alter the backend system to fix the error), but don't want your end users to see the alert() message, you can change DataTables' error reporting mechanism to throw a Javascript error to the browser's console, rather than alerting it. This can be done using:\r\n> > $.fn.dataTable.ext.errMode = 'throw';\r\n> \r\n> Which is a possibility and might be the easiest \"fix\" for this.\r\n\r\nSo I had some time to try this out and it works well. The errors just gets pushed to the console instead of creating alerts.\r\n\r\n@cshannon I can go ahead and put up a PR for this since I have a branch with these changes anyways.\r\n\r\nOne thing that I thought of, that I'm not sure how we want to handle, is if the page is refreshed, the banner indicating \"Compaction Coordinator Not Running\" shows up. But it doesn't appear that this will ever happen automatically via auto-refresh and will only show up on a full page reload. An alternative to moving the datatables errors to the console could be to just refresh the page (via `location.reload()`) so that the banner will show up and also not create the alerts. Maybe for now, we can just merge the change that logs the errors in the console and then as a follow on try the approach described here if it seems like that would be better.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297474979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297480315","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1297480315","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1297480315,"node_id":"IC_kwDOACaFSM5NVfp7","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T18:13:08Z","updated_at":"2022-10-31T18:13:08Z","author_association":"CONTRIBUTOR","body":"I think it makes sense to go ahead and make the easy/quick change to get rid of the annoying pop up as that is a big improvement. Then you can create a follow on issue for the reload/refresh and handling of the banner if we want to do something more.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297480315/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297490676","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1297490676","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1297490676,"node_id":"IC_kwDOACaFSM5NViL0","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T18:22:01Z","updated_at":"2022-10-31T18:22:01Z","author_association":"MEMBER","body":"> One thing that I thought of, that I'm not sure how we want to handle, is if the page is refreshed, the banner indicating \"Compaction Coordinator Not Running\" shows up. But it doesn't appear that this will ever happen automatically via auto-refresh and will only show up on a full page reload. An alternative to moving the datatables errors to the console could be to just refresh the page (via `location.reload()`) so that the banner will show up and also not create the alerts. Maybe for now, we can just merge the change that logs the errors in the console and then as a follow on try the approach described here if it seems like that would be better.\r\n\r\nDefinitely don't do the `location.reload()` thing. One of the biggest advantages of the 2.x monitor improvements to use AJAX principles is that you don't need to do a full page reload. You can do asynchronous updates to a page using less bandwidth and less disruption to the user experience scrolling, etc. We achieve this by creating REST endpoints for data we want to load, and use background JavaScript to load it and/or keep it up-to-date.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297490676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297499300","html_url":"https://github.com/apache/accumulo/issues/3057#issuecomment-1297499300","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3057","id":1297499300,"node_id":"IC_kwDOACaFSM5NVkSk","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-31T18:28:40Z","updated_at":"2022-10-31T18:28:40Z","author_association":"MEMBER","body":"> > One thing that I thought of, that I'm not sure how we want to handle, is if the page is refreshed, the banner indicating \"Compaction Coordinator Not Running\" shows up. But it doesn't appear that this will ever happen automatically via auto-refresh and will only show up on a full page reload. An alternative to moving the datatables errors to the console could be to just refresh the page (via `location.reload()`) so that the banner will show up and also not create the alerts. Maybe for now, we can just merge the change that logs the errors in the console and then as a follow on try the approach described here if it seems like that would be better.\r\n> \r\n> Definitely don't do the `location.reload()` thing. One of the biggest advantages of the 2.x monitor improvements to use AJAX principles is that you don't need to do a full page reload. You can do asynchronous updates to a page using less bandwidth and less disruption to the user experience scrolling, etc. We achieve this by creating REST endpoints for data we want to load, and use background JavaScript to load it and/or keep it up-to-date.\r\n\r\nYea that makes sense. The logic to show the mentioned banner is in the freemarker code and I'm not exact sure how that works but from what it seems, the page needs to be refreshed in order for that if statement that shows/hides the banner to be reached again. We could work out a way for that logic to be moved into the javascript so that it can be updated as part of the pages `refresh()` but that should probably take place as part of a separate ticket.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1297499300/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298313380","html_url":"https://github.com/apache/accumulo/pull/3056#issuecomment-1298313380","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3056","id":1298313380,"node_id":"IC_kwDOACaFSM5NYrCk","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T10:17:48Z","updated_at":"2022-11-01T10:17:48Z","author_association":"CONTRIBUTOR","body":"I pushed up the latest change with the new format. Screenshot of the latest:\r\n\r\n![image](https://user-images.githubusercontent.com/123009/199211598-f25df65d-ff37-4eee-943a-7bc107517cac.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298313380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298567159","html_url":"https://github.com/apache/accumulo/pull/3059#issuecomment-1298567159","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3059","id":1298567159,"node_id":"IC_kwDOACaFSM5NZo_3","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T14:09:19Z","updated_at":"2022-11-01T14:09:19Z","author_association":"MEMBER","body":"Test seems to fail on JDK 17. Not sure what's going on with that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298567159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298595882","html_url":"https://github.com/apache/accumulo/pull/3059#issuecomment-1298595882","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3059","id":1298595882,"node_id":"IC_kwDOACaFSM5NZwAq","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T14:30:41Z","updated_at":"2022-11-01T14:30:41Z","author_association":"CONTRIBUTOR","body":"> Looks good, but I wonder if we should put the cleanup in a background thread instead of on the request thread that the Monitor uses to get the data. I'm not sure that this is super-important, as I think the orphaned RUNNING entries happen in a small number of cases. But, if the Monitor is down or never used by the user, then no cleanup will happen.\r\n\r\nWhen I first started looking into this I was considering adding this code to the DeadCompactionDetector because it already scans the metadata table and runs periodically in the background.  I decided against this because I thought it may make the code harder to understand and would force these two task to run at the same cadence.  I think I will take another look at making it run in the background as a task or as part of the dead compaction detector.\r\n\r\n> Test seems to fail on JDK 17. Not sure what's going on with that.\r\n\r\nI saw that, going to look into it.  Seemed to be failing to initialize the class, wonder if thats because I called System.nanoTime to initialize an instance var and maybe JDK 17 does not like that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298595882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298873889","html_url":"https://github.com/apache/accumulo/pull/3059#issuecomment-1298873889","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3059","id":1298873889,"node_id":"IC_kwDOACaFSM5Naz4h","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T17:31:54Z","updated_at":"2022-11-01T17:31:54Z","author_association":"CONTRIBUTOR","body":"> Test seems to fail on JDK 17. Not sure what's going on with that.\r\n\r\nI was able to reproduce this locally and fix it locally in commit  [7249313](https://github.com/apache/accumulo/pull/3059/commits/7249313ceecc4c6815654336bb6a7ec68630b838).  Was a problem with powermock, reflection, and java modules.  Needed to add java.time which contained the Duration class that powermock was trying to modify.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298873889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298904564","html_url":"https://github.com/apache/accumulo/issues/3053#issuecomment-1298904564","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3053","id":1298904564,"node_id":"IC_kwDOACaFSM5Na7X0","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T17:59:29Z","updated_at":"2022-11-01T17:59:29Z","author_association":"CONTRIBUTOR","body":"resolved with #3061 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298904564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298927456","html_url":"https://github.com/apache/accumulo/pull/3061#issuecomment-1298927456","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3061","id":1298927456,"node_id":"IC_kwDOACaFSM5NbA9g","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T18:18:04Z","updated_at":"2022-11-01T18:18:04Z","author_association":"MEMBER","body":"@EdColeman Don't merge from branch to branch using a PR. It will permit unintentional deletion of the origin branch by providing a \"Delete branch\" button, and since GitHub will rewrite the history when the PR is merged, it won't actually preserve the history from the originating branch. Just do it from the command-line.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298927456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298939045","html_url":"https://github.com/apache/accumulo/pull/3061#issuecomment-1298939045","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3061","id":1298939045,"node_id":"IC_kwDOACaFSM5NbDyl","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T18:28:22Z","updated_at":"2022-11-01T18:28:22Z","author_association":"MEMBER","body":"Since this PR caused the history in the main branch and 2.1 to diverge, even though their actual code changes weren't different, I merged them back together again, so both branches have the same HEAD commit. That should remain the case until we start adding 3.0 specific changes to the main branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1298939045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1299013736","html_url":"https://github.com/apache/accumulo/issues/3040#issuecomment-1299013736","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3040","id":1299013736,"node_id":"IC_kwDOACaFSM5NbWBo","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T19:32:52Z","updated_at":"2022-11-01T19:32:52Z","author_association":"CONTRIBUTOR","body":"I think the answer is [here](https://accumulo.apache.org/docs/2.x/administration/erasure-coding). I didn't see this until after the 2.1.0 release documentation was merged and put up onto the staging site.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1299013736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1300612871","html_url":"https://github.com/apache/accumulo/pull/3059#issuecomment-1300612871","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3059","id":1300612871,"node_id":"IC_kwDOACaFSM5NhccH","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T15:02:22Z","updated_at":"2022-11-02T15:02:22Z","author_association":"CONTRIBUTOR","body":">  But, if the Monitor is down or never used by the user, then no cleanup will happen.\r\n\r\n@dlmarion I modified the code to run periodically in the background.  This could avoid an OOME in a long running coordinator process for that case you mentioned.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1300612871/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303577727","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1303577727","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1303577727,"node_id":"IC_kwDOACaFSM5NswR_","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T13:52:39Z","updated_at":"2022-11-04T13:52:39Z","author_association":"CONTRIBUTOR","body":"Would there be any benefit of delaying this to be the last step before releasing a 3.0?  My logic is that keeping formatting consistent for 2.1 and 3.0 development may make merging bug-fixes between the branches easier to review?\r\n\r\nMaybe it would help if the style checks nudged code to conform to the next style (thinking of the requirement of braces for all control statements) but also would not want a flood of issues that could hide other things on a commit / build.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303577727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303612907","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1303612907","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1303612907,"node_id":"IC_kwDOACaFSM5Ns43r","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T14:09:10Z","updated_at":"2022-11-04T14:09:49Z","author_association":"CONTRIBUTOR","body":"My thinking was that we'd either want to do it at the beginning (now) or we might end up waiting until the end based on the comments @ctubbsii made about waiting until the last minute to do the refactor of the fate packages for 2.1.0. Waiting until the end before 3.0 release certainly makes merging between branches easier but 2.1 is a long term release anyways so it would still be a problem in the future even after 3.0. Either way, I at least wanted to get some feedback on the new style as I generally think the Google style is one of the better ones.\r\n\r\nTrying to give info or warnings for the new style but not enforcing it yet to avoid breaking existing code is an interesting idea but I'm not sure if we could do that without a million warnings spitting out for all the existing code during the build process as there's a lot that needs to be reformatted. There was a surprising number of places with missing curly braces for example.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303612907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303780076","html_url":"https://github.com/apache/accumulo/issues/3065#issuecomment-1303780076","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3065","id":1303780076,"node_id":"IC_kwDOACaFSM5Nthrs","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T15:41:23Z","updated_at":"2022-11-04T15:41:23Z","author_association":"MEMBER","body":"This seems similar to the replication feature that has been unmaintained / abandoned. What makes this different?\r\nAnd, would it be better to advocate users create an ingest pipeline outside of Accumulo for cross-data center snapshots/replication/copies? Like, have data come in via Kafka or NiFi, and have multiple consumers/destinations for the different target data centers?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303780076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303784907","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1303784907","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1303784907,"node_id":"IC_kwDOACaFSM5Nti3L","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T15:45:18Z","updated_at":"2022-11-04T15:45:18Z","author_association":"MEMBER","body":"@cshannon Can you remove the commit that does the reformatting from this PR (force push to your branch), so it's easier to do a review on the non-automated changes? Separate commits is nice when we eventually merge, but the changes in all commits are still shown in the GitHub review interface, so it's best to just omit the automated changes for now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303784907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303787150","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1303787150","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1303787150,"node_id":"IC_kwDOACaFSM5NtjaO","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T15:47:08Z","updated_at":"2022-11-04T15:47:08Z","author_association":"MEMBER","body":"Instead of adding a new style to the contrib directory, please try changing the configuration file that is there, so we can see what's actually different between them. It might be enough to just delete the old, no-longer used style, and git should see it as a rename if they were similar enough.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303787150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303800394","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1303800394","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1303800394,"node_id":"IC_kwDOACaFSM5NtmpK","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T15:57:03Z","updated_at":"2022-11-04T15:57:03Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - sounds good, i'll do that and force push up.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303800394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303813313","html_url":"https://github.com/apache/accumulo/issues/3065#issuecomment-1303813313","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3065","id":1303813313,"node_id":"IC_kwDOACaFSM5NtpzB","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T16:06:19Z","updated_at":"2022-11-04T16:20:55Z","author_association":"CONTRIBUTOR","body":"> This seems similar to the replication feature that has been unmaintained / abandoned. What makes this different?\r\nAnd, would it be better to advocate users create an ingest pipeline outside of Accumulo for cross-data center snapshots/replication/copies? Like, have data come in via Kafka or NiFi, and have multiple consumers/destinations for the different target data centers?\r\n\r\nThe main difference with the replication feature and multiple ingest pipelines is that each those require performing redundant data maintenance operations.  I am a bit uncertain if centralized data maintenance makes this feature worthwhile though.  Is doing the computation once cheaper than the copy?  Is the consistency provided by doing data maintenance in one place worth the overhead of implementing this feature?  I suspect it may be worthwhile, but I am not completely sure.\r\n\r\nThis feature could not be done w/o first doing system snapshots which I think have a lot of their own benefits independent of this.  I think this feature would mainly be about making scan servers be able to read from a system snapshot.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303813313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303835237","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1303835237","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1303835237,"node_id":"IC_kwDOACaFSM5NtvJl","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T16:24:31Z","updated_at":"2022-11-04T16:24:31Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - Ok I force pushed up changes and got rid of the reformat commit.\r\n\r\nSo the issue is the two xml files are vastly different due to ordering of the xml tags and the changes are huge as you will see. Since they were not in the same order it was impossible to view the real differences.\r\n\r\nTo make it easier to attempt to review the differences I ran the old version of the file through the sort command and committed that first. Then I updated the file with the new google style (kept the same file name for now but can always rename it to make comparison easier) and sorted that and pushed up a second commit. The third commit is still errorpone.\r\n\r\nSo if you compare commit 2 to commit 1 by itself you can see the main differences between the codestyles. Let me know if you can think of a better way but this seemed like the simplest way to compare. I could also sort the original codestyle file first in another PR and merge that into main and then based this PR off that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303835237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303877092","html_url":"https://github.com/apache/accumulo/issues/3065#issuecomment-1303877092","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3065","id":1303877092,"node_id":"IC_kwDOACaFSM5Nt5Xk","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T16:55:03Z","updated_at":"2022-11-04T16:55:03Z","author_association":"CONTRIBUTOR","body":"A few things.\r\n\r\nFirst as replication was designed, it only supported streaming ingest.  If you are doing bulk-ingest then you needed to make other provisions anyway.\r\n\r\nAnd as far as bulk ingest and replicating the data - it really is user dependent.  You can elect to generate the bulk import files and then replicate those or you could tee the data and perform the bulk ingest preparation in parallel at each location.  \r\n\r\nIf you elect to ship bulk import files, then you only pay for the cost of generation once, but you could end up sending more data (if the ingest increases the data size because of indexing or multiple views...) and the latency is likely longer because the data is transmitted after the files are generated.\r\n\r\nIf you tee the data, then you may have additional consistency questions - the bulk import processes could start at slightly different times with slightly different data.  The bulk prep job could fail or take longer at one of the locations,....  \r\n\r\nSo it is really going to be user dependent.\r\n\r\nFrom a redundancy perspective, tee-ing the data and processing the data locally at each site probably has the best fail-over posture because of the increased isolation of all of the independent processes - but could also have the largest opportunity for scans to return slightly different results without additional synchronization.  \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303877092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303891639","html_url":"https://github.com/apache/accumulo/issues/3065#issuecomment-1303891639","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3065","id":1303891639,"node_id":"IC_kwDOACaFSM5Nt863","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T17:05:46Z","updated_at":"2022-11-04T17:05:46Z","author_association":"CONTRIBUTOR","body":"Something to think about is the case where a secondary system has shorter/longer retention than the primary, so maybe it's not an exact copy but has different retention requirements. I think in this specific case, you would want to ship the rfiles when added to the system (either from a minor compaction or bulk import) and let the other system perform it's own maintenance. Maybe that's a different ticket.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303891639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303911729","html_url":"https://github.com/apache/accumulo/issues/3065#issuecomment-1303911729","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3065","id":1303911729,"node_id":"IC_kwDOACaFSM5NuB0x","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T17:23:33Z","updated_at":"2022-11-04T17:23:33Z","author_association":"MEMBER","body":"> This feature could not be done w/o first doing system snapshots which I think have a lot of their own benefits independent of this. I think this feature would mainly be about making scan servers be able to read from a system snapshot.\r\n\r\nI absolutely agree that system snapshots have their own independent benefits.\r\n\r\nWith that in mind, and thinking in terms of system complexity, I think it's better for scan servers have one normal mode of operation, and for users to make use of it in clever ways that suit their needs, than it is for us to support multiple modes of operation for the scan servers. For example, since snapshot restoration would have its own independent benefits, one could cleverly make use of that ability to stand up an on-demand cluster from a snapshot, and have scan servers operate as they normally would on on a cluster, rather than have a separate mode of operation on the snapshot directly. This is slightly more system administration work, but should be *substantially* less code and feature complexity.\r\n\r\nThis is how I think in general, as it's much easier to maintain simpler tools that users can re-purpose for a variety of use cases, than it is to maintain complex tools tailored to a large predetermined set of use cases. I think I'd like to see where the snapshot feature takes us before I spend too much time thinking or evaluating the idea in this issue, though.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303911729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303958861","html_url":"https://github.com/apache/accumulo/issues/3065#issuecomment-1303958861","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3065","id":1303958861,"node_id":"IC_kwDOACaFSM5NuNVN","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T18:02:30Z","updated_at":"2022-11-04T18:02:30Z","author_association":"CONTRIBUTOR","body":"> For example, since snapshot restoration would have its own independent benefits, one could cleverly make use of that ability to stand up an on-demand cluster from a snapshot, and have scan servers operate as they normally would on on a cluster, rather than have a separate mode of operation on the snapshot directly. This is slightly more system administration work, but should be substantially less code and feature complexity.\r\n\r\nI like that.  I think I can close this as it turns out its just a possible use case for system snapshots.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303958861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303961315","html_url":"https://github.com/apache/accumulo/issues/1044#issuecomment-1303961315","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1044","id":1303961315,"node_id":"IC_kwDOACaFSM5NuN7j","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T18:05:22Z","updated_at":"2022-11-04T18:05:22Z","author_association":"CONTRIBUTOR","body":"#3065 describes a possible use case for system snapshots","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303961315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303976143","html_url":"https://github.com/apache/accumulo/issues/3065#issuecomment-1303976143","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3065","id":1303976143,"node_id":"IC_kwDOACaFSM5NuRjP","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T18:22:25Z","updated_at":"2022-11-04T18:23:07Z","author_association":"CONTRIBUTOR","body":"I was thinking if scan servers could read directly from a snapshot it would mean that tablets in the snapshot do not need to be hosted on tablet servers on a secondary cluster.   In the past I have spoken w/ @dlmarion and he mentioned it would be nice if scan servers supported offline tables.  Thinking that feature would also help support the use case mentioned in this issue as it would mean the secondary clusters would only need a few tservers to serve metadata tablets.  Making scan servers be able to read from offline tables would be more generally useful than making them read from a system snapshot. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1303976143/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1304393666","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1304393666","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1304393666,"node_id":"IC_kwDOACaFSM5Nv3fC","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-05T03:48:24Z","updated_at":"2022-11-05T03:48:24Z","author_association":"MEMBER","body":"@cshannon I was thinking that it's possible that the Google Style Guide configuration settings for Eclipse may not be a complete set of configuration elements. Because of Eclipse upstream behavior quirks when handling formatting, it's probably going to be necessary to manipulate their xml configuration by importing into Eclipse, re-exporting it, then substituting any added values with Eclipse's default that may have gotten mangled in the import/export process. And then, we'll have to compare *that* resulting diff against our own config file to see what the actual differences are. It's also going to be very hard to interpret what these xml configuration items relate to in the Eclipse UI, or just how they affect formatting in general... because they are not documented by Eclipse anywhere. Some of the values are aren't even human-readable values... they actually represent a bit set, stored as a single integer value. It's all very complicated and annoying.\r\n\r\nI created #3066 to update our configuration to the Eclipse 2022-09 format, whose formatter code is what the formatter-maven-plugin version 2.21.0 runs (a version I just released today for this purpose... it was overdue for a release anyway). We should merge that PR first, then, manipulate the Google Style Guide configuration file to be up-to-date with Eclipse 2022-09 (and using Eclipse defaults for any missing entries), and *then* we can compare with our own. Sadly, I'm quite familiar with doing this... so I can either step you through it, or I can help with some of these bits. Feel free to reach out to me directly to get further on this.\r\n\r\nAs for the discussion earlier of when to apply the changes in order to reduce merge conflicts... there's no reason it can't be applied to all our currently maintained branches (or at least, any where we anticipate merge conflicts might occur due to formatting differences). I'm happy to help curate the application of the formatting to our branches to make the process smoother. But, we'll need to agree on *which* changes we want, which is really the decision we should focus on here.\r\n\r\nPersonally, I like the Google Style Guide as a basis, but I don't mind diverging from it where it makes sense. Right now, I'm not sure we diverge from it too much... so perhaps our current config is already sufficiently suitable? It's hard to know because it's still very hard to compare the config files right now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1304393666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1304393902","html_url":"https://github.com/apache/accumulo/pull/3066#issuecomment-1304393902","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3066","id":1304393902,"node_id":"IC_kwDOACaFSM5Nv3iu","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-05T03:50:06Z","updated_at":"2022-11-05T03:50:06Z","author_association":"MEMBER","body":"These changes do not result in any changes to the formatting of our code... it only updates the plugin version and config file to match the latest version of Eclipse, which supports newer Java language constructs (that we haven't started using yet) in Java versions greater than 11.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1304393902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]