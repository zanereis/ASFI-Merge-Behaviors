[{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409379665","html_url":"https://github.com/apache/openwhisk/pull/3932#issuecomment-409379665","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3932","id":409379665,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTM3OTY2NQ==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T21:51:06Z","updated_at":"2018-07-31T21:51:06Z","author_association":"MEMBER","body":"I thought it’s used on log lines ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409379665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409384745","html_url":"https://github.com/apache/openwhisk/pull/3932#issuecomment-409384745","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3932","id":409384745,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTM4NDc0NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T22:10:19Z","updated_at":"2018-07-31T22:10:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932?src=pr&el=h1) Report\n> Merging [#3932](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/d847d0f75ec2192015e3dcda19f8e5d0bc0926d5?src=pr&el=desc) will **decrease** coverage by `4.65%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932/graphs/tree.svg?width=650&token=l0YmsiSAso&height=150&src=pr)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##           master   #3932      +/-   ##\n=========================================\n- Coverage   85.35%   80.7%   -4.66%     \n=========================================\n  Files         145     145              \n  Lines        7052    7052              \n  Branches      422     422              \n=========================================\n- Hits         6019    5691     -328     \n- Misses       1033    1361     +328\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n| [...n/scala/whisk/core/database/CouchDbRestStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvQ291Y2hEYlJlc3RTdG9yZS5zY2FsYQ==) | `74.24% <0%> (+1.01%)` | :arrow_up: |\n| [.../whisk/core/database/ArtifactActivationStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvQXJ0aWZhY3RBY3RpdmF0aW9uU3RvcmUuc2NhbGE=) | `100% <0%> (+7.14%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932?src=pr&el=footer). Last update [d847d0f...fa2b248](https://codecov.io/gh/apache/incubator-openwhisk/pull/3932?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409384745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409385387","html_url":"https://github.com/apache/openwhisk/pull/3932#issuecomment-409385387","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3932","id":409385387,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTM4NTM4Nw==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T22:13:10Z","updated_at":"2018-07-31T22:13:10Z","author_association":"MEMBER","body":"Any recollection of how?  I did some recursive greps that came up empty, but that might not be conclusive.\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409385387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409386561","html_url":"https://github.com/apache/openwhisk/pull/3932#issuecomment-409386561","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3932","id":409386561,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTM4NjU2MQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T22:18:31Z","updated_at":"2018-07-31T22:18:31Z","author_association":"CONTRIBUTOR","body":"The \"COMPONENT\" part of log-lines is extracted from the logline itself and is essentially the class that logs (i.e. \"CouchDbRestStore\")","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409386561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409473821","html_url":"https://github.com/apache/openwhisk/pull/3878#issuecomment-409473821","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3878","id":409473821,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTQ3MzgyMQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T07:12:48Z","updated_at":"2018-08-01T07:12:48Z","author_association":"CONTRIBUTOR","body":"I ran a PG and it caught issues in `NamespaceSpecificThrottleTests`. I then realized, that these aren't running in travis, hence #3933.\r\n\r\nThe error message there is:\r\n\r\n```\r\norg.scalatest.exceptions.TestFailedException: HTTP request or response did not match the Swagger spec.\r\nRequest: HttpRequest(HttpMethod(POST),https://openwhisk-pg4-vm1.swg.usma.ibm.com/api/v1/namespaces/zeroSubject/actions/zeroAction?blocking=false&result=false,List(Authorization: Basic ...),HttpEntity.Strict(application/json,{}),HttpProtocol(HTTP/1.1))\r\nResponse: HttpResponse(429 Too Many Requests,List(Server: nginx, Date: Wed, 01 Aug 2018 00:47:16 GMT, Connection: keep-alive, X-Request-ID: 35d8ba338053dc13c54da44052939a15, Access-Control-Allow-Origin: *, Access-Control-Allow-Headers: Authorization, Content-Type, OpenWhisk_Version_No: pg4-2023, X-Request-ID: 35d8ba338053dc13c54da44052939a15),HttpEntity.Strict(application/json,{\"error\":\"Too many requests in the last minute (count: 1, allowed: 0).\",\"code\":\"35d8ba338053dc13c54da44052939a15\"}),HttpProtocol(HTTP/1.1))\r\nValidation Error: ArrayBuffer(ERROR - Response status 429 not defined for path '/namespaces/{namespace}/actions/{actionName}'.: [])\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409473821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409501211","html_url":"https://github.com/apache/openwhisk/pull/3933#issuecomment-409501211","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3933","id":409501211,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTUwMTIxMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T08:50:39Z","updated_at":"2018-08-02T09:16:59Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933?src=pr&el=h1) Report\n> Merging [#3933](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/263a505f2e6963992e62bb5e441847f9d2dfc3fd?src=pr&el=desc) will **increase** coverage by `4.8%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/graphs/tree.svg?token=l0YmsiSAso&src=pr&width=650&height=150)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff            @@\n##           master   #3933     +/-   ##\n========================================\n+ Coverage   75.99%   80.8%   +4.8%     \n========================================\n  Files         146     146             \n  Lines        7054    7054             \n  Branches      422     422             \n========================================\n+ Hits         5361    5700    +339     \n+ Misses       1693    1354    -339\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n| [.../scala/src/main/scala/whisk/core/entity/Exec.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L0V4ZWMuc2NhbGE=) | `84.41% <0%> (+0.64%)` | :arrow_up: |\n| [...r/src/main/scala/whisk/core/controller/Rules.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29yZS9jb250cm9sbGVyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udHJvbGxlci9SdWxlcy5zY2FsYQ==) | `89.93% <0%> (+0.67%)` | :arrow_up: |\n| [...src/main/scala/whisk/core/controller/Actions.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29yZS9jb250cm9sbGVyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udHJvbGxlci9BY3Rpb25zLnNjYWxh) | `92.89% <0%> (+1.52%)` | :arrow_up: |\n| [...isk/core/controller/actions/PrimitiveActions.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree#diff-Y29yZS9jb250cm9sbGVyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udHJvbGxlci9hY3Rpb25zL1ByaW1pdGl2ZUFjdGlvbnMuc2NhbGE=) | `89.14% <0%> (+1.55%)` | :arrow_up: |\n| ... and [43 more](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933?src=pr&el=footer). Last update [263a505...5d75682](https://codecov.io/gh/apache/incubator-openwhisk/pull/3933?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409501211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409504401","html_url":"https://github.com/apache/openwhisk/pull/3935#issuecomment-409504401","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3935","id":409504401,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTUwNDQwMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T09:00:59Z","updated_at":"2018-08-02T09:09:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935?src=pr&el=h1) Report\n> Merging [#3935](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/d7e9ce67b552fbb24ad55aa074178d5485ccd546?src=pr&el=desc) will **decrease** coverage by `4.69%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935/graphs/tree.svg?width=650&height=150&src=pr&token=l0YmsiSAso)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##           master    #3935     +/-   ##\n=========================================\n- Coverage   85.35%   80.66%   -4.7%     \n=========================================\n  Files         146      146             \n  Lines        7054     7054             \n  Branches      422      422             \n=========================================\n- Hits         6021     5690    -331     \n- Misses       1033     1364    +331\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935?src=pr&el=footer). Last update [d7e9ce6...97cb761](https://codecov.io/gh/apache/incubator-openwhisk/pull/3935?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409504401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409535513","html_url":"https://github.com/apache/openwhisk/issues/3931#issuecomment-409535513","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3931","id":409535513,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTUzNTUxMw==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T10:55:06Z","updated_at":"2018-08-01T10:55:06Z","author_association":"CONTRIBUTOR","body":"I'm in the process of configuring scapegoat. Got it running at least in a basic version. Will try to create a linting profile that fits our codebase well and open a discussion on that. Thanks @chetanmeh for the proposal!","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409535513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409537693","html_url":"https://github.com/apache/openwhisk/pull/3814#issuecomment-409537693","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3814","id":409537693,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTUzNzY5Mw==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T11:03:47Z","updated_at":"2018-08-01T11:03:47Z","author_association":"MEMBER","body":"`wskadmin-next` now provides a progress bar for import and export of db content!\r\n\r\n![cli-progress](https://user-images.githubusercontent.com/664531/43518093-8491d71c-95a8-11e8-8f45-26b31d31bb11.gif)\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409537693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409573665","html_url":"https://github.com/apache/openwhisk/pull/3886#issuecomment-409573665","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3886","id":409573665,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTU3MzY2NQ==","user":{"login":"kpavel","id":1818183,"node_id":"MDQ6VXNlcjE4MTgxODM=","avatar_url":"https://avatars.githubusercontent.com/u/1818183?v=4","gravatar_id":"","url":"https://api.github.com/users/kpavel","html_url":"https://github.com/kpavel","followers_url":"https://api.github.com/users/kpavel/followers","following_url":"https://api.github.com/users/kpavel/following{/other_user}","gists_url":"https://api.github.com/users/kpavel/gists{/gist_id}","starred_url":"https://api.github.com/users/kpavel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpavel/subscriptions","organizations_url":"https://api.github.com/users/kpavel/orgs","repos_url":"https://api.github.com/users/kpavel/repos","events_url":"https://api.github.com/users/kpavel/events{/privacy}","received_events_url":"https://api.github.com/users/kpavel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T13:26:09Z","updated_at":"2018-08-01T13:26:28Z","author_association":"CONTRIBUTOR","body":"@markusthoemmes done, moved LeanBalancer to core code.\r\nAs a result had to add dependency on invoker to core/controller/build.gradle:\r\n```\r\ncompile project(':core:invoker')\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409573665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409603069","html_url":"https://github.com/apache/openwhisk/pull/3934#issuecomment-409603069","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3934","id":409603069,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTYwMzA2OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T14:52:25Z","updated_at":"2018-08-01T20:40:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934?src=pr&el=h1) Report\n> Merging [#3934](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/263a505f2e6963992e62bb5e441847f9d2dfc3fd?src=pr&el=desc) will **increase** coverage by `4.64%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/graphs/tree.svg?token=l0YmsiSAso&width=650&src=pr&height=150)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3934      +/-   ##\n==========================================\n+ Coverage   75.99%   80.64%   +4.64%     \n==========================================\n  Files         146      146              \n  Lines        7054     7056       +2     \n  Branches      422      422              \n==========================================\n+ Hits         5361     5690     +329     \n+ Misses       1693     1366     -327\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...whisk/connector/kafka/KafkaMessagingProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2Nvbm5lY3Rvci9rYWZrYS9LYWZrYU1lc3NhZ2luZ1Byb3ZpZGVyLnNjYWxh) | `72.72% <ø> (+33.33%)` | :arrow_up: |\n| [...whisk/connector/kafka/KafkaConsumerConnector.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2Nvbm5lY3Rvci9rYWZrYS9LYWZrYUNvbnN1bWVyQ29ubmVjdG9yLnNjYWxh) | `60% <100%> (+28.25%)` | :arrow_up: |\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n| [.../scala/src/main/scala/whisk/core/entity/Exec.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L0V4ZWMuc2NhbGE=) | `84.41% <0%> (+0.64%)` | :arrow_up: |\n| [...r/src/main/scala/whisk/core/controller/Rules.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree#diff-Y29yZS9jb250cm9sbGVyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udHJvbGxlci9SdWxlcy5zY2FsYQ==) | `89.93% <0%> (+0.67%)` | :arrow_up: |\n| ... and [44 more](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934?src=pr&el=footer). Last update [263a505...103c0ce](https://codecov.io/gh/apache/incubator-openwhisk/pull/3934?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409603069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409634599","html_url":"https://github.com/apache/openwhisk/pull/3936#issuecomment-409634599","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3936","id":409634599,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTYzNDU5OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T16:24:58Z","updated_at":"2018-08-01T16:24:58Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936?src=pr&el=h1) Report\n> Merging [#3936](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/d7e9ce67b552fbb24ad55aa074178d5485ccd546?src=pr&el=desc) will **decrease** coverage by `4.69%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/graphs/tree.svg?width=650&token=l0YmsiSAso&height=150&src=pr)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##           master    #3936     +/-   ##\n=========================================\n- Coverage   85.35%   80.66%   -4.7%     \n=========================================\n  Files         146      146             \n  Lines        7054     7054             \n  Branches      422      422             \n=========================================\n- Hits         6021     5690    -331     \n- Misses       1033     1364    +331\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...rc/main/scala/whisk/core/entity/WhiskPackage.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L1doaXNrUGFja2FnZS5zY2FsYQ==) | `96.82% <100%> (ø)` | :arrow_up: |\n| [...ain/scala/whisk/core/entitlement/Entitlement.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29yZS9jb250cm9sbGVyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXRsZW1lbnQvRW50aXRsZW1lbnQuc2NhbGE=) | `84.21% <100%> (ø)` | :arrow_up: |\n| [...la/src/main/scala/whisk/core/mesos/MesosTask.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvbWVzb3MvTWVzb3NUYXNrLnNjYWxh) | `86.11% <100%> (ø)` | :arrow_up: |\n| [...in/scala/whisk/core/database/DocumentHandler.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvRG9jdW1lbnRIYW5kbGVyLnNjYWxh) | `87.59% <100%> (ø)` | :arrow_up: |\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936?src=pr&el=footer). Last update [d7e9ce6...79fc200](https://codecov.io/gh/apache/incubator-openwhisk/pull/3936?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409634599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409773392","html_url":"https://github.com/apache/openwhisk/pull/3919#issuecomment-409773392","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3919","id":409773392,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTc3MzM5Mg==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T01:12:57Z","updated_at":"2018-08-02T01:12:57Z","author_association":"MEMBER","body":"@dubee no need to update docs, encoding base64 json is not documented.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409773392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409779533","html_url":"https://github.com/apache/openwhisk/pull/3919#issuecomment-409779533","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3919","id":409779533,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTc3OTUzMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T01:51:54Z","updated_at":"2018-08-09T15:19:02Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919?src=pr&el=h1) Report\n> Merging [#3919](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/79e72e641703b4138cc58bc6bf0d5863a8fe6919?src=pr&el=desc) will **decrease** coverage by `4.78%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919/graphs/tree.svg?token=l0YmsiSAso&width=650&src=pr&height=150)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3919      +/-   ##\n==========================================\n- Coverage   85.54%   80.75%   -4.79%     \n==========================================\n  Files         146      146              \n  Lines        7057     7057              \n  Branches      420      411       -9     \n==========================================\n- Hits         6037     5699     -338     \n- Misses       1020     1358     +338\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [.../main/scala/whisk/core/controller/WebActions.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919/diff?src=pr&el=tree#diff-Y29yZS9jb250cm9sbGVyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udHJvbGxlci9XZWJBY3Rpb25zLnNjYWxh) | `91.01% <100%> (-0.4%)` | :arrow_down: |\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...whisk/connector/kafka/KafkaProducerConnector.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2Nvbm5lY3Rvci9rYWZrYS9LYWZrYVByb2R1Y2VyQ29ubmVjdG9yLnNjYWxh) | `75.67% <0%> (-16.22%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919?src=pr&el=footer). Last update [79e72e6...feea3f6](https://codecov.io/gh/apache/incubator-openwhisk/pull/3919?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409779533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409781908","html_url":"https://github.com/apache/openwhisk/pull/3760#issuecomment-409781908","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3760","id":409781908,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTc4MTkwOA==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T02:05:41Z","updated_at":"2018-08-02T02:05:41Z","author_association":"MEMBER","body":"@mdeuser Can this be merge?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409781908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409809681","html_url":"https://github.com/apache/openwhisk/issues/3937#issuecomment-409809681","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3937","id":409809681,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTgwOTY4MQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T05:25:31Z","updated_at":"2018-08-02T05:25:31Z","author_association":"MEMBER","body":"I tried with latest master today and it build fine. JVM should use 1/4 of the system memory. The provisioned Vagrant box is configured with 4GB so gradle should be using ~1GB as Xmx\r\n\r\nCan you provide following details\r\n\r\n1. Host system memory/RAM\r\n2. Output of following command after doing ssh to vagrant box\r\n```\r\n$ vagrant ssh\r\n$ java -XX:+PrintFlagsFinal -version | grep HeapSize\r\n```\r\n\r\nYou can try increasing the [memory used by Gradle][1] by specifying `GRADLE_OPTS=-Xmx2g` env variable and then again running `./gradlew distDokcer` and see if build passes\r\n\r\n[1]: https://docs.gradle.org/current/userguide/build_environment.html","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409809681/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409876099","html_url":"https://github.com/apache/openwhisk/pull/3933#issuecomment-409876099","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3933","id":409876099,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTg3NjA5OQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T10:06:08Z","updated_at":"2018-08-02T10:06:08Z","author_association":"MEMBER","body":"Could the limit and max duration (only remaining suite now excluded?) be run as seperate layers?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409876099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409879663","html_url":"https://github.com/apache/openwhisk/pull/3933#issuecomment-409879663","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3933","id":409879663,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTg3OTY2Mw==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T10:20:35Z","updated_at":"2018-08-02T10:20:35Z","author_association":"MEMBER","body":"Can be done. That would take up the number of separate jobs to 4 per PR. I tried that once earlier and saw one of the job started late probably waiting for capacity. May be we give this a try again and see if builds are getting throttled or not. \r\n\r\nIf they all run concurrently most of the time we can go for it","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409879663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409894972","html_url":"https://github.com/apache/openwhisk/pull/3923#issuecomment-409894972","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3923","id":409894972,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTg5NDk3Mg==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T11:27:55Z","updated_at":"2018-08-02T11:27:55Z","author_association":"CONTRIBUTOR","body":"Closing for now. Will be reopened once performance benefits have been measured out and proven.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409894972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409904372","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409904372","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409904372,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkwNDM3Mg==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:09:51Z","updated_at":"2018-08-02T12:09:51Z","author_association":"MEMBER","body":"This suggests a bug in the invoker. It should never call init twice.  ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409904372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409904798","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409904798","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409904798,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkwNDc5OA==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:11:42Z","updated_at":"2018-08-02T12:11:42Z","author_association":"MEMBER","body":"I think root cause on why invoker is calling /init twice should be investigated ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409904798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409905588","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409905588","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409905588,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkwNTU4OA==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:14:49Z","updated_at":"2018-08-02T12:14:49Z","author_association":"CONTRIBUTOR","body":"We allow for retries on /init. We do not know how deep the request got into the user-container before breaking down.\r\n\r\nPersonally I think /init should be idempotent and not return an error on reinitialization. It should simply not do anything and return a 200 on reinit.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409905588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409905770","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409905770","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409905770,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkwNTc3MA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:15:34Z","updated_at":"2018-08-02T12:15:34Z","author_association":"MEMBER","body":"Are you using the Apache or Akka http client?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409905770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409905834","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409905834","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409905834,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkwNTgzNA==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:15:55Z","updated_at":"2018-08-02T12:15:55Z","author_association":"CONTRIBUTOR","body":"Apache is used in this case.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409905834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409906241","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409906241","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409906241,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkwNjI0MQ==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:17:35Z","updated_at":"2018-08-02T12:17:35Z","author_association":"MEMBER","body":"I thought we moved to akka http client because of the concurreny work from Tyson, perhaps that have not landed","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409906241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409907885","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409907885","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409907885,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkwNzg4NQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:24:03Z","updated_at":"2018-08-02T12:24:03Z","author_association":"CONTRIBUTOR","body":"@csantanapr It did land but is behind a feature switch to enable graceful testing for stability before we cut over.\r\n\r\nPer our code, `/init` is retried and it should be that way, because it essentially needs to poll until the container is up and able to receive HTTP requests. In theory, a connection can be aborted at any time and you won't know whether your side-effect (initializing the code in this case) has already been executed.\r\n\r\nFor `/init` though I think we shouldn't need to care. Making it idempotent makes it even possible to retry just about any connection-level error possible, which is what we want I think.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409907885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409909002","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409909002","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409909002,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkwOTAwMg==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:28:25Z","updated_at":"2018-08-02T12:28:25Z","author_association":"CONTRIBUTOR","body":"To add a bit more to this (and as discussed with @jeremiaswerner this morning when the issue occured):\r\n\r\nTo make attacks to /init observable (thanks @rabbah for bringing that up), we can generate a hash of the currently initialized function (as in: the first inits hash is saved). That'll enable us to silently agree and ignore reinit of the same function, making /init idempotent and safely retrieable.\r\n\r\nOn trying to init a different function, we could keep the current behavior.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409909002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409909133","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409909133","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409909133,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkwOTEzMw==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:28:57Z","updated_at":"2018-08-02T12:28:57Z","author_association":"MEMBER","body":"Why is this problem suddenly showing up today?\r\nTrue in theory we can modify the runtimeS to return 204 on second /init but nothing have change recently in runtimes so that’s why I suspicious of additional issue with invoker ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409909133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409912125","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409912125","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409912125,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkxMjEyNQ==","user":{"login":"csantanapr","id":1094878,"node_id":"MDQ6VXNlcjEwOTQ4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1094878?v=4","gravatar_id":"","url":"https://api.github.com/users/csantanapr","html_url":"https://github.com/csantanapr","followers_url":"https://api.github.com/users/csantanapr/followers","following_url":"https://api.github.com/users/csantanapr/following{/other_user}","gists_url":"https://api.github.com/users/csantanapr/gists{/gist_id}","starred_url":"https://api.github.com/users/csantanapr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantanapr/subscriptions","organizations_url":"https://api.github.com/users/csantanapr/orgs","repos_url":"https://api.github.com/users/csantanapr/repos","events_url":"https://api.github.com/users/csantanapr/events{/privacy}","received_events_url":"https://api.github.com/users/csantanapr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:40:41Z","updated_at":"2018-08-02T12:40:41Z","author_association":"MEMBER","body":"I’m still with no definitive root cause why the invoker needs a second /init after knowing that it already got a first /init 200\r\n\r\nRetry on /init is sequential and only done on connection error types because we are waiting for action container to be created, to come up, web proxy to be ready and connection to it. So retry makes sense but once the first /init works invoker should know this and stop retrying ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409912125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409913992","html_url":"https://github.com/apache/openwhisk/issues/3939#issuecomment-409913992","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3939","id":409913992,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkxMzk5Mg==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T12:47:19Z","updated_at":"2018-08-02T12:47:19Z","author_association":"CONTRIBUTOR","body":"@csantanapr It wouldn't retry if the first /init got a  200. An HTTP-Connection can essentially break in any state its in.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409913992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409925998","html_url":"https://github.com/apache/openwhisk/pull/3934#issuecomment-409925998","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3934","id":409925998,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTkyNTk5OA==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T13:28:35Z","updated_at":"2018-08-02T13:28:35Z","author_association":"CONTRIBUTOR","body":"PG2 3444 👍 ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409925998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409999287","html_url":"https://github.com/apache/openwhisk/pull/3878#issuecomment-409999287","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3878","id":409999287,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTk5OTI4Nw==","user":{"login":"bbrowning","id":56071,"node_id":"MDQ6VXNlcjU2MDcx","avatar_url":"https://avatars.githubusercontent.com/u/56071?v=4","gravatar_id":"","url":"https://api.github.com/users/bbrowning","html_url":"https://github.com/bbrowning","followers_url":"https://api.github.com/users/bbrowning/followers","following_url":"https://api.github.com/users/bbrowning/following{/other_user}","gists_url":"https://api.github.com/users/bbrowning/gists{/gist_id}","starred_url":"https://api.github.com/users/bbrowning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbrowning/subscriptions","organizations_url":"https://api.github.com/users/bbrowning/orgs","repos_url":"https://api.github.com/users/bbrowning/repos","events_url":"https://api.github.com/users/bbrowning/events{/privacy}","received_events_url":"https://api.github.com/users/bbrowning/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T17:06:46Z","updated_at":"2018-08-02T17:06:46Z","author_association":"CONTRIBUTOR","body":"I pushed another commit to address the HTTP 429 from `NamespaceSpecificThrottleTests` and was able to verify locally that they pass with this change.\r\n\r\nIt's good this failure happened, since it shows the kind of error message output you'll see if a change in the Swagger spec or tests causes the test request/response to not match the spec.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409999287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409999356","html_url":"https://github.com/apache/openwhisk/pull/3936#issuecomment-409999356","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3936","id":409999356,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTk5OTM1Ng==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T17:07:00Z","updated_at":"2018-08-02T17:07:00Z","author_association":"MEMBER","body":"PG3 2606 ⏳ ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/409999356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410036703","html_url":"https://github.com/apache/openwhisk/pull/3936#issuecomment-410036703","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3936","id":410036703,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDAzNjcwMw==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T19:12:56Z","updated_at":"2018-08-02T19:12:56Z","author_association":"MEMBER","body":"PG3 2606 👍 ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410036703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410036742","html_url":"https://github.com/apache/openwhisk/pull/3936#issuecomment-410036742","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3936","id":410036742,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDAzNjc0Mg==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T19:13:05Z","updated_at":"2018-08-02T19:13:05Z","author_association":"MEMBER","body":"@rabbah, any comments?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410036742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410083483","html_url":"https://github.com/apache/openwhisk/issues/3940#issuecomment-410083483","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3940","id":410083483,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA4MzQ4Mw==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T22:09:14Z","updated_at":"2018-08-02T22:09:14Z","author_association":"MEMBER","body":"Sequence example:\r\n```\r\nwsk activation get c72d47294fa24503ad47294fa29503ec\r\nok: got activation c72d47294fa24503ad47294fa29503ec\r\n{\r\n    \"namespace\": \"user\",\r\n    \"name\": \"seq\",\r\n    \"version\": \"0.0.1\",\r\n    \"subject\": \"user\",\r\n    \"activationId\": \"c72d47294fa24503ad47294fa29503ec\",\r\n    \"start\": 1533242924525,\r\n    \"end\": 1533242924660,\r\n    \"duration\": 86,\r\n    \"response\": {\r\n        \"status\": \"success\",\r\n        \"statusCode\": 0,\r\n        \"success\": true,\r\n        \"result\": {\r\n            \"result key\": \"result value\"\r\n        }\r\n    },\r\n    \"logs\": [],\r\n    \"annotations\": [\r\n        {\r\n            \"key\": \"topmost\",\r\n            \"value\": true\r\n        },\r\n        {\r\n            \"key\": \"path\",\r\n            \"value\": \"user/seq\"\r\n        },\r\n        {\r\n            \"key\": \"components\",\r\n            \"value\": [\r\n                \"c5752641d3884bccb52641d3883bcc72\",\r\n                \"5ea96d0bc38d4d3ca96d0bc38ddd3c0b\"\r\n            ]\r\n        },\r\n        {\r\n            \"key\": \"kind\",\r\n            \"value\": \"sequence\"\r\n        },\r\n        {\r\n            \"key\": \"limits\",\r\n            \"value\": {\r\n                \"logs\": 10,\r\n                \"memory\": 256,\r\n                \"timeout\": 60000\r\n            }\r\n        }\r\n    ],\r\n    \"publish\": false\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410083483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410083727","html_url":"https://github.com/apache/openwhisk/issues/3940#issuecomment-410083727","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3940","id":410083727,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA4MzcyNw==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T22:10:12Z","updated_at":"2018-08-02T22:10:12Z","author_association":"MEMBER","body":"Trigger example:\r\n```\r\nwsk activation get bc086498f55f45fb886498f55f45fb41\r\nok: got activation bc086498f55f45fb886498f55f45fb41\r\n{\r\n    \"namespace\": \"user\",\r\n    \"name\": \"t\",\r\n    \"version\": \"0.0.1\",\r\n    \"subject\": \"user\",\r\n    \"activationId\": \"bc086498f55f45fb886498f55f45fb41\",\r\n    \"start\": 1533247772349,\r\n    \"end\": 0,\r\n    \"duration\": 0,\r\n    \"response\": {\r\n        \"status\": \"success\",\r\n        \"statusCode\": 0,\r\n        \"success\": true,\r\n        \"result\": {}\r\n    },\r\n    \"logs\": [],\r\n    \"annotations\": [\r\n        {\r\n            \"key\": \"components\",\r\n            \"value\": [\r\n                \"{\\\"statusCode\\\":0,\\\"success\\\":true,\\\"activationId\\\":\\\"a324c92b20e84fb4a4c92b20e8efb462\\\",\\\"rule\\\":\\\"user/r\\\",\\\"action\\\":\\\"user/action\\\"}\"\r\n            ]\r\n        }\r\n    ],\r\n    \"publish\": false\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410083727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410084351","html_url":"https://github.com/apache/openwhisk/issues/3940#issuecomment-410084351","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3940","id":410084351,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA4NDM1MQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T22:13:07Z","updated_at":"2018-08-02T22:13:07Z","author_association":"MEMBER","body":"Using annotation field works. Can you take this to the dev list? This will affect clients. \r\n\r\nAlso since the value of an annotation is json you don’t need to stringfiy and escape the string. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410084351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410097530","html_url":"https://github.com/apache/openwhisk/issues/3940#issuecomment-410097530","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3940","id":410097530,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDA5NzUzMA==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T23:20:30Z","updated_at":"2018-08-02T23:20:30Z","author_association":"MEMBER","body":"Updated trigger example:\r\n```\r\nwsk activation get 44b6e15680144d1fb6e15680149d1fc0\r\nok: got activation 44b6e15680144d1fb6e15680149d1fc0\r\n{\r\n    \"namespace\": \"user\",\r\n    \"name\": \"t1\",\r\n    \"version\": \"0.0.1\",\r\n    \"subject\": \"user\",\r\n    \"activationId\": \"44b6e15680144d1fb6e15680149d1fc0\",\r\n    \"start\": 1533251725506,\r\n    \"end\": 0,\r\n    \"duration\": 0,\r\n    \"response\": {\r\n        \"status\": \"success\",\r\n        \"statusCode\": 0,\r\n        \"success\": true,\r\n        \"result\": {}\r\n    },\r\n    \"logs\": [],\r\n    \"annotations\": [\r\n        {\r\n            \"key\": \"components\",\r\n            \"value\": [\r\n                {\r\n                    \"action\": \"user/logs\",\r\n                    \"activationId\": \"aedb4023bcaa42c19b4023bcaa82c1bd\",\r\n                    \"rule\": \"user/r1\",\r\n                    \"statusCode\": 0,\r\n                    \"success\": true\r\n                },\r\n                {\r\n                    \"action\": \"user/logs2\",\r\n                    \"error\": \"Rule 'user/r2' is inactive, action 'user/logs2' was not activated.\",\r\n                    \"rule\": \"user/r2\",\r\n                    \"statusCode\": 1,\r\n                    \"success\": false\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    \"publish\": false\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410097530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410177785","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410177785","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410177785,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDE3Nzc4NQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T08:03:24Z","updated_at":"2018-08-03T08:03:24Z","author_association":"CONTRIBUTOR","body":"Getting back to this, @sven-lange-last added some log-lines to edge-cases and it became apparent that this actually **is** causing issues, at least with consumer lag reporting. It's plausible that it could cause other unwanted side-effects. Will run this PR through a couple of latency/throughput tests to verify it doesn't regress.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410177785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410195247","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410195247","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410195247,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDE5NTI0Nw==","user":{"login":"sven-lange-last","id":17647888,"node_id":"MDQ6VXNlcjE3NjQ3ODg4","avatar_url":"https://avatars.githubusercontent.com/u/17647888?v=4","gravatar_id":"","url":"https://api.github.com/users/sven-lange-last","html_url":"https://github.com/sven-lange-last","followers_url":"https://api.github.com/users/sven-lange-last/followers","following_url":"https://api.github.com/users/sven-lange-last/following{/other_user}","gists_url":"https://api.github.com/users/sven-lange-last/gists{/gist_id}","starred_url":"https://api.github.com/users/sven-lange-last/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sven-lange-last/subscriptions","organizations_url":"https://api.github.com/users/sven-lange-last/orgs","repos_url":"https://api.github.com/users/sven-lange-last/repos","events_url":"https://api.github.com/users/sven-lange-last/events{/privacy}","received_events_url":"https://api.github.com/users/sven-lange-last/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T09:13:14Z","updated_at":"2018-08-03T09:13:14Z","author_association":"MEMBER","body":"These log entries show that concurrent usage of the Kafka consumer is causing problems - up to the point that Kafka consumer re-recreation failed in the past (before #3922).\r\n\r\n```\r\n# tail -20 /tmp/invoker-log.txt\r\n [2018-08-03T07:57:01.882Z] [INFO] [#tid_sid_invokerNanny] [DockerClientWithFileAccess] running /usr/bin/docker unpause 6698ecf7d8304d66a18f0077223c7e037901ed9d02ac9a6efae93e339ceed172 (timeout: 10 seconds)\r\n [2018-08-03T07:57:01.912Z] [INFO] [#tid_sid_invokerNanny] [DockerClientWithFileAccess] running /usr/bin/docker rm -f 6698ecf7d8304d66a18f0077223c7e037901ed9d02ac9a6efae93e339ceed172 (timeout: 1 minute)\r\n [2018-08-03T07:57:17.630Z] [INFO] [#tid_sid_unknown] [KafkaConsumerConnector] lag metric reporting failed for topic 'invoker0': java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n 2018-08-03T07:57:20.253+0000: 15030.119: [GC (Allocation Failure) [PSYoungGen: 27200K->160K(27648K)] 56080K->29056K(100352K), 0.0035975 secs] [Times: user=0.01 sys=0.00, real=0.00 secs]\r\n 2018-08-03T07:57:48.659+0000: 15058.526: [GC (Allocation Failure) [PSYoungGen: 27296K->96K(29184K)] 56192K->28992K(101888K), 0.0041650 secs] [Times: user=0.00 sys=0.00, real=0.01 secs]\r\n 2018-08-03T07:58:17.253+0000: 15087.119: [GC (Allocation Failure) [PSYoungGen: 27232K->96K(27648K)] 56128K->29000K(100352K), 0.0042057 secs] [Times: user=0.01 sys=0.00, real=0.00 secs]\r\n [2018-08-03T07:58:17.650Z] [INFO] [#tid_sid_unknown] [KafkaConsumerConnector] lag metric reporting failed for topic 'invoker0': java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n 2018-08-03T07:58:45.996+0000: 15115.863: [GC (Allocation Failure) [PSYoungGen: 27232K->64K(29184K)] 56136K->28968K(101888K), 0.0032574 secs] [Times: user=0.01 sys=0.00, real=0.00 secs]\r\n [2018-08-03T07:59:03.161Z] [INFO] [#tid_sid_unknown] [InvokerReactive] updated blacklist to 0 entries\r\n 2018-08-03T07:59:13.253+0000: 15143.120: [GC (Allocation Failure) [PSYoungGen: 27200K->360K(27648K)] 56104K->29280K(100352K), 0.0032846 secs] [Times: user=0.00 sys=0.00, real=0.00 secs]\r\n [2018-08-03T07:59:17.670Z] [INFO] [#tid_sid_unknown] [KafkaConsumerConnector] lag metric reporting failed for topic 'invoker0': java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n 2018-08-03T07:59:41.755+0000: 15171.621: [GC (Allocation Failure) [PSYoungGen: 27496K->96K(28672K)] 56416K->29016K(101376K), 0.0036743 secs] [Times: user=0.00 sys=0.00, real=0.00 secs]\r\n 2018-08-03T08:00:10.253+0000: 15200.119: [GC (Allocation Failure) [PSYoungGen: 27232K->96K(27648K)] 56152K->29024K(100352K), 0.0075139 secs] [Times: user=0.00 sys=0.00, real=0.01 secs]\r\n [2018-08-03T08:00:17.689Z] [INFO] [#tid_sid_unknown] [KafkaConsumerConnector] lag metric reporting failed for topic 'invoker0': java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n 2018-08-03T08:00:38.001+0000: 15227.867: [GC (Allocation Failure) [PSYoungGen: 27232K->96K(28672K)] 56160K->29024K(101376K), 0.0040564 secs] [Times: user=0.00 sys=0.00, real=0.00 secs]\r\n 2018-08-03T08:01:06.506+0000: 15256.372: [GC (Allocation Failure) [PSYoungGen: 27232K->96K(27648K)] 56160K->29040K(100352K), 0.0037148 secs] [Times: user=0.00 sys=0.00, real=0.00 secs]\r\n [2018-08-03T08:01:17.709Z] [INFO] [#tid_sid_unknown] [KafkaConsumerConnector] lag metric reporting failed for topic 'invoker0': java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n 2018-08-03T08:01:35.253+0000: 15285.120: [GC (Allocation Failure) [PSYoungGen: 27232K->96K(28672K)] 56176K->29056K(101376K), 0.0031375 secs] [Times: user=0.00 sys=0.00, real=0.00 secs]\r\n 2018-08-03T08:02:03.631+0000: 15313.498: [GC (Allocation Failure) [PSYoungGen: 27232K->64K(27648K)] 56192K->29024K(100352K), 0.0033097 secs] [Times: user=0.00 sys=0.00, real=0.01 secs]\r\n [2018-08-03T08:02:17.729Z] [INFO] [#tid_sid_unknown] [KafkaConsumerConnector] lag metric reporting failed for topic 'invoker0': java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n```\r\n\r\n```\r\n# grep “lag metric reporting failed for topic” /tmp/invoker-log.txt | grep “java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access” | wc -l\r\n251\r\n```\r\n\r\n```\r\n [2018-08-03T06:15:15.792Z] [ERROR] [#tid_sid_unknown] [KafkaConsumerConnector] poll returned with failure. Recreating the consumer. Exception: java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n [2018-08-03T06:15:15.792Z] [ERROR] [#tid_sid_unknown] [KafkaConsumerConnector] failed to close old consumer while recreating: java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n [2018-08-03T06:15:15.848Z] [ERROR] [#tid_sid_dispatcher] [MessageFeed] exception while pulling new activation records: java.util.ConcurrentModificationException: KafkaConsumer is not safe for multi-threaded access\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410195247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410197350","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410197350","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410197350,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDE5NzM1MA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T09:21:36Z","updated_at":"2018-08-03T09:21:36Z","author_association":"MEMBER","body":"great find with the kafka consumer concurrency - is this all coming from the monitoring thread? \r\n\r\nSynchronizing the consumer is one approach, fixing the monitoring is another (should it use the feed for example or a stream)?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410197350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410204100","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410204100","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410204100,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDIwNDEwMA==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T09:48:03Z","updated_at":"2018-08-03T09:48:03Z","author_association":"CONTRIBUTOR","body":"@rabbah Yes this is coming from the monitor \"thread\". An alternative for intra-connector synchronization is indeed moving the monitoring bits to the MessageFeed and trigger the monitoring cadence from there.\r\n\r\nI'm slightly preferring the way of making the consumer synchronized for now since the change is more straightforward and per @sven-lange-last's finding shouldn't impact performance at all, since there never was concurrency in place at all.\r\n\r\nAlso, the way the MessageFeed is built currently, we'd get quite complex in terms of state-transitions, because (like the ContainerProxy), we'll need interim states like \"Pulling\", \"Monitoring\" etc. where the respective calls are mutually excluded etc etc. This seems a lot safer to me, WDYT?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410204100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410204826","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410204826","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410204826,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDIwNDgyNg==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T09:51:03Z","updated_at":"2018-08-03T09:51:03Z","author_association":"MEMBER","body":"If there’s no perf impact, simpler is better. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410204826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410206321","html_url":"https://github.com/apache/openwhisk/pull/3878#issuecomment-410206321","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3878","id":410206321,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDIwNjMyMQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T09:57:18Z","updated_at":"2018-08-03T09:57:18Z","author_association":"CONTRIBUTOR","body":"PG approved this now, having trouble to push travis through though :/","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410206321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410208766","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410208766","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410208766,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDIwODc2Ng==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T10:06:56Z","updated_at":"2018-08-03T10:06:56Z","author_association":"MEMBER","body":"If I see the code path within `consumer.endOffsets` API call then I do not see any non threadsafe usage. It uses `Fetcher` which internally uses [ConsumerNetworkClient][1] which is marked as thread safe. And it does not uses current consumer state in any place.\r\n\r\nOne issue with current code is that `offset` is accessed in unsafe manner and which can end up in wrong metric reporting. \r\n\r\nBut as the `consumer` is non thread safe we should address that. However it may not fix the root cause\r\n\r\n[1]: https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/ConsumerNetworkClient.java#L53","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410208766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410213275","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410213275","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410213275,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDIxMzI3NQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T10:28:11Z","updated_at":"2018-08-03T10:28:11Z","author_association":"CONTRIBUTOR","body":"@chetanmeh I feel like the logs posted by @sven-lange-last proof that the KafkaConsumer does indeed have an issue when calling `endOffsets` with `poll`,`commit` or `close`.\r\n\r\nI don't think the access to `offsets` is unsafe, because it's only a reading access. Writing is synchronized via the MessageFeed which should only ever call poll once.\r\n\r\n> But as the consumer is non thread safe we should address that. However it may not fix the root cause\r\n\r\nCan you clarify this? Which root-cause do you refer to?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410213275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410218275","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410218275","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410218275,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDIxODI3NQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T10:52:58Z","updated_at":"2018-08-03T10:52:58Z","author_association":"MEMBER","body":"Sorry for the confusion. I was reading [0.11.0.1][1] code (yet not latest master) and that does not had locks but latest [2.0.0][2] code does have locks. \r\n\r\nSo  synchronized should fix that issue \r\n\r\n[1]: https://github.com/apache/kafka/blob/c2a0d5f9b1f45bf59552b360fc2b39884357a698/clients/src/main/java/org/apache/kafka/clients/consumer/KafkaConsumer.java#L1534\r\n[2]: https://github.com/apache/kafka/blob/afe00effe2d79e89e159972cf1f5f7ffeb0c6e97/clients/src/main/java/org/apache/kafka/clients/consumer/KafkaConsumer.java#L2040","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410218275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410234381","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410234381","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410234381,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDIzNDM4MQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T12:09:36Z","updated_at":"2018-08-03T12:09:36Z","author_association":"CONTRIBUTOR","body":"Ran a bunch of Latency and Warm Performance tests (as checked in into this repository) and they all indicated the very same performance as before this change. Removing the \"blocked\" flag therefore.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410234381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410247979","html_url":"https://github.com/apache/openwhisk/pull/3789#issuecomment-410247979","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3789","id":410247979,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDI0Nzk3OQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T13:08:32Z","updated_at":"2018-08-03T13:08:32Z","author_association":"CONTRIBUTOR","body":"@Ahmed-elsayed-mahmoud any news on this one?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410247979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410263720","html_url":"https://github.com/apache/openwhisk/pull/3921#issuecomment-410263720","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3921","id":410263720,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDI2MzcyMA==","user":{"login":"sven-lange-last","id":17647888,"node_id":"MDQ6VXNlcjE3NjQ3ODg4","avatar_url":"https://avatars.githubusercontent.com/u/17647888?v=4","gravatar_id":"","url":"https://api.github.com/users/sven-lange-last","html_url":"https://github.com/sven-lange-last","followers_url":"https://api.github.com/users/sven-lange-last/followers","following_url":"https://api.github.com/users/sven-lange-last/following{/other_user}","gists_url":"https://api.github.com/users/sven-lange-last/gists{/gist_id}","starred_url":"https://api.github.com/users/sven-lange-last/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sven-lange-last/subscriptions","organizations_url":"https://api.github.com/users/sven-lange-last/orgs","repos_url":"https://api.github.com/users/sven-lange-last/repos","events_url":"https://api.github.com/users/sven-lange-last/events{/privacy}","received_events_url":"https://api.github.com/users/sven-lange-last/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T14:03:31Z","updated_at":"2018-08-03T14:03:31Z","author_association":"MEMBER","body":"@rabbah @chetanmeh are you ok with merging this PR or do you think changes are required?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410263720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410291695","html_url":"https://github.com/apache/openwhisk/pull/3878#issuecomment-410291695","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3878","id":410291695,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDI5MTY5NQ==","user":{"login":"bbrowning","id":56071,"node_id":"MDQ6VXNlcjU2MDcx","avatar_url":"https://avatars.githubusercontent.com/u/56071?v=4","gravatar_id":"","url":"https://api.github.com/users/bbrowning","html_url":"https://github.com/bbrowning","followers_url":"https://api.github.com/users/bbrowning/followers","following_url":"https://api.github.com/users/bbrowning/following{/other_user}","gists_url":"https://api.github.com/users/bbrowning/gists{/gist_id}","starred_url":"https://api.github.com/users/bbrowning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbrowning/subscriptions","organizations_url":"https://api.github.com/users/bbrowning/orgs","repos_url":"https://api.github.com/users/bbrowning/repos","events_url":"https://api.github.com/users/bbrowning/events{/privacy}","received_events_url":"https://api.github.com/users/bbrowning/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T15:36:29Z","updated_at":"2018-08-03T15:36:29Z","author_association":"CONTRIBUTOR","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410291695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410349503","html_url":"https://github.com/apache/openwhisk/pull/3941#issuecomment-410349503","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3941","id":410349503,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDM0OTUwMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T19:12:42Z","updated_at":"2018-09-05T04:05:50Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941?src=pr&el=h1) Report\n> Merging [#3941](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/4e9b2457538986be26b7a53c5db925a9e50f6f2f?src=pr&el=desc) will **decrease** coverage by `4.86%`.\n> The diff coverage is `91.3%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/graphs/tree.svg?width=650&token=l0YmsiSAso&height=150&src=pr)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3941      +/-   ##\n==========================================\n- Coverage   85.61%   80.75%   -4.87%     \n==========================================\n  Files         147      146       -1     \n  Lines        7107     7058      -49     \n  Branches      429      418      -11     \n==========================================\n- Hits         6085     5700     -385     \n- Misses       1022     1358     +336\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ain/scala/whisk/core/containerpool/Container.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udGFpbmVycG9vbC9Db250YWluZXIuc2NhbGE=) | `80.3% <100%> (ø)` | :arrow_up: |\n| [...cala/whisk/core/containerpool/ContainerProxy.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29yZS9pbnZva2VyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udGFpbmVycG9vbC9Db250YWluZXJQcm94eS5zY2FsYQ==) | `93.78% <100%> (-0.04%)` | :arrow_down: |\n| [...ain/scala/whisk/core/entity/ActivationResult.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L0FjdGl2YXRpb25SZXN1bHQuc2NhbGE=) | `96.92% <87.5%> (ø)` | :arrow_up: |\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...scala/whisk/core/containerpool/ContainerPool.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29yZS9pbnZva2VyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udGFpbmVycG9vbC9Db250YWluZXJQb29sLnNjYWxh) | `89.41% <0%> (-10.59%)` | :arrow_down: |\n| [...src/main/scala/whisk/core/entity/Attachments.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L0F0dGFjaG1lbnRzLnNjYWxh) | `83.33% <0%> (-5.56%)` | :arrow_down: |\n| ... and [32 more](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941?src=pr&el=footer). Last update [4e9b245...6b9f24b](https://codecov.io/gh/apache/incubator-openwhisk/pull/3941?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410349503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410478083","html_url":"https://github.com/apache/openwhisk/issues/3943#issuecomment-410478083","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3943","id":410478083,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDQ3ODA4Mw==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-04T21:15:52Z","updated_at":"2018-08-04T21:15:52Z","author_association":"MEMBER","body":"Looks like the backend returns a 200 response for the invalid package list call and a 403 for the invalid action list call.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410478083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410662436","html_url":"https://github.com/apache/openwhisk/pull/3725#issuecomment-410662436","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3725","id":410662436,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDY2MjQzNg==","user":{"login":"jthomas","id":2322,"node_id":"MDQ6VXNlcjIzMjI=","avatar_url":"https://avatars.githubusercontent.com/u/2322?v=4","gravatar_id":"","url":"https://api.github.com/users/jthomas","html_url":"https://github.com/jthomas","followers_url":"https://api.github.com/users/jthomas/followers","following_url":"https://api.github.com/users/jthomas/following{/other_user}","gists_url":"https://api.github.com/users/jthomas/gists{/gist_id}","starred_url":"https://api.github.com/users/jthomas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jthomas/subscriptions","organizations_url":"https://api.github.com/users/jthomas/orgs","repos_url":"https://api.github.com/users/jthomas/repos","events_url":"https://api.github.com/users/jthomas/events{/privacy}","received_events_url":"https://api.github.com/users/jthomas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T10:23:18Z","updated_at":"2018-08-06T10:23:18Z","author_association":"MEMBER","body":"Great to see this merged. 💯\r\n@remore Would you like to do an announcement blog post for the OpenWhisk Medium channel? ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410662436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410717499","html_url":"https://github.com/apache/openwhisk/issues/3943#issuecomment-410717499","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3943","id":410717499,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDcxNzQ5OQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T13:59:30Z","updated_at":"2018-08-06T13:59:30Z","author_association":"MEMBER","body":"the reason - for the sake of discussion - is that you can query any namespace for its list of public packages. the controller does not confirm the presence or absence of a namespace when listing packages since returning `[]` is also a valid response (the namespace has no shared packages).","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410717499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410718494","html_url":"https://github.com/apache/openwhisk/issues/3943#issuecomment-410718494","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3943","id":410718494,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDcxODQ5NA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T14:02:16Z","updated_at":"2018-08-06T14:02:16Z","author_association":"MEMBER","body":"furthermore, i'd say `wsk package get` rather than `wsk package list` should be scrutinized to have a response similar to `wsk action list` and it does.\r\n\r\n```\r\nwsk package get /whisk.syssstem/utils\r\n```\r\n\r\nand the controller will respond with 403 and \"The supplied authentication is not authorized to access 'whisk.syssstem/utils'.\".","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410718494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410719010","html_url":"https://github.com/apache/openwhisk/issues/33#issuecomment-410719010","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/33","id":410719010,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDcxOTAxMA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T14:04:00Z","updated_at":"2018-08-06T14:04:00Z","author_association":"MEMBER","body":"can you share more details to help you diagnose this problem?\r\nin particular if you're getting that error (assuming your deploying is configured correctly), it means you're using a key not authorized for the namespace.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410719010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410754258","html_url":"https://github.com/apache/openwhisk/pull/3286#issuecomment-410754258","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3286","id":410754258,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDc1NDI1OA==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T15:46:40Z","updated_at":"2018-08-06T15:46:40Z","author_association":"MEMBER","body":"PR #3945 supersedes this one","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410754258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410757753","html_url":"https://github.com/apache/openwhisk/pull/3946#issuecomment-410757753","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3946","id":410757753,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDc1Nzc1Mw==","user":{"login":"eweiter","id":19595703,"node_id":"MDQ6VXNlcjE5NTk1NzAz","avatar_url":"https://avatars.githubusercontent.com/u/19595703?v=4","gravatar_id":"","url":"https://api.github.com/users/eweiter","html_url":"https://github.com/eweiter","followers_url":"https://api.github.com/users/eweiter/followers","following_url":"https://api.github.com/users/eweiter/following{/other_user}","gists_url":"https://api.github.com/users/eweiter/gists{/gist_id}","starred_url":"https://api.github.com/users/eweiter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eweiter/subscriptions","organizations_url":"https://api.github.com/users/eweiter/orgs","repos_url":"https://api.github.com/users/eweiter/repos","events_url":"https://api.github.com/users/eweiter/events{/privacy}","received_events_url":"https://api.github.com/users/eweiter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T15:57:10Z","updated_at":"2018-08-06T15:57:10Z","author_association":"CONTRIBUTOR","body":"@csantanapr Please merge when you can. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410757753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410774415","html_url":"https://github.com/apache/openwhisk/pull/3946#issuecomment-410774415","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3946","id":410774415,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDc3NDQxNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T16:50:55Z","updated_at":"2018-08-06T16:50:55Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946?src=pr&el=h1) Report\n> Merging [#3946](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/23e926885afb75e6b8057ff191df6b175451a656?src=pr&el=desc) will **decrease** coverage by `4.6%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946/graphs/tree.svg?src=pr&token=l0YmsiSAso&width=650&height=150)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3946      +/-   ##\n==========================================\n- Coverage   85.44%   80.84%   -4.61%     \n==========================================\n  Files         146      146              \n  Lines        7058     7058              \n  Branches      423      423              \n==========================================\n- Hits         6031     5706     -325     \n- Misses       1027     1352     +325\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n| [...whisk/connector/kafka/KafkaProducerConnector.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2Nvbm5lY3Rvci9rYWZrYS9LYWZrYVByb2R1Y2VyQ29ubmVjdG9yLnNjYWxh) | `91.89% <0%> (+16.21%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946?src=pr&el=footer). Last update [23e9268...7d2e826](https://codecov.io/gh/apache/incubator-openwhisk/pull/3946?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410774415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410798821","html_url":"https://github.com/apache/openwhisk/issues/3737#issuecomment-410798821","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3737","id":410798821,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDc5ODgyMQ==","user":{"login":"mgencur","id":336823,"node_id":"MDQ6VXNlcjMzNjgyMw==","avatar_url":"https://avatars.githubusercontent.com/u/336823?v=4","gravatar_id":"","url":"https://api.github.com/users/mgencur","html_url":"https://github.com/mgencur","followers_url":"https://api.github.com/users/mgencur/followers","following_url":"https://api.github.com/users/mgencur/following{/other_user}","gists_url":"https://api.github.com/users/mgencur/gists{/gist_id}","starred_url":"https://api.github.com/users/mgencur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgencur/subscriptions","organizations_url":"https://api.github.com/users/mgencur/orgs","repos_url":"https://api.github.com/users/mgencur/repos","events_url":"https://api.github.com/users/mgencur/events{/privacy}","received_events_url":"https://api.github.com/users/mgencur/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T18:06:13Z","updated_at":"2018-08-06T18:06:13Z","author_association":"CONTRIBUTOR","body":"At this point I'd suggest the following changes to the test suite so as to achieve a better logical grouping of the tests:\r\n1) move tests from system.basic.WskRestBasicTests to respective test classes (in the same package) for Actions, Rules, Packages etc. because the single class is a mix of tests that should be in the specific classes\r\n2) move some tests from whisk.core.cli.test package to the system.basic package as they're using REST and are system-level tests anyway:\r\n    - WskRestBasicUsageTests - move tests to system.basic.{Action, Package, ...} except for two methods which are related to web actions, move these to whisk.core.cli.test.WskWebActionsTest\r\n    - pull test cases from WskActionSequenceTests and WskRestActionSequenceTests into a system.basic.WskSequenceTests, they're all using REST\r\n    - merge WskEntitlementTests and WskRestEntitlementTests into a single non-abstract class, and move this class to system.basic package\r\n      (it's been more than a year and there's still no other implementation than REST)\r\n    - move BaseApiGwTests, ApiGwRestBasicTests, ApiGwRestTests to a newly created package _system.api_\r\n    - since at this point the only remaining class in whisk.core.cli.test is WskWebActionTests, let's rename the package to _whisk.core.web_","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410798821/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410833464","html_url":"https://github.com/apache/openwhisk/issues/3737#issuecomment-410833464","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3737","id":410833464,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDgzMzQ2NA==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T19:56:24Z","updated_at":"2018-08-06T19:56:24Z","author_association":"MEMBER","body":"This is great! Thanks for tackling it. \r\n\r\nThe abstract classes exist to allow the CLI to reuse these test suites. Arguably the cli should use more unit test but there are very few of those today. \r\n\r\nNonetheless flattening the type hierarchy is still valid in some cases. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410833464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410834411","html_url":"https://github.com/apache/openwhisk/issues/3737#issuecomment-410834411","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3737","id":410834411,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDgzNDQxMQ==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T19:59:13Z","updated_at":"2018-08-06T19:59:13Z","author_association":"MEMBER","body":"For the sake of a more efficient review, id suggest either several prs or one pr with each commit refactoring one test suite. \r\n\r\nYou’ll need to be mindful of dependent changes that may be necessary in the cli repo. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410834411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410944548","html_url":"https://github.com/apache/openwhisk/pull/3949#issuecomment-410944548","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3949","id":410944548,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDk0NDU0OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T06:10:28Z","updated_at":"2018-08-07T06:10:28Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949?src=pr&el=h1) Report\n> Merging [#3949](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/23e926885afb75e6b8057ff191df6b175451a656?src=pr&el=desc) will **decrease** coverage by `4.67%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949/graphs/tree.svg?width=650&height=150&src=pr&token=l0YmsiSAso)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3949      +/-   ##\n==========================================\n- Coverage   85.44%   80.77%   -4.68%     \n==========================================\n  Files         146      146              \n  Lines        7058     7057       -1     \n  Branches      423      420       -3     \n==========================================\n- Hits         6031     5700     -331     \n- Misses       1027     1357     +330\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...a/src/main/scala/whisk/http/BasicHttpService.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2h0dHAvQmFzaWNIdHRwU2VydmljZS5zY2FsYQ==) | `93.44% <ø> (+1.5%)` | :arrow_up: |\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949?src=pr&el=footer). Last update [23e9268...e39bbd6](https://codecov.io/gh/apache/incubator-openwhisk/pull/3949?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410944548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410958811","html_url":"https://github.com/apache/openwhisk/pull/3924#issuecomment-410958811","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3924","id":410958811,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDk1ODgxMQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T07:17:54Z","updated_at":"2018-08-07T07:17:54Z","author_association":"CONTRIBUTOR","body":"Closing as wontfix for now. Bigger 🐟 ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410958811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410980593","html_url":"https://github.com/apache/openwhisk/pull/3945#issuecomment-410980593","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3945","id":410980593,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDk4MDU5Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T08:40:20Z","updated_at":"2018-08-15T07:37:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945?src=pr&el=h1) Report\n> Merging [#3945](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/7b5d8057ca9dcae9ae170318c39387a3fb684f67?src=pr&el=desc) will **decrease** coverage by `4.73%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/graphs/tree.svg?width=650&height=150&src=pr&token=l0YmsiSAso)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3945      +/-   ##\n==========================================\n- Coverage   85.44%   80.71%   -4.74%     \n==========================================\n  Files         146      146              \n  Lines        7057     7056       -1     \n  Branches      413      422       +9     \n==========================================\n- Hits         6030     5695     -335     \n- Misses       1027     1361     +334\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...src/main/scala/whisk/core/entity/WhiskAction.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L1doaXNrQWN0aW9uLnNjYWxh) | `86.09% <100%> (ø)` | :arrow_up: |\n| [.../scala/src/main/scala/whisk/core/entity/Exec.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L0V4ZWMuc2NhbGE=) | `81.69% <100%> (-2.72%)` | :arrow_down: |\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n| [...src/main/scala/whisk/core/entity/Attachments.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L0F0dGFjaG1lbnRzLnNjYWxh) | `88.88% <0%> (+5.55%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945?src=pr&el=footer). Last update [7b5d805...0982e1e](https://codecov.io/gh/apache/incubator-openwhisk/pull/3945?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/410980593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411022379","html_url":"https://github.com/apache/openwhisk/pull/3945#issuecomment-411022379","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3945","id":411022379,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTAyMjM3OQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T11:18:16Z","updated_at":"2018-08-07T11:18:16Z","author_association":"MEMBER","body":"This PR is ready for review. One aspect which is still to be addressed is should we raise the default `max-inline-size` (defaults 16 KB) to some higher value to offset any potential perf impact on small function.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411022379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411029337","html_url":"https://github.com/apache/openwhisk/pull/3942#issuecomment-411029337","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3942","id":411029337,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTAyOTMzNw==","user":{"login":"jeremiaswerner","id":17203227,"node_id":"MDQ6VXNlcjE3MjAzMjI3","avatar_url":"https://avatars.githubusercontent.com/u/17203227?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremiaswerner","html_url":"https://github.com/jeremiaswerner","followers_url":"https://api.github.com/users/jeremiaswerner/followers","following_url":"https://api.github.com/users/jeremiaswerner/following{/other_user}","gists_url":"https://api.github.com/users/jeremiaswerner/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremiaswerner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremiaswerner/subscriptions","organizations_url":"https://api.github.com/users/jeremiaswerner/orgs","repos_url":"https://api.github.com/users/jeremiaswerner/repos","events_url":"https://api.github.com/users/jeremiaswerner/events{/privacy}","received_events_url":"https://api.github.com/users/jeremiaswerner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T11:49:13Z","updated_at":"2018-08-07T11:49:13Z","author_association":"CONTRIBUTOR","body":"I've extended the PR to make all thresholds configurable via CLI invocation.\r\n\r\n```\r\n# API_KEY=<mykey> OPENWHISK_HOST=<myhost> USERS=\"10\" REQUESTS_PER_SEC=\"10\" MEAN_RESPONSE_TIME=\"500\" SWIFT_MEAN_RESPONSE_TIME=\"1000\" JAVA_MAX_ERRORS_ALLOWS=5 MAX_ERRORS_ALLOWED=\"1\" ./gradlew gatlingRun-LatencySimulation\r\n```\r\n\r\nResult looks like\r\n```\r\n================================================================================\r\n---- Global Information --------------------------------------------------------\r\n> request count                                        412 (OK=412    KO=0     )\r\n> min response time                                    174 (OK=174    KO=-     )\r\n> max response time                                    823 (OK=823    KO=-     )\r\n> mean response time                                   199 (OK=199    KO=-     )\r\n> std deviation                                         69 (OK=69     KO=-     )\r\n> response time 50th percentile                        180 (OK=180    KO=-     )\r\n> response time 75th percentile                        192 (OK=192    KO=-     )\r\n> response time 95th percentile                        302 (OK=302    KO=-     )\r\n> response time 99th percentile                        520 (OK=520    KO=-     )\r\n> mean requests/sec                                  4.964 (OK=4.964  KO=-     )\r\n---- Response Time Distribution ------------------------------------------------\r\n> t < 800 ms                                           411 (100%)\r\n> 800 ms < t < 1200 ms                                   1 (  0%)\r\n> t > 1200 ms                                            0 (  0%)\r\n> failed                                                 0 (  0%)\r\n================================================================================\r\n\r\nReports generated in 0s.\r\nPlease open the following file: /Users/jerewern/repos/bluewhisk/open/tests/performance/gatling_tests/build/reports/gatling/latencysimulation-1533642179855/index.html\r\nWarm nodejs:default invocation: mean of response time is less than or equal to 500.0 : true\r\nWarm nodejs:default invocation: mean of response time is less than 500.0 : true\r\nWarm nodejs:default invocation: count of failed requests is less than or equal to 1.0 : true\r\nWarm nodejs:default invocation: percentage of failed requests is less than or equal to 0.1 : true\r\nWarm python:default invocation: mean of response time is less than or equal to 500.0 : true\r\nWarm python:default invocation: mean of response time is less than 500.0 : true\r\nWarm python:default invocation: count of failed requests is less than or equal to 1.0 : true\r\nWarm python:default invocation: percentage of failed requests is less than or equal to 0.1 : true\r\nWarm swift:default invocation: mean of response time is less than or equal to 1000.0 : true\r\nWarm swift:default invocation: mean of response time is less than 500.0 : true\r\nWarm swift:default invocation: count of failed requests is less than or equal to 1.0 : true\r\nWarm swift:default invocation: percentage of failed requests is less than or equal to 0.1 : true\r\nWarm java:default invocation: mean of response time is less than or equal to 500.0 : true\r\nWarm java:default invocation: mean of response time is less than 500.0 : true\r\nWarm java:default invocation: count of failed requests is less than or equal to 1.0 : true\r\nWarm java:default invocation: percentage of failed requests is less than or equal to 0.1 : true\r\n\r\nBUILD SUCCESSFUL in 1m 25s\r\n3 actionable tasks: 1 executed, 2 up-to-date\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411029337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411060730","html_url":"https://github.com/apache/openwhisk/pull/3772#issuecomment-411060730","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3772","id":411060730,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA2MDczMA==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T13:43:47Z","updated_at":"2018-08-07T13:43:47Z","author_association":"MEMBER","body":"@bbrowning and @bwmcadams are you ok with the bump of kubectl in the invoker image to 1.8.x?  If so, could you merge this PR?  ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411060730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411062291","html_url":"https://github.com/apache/openwhisk/pull/3772#issuecomment-411062291","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3772","id":411062291,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA2MjI5MQ==","user":{"login":"sven-lange-last","id":17647888,"node_id":"MDQ6VXNlcjE3NjQ3ODg4","avatar_url":"https://avatars.githubusercontent.com/u/17647888?v=4","gravatar_id":"","url":"https://api.github.com/users/sven-lange-last","html_url":"https://github.com/sven-lange-last","followers_url":"https://api.github.com/users/sven-lange-last/followers","following_url":"https://api.github.com/users/sven-lange-last/following{/other_user}","gists_url":"https://api.github.com/users/sven-lange-last/gists{/gist_id}","starred_url":"https://api.github.com/users/sven-lange-last/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sven-lange-last/subscriptions","organizations_url":"https://api.github.com/users/sven-lange-last/orgs","repos_url":"https://api.github.com/users/sven-lange-last/repos","events_url":"https://api.github.com/users/sven-lange-last/events{/privacy}","received_events_url":"https://api.github.com/users/sven-lange-last/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T13:48:27Z","updated_at":"2018-08-07T13:48:27Z","author_association":"MEMBER","body":"@dgrove-oss which Kube version are we targetting with the invoker image? IBM Cloud Kubernetes service is on Kube 1.10 at the moment...","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411062291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411065689","html_url":"https://github.com/apache/openwhisk/pull/3772#issuecomment-411065689","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3772","id":411065689,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA2NTY4OQ==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T13:58:20Z","updated_at":"2018-08-07T13:58:20Z","author_association":"MEMBER","body":"the open deploy-kube project nominally supports Kube 1.8, 1.9, and 1.10.\r\n\r\nThe kubectl embedded in the invoker image is only used in a couple of code paths in the KubernetesContainerFactory.  We actually should get rid of it entirely, but it will take a little work in the KubernetesClient code used by the KubeContainerFactory.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411065689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411099989","html_url":"https://github.com/apache/openwhisk/pull/3942#issuecomment-411099989","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3942","id":411099989,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTA5OTk4OQ==","user":{"login":"jeremiaswerner","id":17203227,"node_id":"MDQ6VXNlcjE3MjAzMjI3","avatar_url":"https://avatars.githubusercontent.com/u/17203227?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremiaswerner","html_url":"https://github.com/jeremiaswerner","followers_url":"https://api.github.com/users/jeremiaswerner/followers","following_url":"https://api.github.com/users/jeremiaswerner/following{/other_user}","gists_url":"https://api.github.com/users/jeremiaswerner/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremiaswerner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremiaswerner/subscriptions","organizations_url":"https://api.github.com/users/jeremiaswerner/orgs","repos_url":"https://api.github.com/users/jeremiaswerner/repos","events_url":"https://api.github.com/users/jeremiaswerner/events{/privacy}","received_events_url":"https://api.github.com/users/jeremiaswerner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T15:34:32Z","updated_at":"2018-08-07T15:34:32Z","author_association":"CONTRIBUTOR","body":"@markusthoemmes thanks for the review. I've adopted the comments.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411099989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411161996","html_url":"https://github.com/apache/openwhisk/pull/3942#issuecomment-411161996","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3942","id":411161996,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTE2MTk5Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T18:49:21Z","updated_at":"2018-08-07T18:49:21Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942?src=pr&el=h1) Report\n> Merging [#3942](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/23e926885afb75e6b8057ff191df6b175451a656?src=pr&el=desc) will **decrease** coverage by `4.67%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942/graphs/tree.svg?height=150&width=650&token=l0YmsiSAso&src=pr)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #3942      +/-   ##\n==========================================\n- Coverage   85.44%   80.77%   -4.68%     \n==========================================\n  Files         146      146              \n  Lines        7058     7057       -1     \n  Branches      423      420       -3     \n==========================================\n- Hits         6031     5700     -331     \n- Misses       1027     1357     +330\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n| [...a/src/main/scala/whisk/http/BasicHttpService.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2h0dHAvQmFzaWNIdHRwU2VydmljZS5zY2FsYQ==) | `93.44% <0%> (+1.5%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942?src=pr&el=footer). Last update [23e9268...0c05e36](https://codecov.io/gh/apache/incubator-openwhisk/pull/3942?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411161996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411175837","html_url":"https://github.com/apache/openwhisk/pull/3798#issuecomment-411175837","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3798","id":411175837,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTE3NTgzNw==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T19:35:46Z","updated_at":"2018-08-07T19:35:46Z","author_association":"MEMBER","body":"PG2 3475 🔵 ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411175837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411175890","html_url":"https://github.com/apache/openwhisk/pull/3798#issuecomment-411175890","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3798","id":411175890,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTE3NTg5MA==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T19:35:57Z","updated_at":"2018-08-07T19:35:57Z","author_association":"MEMBER","body":"@markusthoemmes, anything else on this one?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411175890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411207687","html_url":"https://github.com/apache/openwhisk/issues/3947#issuecomment-411207687","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3947","id":411207687,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTIwNzY4Nw==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T21:24:45Z","updated_at":"2018-08-07T21:24:45Z","author_association":"MEMBER","body":"@dgrove-oss ?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411207687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411218441","html_url":"https://github.com/apache/openwhisk/issues/3947#issuecomment-411218441","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3947","id":411218441,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTIxODQ0MQ==","user":{"login":"dgrove-oss","id":5099100,"node_id":"MDQ6VXNlcjUwOTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/5099100?v=4","gravatar_id":"","url":"https://api.github.com/users/dgrove-oss","html_url":"https://github.com/dgrove-oss","followers_url":"https://api.github.com/users/dgrove-oss/followers","following_url":"https://api.github.com/users/dgrove-oss/following{/other_user}","gists_url":"https://api.github.com/users/dgrove-oss/gists{/gist_id}","starred_url":"https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgrove-oss/subscriptions","organizations_url":"https://api.github.com/users/dgrove-oss/orgs","repos_url":"https://api.github.com/users/dgrove-oss/repos","events_url":"https://api.github.com/users/dgrove-oss/events{/privacy}","received_events_url":"https://api.github.com/users/dgrove-oss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T22:06:01Z","updated_at":"2018-08-07T22:06:01Z","author_association":"MEMBER","body":"transient problem?  It seems to be working just fine for me now.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411218441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411235641","html_url":"https://github.com/apache/openwhisk/issues/3947#issuecomment-411235641","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3947","id":411235641,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTIzNTY0MQ==","user":{"login":"JiniousChoi","id":3206725,"node_id":"MDQ6VXNlcjMyMDY3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3206725?v=4","gravatar_id":"","url":"https://api.github.com/users/JiniousChoi","html_url":"https://github.com/JiniousChoi","followers_url":"https://api.github.com/users/JiniousChoi/followers","following_url":"https://api.github.com/users/JiniousChoi/following{/other_user}","gists_url":"https://api.github.com/users/JiniousChoi/gists{/gist_id}","starred_url":"https://api.github.com/users/JiniousChoi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiniousChoi/subscriptions","organizations_url":"https://api.github.com/users/JiniousChoi/orgs","repos_url":"https://api.github.com/users/JiniousChoi/repos","events_url":"https://api.github.com/users/JiniousChoi/events{/privacy}","received_events_url":"https://api.github.com/users/JiniousChoi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T23:33:59Z","updated_at":"2018-08-07T23:33:59Z","author_association":"NONE","body":"@dgrove-oss\r\nAlpine linux might have updated its docker image for this issue. I will check if the issue is resolved within 3 hours.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411235641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411248515","html_url":"https://github.com/apache/openwhisk/issues/3947#issuecomment-411248515","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3947","id":411248515,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTI0ODUxNQ==","user":{"login":"JiniousChoi","id":3206725,"node_id":"MDQ6VXNlcjMyMDY3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/3206725?v=4","gravatar_id":"","url":"https://api.github.com/users/JiniousChoi","html_url":"https://github.com/JiniousChoi","followers_url":"https://api.github.com/users/JiniousChoi/followers","following_url":"https://api.github.com/users/JiniousChoi/following{/other_user}","gists_url":"https://api.github.com/users/JiniousChoi/gists{/gist_id}","starred_url":"https://api.github.com/users/JiniousChoi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiniousChoi/subscriptions","organizations_url":"https://api.github.com/users/JiniousChoi/orgs","repos_url":"https://api.github.com/users/JiniousChoi/repos","events_url":"https://api.github.com/users/JiniousChoi/events{/privacy}","received_events_url":"https://api.github.com/users/JiniousChoi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T00:51:19Z","updated_at":"2018-08-08T00:51:19Z","author_association":"NONE","body":"Yeah, the issue is gone. Thanks","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411248515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411303320","html_url":"https://github.com/apache/openwhisk/pull/3772#issuecomment-411303320","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3772","id":411303320,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTMwMzMyMA==","user":{"login":"sven-lange-last","id":17647888,"node_id":"MDQ6VXNlcjE3NjQ3ODg4","avatar_url":"https://avatars.githubusercontent.com/u/17647888?v=4","gravatar_id":"","url":"https://api.github.com/users/sven-lange-last","html_url":"https://github.com/sven-lange-last","followers_url":"https://api.github.com/users/sven-lange-last/followers","following_url":"https://api.github.com/users/sven-lange-last/following{/other_user}","gists_url":"https://api.github.com/users/sven-lange-last/gists{/gist_id}","starred_url":"https://api.github.com/users/sven-lange-last/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sven-lange-last/subscriptions","organizations_url":"https://api.github.com/users/sven-lange-last/orgs","repos_url":"https://api.github.com/users/sven-lange-last/repos","events_url":"https://api.github.com/users/sven-lange-last/events{/privacy}","received_events_url":"https://api.github.com/users/sven-lange-last/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T06:43:32Z","updated_at":"2018-08-08T06:43:32Z","author_association":"MEMBER","body":"Ok, thanks. So `kubectl` version 1.8 is a reasonable choice.\r\n\r\nI'm also asking because `kubectl` 1.11 introduced an experimental `kubectl wait` command which is pretty helpful for scripting.\r\n\r\n```\r\nkubectl wait --help\r\nExperimental: Wait for one condition on one or many resources\r\n\r\nOptions:\r\n      --all-namespaces=false: If present, list the requested object(s) across all namespaces. Namespace in current\r\ncontext is ignored even if specified with --namespace.\r\n  -f, --filename=[]: identifying the resource.\r\n      --for='': The condition to wait on: [delete|condition=condition-name].\r\n  -o, --output='': Output format. One of:\r\njson|yaml|wide|name|custom-columns=...|custom-columns-file=...|go-template=...|go-template-file=...|jsonpath=...|jsonpath-file=...\r\nSee custom columns [http://kubernetes.io/docs/user-guide/kubectl-overview/#custom-columns], golang template\r\n[http://golang.org/pkg/text/template/#pkg-overview] and jsonpath template\r\n[http://kubernetes.io/docs/user-guide/jsonpath].\r\n  -R, --recursive=true: Process the directory used in -f, --filename recursively. Useful when you want to manage related\r\nmanifests organized within the same directory.\r\n  -l, --selector='': Selector (label query) to filter on, supports '=', '==', and '!='.(e.g. -l key1=value1,key2=value2)\r\n      --timeout=30s: The length of time to wait before giving up.  Zero means check once and don't wait, negative means\r\nwait for a week.\r\n\r\nUsage:\r\n  kubectl wait resource.group/name [--for=delete|--for condition=available] [options]\r\n\r\nUse \"kubectl options\" for a list of global command-line options (applies to all commands).\r\n```","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411303320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411330491","html_url":"https://github.com/apache/openwhisk/pull/3950#issuecomment-411330491","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3950","id":411330491,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTMzMDQ5MQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T08:34:18Z","updated_at":"2018-08-08T08:34:18Z","author_association":"CONTRIBUTOR","body":"@mgencur greate someone is looking into our testcoverage, very much appreciated 😊 . I should've created a single review, sorry for the notification spam.\r\n\r\nIn general: We should move as many tests to the \"API level\" tests (whisk.core...) as possible as you noted in the issue.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411330491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411348690","html_url":"https://github.com/apache/openwhisk/pull/3951#issuecomment-411348690","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3951","id":411348690,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTM0ODY5MA==","user":{"login":"mgencur","id":336823,"node_id":"MDQ6VXNlcjMzNjgyMw==","avatar_url":"https://avatars.githubusercontent.com/u/336823?v=4","gravatar_id":"","url":"https://api.github.com/users/mgencur","html_url":"https://github.com/mgencur","followers_url":"https://api.github.com/users/mgencur/followers","following_url":"https://api.github.com/users/mgencur/following{/other_user}","gists_url":"https://api.github.com/users/mgencur/gists{/gist_id}","starred_url":"https://api.github.com/users/mgencur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgencur/subscriptions","organizations_url":"https://api.github.com/users/mgencur/orgs","repos_url":"https://api.github.com/users/mgencur/repos","events_url":"https://api.github.com/users/mgencur/events{/privacy}","received_events_url":"https://api.github.com/users/mgencur/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T09:41:31Z","updated_at":"2018-08-08T09:41:31Z","author_association":"CONTRIBUTOR","body":"Hey @rabbah @markusthoemmes , what do you think now? I've fixed the description a little bit in separate commits.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411348690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411364636","html_url":"https://github.com/apache/openwhisk/pull/3886#issuecomment-411364636","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3886","id":411364636,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTM2NDYzNg==","user":{"login":"kpavel","id":1818183,"node_id":"MDQ6VXNlcjE4MTgxODM=","avatar_url":"https://avatars.githubusercontent.com/u/1818183?v=4","gravatar_id":"","url":"https://api.github.com/users/kpavel","html_url":"https://github.com/kpavel","followers_url":"https://api.github.com/users/kpavel/followers","following_url":"https://api.github.com/users/kpavel/following{/other_user}","gists_url":"https://api.github.com/users/kpavel/gists{/gist_id}","starred_url":"https://api.github.com/users/kpavel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpavel/subscriptions","organizations_url":"https://api.github.com/users/kpavel/orgs","repos_url":"https://api.github.com/users/kpavel/repos","events_url":"https://api.github.com/users/kpavel/events{/privacy}","received_events_url":"https://api.github.com/users/kpavel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T10:45:22Z","updated_at":"2018-08-08T10:46:46Z","author_association":"CONTRIBUTOR","body":"@markusthoemmes I think I've finished with requested changes. Can you please review it again?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411364636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411376673","html_url":"https://github.com/apache/openwhisk/pull/3671#issuecomment-411376673","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3671","id":411376673,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTM3NjY3Mw==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T11:40:09Z","updated_at":"2018-08-08T11:40:09Z","author_association":"MEMBER","body":"I think the point is, if we allow activationID generation in multiple components(nginx, controller), we cannot guarantee the activationID is unique(though the possibility of duplicate activationID is less.)\r\n\r\nTo use the same ID for `TransactionID` and `ActivationID`, it should be generated in nginx.\r\nBut also, ActivationID should be generated in controllers as a trigger is fired by controllers.\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411376673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411377191","html_url":"https://github.com/apache/openwhisk/pull/3671#issuecomment-411377191","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3671","id":411377191,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTM3NzE5MQ==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T11:42:38Z","updated_at":"2018-08-08T11:42:38Z","author_association":"MEMBER","body":"@rabbah \r\nRegarding exposure of ActivationID of webaction in response header, how about having a configuration to control it by OW operator?\r\nIn some cases, it would be worth to expose it though it could be a kind of small data breaches.\r\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411377191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411380282","html_url":"https://github.com/apache/openwhisk/pull/3671#issuecomment-411380282","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3671","id":411380282,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTM4MDI4Mg==","user":{"login":"rabbah","id":4959922,"node_id":"MDQ6VXNlcjQ5NTk5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4959922?v=4","gravatar_id":"","url":"https://api.github.com/users/rabbah","html_url":"https://github.com/rabbah","followers_url":"https://api.github.com/users/rabbah/followers","following_url":"https://api.github.com/users/rabbah/following{/other_user}","gists_url":"https://api.github.com/users/rabbah/gists{/gist_id}","starred_url":"https://api.github.com/users/rabbah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabbah/subscriptions","organizations_url":"https://api.github.com/users/rabbah/orgs","repos_url":"https://api.github.com/users/rabbah/repos","events_url":"https://api.github.com/users/rabbah/events{/privacy}","received_events_url":"https://api.github.com/users/rabbah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T11:57:12Z","updated_at":"2018-08-08T11:57:35Z","author_association":"MEMBER","body":"I think I've changed perspective on the activation id in the header response of web actions, after some further consideration (to agree with you, and that it's OK). I can explain in a longer comment later if necessary.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411380282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411408315","html_url":"https://github.com/apache/openwhisk/pull/3950#issuecomment-411408315","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3950","id":411408315,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTQwODMxNQ==","user":{"login":"mgencur","id":336823,"node_id":"MDQ6VXNlcjMzNjgyMw==","avatar_url":"https://avatars.githubusercontent.com/u/336823?v=4","gravatar_id":"","url":"https://api.github.com/users/mgencur","html_url":"https://github.com/mgencur","followers_url":"https://api.github.com/users/mgencur/followers","following_url":"https://api.github.com/users/mgencur/following{/other_user}","gists_url":"https://api.github.com/users/mgencur/gists{/gist_id}","starred_url":"https://api.github.com/users/mgencur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgencur/subscriptions","organizations_url":"https://api.github.com/users/mgencur/orgs","repos_url":"https://api.github.com/users/mgencur/repos","events_url":"https://api.github.com/users/mgencur/events{/privacy}","received_events_url":"https://api.github.com/users/mgencur/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T13:38:31Z","updated_at":"2018-08-08T13:38:31Z","author_association":"CONTRIBUTOR","body":"@markusthoemmes thanks for the quick review. I will address most of the concerns. But I'd like to know what you mean by \"API level\" tests and how they differ from the system-level tests from your POV. \r\nMy view is that most of the tests from whisk.core (API level as you say) need the whole system to be running. The tests there create and invoke actions like those in the system.basic package. So I don't see a different aside from different package naming.\r\nI'd be happy to move some tests from system.basic to whisk.core as long as their requirements for running components were different. Otherwise it would be nice to have most of the tests in a single package - system.basic, IMO. (actually, I suggested this change in https://github.com/apache/incubator-openwhisk/issues/3737). Having very similar tests in different places is confusing and makes it more difficult to run a subset of the test suite.\r\nWhat's your view?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411408315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411428155","html_url":"https://github.com/apache/openwhisk/pull/3950#issuecomment-411428155","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3950","id":411428155,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTQyODE1NQ==","user":{"login":"markusthoemmes","id":1289147,"node_id":"MDQ6VXNlcjEyODkxNDc=","avatar_url":"https://avatars.githubusercontent.com/u/1289147?v=4","gravatar_id":"","url":"https://api.github.com/users/markusthoemmes","html_url":"https://github.com/markusthoemmes","followers_url":"https://api.github.com/users/markusthoemmes/followers","following_url":"https://api.github.com/users/markusthoemmes/following{/other_user}","gists_url":"https://api.github.com/users/markusthoemmes/gists{/gist_id}","starred_url":"https://api.github.com/users/markusthoemmes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markusthoemmes/subscriptions","organizations_url":"https://api.github.com/users/markusthoemmes/orgs","repos_url":"https://api.github.com/users/markusthoemmes/repos","events_url":"https://api.github.com/users/markusthoemmes/events{/privacy}","received_events_url":"https://api.github.com/users/markusthoemmes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T14:35:03Z","updated_at":"2018-08-08T14:35:03Z","author_association":"CONTRIBUTOR","body":"@mgencur As far as I'm aware, the API level tests (ActionsApiTests.scala for example) are heavily stubbed out through `ControllerTestCommon`. For example, for the activations API you can just write a couple of activations to the database and then assert that the skip parameter works correctly. For the actions API, the loadbalancer is stubbed out and it's responses are controllable from the test.\r\n\r\nIt is true that we don't have many unit tests in the true sense but believe we should always test the least amount of components needed. Invoking multiple actions to be able to assert that activations can be skipped while listing only adds to the (already too long) duration of our tests for no apparent benefit.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411428155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411457977","html_url":"https://github.com/apache/openwhisk/pull/3798#issuecomment-411457977","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3798","id":411457977,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTQ1Nzk3Nw==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T15:57:33Z","updated_at":"2018-08-08T15:57:33Z","author_association":"MEMBER","body":"@chetanmeh, where do you think the UserContext case class should live?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411457977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411476656","html_url":"https://github.com/apache/openwhisk/pull/3906#issuecomment-411476656","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3906","id":411476656,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTQ3NjY1Ng==","user":{"login":"mdeuser","id":18535381,"node_id":"MDQ6VXNlcjE4NTM1Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/18535381?v=4","gravatar_id":"","url":"https://api.github.com/users/mdeuser","html_url":"https://github.com/mdeuser","followers_url":"https://api.github.com/users/mdeuser/followers","following_url":"https://api.github.com/users/mdeuser/following{/other_user}","gists_url":"https://api.github.com/users/mdeuser/gists{/gist_id}","starred_url":"https://api.github.com/users/mdeuser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdeuser/subscriptions","organizations_url":"https://api.github.com/users/mdeuser/orgs","repos_url":"https://api.github.com/users/mdeuser/repos","events_url":"https://api.github.com/users/mdeuser/events{/privacy}","received_events_url":"https://api.github.com/users/mdeuser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T16:54:38Z","updated_at":"2018-08-08T16:54:38Z","author_association":"CONTRIBUTOR","body":"@cbickel - i also believe the cloudant instances will not have the `_users` database defined.  i ran into this and had to manually create the `_users` database.  i suppose ansible could create that if it does not exist.\r\n\r\nhttps://stackoverflow.com/questions/18039704/cloudant-auth-lacks-users-database","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411476656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411488668","html_url":"https://github.com/apache/openwhisk/pull/3798#issuecomment-411488668","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3798","id":411488668,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTQ4ODY2OA==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T17:32:47Z","updated_at":"2018-08-08T17:32:47Z","author_association":"MEMBER","body":"Added UserContext in the third commit. The case class definition should probably be moved elsewhere though.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411488668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411498213","html_url":"https://github.com/apache/openwhisk/pull/3687#issuecomment-411498213","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3687","id":411498213,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTQ5ODIxMw==","user":{"login":"tysonnorris","id":1638396,"node_id":"MDQ6VXNlcjE2MzgzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/1638396?v=4","gravatar_id":"","url":"https://api.github.com/users/tysonnorris","html_url":"https://github.com/tysonnorris","followers_url":"https://api.github.com/users/tysonnorris/followers","following_url":"https://api.github.com/users/tysonnorris/following{/other_user}","gists_url":"https://api.github.com/users/tysonnorris/gists{/gist_id}","starred_url":"https://api.github.com/users/tysonnorris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tysonnorris/subscriptions","organizations_url":"https://api.github.com/users/tysonnorris/orgs","repos_url":"https://api.github.com/users/tysonnorris/repos","events_url":"https://api.github.com/users/tysonnorris/events{/privacy}","received_events_url":"https://api.github.com/users/tysonnorris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T18:03:08Z","updated_at":"2018-08-08T18:03:08Z","author_association":"CONTRIBUTOR","body":"Closing this PR, and rolling these changes into #2795 (since these changes are required in any case, to make concurrency configs useful)","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411498213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411529587","html_url":"https://github.com/apache/openwhisk/pull/3954#issuecomment-411529587","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3954","id":411529587,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTUyOTU4Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T19:47:36Z","updated_at":"2018-08-08T19:47:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954?src=pr&el=h1) Report\n> Merging [#3954](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/b1a70b7219fb040d8116f278726e86efc7330071?src=pr&el=desc) will **decrease** coverage by `4.69%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954/graphs/tree.svg?src=pr&width=650&token=l0YmsiSAso&height=150)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##           master    #3954     +/-   ##\n=========================================\n- Coverage   85.46%   80.77%   -4.7%     \n=========================================\n  Files         146      146             \n  Lines        7057     7057             \n  Branches      420      420             \n=========================================\n- Hits         6031     5700    -331     \n- Misses       1026     1357    +331\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...core/database/cosmosdb/RxObservableImplicits.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvUnhPYnNlcnZhYmxlSW1wbGljaXRzLnNjYWxh) | `0% <0%> (-100%)` | :arrow_down: |\n| [...core/database/cosmosdb/CosmosDBArtifactStore.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlLnNjYWxh) | `0% <0%> (-95.1%)` | :arrow_down: |\n| [...sk/core/database/cosmosdb/CosmosDBViewMapper.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJWaWV3TWFwcGVyLnNjYWxh) | `0% <0%> (-92.6%)` | :arrow_down: |\n| [...whisk/core/database/cosmosdb/CosmosDBSupport.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJTdXBwb3J0LnNjYWxh) | `0% <0%> (-81.82%)` | :arrow_down: |\n| [...abase/cosmosdb/CosmosDBArtifactStoreProvider.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJBcnRpZmFjdFN0b3JlUHJvdmlkZXIuc2NhbGE=) | `0% <0%> (-58.83%)` | :arrow_down: |\n| [...la/whisk/core/database/cosmosdb/CosmosDBUtil.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvY29zbW9zZGIvQ29zbW9zREJVdGlsLnNjYWxh) | `92% <0%> (-4%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954?src=pr&el=footer). Last update [b1a70b7...e012412](https://codecov.io/gh/apache/incubator-openwhisk/pull/3954?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411529587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411554929","html_url":"https://github.com/apache/openwhisk/pull/3798#issuecomment-411554929","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3798","id":411554929,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTU1NDkyOQ==","user":{"login":"dubee","id":11520887,"node_id":"MDQ6VXNlcjExNTIwODg3","avatar_url":"https://avatars.githubusercontent.com/u/11520887?v=4","gravatar_id":"","url":"https://api.github.com/users/dubee","html_url":"https://github.com/dubee","followers_url":"https://api.github.com/users/dubee/followers","following_url":"https://api.github.com/users/dubee/following{/other_user}","gists_url":"https://api.github.com/users/dubee/gists{/gist_id}","starred_url":"https://api.github.com/users/dubee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dubee/subscriptions","organizations_url":"https://api.github.com/users/dubee/orgs","repos_url":"https://api.github.com/users/dubee/repos","events_url":"https://api.github.com/users/dubee/events{/privacy}","received_events_url":"https://api.github.com/users/dubee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T21:15:32Z","updated_at":"2018-08-08T21:15:32Z","author_association":"MEMBER","body":"PG4 2057 🔵 ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411554929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411656682","html_url":"https://github.com/apache/openwhisk/pull/3950#issuecomment-411656682","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3950","id":411656682,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTY1NjY4Mg==","user":{"login":"mgencur","id":336823,"node_id":"MDQ6VXNlcjMzNjgyMw==","avatar_url":"https://avatars.githubusercontent.com/u/336823?v=4","gravatar_id":"","url":"https://api.github.com/users/mgencur","html_url":"https://github.com/mgencur","followers_url":"https://api.github.com/users/mgencur/followers","following_url":"https://api.github.com/users/mgencur/following{/other_user}","gists_url":"https://api.github.com/users/mgencur/gists{/gist_id}","starred_url":"https://api.github.com/users/mgencur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgencur/subscriptions","organizations_url":"https://api.github.com/users/mgencur/orgs","repos_url":"https://api.github.com/users/mgencur/repos","events_url":"https://api.github.com/users/mgencur/events{/privacy}","received_events_url":"https://api.github.com/users/mgencur/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T06:55:57Z","updated_at":"2018-08-09T06:55:57Z","author_association":"CONTRIBUTOR","body":"@markusthoemmes thanks, I can see the API tests now. Will try to move some tests there.","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411656682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411667536","html_url":"https://github.com/apache/openwhisk/pull/3955#issuecomment-411667536","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3955","id":411667536,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTY2NzUzNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T07:42:14Z","updated_at":"2018-08-31T00:18:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955?src=pr&el=h1) Report\n> Merging [#3955](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-openwhisk/commit/fcd0e4b5bf4faf8a99f42868a898fa4e17616ec1?src=pr&el=desc) will **increase** coverage by `20.42%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/graphs/tree.svg?width=650&token=l0YmsiSAso&height=150&src=pr)](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #3955       +/-   ##\n===========================================\n+ Coverage   60.71%   81.14%   +20.42%     \n===========================================\n  Files         146      146               \n  Lines        7095     7095               \n  Branches      443      443               \n===========================================\n+ Hits         4308     5757     +1449     \n+ Misses       2787     1338     -1449\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [.../src/main/scala/whisk/core/entity/EntityPath.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L0VudGl0eVBhdGguc2NhbGE=) | `100% <0%> (+1.88%)` | :arrow_up: |\n| [...isk/core/controller/actions/PrimitiveActions.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29yZS9jb250cm9sbGVyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udHJvbGxlci9hY3Rpb25zL1ByaW1pdGl2ZUFjdGlvbnMuc2NhbGE=) | `89.62% <0%> (+2.22%)` | :arrow_up: |\n| [...a/src/main/scala/whisk/core/entity/Parameter.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L1BhcmFtZXRlci5zY2FsYQ==) | `95.34% <0%> (+2.32%)` | :arrow_up: |\n| [...hisk/core/controller/actions/SequenceActions.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29yZS9jb250cm9sbGVyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udHJvbGxlci9hY3Rpb25zL1NlcXVlbmNlQWN0aW9ucy5zY2FsYQ==) | `94.49% <0%> (+3.66%)` | :arrow_up: |\n| [...a/whisk/core/loadBalancer/InvokerSupervision.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29yZS9jb250cm9sbGVyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvbG9hZEJhbGFuY2VyL0ludm9rZXJTdXBlcnZpc2lvbi5zY2FsYQ==) | `95.58% <0%> (+3.67%)` | :arrow_up: |\n| [.../src/main/scala/whisk/core/connector/Message.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29ubmVjdG9yL01lc3NhZ2Uuc2NhbGE=) | `35.29% <0%> (+3.92%)` | :arrow_up: |\n| [...tainerpool/docker/DockerClientWithFileAccess.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29yZS9pbnZva2VyL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29udGFpbmVycG9vbC9kb2NrZXIvRG9ja2VyQ2xpZW50V2l0aEZpbGVBY2Nlc3Muc2NhbGE=) | `96% <0%> (+4%)` | :arrow_up: |\n| [...n/scala/whisk/core/connector/MessageConsumer.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvY29ubmVjdG9yL01lc3NhZ2VDb25zdW1lci5zY2FsYQ==) | `87.67% <0%> (+4.1%)` | :arrow_up: |\n| [...rc/main/scala/whisk/core/entity/ExecManifest.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZW50aXR5L0V4ZWNNYW5pZmVzdC5zY2FsYQ==) | `97.87% <0%> (+4.25%)` | :arrow_up: |\n| [.../scala/whisk/core/database/CouchDbRestClient.scala](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree#diff-Y29tbW9uL3NjYWxhL3NyYy9tYWluL3NjYWxhL3doaXNrL2NvcmUvZGF0YWJhc2UvQ291Y2hEYlJlc3RDbGllbnQuc2NhbGE=) | `87.23% <0%> (+4.25%)` | :arrow_up: |\n| ... and [80 more](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955?src=pr&el=footer). Last update [fcd0e4b...53d5007](https://codecov.io/gh/apache/incubator-openwhisk/pull/3955?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411667536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411672562","html_url":"https://github.com/apache/openwhisk/pull/3798#issuecomment-411672562","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/3798","id":411672562,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTY3MjU2Mg==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T08:01:59Z","updated_at":"2018-08-09T08:01:59Z","author_association":"MEMBER","body":"> where do you think the UserContext case class should live\r\n\r\nAdding it to `ActivationStore` looks fine","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411672562/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411676875","html_url":"https://github.com/apache/openwhisk/issues/2926#issuecomment-411676875","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2926","id":411676875,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTY3Njg3NQ==","user":{"login":"fmaschler","id":5763512,"node_id":"MDQ6VXNlcjU3NjM1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5763512?v=4","gravatar_id":"","url":"https://api.github.com/users/fmaschler","html_url":"https://github.com/fmaschler","followers_url":"https://api.github.com/users/fmaschler/followers","following_url":"https://api.github.com/users/fmaschler/following{/other_user}","gists_url":"https://api.github.com/users/fmaschler/gists{/gist_id}","starred_url":"https://api.github.com/users/fmaschler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmaschler/subscriptions","organizations_url":"https://api.github.com/users/fmaschler/orgs","repos_url":"https://api.github.com/users/fmaschler/repos","events_url":"https://api.github.com/users/fmaschler/events{/privacy}","received_events_url":"https://api.github.com/users/fmaschler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T08:18:52Z","updated_at":"2018-08-09T08:18:52Z","author_association":"NONE","body":"I came across this issue using the docker-compose quick-start. I guess it's deprecated with the new tool `wskadmin-next`? Since neither of the two works I provided the properties in `$OPENWHISK_PROJECT_HOME/whisk.properties` and got the following error:\r\n > Failed to get namespace key ({\"error\":\"not_found\",\"reason\":\"no_db_file\"})\r\n\r\nAny suggestions how to fix that?","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411676875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411678781","html_url":"https://github.com/apache/openwhisk/issues/2926#issuecomment-411678781","issue_url":"https://api.github.com/repos/apache/openwhisk/issues/2926","id":411678781,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTY3ODc4MQ==","user":{"login":"chetanmeh","id":664531,"node_id":"MDQ6VXNlcjY2NDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/664531?v=4","gravatar_id":"","url":"https://api.github.com/users/chetanmeh","html_url":"https://github.com/chetanmeh","followers_url":"https://api.github.com/users/chetanmeh/followers","following_url":"https://api.github.com/users/chetanmeh/following{/other_user}","gists_url":"https://api.github.com/users/chetanmeh/gists{/gist_id}","starred_url":"https://api.github.com/users/chetanmeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chetanmeh/subscriptions","organizations_url":"https://api.github.com/users/chetanmeh/orgs","repos_url":"https://api.github.com/users/chetanmeh/repos","events_url":"https://api.github.com/users/chetanmeh/events{/privacy}","received_events_url":"https://api.github.com/users/chetanmeh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T08:26:11Z","updated_at":"2018-08-09T08:26:11Z","author_association":"MEMBER","body":"`wskadmin-next` is not deprecated. You need to have required properties in `whisk.properties` file. Can you share output of `wskadmin -v user get guest`. That would provide more details. \r\n\r\nAlso as you have created a custom whisk.properties file can you provide that also. ","reactions":{"url":"https://api.github.com/repos/apache/openwhisk/issues/comments/411678781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]