[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509712708","html_url":"https://github.com/openzipkin/zipkin/issues/2655#issuecomment-509712708","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2655","id":509712708,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTcxMjcwOA==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-09T16:26:48Z","updated_at":"2019-07-09T16:26:48Z","author_association":"MEMBER","body":"If it is slowing down progress on things, I'd be for converting back to Java. I know I would have to spend some time learning before I would be able to touch the Kotlin code with confidence or debug when running into something unexpected. As suggested, perhaps a more isolated area is best for easing our way into more Kotlin familiarity.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509712708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509918975","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-509918975","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":509918975,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTkxODk3NQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T05:52:56Z","updated_at":"2019-07-10T05:52:56Z","author_association":"MEMBER","body":"Added service filter.\r\n\r\n![ServiceFilter](https://user-images.githubusercontent.com/19551419/60943897-544c1a80-a322-11e9-8cc4-197eba8a6152.gif)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509918975/reactions","total_count":4,"+1":0,"-1":0,"laugh":0,"hooray":4,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509953613","html_url":"https://github.com/openzipkin/zipkin/issues/2655#issuecomment-509953613","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2655","id":509953613,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTk1MzYxMw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T07:57:19Z","updated_at":"2019-07-10T07:57:19Z","author_association":"CONTRIBUTOR","body":"Thanks for the consideration - I'd be fine with the undo happening before or after my change, either way is fine. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509953613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509981954","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-509981954","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":509981954,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTk4MTk1NA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T09:16:41Z","updated_at":"2019-07-10T09:16:41Z","author_association":"CONTRIBUTOR","body":"V6 integration tests are working fine now, for some reason the armeria client can't connect to V7. The build passing is deceptive, since the V7 tests got skipped due to the connection failure will look more.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509981954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509984419","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-509984419","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":509984419,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTk4NDQxOQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T09:23:34Z","updated_at":"2019-07-10T09:23:34Z","author_association":"CONTRIBUTOR","body":"Ok V7 should be all good too","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/509984419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510262496","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-510262496","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":510262496,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDI2MjQ5Ng==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T23:02:40Z","updated_at":"2019-07-10T23:02:40Z","author_association":"MEMBER","body":"Added result table.\r\n\r\n![Table](https://user-images.githubusercontent.com/19551419/61010671-2ca49300-a3b2-11e9-8570-2d4c9ea49497.gif)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510262496/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510641936","html_url":"https://github.com/openzipkin/zipkin/issues/2645#issuecomment-510641936","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2645","id":510641936,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDY0MTkzNg==","user":{"login":"sijie","id":1217863,"node_id":"MDQ6VXNlcjEyMTc4NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1217863?v=4","gravatar_id":"","url":"https://api.github.com/users/sijie","html_url":"https://github.com/sijie","followers_url":"https://api.github.com/users/sijie/followers","following_url":"https://api.github.com/users/sijie/following{/other_user}","gists_url":"https://api.github.com/users/sijie/gists{/gist_id}","starred_url":"https://api.github.com/users/sijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sijie/subscriptions","organizations_url":"https://api.github.com/users/sijie/orgs","repos_url":"https://api.github.com/users/sijie/repos","events_url":"https://api.github.com/users/sijie/events{/privacy}","received_events_url":"https://api.github.com/users/sijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-11T20:28:59Z","updated_at":"2019-07-11T20:28:59Z","author_association":"NONE","body":"@codelipenghui if you are starting implementing Pulsar collector and reporter, you might consider leaving a comment in #2297 so other people know you are starting the work to avoid duplicated work.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510641936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510699454","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-510699454","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":510699454,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDY5OTQ1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-12T00:24:00Z","updated_at":"2019-07-12T00:24:00Z","author_association":"MEMBER","body":"build is green apart from being too long which made travis kill the job","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510699454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510701105","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-510701105","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":510701105,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDcwMTEwNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-12T00:34:28Z","updated_at":"2019-07-12T00:34:28Z","author_association":"MEMBER","body":"Thanks for all the work on this, Rag.\r\n\r\nI started ES 6.8 then ran zipkin off this branch like so:\r\n\r\n```bash\r\n$ curl -sSL https://jitpack.io/com/github/anuraaga/zipkin/zipkin-server/elasticsearch-armeria-SNAPSHOT/zipkin-server-elasticsearch-armeria-SNAPSHOT-exec.jar > zipkin.jar\r\n$ STORAGE_TYPE=elasticsearch ES_HTTP_LOGGING=BODY java -jar zipkin.jar\r\n```\r\n\r\nI then hit the health check endpoint like this:\r\n```bash\r\n$ curl -s localhost:9411/health\r\n```\r\n\r\nThe health check hasn't returned a value (hung). I looked at the server logs and see the requests made (though it isn't unrolling the gzipped response into the console which iirc the old code did)\r\n\r\n```\r\n2019-07-12 09:31:11.045  INFO 34688 --- [-worker-nio-2-5] c.l.a.c.l.LoggingClient                  : Request: {startTime=2019-07-12T00:31:11.035Z(1562891471035865), length=0B, duration=7805µs(7805101ns), scheme=none+h1c, headers=[:method=GET, :path=/_cluster/health/zipkin*span-*, :authority=localhost:9200, :scheme=http, accept-encoding=gzip,deflate, user-agent=armeria/0.88.0]}\r\n2019-07-12 09:31:11.071  INFO 34688 --- [-worker-nio-2-5] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-07-12T00:31:11.070Z(1562891471070979), length=234B, duration=372µs(372805ns), headers=[:status=200, content-type=application/json; charset=UTF-8, content-encoding=gzip, content-length=234]}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510701105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510774573","html_url":"https://github.com/openzipkin/zipkin/issues/2636#issuecomment-510774573","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2636","id":510774573,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDc3NDU3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-12T07:09:36Z","updated_at":"2019-07-12T07:09:36Z","author_association":"MEMBER","body":"another datapoint. pinpoint naver\r\n\r\nwe were told that the primary way people find traces at pinpoint is clicking on the service dependency graph and drawing a box around a part of a scatterplot. when you draw a box it affects the trace list display.\r\n\r\nlink based query #2117 was never merged as eventhough we got close, we didn't get to a place where we knew how we would select the limited amount of traces to attach to a link.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510774573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510774947","html_url":"https://github.com/openzipkin/zipkin/issues/2622#issuecomment-510774947","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2622","id":510774947,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDc3NDk0Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-12T07:10:49Z","updated_at":"2019-07-12T07:10:49Z","author_association":"MEMBER","body":"naver pinpoint also has this feature.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510774947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510775427","html_url":"https://github.com/openzipkin/zipkin/pull/2537#issuecomment-510775427","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2537","id":510775427,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDc3NTQyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-12T07:12:25Z","updated_at":"2019-07-12T07:12:25Z","author_association":"MEMBER","body":"naver pinpoint has an upstream and downstream depth control to their filter. for example, if you select a service you can show one link up and down by default, but you can change that to show 2 links down. I don't think their data model is precise enough to truly filter that the downstream were caused by the selected service though. I think it doesn't","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510775427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510814112","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-510814112","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":510814112,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDgxNDExMg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-12T09:12:44Z","updated_at":"2019-07-12T09:14:20Z","author_association":"CONTRIBUTOR","body":"Thanks - fixed the logging and found that zipkin-server itself had a somewhat severe bug since our Armeria migration. The health endpoint returned `HttpResponse` instead of `AggregatedHttpResponse` - this was causing it to run the service on the event loop, which is a big no-no since the health check is a blocking call. It means that users currently see poor latency for 1 / 2 * # of CPUs of requests during the processing of a health check.\r\n\r\nAnd the reason this caused the health request to hang is that the event loop was trying to aggregate the client response on itself, though since it is blocked, this never happens and causes it to deadlock.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510814112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510816285","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-510816285","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":510816285,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDgxNjI4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-12T09:19:40Z","updated_at":"2019-07-12T09:19:40Z","author_association":"MEMBER","body":"I am impressed with how quick you sorted this. thanks a lot! I will give a\nspin again tomorrow.\n\nOn Fri, Jul 12, 2019 at 6:12 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> Thanks - fixed the logging and found that zipkin-server itself had a\n> somewhat severe bug since our Armeria migration. The health endpoint\n> returned HttpResponse instead of AggregatedHttpResponse - this was\n> causing it to run the service on the event loop, which is a big no-no since\n> the health check is a blocking call. It means that users currently see poor\n> latency for 1 / 2 * # of CPUs of requests during the processing of a health\n> check.\n>\n> —\n> You are receiving this because your review was requested.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2653?email_source=notifications&email_token=AAAPVV7FTP5VL7BRV5CPCNLP7BDI5A5CNFSM4H6ZPMGKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODZZGPIA#issuecomment-510814112>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV6RVWGI3DY6IX5OZJTP7BDI5ANCNFSM4H6ZPMGA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510816285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510874433","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-510874433","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":510874433,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg3NDQzMw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-12T12:50:45Z","updated_at":"2019-07-12T12:51:40Z","author_association":"CONTRIBUTOR","body":"I find sometimes endpoint resolution takes a couple seconds on startup when recreating storage a lot - I think it's related to https://github.com/line/armeria/pull/1899 but I noticed there doesn't seem to be a real need to recreate it everytime since we clear the indexes before each test anyways. The integration tests go much faster now. I wonder if the same applied to ITCassandraStorage would also make that go faster. In any event, not closing the storage during integration tests seems like it can clog things up in general.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/510874433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511072834","html_url":"https://github.com/openzipkin/zipkin/issues/2574#issuecomment-511072834","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2574","id":511072834,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTA3MjgzNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T00:49:44Z","updated_at":"2019-07-13T00:49:44Z","author_association":"MEMBER","body":"zipkin.ui.basepath doesn't control redirects, it controls the links inside the UI. It is used when a proxy is in front of zipkin. https://github.com/openzipkin/zipkin/tree/master/zipkin-server#configuration-for-the-ui\r\n\r\nplease join gitter for questions https://gitter.im/openzipkin/zipkin","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511072834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511075308","html_url":"https://github.com/openzipkin/zipkin/pull/2657#issuecomment-511075308","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2657","id":511075308,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTA3NTMwOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T01:19:22Z","updated_at":"2019-07-13T01:19:22Z","author_association":"MEMBER","body":"WHAT IS THIS MAGIC? HOW CAN I MOVIE WITH MY KEYBOARD?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511075308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511075855","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511075855","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511075855,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTA3NTg1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T01:26:20Z","updated_at":"2019-07-13T01:26:20Z","author_association":"MEMBER","body":"On Fri, Jul 12, 2019 at 9:50 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> I find sometimes endpoint resolution takes a couple seconds on startup\n> when recreating storage a lot - I think it's related to line/armeria#1899\n> <https://github.com/line/armeria/pull/1899> but I noticed there doesn't\n> seem to be a real need to recreate it everytime since we clear the indexes\n> before each test anyways. The integration tests go much faster now. I\n> wonder if the same applied to ITCassandraStorage would also make that go\n> faster\n>\n\nThanks! yeah it could be the underlying concern with the cassandra tests\nalso. and we'd get double speedup if we improved them :P\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511075855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511080975","html_url":"https://github.com/openzipkin/zipkin/pull/2657#issuecomment-511080975","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2657","id":511080975,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTA4MDk3NQ==","user":{"login":"jcchavezs","id":3075074,"node_id":"MDQ6VXNlcjMwNzUwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3075074?v=4","gravatar_id":"","url":"https://api.github.com/users/jcchavezs","html_url":"https://github.com/jcchavezs","followers_url":"https://api.github.com/users/jcchavezs/followers","following_url":"https://api.github.com/users/jcchavezs/following{/other_user}","gists_url":"https://api.github.com/users/jcchavezs/gists{/gist_id}","starred_url":"https://api.github.com/users/jcchavezs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcchavezs/subscriptions","organizations_url":"https://api.github.com/users/jcchavezs/orgs","repos_url":"https://api.github.com/users/jcchavezs/repos","events_url":"https://api.github.com/users/jcchavezs/events{/privacy}","received_events_url":"https://api.github.com/users/jcchavezs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T02:41:08Z","updated_at":"2019-07-13T02:41:08Z","author_association":"CONTRIBUTOR","body":"This is great Igarashi, any way we can cover this with a test to avoid this\nto happen again?\n\nlør. 13. jul. 2019, 10:20 skrev Adrian Cole <notifications@github.com>:\n\n> *@adriancole* approved this pull request.\n>\n> lovely\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2657?email_source=notifications&email_token=AAXOYARAOIXOQ7OSPMS5VMDP7EUUFA5CNFSM4ICS5SGKYY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOB6LH2PI#pullrequestreview-261520701>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAXOYATRBZGHFG5QH5RXH63P7EUUFANCNFSM4ICS5SGA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511080975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511099422","html_url":"https://github.com/openzipkin/zipkin/pull/2659#issuecomment-511099422","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2659","id":511099422,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTA5OTQyMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T07:49:40Z","updated_at":"2019-07-13T07:49:40Z","author_association":"MEMBER","body":"any motivation for this, except keeping current?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511099422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511102655","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511102655","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511102655,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTEwMjY1NQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T08:34:39Z","updated_at":"2019-07-13T08:34:39Z","author_association":"CONTRIBUTOR","body":"Tried doing similar for Cassandra, but it seems to not be as well behaved - I think it deletes tables asychronously, meaning it can happen in the middle of a test, so those tests seem to depend on the per-test keyspace behavior, so the storage also has to be per-test.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511102655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511102726","html_url":"https://github.com/openzipkin/zipkin/pull/2659#issuecomment-511102726","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2659","id":511102726,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTEwMjcyNg==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T08:35:41Z","updated_at":"2019-07-13T08:35:41Z","author_association":"MEMBER","body":"Keeping current is main motivation.\r\nAnd avoiding to import unused polyfill modules and reducing the amount of code are my motivation too.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511102726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511103933","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511103933","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511103933,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTEwMzkzMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T08:52:03Z","updated_at":"2019-07-13T08:52:03Z","author_association":"MEMBER","body":"PS sorry I got pulled away as someone found a massive bug around local\nroots in brave https://github.com/openzipkin/brave/pull/945\n\nI'll check out your awesome work again after dinner!\n\nOn Sat, Jul 13, 2019 at 5:34 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> Tried doing similar for Cassandra, but it seems to not be as well behaved\n> - I think it deletes tables asychronously, meaning it can happen in the\n> middle of a test, so those tests seem to depend on the per-test keyspace\n> behavior, so the storage also has to be per-test.\n>\n> —\n> You are receiving this because your review was requested.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2653?email_source=notifications&email_token=AAAPVV54ME26B6EDMZPWCY3P7GHSDA5CNFSM4H6ZPMGKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODZ3M5PY#issuecomment-511102655>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV42EPOLGHZUJHQZSU3P7GHSDANCNFSM4H6ZPMGA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511103933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511105177","html_url":"https://github.com/openzipkin/zipkin/pull/2659#issuecomment-511105177","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2659","id":511105177,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTEwNTE3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T09:09:20Z","updated_at":"2019-07-13T09:09:20Z","author_association":"MEMBER","body":"messages like this from travis \r\n\r\n\r\n```\r\n\r\n[ERROR]     /home/travis/build/openzipkin/zipkin/zipkin-lens/src/components/MiniTimeline/MiniTimelineGraph.test.js: Unexpected token (23:6)\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511105177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511108487","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511108487","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511108487,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTEwODQ4Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T09:47:30Z","updated_at":"2019-07-13T09:47:30Z","author_association":"MEMBER","body":"We have a crappy toString which is not your fault, as it preceded this change.\r\n\r\n```bash\r\ncurl -s localhost:9411/health|jq .\r\n{\r\n  \"status\": \"UP\",\r\n  \"zipkin\": {\r\n    \"status\": \"UP\",\r\n    \"details\": {\r\n      \"ElasticsearchStorage{clientCustomizer=zipkin2.server.internal.elasticsearch.ZipkinElasticsearchStorageAutoConfiguration$$Lambda$318/0x0000000801468c40@19f040ba, clientFactoryCustomizer=zipkin2.server.internal.elasticsearch.ZipkinElasticsearchStorageAutoConfiguration$$Lambda$319/0x0000000801469040@72ab05ed, hostsSupplier=[http://localhost:9200], pipeline=null, flushOnWrites=false, maxRequests=64, strictTraceId=true, searchEnabled=true, autocompleteKeys=[], autocompleteTtl=3600000, autocompleteCardinality=20000, indexShards=5, indexReplicas=1, indexNameFormatter=IndexNameFormatter{index=zipkin, dateSeparator=-, dateFormat=zipkin2.elasticsearch.internal.IndexNameFormatter$Builder$1@27e32fe4}, namesLookback=86400000}\": {\r\n        \"status\": \"UP\"\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWe should probably override this with a couple key fields similarly to how we do in the zipkin reporter project ex.\r\n\r\n```java\r\n  @Override public final String toString() {\r\n    return \"KafkaSender{\"\r\n        + \"bootstrapServers=\" + properties.get(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG)\r\n        + \", topic=\" + topic\r\n        + \"}\";\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511108487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511110716","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511110716","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511110716,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExMDcxNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T10:21:10Z","updated_at":"2019-07-13T11:16:52Z","author_association":"MEMBER","body":"so I'm using wrk inside docker to toy around. https://github.com/openzipkin/docker-zipkin/pull/212\r\n\r\nwhat I do is..\r\n\r\n```bash\r\ndocker-compose -f docker-compose.yml -f docker-compose-elasticsearch.yml build --no-cache\r\ndocker-compose -f docker-compose.yml -f docker-compose-elasticsearch.yml up\r\n```\r\n\r\nThen, I run the frontend and backend apps of brave-webmvc-example (though any example would work).\r\n\r\nAnd I do `curl -s localhost:8081` against the frontend, which a bit later results in a report of span from each of them.\r\n```bash\r\nzipkin                      | 2019-07-13 10:14:11.348  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : <-- 200 OK http://elasticsearch:9200/_bulk (675ms, 259-byte body)\r\nzipkin                      | 2019-07-13 10:14:11.353  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : <-- 200 OK http://elasticsearch:9200/_bulk (669ms, 227-byte body)\r\n```\r\n\r\nThen, I escalate to using `wrk -t4 -c128 -d30s http://localhost:8081 --latency` and that would create a ton of spans.. there are timeouts every time.\r\n\r\n```bash\r\nzipkin                      | 2019-07-13 10:14:25.468  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:25.725  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:27.493  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:29.851  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:29.965  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:34.004  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:34.542  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:36.025  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:36.618  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : <-- HTTP FAILED: java.net.SocketTimeoutException: timeout\r\nzipkin                      | 2019-07-13 10:14:37.215  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:38.720  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:38.784  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : <-- HTTP FAILED: java.net.SocketTimeoutException: timeout\r\nzipkin                      | 2019-07-13 10:14:39.799  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-07-13 10:14:40.440  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 \r\n--snip--\r\n```\r\n\r\nI'm wondering if there's some issue related to bulk requests or possibly concurrent requests that's causing this.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511110716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511113729","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511113729","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511113729,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExMzcyOQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:14:08Z","updated_at":"2019-07-13T11:27:28Z","author_association":"CONTRIBUTOR","body":"Those logs don't look like the output of Armeria's request logs which look more like what you posted a couple days ago (notably logger name is `c.l.a.c.l.LoggingClient` - can you confirm you're using the branch version and not master with that test?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511113729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511113928","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511113928","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511113928,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExMzkyOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:17:49Z","updated_at":"2019-07-13T11:17:49Z","author_association":"MEMBER","body":"I added `--no-cache` to the docker-compose instructions just in case.. I will do it with the exact commit id if we think somehow jitpack is stale..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511113928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511114274","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511114274","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511114274,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNDI3NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:23:13Z","updated_at":"2019-07-13T11:23:13Z","author_association":"MEMBER","body":"sorry will check!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511114274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511114372","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511114372","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511114372,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNDM3Mg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:24:41Z","updated_at":"2019-07-13T11:25:22Z","author_association":"CONTRIBUTOR","body":"Thanks :) FWIW, ran a simple stress test via `ITElasticStorage` (hence log4j2.properties is different from normal server) on master and compared the logs look closer to those ones which must be OKHTTP logs\r\n\r\n```\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (3970ms, 249038-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (3977ms, 248851-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4031ms, 248631-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (3956ms, 248455-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4043ms, 248522-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4064ms, 249038-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4028ms, 249038-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4072ms, 249038-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4138ms, 249038-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4297ms, 248647-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4180ms, 248849-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4334ms, 248827-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4341ms, 248816-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: <-- 200 OK http://localhost:32800/_bulk?refresh=wait_for (4246ms, 248712-byte body)\r\nJul 13, 2019 8:21:42 PM okhttp3.internal.platform.Platform log\r\nINFO: --> POST http://localhost:32800/_bulk?refresh=wait_for (-1-byte body)\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511114372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511114520","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511114520","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511114520,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNDUyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:27:18Z","updated_at":"2019-07-13T11:27:18Z","author_association":"MEMBER","body":"the problem was that I looked at stats and 100% of the bulk requests failed. I'll lock in the commit and try again though.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511114520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511114681","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511114681","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511114681,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNDY4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:30:13Z","updated_at":"2019-07-13T11:30:13Z","author_association":"MEMBER","body":"ok I rebuilt using the commit tag\r\n\r\n```diff\r\n--- a/zipkin/Dockerfile\r\n+++ b/zipkin/Dockerfile\r\n@@ -16,7 +16,7 @@ FROM alpine\r\n \r\n ENV USER anuraaga\r\n ENV BRANCH elasticsearch-armeria\r\n-ENV VERSION SNAPSHOT\r\n+ENV VERSION 76263f9bd0-1\r\n \r\n # Add environment settings for supported storage types\r\n COPY zipkin/ /zipkin/\r\n\r\n```\r\n\r\nfrom here https://jitpack.io/com/github/anuraaga/zipkin/elasticsearch-armeria-76263f9bd0-1/build.log\r\n\r\nI'll do the test again now..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511114681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115058","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511115058","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511115058,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNTA1OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:36:11Z","updated_at":"2019-07-13T11:36:11Z","author_association":"MEMBER","body":"definitely I had an old version before.. maybe because I didn't do `--no-cache` at first, but anyway I will only test with commit IDs now to reduce distraction.\r\n\r\nI'm sure you are right by the way, they were okhttp logs!\r\n\r\nDefinitely the logs look different\r\n```\r\nzipkin                      | 2019-07-13 11:34:10.080  INFO 1 --- [orker-epoll-4-6] c.l.a.c.l.LoggingClient                  : Request: {startTime=2019-07-13T11:34:10.074Z(1563017650074736), length=3739KiB(3829669B), duration=5635?s(5635700ns), scheme=none+h1c, headers=[]}\r\nzipkin                      | 2019-07-13 11:34:10.313  INFO 1 --- [orker-epoll-4-7] c.l.a.c.l.LoggingClient                  : Request: {startTime=2019-07-13T11:34:10.311Z(1563017650311478), length=3397KiB(3479449B), duration=1783?s(1783500ns), scheme=none+h1c, headers=[]}\r\nzipkin                      | 2019-07-13 11:34:12.416  WARN 1 --- [orker-epoll-4-1] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-07-13T11:34:12.416Z(1563017652416394), length=0B, duration=0ns, cause=com.linecorp.armeria.client.ResponseTimeoutException, headers=[]}\r\nzipkin                      | \r\nzipkin                      | com.linecorp.armeria.client.ResponseTimeoutException: null\r\nzipkin                      | \r\nzipkin                      | 2019-07-13 11:34:13.197  WARN 1 --- [orker-epoll-4-8] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-07-13T11:34:13.197Z(1563017653197137), length=0B, duration=0ns, cause=com.linecorp.armeria.client.ResponseTimeoutException, headers=[]}\r\nzipkin                      | \r\nzipkin                      | com.linecorp.armeria.client.ResponseTimeoutException: null\r\nzipkin                      | \r\nzipkin                      | 2019-07-13 11:34:15.379  WARN 1 --- [orker-epoll-4-2] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-07-13T11:34:15.378Z(1563017655378782), length=0B, duration=0ns, cause=com.linecorp.armeria.client.ResponseTimeoutException, headers=[]}\r\nzipkin                      | \r\nzipkin                      | com.linecorp.armeria.client.ResponseTimeoutException: null\r\nzipkin                      | \r\nzipkin                      | 2019-07-13 11:34:17.530  WARN 1 --- [orker-epoll-4-3] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-07-13T11:34:17.530Z(1563017657530053), length=0B, duration=0ns, cause=com.linecorp.armeria.client.ResponseTimeoutException, headers=[]}\r\nzipkin                      | \r\nzipkin                      | com.linecorp.armeria.client.ResponseTimeoutException: null\r\nzipkin                      | \r\nzipkin                      | 2019-07-13 11:34:18.613  WARN 1 --- [orker-epoll-4-4] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-07-13T11:34:18.613Z(1563017658613401), length=0B, duration=0ns, cause=com.linecorp.armeria.client.ResponseTimeoutException, headers=[]}\r\nzipkin                      | \r\nzipkin                      | com.linecorp.armeria.client.ResponseTimeoutException: null\r\nzipkin                      | \r\nzipkin                      | 2019-07-13 11:34:18.815  WARN 1 --- [orker-epoll-4-5] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-07-13T11:34:18.815Z(1563017658815107), length=0B, duration=0ns, cause=com.linecorp.armeria.client.ResponseTimeoutException, headers=[]}\r\nzipkin                      | \r\nzipkin                      | com.linecorp.armeria.client.ResponseTimeoutException: null\r\nzipkin                      | \r\nzipkin                      | 2019-07-13 11:34:20.228  WARN 1 --- [orker-epoll-4-6] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-07-13T11:34:20.228Z(1563017660228235), length=0B, duration=0ns, cause=com.linecorp.armeria.client.ResponseTimeoutException, headers=[]}\r\nzipkin                      | \r\nzipkin                      | com.linecorp.armeria.client.ResponseTimeoutException: null\r\nzipkin                      | \r\nzipkin                      | 2019-07-13 11:34:20.304  WARN 1 --- [orker-epoll-4-7] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-07-13T11:34:20.304Z(1563017660304298), length=0B, duration=0ns, cause=com.linecorp.armeria.client.ResponseTimeoutException, headers=[]}\r\nzipkin                      | \r\nzipkin                      | com.linecorp.armeria.client.ResponseTimeoutException: null\r\nzipkin                      | \r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115140","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511115140","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511115140,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNTE0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:37:25Z","updated_at":"2019-07-13T11:37:25Z","author_association":"MEMBER","body":"so basically it is still dropping almost every span before and after I guess..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115165","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511115165","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511115165,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNTE2NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:37:46Z","updated_at":"2019-07-13T11:37:46Z","author_association":"MEMBER","body":"```bash\r\n$ curl -s localhost:9411/metrics|jq .\r\n{\r\n  \"counter.zipkin_collector.messages.http\": 46,\r\n  \"counter.zipkin_collector.spans_dropped.http\": 253822,\r\n  \"gauge.zipkin_collector.message_bytes.http\": 1857454,\r\n  \"counter.zipkin_collector.bytes.http\": 92070197,\r\n  \"gauge.zipkin_collector.message_spans.http\": 5877,\r\n  \"counter.zipkin_collector.spans.http\": 258104,\r\n  \"counter.zipkin_collector.messages_dropped.http\": 0\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115245","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511115245","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511115245,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNTI0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:39:15Z","updated_at":"2019-07-13T11:39:15Z","author_association":"MEMBER","body":"I'm running against last release to check also..","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115942","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511115942","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511115942,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNTk0Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:50:06Z","updated_at":"2019-07-13T11:50:06Z","author_association":"MEMBER","body":"to make docker not fall over, I needed to change the sender configuration to send less data at a time. This is before and after the change. I just got a clean run of before.. will do one of the after now.\r\n\r\n```diff\r\ndiff --git a/webmvc4/pom.xml b/webmvc4/pom.xml\r\nindex af9f420..79d2a2c 100755\r\n--- a/webmvc4/pom.xml\r\n+++ b/webmvc4/pom.xml\r\n@@ -18,7 +18,7 @@\r\n \r\n     <spring.version>4.3.24.RELEASE</spring.version>\r\n     <log4j.version>2.11.2</log4j.version>\r\n-    <brave.version>5.6.6</brave.version>\r\n+    <brave.version>5.6.7</brave.version>\r\n   </properties>\r\n \r\n   <dependencyManagement>\r\ndiff --git a/webmvc4/src/main/java/brave/webmvc/TracingConfiguration.java b/webmvc4/src/main/java/brave/webmvc/TracingConfiguration.java\r\nindex 095c043..38722b2 100644\r\n--- a/webmvc4/src/main/java/brave/webmvc/TracingConfiguration.java\r\n+++ b/webmvc4/src/main/java/brave/webmvc/TracingConfiguration.java\r\n@@ -20,6 +20,7 @@ import org.springframework.context.annotation.Import;\r\n import org.springframework.web.servlet.config.annotation.InterceptorRegistry;\r\n import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n import zipkin2.Span;\r\n+import zipkin2.codec.Encoding;\r\n import zipkin2.reporter.AsyncReporter;\r\n import zipkin2.reporter.Sender;\r\n import zipkin2.reporter.okhttp3.OkHttpSender;\r\n@@ -38,7 +39,10 @@ public class TracingConfiguration extends WebMvcConfigurerAdapter {\r\n \r\n   /** Configuration for how to send spans to Zipkin */\r\n   @Bean Sender sender() {\r\n-    return OkHttpSender.create(\"http://127.0.0.1:9411/api/v2/spans\");\r\n+    return OkHttpSender.newBuilder()\r\n+        .endpoint(\"http://127.0.0.1:9411/api/v2/spans\")\r\n+        .messageMaxBytes(4096)\r\n+        .encoding(Encoding.PROTO3).build();\r\n   }\r\n \r\n   /** Configuration for how to buffer spans into messages for Zipkin */\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511115942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511116245","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511116245","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511116245,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNjI0NQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T11:54:28Z","updated_at":"2019-07-13T11:54:28Z","author_association":"CONTRIBUTOR","body":"Tweaked `toString` to get this now\r\n```\r\n{\"status\":\"UP\",\"zipkin\":{\"status\":\"UP\",\"details\":{\"ElasticsearchStorage{clientCustomizer=[TimeoutCustomizer{timeout=10000ms}, LoggingCustomizer{httpLogging=BODY}], clientFactoryCustomizer=[TimeoutCustomizer{timeout=10000ms}], hostsSupplier=[http://localhost:9200], pipeline=null, flushOnWrites=false, maxRequests=64, strictTraceId=true, searchEnabled=true, autocompleteKeys=[], autocompleteTtl=3600000, autocompleteCardinality=20000, indexShards=5, indexReplicas=1, indexNameFormatter=IndexNameFormatter{index=zipkin, dateSeparator=-, dateFormat=yyyy-MM-dd}, namesLookback=86400000}\":{\"status\":\"UP\"}}}}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511116245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511116595","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511116595","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511116595,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNjU5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T12:00:00Z","updated_at":"2019-07-13T12:00:00Z","author_association":"MEMBER","body":"cool... I did a run with the prior commit, but metrics weren't reported at all for spans. Some unrelated glitch I'm sure..\r\n\r\n```bash\r\ncurl -s localhost:9411/metrics|jq .\r\n{\r\n  \"counter.zipkin_collector.messages.http\": 17424,\r\n  \"counter.zipkin_collector.spans_dropped.http\": 0,\r\n  \"gauge.zipkin_collector.message_bytes.http\": 2736,\r\n  \"counter.zipkin_collector.bytes.http\": 69106481,\r\n  \"gauge.zipkin_collector.message_spans.http\": 0,\r\n  \"counter.zipkin_collector.spans.http\": 0,\r\n  \"counter.zipkin_collector.messages_dropped.http\": 0\r\n}\r\n```\r\n\r\nAnyway, I'm running off `ENV VERSION c1d3eac893-1` and will try again","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511116595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511117103","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511117103","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511117103,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNzEwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T12:08:15Z","updated_at":"2019-07-13T12:08:15Z","author_association":"MEMBER","body":"metrics aren't coming through, but it is only the span count.. so weird.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511117103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511117654","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511117654","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511117654,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExNzY1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T12:16:44Z","updated_at":"2019-07-13T12:16:44Z","author_association":"MEMBER","body":"I will build local as I can't see easily why the metrics are zero for spans. debugging the client shows the http response was 202","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511117654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511118577","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511118577","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511118577,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExODU3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T12:32:13Z","updated_at":"2019-07-13T12:32:13Z","author_association":"MEMBER","body":"the problem in span stats is kindof making it hard for me to tell what's going on. it is possible something subtle during the bump to latest micrometer, but it is so weird. Ex I can manually send traffic, then a few times it will increase the number but after a while it doesn't. meanwhile the other stats seem fine.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511118577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511119181","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511119181","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511119181,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExOTE4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T12:41:32Z","updated_at":"2019-07-13T12:41:32Z","author_association":"MEMBER","body":"<img width=\"592\" alt=\"Screenshot 2019-07-13 at 9 41 10 PM\" src=\"https://user-images.githubusercontent.com/64215/61171753-f5eb9a00-a5b6-11e9-9f1a-a32cdd474c5e.png\">\r\n\r\nok something's odd","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511119181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511119667","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511119667","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511119667,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTExOTY2Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T12:49:05Z","updated_at":"2019-07-13T12:49:05Z","author_association":"MEMBER","body":"the above thing has to do with proto encoding. I'm switching tests back to json, just smaller messages, until it is figured out.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511119667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511120471","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511120471","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511120471,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTEyMDQ3MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T13:01:30Z","updated_at":"2019-07-13T13:01:30Z","author_association":"MEMBER","body":"ok sorry about all the chatter. a successful test scenario where any load occurs requires storage throttling as we know ES falls over especially on localhost.\r\n\r\nEx if directly like this..\r\n```bash\r\n$ STORAGE_THROTTLE_ENABLED=true STORAGE_TYPE=elasticsearch java -jar ./zipkin-server/target/zipkin-server-*exec.jar\r\n```\r\n\r\nThen, something unrelated to this is busted in proto3 encoding. To avoid this, don't use it :P Ex. use the following sender setup in brave-webmvc-example. It is important to override the max bytes to something less than default 5MiB, if using laptop etc, but I don't know what that value is.\r\n\r\n```java\r\n  /** Configuration for how to send spans to Zipkin */\r\n  @Bean Sender sender() {\r\n    return OkHttpSender.newBuilder()\r\n        .endpoint(\"http://127.0.0.1:9411/api/v2/spans\")\r\n        .messageMaxBytes(4096)\r\n        .build();\r\n  }\r\n```\r\n\r\nAnyway, with storage throttling enabled and the above running directly off this branch I got a clean bench against brave-webmvc-example. zero spans dropped. I haven't tried to setup this in docker, yet but I don't have it in me to do that tonight :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511120471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511124372","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511124372","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511124372,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTEyNDM3Mg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-13T14:01:21Z","updated_at":"2019-07-13T14:01:21Z","author_association":"CONTRIBUTOR","body":"Well that's enough for me to move this off of draft :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511124372/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511162420","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511162420","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511162420,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE2MjQyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T00:06:27Z","updated_at":"2019-07-14T00:06:27Z","author_association":"MEMBER","body":"self-tracing seems it was busted prior to this. we can follow-up with the small things in future pull requests. Great job @anuraaga!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511162420/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511163644","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511163644","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511163644,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE2MzY0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T00:35:08Z","updated_at":"2019-07-14T00:35:08Z","author_association":"MEMBER","body":"self-tracing follow-up https://github.com/openzipkin/zipkin/pull/2663","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511163644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511165781","html_url":"https://github.com/openzipkin/zipkin/pull/2659#issuecomment-511165781","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2659","id":511165781,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE2NTc4MQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T01:32:13Z","updated_at":"2019-07-14T01:32:39Z","author_association":"MEMBER","body":"I changed the babel config file from `.baberc` to `babel.config.js`.\r\nBut Jest did not read the new config file due to cache...\r\nThis is the cause of the above error.\r\n\r\nI tried to test with `--ci` option.\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511165781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511165832","html_url":"https://github.com/openzipkin/zipkin/pull/2659#issuecomment-511165832","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2659","id":511165832,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE2NTgzMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T01:33:23Z","updated_at":"2019-07-14T01:33:23Z","author_association":"MEMBER","body":"also you can delete cache in travis ui\n\nOn Sun, Jul 14, 2019, 10:32 AM tacigar <notifications@github.com> wrote:\n\n> I changed the babel config file from .baberc to babel.config.js.\n> But Jest did not read the new config file due to cache...\n>\n> I tried to test with --ci option.\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2659?email_source=notifications&email_token=AAAPVVZDX5FFQ7P7RG2O5TLP7J6Z7A5CNFSM4ICYUX72YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODZ34KVI#issuecomment-511165781>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV6QH7FYLM2MMZMGXDTP7J6Z7ANCNFSM4ICYUX7Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511165832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511166165","html_url":"https://github.com/openzipkin/zipkin/pull/2659#issuecomment-511166165","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2659","id":511166165,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE2NjE2NQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T01:42:23Z","updated_at":"2019-07-14T01:42:23Z","author_association":"MEMBER","body":"Ah, I see.\r\nBut test seems success now.\r\n\r\n```\r\n[ERROR] PASS src/zipkin/span-row.test.js\r\n[ERROR] PASS src/zipkin/span-cleaner.test.js\r\n[ERROR] PASS src/zipkin/trace.test.js\r\n[ERROR] PASS src/zipkin/clock-skew.test.js\r\n[ERROR] PASS src/zipkin/span-node.test.js\r\n[ERROR] PASS src/components/DiscoverPage/api.test.js\r\n[ERROR] PASS src/reducers/global-search.test.js\r\n[ERROR] PASS src/components/App/SidebarMenuItem.test.js\r\n[ERROR] PASS src/reducers/traces.test.js\r\n[ERROR] PASS src/reducers/dependencies.test.js\r\n[ERROR] PASS src/reducers/trace.test.js\r\n[ERROR] PASS src/actions/traces-action.test.js\r\n[ERROR] PASS src/actions/global-search-action.test.js\r\n[ERROR] PASS src/actions/trace-action.test.js\r\n[ERROR] PASS src/components/GlobalSearch/util.test.js\r\n[ERROR] PASS src/actions/dependencies-action.test.js\r\n[ERROR] PASS src/components/Browser/BrowserResults.test.js\r\n[ERROR] PASS src/reducers/remote-services.test.js\r\n[ERROR] PASS src/components/MiniTimeline/MiniTimeline.test.js\r\n[ERROR] PASS src/components/App/Sidebar.test.js\r\n[ERROR] PASS src/components/MiniTimeline/MiniTimelineSlider.test.js\r\n[ERROR] PASS src/actions/remote-services-action.test.js\r\n[ERROR] PASS src/reducers/spans.test.js\r\n[ERROR] PASS src/components/App/App.test.js\r\n[ERROR] PASS src/components/Browser/sorting.test.js\r\n[ERROR] PASS src/components/MiniTimeline/MiniTimelineLabel.test.js\r\n[ERROR] PASS src/util/trace.test.js\r\n[ERROR] PASS src/actions/spans-action.test.js\r\n[ERROR] PASS src/reducers/autocomplete-values.test.js\r\n[ERROR] PASS src/reducers/autocomplete-keys.test.js\r\n[ERROR] PASS src/reducers/services.test.js\r\n[ERROR] PASS src/actions/autocomplete-values-action.test.js\r\n[ERROR] PASS src/components/Browser/TraceSummary/TraceSummary.test.js\r\n[ERROR] PASS src/actions/autocomplete-keys-action.test.js\r\n[ERROR] PASS src/actions/services-action.test.js\r\n[ERROR] PASS src/components/MiniTimeline/util.test.js\r\n[ERROR] PASS src/components/Browser/Browser.test.js\r\n[ERROR] PASS src/components/DiscoverPage/TraceIdSearchInput.test.js\r\n[ERROR] PASS src/components/Browser/TraceSummary/TraceSummaryUpperBar.test.js\r\n[ERROR] PASS src/actions/trace-viewer.test.js\r\n[ERROR] PASS src/components/App/Layout.test.js\r\n[ERROR] PASS src/components/Browser/TraceSummary/TraceSummaryBar.test.js\r\n[ERROR] PASS src/components/Browser/TraceSummary/TraceSummaryButtons.test.js\r\n[ERROR] PASS src/components/Browser/BrowserHeader.test.js\r\n[ERROR] PASS src/components/MiniTimeline/MiniTimelineTimeMarkers.test.js\r\n[ERROR] PASS src/components/MiniTimeline/MiniTimelineGraph.test.js\r\n[ERROR] \r\n[ERROR] Test Suites: 46 passed, 46 total\r\n[ERROR] Tests:       264 passed, 264 total\r\n[ERROR] Snapshots:   0 total\r\n[ERROR] Time:        17.383s\r\n[ERROR] Ran all test suites.\r\n```\r\n\r\nThe reason why log is ERROR is the spec of `frontend-maven-plugin`.\r\n\r\nhttps://github.com/eirslett/frontend-maven-plugin/issues/584\r\n\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511166165/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511173296","html_url":"https://github.com/openzipkin/zipkin/issues/2451#issuecomment-511173296","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2451","id":511173296,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE3MzI5Ng==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T04:54:36Z","updated_at":"2019-07-14T04:54:36Z","author_association":"MEMBER","body":"We use material-ui now.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511173296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511173341","html_url":"https://github.com/openzipkin/zipkin/issues/2384#issuecomment-511173341","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2384","id":511173341,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE3MzM0MQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T04:55:53Z","updated_at":"2019-07-14T04:55:53Z","author_association":"MEMBER","body":"This issue is resolved in #2651 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511173341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511173852","html_url":"https://github.com/openzipkin/zipkin/pull/2664#issuecomment-511173852","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2664","id":511173852,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE3Mzg1Mg==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T05:09:25Z","updated_at":"2019-07-14T05:09:53Z","author_association":"MEMBER","body":"Now.\r\n\r\nWhen custom lookback is not set, endTs will be changed.\r\n\r\n![endts1](https://user-images.githubusercontent.com/19551419/61179614-d8fba900-a640-11e9-89f6-124ae5c8a4c1.gif)\r\n\r\nWhen custom lookback is set, endTs will not be changed, because endTs is fixed.\r\n\r\n![endTs2](https://user-images.githubusercontent.com/19551419/61179616-e153e400-a640-11e9-8a13-1d6822a374b3.gif)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511173852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511181089","html_url":"https://github.com/openzipkin/zipkin/pull/2664#issuecomment-511181089","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2664","id":511181089,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE4MTA4OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T07:43:20Z","updated_at":"2019-07-14T07:43:20Z","author_association":"MEMBER","body":"cc @making\n\nOn Sun, Jul 14, 2019, 2:09 PM tacigar <notifications@github.com> wrote:\n\n> Now.\n>\n> When custom lookback is not set, endTs will be changed.\n>\n> [image: endts1]\n> <https://user-images.githubusercontent.com/19551419/61179614-d8fba900-a640-11e9-89f6-124ae5c8a4c1.gif>\n>\n> [image: endTs2]\n> <https://user-images.githubusercontent.com/19551419/61179616-e153e400-a640-11e9-8a13-1d6822a374b3.gif>\n>\n> —\n> You are receiving this because your review was requested.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2664?email_source=notifications&email_token=AAAPVV4RCAJFAE4VPEJNOKDP7KYINA5CNFSM4IDIKPRKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODZ36JXA#issuecomment-511173852>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV346XXV726OAALWEDTP7KYINANCNFSM4IDIKPRA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511181089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511181175","html_url":"https://github.com/openzipkin/zipkin/pull/2665#issuecomment-511181175","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2665","id":511181175,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE4MTE3NQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T07:44:48Z","updated_at":"2019-07-14T07:44:48Z","author_association":"CONTRIBUTOR","body":"I was hoping for some improvement in the cassandra test too, but didn't realize it doesn't batch at all!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511181175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511183522","html_url":"https://github.com/openzipkin/zipkin/pull/2666#issuecomment-511183522","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2666","id":511183522,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE4MzUyMg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T08:25:05Z","updated_at":"2019-07-14T08:25:05Z","author_association":"CONTRIBUTOR","body":"By the way, added some null checks to the business logic too, it seems like any method that is clearing a field that's nullable should do the null check all the time.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511183522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511183595","html_url":"https://github.com/openzipkin/zipkin/pull/2664#issuecomment-511183595","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2664","id":511183595,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE4MzU5NQ==","user":{"login":"making","id":106908,"node_id":"MDQ6VXNlcjEwNjkwOA==","avatar_url":"https://avatars.githubusercontent.com/u/106908?v=4","gravatar_id":"","url":"https://api.github.com/users/making","html_url":"https://github.com/making","followers_url":"https://api.github.com/users/making/followers","following_url":"https://api.github.com/users/making/following{/other_user}","gists_url":"https://api.github.com/users/making/gists{/gist_id}","starred_url":"https://api.github.com/users/making/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/making/subscriptions","organizations_url":"https://api.github.com/users/making/orgs","repos_url":"https://api.github.com/users/making/repos","events_url":"https://api.github.com/users/making/events{/privacy}","received_events_url":"https://api.github.com/users/making/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T08:26:22Z","updated_at":"2019-07-14T08:26:22Z","author_association":"MEMBER","body":"Looks great 👍","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511183595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511184642","html_url":"https://github.com/openzipkin/zipkin/pull/2663#issuecomment-511184642","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2663","id":511184642,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE4NDY0Mg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T08:43:26Z","updated_at":"2019-07-14T08:43:26Z","author_association":"CONTRIBUTOR","body":"I made a different, potentially simpler alternative in #2668 in case that seems like a better approach.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511184642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511185046","html_url":"https://github.com/openzipkin/zipkin/pull/2668#issuecomment-511185046","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2668","id":511185046,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE4NTA0Ng==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T08:50:12Z","updated_at":"2019-07-14T08:50:12Z","author_association":"CONTRIBUTOR","body":"Well maybe not since the test that I thought would fail for POST to v2 spans is succeeding, probably due to an Armeria bug will check that too.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511185046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511188488","html_url":"https://github.com/openzipkin/zipkin/pull/2668#issuecomment-511188488","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2668","id":511188488,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTE4ODQ4OA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T09:45:51Z","updated_at":"2019-07-14T09:45:51Z","author_association":"CONTRIBUTOR","body":"Nah it was a bug in the test. I also went ahead and enabled tracing of the collector too, opting to trust the integration test instead of the `method is GET` currently unused logic as the desired.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511188488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511204958","html_url":"https://github.com/openzipkin/zipkin/pull/2659#issuecomment-511204958","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2659","id":511204958,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTIwNDk1OA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T13:55:49Z","updated_at":"2019-07-14T13:55:49Z","author_association":"MEMBER","body":"PTAL 🙇 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511204958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511206153","html_url":"https://github.com/openzipkin/zipkin/pull/2664#issuecomment-511206153","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2664","id":511206153,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTIwNjE1Mw==","user":{"login":"jcchavezs","id":3075074,"node_id":"MDQ6VXNlcjMwNzUwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3075074?v=4","gravatar_id":"","url":"https://api.github.com/users/jcchavezs","html_url":"https://github.com/jcchavezs","followers_url":"https://api.github.com/users/jcchavezs/followers","following_url":"https://api.github.com/users/jcchavezs/following{/other_user}","gists_url":"https://api.github.com/users/jcchavezs/gists{/gist_id}","starred_url":"https://api.github.com/users/jcchavezs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcchavezs/subscriptions","organizations_url":"https://api.github.com/users/jcchavezs/orgs","repos_url":"https://api.github.com/users/jcchavezs/repos","events_url":"https://api.github.com/users/jcchavezs/events{/privacy}","received_events_url":"https://api.github.com/users/jcchavezs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-14T14:11:35Z","updated_at":"2019-07-15T08:55:38Z","author_association":"CONTRIBUTOR","body":"I love this fix!!! Could we please do a release @adriancole?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511206153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511246946","html_url":"https://github.com/openzipkin/zipkin/pull/2659#issuecomment-511246946","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2659","id":511246946,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI0Njk0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T00:14:51Z","updated_at":"2019-07-15T00:14:51Z","author_association":"MEMBER","body":"thank you!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511246946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511248025","html_url":"https://github.com/openzipkin/zipkin/pull/2653#issuecomment-511248025","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2653","id":511248025,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI0ODAyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T00:30:36Z","updated_at":"2019-07-15T00:30:36Z","author_association":"MEMBER","body":"thx for the loopback\n\nOn Sun, Jul 14, 2019, 5:28 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> *@anuraaga* commented on this pull request.\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/MetricsHealthController.java\n> <https://github.com/openzipkin/zipkin/pull/2653#discussion_r303232383>:\n>\n> > @@ -85,7 +85,7 @@ public ObjectNode fetchMetricsFromMicrometer() {\n>    // Delegates the health endpoint from the Actuator to the root context path and can be deprecated\n>    // in future in favour of Actuator endpoints\n>    @Get(\"/health\")\n> -  public HttpResponse getHealth() throws JsonProcessingException {\n> +  public AggregatedHttpResponse getHealth() throws JsonProcessingException {\n>\n> Nope they all return AggregatedHttpResponse so don't run on the event\n> loop. Though I'm definitely interested in eventually migrating them to use\n> enqueue instead of execute to be fully async :)\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2653?email_source=notifications&email_token=AAAPVVYPCSODEUD2TDVDSETP7LPUXA5CNFSM4H6ZPMGKYY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOB6LT7JI#discussion_r303232383>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV3D2YR6MENG62OWZCDP7LPUXANCNFSM4H6ZPMGA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511248025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511248528","html_url":"https://github.com/openzipkin/zipkin/pull/2668#issuecomment-511248528","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2668","id":511248528,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI0ODUyOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T00:36:54Z","updated_at":"2019-07-15T00:36:54Z","author_association":"MEMBER","body":"thanks  this should work but there is a small matter which was the sampler also disabled client originated traces (hence coupling with #2660 could be a good idea ex setting default to 1 trace per second regardless of endpoint)\r\n\r\none way to tell if there is a problem or not would be to improve our tests a bit to hit post endpoint and static asset and check to see if after the reporting interval how many traces exist.\r\n\r\nps we can also add a test scoped config to shorten the interval","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511248528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511248598","html_url":"https://github.com/openzipkin/zipkin/pull/2666#issuecomment-511248598","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2666","id":511248598,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI0ODU5OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T00:37:38Z","updated_at":"2019-07-15T00:37:38Z","author_association":"MEMBER","body":"good idea\n\nOn Sun, Jul 14, 2019, 5:25 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> By the way, added some null checks to the business logic too, it seems\n> like any method that is clearing a field that's nullable should do the null\n> check all the time.\n>\n> —\n> You are receiving this because your review was requested.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2666?email_source=notifications&email_token=AAAPVV6D245WI744W2JWZX3P7LPGFA5CNFSM4IDKRBKKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODZ4AVIQ#issuecomment-511183522>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV3VOXG4CYFCALT7MC3P7LPGFANCNFSM4IDKRBKA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511248598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511249822","html_url":"https://github.com/openzipkin/zipkin/pull/2667#issuecomment-511249822","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2667","id":511249822,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTI0OTgyMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T00:55:04Z","updated_at":"2019-07-15T00:55:04Z","author_association":"MEMBER","body":"ps my note on docs is a nit as they are already better than probably everything. just didn't merge as it is red and haven't looked into why","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511249822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511309683","html_url":"https://github.com/openzipkin/zipkin/pull/2669#issuecomment-511309683","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2669","id":511309683,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTMwOTY4Mw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T08:09:44Z","updated_at":"2019-07-15T08:09:44Z","author_association":"CONTRIBUTOR","body":"@tacigar I'm wondering why the `package-lock.json` has such a huge diff - do you use a different command than `npm install` during development? If so, we should reflect that to `pom.xml`","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511309683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511337418","html_url":"https://github.com/openzipkin/zipkin/pull/2668#issuecomment-511337418","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2668","id":511337418,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTMzNzQxOA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T09:43:35Z","updated_at":"2019-07-15T09:43:35Z","author_association":"CONTRIBUTOR","body":"Thanks - added the rate limiting sampling support (made it backwards compatible but let me know if we don't need to) and some tests for ensuring static resources aren't traced.\r\n\r\nI've introduced `awaitility` since it's an easy way to allow tests to be as fast as possible without being flaky. Using `Thread.sleep(1)` with a `1ms` timeout will often run into flaky behavior, while using a larger sleep is often a waste of time. Tests went from taking about 10s to 2s (initial test takes 1s, additional tests just 100ms).","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511337418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511357471","html_url":"https://github.com/openzipkin/zipkin/pull/2669#issuecomment-511357471","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2669","id":511357471,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTM1NzQ3MQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T10:58:27Z","updated_at":"2019-07-15T10:58:27Z","author_association":"CONTRIBUTOR","body":"The missing license header is also causing jitpack to fail, so let me go ahead and merge this, let's follow up if needed (mostly about the package-lock.json)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511357471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511358342","html_url":"https://github.com/openzipkin/zipkin/issues/2646#issuecomment-511358342","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2646","id":511358342,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTM1ODM0Mg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T11:01:48Z","updated_at":"2019-07-15T11:01:48Z","author_association":"CONTRIBUTOR","body":"Realized it's premature to close this issue until zipkin-aws is migrated, starting that now.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511358342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511538340","html_url":"https://github.com/openzipkin/zipkin/issues/2673#issuecomment-511538340","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2673","id":511538340,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTUzODM0MA==","user":{"login":"lambcode","id":5820125,"node_id":"MDQ6VXNlcjU4MjAxMjU=","avatar_url":"https://avatars.githubusercontent.com/u/5820125?v=4","gravatar_id":"","url":"https://api.github.com/users/lambcode","html_url":"https://github.com/lambcode","followers_url":"https://api.github.com/users/lambcode/followers","following_url":"https://api.github.com/users/lambcode/following{/other_user}","gists_url":"https://api.github.com/users/lambcode/gists{/gist_id}","starred_url":"https://api.github.com/users/lambcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lambcode/subscriptions","organizations_url":"https://api.github.com/users/lambcode/orgs","repos_url":"https://api.github.com/users/lambcode/repos","events_url":"https://api.github.com/users/lambcode/events{/privacy}","received_events_url":"https://api.github.com/users/lambcode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T19:31:53Z","updated_at":"2019-07-15T19:31:53Z","author_association":"CONTRIBUTOR","body":"Here's a mockup of what I'm thinking:\r\n![image](https://user-images.githubusercontent.com/5820125/61243286-d95d7800-a704-11e9-88fb-50a323debb0f.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511538340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511611095","html_url":"https://github.com/openzipkin/zipkin/pull/2670#issuecomment-511611095","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2670","id":511611095,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTYxMTA5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-15T23:53:02Z","updated_at":"2019-07-15T23:53:02Z","author_association":"MEMBER","body":"taking a look. thanks!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511611095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613099","html_url":"https://github.com/openzipkin/zipkin/pull/2667#issuecomment-511613099","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2667","id":511613099,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTYxMzA5OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T00:03:11Z","updated_at":"2019-07-16T00:03:11Z","author_association":"MEMBER","body":"heh we will have to port zipkin-aws soon (probably today would be good) as it is not using this because it hasn't migrated off okhttp yet https://github.com/openzipkin/zipkin-aws/blob/master/autoconfigure/storage-elasticsearch-aws/src/main/java/zipkin/autoconfigure/storage/elasticsearch/aws/ZipkinElasticsearchAwsStorageAutoConfiguration.java#L53","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613235","html_url":"https://github.com/openzipkin/zipkin/pull/2671#issuecomment-511613235","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2671","id":511613235,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTYxMzIzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T00:03:52Z","updated_at":"2019-07-16T00:03:52Z","author_association":"MEMBER","body":"I wonder if related to #2662","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613273","html_url":"https://github.com/openzipkin/zipkin/pull/2671#issuecomment-511613273","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2671","id":511613273,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTYxMzI3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T00:04:03Z","updated_at":"2019-07-16T00:04:03Z","author_association":"MEMBER","body":"oh heh you said that :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613745","html_url":"https://github.com/openzipkin/zipkin/issues/1535#issuecomment-511613745","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1535","id":511613745,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTYxMzc0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T00:06:49Z","updated_at":"2019-07-16T00:06:49Z","author_association":"MEMBER","body":"maybe this fixes build? #2669","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613884","html_url":"https://github.com/openzipkin/zipkin/pull/2669#issuecomment-511613884","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2669","id":511613884,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTYxMzg4NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T00:07:32Z","updated_at":"2019-07-16T00:07:32Z","author_association":"MEMBER","body":"thanks. we need appveyor I suspect\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511613884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511616604","html_url":"https://github.com/openzipkin/zipkin/pull/2670#issuecomment-511616604","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2670","id":511616604,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTYxNjYwNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T00:22:15Z","updated_at":"2019-07-16T00:22:15Z","author_association":"MEMBER","body":"I'm glad we have this, but it is a bit verbose.\r\n\r\nEx. before:\r\n```bash\r\ncurl -s localhost:9411/actuator/info|jq .\r\n{\r\n  \"zipkin\": {\r\n    \"version\": \"2.15.0\"\r\n  }\r\n}\r\n```\r\n\r\nAfter:\r\n```bash\r\n$ curl -s localhost:9411/actuator/info|jq .\r\n{\r\n  \"zipkin\": {\r\n    \"version\": \"2.15.1-SNAPSHOT\"\r\n  },\r\n  \"git\": {\r\n    \"branch\": \"anuraaga-git-commit-id\",\r\n    \"commit\": {\r\n      \"id\": \"0479fd4\",\r\n      \"time\": {\r\n        \"nano\": 0,\r\n        \"epochSecond\": 1563234745\r\n      }\r\n    }\r\n  },\r\n  \"build\": {\r\n    \"artifact\": \"zipkin-server\",\r\n    \"name\": \"Zipkin Server\",\r\n    \"time\": {\r\n      \"nano\": 286000000,\r\n      \"epochSecond\": 1563234902\r\n    },\r\n    \"version\": \"2.15.1-SNAPSHOT\",\r\n    \"group\": \"io.zipkin\"\r\n  }\r\n}\r\n```\r\n\r\nMaybe we can prune it down to just adding the commit? Like:\r\n```bash\r\ncurl -s localhost:9411/actuator/info|jq .\r\n{\r\n  \"zipkin\": {\r\n    \"version\": \"2.15.0\",\r\n    \"commit\": \"0479fd4\"\r\n  }\r\n}\r\n```\r\n\r\nI think this is enough to solve the use case (knowing on snapshot if it is stale, and also identifying a custom build in general for support).\r\n\r\nMaybe we can do this without a dependency instead with property replacement such as exists in `zipkin-server-shared.yml`\r\n\r\n```yaml\r\ninfo:\r\n  zipkin:\r\n    version: \"@project.version@\"\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511616604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511618074","html_url":"https://github.com/openzipkin/zipkin/pull/2670#issuecomment-511618074","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2670","id":511618074,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTYxODA3NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T00:30:31Z","updated_at":"2019-07-16T00:30:31Z","author_association":"MEMBER","body":"so if something I found here works..\r\n\r\n```\r\n    \"git.commit.id\" : \"6f592254e2e08d99a8145f1295d4ba3042310848\",\r\n    \"git.commit.id.abbrev\" : \"6f59225\",\r\n```\r\n\r\nassuming the properties are activated at build time, then ideally we could add properties like this:\r\n\r\n```yaml\r\ninfo:\r\n  zipkin:\r\n    version: \"@project.version@\"\r\n    commit: \"@git.commit.id.abbrev@\"\r\n```\r\n\r\ntaking care to add `<injectAllReactorProjects>true</injectAllReactorProjects>`\r\n\r\nper https://github.com/git-commit-id/maven-git-commit-id-plugin/blob/master/docs/faq.md#generated-properties-are-not-usable-inside-the-pom--properties-dont-get-exposed-by-the-plugin","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511618074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511632992","html_url":"https://github.com/openzipkin/zipkin/pull/2670#issuecomment-511632992","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2670","id":511632992,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTYzMjk5Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T01:53:46Z","updated_at":"2019-07-16T01:53:46Z","author_association":"MEMBER","body":"ok it took less settings than I thought.\r\n\r\n```bash\r\n$ git rev-parse HEAD\r\nf43d9d148ff91461b533d3e5c56a76fafef65754\r\n\r\n$ curl -s localhost:9411/actuator/info|jq .\r\n{\r\n  \"zipkin\": {\r\n    \"version\": \"2.15.1-SNAPSHOT\",\r\n    \"commit\": \"f43d9d1\"\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511632992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511640949","html_url":"https://github.com/openzipkin/zipkin/pull/2668#issuecomment-511640949","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2668","id":511640949,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTY0MDk0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T02:36:39Z","updated_at":"2019-07-16T02:36:39Z","author_association":"MEMBER","body":"while master seems ok, This is arising from a POST request (from the sample app to the collector)\r\n\r\n```\r\n2019-07-16 11:30:09.033  WARN 21674 --- [-worker-nio-2-2] z.s.i.BodyIsExceptionMessage             : Unexpected error handling request.\r\n\r\ncom.linecorp.armeria.client.endpoint.EndpointGroupException: HealthCheckedEndpointGroup(all:], healthy:]) is empty\r\n\tat com.linecorp.armeria.client.endpoint.RoundRobinStrategy$RoundRobinSelector.select(RoundRobinStrategy.java:65) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.endpoint.EndpointGroupRegistry.selectNode(EndpointGroupRegistry.java:120) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.Endpoint.resolve(Endpoint.java:215) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.HttpClientDelegate.execute(HttpClientDelegate.java:61) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.HttpClientDelegate.execute(HttpClientDelegate.java:42) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.encoding.HttpDecodingClient.execute(HttpDecodingClient.java:92) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.encoding.HttpDecodingClient.execute(HttpDecodingClient.java:39) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.internal.ClientUtil.executeWithFallback(ClientUtil.java:42) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.UserClient.execute(UserClient.java:159) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.DefaultHttpClient.execute(DefaultHttpClient.java:61) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.DefaultHttpClient.execute(DefaultHttpClient.java:78) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.DefaultHttpClient.execute(DefaultHttpClient.java:74) ~[armeria-0.88.0.jar!/:?]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.sendRequest(HttpCall.java:145) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.doExecute(HttpCall.java:101) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.Call$Base.execute(Call.java:379) ~[zipkin-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.VersionSpecificTemplates.getVersion(VersionSpecificTemplates.java:223) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.VersionSpecificTemplates.get(VersionSpecificTemplates.java:189) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.ElasticsearchStorage.ensureIndexTemplates(ElasticsearchStorage.java:381) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.AutoValue_ElasticsearchStorage.ensureIndexTemplates(AutoValue_ElasticsearchStorage.java:38) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511640949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511641075","html_url":"https://github.com/openzipkin/zipkin/pull/2668#issuecomment-511641075","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2668","id":511641075,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTY0MTA3NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T02:37:17Z","updated_at":"2019-07-16T02:37:17Z","author_association":"MEMBER","body":"I mean master without self-tracing","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511641075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511677072","html_url":"https://github.com/openzipkin/zipkin/pull/2670#issuecomment-511677072","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2670","id":511677072,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTY3NzA3Mg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T05:59:28Z","updated_at":"2019-07-16T05:59:28Z","author_association":"CONTRIBUTOR","body":"Thanks","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511677072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511704016","html_url":"https://github.com/openzipkin/zipkin/pull/2675#issuecomment-511704016","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2675","id":511704016,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTcwNDAxNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T07:41:36Z","updated_at":"2019-07-16T07:41:36Z","author_association":"MEMBER","body":"still looking at some nuance when self-tracing and throttling is going on","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511704016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511708444","html_url":"https://github.com/openzipkin/zipkin/pull/2677#issuecomment-511708444","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2677","id":511708444,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTcwODQ0NA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T07:55:45Z","updated_at":"2019-07-16T07:55:45Z","author_association":"MEMBER","body":"I'll update unit tests.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511708444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511720481","html_url":"https://github.com/openzipkin/zipkin/pull/2675#issuecomment-511720481","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2675","id":511720481,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTcyMDQ4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-16T08:32:04Z","updated_at":"2019-07-16T08:32:04Z","author_association":"MEMBER","body":"The kindof strange looking work in the tracing component is around that we accidentally had 2 storage components instantiated due to loading nuance. Testing the toString helps keep this fixed!\r\n\r\nEx. now with tracing and throttling\r\n\r\n```bash\r\ncurl -s localhost:9411/health|jq .\r\n{\r\n  \"status\": \"UP\",\r\n  \"zipkin\": {\r\n    \"status\": \"UP\",\r\n    \"details\": {\r\n      \"Traced{Throttled{ElasticsearchStorage{hosts=[http://localhost:9200], index=zipkin}}}\": {\r\n        \"status\": \"UP\"\r\n      },\r\n      \"AsyncReporter{StorageComponent}\": {\r\n        \"status\": \"UP\"\r\n      }\r\n    }\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/511720481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512054185","html_url":"https://github.com/openzipkin/zipkin/pull/2663#issuecomment-512054185","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2663","id":512054185,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjA1NDE4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T00:37:38Z","updated_at":"2019-07-17T00:37:38Z","author_association":"MEMBER","body":"obviated for now thanks @anuraaga ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512054185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512054345","html_url":"https://github.com/openzipkin/zipkin/pull/2656#issuecomment-512054345","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2656","id":512054345,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjA1NDM0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T00:38:24Z","updated_at":"2019-07-17T00:38:24Z","author_association":"MEMBER","body":"Is this still WIP?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512054345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512055081","html_url":"https://github.com/openzipkin/zipkin/pull/2677#issuecomment-512055081","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2677","id":512055081,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjA1NTA4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T00:41:04Z","updated_at":"2019-07-17T00:41:04Z","author_association":"MEMBER","body":"as I understand, this improves performance by doing work in parallel correct?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512055081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512147394","html_url":"https://github.com/openzipkin/zipkin/issues/2655#issuecomment-512147394","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2655","id":512147394,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjE0NzM5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T08:00:21Z","updated_at":"2019-07-17T08:00:21Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/pull/2679 fixes this","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512147394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512218414","html_url":"https://github.com/openzipkin/zipkin/pull/2682#issuecomment-512218414","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2682","id":512218414,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIxODQxNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T11:42:24Z","updated_at":"2019-07-17T11:42:24Z","author_association":"MEMBER","body":"hmm I see this.. \r\n\r\n```\r\ncom.linecorp.armeria.common.logging.RequestLogAvailabilityException: REQUEST_FIRST_BYTES_TRANSFERRED\r\n\tat com.linecorp.armeria.common.logging.RequestLog.ensureAvailability(RequestLog.java:120) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.logging.DefaultRequestLog.requestFirstBytesTransferredTimeNanos(DefaultRequestLog.java:446) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.brave.BraveClient.lambda$execute$2(BraveClient.java:126) ~[armeria-brave-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.logging.RequestLogListenerInvoker.invokeOnRequestLog(RequestLogListenerInvoker.java:38) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.logging.DefaultRequestLog.notifyListeners(DefaultRequestLog.java:1036) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.logging.DefaultRequestLog.updateAvailability(DefaultRequestLog.java:993) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.logging.DefaultRequestLog.endResponse0(DefaultRequestLog.java:970) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.logging.DefaultRequestLog.endResponse0(DefaultRequestLog.java:949) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.common.logging.DefaultRequestLog.endResponse(DefaultRequestLog.java:935) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.internal.ClientUtil.executeWithFallback(ClientUtil.java:50) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.UserClient.execute(UserClient.java:159) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.DefaultHttpClient.execute(DefaultHttpClient.java:61) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.DefaultHttpClient.execute(DefaultHttpClient.java:78) [armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.DefaultHttpClient.execute(DefaultHttpClient.java:74) [armeria-0.88.0.jar!/:?]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.sendRequest(HttpCall.java:145) [zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.doExecute(HttpCall.java:101) [zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.Call$Base.execute(Call.java:379) [zipkin-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.VersionSpecificTemplates.getVersion(VersionSpecificTemplates.java:223) [zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.VersionSpecificTemplates.get(VersionSpecificTemplates.java:189) [zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512218414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512219071","html_url":"https://github.com/openzipkin/zipkin/pull/2682#issuecomment-512219071","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2682","id":512219071,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIxOTA3MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T11:44:37Z","updated_at":"2019-07-17T11:44:37Z","author_association":"MEMBER","body":"above error happens same time as this when against elasticsearch\r\n\r\n```\r\n\r\ncom.linecorp.armeria.client.endpoint.EndpointGroupException: HealthCheckedEndpointGroup(all:], healthy:]) is empty\r\n\tat com.linecorp.armeria.client.endpoint.RoundRobinStrategy$RoundRobinSelector.select(RoundRobinStrategy.java:65) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.endpoint.EndpointGroupRegistry.selectNode(EndpointGroupRegistry.java:120) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.Endpoint.resolve(Endpoint.java:215) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.HttpClientDelegate.execute(HttpClientDelegate.java:61) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.HttpClientDelegate.execute(HttpClientDelegate.java:42) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.encoding.HttpDecodingClient.execute(HttpDecodingClient.java:92) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.encoding.HttpDecodingClient.execute(HttpDecodingClient.java:39) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.brave.BraveClient.execute(BraveClient.java:114) ~[armeria-brave-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.brave.BraveClient.execute(BraveClient.java:56) ~[armeria-brave-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.internal.ClientUtil.executeWithFallback(ClientUtil.java:42) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.UserClient.execute(UserClient.java:159) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.DefaultHttpClient.execute(DefaultHttpClient.java:61) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.DefaultHttpClient.execute(DefaultHttpClient.java:78) ~[armeria-0.88.0.jar!/:?]\r\n\tat com.linecorp.armeria.client.DefaultHttpClient.execute(DefaultHttpClient.java:74) ~[armeria-0.88.0.jar!/:?]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.sendRequest(HttpCall.java:145) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.internal.client.HttpCall.doExecute(HttpCall.java:101) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.Call$Base.execute(Call.java:379) ~[zipkin-2.15.1-SNAPSHOT.jar!/:?]\r\n\tat zipkin2.elasticsearch.VersionSpecificTemplates.getVersion(VersionSpecificTemplates.java:223) ~[zipkin-storage-elasticsearch-2.15.1-SNAPSHOT.jar!/:?]\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512219071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512219739","html_url":"https://github.com/openzipkin/zipkin/pull/2682#issuecomment-512219739","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2682","id":512219739,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIxOTczOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T11:46:59Z","updated_at":"2019-07-17T11:46:59Z","author_association":"MEMBER","body":"To try this...\r\n\r\n```bash\r\nTAG=trace-store-SNAPSHOT\r\ncurl -sSL https://jitpack.io/com/github/openzipkin/zipkin/zipkin-server/${TAG}/zipkin-server-${TAG}-exec.jar > zipkin.jar\r\nSELF_TRACING_ENABLED=true STORAGE_TYPE=elasticsearch java -jar zipkin.jar\r\n# now send traffic to POST /api/v2/spans\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512219739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512220031","html_url":"https://github.com/openzipkin/zipkin/pull/2682#issuecomment-512220031","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2682","id":512220031,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIyMDAzMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T11:47:51Z","updated_at":"2019-07-17T11:47:51Z","author_association":"MEMBER","body":"@kojilin maybe you recognise this one https://github.com/openzipkin/zipkin/pull/2682#issuecomment-512218414","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512220031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512220372","html_url":"https://github.com/openzipkin/zipkin/issues/2680#issuecomment-512220372","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2680","id":512220372,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIyMDM3Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T11:48:54Z","updated_at":"2019-07-17T11:48:54Z","author_association":"MEMBER","body":"we won't use that property name as we don't actually use tomcat, but we can make a property for this!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512220372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512220796","html_url":"https://github.com/openzipkin/zipkin/issues/2681#issuecomment-512220796","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2681","id":512220796,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIyMDc5Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T11:50:21Z","updated_at":"2019-07-17T11:50:21Z","author_association":"MEMBER","body":"try more recent docker image version (ex 2.15) please as we won't make\nchanges to old ones.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512220796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512224646","html_url":"https://github.com/openzipkin/zipkin/pull/2682#issuecomment-512224646","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2682","id":512224646,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIyNDY0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T12:02:55Z","updated_at":"2019-07-17T12:02:55Z","author_association":"MEMBER","body":"If I hit the health endpoint before issuing a POST request, I don't get any errors. If I make a POST request before the health is green it doesn't seem to recover.\r\n\r\nI think maybe there is a glitch with ES and when we should accept the first request (ex if we create an empty pool, maybe better to block?) Then, there's a bug in the armeria instrumentation as unavailability of a property shouldn't crash request.\r\n\r\nRegardless, self-tracing now works if you are using elasticsearch and boot up carefully.\r\n\r\n<img width=\"954\" alt=\"Screenshot 2019-07-17 at 9 00 45 PM\" src=\"https://user-images.githubusercontent.com/64215/61374010-3d836600-a8d6-11e9-9ef5-cdd0202dae8b.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512224646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512228045","html_url":"https://github.com/openzipkin/zipkin/issues/2680#issuecomment-512228045","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2680","id":512228045,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjIyODA0NQ==","user":{"login":"GavinLin168","id":17762508,"node_id":"MDQ6VXNlcjE3NzYyNTA4","avatar_url":"https://avatars.githubusercontent.com/u/17762508?v=4","gravatar_id":"","url":"https://api.github.com/users/GavinLin168","html_url":"https://github.com/GavinLin168","followers_url":"https://api.github.com/users/GavinLin168/followers","following_url":"https://api.github.com/users/GavinLin168/following{/other_user}","gists_url":"https://api.github.com/users/GavinLin168/gists{/gist_id}","starred_url":"https://api.github.com/users/GavinLin168/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GavinLin168/subscriptions","organizations_url":"https://api.github.com/users/GavinLin168/orgs","repos_url":"https://api.github.com/users/GavinLin168/repos","events_url":"https://api.github.com/users/GavinLin168/events{/privacy}","received_events_url":"https://api.github.com/users/GavinLin168/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-17T12:13:18Z","updated_at":"2019-07-17T12:13:18Z","author_association":"NONE","body":" is there any way can make armeria access log active in zipkin 2.12.6 version ?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/512228045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]