[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557371106","html_url":"https://github.com/apache/pinot/pull/4838#issuecomment-557371106","issue_url":"https://api.github.com/repos/apache/pinot/issues/4838","id":557371106,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzM3MTEwNg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T03:22:21Z","updated_at":"2019-11-22T03:22:21Z","author_association":"CONTRIBUTOR","body":"> You should commit this only after implementing the reload for consuming segments, right?\r\n\r\n@mcvsubbu I think the reload already works for realtime table. The only issue is the consuming segments won't get the updates immediately, but when they finish, they will get the new columns.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557371106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557384225","html_url":"https://github.com/apache/pinot/pull/4848#issuecomment-557384225","issue_url":"https://api.github.com/repos/apache/pinot/issues/4848","id":557384225,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzM4NDIyNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T04:30:40Z","updated_at":"2019-11-22T04:30:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4848?src=pr&el=h1) Report\n> Merging [#4848](https://codecov.io/gh/apache/incubator-pinot/pull/4848?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/5e5b32fcfbdd4267452d72cbf24c44e3afa90f40?src=pr&el=desc) will **decrease** coverage by `7.45%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4848/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4848?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4848      +/-   ##\n============================================\n- Coverage     57.62%   50.16%   -7.46%     \n  Complexity        4        4              \n============================================\n  Files          1197     1197              \n  Lines         64981    64981              \n  Branches       9457     9457              \n============================================\n- Hits          37443    32596    -4847     \n- Misses        24783    29873    +5090     \n+ Partials       2755     2512     -243\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4848?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/pinot/sql/parsers/CalciteSqlCompiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsQ29tcGlsZXIuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/realtime/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vTWVzc2FnZUJhdGNoLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/hadoop/io/CombineAvroKeyInputFormat.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3AvaW8vQ29tYmluZUF2cm9LZXlJbnB1dEZvcm1hdC5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...starter/helix/DefaultHelixStarterServerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9EZWZhdWx0SGVsaXhTdGFydGVyU2VydmVyQ29uZmlnLmphdmE=) | `0% <0%> (-96.16%)` | `0% <0%> (ø)` | |\n| [...re/data/manager/config/TableDataManagerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvY29uZmlnL1RhYmxlRGF0YU1hbmFnZXJDb25maWcuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...converter/stats/RealtimeSegmentStatsContainer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9jb252ZXJ0ZXIvc3RhdHMvUmVhbHRpbWVTZWdtZW50U3RhdHNDb250YWluZXIuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...ot/hadoop/job/partitioners/GenericPartitioner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3Avam9iL3BhcnRpdGlvbmVycy9HZW5lcmljUGFydGl0aW9uZXIuamF2YQ==) | `0% <0%> (-93.34%)` | `0% <0%> (ø)` | |\n| [...esthandler/ConnectionPoolBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQ29ubmVjdGlvblBvb2xCcm9rZXJSZXF1ZXN0SGFuZGxlci5qYXZh) | `0% <0%> (-88.83%)` | `0% <0%> (ø)` | |\n| [...ot/tools/query/comparison/SegmentInfoProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL3F1ZXJ5L2NvbXBhcmlzb24vU2VnbWVudEluZm9Qcm92aWRlci5qYXZh) | `0% <0%> (-88.68%)` | `0% <0%> (ø)` | |\n| [...server/starter/helix/HelixInstanceDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeEluc3RhbmNlRGF0YU1hbmFnZXIuamF2YQ==) | `0% <0%> (-87.5%)` | `0% <0%> (ø)` | |\n| ... and [270 more](https://codecov.io/gh/apache/incubator-pinot/pull/4848/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4848?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4848?src=pr&el=footer). Last update [5e5b32f...e594c84](https://codecov.io/gh/apache/incubator-pinot/pull/4848?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557384225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557385175","html_url":"https://github.com/apache/pinot/pull/4847#issuecomment-557385175","issue_url":"https://api.github.com/repos/apache/pinot/issues/4847","id":557385175,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzM4NTE3NQ==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T04:35:57Z","updated_at":"2019-11-22T04:35:57Z","author_association":"CONTRIBUTOR","body":"> Can we do this after the compilation instead of at compile time? You should do this in the BrokerRequestOptimizer\r\n\r\n@Jackie-Jiang , Initially my thought was similar to do this as part of separate optimization pass after query compilation (in BrokerRequestOptimizer). The reason to do this during compilation is to avoid the performance overhead of traversing down the filter expression (which could be large) and finding that particular IN expression(s) that have a single predicate and rewriting it. \r\n\r\nHaving said that, for each query we already spend time doing optimization (range merge etc) but in case other optimizations (range-merge, flattening) are a NO-OP then traversing down the filter query tree only for rewriting IN could potentially be an overhead that can be avoided by doing the rewrite at compile time. \r\n\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557385175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557386464","html_url":"https://github.com/apache/pinot/pull/4847#issuecomment-557386464","issue_url":"https://api.github.com/repos/apache/pinot/issues/4847","id":557386464,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzM4NjQ2NA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T04:43:30Z","updated_at":"2019-11-22T04:43:30Z","author_association":"MEMBER","body":"Can we do what Jackie suggested but avoid the overhead?Are we not already traversing the filter tree to add time filter and do other optimizations ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557386464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557387130","html_url":"https://github.com/apache/pinot/pull/4847#issuecomment-557387130","issue_url":"https://api.github.com/repos/apache/pinot/issues/4847","id":557387130,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzM4NzEzMA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T04:47:06Z","updated_at":"2019-11-22T04:47:06Z","author_association":"CONTRIBUTOR","body":"> Can we do what Jackie suggested but avoid the overhead? Are we not already traversing the filter tree to add time filter and do other optimizations\r\n\r\nLet me take a stab at doing this in an optimization pass.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557387130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557482589","html_url":"https://github.com/apache/pinot/pull/4802#issuecomment-557482589","issue_url":"https://api.github.com/repos/apache/pinot/issues/4802","id":557482589,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzQ4MjU4OQ==","user":{"login":"ilyanoskov","id":16443383,"node_id":"MDQ6VXNlcjE2NDQzMzgz","avatar_url":"https://avatars.githubusercontent.com/u/16443383?v=4","gravatar_id":"","url":"https://api.github.com/users/ilyanoskov","html_url":"https://github.com/ilyanoskov","followers_url":"https://api.github.com/users/ilyanoskov/followers","following_url":"https://api.github.com/users/ilyanoskov/following{/other_user}","gists_url":"https://api.github.com/users/ilyanoskov/gists{/gist_id}","starred_url":"https://api.github.com/users/ilyanoskov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilyanoskov/subscriptions","organizations_url":"https://api.github.com/users/ilyanoskov/orgs","repos_url":"https://api.github.com/users/ilyanoskov/repos","events_url":"https://api.github.com/users/ilyanoskov/events{/privacy}","received_events_url":"https://api.github.com/users/ilyanoskov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T10:39:27Z","updated_at":"2019-11-22T10:39:27Z","author_association":"NONE","body":"@xiaohui-sun @akshayrai ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557482589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557593131","html_url":"https://github.com/apache/pinot/pull/4838#issuecomment-557593131","issue_url":"https://api.github.com/repos/apache/pinot/issues/4838","id":557593131,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzU5MzEzMQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T16:10:11Z","updated_at":"2019-11-22T16:10:11Z","author_association":"CONTRIBUTOR","body":"> > You should commit this only after implementing the reload for consuming segments, right?\r\n> \r\n> @mcvsubbu I think the reload already works for realtime table. The only issue is the consuming segments won't get the updates immediately, but when they finish, they will get the new columns.\r\n\r\nBut then there will be a schema mismatch between consuming and other segments. Isnt that what we are trying to avoid here? (basically, provide an SLA to apply the new schema, not just that it will be available once all consuming segments have completed)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557593131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557649433","html_url":"https://github.com/apache/pinot/pull/4838#issuecomment-557649433","issue_url":"https://api.github.com/repos/apache/pinot/issues/4838","id":557649433,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzY0OTQzMw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T18:51:40Z","updated_at":"2019-11-22T18:51:40Z","author_association":"CONTRIBUTOR","body":"> > > You should commit this only after implementing the reload for consuming segments, right?\r\n> > \r\n> > \r\n> > @mcvsubbu I think the reload already works for realtime table. The only issue is the consuming segments won't get the updates immediately, but when they finish, they will get the new columns.\r\n> \r\n> But then there will be a schema mismatch between consuming and other segments. Isnt that what we are trying to avoid here? (basically, provide an SLA to apply the new schema, not just that it will be available once all consuming segments have completed)\r\n\r\nWhat SLA are you referring to? Right now we don't have the feature support for applying schema change to the consuming segments, but that should not be a blocker for this automatic reload. Also, the reload is off by default, so IMO it should be okay.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557649433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557717766","html_url":"https://github.com/apache/pinot/pull/4850#issuecomment-557717766","issue_url":"https://api.github.com/repos/apache/pinot/issues/4850","id":557717766,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzcxNzc2Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T22:27:38Z","updated_at":"2019-12-03T19:50:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4850?src=pr&el=h1) Report\n> Merging [#4850](https://codecov.io/gh/apache/incubator-pinot/pull/4850?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3ec7548cd1a5abbebd32cb2fc28fdd229e47a2fa?src=pr&el=desc) will **increase** coverage by `20.65%`.\n> The diff coverage is `75%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4850/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4850?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4850       +/-   ##\n=============================================\n+ Coverage        36%   56.66%   +20.65%     \n- Complexity        0        4        +4     \n=============================================\n  Files          1207     1174       -33     \n  Lines         64756    62568     -2188     \n  Branches       9407     9179      -228     \n=============================================\n+ Hits          23316    35454    +12138     \n+ Misses        39371    24484    -14887     \n- Partials       2069     2630      +561\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4850?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../pinot/broker/broker/helix/HelixBrokerStarter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0hlbGl4QnJva2VyU3RhcnRlci5qYXZh) | `67.58% <ø> (-1.29%)` | `0 <0> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `32.69% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pache/pinot/broker/broker/BrokerServerBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0Jyb2tlclNlcnZlckJ1aWxkZXIuamF2YQ==) | `83.67% <100%> (-2.3%)` | `0 <0> (ø)` | |\n| [...org/apache/pinot/server/starter/ServerBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9TZXJ2ZXJCdWlsZGVyLmphdmE=) | `81.57% <50%> (+6.57%)` | `0 <0> (ø)` | :arrow_down: |\n| [...on/src/main/java/org/apache/pinot/serde/SerDe.java](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJkZS9TZXJEZS5qYXZh) | `0% <0%> (-40%)` | `0% <0%> (ø)` | |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/common/metrics/MetricsHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NZXRyaWNzSGVscGVyLmphdmE=) | `48.75% <0%> (-12.5%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `53.65% <0%> (-7.32%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `94.05% <0%> (-0.55%)` | `0% <0%> (ø)` | |\n| ... and [575 more](https://codecov.io/gh/apache/incubator-pinot/pull/4850/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4850?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4850?src=pr&el=footer). Last update [3ec7548...4a2b43b](https://codecov.io/gh/apache/incubator-pinot/pull/4850?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557717766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557729600","html_url":"https://github.com/apache/pinot/pull/4728#issuecomment-557729600","issue_url":"https://api.github.com/repos/apache/pinot/issues/4728","id":557729600,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzcyOTYwMA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T23:16:47Z","updated_at":"2019-11-22T23:16:47Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/issues/4450","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557729600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557729673","html_url":"https://github.com/apache/pinot/pull/4798#issuecomment-557729673","issue_url":"https://api.github.com/repos/apache/pinot/issues/4798","id":557729673,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzcyOTY3Mw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T23:17:08Z","updated_at":"2019-11-22T23:17:08Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/issues/4450","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557729673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557729732","html_url":"https://github.com/apache/pinot/pull/4807#issuecomment-557729732","issue_url":"https://api.github.com/repos/apache/pinot/issues/4807","id":557729732,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzcyOTczMg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T23:17:24Z","updated_at":"2019-11-22T23:17:24Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/issues/4450","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557729732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557729812","html_url":"https://github.com/apache/pinot/pull/4851#issuecomment-557729812","issue_url":"https://api.github.com/repos/apache/pinot/issues/4851","id":557729812,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzcyOTgxMg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T23:17:44Z","updated_at":"2019-11-22T23:17:44Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/issues/4450","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557729812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557730921","html_url":"https://github.com/apache/pinot/pull/4833#issuecomment-557730921","issue_url":"https://api.github.com/repos/apache/pinot/issues/4833","id":557730921,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzczMDkyMQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T23:22:30Z","updated_at":"2019-11-22T23:22:30Z","author_association":"CONTRIBUTOR","body":"Closing this PR. Will split this into 3 PRs, so that it's easy to review:\r\n1. Introducing ResultSetter\r\n2. AggregationFunction change - getFinalResultType\r\n3. ResultTable for all","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557730921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557731163","html_url":"https://github.com/apache/pinot/pull/4838#issuecomment-557731163","issue_url":"https://api.github.com/repos/apache/pinot/issues/4838","id":557731163,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzczMTE2Mw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T23:23:55Z","updated_at":"2019-11-22T23:23:55Z","author_association":"CONTRIBUTOR","body":"> > > > You should commit this only after implementing the reload for consuming segments, right?\r\n> > > \r\n> > > \r\n> > > @mcvsubbu I think the reload already works for realtime table. The only issue is the consuming segments won't get the updates immediately, but when they finish, they will get the new columns.\r\n> > \r\n> > \r\n> > But then there will be a schema mismatch between consuming and other segments. Isnt that what we are trying to avoid here? (basically, provide an SLA to apply the new schema, not just that it will be available once all consuming segments have completed)\r\n> \r\n> What SLA are you referring to? Right now we don't have the feature support for applying schema change to the consuming segments, but that should not be a blocker for this automatic reload. Also, the reload is off by default, so IMO it should be okay.\r\n\r\nIssue https://github.com/apache/incubator-pinot/issues/4225\r\n\r\nThe idea is for us to be able to support (in a multi-tenant environment) -- schema evolution without requiring restart of all realtime consuming hosts. Further, we need to provide some specific SLA (say, 1 hour) after which the new schema can be queried by users. This is what I understand as the requirement. @haibow  has designed towards this goal. The SLA itself is arbitrary time, but at that time, a query with new column should not return schema incompat exception","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557731163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557731897","html_url":"https://github.com/apache/pinot/pull/4838#issuecomment-557731897","issue_url":"https://api.github.com/repos/apache/pinot/issues/4838","id":557731897,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzczMTg5Nw==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T23:27:31Z","updated_at":"2019-11-22T23:27:31Z","author_association":"CONTRIBUTOR","body":"> > > > You should commit this only after implementing the reload for consuming segments, right?\r\n> > > \r\n> > > \r\n> > > @mcvsubbu I think the reload already works for realtime table. The only issue is the consuming segments won't get the updates immediately, but when they finish, they will get the new columns.\r\n> > \r\n> > \r\n> > But then there will be a schema mismatch between consuming and other segments. Isnt that what we are trying to avoid here? (basically, provide an SLA to apply the new schema, not just that it will be available once all consuming segments have completed)\r\n> \r\n> What SLA are you referring to? Right now we don't have the feature support for applying schema change to the consuming segments, but that should not be a blocker for this automatic reload. Also, the reload is off by default, so IMO it should be okay.\r\n\r\nRight, reload is disabled by default, and this option would help offline table for now. Let me know if you prefer to explicitly restrict reloading realtime tables before the solution is ready.\r\n\r\nwrt SLA for the schema update, do you mean delaying updating the schema and reloading the table until the consuming segment is committed? It makes some sense from the user's point of view - when they check the table, if they see the old schema, it means the new fields are not ready for consuming yet; if they see the new schema, it means we've started consuming the new fields (as opposed to updating the schema immediately but only returning default null values for the new fields for some unknown time).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557731897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557738264","html_url":"https://github.com/apache/pinot/pull/4851#issuecomment-557738264","issue_url":"https://api.github.com/repos/apache/pinot/issues/4851","id":557738264,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzczODI2NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-23T00:01:49Z","updated_at":"2019-11-26T02:44:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4851?src=pr&el=h1) Report\n> Merging [#4851](https://codecov.io/gh/apache/incubator-pinot/pull/4851?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/e6e7bf92c947a91d5c1e45ba3fef2c35665df4e1?src=pr&el=desc) will **increase** coverage by `0.02%`.\n> The diff coverage is `50.28%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4851/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4851?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4851      +/-   ##\n==========================================\n+ Coverage   37.06%   37.08%   +0.02%     \n==========================================\n  Files        1197     1202       +5     \n  Lines       64981    65036      +55     \n  Branches     9457     9459       +2     \n==========================================\n+ Hits        24084    24119      +35     \n- Misses      38705    38750      +45     \n+ Partials     2192     2167      -25\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4851?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...e/pinot/core/query/reduce/BrokerReduceService.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQnJva2VyUmVkdWNlU2VydmljZS5qYXZh) | `91.2% <100%> (+35.7%)` | :arrow_up: |\n| [.../pinot/core/query/reduce/GroupByResultReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvR3JvdXBCeVJlc3VsdFJlZHVjZXIuamF2YQ==) | `33.33% <33.33%> (ø)` | |\n| [...inot/core/query/reduce/SelectionResultReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvU2VsZWN0aW9uUmVzdWx0UmVkdWNlci5qYXZh) | `69.56% <69.56%> (ø)` | |\n| [...pinot/core/query/reduce/DistinctResultReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvRGlzdGluY3RSZXN1bHRSZWR1Y2VyLmphdmE=) | `72.09% <72.09%> (ø)` | |\n| [...ot/core/query/reduce/AggregationResultReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQWdncmVnYXRpb25SZXN1bHRSZWR1Y2VyLmphdmE=) | `86.11% <86.11%> (ø)` | |\n| [.../pinot/core/query/reduce/ResultReducerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvUmVzdWx0UmVkdWNlckZhY3RvcnkuamF2YQ==) | `90.9% <90.9%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `53.84% <0%> (-28.21%)` | :arrow_down: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `11.11% <0%> (-19.45%)` | :arrow_down: |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `48.38% <0%> (-13.98%)` | :arrow_down: |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `68.33% <0%> (-11.67%)` | :arrow_down: |\n| ... and [54 more](https://codecov.io/gh/apache/incubator-pinot/pull/4851/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4851?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4851?src=pr&el=footer). Last update [e6e7bf9...db938f0](https://codecov.io/gh/apache/incubator-pinot/pull/4851?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557738264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557741017","html_url":"https://github.com/apache/pinot/pull/4838#issuecomment-557741017","issue_url":"https://api.github.com/repos/apache/pinot/issues/4838","id":557741017,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Nzc0MTAxNw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-23T00:17:23Z","updated_at":"2019-11-23T00:17:23Z","author_association":"CONTRIBUTOR","body":"> > > > > You should commit this only after implementing the reload for consuming segments, right?\r\n> > > > \r\n> > > > \r\n> > > > @mcvsubbu I think the reload already works for realtime table. The only issue is the consuming segments won't get the updates immediately, but when they finish, they will get the new columns.\r\n> > > \r\n> > > \r\n> > > But then there will be a schema mismatch between consuming and other segments. Isnt that what we are trying to avoid here? (basically, provide an SLA to apply the new schema, not just that it will be available once all consuming segments have completed)\r\n> > \r\n> > \r\n> > What SLA are you referring to? Right now we don't have the feature support for applying schema change to the consuming segments, but that should not be a blocker for this automatic reload. Also, the reload is off by default, so IMO it should be okay.\r\n> \r\n> Right, reload is disabled by default, and this option would help offline table for now. Let me know if you prefer to explicitly restrict reloading realtime tables before the solution is ready.\r\n> \r\n> wrt SLA for the schema update, do you mean delaying updating the schema and reloading the table until the consuming segment is committed? It makes some sense from the user's point of view - when they check the table, if they see the old schema, it means the new fields are not ready for consuming yet; if they see the new schema, it means we've started consuming the new fields (as opposed to updating the schema immediately but only returning default null values for the new fields for some unknown time).\r\n\r\n@haibow IIRC your requirement (when we started this project) was that your customers should be able to change the schema, and expect that the new fields show up in queries without resulting in schema errors. This \"show up\" has to happen within a specified  time (what I called SLA). We did not discuss the support of starting to ingest new values right away, but we did talk about dropping the consuming segment and restarting consumption with the new schema (and the downsides of that approach). So, in terms of new values appearing, at least for now, we will leave it that they will show up only when the current consuming segments are done, and new ones are started. Meanwhile, if the customer queries the new field, we don't want a schema mismatch error (which is what you are facing now).\r\n\r\nCorrect me if I am wrong.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557741017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557741371","html_url":"https://github.com/apache/pinot/pull/4838#issuecomment-557741371","issue_url":"https://api.github.com/repos/apache/pinot/issues/4838","id":557741371,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Nzc0MTM3MQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-23T00:19:24Z","updated_at":"2019-11-23T00:19:24Z","author_association":"CONTRIBUTOR","body":"On another note, (and thinking more about this PR) I would rather not have two operations combined into one. If there is a failure (e.g. timeout in response from Pinot) we will not know what failed or why.\r\n\r\nIt is better to expose as minimal an API as possible, and let the caller build the functionality they need out of that. I vote for NOT doing auto-reload.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557741371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557742683","html_url":"https://github.com/apache/pinot/pull/4852#issuecomment-557742683","issue_url":"https://api.github.com/repos/apache/pinot/issues/4852","id":557742683,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Nzc0MjY4Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-23T00:26:39Z","updated_at":"2019-11-23T00:56:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4852?src=pr&el=h1) Report\n> Merging [#4852](https://codecov.io/gh/apache/incubator-pinot/pull/4852?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1cc296bbe5df7466e9510384949e842b09b9cd9a?src=pr&el=desc) will **increase** coverage by `20.43%`.\n> The diff coverage is `0%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4852/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4852?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #4852       +/-   ##\n============================================\n+ Coverage     37.06%   57.5%   +20.43%     \n- Complexity        0       4        +4     \n============================================\n  Files          1197    1197               \n  Lines         64981   64995       +14     \n  Branches       9457    9457               \n============================================\n+ Hits          24084   37374    +13290     \n+ Misses        38705   24851    -13854     \n- Partials       2192    2770      +578\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4852?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...y/aggregation/function/MaxAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9NYXhBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `97.36% <0%> (+16.28%)` | `0 <0> (ø)` | :arrow_down: |\n| [...nction/DistinctCountRawHLLAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50UmF3SExMQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `91.66% <0%> (+91.66%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ation/function/MinMaxRangeAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9NaW5NYXhSYW5nZUFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `87.34% <0%> (+9.13%)` | `0 <0> (ø)` | :arrow_down: |\n| [...y/aggregation/function/AvgAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BdmdBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `96% <0%> (+18.97%)` | `0 <0> (ø)` | :arrow_down: |\n| [...gation/function/PercentileAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `73.68% <0%> (+73.68%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../function/DistinctCountHLLAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50SExMQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `43.12% <0%> (+43.12%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ion/function/PercentileEstAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlRXN0QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `76.19% <0%> (+76.19%)` | `0 <0> (ø)` | :arrow_down: |\n| [...y/aggregation/function/SumAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9TdW1BZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `96.77% <0%> (-3.23%)` | `0 <0> (ø)` | |\n| [...gregation/function/FastHLLAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GYXN0SExMQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `65.07% <0%> (+65.07%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ion/function/DistinctCountAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `41.81% <0%> (+41.81%)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [605 more](https://codecov.io/gh/apache/incubator-pinot/pull/4852/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4852?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4852?src=pr&el=footer). Last update [1cc296b...fc5b883](https://codecov.io/gh/apache/incubator-pinot/pull/4852?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557742683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557746743","html_url":"https://github.com/apache/pinot/pull/4838#issuecomment-557746743","issue_url":"https://api.github.com/repos/apache/pinot/issues/4838","id":557746743,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Nzc0Njc0Mw==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-23T00:52:28Z","updated_at":"2019-11-23T00:52:28Z","author_association":"CONTRIBUTOR","body":"> > > > > > You should commit this only after implementing the reload for consuming segments, right?\r\n> > > > > \r\n> > > > > \r\n> > > > > @mcvsubbu I think the reload already works for realtime table. The only issue is the consuming segments won't get the updates immediately, but when they finish, they will get the new columns.\r\n> > > > \r\n> > > > \r\n> > > > But then there will be a schema mismatch between consuming and other segments. Isnt that what we are trying to avoid here? (basically, provide an SLA to apply the new schema, not just that it will be available once all consuming segments have completed)\r\n> > > \r\n> > > \r\n> > > What SLA are you referring to? Right now we don't have the feature support for applying schema change to the consuming segments, but that should not be a blocker for this automatic reload. Also, the reload is off by default, so IMO it should be okay.\r\n> > \r\n> > \r\n> > Right, reload is disabled by default, and this option would help offline table for now. Let me know if you prefer to explicitly restrict reloading realtime tables before the solution is ready.\r\n> > wrt SLA for the schema update, do you mean delaying updating the schema and reloading the table until the consuming segment is committed? It makes some sense from the user's point of view - when they check the table, if they see the old schema, it means the new fields are not ready for consuming yet; if they see the new schema, it means we've started consuming the new fields (as opposed to updating the schema immediately but only returning default null values for the new fields for some unknown time).\r\n> \r\n> @haibow IIRC your requirement (when we started this project) was that your customers should be able to change the schema, and expect that the new fields show up in queries without resulting in schema errors. This \"show up\" has to happen within a specified time (what I called SLA). We did not discuss the support of starting to ingest new values right away, but we did talk about dropping the consuming segment and restarting consumption with the new schema (and the downsides of that approach). So, in terms of new values appearing, at least for now, we will leave it that they will show up only when the current consuming segments are done, and new ones are started. Meanwhile, if the customer queries the new field, we don't want a schema mismatch error (which is what you are facing now).\r\n> \r\n> Correct me if I am wrong.\r\n\r\nRight, we decided to focus on the schema mismatch issue. We did discuss the possibility of starting to ingest new values right away (force committing the consuming segment), but agreed not to do it in this phase due to the concerns on further adding complexities on consumption logic.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557746743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557823691","html_url":"https://github.com/apache/pinot/pull/4846#issuecomment-557823691","issue_url":"https://api.github.com/repos/apache/pinot/issues/4846","id":557823691,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzgyMzY5MQ==","user":{"login":"bxji","id":26340956,"node_id":"MDQ6VXNlcjI2MzQwOTU2","avatar_url":"https://avatars.githubusercontent.com/u/26340956?v=4","gravatar_id":"","url":"https://api.github.com/users/bxji","html_url":"https://github.com/bxji","followers_url":"https://api.github.com/users/bxji/followers","following_url":"https://api.github.com/users/bxji/following{/other_user}","gists_url":"https://api.github.com/users/bxji/gists{/gist_id}","starred_url":"https://api.github.com/users/bxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bxji/subscriptions","organizations_url":"https://api.github.com/users/bxji/orgs","repos_url":"https://api.github.com/users/bxji/repos","events_url":"https://api.github.com/users/bxji/events{/privacy}","received_events_url":"https://api.github.com/users/bxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-23T18:57:45Z","updated_at":"2019-11-23T18:57:45Z","author_association":"CONTRIBUTOR","body":"Can we add a comment somewhere noting that configId and detectionId are referring to the same thing? We are using them interchangeably in the code, but it would not be clear to someone new to the codebase that they are the same. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/557823691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558236945","html_url":"https://github.com/apache/pinot/pull/4846#issuecomment-558236945","issue_url":"https://api.github.com/repos/apache/pinot/issues/4846","id":558236945,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODIzNjk0NQ==","user":{"login":"akshayrai","id":4448437,"node_id":"MDQ6VXNlcjQ0NDg0Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/4448437?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayrai","html_url":"https://github.com/akshayrai","followers_url":"https://api.github.com/users/akshayrai/followers","following_url":"https://api.github.com/users/akshayrai/following{/other_user}","gists_url":"https://api.github.com/users/akshayrai/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayrai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayrai/subscriptions","organizations_url":"https://api.github.com/users/akshayrai/orgs","repos_url":"https://api.github.com/users/akshayrai/repos","events_url":"https://api.github.com/users/akshayrai/events{/privacy}","received_events_url":"https://api.github.com/users/akshayrai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-25T16:38:00Z","updated_at":"2019-11-25T16:38:00Z","author_association":"CONTRIBUTOR","body":"> Can we add a comment somewhere noting that configId and detectionId are referring to the same thing? We are using them interchangeably in the code, but it would not be clear to someone new to the codebase that they are the same.\r\n\r\n@bxji, good point. I have made sure any new variable instantiation as part of this PR already follows this convention. Updating existing references will require touching other pieces of the class and could be taken up in a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558236945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558268662","html_url":"https://github.com/apache/pinot/pull/4838#issuecomment-558268662","issue_url":"https://api.github.com/repos/apache/pinot/issues/4838","id":558268662,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODI2ODY2Mg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-25T17:55:02Z","updated_at":"2019-11-25T17:55:02Z","author_association":"CONTRIBUTOR","body":"OK, so we all agree that this commit can hold off until the reload is implemented for CONSUMING segments?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558268662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558294690","html_url":"https://github.com/apache/pinot/pull/4808#issuecomment-558294690","issue_url":"https://api.github.com/repos/apache/pinot/issues/4808","id":558294690,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODI5NDY5MA==","user":{"login":"jenniferdai","id":5035129,"node_id":"MDQ6VXNlcjUwMzUxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/5035129?v=4","gravatar_id":"","url":"https://api.github.com/users/jenniferdai","html_url":"https://github.com/jenniferdai","followers_url":"https://api.github.com/users/jenniferdai/followers","following_url":"https://api.github.com/users/jenniferdai/following{/other_user}","gists_url":"https://api.github.com/users/jenniferdai/gists{/gist_id}","starred_url":"https://api.github.com/users/jenniferdai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenniferdai/subscriptions","organizations_url":"https://api.github.com/users/jenniferdai/orgs","repos_url":"https://api.github.com/users/jenniferdai/repos","events_url":"https://api.github.com/users/jenniferdai/events{/privacy}","received_events_url":"https://api.github.com/users/jenniferdai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-25T19:02:16Z","updated_at":"2019-11-25T19:02:16Z","author_association":"MEMBER","body":"@chenboat can you resolve conflicts? after that, I can help you merge if you don't have permission","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558294690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558311926","html_url":"https://github.com/apache/pinot/issues/4856#issuecomment-558311926","issue_url":"https://api.github.com/repos/apache/pinot/issues/4856","id":558311926,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODMxMTkyNg==","user":{"login":"elonazoulay","id":1587350,"node_id":"MDQ6VXNlcjE1ODczNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1587350?v=4","gravatar_id":"","url":"https://api.github.com/users/elonazoulay","html_url":"https://github.com/elonazoulay","followers_url":"https://api.github.com/users/elonazoulay/followers","following_url":"https://api.github.com/users/elonazoulay/following{/other_user}","gists_url":"https://api.github.com/users/elonazoulay/gists{/gist_id}","starred_url":"https://api.github.com/users/elonazoulay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elonazoulay/subscriptions","organizations_url":"https://api.github.com/users/elonazoulay/orgs","repos_url":"https://api.github.com/users/elonazoulay/repos","events_url":"https://api.github.com/users/elonazoulay/events{/privacy}","received_events_url":"https://api.github.com/users/elonazoulay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-25T19:47:07Z","updated_at":"2019-11-25T19:47:07Z","author_association":"CONTRIBUTOR","body":"I would like to work on this as we have a use case for simple string functions.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558311926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558320228","html_url":"https://github.com/apache/pinot/pull/4855#issuecomment-558320228","issue_url":"https://api.github.com/repos/apache/pinot/issues/4855","id":558320228,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODMyMDIyOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-25T20:08:16Z","updated_at":"2019-11-25T20:08:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4855?src=pr&el=h1) Report\n> Merging [#4855](https://codecov.io/gh/apache/incubator-pinot/pull/4855?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/759eee929ebe8a2656c67364ded65b22dc62effe?src=pr&el=desc) will **increase** coverage by `7.41%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4855/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4855?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4855      +/-   ##\n============================================\n+ Coverage     50.16%   57.58%   +7.41%     \n  Complexity        4        4              \n============================================\n  Files          1197     1197              \n  Lines         64995    64995              \n  Branches       9457     9457              \n============================================\n+ Hits          32606    37428    +4822     \n+ Misses        29881    24801    -5080     \n- Partials       2508     2766     +258\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4855?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | `66.22% <100%> (+60.26%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ment/creator/impl/SegmentColumnarIndexCreator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50Q29sdW1uYXJJbmRleENyZWF0b3IuamF2YQ==) | `88.8% <0%> (+0.72%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...t/creator/impl/SegmentIndexCreationDriverImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50SW5kZXhDcmVhdGlvbkRyaXZlckltcGwuamF2YQ==) | `89.71% <0%> (+0.82%)` | `0% <0%> (ø)` | :arrow_down: |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `70.63% <0%> (+0.85%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...e/io/writer/impl/MutableOffHeapByteArrayStore.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby93cml0ZXIvaW1wbC9NdXRhYmxlT2ZmSGVhcEJ5dGVBcnJheVN0b3JlLmphdmE=) | `85.71% <0%> (+1.09%)` | `0% <0%> (ø)` | :arrow_down: |\n| [.../pinot/core/segment/index/SegmentMetadataImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L1NlZ21lbnRNZXRhZGF0YUltcGwuamF2YQ==) | `80.97% <0%> (+1.21%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...va/org/apache/pinot/common/data/TimeFieldSpec.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YS9UaW1lRmllbGRTcGVjLmphdmE=) | `93.82% <0%> (+1.23%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...pinot/core/operator/docvalsets/SingleValueSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2N2YWxzZXRzL1NpbmdsZVZhbHVlU2V0LmphdmE=) | `90.41% <0%> (+1.36%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...inot/core/operator/docidsets/AndBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvQW5kQmxvY2tEb2NJZFNldC5qYXZh) | `55.55% <0%> (+1.38%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...ion/groupby/AggregationGroupByTrimmingService.java](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L0FnZ3JlZ2F0aW9uR3JvdXBCeVRyaW1taW5nU2VydmljZS5qYXZh) | `94.44% <0%> (+1.58%)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [266 more](https://codecov.io/gh/apache/incubator-pinot/pull/4855/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4855?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4855?src=pr&el=footer). Last update [759eee9...7901df7](https://codecov.io/gh/apache/incubator-pinot/pull/4855?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558320228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558393413","html_url":"https://github.com/apache/pinot/pull/4808#issuecomment-558393413","issue_url":"https://api.github.com/repos/apache/pinot/issues/4808","id":558393413,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODM5MzQxMw==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-25T23:49:13Z","updated_at":"2019-11-25T23:49:13Z","author_association":"CONTRIBUTOR","body":"> @chenboat can you resolve conflicts? after that, I can help you merge if you don't have permission\r\n\r\n@jenniferdai Thanks. Rebase my branch to solve the conflicts and kick off the tests again. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558393413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558410970","html_url":"https://github.com/apache/pinot/pull/4851#issuecomment-558410970","issue_url":"https://api.github.com/repos/apache/pinot/issues/4851","id":558410970,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODQxMDk3MA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T01:01:43Z","updated_at":"2019-11-26T01:01:43Z","author_association":"CONTRIBUTOR","body":"LGTM. Just one minor comment on using constants from FunctionCallAstNode.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558410970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558442971","html_url":"https://github.com/apache/pinot/pull/4859#issuecomment-558442971","issue_url":"https://api.github.com/repos/apache/pinot/issues/4859","id":558442971,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODQ0Mjk3MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T03:27:40Z","updated_at":"2019-11-27T00:43:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4859?src=pr&el=h1) Report\n> Merging [#4859](https://codecov.io/gh/apache/incubator-pinot/pull/4859?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/9881764d736543d3f88c31dcbada7d6b8448313e?src=pr&el=desc) will **increase** coverage by `0.11%`.\n> The diff coverage is `77.77%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4859/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4859?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4859      +/-   ##\n============================================\n+ Coverage     57.64%   57.76%   +0.11%     \n  Complexity        4        4              \n============================================\n  Files          1203     1200       -3     \n  Lines         64685    64662      -23     \n  Branches       9393     9389       -4     \n============================================\n+ Hits          37289    37349      +60     \n+ Misses        24611    24541      -70     \n+ Partials       2785     2772      -13\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4859?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `35% <0%> (+12.5%)` | `0 <0> (ø)` | :arrow_down: |\n| [...roller/helix/core/PinotTableIdealStateBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90VGFibGVJZGVhbFN0YXRlQnVpbGRlci5qYXZh) | `80.26% <100%> (-0.26%)` | `0 <0> (ø)` | |\n| [...config/instance/InstanceAssignmentConfigUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL2luc3RhbmNlL0luc3RhbmNlQXNzaWdubWVudENvbmZpZ1V0aWxzLmphdmE=) | `76.47% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `62.61% <68.18%> (+0.15%)` | `0 <0> (ø)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `65.21% <75%> (+0.77%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../pinot/broker/broker/helix/HelixBrokerStarter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0hlbGl4QnJva2VyU3RhcnRlci5qYXZh) | `71.52% <85.71%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/org/apache/pinot/common/config/TagNameUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1RhZ05hbWVVdGlscy5qYXZh) | `82.75% <88%> (+15.01%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../org/apache/pinot/client/PinotClientException.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvUGlub3RDbGllbnRFeGNlcHRpb24uamF2YQ==) | `33.33% <0%> (-33.34%)` | `0% <0%> (ø)` | |\n| [...pinot/broker/api/resources/PinotClientRequest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdENsaWVudFJlcXVlc3QuamF2YQ==) | `23.8% <0%> (-19.05%)` | `0% <0%> (ø)` | |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvSnNvbkFzeW5jSHR0cFBpbm90Q2xpZW50VHJhbnNwb3J0LmphdmE=) | `58.69% <0%> (-15.22%)` | `0% <0%> (ø)` | |\n| ... and [31 more](https://codecov.io/gh/apache/incubator-pinot/pull/4859/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4859?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4859?src=pr&el=footer). Last update [9881764...67b9613](https://codecov.io/gh/apache/incubator-pinot/pull/4859?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558442971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558444915","html_url":"https://github.com/apache/pinot/pull/4858#issuecomment-558444915","issue_url":"https://api.github.com/repos/apache/pinot/issues/4858","id":558444915,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODQ0NDkxNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T03:37:10Z","updated_at":"2019-11-26T03:37:10Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4858?src=pr&el=h1) Report\n> Merging [#4858](https://codecov.io/gh/apache/incubator-pinot/pull/4858?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/c0f8b7a5736f860b338a06d9a76f1bc47125c272?src=pr&el=desc) will **increase** coverage by `0.19%`.\n> The diff coverage is `71.91%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4858/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4858?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4858      +/-   ##\n============================================\n+ Coverage     57.53%   57.72%   +0.19%     \n  Complexity        4        4              \n============================================\n  Files          1197     1198       +1     \n  Lines         65011    64659     -352     \n  Branches       9459     9392      -67     \n============================================\n- Hits          37402    37323      -79     \n+ Misses        24851    24565     -286     \n- Partials       2758     2771      +13\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4858?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/assignment/instance/InstanceTagPoolSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL2Fzc2lnbm1lbnQvaW5zdGFuY2UvSW5zdGFuY2VUYWdQb29sU2VsZWN0b3IuamF2YQ==) | `96.29% <ø> (-0.07%)` | `0 <0> (ø)` | |\n| [...he/pinot/tools/admin/command/AddTenantCommand.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2FkbWluL2NvbW1hbmQvQWRkVGVuYW50Q29tbWFuZC5qYXZh) | `0% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...g/apache/pinot/tools/perf/PerfBenchmarkDriver.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL3BlcmYvUGVyZkJlbmNobWFya0RyaXZlci5qYXZh) | `0% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...rg/apache/pinot/common/config/TableTaskConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1RhYmxlVGFza0NvbmZpZy5qYXZh) | `0% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pache/pinot/common/config/StarTreeIndexConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1N0YXJUcmVlSW5kZXhDb25maWcuamF2YQ==) | `0% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../java/org/apache/pinot/common/config/Instance.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL0luc3RhbmNlLmphdmE=) | `75.67% <0%> (-0.65%)` | `0 <0> (ø)` | |\n| [...g/apache/pinot/common/config/CompletionConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL0NvbXBsZXRpb25Db25maWcuamF2YQ==) | `100% <100%> (+45.45%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../instance/InstanceReplicaGroupPartitionConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL2luc3RhbmNlL0luc3RhbmNlUmVwbGljYUdyb3VwUGFydGl0aW9uQ29uZmlnLmphdmE=) | `100% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...config/instance/InstanceAssignmentConfigUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL2luc3RhbmNlL0luc3RhbmNlQXNzaWdubWVudENvbmZpZ1V0aWxzLmphdmE=) | `76.47% <100%> (-3.02%)` | `0 <0> (ø)` | |\n| [...va/org/apache/pinot/common/config/QuotaConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1F1b3RhQ29uZmlnLmphdmE=) | `96.29% <100%> (+25.24%)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [51 more](https://codecov.io/gh/apache/incubator-pinot/pull/4858/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4858?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4858?src=pr&el=footer). Last update [c0f8b7a...7b53e85](https://codecov.io/gh/apache/incubator-pinot/pull/4858?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558444915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558787377","html_url":"https://github.com/apache/pinot/pull/4800#issuecomment-558787377","issue_url":"https://api.github.com/repos/apache/pinot/issues/4800","id":558787377,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODc4NzM3Nw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T19:40:58Z","updated_at":"2019-11-26T19:40:58Z","author_association":"CONTRIBUTOR","body":"> Is this consistent with https://docs.google.com/document/d/1160Wz-694-SDuFEKrZ2rW_iIswcTqk4hJ3k-BNp0BaI/edit#? Or, do we have to move things again later? Should we attempt to make one change instead of two? @kishoreg ?\r\n\r\nThis change is consistent with what proposed in this doc.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558787377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558790930","html_url":"https://github.com/apache/pinot/pull/4800#issuecomment-558790930","issue_url":"https://api.github.com/repos/apache/pinot/issues/4800","id":558790930,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODc5MDkzMA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T19:50:48Z","updated_at":"2019-11-26T19:50:48Z","author_association":"CONTRIBUTOR","body":"> I was able to compile our hadoop segment generation and push job after changing some imports and scripts (to find the right packages).\r\n> \r\n> Please mark the the commit clearly in the commit message that this is a backward incompatible change. Our hadoop job needed to change due to the following. So add this to the commit message, so that the next release notes can be correctly done.\r\n> \r\n> 1. Two of the projects are now one directory level below, so any script that assumes that all projects are at the first level under 'pinot' needs change.\r\n> 2. Import path of classes have changed:\r\n> \r\n> * ControllerRestApi has moved from hadoop.job to ingestion.common\r\n> * JobConfigConstants has moved from hadoop.job to ingestion.common\r\n> * SegmentCreationJob has been renamed to HadoopSegmentCreationJob\r\n> * BaseSegmentJob has moved from hadoop.job to ingestion.jobs\r\n> * Variable _conf is now private inside BaseSegmentJob\r\n\r\nUpdated the message in PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558790930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558791642","html_url":"https://github.com/apache/pinot/issues/4731#issuecomment-558791642","issue_url":"https://api.github.com/repos/apache/pinot/issues/4731","id":558791642,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODc5MTY0Mg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T19:52:44Z","updated_at":"2019-11-26T19:52:44Z","author_association":"MEMBER","body":"More detailed proposal. https://docs.google.com/document/d/1160Wz-694-SDuFEKrZ2rW_iIswcTqk4hJ3k-BNp0BaI/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558791642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558799676","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-558799676","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":558799676,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODc5OTY3Ng==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T20:15:57Z","updated_at":"2019-11-26T20:15:57Z","author_association":"CONTRIBUTOR","body":"Proposed the  changes in execution layer in order to simplify the sql rollout. \r\nhttps://docs.google.com/document/d/1uNIq0cybUtVtdtJ38-4ewFNEQorbg-2KYr-CMSj6H_8/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558799676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558817068","html_url":"https://github.com/apache/pinot/pull/4860#issuecomment-558817068","issue_url":"https://api.github.com/repos/apache/pinot/issues/4860","id":558817068,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODgxNzA2OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T21:06:35Z","updated_at":"2019-11-27T14:50:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4860?src=pr&el=h1) Report\n> Merging [#4860](https://codecov.io/gh/apache/incubator-pinot/pull/4860?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/05c89fca6744b6f5d8ffd0e1c19c8ed0e28d0ae6?src=pr&el=desc) will **decrease** coverage by `7.53%`.\n> The diff coverage is `85.71%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4860/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4860?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master   #4860      +/-   ##\n===========================================\n- Coverage     57.83%   50.3%   -7.54%     \n  Complexity        4       4              \n===========================================\n  Files          1200    1201       +1     \n  Lines         64663   64691      +28     \n  Branches       9389    9393       +4     \n===========================================\n- Hits          37401   32540    -4861     \n- Misses        24491   29637    +5146     \n+ Partials       2771    2514     -257\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4860?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...r/transform/function/TransformFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25GYWN0b3J5LmphdmE=) | `65.51% <100%> (-4.13%)` | `0 <0> (ø)` | |\n| [...m/function/SingleParamStringTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vU2luZ2xlUGFyYW1TdHJpbmdUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `84.61% <84.61%> (ø)` | `0 <0> (?)` | |\n| [...g/apache/pinot/sql/parsers/CalciteSqlCompiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsQ29tcGlsZXIuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/realtime/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vTWVzc2FnZUJhdGNoLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/hadoop/io/CombineAvroKeyInputFormat.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3AvaW8vQ29tYmluZUF2cm9LZXlJbnB1dEZvcm1hdC5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...starter/helix/DefaultHelixStarterServerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9EZWZhdWx0SGVsaXhTdGFydGVyU2VydmVyQ29uZmlnLmphdmE=) | `0% <0%> (-96.16%)` | `0% <0%> (ø)` | |\n| [...re/data/manager/config/TableDataManagerConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvY29uZmlnL1RhYmxlRGF0YU1hbmFnZXJDb25maWcuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...converter/stats/RealtimeSegmentStatsContainer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9jb252ZXJ0ZXIvc3RhdHMvUmVhbHRpbWVTZWdtZW50U3RhdHNDb250YWluZXIuamF2YQ==) | `0% <0%> (-94.45%)` | `0% <0%> (ø)` | |\n| [...ot/hadoop/job/partitioners/GenericPartitioner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9oYWRvb3Avam9iL3BhcnRpdGlvbmVycy9HZW5lcmljUGFydGl0aW9uZXIuamF2YQ==) | `0% <0%> (-93.34%)` | `0% <0%> (ø)` | |\n| [...esthandler/ConnectionPoolBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQ29ubmVjdGlvblBvb2xCcm9rZXJSZXF1ZXN0SGFuZGxlci5qYXZh) | `0% <0%> (-88.83%)` | `0% <0%> (ø)` | |\n| ... and [279 more](https://codecov.io/gh/apache/incubator-pinot/pull/4860/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4860?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4860?src=pr&el=footer). Last update [05c89fc...1e30c69](https://codecov.io/gh/apache/incubator-pinot/pull/4860?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558817068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558860129","html_url":"https://github.com/apache/pinot/pull/3849#issuecomment-558860129","issue_url":"https://api.github.com/repos/apache/pinot/issues/3849","id":558860129,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODg2MDEyOQ==","user":{"login":"chenboat","id":2549137,"node_id":"MDQ6VXNlcjI1NDkxMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2549137?v=4","gravatar_id":"","url":"https://api.github.com/users/chenboat","html_url":"https://github.com/chenboat","followers_url":"https://api.github.com/users/chenboat/followers","following_url":"https://api.github.com/users/chenboat/following{/other_user}","gists_url":"https://api.github.com/users/chenboat/gists{/gist_id}","starred_url":"https://api.github.com/users/chenboat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenboat/subscriptions","organizations_url":"https://api.github.com/users/chenboat/orgs","repos_url":"https://api.github.com/users/chenboat/repos","events_url":"https://api.github.com/users/chenboat/events{/privacy}","received_events_url":"https://api.github.com/users/chenboat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T23:23:49Z","updated_at":"2019-11-26T23:23:49Z","author_association":"CONTRIBUTOR","body":"No longer need as fixed by #4808 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558860129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558865615","html_url":"https://github.com/apache/pinot/pull/4863#issuecomment-558865615","issue_url":"https://api.github.com/repos/apache/pinot/issues/4863","id":558865615,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODg2NTYxNQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T23:48:54Z","updated_at":"2019-11-26T23:48:54Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/issues/4450","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558865615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558883058","html_url":"https://github.com/apache/pinot/pull/4863#issuecomment-558883058","issue_url":"https://api.github.com/repos/apache/pinot/issues/4863","id":558883058,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODg4MzA1OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T01:07:41Z","updated_at":"2019-11-27T01:07:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4863?src=pr&el=h1) Report\n> Merging [#4863](https://codecov.io/gh/apache/incubator-pinot/pull/4863?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/9881764d736543d3f88c31dcbada7d6b8448313e?src=pr&el=desc) will **decrease** coverage by `7.12%`.\n> The diff coverage is `88.17%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4863/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4863?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4863      +/-   ##\n============================================\n- Coverage     57.64%   50.52%   -7.13%     \n  Complexity        4        4              \n============================================\n  Files          1203     1203              \n  Lines         64685    64801     +116     \n  Branches       9393     9416      +23     \n============================================\n- Hits          37289    32742    -4547     \n- Misses        24611    29539    +4928     \n+ Partials       2785     2520     -265\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4863?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...t/core/query/selection/SelectionOperatorUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JVdGlscy5qYXZh) | `88.92% <100%> (-6.84%)` | `0 <0> (ø)` | |\n| [...aggregation/function/AggregationFunctionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uVXRpbHMuamF2YQ==) | `93.75% <100%> (-1.91%)` | `0 <0> (ø)` | |\n| [...core/query/selection/SelectionOperatorService.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JTZXJ2aWNlLmphdmE=) | `95.38% <100%> (-2.73%)` | `0 <0> (ø)` | |\n| [...rator/query/AggregationGroupByOrderByOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9xdWVyeS9BZ2dyZWdhdGlvbkdyb3VwQnlPcmRlckJ5T3BlcmF0b3IuamF2YQ==) | `92.5% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/core/query/reduce/SelectionDataTableReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvU2VsZWN0aW9uRGF0YVRhYmxlUmVkdWNlci5qYXZh) | `55.17% <58.82%> (-14.4%)` | `0 <0> (ø)` | |\n| [...ot/core/query/reduce/DistinctDataTableReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvRGlzdGluY3REYXRhVGFibGVSZWR1Y2VyLmphdmE=) | `79.36% <75%> (+7.27%)` | `0 <0> (ø)` | :arrow_down: |\n| [...core/query/reduce/AggregationDataTableReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQWdncmVnYXRpb25EYXRhVGFibGVSZWR1Y2VyLmphdmE=) | `82.75% <89.65%> (-3.36%)` | `0 <0> (ø)` | |\n| [...not/core/query/reduce/GroupByDataTableReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvR3JvdXBCeURhdGFUYWJsZVJlZHVjZXIuamF2YQ==) | `84.18% <92.38%> (+0.85%)` | `0 <0> (ø)` | :arrow_down: |\n| [...g/apache/pinot/sql/parsers/CalciteSqlCompiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsQ29tcGlsZXIuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/realtime/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vTWVzc2FnZUJhdGNoLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| ... and [274 more](https://codecov.io/gh/apache/incubator-pinot/pull/4863/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4863?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4863?src=pr&el=footer). Last update [9881764...11ac72c](https://codecov.io/gh/apache/incubator-pinot/pull/4863?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558883058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558932565","html_url":"https://github.com/apache/pinot/pull/4865#issuecomment-558932565","issue_url":"https://api.github.com/repos/apache/pinot/issues/4865","id":558932565,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODkzMjU2NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T05:16:36Z","updated_at":"2019-11-27T20:46:58Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4865?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@03ae23c`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `75%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4865/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4865?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4865   +/-   ##\n=========================================\n  Coverage          ?   57.81%           \n  Complexity        ?        4           \n=========================================\n  Files             ?     1200           \n  Lines             ?    64659           \n  Branches          ?     9390           \n=========================================\n  Hits              ?    37380           \n  Misses            ?    24508           \n  Partials          ?     2771\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4865?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/pinot/common/config/TableNameBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4865/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1RhYmxlTmFtZUJ1aWxkZXIuamF2YQ==) | `100% <ø> (ø)` | `0 <0> (?)` | |\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4865/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | `60.47% <ø> (ø)` | `0 <0> (?)` | |\n| [...ler/api/resources/PinotSegmentRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4865/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFJlc3RsZXRSZXNvdXJjZS5qYXZh) | `20% <0%> (ø)` | `0 <0> (?)` | |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4865/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `75% <100%> (ø)` | `0 <0> (?)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4865/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `40% <100%> (ø)` | `0 <0> (?)` | |\n| [...troller/helix/core/minion/ClusterInfoProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4865/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9DbHVzdGVySW5mb1Byb3ZpZGVyLmphdmE=) | `35.71% <33.33%> (ø)` | `0 <0> (?)` | |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4865/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `62.13% <78.26%> (ø)` | `0 <0> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4865?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4865?src=pr&el=footer). Last update [03ae23c...e6e4805](https://codecov.io/gh/apache/incubator-pinot/pull/4865?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558932565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558984119","html_url":"https://github.com/apache/pinot/pull/4866#issuecomment-558984119","issue_url":"https://api.github.com/repos/apache/pinot/issues/4866","id":558984119,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODk4NDExOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T08:31:07Z","updated_at":"2019-11-28T00:14:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4866?src=pr&el=h1) Report\n> Merging [#4866](https://codecov.io/gh/apache/incubator-pinot/pull/4866?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/fdfe8a2bde481aa3233a7675fbf4040a330d4b63?src=pr&el=desc) will **decrease** coverage by `0.03%`.\n> The diff coverage is `41.17%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4866/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4866?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4866      +/-   ##\n============================================\n- Coverage     57.81%   57.77%   -0.04%     \n  Complexity        4        4              \n============================================\n  Files          1200     1200              \n  Lines         64659    64658       -1     \n  Branches       9390     9390              \n============================================\n- Hits          37385    37359      -26     \n- Misses        24494    24514      +20     \n- Partials       2780     2785       +5\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4866?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...inot/core/data/readers/GenericRowRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvR2VuZXJpY1Jvd1JlY29yZFJlYWRlci5qYXZh) | `93.33% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ache/pinot/core/data/readers/JSONRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvSlNPTlJlY29yZFJlYWRlci5qYXZh) | `86.66% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../pinot/core/minion/segment/MapperRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9taW5pb24vc2VnbWVudC9NYXBwZXJSZWNvcmRSZWFkZXIuamF2YQ==) | `81.08% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pinot/core/minion/segment/ReducerRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9taW5pb24vc2VnbWVudC9SZWR1Y2VyUmVjb3JkUmVhZGVyLmphdmE=) | `90.19% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ache/pinot/core/data/readers/AvroRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvQXZyb1JlY29yZFJlYWRlci5qYXZh) | `86.2% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...data/readers/MultiplePinotSegmentRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvTXVsdGlwbGVQaW5vdFNlZ21lbnRSZWNvcmRSZWFkZXIuamF2YQ==) | `72.22% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pache/pinot/core/data/readers/CSVRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvQ1NWUmVjb3JkUmVhZGVyLmphdmE=) | `69.81% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ealtime/converter/RealtimeSegmentRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9jb252ZXJ0ZXIvUmVhbHRpbWVTZWdtZW50UmVjb3JkUmVhZGVyLmphdmE=) | `58.33% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...he/pinot/core/data/readers/ThriftRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvVGhyaWZ0UmVjb3JkUmVhZGVyLmphdmE=) | `82% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...e/pinot/core/data/readers/RecordReaderFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvUmVjb3JkUmVhZGVyRmFjdG9yeS5qYXZh) | `34.78% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [38 more](https://codecov.io/gh/apache/incubator-pinot/pull/4866/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4866?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4866?src=pr&el=footer). Last update [fdfe8a2...24f8e62](https://codecov.io/gh/apache/incubator-pinot/pull/4866?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/558984119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559244374","html_url":"https://github.com/apache/pinot/pull/4870#issuecomment-559244374","issue_url":"https://api.github.com/repos/apache/pinot/issues/4870","id":559244374,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTI0NDM3NA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T20:42:11Z","updated_at":"2019-11-27T20:42:11Z","author_association":"MEMBER","body":"This is good to have for now since we don't support aliasing. But this should be typically solved at a very high level using a mapping table. Let's make sure that this will not make it difficult to implement aliasing later.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559244374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559244561","html_url":"https://github.com/apache/pinot/pull/4870#issuecomment-559244561","issue_url":"https://api.github.com/repos/apache/pinot/issues/4870","id":559244561,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTI0NDU2MQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T20:42:53Z","updated_at":"2019-11-27T20:42:53Z","author_association":"MEMBER","body":"what functions in selections and group by.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559244561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559246508","html_url":"https://github.com/apache/pinot/pull/4778#issuecomment-559246508","issue_url":"https://api.github.com/repos/apache/pinot/issues/4778","id":559246508,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTI0NjUwOA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T20:49:57Z","updated_at":"2019-11-27T20:49:57Z","author_association":"MEMBER","body":"@Jackie-Jiang fixed this ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559246508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559263340","html_url":"https://github.com/apache/pinot/pull/4870#issuecomment-559263340","issue_url":"https://api.github.com/repos/apache/pinot/issues/4870","id":559263340,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTI2MzM0MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T21:53:32Z","updated_at":"2019-12-03T00:43:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4870?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@03ae23c`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `4.76%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4870/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4870?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff            @@\n##             master   #4870   +/-   ##\n========================================\n  Coverage          ?   35.9%           \n========================================\n  Files             ?    1206           \n  Lines             ?   64737           \n  Branches          ?    9402           \n========================================\n  Hits              ?   23243           \n  Misses            ?   39400           \n  Partials          ?    2094\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4870?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...y/aggregation/function/MaxAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9NYXhBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `78.37% <ø> (ø)` | |\n| [...y/aggregation/function/MinAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9NaW5BZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `78.37% <ø> (ø)` | |\n| [...nction/DistinctCountRawHLLAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50UmF3SExMQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `0% <ø> (ø)` | |\n| [.../function/DistinctCountHLLAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50SExMQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `0% <ø> (ø)` | |\n| [...n/function/DistinctCountMVAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50TVZBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `0% <ø> (ø)` | |\n| [...ation/function/MinMaxRangeAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9NaW5NYXhSYW5nZUFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `75.64% <ø> (ø)` | |\n| [...aggregation/function/AggregationFunctionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uVXRpbHMuamF2YQ==) | `93.33% <ø> (ø)` | |\n| [...ion/function/DistinctCountAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `0% <ø> (ø)` | |\n| [...y/aggregation/function/AvgAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BdmdBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `75.67% <ø> (ø)` | |\n| [...aggregation/function/SumMVAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9TdW1NVkFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `0% <ø> (ø)` | |\n| ... and [21 more](https://codecov.io/gh/apache/incubator-pinot/pull/4870/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4870?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4870?src=pr&el=footer). Last update [03ae23c...da164f4](https://codecov.io/gh/apache/incubator-pinot/pull/4870?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559263340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559277431","html_url":"https://github.com/apache/pinot/pull/4866#issuecomment-559277431","issue_url":"https://api.github.com/repos/apache/pinot/issues/4866","id":559277431,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTI3NzQzMQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T22:53:06Z","updated_at":"2019-11-27T22:53:06Z","author_association":"MEMBER","body":"#4869 captures the changes in this PR and incorporates the feedback. Closing this PR","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559277431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559280223","html_url":"https://github.com/apache/pinot/pull/4870#issuecomment-559280223","issue_url":"https://api.github.com/repos/apache/pinot/issues/4870","id":559280223,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTI4MDIyMw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T23:06:38Z","updated_at":"2019-11-27T23:06:38Z","author_association":"CONTRIBUTOR","body":"> This is good to have for now since we don't support aliasing. But this should be typically solved at a very high level using a mapping table. Let's make sure that this will not make it difficult to implement aliasing later.\r\n\r\nI feel this is required. We have no other way to fetch the name like `avg(foo)`. Order by cannot understand `avg_foo`, as the TransformExpressionTree converts it to `avg(foo)`.\r\nI don't think this should affect ability to handle aliases later","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559280223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559318125","html_url":"https://github.com/apache/pinot/pull/4869#issuecomment-559318125","issue_url":"https://api.github.com/repos/apache/pinot/issues/4869","id":559318125,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTMxODEyNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-28T02:40:56Z","updated_at":"2019-11-28T02:40:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4869?src=pr&el=h1) Report\n> Merging [#4869](https://codecov.io/gh/apache/incubator-pinot/pull/4869?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1ba62059e8d6b8386e94d8d71a44b52db6fbf329?src=pr&el=desc) will **increase** coverage by `0.01%`.\n> The diff coverage is `27.58%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4869/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4869?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4869      +/-   ##\n============================================\n+ Coverage     57.74%   57.75%   +0.01%     \n  Complexity        4        4              \n============================================\n  Files          1200     1201       +1     \n  Lines         64658    64659       +1     \n  Branches       9390     9389       -1     \n============================================\n+ Hits          37334    37342       +8     \n+ Misses        24553    24543      -10     \n- Partials       2771     2774       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4869?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../data/aggregator/PercentileEstValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvUGVyY2VudGlsZUVzdFZhbHVlQWdncmVnYXRvci5qYXZh) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...inot/core/data/readers/GenericRowRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvR2VuZXJpY1Jvd1JlY29yZFJlYWRlci5qYXZh) | `93.33% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...org/apache/pinot/core/minion/SegmentConverter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9taW5pb24vU2VnbWVudENvbnZlcnRlci5qYXZh) | `71.95% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...e/realtime/impl/kafka/KafkaAvroMessageDecoder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29ubmVjdG9ycy9waW5vdC1jb25uZWN0b3Ita2Fma2EtYmFzZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2thZmthL0thZmthQXZyb01lc3NhZ2VEZWNvZGVyLmphdmE=) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...re/startree/v2/store/StarTreeMetricDataSource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZU1ldHJpY0RhdGFTb3VyY2UuamF2YQ==) | `54.16% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ot/core/startree/v2/store/StarTreeLoaderUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZUxvYWRlclV0aWxzLmphdmE=) | `93.65% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/common/response/broker/BrokerResponseNative.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzcG9uc2UvYnJva2VyL0Jyb2tlclJlc3BvbnNlTmF0aXZlLmphdmE=) | `91.57% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...not/core/plan/maker/BrokerRequestPreProcessor.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL21ha2VyL0Jyb2tlclJlcXVlc3RQcmVQcm9jZXNzb3IuamF2YQ==) | `75% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...va/org/apache/pinot/common/config/TableConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1RhYmxlQ29uZmlnLmphdmE=) | `83.83% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `94.05% <ø> (-0.55%)` | `0 <0> (ø)` | |\n| ... and [258 more](https://codecov.io/gh/apache/incubator-pinot/pull/4869/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4869?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4869?src=pr&el=footer). Last update [1ba6205...4b9c050](https://codecov.io/gh/apache/incubator-pinot/pull/4869?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559318125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559377587","html_url":"https://github.com/apache/pinot/pull/4869#issuecomment-559377587","issue_url":"https://api.github.com/repos/apache/pinot/issues/4869","id":559377587,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTM3NzU4Nw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-28T07:39:57Z","updated_at":"2019-11-28T07:39:57Z","author_association":"MEMBER","body":"Merging so that others can push changes. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559377587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559378103","html_url":"https://github.com/apache/pinot/pull/4869#issuecomment-559378103","issue_url":"https://api.github.com/repos/apache/pinot/issues/4869","id":559378103,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTM3ODEwMw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-28T07:41:49Z","updated_at":"2019-11-28T07:41:49Z","author_association":"MEMBER","body":"Jackie had also approved this earlier and we were waiting for build to pass","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/559378103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560019308","html_url":"https://github.com/apache/pinot/pull/4871#issuecomment-560019308","issue_url":"https://api.github.com/repos/apache/pinot/issues/4871","id":560019308,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDAxOTMwOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-30T20:37:30Z","updated_at":"2019-11-30T20:37:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4871?src=pr&el=h1) Report\n> Merging [#4871](https://codecov.io/gh/apache/incubator-pinot/pull/4871?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/63ceb0c47759cf5b7372c03a2d76f7206bbec133?src=pr&el=desc) will **decrease** coverage by `0.12%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4871/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4871?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4871      +/-   ##\n============================================\n- Coverage      57.8%   57.67%   -0.13%     \n  Complexity        4        4              \n============================================\n  Files          1201     1201              \n  Lines         64659    64659              \n  Branches       9389     9389              \n============================================\n- Hits          37375    37295      -80     \n- Misses        24516    24592      +76     \n- Partials       2768     2772       +4\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4871?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../controller/helix/core/SegmentDeletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1NlZ21lbnREZWxldGlvbk1hbmFnZXIuamF2YQ==) | `75.4% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../core/realtime/PinotLLCRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90TExDUmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `74.47% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pache/pinot/core/realtime/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vTWVzc2FnZUJhdGNoLmphdmE=) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pache/pinot/spi/annotations/InterfaceAudience.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvYW5ub3RhdGlvbnMvSW50ZXJmYWNlQXVkaWVuY2UuamF2YQ==) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...java/org/apache/pinot/filesystem/AzurePinotFS.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3QtYXp1cmUtZmlsZXN5c3RlbS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvZmlsZXN5c3RlbS9BenVyZVBpbm90RlMuamF2YQ==) | `11.95% <ø> (ø)` | `4 <0> (ø)` | :arrow_down: |\n| [.../common/segment/fetcher/PinotFSSegmentFetcher.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vc2VnbWVudC9mZXRjaGVyL1Bpbm90RlNTZWdtZW50RmV0Y2hlci5qYXZh) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...apache/pinot/controller/api/upload/ZKOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1pLT3BlcmF0b3IuamF2YQ==) | `69.23% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ava/org/apache/pinot/filesystem/HadoopPinotFS.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wLWZpbGVzeXN0ZW0vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2ZpbGVzeXN0ZW0vSGFkb29wUGlub3RGUy5qYXZh) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | `60.47% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ntroller/api/resources/FileUploadPathProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0ZpbGVVcGxvYWRQYXRoUHJvdmlkZXIuamF2YQ==) | `72.34% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [29 more](https://codecov.io/gh/apache/incubator-pinot/pull/4871/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4871?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4871?src=pr&el=footer). Last update [63ceb0c...e713046](https://codecov.io/gh/apache/incubator-pinot/pull/4871?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560019308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560035226","html_url":"https://github.com/apache/pinot/pull/4873#issuecomment-560035226","issue_url":"https://api.github.com/repos/apache/pinot/issues/4873","id":560035226,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDAzNTIyNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-01T01:03:27Z","updated_at":"2019-12-01T01:03:27Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4873?src=pr&el=h1) Report\n> Merging [#4873](https://codecov.io/gh/apache/incubator-pinot/pull/4873?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3486022485b0f69e325ff6da81cb9a020fb68e2b?src=pr&el=desc) will **increase** coverage by `0.07%`.\n> The diff coverage is `0%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4873/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4873?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4873      +/-   ##\n============================================\n+ Coverage     57.11%   57.19%   +0.07%     \n  Complexity        4        4              \n============================================\n  Files          1205     1205              \n  Lines         64742    64746       +4     \n  Branches       9402     9402              \n============================================\n+ Hits          36979    37029      +50     \n+ Misses        25043    24990      -53     \n- Partials       2720     2727       +7\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4873?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../java/org/apache/pinot/spi/filesystem/PinotFS.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZmlsZXN5c3RlbS9QaW5vdEZTLmphdmE=) | `71.42% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...java/org/apache/pinot/filesystem/AzurePinotFS.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3QtYXp1cmUtZmlsZXN5c3RlbS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvZmlsZXN5c3RlbS9BenVyZVBpbm90RlMuamF2YQ==) | `11.82% <0%> (-0.13%)` | `4 <0> (ø)` | |\n| [...ava/org/apache/pinot/filesystem/HadoopPinotFS.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3QtaGFkb29wLWZpbGVzeXN0ZW0vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2ZpbGVzeXN0ZW0vSGFkb29wUGlub3RGUy5qYXZh) | `0% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...java/org/apache/pinot/filesystem/LocalPinotFS.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9maWxlc3lzdGVtL0xvY2FsUGlub3RGUy5qYXZh) | `93.61% <0%> (-2.04%)` | `0 <0> (ø)` | |\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `60.21% <0%> (-6.46%)` | `0% <0%> (ø)` | |\n| [...ng/builder/DefaultRealtimeRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0RlZmF1bHRSZWFsdGltZVJvdXRpbmdUYWJsZUJ1aWxkZXIuamF2YQ==) | `61.9% <0%> (-4.77%)` | `0% <0%> (ø)` | |\n| [...manager/realtime/HLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvSExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `75.86% <0%> (-2.47%)` | `0% <0%> (ø)` | |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `76.92% <0%> (-2.2%)` | `0% <0%> (ø)` | |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `80.51% <0%> (-1.54%)` | `0% <0%> (ø)` | |\n| ... and [25 more](https://codecov.io/gh/apache/incubator-pinot/pull/4873/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4873?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4873?src=pr&el=footer). Last update [3486022...603b5ce](https://codecov.io/gh/apache/incubator-pinot/pull/4873?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560035226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560062096","html_url":"https://github.com/apache/pinot/pull/4873#issuecomment-560062096","issue_url":"https://api.github.com/repos/apache/pinot/issues/4873","id":560062096,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDA2MjA5Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-01T06:02:06Z","updated_at":"2019-12-01T06:02:06Z","author_association":"MEMBER","body":"I will take care of documenting/annotating once we have the plug-ins work end to end. I don't think anyone has implemented these interfaces outside as of now. For all practical purposes, these interfaces are experimental for now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560062096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560066152","html_url":"https://github.com/apache/pinot/pull/4872#issuecomment-560066152","issue_url":"https://api.github.com/repos/apache/pinot/issues/4872","id":560066152,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDA2NjE1Mg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-01T06:53:37Z","updated_at":"2019-12-01T06:53:37Z","author_association":"MEMBER","body":"Looks good. Nothing to do with this PR but we should clean up RecordReaderUtils. Looks like it has some methods related to IOUtils and DataType utils.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560066152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560066810","html_url":"https://github.com/apache/pinot/pull/4872#issuecomment-560066810","issue_url":"https://api.github.com/repos/apache/pinot/issues/4872","id":560066810,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDA2NjgxMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-01T07:02:30Z","updated_at":"2019-12-04T01:18:29Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4872?src=pr&el=h1) Report\n> Merging [#4872](https://codecov.io/gh/apache/incubator-pinot/pull/4872?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/82359d0fa78cf674516139f577e37f3422aaef60?src=pr&el=desc) will **increase** coverage by `19.88%`.\n> The diff coverage is `48.88%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4872/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4872?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4872       +/-   ##\n=============================================\n+ Coverage     36.76%   56.64%   +19.88%     \n- Complexity        0       50       +50     \n=============================================\n  Files          1174     1175        +1     \n  Lines         62574    62615       +41     \n  Branches       9178     9181        +3     \n=============================================\n+ Hits          23005    35470    +12465     \n+ Misses        37497    24512    -12985     \n- Partials       2072     2633      +561\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4872?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache.pinot.json.data.readers/JSONRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtcmVjb3JkLXJlYWRlcnMvcGlub3QtanNvbi9zcmMvbWFpbi9qYXZhL29yZy5hcGFjaGUucGlub3QuanNvbi5kYXRhLnJlYWRlcnMvSlNPTlJlY29yZFJlYWRlci5qYXZh) | `86.66% <ø> (ø)` | `11 <0> (?)` | |\n| [...ache/pinot/avro/data/readers/AvroRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtcmVjb3JkLXJlYWRlcnMvcGlub3QtYXZyby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvYXZyby9kYXRhL3JlYWRlcnMvQXZyb1JlY29yZFJlYWRlci5qYXZh) | `86.2% <ø> (ø)` | `0 <0> (?)` | |\n| [...inot/parquet/data/readers/ParquetRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtcmVjb3JkLXJlYWRlcnMvcGlub3QtcGFycXVldC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGFycXVldC9kYXRhL3JlYWRlcnMvUGFycXVldFJlY29yZFJlYWRlci5qYXZh) | `83.33% <ø> (ø)` | `0 <0> (?)` | |\n| [....thrift.data.readers/ThriftRecordReaderConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtcmVjb3JkLXJlYWRlcnMvcGlub3QtdGhyaWZ0L3NyYy9tYWluL2phdmEvb3JnLmFwYWNoZS5waW5vdC50aHJpZnQuZGF0YS5yZWFkZXJzL1RocmlmdFJlY29yZFJlYWRlckNvbmZpZy5qYXZh) | `80% <ø> (ø)` | `3 <0> (?)` | |\n| [...pache/pinot/parquet/data/readers/ParquetUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtcmVjb3JkLXJlYWRlcnMvcGlub3QtcGFycXVldC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGFycXVldC9kYXRhL3JlYWRlcnMvUGFycXVldFV0aWxzLmphdmE=) | `68.75% <ø> (ø)` | `0 <0> (?)` | |\n| [...e/pinot/core/data/readers/RecordReaderFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvUmVjb3JkUmVhZGVyRmFjdG9yeS5qYXZh) | `34.78% <ø> (+4.34%)` | `0 <0> (ø)` | :arrow_down: |\n| [...apache.pinot.csv.data.readers/CSVRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtcmVjb3JkLXJlYWRlcnMvcGlub3QtY3N2L3NyYy9tYWluL2phdmEvb3JnLmFwYWNoZS5waW5vdC5jc3YuZGF0YS5yZWFkZXJzL0NTVlJlY29yZFJlYWRlci5qYXZh) | `71.69% <ø> (ø)` | `14 <0> (?)` | |\n| [...apache/pinot/orc/data/readers/ORCRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtcmVjb3JkLXJlYWRlcnMvcGlub3Qtb3JjL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9vcmMvZGF0YS9yZWFkZXJzL09SQ1JlY29yZFJlYWRlci5qYXZh) | `54.28% <ø> (ø)` | `0 <0> (?)` | |\n| [...ools/admin/command/StreamAvroIntoKafkaCommand.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2FkbWluL2NvbW1hbmQvU3RyZWFtQXZyb0ludG9LYWZrYUNvbW1hbmQuamF2YQ==) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/tools/admin/command/AvroSchemaToPinotSchema.java](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2FkbWluL2NvbW1hbmQvQXZyb1NjaGVtYVRvUGlub3RTY2hlbWEuamF2YQ==) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [591 more](https://codecov.io/gh/apache/incubator-pinot/pull/4872/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4872?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4872?src=pr&el=footer). Last update [82359d0...4475b58](https://codecov.io/gh/apache/incubator-pinot/pull/4872?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560066810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560166810","html_url":"https://github.com/apache/pinot/pull/4872#issuecomment-560166810","issue_url":"https://api.github.com/repos/apache/pinot/issues/4872","id":560166810,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDE2NjgxMA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-01T22:19:07Z","updated_at":"2019-12-01T22:19:07Z","author_association":"MEMBER","body":"Nice job extracting AbstractRecordReaderTest. We can make it better in the next iteration. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560166810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560166953","html_url":"https://github.com/apache/pinot/pull/4872#issuecomment-560166953","issue_url":"https://api.github.com/repos/apache/pinot/issues/4872","id":560166953,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDE2Njk1Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-01T22:21:00Z","updated_at":"2019-12-01T22:21:00Z","author_association":"MEMBER","body":"Also, once we have the ability to dynamically load record-reader impls, we can remove pinot-avro dependency from pinot-core right?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560166953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560186481","html_url":"https://github.com/apache/pinot/pull/4872#issuecomment-560186481","issue_url":"https://api.github.com/repos/apache/pinot/issues/4872","id":560186481,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDE4NjQ4MQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T01:13:45Z","updated_at":"2019-12-02T01:13:45Z","author_association":"CONTRIBUTOR","body":"> Also, once we have the ability to dynamically load record-reader impls, we can remove pinot-avro dependency from pinot-core right?\r\n\r\nNot really, RecordReader part is ok, but there is also many dependencies on `org.apache.pinot.avro.data.readers.AvroUtils`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560186481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560366791","html_url":"https://github.com/apache/pinot/pull/4874#issuecomment-560366791","issue_url":"https://api.github.com/repos/apache/pinot/issues/4874","id":560366791,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDM2Njc5MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T12:01:39Z","updated_at":"2019-12-04T08:03:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4874?src=pr&el=h1) Report\n> Merging [#4874](https://codecov.io/gh/apache/incubator-pinot/pull/4874?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/79407b58923d2a58f8e76129a783b61734bee406?src=pr&el=desc) will **increase** coverage by `0.09%`.\n> The diff coverage is `63.63%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4874/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4874?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4874      +/-   ##\n============================================\n+ Coverage     56.56%   56.66%   +0.09%     \n  Complexity       50       50              \n============================================\n  Files          1175     1175              \n  Lines         62632    62635       +3     \n  Branches       9181     9181              \n============================================\n+ Hits          35426    35490      +64     \n+ Misses        24565    24512      -53     \n+ Partials       2641     2633       -8\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4874?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pache/pinot/ingestion/jobs/SegmentCreationJob.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWluZ2VzdGlvbi1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2luZ2VzdGlvbi9qb2JzL1NlZ21lbnRDcmVhdGlvbkpvYi5qYXZh) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [.../pinot/ingestion/common/PinotIngestionJobType.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWluZ2VzdGlvbi1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2luZ2VzdGlvbi9jb21tb24vUGlub3RJbmdlc3Rpb25Kb2JUeXBlLmphdmE=) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...apache/pinot/ingestion/jobs/SegmentUriPushJob.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWluZ2VzdGlvbi1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2luZ2VzdGlvbi9qb2JzL1NlZ21lbnRVcmlQdXNoSm9iLmphdmE=) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...rg/apache/pinot/ingestion/jobs/BaseSegmentJob.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWluZ2VzdGlvbi1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2luZ2VzdGlvbi9qb2JzL0Jhc2VTZWdtZW50Sm9iLmphdmE=) | `31.03% <ø> (ø)` | `0 <0> (?)` | |\n| [...che/pinot/hadoop/io/CombineAvroKeyInputFormat.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWhhZG9vcC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvaGFkb29wL2lvL0NvbWJpbmVBdnJvS2V5SW5wdXRGb3JtYXQuamF2YQ==) | `20% <ø> (ø)` | `0 <0> (?)` | |\n| [...apache/pinot/ingestion/jobs/SegmentTarPushJob.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWluZ2VzdGlvbi1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2luZ2VzdGlvbi9qb2JzL1NlZ21lbnRUYXJQdXNoSm9iLmphdmE=) | `68.42% <ø> (ø)` | `0 <0> (?)` | |\n| [...oop/job/partitioners/PartitionFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWhhZG9vcC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvaGFkb29wL2pvYi9wYXJ0aXRpb25lcnMvUGFydGl0aW9uRnVuY3Rpb25GYWN0b3J5LmphdmE=) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...inot/hadoop/job/mappers/SegmentCreationMapper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWhhZG9vcC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvaGFkb29wL2pvYi9tYXBwZXJzL1NlZ21lbnRDcmVhdGlvbk1hcHBlci5qYXZh) | `1.09% <ø> (ø)` | `0 <0> (?)` | |\n| [...rg/apache/pinot/hadoop/PinotHadoopJobLauncher.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWhhZG9vcC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvaGFkb29wL1Bpbm90SGFkb29wSm9iTGF1bmNoZXIuamF2YQ==) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...he/pinot/ingestion/utils/JobPreparationHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWluZ2VzdGlvbi1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2luZ2VzdGlvbi91dGlscy9Kb2JQcmVwYXJhdGlvbkhlbHBlci5qYXZh) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| ... and [47 more](https://codecov.io/gh/apache/incubator-pinot/pull/4874/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4874?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4874?src=pr&el=footer). Last update [79407b5...fd4267b](https://codecov.io/gh/apache/incubator-pinot/pull/4874?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560366791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560476071","html_url":"https://github.com/apache/pinot/pull/4874#issuecomment-560476071","issue_url":"https://api.github.com/repos/apache/pinot/issues/4874","id":560476071,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDQ3NjA3MQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T16:38:57Z","updated_at":"2019-12-02T16:38:57Z","author_association":"CONTRIBUTOR","body":"@fx19880617 Could you please add description for the PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560476071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560722247","html_url":"https://github.com/apache/pinot/pull/4874#issuecomment-560722247","issue_url":"https://api.github.com/repos/apache/pinot/issues/4874","id":560722247,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDcyMjI0Nw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T22:12:52Z","updated_at":"2019-12-02T22:12:52Z","author_association":"MEMBER","body":"> Is the expectation that there will be more standalone utilities added to this sub-project? If not, then can we rename it to pinot-segment-generator? If yes, then can you describe what else do we expect to add to pinot-standalone?\r\n\r\nThe parent folder (pinot-ingestion-jobs) will have many sub-modules, one per execution framework -hadoop, flink, spark, standalone. All of them will work on the same job spec. Something like (we will change the names)\r\n- run-ingestion-job-spark\r\n- run-ingestion-job-hadoop\r\n- run-ingestion-job-standalone (this is the first one we are adding)\r\n\r\n> The package name implies (to me) that this is a standalone (as opposed to a distributed) version of pinot. That is clearly not the case. Not sure what to call it, since we already have a pinot-admin. Can we just have all this in pinot-admin? Do you foresee pinot-hadoop using these methods?\r\n\r\npinot-admin is in tools and does not provide the flexibility we need (data sources and format). Its also used inside Pinot in quite a few places. How about we move pinot-admin out into a separate module and make that as the single point of entry for everything?. It might be a good thing to do once we get the ingestion working.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560722247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560776121","html_url":"https://github.com/apache/pinot/pull/4874#issuecomment-560776121","issue_url":"https://api.github.com/repos/apache/pinot/issues/4874","id":560776121,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDc3NjEyMQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T22:36:21Z","updated_at":"2019-12-02T22:36:21Z","author_association":"CONTRIBUTOR","body":"The name 'ingestion' bothers me, if it does not have realtime ingestion in it. Can we change that to segment-generation? Or, is realtime ingestion also included?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560776121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560783008","html_url":"https://github.com/apache/pinot/pull/4876#issuecomment-560783008","issue_url":"https://api.github.com/repos/apache/pinot/issues/4876","id":560783008,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDc4MzAwOA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T22:39:22Z","updated_at":"2019-12-02T22:43:36Z","author_association":"CONTRIBUTOR","body":"> Can you copy paste the sample exception log here?\r\n> \r\n> Plus, it seems there's no code change in `V3DefaultColumnHandler`, which means we still don't know what action we're trying to do. Can you adjust the code there?\r\n\r\n@jackjlli ,\r\n\r\nSee the exception trace below. Note that I have removed the table name and column name. Change to V3DefaultColumnHandler is not needed since we print the action today. However, since we only capture UPDATE_METRIC or UPDATE_DIMENSION, the log doesn't indicate what kind of update is asked by the schema for the particular column.\r\n\r\n```2019/11/28 17:44:52.322 INFO [HelixInstanceDataManager] [HelixTaskExecutor-message_handle_thread] [pinot-server] [] Reloading all segments in table: blah_table\r\n2019/11/28 17:44:52.325 INFO [HelixInstanceDataManager] [HelixTaskExecutor-message_handle_thread] [pinot-server] [] Reloading segment: blah_table_segment in blah_table\r\n2019/11/28 17:44:53.058 INFO [V3DefaultColumnHandler] [HelixTaskExecutor-message_handle_thread] [pinot-server] [] Starting default column action: UPDATE_METRIC on column: blah_column\r\n\r\n2019/11/28 17:44:53.058 INFO [LoaderUtils] [HelixTaskExecutor-message_handle_thread] [pinot-server] [] Trying to recover index directory: blah blah blah\r\n715149 2019/11/28 17:44:53.058 INFO [LoaderUtils] [HelixTaskExecutor-message_handle_thread] [pinot-server] [] Deleting index directory: blah blah blah\r\n715150 2019/11/28 17:44:53.149 ERROR [HelixTask] [HelixTaskExecutor-message_handle_thread] [pinot-server] [] Exception while executing a message.java.lang.RuntimeException: Caught exception while reloading segment: in table\r\n715151 java.lang.RuntimeException: Caught exception while reloading segment:  in table: blah_table\r\n715152         at org.apache.pinot.server.starter.helix.SegmentMessageHandlerFactory$SegmentReloadMessageHandler.handleMessage(SegmentMessageHandlerFactory.java:182) \r\n715153         at org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:97) ~[helix-core-0.8.4.905.jar:0.8.4.905]\r\n715154         at org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:49) ~[helix-core-0.8.4.905.jar:0.8.4.905]\r\n715155         at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_172]\r\n715156         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_172]\r\n715157         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_172]\r\n715158         at java.lang.Thread.run(Thread.java:748) [?:1.8.0_172]\r\n715159 Caused by: org.apache.pinot.core.segment.index.loader.V3RemoveIndexException: Default value indices for column: blah blah cannot be removed for V3 format segment.\r\n715160         at org.apache.pinot.core.segment.index.loader.defaultcolumn.V3DefaultColumnHandler.updateDefaultColumn(V3DefaultColumnHandler.java:54)\r\n715161         at org.apache.pinot.core.segment.index.loader.defaultcolumn.BaseDefaultColumnHandler.updateDefaultColumns(BaseDefaultColumnHandler.java:100) \r\n715162         at org.apache.pinot.core.segment.index.loader.SegmentPreProcessor.process(SegmentPreProcessor.java:90) \r\n715163         at org.apache.pinot.core.indexsegment.immutable.ImmutableSegmentLoader.load(ImmutableSegmentLoader.java:101) \r\n715164         at org.apache.pinot.server.starter.helix.HelixInstanceDataManager.reloadSegment(HelixInstanceDataManager.java:223) \r\n715165         at org.apache.pinot.server.starter.helix.HelixInstanceDataManager.reloadAllSegments(HelixInstanceDataManager.java:183) \r\n715166         at org.apache.pinot.server.starter.helix.SegmentMessageHandlerFactory$SegmentReloadMessageHandler.handleMessage(SegmentMessageHandlerFactory.java:171) ```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560783008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560793654","html_url":"https://github.com/apache/pinot/pull/4876#issuecomment-560793654","issue_url":"https://api.github.com/repos/apache/pinot/issues/4876","id":560793654,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDc5MzY1NA==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T22:44:00Z","updated_at":"2019-12-02T22:44:00Z","author_association":"MEMBER","body":"> Default value indices for column: appHotLaunchDurationT cannot be removed for V3 format segment.\r\n\r\n@siddharthteotia I see, I thought you're going to adjust this error message above, since update action will also print the message with word \"removed\", which is also misleading.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560793654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560846368","html_url":"https://github.com/apache/pinot/pull/4874#issuecomment-560846368","issue_url":"https://api.github.com/repos/apache/pinot/issues/4874","id":560846368,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDg0NjM2OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T23:07:18Z","updated_at":"2019-12-02T23:07:18Z","author_association":"MEMBER","body":"> The name 'ingestion' bothers me, if it does not have realtime ingestion in it. Can we change that to segment-generation? Or, is realtime ingestion also included?\r\n\r\nwe should include real-time ingestion as well when we support launching flink/samza jobs but today we don't have that. In the end ingestion means moving data from one system into Pinot. Real-time, Batch etc are different ways of ingesting data. See Azure docs for e.g. https://docs.microsoft.com/en-us/azure/data-explorer/ingest-data-overview \r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560846368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560864513","html_url":"https://github.com/apache/pinot/pull/4876#issuecomment-560864513","issue_url":"https://api.github.com/repos/apache/pinot/issues/4876","id":560864513,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDg2NDUxMw==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T23:15:31Z","updated_at":"2019-12-02T23:15:31Z","author_association":"CONTRIBUTOR","body":"> > Default value indices for column: appHotLaunchDurationT cannot be removed for V3 format segment.\r\n> \r\n> @siddharthteotia I see, I thought you're going to adjust this error message above, since update action will also print the message with word \"removed\", which is also misleading.\r\n\r\n@jackjlli , thanks for catching this. I didn't realize that exception message will still print REMOVE. Made the necessary changes.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560864513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560878561","html_url":"https://github.com/apache/pinot/pull/4870#issuecomment-560878561","issue_url":"https://api.github.com/repos/apache/pinot/issues/4870","id":560878561,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDg3ODU2MQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T23:22:00Z","updated_at":"2019-12-02T23:22:00Z","author_association":"CONTRIBUTOR","body":"> > This is good to have for now since we don't support aliasing. But this should be typically solved at a very high level using a mapping table. Let's make sure that this will not make it difficult to implement aliasing later.\r\n> \r\n> +1 to ^^. Would this be a throw away change when we support aliasing? Or will we just need a map at top level to do result column name translation?\r\n\r\nI don't think it will be a throw away change. The need for getting the resultName in this brackets format arose primarily because the SelectionSort has the column name in the brackets format vs aggregations have the name in the underscore format. Only the aggregation functions are converted to underscore format. Other functions (udfs), are in brackets format even today. \r\n\r\nIn the absence of the new method, either the the order by clause will need to be rewritten to underscore format, or the column will have to be translated to underscore when applying order by (which is in 3 places). \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560878561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560935074","html_url":"https://github.com/apache/pinot/pull/4876#issuecomment-560935074","issue_url":"https://api.github.com/repos/apache/pinot/issues/4876","id":560935074,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDkzNTA3NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T23:57:33Z","updated_at":"2019-12-02T23:57:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4876?src=pr&el=h1) Report\n> Merging [#4876](https://codecov.io/gh/apache/incubator-pinot/pull/4876?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/db913393d7f0acd91d61063fc3b0a4bd7c97257b?src=pr&el=desc) will **decrease** coverage by `21.27%`.\n> The diff coverage is `33.33%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4876/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4876?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4876       +/-   ##\n=============================================\n- Coverage     57.18%   35.91%   -21.28%     \n=============================================\n  Files          1205     1206        +1     \n  Lines         64746    64765       +19     \n  Branches       9402     9407        +5     \n=============================================\n- Hits          37028    23260    -13768     \n- Misses        24992    39409    +14417     \n+ Partials       2726     2096      -630\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4876?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/segment/index/loader/V3UpdateIndexException.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2xvYWRlci9WM1VwZGF0ZUluZGV4RXhjZXB0aW9uLmphdmE=) | `0% <0%> (ø)` | `0 <0> (?)` | |\n| [...x/loader/defaultcolumn/V3DefaultColumnHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2xvYWRlci9kZWZhdWx0Y29sdW1uL1YzRGVmYXVsdENvbHVtbkhhbmRsZXIuamF2YQ==) | `20% <0%> (-57.78%)` | `0 <0> (ø)` | |\n| [...loader/defaultcolumn/BaseDefaultColumnHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L2xvYWRlci9kZWZhdWx0Y29sdW1uL0Jhc2VEZWZhdWx0Q29sdW1uSGFuZGxlci5qYXZh) | `76.33% <40%> (-14.58%)` | `0 <0> (ø)` | |\n| [.../org/apache/pinot/common/http/MultiGetRequest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vaHR0cC9NdWx0aUdldFJlcXVlc3QuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...nullvalue/RealtimeNullValueVectorReaderWriter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL251bGx2YWx1ZS9SZWFsdGltZU51bGxWYWx1ZVZlY3RvclJlYWRlcldyaXRlci5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/common/restlet/resources/TablesList.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvVGFibGVzTGlzdC5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ransformer/timeunit/CustomTimeUnitTransformer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vdHJhbnNmb3JtZXIvdGltZXVuaXQvQ3VzdG9tVGltZVVuaXRUcmFuc2Zvcm1lci5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...che/pinot/pql/parsers/pql2/ast/OptionsAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9PcHRpb25zQXN0Tm9kZS5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ot/core/query/scheduler/TableBasedGroupMapper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvVGFibGVCYXNlZEdyb3VwTWFwcGVyLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...t/core/segment/index/readers/OnHeapDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L3JlYWRlcnMvT25IZWFwRGljdGlvbmFyeS5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| ... and [595 more](https://codecov.io/gh/apache/incubator-pinot/pull/4876/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4876?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4876?src=pr&el=footer). Last update [db91339...c6e74cd](https://codecov.io/gh/apache/incubator-pinot/pull/4876?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560935074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560946862","html_url":"https://github.com/apache/pinot/pull/4874#issuecomment-560946862","issue_url":"https://api.github.com/repos/apache/pinot/issues/4874","id":560946862,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDk0Njg2Mg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-03T00:47:17Z","updated_at":"2019-12-03T00:47:17Z","author_association":"CONTRIBUTOR","body":"> > The name 'ingestion' bothers me, if it does not have realtime ingestion in it. Can we change that to segment-generation? Or, is realtime ingestion also included?\r\n> \r\n> we should include real-time ingestion as well when we support launching flink/samza jobs but today we don't have that. In the end ingestion means moving data from one system into Pinot. Real-time, Batch etc are different ways of ingesting data. See Azure docs for e.g. https://docs.microsoft.com/en-us/azure/data-explorer/ingest-data-overview\r\n\r\nSo, is the intent to move realtime \"ingestion\" code/API into this folder at some point? Or, do you want to rename the folder as pinot-batch-ingestion?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560946862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560950911","html_url":"https://github.com/apache/pinot/pull/4874#issuecomment-560950911","issue_url":"https://api.github.com/repos/apache/pinot/issues/4874","id":560950911,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDk1MDkxMQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-03T01:06:06Z","updated_at":"2019-12-03T01:06:06Z","author_association":"MEMBER","body":"> > > The name 'ingestion' bothers me, if it does not have realtime ingestion in it. Can we change that to segment-generation? Or, is realtime ingestion also included?\r\n> > \r\n> > \r\n> > we should include real-time ingestion as well when we support launching flink/samza jobs but today we don't have that. In the end ingestion means moving data from one system into Pinot. Real-time, Batch etc are different ways of ingesting data. See Azure docs for e.g. https://docs.microsoft.com/en-us/azure/data-explorer/ingest-data-overview\r\n> \r\n> So, is the intent to move realtime \"ingestion\" code/API into this folder at some point? Or, do you want to rename the folder as pinot-batch-ingestion?\r\n\r\nwe can rename the folder to pinot-batch-ingestion","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560950911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560955458","html_url":"https://github.com/apache/pinot/pull/4874#issuecomment-560955458","issue_url":"https://api.github.com/repos/apache/pinot/issues/4874","id":560955458,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDk1NTQ1OA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-03T01:24:45Z","updated_at":"2019-12-03T01:24:45Z","author_association":"CONTRIBUTOR","body":"> > > > The name 'ingestion' bothers me, if it does not have realtime ingestion in it. Can we change that to segment-generation? Or, is realtime ingestion also included?\r\n> > > \r\n> > > \r\n> > > we should include real-time ingestion as well when we support launching flink/samza jobs but today we don't have that. In the end ingestion means moving data from one system into Pinot. Real-time, Batch etc are different ways of ingesting data. See Azure docs for e.g. https://docs.microsoft.com/en-us/azure/data-explorer/ingest-data-overview\r\n> > \r\n> > \r\n> > So, is the intent to move realtime \"ingestion\" code/API into this folder at some point? Or, do you want to rename the folder as pinot-batch-ingestion?\r\n> \r\n> we can rename the folder to pinot-batch-ingestion\r\n\r\nWill do","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/560955458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561329106","html_url":"https://github.com/apache/pinot/pull/4878#issuecomment-561329106","issue_url":"https://api.github.com/repos/apache/pinot/issues/4878","id":561329106,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTMyOTEwNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-03T19:52:09Z","updated_at":"2019-12-03T19:52:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4878?src=pr&el=h1) Report\n> Merging [#4878](https://codecov.io/gh/apache/incubator-pinot/pull/4878?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3ec7548cd1a5abbebd32cb2fc28fdd229e47a2fa?src=pr&el=desc) will **increase** coverage by `21.12%`.\n> The diff coverage is `45.45%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4878/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4878?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4878       +/-   ##\n=============================================\n+ Coverage        36%   57.13%   +21.12%     \n- Complexity        0        4        +4     \n=============================================\n  Files          1207     1207               \n  Lines         64756    64762        +6     \n  Branches       9407     9406        -1     \n=============================================\n+ Hits          23316    36999    +13683     \n+ Misses        39371    25030    -14341     \n- Partials       2069     2733      +664\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4878?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/pinot/common/utils/TarGzCompressionUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVGFyR3pDb21wcmVzc2lvblV0aWxzLmphdmE=) | `79.12% <45.45%> (+0.29%)` | `0 <0> (ø)` | :arrow_down: |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `46.03% <0%> (-11.12%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `57.31% <0%> (-3.66%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/client/DynamicBrokerSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvRHluYW1pY0Jyb2tlclNlbGVjdG9yLmphdmE=) | `69.69% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `94.05% <0%> (-0.55%)` | `0% <0%> (ø)` | |\n| [...core/query/executor/ServerQueryExecutorV1Impl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9leGVjdXRvci9TZXJ2ZXJRdWVyeUV4ZWN1dG9yVjFJbXBsLmphdmE=) | `79.28% <0%> (ø)` | `0% <0%> (ø)` | :arrow_down: |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `55.51% <0%> (+0.4%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | `60.47% <0%> (+0.59%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `44.08% <0%> (+1.07%)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [598 more](https://codecov.io/gh/apache/incubator-pinot/pull/4878/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4878?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4878?src=pr&el=footer). Last update [3ec7548...569a9fd](https://codecov.io/gh/apache/incubator-pinot/pull/4878?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561329106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561354756","html_url":"https://github.com/apache/pinot/pull/4874#issuecomment-561354756","issue_url":"https://api.github.com/repos/apache/pinot/issues/4874","id":561354756,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTM1NDc1Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-03T21:00:21Z","updated_at":"2019-12-03T21:00:21Z","author_association":"MEMBER","body":"> Please add the docs appropriately. I think these utilities warrant a separate section? Or, perhaps you can enhance the segment generation section that is already there.\r\n\r\nWe are not in a state where we can document this as of now.  This should not be used by anyone. We need to have the support for dynamically loading fs and record-reader implementations. That's the next phase. I have created an issue for that https://github.com/apache/incubator-pinot/issues/4879","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561354756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561371801","html_url":"https://github.com/apache/pinot/pull/4880#issuecomment-561371801","issue_url":"https://api.github.com/repos/apache/pinot/issues/4880","id":561371801,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTM3MTgwMQ==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-03T21:47:43Z","updated_at":"2019-12-03T21:47:43Z","author_association":"NONE","body":"Can you add  more descriptions on what is the bug?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561371801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561412213","html_url":"https://github.com/apache/pinot/pull/4877#issuecomment-561412213","issue_url":"https://api.github.com/repos/apache/pinot/issues/4877","id":561412213,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTQxMjIxMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T00:00:03Z","updated_at":"2019-12-04T19:31:42Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4877?src=pr&el=h1) Report\n> Merging [#4877](https://codecov.io/gh/apache/incubator-pinot/pull/4877?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3ec7548cd1a5abbebd32cb2fc28fdd229e47a2fa?src=pr&el=desc) will **increase** coverage by `0.5%`.\n> The diff coverage is `27.72%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4877/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4877?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff            @@\n##           master   #4877     +/-   ##\n========================================\n+ Coverage      36%   36.5%   +0.5%     \n========================================\n  Files        1207    1175     -32     \n  Lines       64756   62755   -2001     \n  Branches     9407    9207    -200     \n========================================\n- Hits        23316   22911    -405     \n+ Misses      39371   37783   -1588     \n+ Partials     2069    2061      -8\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4877?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...t/core/query/selection/SelectionOperatorUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JVdGlscy5qYXZh) | `63.09% <0%> (-2.67%)` | :arrow_down: |\n| [...core/query/selection/SelectionOperatorService.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vU2VsZWN0aW9uT3BlcmF0b3JTZXJ2aWNlLmphdmE=) | `75.38% <0%> (-17.07%)` | :arrow_down: |\n| [...ot/core/query/reduce/DistinctDataTableReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvRGlzdGluY3REYXRhVGFibGVSZWR1Y2VyLmphdmE=) | `53.22% <17.39%> (-18.87%)` | :arrow_down: |\n| [...not/core/query/reduce/GroupByDataTableReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvR3JvdXBCeURhdGFUYWJsZVJlZHVjZXIuamF2YQ==) | `32.27% <31.06%> (-1.07%)` | :arrow_down: |\n| [...core/query/reduce/AggregationDataTableReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQWdncmVnYXRpb25EYXRhVGFibGVSZWR1Y2VyLmphdmE=) | `58.33% <35.48%> (-27.78%)` | :arrow_down: |\n| [...core/query/executor/ServerQueryExecutorV1Impl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9leGVjdXRvci9TZXJ2ZXJRdWVyeUV4ZWN1dG9yVjFJbXBsLmphdmE=) | `77.24% <40%> (-2.05%)` | :arrow_down: |\n| [...t/core/query/reduce/SelectionDataTableReducer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvU2VsZWN0aW9uRGF0YVRhYmxlUmVkdWNlci5qYXZh) | `58.62% <41.17%> (-10.95%)` | :arrow_down: |\n| [...e/pinot/core/io/writer/impl/MmapMemoryManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby93cml0ZXIvaW1wbC9NbWFwTWVtb3J5TWFuYWdlci5qYXZh) | `0% <0%> (-72.31%)` | :arrow_down: |\n| [...on/src/main/java/org/apache/pinot/serde/SerDe.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJkZS9TZXJEZS5qYXZh) | `0% <0%> (-40%)` | :arrow_down: |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | :arrow_down: |\n| ... and [166 more](https://codecov.io/gh/apache/incubator-pinot/pull/4877/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4877?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4877?src=pr&el=footer). Last update [3ec7548...32947ca](https://codecov.io/gh/apache/incubator-pinot/pull/4877?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561412213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561461079","html_url":"https://github.com/apache/pinot/pull/4882#issuecomment-561461079","issue_url":"https://api.github.com/repos/apache/pinot/issues/4882","id":561461079,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTQ2MTA3OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T03:32:30Z","updated_at":"2019-12-04T03:32:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4882?src=pr&el=h1) Report\n> Merging [#4882](https://codecov.io/gh/apache/incubator-pinot/pull/4882?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/82359d0fa78cf674516139f577e37f3422aaef60?src=pr&el=desc) will **increase** coverage by `19.83%`.\n> The diff coverage is `0%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4882/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4882?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #4882       +/-   ##\n============================================\n+ Coverage     36.76%   56.6%   +19.83%     \n- Complexity        0      50       +50     \n============================================\n  Files          1174    1175        +1     \n  Lines         62574   62621       +47     \n  Branches       9178    9181        +3     \n============================================\n+ Hits          23005   35444    +12439     \n+ Misses        37497   24539    -12958     \n- Partials       2072    2638      +566\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4882?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...server/starter/helix/HelixInstanceDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeEluc3RhbmNlRGF0YU1hbmFnZXIuamF2YQ==) | `82.53% <0%> (-4.97%)` | `0 <0> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `60.31% <0%> (-3.18%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `94.05% <0%> (-0.55%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/parquet/data/readers/ParquetUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3QtcGFycXVldC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGFycXVldC9kYXRhL3JlYWRlcnMvUGFycXVldFV0aWxzLmphdmE=) | | | |\n| [...ache/pinot/core/data/readers/JSONRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvSlNPTlJlY29yZFJlYWRlci5qYXZh) | | | |\n| [...pache/pinot/core/data/readers/CSVRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvQ1NWUmVjb3JkUmVhZGVyLmphdmE=) | | | |\n| [...che/pinot/core/data/readers/RecordReaderUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvUmVjb3JkUmVhZGVyVXRpbHMuamF2YQ==) | | | |\n| [...he/pinot/core/data/readers/ThriftRecordReader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3JlYWRlcnMvVGhyaWZ0UmVjb3JkUmVhZGVyLmphdmE=) | | | |\n| [...ain/java/org/apache/pinot/core/util/AvroUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL0F2cm9VdGlscy5qYXZh) | | | |\n| ... and [581 more](https://codecov.io/gh/apache/incubator-pinot/pull/4882/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4882?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4882?src=pr&el=footer). Last update [82359d0...4cf9ded](https://codecov.io/gh/apache/incubator-pinot/pull/4882?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561461079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561481670","html_url":"https://github.com/apache/pinot/pull/4883#issuecomment-561481670","issue_url":"https://api.github.com/repos/apache/pinot/issues/4883","id":561481670,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTQ4MTY3MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T05:19:48Z","updated_at":"2019-12-04T05:19:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4883?src=pr&el=h1) Report\n> Merging [#4883](https://codecov.io/gh/apache/incubator-pinot/pull/4883?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/82359d0fa78cf674516139f577e37f3422aaef60?src=pr&el=desc) will **increase** coverage by `19.94%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4883/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4883?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4883       +/-   ##\n=============================================\n+ Coverage     36.76%   56.71%   +19.94%     \n- Complexity        0       50       +50     \n=============================================\n  Files          1174     1175        +1     \n  Lines         62574    62626       +52     \n  Branches       9178     9181        +3     \n=============================================\n+ Hits          23005    35518    +12513     \n+ Misses        37497    24474    -13023     \n- Partials       2072     2634      +562\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4883?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pache/pinot/core/realtime/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vTWVzc2FnZUJhdGNoLmphdmE=) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ot/core/realtime/stream/StreamConsumerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vU3RyZWFtQ29uc3VtZXJGYWN0b3J5LmphdmE=) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../core/indexsegment/mutable/MutableSegmentImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pbmRleHNlZ21lbnQvbXV0YWJsZS9NdXRhYmxlU2VnbWVudEltcGwuamF2YQ==) | `81.32% <ø> (+16.86%)` | `0 <0> (ø)` | :arrow_down: |\n| [...manager/realtime/LLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvTExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `71.61% <ø> (+17.29%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ot/core/realtime/stream/StreamMessageMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vU3RyZWFtTWVzc2FnZU1ldGFkYXRhLmphdmE=) | `100% <ø> (+100%)` | `0 <0> (ø)` | :arrow_down: |\n| [...manager/realtime/HLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvSExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `79.43% <100%> (+1.11%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `47.56% <0%> (-6.1%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `60.31% <0%> (-3.18%)` | `0% <0%> (ø)` | |\n| [...ot/common/protocols/SegmentCompletionProtocol.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcHJvdG9jb2xzL1NlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2wuamF2YQ==) | `94.05% <0%> (-0.55%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/parquet/data/readers/ParquetUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree#diff-cGlub3QtcGFycXVldC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGFycXVldC9kYXRhL3JlYWRlcnMvUGFycXVldFV0aWxzLmphdmE=) | | | |\n| ... and [588 more](https://codecov.io/gh/apache/incubator-pinot/pull/4883/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4883?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4883?src=pr&el=footer). Last update [82359d0...4ced698](https://codecov.io/gh/apache/incubator-pinot/pull/4883?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561481670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561770739","html_url":"https://github.com/apache/pinot/pull/4884#issuecomment-561770739","issue_url":"https://api.github.com/repos/apache/pinot/issues/4884","id":561770739,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTc3MDczOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T18:09:55Z","updated_at":"2019-12-04T18:09:55Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4884?src=pr&el=h1) Report\n> Merging [#4884](https://codecov.io/gh/apache/incubator-pinot/pull/4884?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/423692b7f42239df5e35a5ebc1f3dbe3c85ac10e?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `80%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4884/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4884?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4884      +/-   ##\n============================================\n- Coverage     56.55%   56.54%   -0.01%     \n  Complexity       50       50              \n============================================\n  Files          1175     1175              \n  Lines         62637    62637              \n  Branches       9181     9181              \n============================================\n- Hits          35422    35419       -3     \n+ Misses        24581    24580       -1     \n- Partials       2634     2638       +4\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4884?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...java/org/apache/pinot/spi/stream/StreamConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbUNvbmZpZy5qYXZh) | `92.59% <ø> (ø)` | `0 <0> (?)` | |\n| [...e/realtime/impl/kafka/KafkaAvroMessageDecoder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3QtY29ubmVjdG9ycy9waW5vdC1jb25uZWN0b3Ita2Fma2EtYmFzZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2thZmthL0thZmthQXZyb01lc3NhZ2VEZWNvZGVyLmphdmE=) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/stream/MessageBatch.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL01lc3NhZ2VCYXRjaC5qYXZh) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...pache/pinot/spi/stream/PartitionOffsetFetcher.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1BhcnRpdGlvbk9mZnNldEZldGNoZXIuamF2YQ==) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...realtime/segment/DefaultFlushThresholdUpdater.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL3NlZ21lbnQvRGVmYXVsdEZsdXNoVGhyZXNob2xkVXBkYXRlci5qYXZh) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pache/pinot/spi/stream/StreamConfigProperties.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbUNvbmZpZ1Byb3BlcnRpZXMuamF2YQ==) | `66.66% <ø> (ø)` | `0 <0> (?)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `56.41% <ø> (+26.92%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../pinot/core/segment/index/SegmentMetadataImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L1NlZ21lbnRNZXRhZGF0YUltcGwuamF2YQ==) | `80.97% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...core/realtime/stream/SimpleAvroMessageDecoder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vU2ltcGxlQXZyb01lc3NhZ2VEZWNvZGVyLmphdmE=) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/org/apache/pinot/core/util/ReplicationUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1JlcGxpY2F0aW9uVXRpbHMuamF2YQ==) | `92.3% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [85 more](https://codecov.io/gh/apache/incubator-pinot/pull/4884/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4884?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4884?src=pr&el=footer). Last update [423692b...74396c5](https://codecov.io/gh/apache/incubator-pinot/pull/4884?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561770739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561790549","html_url":"https://github.com/apache/pinot/pull/4875#issuecomment-561790549","issue_url":"https://api.github.com/repos/apache/pinot/issues/4875","id":561790549,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTc5MDU0OQ==","user":{"login":"jenniferdai","id":5035129,"node_id":"MDQ6VXNlcjUwMzUxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/5035129?v=4","gravatar_id":"","url":"https://api.github.com/users/jenniferdai","html_url":"https://github.com/jenniferdai","followers_url":"https://api.github.com/users/jenniferdai/followers","following_url":"https://api.github.com/users/jenniferdai/following{/other_user}","gists_url":"https://api.github.com/users/jenniferdai/gists{/gist_id}","starred_url":"https://api.github.com/users/jenniferdai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenniferdai/subscriptions","organizations_url":"https://api.github.com/users/jenniferdai/orgs","repos_url":"https://api.github.com/users/jenniferdai/repos","events_url":"https://api.github.com/users/jenniferdai/events{/privacy}","received_events_url":"https://api.github.com/users/jenniferdai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T19:00:10Z","updated_at":"2019-12-04T19:00:10Z","author_association":"MEMBER","body":"Closed in favor of #4885","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561790549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561792546","html_url":"https://github.com/apache/pinot/pull/3438#issuecomment-561792546","issue_url":"https://api.github.com/repos/apache/pinot/issues/3438","id":561792546,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTc5MjU0Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T19:05:05Z","updated_at":"2019-12-04T19:05:05Z","author_association":"MEMBER","body":"@jenniferdai what are the changes required? we will have to do this as part of the refactoring","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561792546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561804377","html_url":"https://github.com/apache/pinot/pull/3438#issuecomment-561804377","issue_url":"https://api.github.com/repos/apache/pinot/issues/3438","id":561804377,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTgwNDM3Nw==","user":{"login":"jenniferdai","id":5035129,"node_id":"MDQ6VXNlcjUwMzUxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/5035129?v=4","gravatar_id":"","url":"https://api.github.com/users/jenniferdai","html_url":"https://github.com/jenniferdai","followers_url":"https://api.github.com/users/jenniferdai/followers","following_url":"https://api.github.com/users/jenniferdai/following{/other_user}","gists_url":"https://api.github.com/users/jenniferdai/gists{/gist_id}","starred_url":"https://api.github.com/users/jenniferdai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenniferdai/subscriptions","organizations_url":"https://api.github.com/users/jenniferdai/orgs","repos_url":"https://api.github.com/users/jenniferdai/repos","events_url":"https://api.github.com/users/jenniferdai/events{/privacy}","received_events_url":"https://api.github.com/users/jenniferdai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T19:33:32Z","updated_at":"2019-12-04T19:33:32Z","author_association":"MEMBER","body":"@kishoreg I think Subbu has already done them in preparation. I think this is a duplicate change to what you guys have submitted.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561804377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561832289","html_url":"https://github.com/apache/pinot/pull/4887#issuecomment-561832289","issue_url":"https://api.github.com/repos/apache/pinot/issues/4887","id":561832289,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTgzMjI4OQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T20:48:18Z","updated_at":"2019-12-04T20:48:18Z","author_association":"CONTRIBUTOR","body":"It has pointed to the root, is it because of maven version ?\r\n```\r\n  <properties>\r\n    <pinot.root>${basedir}/../..</pinot.root>\r\n  </properties>\r\n```\r\nhttps://github.com/apache/incubator-pinot/blob/master/pinot-record-readers/pinot-avro/pom.xml#L35","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561832289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561838271","html_url":"https://github.com/apache/pinot/pull/4887#issuecomment-561838271","issue_url":"https://api.github.com/repos/apache/pinot/issues/4887","id":561838271,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTgzODI3MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T21:05:06Z","updated_at":"2019-12-04T21:08:28Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4887?src=pr&el=h1) Report\n> Merging [#4887](https://codecov.io/gh/apache/incubator-pinot/pull/4887?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/c93c5235d1a6e69ff65b545e319948d92c1186eb?src=pr&el=desc) will **increase** coverage by `6.93%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4887/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4887?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4887      +/-   ##\n============================================\n+ Coverage     49.64%   56.58%   +6.93%     \n  Complexity       50       50              \n============================================\n  Files          1175     1175              \n  Lines         62637    62637              \n  Branches       9181     9181              \n============================================\n+ Hits          31098    35443    +4345     \n+ Misses        29119    24570    -4549     \n- Partials       2420     2624     +204\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4887?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [...ment/creator/impl/SegmentColumnarIndexCreator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50Q29sdW1uYXJJbmRleENyZWF0b3IuamF2YQ==) | `88.8% <0%> (+0.72%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...t/creator/impl/SegmentIndexCreationDriverImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50SW5kZXhDcmVhdGlvbkRyaXZlckltcGwuamF2YQ==) | `89.71% <0%> (+0.82%)` | `0% <0%> (ø)` | :arrow_down: |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `70.63% <0%> (+0.85%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...pby/NoDictionarySingleColumnGroupKeyGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9ncm91cGJ5L05vRGljdGlvbmFyeVNpbmdsZUNvbHVtbkdyb3VwS2V5R2VuZXJhdG9yLmphdmE=) | `87.5% <0%> (+0.96%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...t/common/response/broker/BrokerResponseNative.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzcG9uc2UvYnJva2VyL0Jyb2tlclJlc3BvbnNlTmF0aXZlLmphdmE=) | `90.52% <0%> (+1.05%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...e/io/writer/impl/MutableOffHeapByteArrayStore.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby93cml0ZXIvaW1wbC9NdXRhYmxlT2ZmSGVhcEJ5dGVBcnJheVN0b3JlLmphdmE=) | `85.71% <0%> (+1.09%)` | `0% <0%> (ø)` | :arrow_down: |\n| [.../pinot/core/segment/index/SegmentMetadataImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L1NlZ21lbnRNZXRhZGF0YUltcGwuamF2YQ==) | `80.97% <0%> (+1.21%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...pinot/core/operator/docvalsets/SingleValueSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2N2YWxzZXRzL1NpbmdsZVZhbHVlU2V0LmphdmE=) | `90.41% <0%> (+1.36%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...g/apache/pinot/common/request/InstanceRequest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9JbnN0YW5jZVJlcXVlc3QuamF2YQ==) | `28.83% <0%> (+1.37%)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [253 more](https://codecov.io/gh/apache/incubator-pinot/pull/4887/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4887?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4887?src=pr&el=footer). Last update [c93c523...8b6b9f0](https://codecov.io/gh/apache/incubator-pinot/pull/4887?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561838271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561842348","html_url":"https://github.com/apache/pinot/pull/4887#issuecomment-561842348","issue_url":"https://api.github.com/repos/apache/pinot/issues/4887","id":561842348,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg0MjM0OA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T21:16:58Z","updated_at":"2019-12-04T21:16:58Z","author_association":"CONTRIBUTOR","body":"> It has pointed to the root, is it because of maven version ?\r\n> \r\n> ```\r\n>   <properties>\r\n>     <pinot.root>${basedir}/../..</pinot.root>\r\n>   </properties>\r\n> ```\r\n> \r\n> https://github.com/apache/incubator-pinot/blob/master/pinot-record-readers/pinot-avro/pom.xml#L35\r\n\r\n@fx19880617 ,\r\n\r\nYes I think it is a version problem. I was able to build it fine on Mac (using Maven 3.6.1). However, it fails on Linux and there I am having two versions -- 3.6.1 and 3.1.1.\r\n\r\nAlso, the problem was reported by an internal team when they pulled latest code from Pinot open source repo. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561842348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561842420","html_url":"https://github.com/apache/pinot/pull/4887#issuecomment-561842420","issue_url":"https://api.github.com/repos/apache/pinot/issues/4887","id":561842420,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg0MjQyMA==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T21:17:11Z","updated_at":"2019-12-04T21:17:11Z","author_association":"CONTRIBUTOR","body":"> Can we follow the same pattern as pinot-connectors? (Adding a pom file for the parent dir)\r\n\r\nYes. Done","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561842420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561857097","html_url":"https://github.com/apache/pinot/pull/4877#issuecomment-561857097","issue_url":"https://api.github.com/repos/apache/pinot/issues/4877","id":561857097,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg1NzA5Nw==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T21:56:03Z","updated_at":"2019-12-04T21:57:05Z","author_association":"CONTRIBUTOR","body":"LGTM. One high level comment:\r\n\r\nI think it is fine to have a PQL flavor in SQL group by execution mode -- thus giving users to get results in both SQL (ResultTable) and PQL (for backward compatibility)\r\n\r\nHowever, for PQL group by execution mode, we should probably consider not having any SQL flavor there. Currently we still allow the results to be in SQL if there is exactly one aggregation function  and responseFormat is SQL even though the execution mode was PQL. If the user chose to use PQL, then everything (response, execution) should be PQL style.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561857097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561863648","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-561863648","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":561863648,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg2MzY0OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T22:14:19Z","updated_at":"2019-12-04T22:14:19Z","author_association":"MEMBER","body":"What is this PR trying to achieve?. I don't see anything related to encryption in the diff.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561863648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561865310","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-561865310","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":561865310,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg2NTMxMA==","user":{"login":"jenniferdai","id":5035129,"node_id":"MDQ6VXNlcjUwMzUxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/5035129?v=4","gravatar_id":"","url":"https://api.github.com/users/jenniferdai","html_url":"https://github.com/jenniferdai","followers_url":"https://api.github.com/users/jenniferdai/followers","following_url":"https://api.github.com/users/jenniferdai/following{/other_user}","gists_url":"https://api.github.com/users/jenniferdai/gists{/gist_id}","starred_url":"https://api.github.com/users/jenniferdai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenniferdai/subscriptions","organizations_url":"https://api.github.com/users/jenniferdai/orgs","repos_url":"https://api.github.com/users/jenniferdai/repos","events_url":"https://api.github.com/users/jenniferdai/events{/privacy}","received_events_url":"https://api.github.com/users/jenniferdai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T22:18:45Z","updated_at":"2019-12-04T22:19:46Z","author_association":"MEMBER","body":"I want to thread a crypter (internal encryption scheme) into the pinot build and push job. Our current encryption scheme requires segments to be in the .tar.gz format. This is step 1/2, where I move .tar.gz logic into the SegmentIndexCreationDriverImpl, so the segment can be zipped and encrypted there. I will add the encryption logic in the next one. The reason it's in this level is so we can support both open source entrypoints - createSegment in pinot-admin and the hadoop job.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561865310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561868783","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-561868783","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":561868783,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg2ODc4Mw==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T22:28:48Z","updated_at":"2019-12-04T22:28:48Z","author_association":"CONTRIBUTOR","body":"The issue is that SegmentIndexCreationDriverImpl stops at creating v3 segment dir. Then we have separate pieces of code floating around that tar and gzip the folder, and once we start encrypting, each of those segment generation paths will have to encrypt as well.\r\n\r\nThe main motivation of this PR is to consolidate segment v3 generation + tar.gz + encryption all at one place, so all callers can leverage it.\r\n\r\nAlso, to point out, the idea is to encrypt post .tar.gz creation, purely because it is simpler to deal with encryption/decryption at a single file level.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561868783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561871743","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-561871743","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":561871743,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg3MTc0Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T22:37:14Z","updated_at":"2019-12-04T22:37:14Z","author_association":"MEMBER","body":"How will the reader \r\n- know that tar.gz is encyrpted\r\n- how to decrypt it.\r\n\r\nDo we foresee more things that can be done once the segment is generated? Should we design these things as inbound/outbound handlers similar to netty? https://netty.io/4.0/api/io/netty/channel/ChannelPipeline.html\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561871743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561872622","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-561872622","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":561872622,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg3MjYyMg==","user":{"login":"jenniferdai","id":5035129,"node_id":"MDQ6VXNlcjUwMzUxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/5035129?v=4","gravatar_id":"","url":"https://api.github.com/users/jenniferdai","html_url":"https://github.com/jenniferdai","followers_url":"https://api.github.com/users/jenniferdai/followers","following_url":"https://api.github.com/users/jenniferdai/following{/other_user}","gists_url":"https://api.github.com/users/jenniferdai/gists{/gist_id}","starred_url":"https://api.github.com/users/jenniferdai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenniferdai/subscriptions","organizations_url":"https://api.github.com/users/jenniferdai/orgs","repos_url":"https://api.github.com/users/jenniferdai/repos","events_url":"https://api.github.com/users/jenniferdai/events{/privacy}","received_events_url":"https://api.github.com/users/jenniferdai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T22:40:05Z","updated_at":"2019-12-04T22:40:05Z","author_association":"MEMBER","body":"The crypter class is saved in the segment metadata. I don't know if I foresee more things that can be done when a segment is generated, but I do feel uncomfortable putting the tar.gz and crypter logic inside segment generation logic given that they are post segment creation processing. I can create another layer - is that along the lines of what you were thinking?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561872622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561877634","html_url":"https://github.com/apache/pinot/pull/4877#issuecomment-561877634","issue_url":"https://api.github.com/repos/apache/pinot/issues/4877","id":561877634,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg3NzYzNA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T22:55:03Z","updated_at":"2019-12-04T22:55:03Z","author_association":"CONTRIBUTOR","body":"> LGTM. One high level comment:\r\n> \r\n> I think it is fine to have a PQL flavor in SQL group by execution mode -- thus giving users to get results in both SQL (ResultTable) and PQL (for backward compatibility)\r\n> \r\n> However, for PQL group by execution mode, we should probably consider not having any SQL flavor there. Currently we still allow the results to be in SQL if there is exactly one aggregation function and responseFormat is SQL even though the execution mode was PQL. If the user chose to use PQL, then everything (response, execution) should be PQL style.\r\n\r\nYes that's fair. But it's good to have for now, because it helps migrate to sql response format, without losing support for group by entirely. I agree it doesn't read very well, and is confusing. Will evaluate if it makes sense to nuke that path","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561877634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561890160","html_url":"https://github.com/apache/pinot/pull/4888#issuecomment-561890160","issue_url":"https://api.github.com/repos/apache/pinot/issues/4888","id":561890160,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg5MDE2MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T23:30:24Z","updated_at":"2019-12-06T09:32:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4888?src=pr&el=h1) Report\n> Merging [#4888](https://codecov.io/gh/apache/incubator-pinot/pull/4888?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/c93c5235d1a6e69ff65b545e319948d92c1186eb?src=pr&el=desc) will **increase** coverage by `7.03%`.\n> The diff coverage is `78.87%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4888/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4888?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4888      +/-   ##\n============================================\n+ Coverage     49.64%   56.67%   +7.03%     \n- Complexity       50       53       +3     \n============================================\n  Files          1175     1175              \n  Lines         62637    62792     +155     \n  Branches       9181     9208      +27     \n============================================\n+ Hits          31098    35590    +4492     \n+ Misses        29119    24562    -4557     \n- Partials       2420     2640     +220\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4888?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...inot/hadoop/job/mappers/SegmentCreationMapper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWhhZG9vcC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvaGFkb29wL2pvYi9tYXBwZXJzL1NlZ21lbnRDcmVhdGlvbk1hcHBlci5qYXZh) | `1.09% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../java/org/apache/pinot/tools/HybridQuickstart.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL0h5YnJpZFF1aWNrc3RhcnQuamF2YQ==) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pinot/tools/admin/command/GenerateDataCommand.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2FkbWluL2NvbW1hbmQvR2VuZXJhdGVEYXRhQ29tbWFuZC5qYXZh) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../pinot/tools/data/generator/DataGeneratorSpec.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2RhdGEvZ2VuZXJhdG9yL0RhdGFHZW5lcmF0b3JTcGVjLmphdmE=) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ache/pinot/core/minion/BackfillDateTimeColumn.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9taW5pb24vQmFja2ZpbGxEYXRlVGltZUNvbHVtbi5qYXZh) | `56.25% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../org/apache/pinot/spi/data/readers/FileFormat.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9yZWFkZXJzL0ZpbGVGb3JtYXQuamF2YQ==) | `100% <ø> (ø)` | `0 <0> (?)` | |\n| [.../org/apache/pinot/hadoop/io/PinotOutputFormat.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3QtYmF0Y2gtaW5nZXN0aW9uL3Bpbm90LWhhZG9vcC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvaGFkb29wL2lvL1Bpbm90T3V0cHV0Rm9ybWF0LmphdmE=) | `56.47% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../segment/converter/PinotSegmentConvertCommand.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL3NlZ21lbnQvY29udmVydGVyL1Bpbm90U2VnbWVudENvbnZlcnRDb21tYW5kLmphdmE=) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...inot/tools/admin/command/CreateSegmentCommand.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL2FkbWluL2NvbW1hbmQvQ3JlYXRlU2VnbWVudENvbW1hbmQuamF2YQ==) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...segment/converter/ColumnarToStarTreeConverter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree#diff-cGlub3QtdG9vbHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3Rvb2xzL3NlZ21lbnQvY29udmVydGVyL0NvbHVtbmFyVG9TdGFyVHJlZUNvbnZlcnRlci5qYXZh) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [294 more](https://codecov.io/gh/apache/incubator-pinot/pull/4888/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4888?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4888?src=pr&el=footer). Last update [c93c523...b603302](https://codecov.io/gh/apache/incubator-pinot/pull/4888?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561890160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561896141","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-561896141","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":561896141,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTg5NjE0MQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T23:47:01Z","updated_at":"2019-12-04T23:47:01Z","author_association":"CONTRIBUTOR","body":"I think we probably need the crypter to write a MAGIC_HEADER and reader to recognize it.\r\nAs for adding more such things, I cannot think of what else we might need to do at this time.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561896141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561919199","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-561919199","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":561919199,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTkxOTE5OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T01:05:53Z","updated_at":"2019-12-05T01:05:53Z","author_association":"MEMBER","body":"> The crypter class is saved in the segment metadata. \r\n\r\nHow will the reader know the crypter class if it's within the metadata. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561919199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561920823","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-561920823","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":561920823,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTkyMDgyMw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T01:12:14Z","updated_at":"2019-12-05T01:12:14Z","author_association":"MEMBER","body":"> I don't know if I foresee more things that can be done when a segment is generated, but I do feel uncomfortable putting the tar.gz and crypter logic inside segment generation logic given that they are post segment creation processing. I can create another layer - is that along the lines of what you were thinking?\r\n\r\nWe can get to this once we figure out how can one customize these crypters/decrypter. If this is going to be pluggable, we should think of adding it to spi. \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/561920823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/562246413","html_url":"https://github.com/apache/pinot/issues/4891#issuecomment-562246413","issue_url":"https://api.github.com/repos/apache/pinot/issues/4891","id":562246413,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjI0NjQxMw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T18:07:55Z","updated_at":"2019-12-05T18:07:55Z","author_association":"CONTRIBUTOR","body":"Why do you say it is not in effect? We are using this config in our setup, and it is working fine. Consuming segments begin on serverOne_REALTIME and then are periodically relocated to serverOne_OFFLINE by the ControllerPeriodicTask RelocationManager.\r\nWhat behavior are you seeing?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/562246413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/562265809","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-562265809","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":562265809,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjI2NTgwOQ==","user":{"login":"jenniferdai","id":5035129,"node_id":"MDQ6VXNlcjUwMzUxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/5035129?v=4","gravatar_id":"","url":"https://api.github.com/users/jenniferdai","html_url":"https://github.com/jenniferdai","followers_url":"https://api.github.com/users/jenniferdai/followers","following_url":"https://api.github.com/users/jenniferdai/following{/other_user}","gists_url":"https://api.github.com/users/jenniferdai/gists{/gist_id}","starred_url":"https://api.github.com/users/jenniferdai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenniferdai/subscriptions","organizations_url":"https://api.github.com/users/jenniferdai/orgs","repos_url":"https://api.github.com/users/jenniferdai/repos","events_url":"https://api.github.com/users/jenniferdai/events{/privacy}","received_events_url":"https://api.github.com/users/jenniferdai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T18:57:11Z","updated_at":"2019-12-05T18:57:11Z","author_association":"MEMBER","body":"@kishoreg when the encrypted segment is uploaded through the controller, the controller decrypts it and adds metadata to zk, so when the segment is downloaded by server, etc, it will know how to decrypt.\r\n\r\nI can definitely add it to spi. But as for where the logic is implemented, do you still think it should be in index creation impl or outside?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/562265809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/562266599","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-562266599","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":562266599,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjI2NjU5OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T18:59:10Z","updated_at":"2019-12-05T18:59:10Z","author_association":"MEMBER","body":"How will the controller decrypt it. What if we move towards URI based upload","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/562266599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/562267426","html_url":"https://github.com/apache/pinot/pull/4885#issuecomment-562267426","issue_url":"https://api.github.com/repos/apache/pinot/issues/4885","id":562267426,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjI2NzQyNg==","user":{"login":"jenniferdai","id":5035129,"node_id":"MDQ6VXNlcjUwMzUxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/5035129?v=4","gravatar_id":"","url":"https://api.github.com/users/jenniferdai","html_url":"https://github.com/jenniferdai","followers_url":"https://api.github.com/users/jenniferdai/followers","following_url":"https://api.github.com/users/jenniferdai/following{/other_user}","gists_url":"https://api.github.com/users/jenniferdai/gists{/gist_id}","starred_url":"https://api.github.com/users/jenniferdai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenniferdai/subscriptions","organizations_url":"https://api.github.com/users/jenniferdai/orgs","repos_url":"https://api.github.com/users/jenniferdai/repos","events_url":"https://api.github.com/users/jenniferdai/events{/privacy}","received_events_url":"https://api.github.com/users/jenniferdai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T19:01:16Z","updated_at":"2019-12-05T19:01:16Z","author_association":"MEMBER","body":"Both URI and tar already work. When the segment is uploaded, a crypter header is sent with the appropriate crypter class simple name. On the config side for server and controller, there is a keymap of crypter and keys that it will initialize.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/562267426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]