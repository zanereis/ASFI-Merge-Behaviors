[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417606524","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-417606524","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":417606524,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzYwNjUyNA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T09:21:15Z","updated_at":"2018-08-31T09:21:15Z","author_association":"CONTRIBUTOR","body":"我现在比较确定，我没有解决方案了。看看 @jamesge  是否有解决方案吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417606524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417616241","html_url":"https://github.com/apache/brpc/issues/473#issuecomment-417616241","issue_url":"https://api.github.com/repos/apache/brpc/issues/473","id":417616241,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzYxNjI0MQ==","user":{"login":"ch541819","id":17870480,"node_id":"MDQ6VXNlcjE3ODcwNDgw","avatar_url":"https://avatars.githubusercontent.com/u/17870480?v=4","gravatar_id":"","url":"https://api.github.com/users/ch541819","html_url":"https://github.com/ch541819","followers_url":"https://api.github.com/users/ch541819/followers","following_url":"https://api.github.com/users/ch541819/following{/other_user}","gists_url":"https://api.github.com/users/ch541819/gists{/gist_id}","starred_url":"https://api.github.com/users/ch541819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ch541819/subscriptions","organizations_url":"https://api.github.com/users/ch541819/orgs","repos_url":"https://api.github.com/users/ch541819/repos","events_url":"https://api.github.com/users/ch541819/events{/privacy}","received_events_url":"https://api.github.com/users/ch541819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T09:59:16Z","updated_at":"2018-08-31T09:59:16Z","author_association":"NONE","body":"@gydong 对的，简单来说，就是这样。我理解，根本原因是，push_rq这个操作会调用usleep，阻塞住pthread，导致已经加锁的bthread没法被调度起来。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417616241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417616855","html_url":"https://github.com/apache/brpc/issues/473#issuecomment-417616855","issue_url":"https://api.github.com/repos/apache/brpc/issues/473","id":417616855,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzYxNjg1NQ==","user":{"login":"ch541819","id":17870480,"node_id":"MDQ6VXNlcjE3ODcwNDgw","avatar_url":"https://avatars.githubusercontent.com/u/17870480?v=4","gravatar_id":"","url":"https://api.github.com/users/ch541819","html_url":"https://github.com/ch541819","followers_url":"https://api.github.com/users/ch541819/followers","following_url":"https://api.github.com/users/ch541819/following{/other_user}","gists_url":"https://api.github.com/users/ch541819/gists{/gist_id}","starred_url":"https://api.github.com/users/ch541819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ch541819/subscriptions","organizations_url":"https://api.github.com/users/ch541819/orgs","repos_url":"https://api.github.com/users/ch541819/repos","events_url":"https://api.github.com/users/ch541819/events{/privacy}","received_events_url":"https://api.github.com/users/ch541819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T10:01:31Z","updated_at":"2018-08-31T10:01:31Z","author_association":"NONE","body":"@gethinzhang 嗯，我也在考虑在加锁区域内\b移除会yield bthread的操作","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417616855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417617421","html_url":"https://github.com/apache/brpc/issues/473#issuecomment-417617421","issue_url":"https://api.github.com/repos/apache/brpc/issues/473","id":417617421,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzYxNzQyMQ==","user":{"login":"ch541819","id":17870480,"node_id":"MDQ6VXNlcjE3ODcwNDgw","avatar_url":"https://avatars.githubusercontent.com/u/17870480?v=4","gravatar_id":"","url":"https://api.github.com/users/ch541819","html_url":"https://github.com/ch541819","followers_url":"https://api.github.com/users/ch541819/followers","following_url":"https://api.github.com/users/ch541819/following{/other_user}","gists_url":"https://api.github.com/users/ch541819/gists{/gist_id}","starred_url":"https://api.github.com/users/ch541819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ch541819/subscriptions","organizations_url":"https://api.github.com/users/ch541819/orgs","repos_url":"https://api.github.com/users/ch541819/repos","events_url":"https://api.github.com/users/ch541819/events{/privacy}","received_events_url":"https://api.github.com/users/ch541819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T10:03:38Z","updated_at":"2018-08-31T10:03:38Z","author_association":"NONE","body":"@zyearn 关于读写锁是否必要，我们后续会看下能不能有无锁方案代替","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417617421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417618610","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-417618610","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":417618610,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzYxODYxMA==","user":{"login":"ufosky","id":801838,"node_id":"MDQ6VXNlcjgwMTgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/801838?v=4","gravatar_id":"","url":"https://api.github.com/users/ufosky","html_url":"https://github.com/ufosky","followers_url":"https://api.github.com/users/ufosky/followers","following_url":"https://api.github.com/users/ufosky/following{/other_user}","gists_url":"https://api.github.com/users/ufosky/gists{/gist_id}","starred_url":"https://api.github.com/users/ufosky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ufosky/subscriptions","organizations_url":"https://api.github.com/users/ufosky/orgs","repos_url":"https://api.github.com/users/ufosky/repos","events_url":"https://api.github.com/users/ufosky/events{/privacy}","received_events_url":"https://api.github.com/users/ufosky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T10:08:46Z","updated_at":"2018-08-31T10:08:46Z","author_association":"CONTRIBUTOR","body":"可不可以给 Channel::Init 增加个参数标识这个这个channel底层连接复用的key，只有ip:port和key都相同才复用同一个连接","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417618610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417623665","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-417623665","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":417623665,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzYyMzY2NQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T10:31:27Z","updated_at":"2018-08-31T10:31:27Z","author_association":"CONTRIBUTOR","body":"目前应该是不支持的哦","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417623665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417625124","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-417625124","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":417625124,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzYyNTEyNA==","user":{"login":"ufosky","id":801838,"node_id":"MDQ6VXNlcjgwMTgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/801838?v=4","gravatar_id":"","url":"https://api.github.com/users/ufosky","html_url":"https://github.com/ufosky","followers_url":"https://api.github.com/users/ufosky/followers","following_url":"https://api.github.com/users/ufosky/following{/other_user}","gists_url":"https://api.github.com/users/ufosky/gists{/gist_id}","starred_url":"https://api.github.com/users/ufosky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ufosky/subscriptions","organizations_url":"https://api.github.com/users/ufosky/orgs","repos_url":"https://api.github.com/users/ufosky/repos","events_url":"https://api.github.com/users/ufosky/events{/privacy}","received_events_url":"https://api.github.com/users/ufosky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-31T10:38:02Z","updated_at":"2018-08-31T10:38:02Z","author_association":"CONTRIBUTOR","body":"应该可以直接在ChannelOptions上加","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417625124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417826728","html_url":"https://github.com/apache/brpc/issues/348#issuecomment-417826728","issue_url":"https://api.github.com/repos/apache/brpc/issues/348","id":417826728,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzgyNjcyOA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-01T02:36:19Z","updated_at":"2018-09-01T02:36:19Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417826728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417861913","html_url":"https://github.com/apache/brpc/issues/432#issuecomment-417861913","issue_url":"https://api.github.com/repos/apache/brpc/issues/432","id":417861913,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzg2MTkxMw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-01T14:04:36Z","updated_at":"2018-09-01T14:04:36Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417861913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417914220","html_url":"https://github.com/apache/brpc/issues/302#issuecomment-417914220","issue_url":"https://api.github.com/repos/apache/brpc/issues/302","id":417914220,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzkxNDIyMA==","user":{"login":"demiaowu","id":7204759,"node_id":"MDQ6VXNlcjcyMDQ3NTk=","avatar_url":"https://avatars.githubusercontent.com/u/7204759?v=4","gravatar_id":"","url":"https://api.github.com/users/demiaowu","html_url":"https://github.com/demiaowu","followers_url":"https://api.github.com/users/demiaowu/followers","following_url":"https://api.github.com/users/demiaowu/following{/other_user}","gists_url":"https://api.github.com/users/demiaowu/gists{/gist_id}","starred_url":"https://api.github.com/users/demiaowu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/demiaowu/subscriptions","organizations_url":"https://api.github.com/users/demiaowu/orgs","repos_url":"https://api.github.com/users/demiaowu/repos","events_url":"https://api.github.com/users/demiaowu/events{/privacy}","received_events_url":"https://api.github.com/users/demiaowu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-02T08:38:06Z","updated_at":"2018-09-02T08:38:06Z","author_association":"NONE","body":"也遇到了这样的问题，但是自己在代码中，并没有使用 brpc 的单例","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417914220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417941858","html_url":"https://github.com/apache/brpc/issues/436#issuecomment-417941858","issue_url":"https://api.github.com/repos/apache/brpc/issues/436","id":417941858,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzk0MTg1OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-02T16:17:36Z","updated_at":"2018-09-02T16:17:36Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417941858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417997445","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-417997445","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":417997445,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzk5NzQ0NQ==","user":{"login":"ipconfigme","id":2500750,"node_id":"MDQ6VXNlcjI1MDA3NTA=","avatar_url":"https://avatars.githubusercontent.com/u/2500750?v=4","gravatar_id":"","url":"https://api.github.com/users/ipconfigme","html_url":"https://github.com/ipconfigme","followers_url":"https://api.github.com/users/ipconfigme/followers","following_url":"https://api.github.com/users/ipconfigme/following{/other_user}","gists_url":"https://api.github.com/users/ipconfigme/gists{/gist_id}","starred_url":"https://api.github.com/users/ipconfigme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ipconfigme/subscriptions","organizations_url":"https://api.github.com/users/ipconfigme/orgs","repos_url":"https://api.github.com/users/ipconfigme/repos","events_url":"https://api.github.com/users/ipconfigme/events{/privacy}","received_events_url":"https://api.github.com/users/ipconfigme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-03T04:31:45Z","updated_at":"2018-09-03T04:31:45Z","author_association":"CONTRIBUTOR","body":"为什么多个逻辑库的IP:Port相同呢？如果想连接不复用，可以使用POOLED和SHORT类型的连接","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/417997445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418008000","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-418008000","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":418008000,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODAwODAwMA==","user":{"login":"ufosky","id":801838,"node_id":"MDQ6VXNlcjgwMTgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/801838?v=4","gravatar_id":"","url":"https://api.github.com/users/ufosky","html_url":"https://github.com/ufosky","followers_url":"https://api.github.com/users/ufosky/followers","following_url":"https://api.github.com/users/ufosky/following{/other_user}","gists_url":"https://api.github.com/users/ufosky/gists{/gist_id}","starred_url":"https://api.github.com/users/ufosky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ufosky/subscriptions","organizations_url":"https://api.github.com/users/ufosky/orgs","repos_url":"https://api.github.com/users/ufosky/repos","events_url":"https://api.github.com/users/ufosky/events{/privacy}","received_events_url":"https://api.github.com/users/ufosky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-03T05:57:51Z","updated_at":"2018-09-03T05:57:51Z","author_association":"CONTRIBUTOR","body":"POOLED并不是表示连接不复用吧，只是说由复用一个连接变成复用一个池子的连接，这样又怎么保证我从连接池取出来的那个连接刚好是我选择好的那个数据库的连接\r\nSHORT连接连redis这个场景不太适合吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418008000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418010295","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-418010295","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":418010295,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODAxMDI5NQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-03T06:12:17Z","updated_at":"2018-09-03T06:12:17Z","author_association":"CONTRIBUTOR","body":"因为redis提供的功能就是如此，逻辑库可以理解为namespace的概念。POOLED和SHORT都满足不了题主的需求。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418010295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418064755","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-418064755","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":418064755,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODA2NDc1NQ==","user":{"login":"ipconfigme","id":2500750,"node_id":"MDQ6VXNlcjI1MDA3NTA=","avatar_url":"https://avatars.githubusercontent.com/u/2500750?v=4","gravatar_id":"","url":"https://api.github.com/users/ipconfigme","html_url":"https://github.com/ipconfigme","followers_url":"https://api.github.com/users/ipconfigme/followers","following_url":"https://api.github.com/users/ipconfigme/following{/other_user}","gists_url":"https://api.github.com/users/ipconfigme/gists{/gist_id}","starred_url":"https://api.github.com/users/ipconfigme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ipconfigme/subscriptions","organizations_url":"https://api.github.com/users/ipconfigme/orgs","repos_url":"https://api.github.com/users/ipconfigme/repos","events_url":"https://api.github.com/users/ipconfigme/events{/privacy}","received_events_url":"https://api.github.com/users/ipconfigme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-03T09:56:47Z","updated_at":"2018-09-05T09:43:01Z","author_association":"CONTRIBUTOR","body":"可以给SocketMap的key增加一个user_hint的string或者是int，这样相同endpoint的签名就不同了，类似不同的ssl证书","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418064755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418070658","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-418070658","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":418070658,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODA3MDY1OA==","user":{"login":"ufosky","id":801838,"node_id":"MDQ6VXNlcjgwMTgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/801838?v=4","gravatar_id":"","url":"https://api.github.com/users/ufosky","html_url":"https://github.com/ufosky","followers_url":"https://api.github.com/users/ufosky/followers","following_url":"https://api.github.com/users/ufosky/following{/other_user}","gists_url":"https://api.github.com/users/ufosky/gists{/gist_id}","starred_url":"https://api.github.com/users/ufosky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ufosky/subscriptions","organizations_url":"https://api.github.com/users/ufosky/orgs","repos_url":"https://api.github.com/users/ufosky/repos","events_url":"https://api.github.com/users/ufosky/events{/privacy}","received_events_url":"https://api.github.com/users/ufosky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-03T10:19:22Z","updated_at":"2018-09-03T10:19:22Z","author_association":"CONTRIBUTOR","body":"@gydong 应该是可行的\r\n>可以给SocketMap的key增加一个user_hint的string或者是int，这样相同endpoint的签名就不同了，类似不通的ssl证书","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418070658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418099488","html_url":"https://github.com/apache/brpc/issues/475#issuecomment-418099488","issue_url":"https://api.github.com/repos/apache/brpc/issues/475","id":418099488,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODA5OTQ4OA==","user":{"login":"xfpg21421","id":9292033,"node_id":"MDQ6VXNlcjkyOTIwMzM=","avatar_url":"https://avatars.githubusercontent.com/u/9292033?v=4","gravatar_id":"","url":"https://api.github.com/users/xfpg21421","html_url":"https://github.com/xfpg21421","followers_url":"https://api.github.com/users/xfpg21421/followers","following_url":"https://api.github.com/users/xfpg21421/following{/other_user}","gists_url":"https://api.github.com/users/xfpg21421/gists{/gist_id}","starred_url":"https://api.github.com/users/xfpg21421/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xfpg21421/subscriptions","organizations_url":"https://api.github.com/users/xfpg21421/orgs","repos_url":"https://api.github.com/users/xfpg21421/repos","events_url":"https://api.github.com/users/xfpg21421/events{/privacy}","received_events_url":"https://api.github.com/users/xfpg21421/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-03T12:21:18Z","updated_at":"2018-09-03T12:21:18Z","author_association":"NONE","body":"大佬，请问这个是什么问题啊？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418099488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418215892","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-418215892","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":418215892,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODIxNTg5Mg==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T01:33:07Z","updated_at":"2018-09-04T01:33:07Z","author_association":"CONTRIBUTOR","body":"@ufosky  是说要修改brpc的源码才能支持吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418215892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418223512","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-418223512","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":418223512,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODIyMzUxMg==","user":{"login":"ufosky","id":801838,"node_id":"MDQ6VXNlcjgwMTgzOA==","avatar_url":"https://avatars.githubusercontent.com/u/801838?v=4","gravatar_id":"","url":"https://api.github.com/users/ufosky","html_url":"https://github.com/ufosky","followers_url":"https://api.github.com/users/ufosky/followers","following_url":"https://api.github.com/users/ufosky/following{/other_user}","gists_url":"https://api.github.com/users/ufosky/gists{/gist_id}","starred_url":"https://api.github.com/users/ufosky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ufosky/subscriptions","organizations_url":"https://api.github.com/users/ufosky/orgs","repos_url":"https://api.github.com/users/ufosky/repos","events_url":"https://api.github.com/users/ufosky/events{/privacy}","received_events_url":"https://api.github.com/users/ufosky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T02:33:14Z","updated_at":"2018-09-04T02:33:14Z","author_association":"CONTRIBUTOR","body":"@gydong 是的，这也是一个比较通用的场景，只要一个连接里面带状态绑定的操作都会需要","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418223512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418252458","html_url":"https://github.com/apache/brpc/issues/477#issuecomment-418252458","issue_url":"https://api.github.com/repos/apache/brpc/issues/477","id":418252458,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODI1MjQ1OA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T06:14:24Z","updated_at":"2018-09-04T06:14:44Z","author_association":"MEMBER","body":"bthread是协作式的，也就是要主动yield或者执行结束。application layer实现的各种thread只能是协作式的，操作系统的线程是抢占式的前提是有时钟中断","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418252458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418255293","html_url":"https://github.com/apache/brpc/issues/438#issuecomment-418255293","issue_url":"https://api.github.com/repos/apache/brpc/issues/438","id":418255293,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODI1NTI5Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T06:28:39Z","updated_at":"2018-09-04T06:28:39Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418255293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418268570","html_url":"https://github.com/apache/brpc/issues/346#issuecomment-418268570","issue_url":"https://api.github.com/repos/apache/brpc/issues/346","id":418268570,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODI2ODU3MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T07:28:39Z","updated_at":"2018-09-04T07:28:39Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418268570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418284743","html_url":"https://github.com/apache/brpc/issues/379#issuecomment-418284743","issue_url":"https://api.github.com/repos/apache/brpc/issues/379","id":418284743,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODI4NDc0Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-04T08:28:40Z","updated_at":"2018-09-04T08:28:40Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418284743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418585448","html_url":"https://github.com/apache/brpc/issues/480#issuecomment-418585448","issue_url":"https://api.github.com/repos/apache/brpc/issues/480","id":418585448,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODU4NTQ0OA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T03:10:53Z","updated_at":"2018-09-05T03:10:53Z","author_association":"CONTRIBUTOR","body":"https://github.com/brpc/brpc/pull/369","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418585448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418588061","html_url":"https://github.com/apache/brpc/issues/479#issuecomment-418588061","issue_url":"https://api.github.com/repos/apache/brpc/issues/479","id":418588061,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODU4ODA2MQ==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T03:29:33Z","updated_at":"2018-09-05T03:29:33Z","author_association":"CONTRIBUTOR","body":"https://github.com/brpc/brpc/blob/master/docs/cn/server.md#q-fail-to-write-into-fd1865-socketid89051020824543547428230-got-eof%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418588061/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418592916","html_url":"https://github.com/apache/brpc/issues/435#issuecomment-418592916","issue_url":"https://api.github.com/repos/apache/brpc/issues/435","id":418592916,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODU5MjkxNg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T04:06:44Z","updated_at":"2018-09-05T04:06:44Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418592916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418622600","html_url":"https://github.com/apache/brpc/issues/439#issuecomment-418622600","issue_url":"https://api.github.com/repos/apache/brpc/issues/439","id":418622600,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODYyMjYwMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T07:06:45Z","updated_at":"2018-09-05T07:06:45Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418622600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418623233","html_url":"https://github.com/apache/brpc/issues/479#issuecomment-418623233","issue_url":"https://api.github.com/repos/apache/brpc/issues/479","id":418623233,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODYyMzIzMw==","user":{"login":"LeonWlw","id":9214669,"node_id":"MDQ6VXNlcjkyMTQ2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/9214669?v=4","gravatar_id":"","url":"https://api.github.com/users/LeonWlw","html_url":"https://github.com/LeonWlw","followers_url":"https://api.github.com/users/LeonWlw/followers","following_url":"https://api.github.com/users/LeonWlw/following{/other_user}","gists_url":"https://api.github.com/users/LeonWlw/gists{/gist_id}","starred_url":"https://api.github.com/users/LeonWlw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeonWlw/subscriptions","organizations_url":"https://api.github.com/users/LeonWlw/orgs","repos_url":"https://api.github.com/users/LeonWlw/repos","events_url":"https://api.github.com/users/LeonWlw/events{/privacy}","received_events_url":"https://api.github.com/users/LeonWlw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T07:09:25Z","updated_at":"2018-09-05T07:09:25Z","author_association":"NONE","body":"多谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418623233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418636999","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-418636999","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":418636999,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODYzNjk5OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-05T08:01:07Z","updated_at":"2018-09-07T07:23:07Z","author_association":"CONTRIBUTOR","body":"这个问题在增加client端ssl支持时遇到过了，目前client端对ssl的实现方式需要在SocketMapKey上传递一个很大的ChannelSSLOptions，以及不支持集群，也来自于没有解决好这个问题。\r\n\r\n正确的方法就是如前几楼所言，应该把ChannelSSLOptions聚拢为统一的channel_signature，值由channel决定，相同的channel上下文应该产生相同的signature，不同的channel上下文应该产生极大概率不同的signature。这个signature也会传入NamingServiceThread，从而支持集群。\r\n\r\n具体到redis的场景中，当有这个机制后，ChannelOptions中可以增加redis select相关的参数（可能就是个string），并影响到channel_signature的生成，从而让不同select配置的channel使用不同的连接。\r\n\r\n具体到ssl的场景中，ssl_options会影响channel_signature，从而为不同的ssl_options建立不同的连接。但ssl_ctx并不在SocketMap中生成，而是在Insert时传入进去。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418636999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418964984","html_url":"https://github.com/apache/brpc/pull/465#issuecomment-418964984","issue_url":"https://api.github.com/repos/apache/brpc/issues/465","id":418964984,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODk2NDk4NA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T04:59:30Z","updated_at":"2018-09-06T04:59:30Z","author_association":"CONTRIBUTOR","body":"some enhancement:\r\n1. couchbase_channel: Init and send couchbase request.\r\n2. couchbase_load_balancer: select mapped server according vbucket id\r\n   and retry reason.\r\n3. coucbase_naming_service: retrieves vbucket config.\r\n4. couchbase_listener_naming_service: retrieves listen channel for CouchbaseNamingService.\r\n5. couchbase_retry_policy: handle rebalance/failover retry case.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/418964984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419048442","html_url":"https://github.com/apache/brpc/issues/481#issuecomment-419048442","issue_url":"https://api.github.com/repos/apache/brpc/issues/481","id":419048442,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTA0ODQ0Mg==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T10:41:12Z","updated_at":"2018-09-06T10:41:12Z","author_association":"CONTRIBUTOR","body":"go 可以用[HTTP协议](https://github.com/brpc/brpc/blob/master/docs/cn/http_service.md)来访问 C++ 的 brpc service。 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419048442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419063800","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-419063800","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":419063800,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTA2MzgwMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T11:45:02Z","updated_at":"2018-09-06T11:45:02Z","author_association":"CONTRIBUTOR","body":"#482 中ChannelOptions中增加了connection_group\r\n```\r\n    // Channels with same connection_group share connections. In an another\r\n    // word, set to a different value to not share connections.\r\n    // Default: 0\r\n    int connection_group;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419063800/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419115444","html_url":"https://github.com/apache/brpc/pull/482#issuecomment-419115444","issue_url":"https://api.github.com/repos/apache/brpc/issues/482","id":419115444,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTExNTQ0NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T14:31:46Z","updated_at":"2018-09-06T14:31:46Z","author_association":"CONTRIBUTOR","body":"The UTs are not modified yet and should be corrected tomorrow.\r\nTag support in SocketMaps may be added as well.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419115444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419116122","html_url":"https://github.com/apache/brpc/pull/389#issuecomment-419116122","issue_url":"https://api.github.com/repos/apache/brpc/issues/389","id":419116122,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTExNjEyMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T14:33:39Z","updated_at":"2018-09-06T14:33:39Z","author_association":"CONTRIBUTOR","body":"Tag support in SocketMaps will be added in #482","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419116122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419116546","html_url":"https://github.com/apache/brpc/issues/481#issuecomment-419116546","issue_url":"https://api.github.com/repos/apache/brpc/issues/481","id":419116546,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTExNjU0Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-06T14:34:47Z","updated_at":"2018-09-06T14:35:12Z","author_association":"CONTRIBUTOR","body":"合入 #471 后可以和grpc-go互通，不过仍然需要1-2周时间。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419116546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419391118","html_url":"https://github.com/apache/brpc/issues/485#issuecomment-419391118","issue_url":"https://api.github.com/repos/apache/brpc/issues/485","id":419391118,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTM5MTExOA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T10:06:42Z","updated_at":"2018-09-07T10:06:42Z","author_association":"CONTRIBUTOR","body":"我们最近发现，使用pooled模式的channel时，服务的竞争会表现严重一些，和这个问题有关系吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419391118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419394463","html_url":"https://github.com/apache/brpc/issues/433#issuecomment-419394463","issue_url":"https://api.github.com/repos/apache/brpc/issues/433","id":419394463,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTM5NDQ2Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-07T10:19:56Z","updated_at":"2018-09-07T10:19:56Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419394463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419627659","html_url":"https://github.com/apache/brpc/issues/192#issuecomment-419627659","issue_url":"https://api.github.com/repos/apache/brpc/issues/192","id":419627659,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTYyNzY1OQ==","user":{"login":"06wagon","id":13743980,"node_id":"MDQ6VXNlcjEzNzQzOTgw","avatar_url":"https://avatars.githubusercontent.com/u/13743980?v=4","gravatar_id":"","url":"https://api.github.com/users/06wagon","html_url":"https://github.com/06wagon","followers_url":"https://api.github.com/users/06wagon/followers","following_url":"https://api.github.com/users/06wagon/following{/other_user}","gists_url":"https://api.github.com/users/06wagon/gists{/gist_id}","starred_url":"https://api.github.com/users/06wagon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/06wagon/subscriptions","organizations_url":"https://api.github.com/users/06wagon/orgs","repos_url":"https://api.github.com/users/06wagon/repos","events_url":"https://api.github.com/users/06wagon/events{/privacy}","received_events_url":"https://api.github.com/users/06wagon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-08T09:44:00Z","updated_at":"2018-09-08T09:44:00Z","author_association":"NONE","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419627659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419643118","html_url":"https://github.com/apache/brpc/issues/485#issuecomment-419643118","issue_url":"https://api.github.com/repos/apache/brpc/issues/485","id":419643118,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY0MzExOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-08T13:45:55Z","updated_at":"2018-09-08T13:45:55Z","author_association":"CONTRIBUTOR","body":"关系不大。竞争可以用/contentions分析一下。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419643118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419643208","html_url":"https://github.com/apache/brpc/issues/476#issuecomment-419643208","issue_url":"https://api.github.com/repos/apache/brpc/issues/476","id":419643208,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY0MzIwOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-08T13:47:31Z","updated_at":"2018-09-08T13:47:41Z","author_association":"CONTRIBUTOR","body":"已merge入主干。connection_group的类型改为了string。对于这里的redis场景，可以针对不同的select命令设置不同的connection_group，可以尝试一下。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419643208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419643286","html_url":"https://github.com/apache/brpc/issues/325#issuecomment-419643286","issue_url":"https://api.github.com/repos/apache/brpc/issues/325","id":419643286,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY0MzI4Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-08T13:48:47Z","updated_at":"2018-09-08T13:48:47Z","author_association":"CONTRIBUTOR","body":"Supported in #482 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419643286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419693963","html_url":"https://github.com/apache/brpc/issues/442#issuecomment-419693963","issue_url":"https://api.github.com/repos/apache/brpc/issues/442","id":419693963,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY5Mzk2Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-09T06:24:40Z","updated_at":"2018-09-09T06:24:40Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419693963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419697700","html_url":"https://github.com/apache/brpc/issues/488#issuecomment-419697700","issue_url":"https://api.github.com/repos/apache/brpc/issues/488","id":419697700,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTY5NzcwMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-09T07:52:39Z","updated_at":"2018-09-09T07:52:39Z","author_association":"CONTRIBUTOR","body":"可以，基本类似线程池。效率上会和brpc中有一些（在应用层面）微小的差异。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419697700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419727101","html_url":"https://github.com/apache/brpc/pull/482#issuecomment-419727101","issue_url":"https://api.github.com/repos/apache/brpc/issues/482","id":419727101,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTcyNzEwMQ==","user":{"login":"old-bear","id":1525532,"node_id":"MDQ6VXNlcjE1MjU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1525532?v=4","gravatar_id":"","url":"https://api.github.com/users/old-bear","html_url":"https://github.com/old-bear","followers_url":"https://api.github.com/users/old-bear/followers","following_url":"https://api.github.com/users/old-bear/following{/other_user}","gists_url":"https://api.github.com/users/old-bear/gists{/gist_id}","starred_url":"https://api.github.com/users/old-bear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/old-bear/subscriptions","organizations_url":"https://api.github.com/users/old-bear/orgs","repos_url":"https://api.github.com/users/old-bear/repos","events_url":"https://api.github.com/users/old-bear/events{/privacy}","received_events_url":"https://api.github.com/users/old-bear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-09T16:22:38Z","updated_at":"2018-09-09T16:45:29Z","author_association":"CONTRIBUTOR","body":"ctx都用sharedptr后，Server里的ssl_ctx_map感觉可以不要了，原来这个只是用来管内存的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419727101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419783637","html_url":"https://github.com/apache/brpc/pull/319#issuecomment-419783637","issue_url":"https://api.github.com/repos/apache/brpc/issues/319","id":419783637,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTc4MzYzNw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T04:25:18Z","updated_at":"2018-09-10T04:25:18Z","author_association":"CONTRIBUTOR","body":"其中未提交的改动会拆分为更多的pr","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419783637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419798991","html_url":"https://github.com/apache/brpc/issues/440#issuecomment-419798991","issue_url":"https://api.github.com/repos/apache/brpc/issues/440","id":419798991,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTc5ODk5MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T06:11:24Z","updated_at":"2018-09-10T06:11:24Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419798991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419798994","html_url":"https://github.com/apache/brpc/issues/441#issuecomment-419798994","issue_url":"https://api.github.com/repos/apache/brpc/issues/441","id":419798994,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTc5ODk5NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T06:11:25Z","updated_at":"2018-09-10T06:11:25Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419798994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419911819","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-419911819","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":419911819,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTkxMTgxOQ==","user":{"login":"gtarcoder","id":11898942,"node_id":"MDQ6VXNlcjExODk4OTQy","avatar_url":"https://avatars.githubusercontent.com/u/11898942?v=4","gravatar_id":"","url":"https://api.github.com/users/gtarcoder","html_url":"https://github.com/gtarcoder","followers_url":"https://api.github.com/users/gtarcoder/followers","following_url":"https://api.github.com/users/gtarcoder/following{/other_user}","gists_url":"https://api.github.com/users/gtarcoder/gists{/gist_id}","starred_url":"https://api.github.com/users/gtarcoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtarcoder/subscriptions","organizations_url":"https://api.github.com/users/gtarcoder/orgs","repos_url":"https://api.github.com/users/gtarcoder/repos","events_url":"https://api.github.com/users/gtarcoder/events{/privacy}","received_events_url":"https://api.github.com/users/gtarcoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T13:28:36Z","updated_at":"2018-09-10T13:30:47Z","author_association":"NONE","body":"我们测试发现，butil/time.h 中的 butil::Timer 的start 和 stop函数使用了 cpu_wide_time_ns， 这个函数会在启动的时候 获取一次 invariant_cpu_freq, 而真实的 cpu frequency会不断变化的。 且多核场景下，不同核心的 frequency也不同。 \r\n\r\n`\r\n// ---------------------------------------------------------------\r\n// Get cpu-wide (wall-) time.\r\n// Cost ~9ns on Intel(R) Xeon(R) CPU E5620 @ 2.40GHz\r\n// ---------------------------------------------------------------\r\n// note: Inlining shortens time cost per-call for 15ns in a loop of many\r\n//       calls to this function.\r\ninline int64_t cpuwide_time_ns() {\r\n    if (detail::invariant_cpu_freq > 0) {\r\n        const uint64_t tsc = detail::clock_cycles();\r\n        const uint64_t sec = tsc / detail::invariant_cpu_freq;\r\n        // TODO: should be OK until CPU's frequency exceeds 16GHz.\r\n        return (tsc - sec * detail::invariant_cpu_freq) * 1000000000L /\r\n            detail::invariant_cpu_freq + sec * 1000000000L;\r\n    } else if (!detail::invariant_cpu_freq) {\r\n        // Lack of necessary features, return system-wide monotonic time instead.\r\n        return monotonic_time_ns();\r\n    } else {\r\n        // Use a thread-unsafe method(OK to us) to initialize the freq\r\n        // to save a \"if\" test comparing to using a local static variable\r\n        detail::invariant_cpu_freq = detail::read_invariant_cpu_frequency();\r\n        return cpuwide_time_ns();\r\n    }\r\n}\r\n\r\n`\r\n@jamesge  是不是有这个问题呢？ 以及，该怎么高效获取一个精确的时间呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419911819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419917323","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-419917323","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":419917323,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTkxNzMyMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T13:45:35Z","updated_at":"2018-09-10T13:45:35Z","author_association":"CONTRIBUTOR","body":"#414 这里有一些解释。按道理constant_tsc(the TSC runs at constant frequency irrespective of P/T- states)和nonstop_tsc(TSC does not stop in deep C-states)，说明tsc是可用作wall-time的。 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419917323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419986174","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-419986174","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":419986174,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTk4NjE3NA==","user":{"login":"gethinzhang","id":5329492,"node_id":"MDQ6VXNlcjUzMjk0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5329492?v=4","gravatar_id":"","url":"https://api.github.com/users/gethinzhang","html_url":"https://github.com/gethinzhang","followers_url":"https://api.github.com/users/gethinzhang/followers","following_url":"https://api.github.com/users/gethinzhang/following{/other_user}","gists_url":"https://api.github.com/users/gethinzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/gethinzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gethinzhang/subscriptions","organizations_url":"https://api.github.com/users/gethinzhang/orgs","repos_url":"https://api.github.com/users/gethinzhang/repos","events_url":"https://api.github.com/users/gethinzhang/events{/privacy}","received_events_url":"https://api.github.com/users/gethinzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-10T17:02:30Z","updated_at":"2018-09-10T17:02:51Z","author_association":"NONE","body":"@gtarcoder 的意思感觉应该是不同的时间段在cat /proc/cpuinfo的时候，得到的cpu MHz其实是不稳定的，而且不同的核差别可能大。而贴的那段代码是只会获取一次invariant_cpu_freq，这样可能会导致整个耗时都会收到第一次收集的那个核频率影响，导致后续的收集会有持续的偏移吧？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/419986174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420110827","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-420110827","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":420110827,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDExMDgyNw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T01:04:17Z","updated_at":"2018-09-11T01:04:17Z","author_association":"CONTRIBUTOR","body":"@gethinzhang , constant_tsc的意思就是TSC的频率和cpu降频无关。能贴一下对应机器的cpuinfo么，也许是cpu有新的状态了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420110827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420111684","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-420111684","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":420111684,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDExMTY4NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T01:09:19Z","updated_at":"2018-09-11T01:09:34Z","author_association":"CONTRIBUTOR","body":"intel对于tsc完整的描述：\r\n\r\n16.11.1 Invariant TSC\r\nThe time stamp counter in newer processors may support an enhancement, referred to as invariant TSC. Processor's support for invariant TSC is indicated by CPUID.80000007H:EDX[8]. (X86_FEATURE_CONSTANT_TSC + X86_FEATURE_NONSTOP_TSC)\r\nThe invariant TSC will run at a constant rate in all ACPI P-, C-. and T-states. This is the architectural behavior moving forward. On processors with invariant TSC support, the OS may use the TSC for wall clock timer services (instead of ACPI or HPET timers). TSC reads are much more efficient and do not incur the overhead associated with a ring transition or access to a platform resource.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420111684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420117322","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-420117322","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":420117322,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDExNzMyMg==","user":{"login":"gtarcoder","id":11898942,"node_id":"MDQ6VXNlcjExODk4OTQy","avatar_url":"https://avatars.githubusercontent.com/u/11898942?v=4","gravatar_id":"","url":"https://api.github.com/users/gtarcoder","html_url":"https://github.com/gtarcoder","followers_url":"https://api.github.com/users/gtarcoder/followers","following_url":"https://api.github.com/users/gtarcoder/following{/other_user}","gists_url":"https://api.github.com/users/gtarcoder/gists{/gist_id}","starred_url":"https://api.github.com/users/gtarcoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtarcoder/subscriptions","organizations_url":"https://api.github.com/users/gtarcoder/orgs","repos_url":"https://api.github.com/users/gtarcoder/repos","events_url":"https://api.github.com/users/gtarcoder/events{/privacy}","received_events_url":"https://api.github.com/users/gtarcoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T01:40:30Z","updated_at":"2018-09-11T01:40:30Z","author_association":"NONE","body":"@jamesge  这是截取的其中的两个核的cpuinfo， flags 是有 constant_tsc 和 nonstop_tsc 的。\r\n`\r\n\r\nprocessor       : 30\r\nvendor_id       : GenuineIntel\r\ncpu family      : 6\r\nmodel           : 79\r\nmodel name      : Intel(R) Xeon(R) CPU E5-2620 v4 @ 2.10GHz\r\nstepping        : 1\r\nmicrocode       : 0xb00002c\r\ncpu MHz         : 1210.345\r\ncache size      : 20480 KB\r\nphysical id     : 0\r\nsiblings        : 16\r\ncore id         : 7\r\ncpu cores       : 8\r\napicid          : 15\r\ninitial apicid  : 15\r\nfpu             : yes\r\nfpu_exception   : yes\r\ncpuid level     : 20\r\nwp              : yes\r\nflags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm 3dnowprefetch epb intel_pt tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm cqm rdseed adx smap xsaveopt cqm_llc cqm_occup_llc cqm_mbm_total cqm_mbm_local dtherm ida arat pln pts\r\nbugs            :\r\nbogomips        : 4199.85\r\nclflush size    : 64\r\ncache_alignment : 64\r\naddress sizes   : 46 bits physical, 48 bits virtual\r\npower management:\r\n\r\nprocessor       : 31\r\nvendor_id       : GenuineIntel\r\ncpu family      : 6\r\nmodel           : 79\r\nmodel name      : Intel(R) Xeon(R) CPU E5-2620 v4 @ 2.10GHz\r\nstepping        : 1\r\nmicrocode       : 0xb00002c\r\ncpu MHz         : 1199.963\r\ncache size      : 20480 KB\r\nphysical id     : 1\r\nsiblings        : 16\r\ncore id         : 7\r\ncpu cores       : 8\r\napicid          : 31\r\ninitial apicid  : 31\r\nfpu             : yes\r\nfpu_exception   : yes\r\ncpuid level     : 20\r\nwp              : yes\r\nflags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm 3dnowprefetch epb intel_pt tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm cqm rdseed adx smap xsaveopt cqm_llc cqm_occup_llc cqm_mbm_total cqm_mbm_local dtherm ida arat pln pts\r\nbugs            :\r\nbogomips        : 4201.11\r\nclflush size    : 64\r\ncache_alignment : 64\r\naddress sizes   : 46 bits physical, 48 bits virtual\r\npower management:\r\n\r\n`\r\n\r\n不过我看代码实现 int64_t read_cpu_frequency(bool* invariant_tsc)  直接读取了第一个核的cpu 频率freq，然后用 tsc / freq 得到时间，怀疑这是不是 constant_tsc的正确做法呢？  \r\n[这里](https://stackoverflow.com/questions/35123379/getting-tsc-rate-in-x86-kernel)是另外的获取方法：\r\n\r\n`\r\n\r\nThe TSC rate is directly related to \"cpu MHz\" in /proc/cpuinfo. Actually, the better number to use is \"bogomips\". The reason is that while the freq for TSC is the max CPU freq, the current \"cpu Mhz\" can vary at time of your invocation.\r\n\r\nThe bogomips value is computed at boot. You'll need to adjust this value by number of cores and processor count (i.e. the number of hyperthreads) That gives you [fractional] MHz. That is what I use to do what you want to do.\r\n\r\nTo get the processor count, look for the last \"processor: \" line. The processor count is <value> + 1. Call it \"cpu_count\".\r\n\r\nTo get number of cores, any \"cpu cores: \" works. number of cores is <value>. Call it \"core_count\".\r\n\r\nSo, the formula is:\r\n\r\nsmt_count = cpu_count;\r\nif (core_count)\r\n    smt_count /= core_count;\r\ncpu_freq_in_khz = (bogomips * scale_factor) / smt_count;\r\n\r\n`\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420117322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420123540","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-420123540","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":420123540,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDEyMzU0MA==","user":{"login":"gethinzhang","id":5329492,"node_id":"MDQ6VXNlcjUzMjk0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5329492?v=4","gravatar_id":"","url":"https://api.github.com/users/gethinzhang","html_url":"https://github.com/gethinzhang","followers_url":"https://api.github.com/users/gethinzhang/followers","following_url":"https://api.github.com/users/gethinzhang/following{/other_user}","gists_url":"https://api.github.com/users/gethinzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/gethinzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gethinzhang/subscriptions","organizations_url":"https://api.github.com/users/gethinzhang/orgs","repos_url":"https://api.github.com/users/gethinzhang/repos","events_url":"https://api.github.com/users/gethinzhang/events{/privacy}","received_events_url":"https://api.github.com/users/gethinzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T02:17:44Z","updated_at":"2018-09-11T02:17:44Z","author_association":"NONE","body":"@jamesge 戈兄，感觉这个问题现在不是rdstc问题，感觉是获取freq的方式有点问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420123540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420124012","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-420124012","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":420124012,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDEyNDAxMg==","user":{"login":"gethinzhang","id":5329492,"node_id":"MDQ6VXNlcjUzMjk0OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5329492?v=4","gravatar_id":"","url":"https://api.github.com/users/gethinzhang","html_url":"https://github.com/gethinzhang","followers_url":"https://api.github.com/users/gethinzhang/followers","following_url":"https://api.github.com/users/gethinzhang/following{/other_user}","gists_url":"https://api.github.com/users/gethinzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/gethinzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gethinzhang/subscriptions","organizations_url":"https://api.github.com/users/gethinzhang/orgs","repos_url":"https://api.github.com/users/gethinzhang/repos","events_url":"https://api.github.com/users/gethinzhang/events{/privacy}","received_events_url":"https://api.github.com/users/gethinzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T02:20:28Z","updated_at":"2018-09-11T02:21:58Z","author_association":"NONE","body":"`inline int64_t cpuwide_time_ns() {\r\n  if (detail::invariant_cpu_freq > 0) {\r\n\r\n        const uint64_t tsc = detail::clock_cycles(); //这行应该没问题，我刚才在我本机写了个测试，基本上是稳定的\r\n\r\n        const uint64_t sec = tsc / detail::invariant_cpu_freq; // 这个地方出问题了\r\n\r\n        // TODO: should be OK until CPU's frequency exceeds 16GHz.\r\n\r\n        return (tsc - sec * detail::invariant_cpu_freq) * 1000000000L /\r\n                     detail::invariant_cpu_freq + sec * 1000000000L;\r\n\r\n      } else if (!detail::invariant_cpu_freq) {\r\n\r\n       // Lack of necessary features, return system-wide monotonic time instead.\r\n\r\n      return monotonic_time_ns();\r\n\r\n      } else {\r\n\r\n          // Use a thread-unsafe method(OK to us) to initialize the freq\r\n\r\n         // to save a \"if\" test comparing to using a local static variable\r\n\r\n        detail::invariant_cpu_freq = detail::read_invariant_cpu_frequency(); //这个地方获取是会获取第一个cpu的freq，在不同时间，不同核的值是不一致的，但是这里保存了一个常量\r\n\r\n        return cpuwide_time_ns();\r\n\r\n     }\r\n}`","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420124012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420137119","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-420137119","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":420137119,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDEzNzExOQ==","user":{"login":"gtarcoder","id":11898942,"node_id":"MDQ6VXNlcjExODk4OTQy","avatar_url":"https://avatars.githubusercontent.com/u/11898942?v=4","gravatar_id":"","url":"https://api.github.com/users/gtarcoder","html_url":"https://github.com/gtarcoder","followers_url":"https://api.github.com/users/gtarcoder/followers","following_url":"https://api.github.com/users/gtarcoder/following{/other_user}","gists_url":"https://api.github.com/users/gtarcoder/gists{/gist_id}","starred_url":"https://api.github.com/users/gtarcoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtarcoder/subscriptions","organizations_url":"https://api.github.com/users/gtarcoder/orgs","repos_url":"https://api.github.com/users/gtarcoder/repos","events_url":"https://api.github.com/users/gtarcoder/events{/privacy}","received_events_url":"https://api.github.com/users/gtarcoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-11T03:46:31Z","updated_at":"2018-09-11T03:46:31Z","author_association":"NONE","body":"https://github.com/brpc/brpc/pull/494 @jamesge  我想用这种方式 去获取 cpu frequency，你看下是否合适？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420137119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420479711","html_url":"https://github.com/apache/brpc/issues/445#issuecomment-420479711","issue_url":"https://api.github.com/repos/apache/brpc/issues/445","id":420479711,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDQ3OTcxMQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-12T01:23:33Z","updated_at":"2018-09-12T01:23:33Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420479711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420480348","html_url":"https://github.com/apache/brpc/issues/493#issuecomment-420480348","issue_url":"https://api.github.com/repos/apache/brpc/issues/493","id":420480348,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDQ4MDM0OA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-12T01:27:04Z","updated_at":"2018-09-12T01:27:04Z","author_association":"CONTRIBUTOR","body":"要临时应对这个问题的话，想到一种非常hack的方案：实现一个Authenticator，在GenerateCredential 函数中去 select DB 。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420480348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420507459","html_url":"https://github.com/apache/brpc/issues/396#issuecomment-420507459","issue_url":"https://api.github.com/repos/apache/brpc/issues/396","id":420507459,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDUwNzQ1OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-12T04:23:33Z","updated_at":"2018-09-12T04:23:33Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420507459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420566306","html_url":"https://github.com/apache/brpc/issues/496#issuecomment-420566306","issue_url":"https://api.github.com/repos/apache/brpc/issues/496","id":420566306,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDU2NjMwNg==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-12T08:51:10Z","updated_at":"2018-09-12T08:51:25Z","author_association":"MEMBER","body":"参考 https://github.com/brpc/brpc/blob/master/docs/cn/server_debugging.md 排查下问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420566306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420851004","html_url":"https://github.com/apache/brpc/issues/493#issuecomment-420851004","issue_url":"https://api.github.com/repos/apache/brpc/issues/493","id":420851004,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDg1MTAwNA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-13T01:21:21Z","updated_at":"2018-09-13T01:21:21Z","author_association":"CONTRIBUTOR","body":"这点在概念上类似于connection preface，就是每次tcp连接后都要发送点特殊的东西，但细节上和协议有比较密切的关系。普通的connection preface一般得是第一份数据且只能发一次，而redis的select，似乎多发两次也没什么（幂等）。一种改法是在[RedisRequest](https://github.com/brpc/brpc/blob/19f3e87409af789cb17b8ef004b5a5aff7540263/src/brpc/redis.h#L48)中增加select的参数，然后在[PackRedisRequest](https://github.com/brpc/brpc/blob/19f3e87409af789cb17b8ef004b5a5aff7540263/src/brpc/policy/redis_protocol.cpp#L178)中做一些特殊处理。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420851004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420853270","html_url":"https://github.com/apache/brpc/issues/492#issuecomment-420853270","issue_url":"https://api.github.com/repos/apache/brpc/issues/492","id":420853270,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDg1MzI3MA==","user":{"login":"gtarcoder","id":11898942,"node_id":"MDQ6VXNlcjExODk4OTQy","avatar_url":"https://avatars.githubusercontent.com/u/11898942?v=4","gravatar_id":"","url":"https://api.github.com/users/gtarcoder","html_url":"https://github.com/gtarcoder","followers_url":"https://api.github.com/users/gtarcoder/followers","following_url":"https://api.github.com/users/gtarcoder/following{/other_user}","gists_url":"https://api.github.com/users/gtarcoder/gists{/gist_id}","starred_url":"https://api.github.com/users/gtarcoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtarcoder/subscriptions","organizations_url":"https://api.github.com/users/gtarcoder/orgs","repos_url":"https://api.github.com/users/gtarcoder/repos","events_url":"https://api.github.com/users/gtarcoder/events{/privacy}","received_events_url":"https://api.github.com/users/gtarcoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-13T01:34:03Z","updated_at":"2018-09-13T01:34:03Z","author_association":"NONE","body":"可以确定brpc的timer 获取时间是不准确的（我们的服务已经出现多次计时不准的问题了）。 @jamesge  能给看下PR 不？ ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/420853270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421224359","html_url":"https://github.com/apache/brpc/pull/497#issuecomment-421224359","issue_url":"https://api.github.com/repos/apache/brpc/issues/497","id":421224359,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTIyNDM1OQ==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-14T04:03:09Z","updated_at":"2018-09-14T04:03:09Z","author_association":"MEMBER","body":"能描述下是如何验证的吗？ 这个PR中没看到关于unit test的修改.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421224359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421227899","html_url":"https://github.com/apache/brpc/pull/497#issuecomment-421227899","issue_url":"https://api.github.com/repos/apache/brpc/issues/497","id":421227899,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTIyNzg5OQ==","user":{"login":"PeterRK","id":4464013,"node_id":"MDQ6VXNlcjQ0NjQwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/4464013?v=4","gravatar_id":"","url":"https://api.github.com/users/PeterRK","html_url":"https://github.com/PeterRK","followers_url":"https://api.github.com/users/PeterRK/followers","following_url":"https://api.github.com/users/PeterRK/following{/other_user}","gists_url":"https://api.github.com/users/PeterRK/gists{/gist_id}","starred_url":"https://api.github.com/users/PeterRK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PeterRK/subscriptions","organizations_url":"https://api.github.com/users/PeterRK/orgs","repos_url":"https://api.github.com/users/PeterRK/repos","events_url":"https://api.github.com/users/PeterRK/events{/privacy}","received_events_url":"https://api.github.com/users/PeterRK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-14T04:31:51Z","updated_at":"2018-09-14T04:32:34Z","author_association":"NONE","body":"获取系统参数的行为很难做unit test。这个修改目前对Intel的机器是好的，对AMD的机器应该不work（我没找到AMD的相关文档）。不过原来拿当前频率做基准频率不靠谱，现在大部分CPU都有动态调频。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421227899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421228715","html_url":"https://github.com/apache/brpc/pull/497#issuecomment-421228715","issue_url":"https://api.github.com/repos/apache/brpc/issues/497","id":421228715,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTIyODcxNQ==","user":{"login":"PeterRK","id":4464013,"node_id":"MDQ6VXNlcjQ0NjQwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/4464013?v=4","gravatar_id":"","url":"https://api.github.com/users/PeterRK","html_url":"https://github.com/PeterRK","followers_url":"https://api.github.com/users/PeterRK/followers","following_url":"https://api.github.com/users/PeterRK/following{/other_user}","gists_url":"https://api.github.com/users/PeterRK/gists{/gist_id}","starred_url":"https://api.github.com/users/PeterRK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PeterRK/subscriptions","organizations_url":"https://api.github.com/users/PeterRK/orgs","repos_url":"https://api.github.com/users/PeterRK/repos","events_url":"https://api.github.com/users/PeterRK/events{/privacy}","received_events_url":"https://api.github.com/users/PeterRK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-14T04:38:21Z","updated_at":"2018-09-14T04:38:36Z","author_association":"NONE","body":"目前测试是不充分的，我能测的CPU型号有限","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421228715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421262651","html_url":"https://github.com/apache/brpc/issues/448#issuecomment-421262651","issue_url":"https://api.github.com/repos/apache/brpc/issues/448","id":421262651,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTI2MjY1MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-14T07:50:42Z","updated_at":"2018-09-14T07:50:42Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421262651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421525446","html_url":"https://github.com/apache/brpc/issues/415#issuecomment-421525446","issue_url":"https://api.github.com/repos/apache/brpc/issues/415","id":421525446,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTUyNTQ0Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-15T02:50:42Z","updated_at":"2018-09-15T02:50:42Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421525446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421676125","html_url":"https://github.com/apache/brpc/issues/499#issuecomment-421676125","issue_url":"https://api.github.com/repos/apache/brpc/issues/499","id":421676125,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTY3NjEyNQ==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-16T02:35:56Z","updated_at":"2018-09-16T02:35:56Z","author_association":"MEMBER","body":"/vars/controller_count 是多少","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421676125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421697134","html_url":"https://github.com/apache/brpc/issues/499#issuecomment-421697134","issue_url":"https://api.github.com/repos/apache/brpc/issues/499","id":421697134,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTY5NzEzNA==","user":{"login":"imotai","id":8623385,"node_id":"MDQ6VXNlcjg2MjMzODU=","avatar_url":"https://avatars.githubusercontent.com/u/8623385?v=4","gravatar_id":"","url":"https://api.github.com/users/imotai","html_url":"https://github.com/imotai","followers_url":"https://api.github.com/users/imotai/followers","following_url":"https://api.github.com/users/imotai/following{/other_user}","gists_url":"https://api.github.com/users/imotai/gists{/gist_id}","starred_url":"https://api.github.com/users/imotai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotai/subscriptions","organizations_url":"https://api.github.com/users/imotai/orgs","repos_url":"https://api.github.com/users/imotai/repos","events_url":"https://api.github.com/users/imotai/events{/privacy}","received_events_url":"https://api.github.com/users/imotai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-16T05:06:42Z","updated_at":"2018-09-16T05:06:42Z","author_association":"NONE","body":"> /vars/controller_count 是多少\r\n\r\n我使用这个版本没有这个统计值","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421697134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421877487","html_url":"https://github.com/apache/brpc/issues/493#issuecomment-421877487","issue_url":"https://api.github.com/repos/apache/brpc/issues/493","id":421877487,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTg3NzQ4Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T02:33:52Z","updated_at":"2018-09-17T02:33:52Z","author_association":"CONTRIBUTOR","body":"@gydong auth的方法我觉得也是可以，只是现在auth的接口不够通用，不太符合直觉。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421877487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421886413","html_url":"https://github.com/apache/brpc/issues/498#issuecomment-421886413","issue_url":"https://api.github.com/repos/apache/brpc/issues/498","id":421886413,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTg4NjQxMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T04:07:22Z","updated_at":"2018-09-17T04:07:22Z","author_association":"CONTRIBUTOR","body":"我试验了下master head的版本，没有这个问题，你用的是哪个版本？\r\n```\r\n$ ./redis_cli \r\n    __\r\n   / /_  _________  _____\r\n  / __ \\/ ___/ __ \\/ ___/\r\n / /_/ / /  / /_/ / /__\r\n/_.___/_/  / .___/\\___/\r\n          /_/\r\n\r\nThis command-line tool mimics the look-n-feel of official redis-cli, as a demostration of brpc's capability of talking to redis-server. The output and behavior is not exactly same with the official one.\r\n\r\nredis 127.0.0.1:6379> set foo ''\r\nOK\r\nredis 127.0.0.1:6379> get foo\r\n\"\"\r\nredis 127.0.0.1:6379> \r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421886413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421896370","html_url":"https://github.com/apache/brpc/issues/447#issuecomment-421896370","issue_url":"https://api.github.com/repos/apache/brpc/issues/447","id":421896370,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTg5NjM3MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T05:57:06Z","updated_at":"2018-09-17T05:57:06Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421896370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421896549","html_url":"https://github.com/apache/brpc/pull/497#issuecomment-421896549","issue_url":"https://api.github.com/repos/apache/brpc/issues/497","id":421896549,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTg5NjU0OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T05:58:38Z","updated_at":"2018-09-17T05:58:38Z","author_association":"CONTRIBUTOR","body":"这个PR和 #494 有什么关联么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421896549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421935570","html_url":"https://github.com/apache/brpc/issues/500#issuecomment-421935570","issue_url":"https://api.github.com/repos/apache/brpc/issues/500","id":421935570,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTkzNTU3MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T09:03:00Z","updated_at":"2018-09-17T09:03:00Z","author_association":"CONTRIBUTOR","body":"老版本是可以修改的，因为那时只支持一种并发控制方式。\r\n在支持通用的ConcurrencyLimiter后，由于其中的\"auto\"并发控制可以覆盖大部分动态修改的场景，且并不是所有的CL实现都支持动态修改，动态修改就去掉了。\r\n你可以测试下你的动态修改需求是不是直接用auto就行了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421935570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421941080","html_url":"https://github.com/apache/brpc/issues/500#issuecomment-421941080","issue_url":"https://api.github.com/repos/apache/brpc/issues/500","id":421941080,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTk0MTA4MA==","user":{"login":"imotai","id":8623385,"node_id":"MDQ6VXNlcjg2MjMzODU=","avatar_url":"https://avatars.githubusercontent.com/u/8623385?v=4","gravatar_id":"","url":"https://api.github.com/users/imotai","html_url":"https://github.com/imotai","followers_url":"https://api.github.com/users/imotai/followers","following_url":"https://api.github.com/users/imotai/following{/other_user}","gists_url":"https://api.github.com/users/imotai/gists{/gist_id}","starred_url":"https://api.github.com/users/imotai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotai/subscriptions","organizations_url":"https://api.github.com/users/imotai/orgs","repos_url":"https://api.github.com/users/imotai/repos","events_url":"https://api.github.com/users/imotai/events{/privacy}","received_events_url":"https://api.github.com/users/imotai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T09:23:05Z","updated_at":"2018-09-17T09:23:36Z","author_association":"NONE","body":"\r\n> 老版本是可以修改的，因为那时只支持一种并发控制方式。\r\n> 在支持通用的ConcurrencyLimiter后，由于其中的\"auto\"并发控制可以覆盖大部分动态修改的场景，且并不是所有的CL实现都支持动态修改，动态修改就去掉了。\r\n> 你可以测试下你的动态修改需求是不是直接用auto就行了。\r\n\r\n嗯 ，但是有些场景就需要upper limit，所以我觉得auto和手动修改limit两个功能是不冲突的，而是给大家更多的选择，就想没有一个通用的存储一样，所以我建议保留修改功能。\r\nbrpc本身也不是这样的么，兼容了很多协议，就是让大家用起来方便，而不是只支持brpc协议\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421941080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421941879","html_url":"https://github.com/apache/brpc/issues/500#issuecomment-421941879","issue_url":"https://api.github.com/repos/apache/brpc/issues/500","id":421941879,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTk0MTg3OQ==","user":{"login":"imotai","id":8623385,"node_id":"MDQ6VXNlcjg2MjMzODU=","avatar_url":"https://avatars.githubusercontent.com/u/8623385?v=4","gravatar_id":"","url":"https://api.github.com/users/imotai","html_url":"https://github.com/imotai","followers_url":"https://api.github.com/users/imotai/followers","following_url":"https://api.github.com/users/imotai/following{/other_user}","gists_url":"https://api.github.com/users/imotai/gists{/gist_id}","starred_url":"https://api.github.com/users/imotai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotai/subscriptions","organizations_url":"https://api.github.com/users/imotai/orgs","repos_url":"https://api.github.com/users/imotai/repos","events_url":"https://api.github.com/users/imotai/events{/privacy}","received_events_url":"https://api.github.com/users/imotai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T09:26:01Z","updated_at":"2018-09-17T09:26:13Z","author_association":"NONE","body":"功能减少也出现了新旧版本兼容问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421941879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421944769","html_url":"https://github.com/apache/brpc/pull/497#issuecomment-421944769","issue_url":"https://api.github.com/repos/apache/brpc/issues/497","id":421944769,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTk0NDc2OQ==","user":{"login":"PeterRK","id":4464013,"node_id":"MDQ6VXNlcjQ0NjQwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/4464013?v=4","gravatar_id":"","url":"https://api.github.com/users/PeterRK","html_url":"https://github.com/PeterRK","followers_url":"https://api.github.com/users/PeterRK/followers","following_url":"https://api.github.com/users/PeterRK/following{/other_user}","gists_url":"https://api.github.com/users/PeterRK/gists{/gist_id}","starred_url":"https://api.github.com/users/PeterRK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PeterRK/subscriptions","organizations_url":"https://api.github.com/users/PeterRK/orgs","repos_url":"https://api.github.com/users/PeterRK/repos","events_url":"https://api.github.com/users/PeterRK/events{/privacy}","received_events_url":"https://api.github.com/users/PeterRK/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T09:36:13Z","updated_at":"2018-09-17T09:36:21Z","author_association":"NONE","body":"> 这个PR和 #494 有什么关联么？\r\n\r\n就是这个问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/421944769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422020393","html_url":"https://github.com/apache/brpc/issues/500#issuecomment-422020393","issue_url":"https://api.github.com/repos/apache/brpc/issues/500","id":422020393,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMjAyMDM5Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T13:40:09Z","updated_at":"2018-09-17T13:40:09Z","author_association":"CONTRIBUTOR","body":"能更细地描述一下这个需要动态修改的场景和需求么","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422020393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422055097","html_url":"https://github.com/apache/brpc/pull/497#issuecomment-422055097","issue_url":"https://api.github.com/repos/apache/brpc/issues/497","id":422055097,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMjA1NTA5Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-17T15:10:19Z","updated_at":"2018-09-17T15:10:19Z","author_association":"CONTRIBUTOR","body":"这个pr中的方法在non-intel cpu上可能退变为monotonic_time，但目前大部分cpu仍然是intel的，所以我觉得可以接受。另外最开始用tsc的主要原因是老版本glibc/内核的monotonic-time都比较慢（记得是几百纳秒），而新版本glibc/内核的应该是比较快了，印象中是30多纳秒，相比tsc的10纳秒对于大部分场景应该影响不大，即使退化我觉得应该也ok。\r\n\r\n这里需要确定的是pr中的cpuid等方法是否确实对（最近5-10年的）intel cpu都有效，且可以在gcc 4.8+上都编译通过。\r\n\r\n如果tsc本身还要努力一下的话，在没有通用获取cpu频率的前提下，我能想到的另一种方案，是在有constant_tsc/nonstop_tsc flag的前提下，通过在开始的一小段时间内计算流逝的tsc和monotonic_time比例来直接计算频率，并在之后把这个频率作为基准。无频率时用monotonic_time，有频率时tsc，切换平滑。只是这个方法的细节处理要更加麻烦一些，比如启动时要用到pthread_once，切换过程的原子性之类的问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422055097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422241732","html_url":"https://github.com/apache/brpc/issues/500#issuecomment-422241732","issue_url":"https://api.github.com/repos/apache/brpc/issues/500","id":422241732,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMjI0MTczMg==","user":{"login":"imotai","id":8623385,"node_id":"MDQ6VXNlcjg2MjMzODU=","avatar_url":"https://avatars.githubusercontent.com/u/8623385?v=4","gravatar_id":"","url":"https://api.github.com/users/imotai","html_url":"https://github.com/imotai","followers_url":"https://api.github.com/users/imotai/followers","following_url":"https://api.github.com/users/imotai/following{/other_user}","gists_url":"https://api.github.com/users/imotai/gists{/gist_id}","starred_url":"https://api.github.com/users/imotai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotai/subscriptions","organizations_url":"https://api.github.com/users/imotai/orgs","repos_url":"https://api.github.com/users/imotai/repos","events_url":"https://api.github.com/users/imotai/events{/privacy}","received_events_url":"https://api.github.com/users/imotai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-18T03:24:21Z","updated_at":"2018-09-18T03:24:21Z","author_association":"NONE","body":"> 能更细地描述一下这个需要动态修改的场景和需求么\r\n\r\n第一个场景是兜底\r\n1. brpc方法并发控制存在bug, 如果出问题，还能设置为0，去掉限制\r\n2. 并发上限设置在系统投产前配置可能并不合理，投产后需要能够调整并发配置以满足真实的场景","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422241732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422298504","html_url":"https://github.com/apache/brpc/issues/434#issuecomment-422298504","issue_url":"https://api.github.com/repos/apache/brpc/issues/434","id":422298504,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMjI5ODUwNA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-18T08:12:41Z","updated_at":"2018-09-18T08:12:41Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422298504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422336377","html_url":"https://github.com/apache/brpc/pull/501#issuecomment-422336377","issue_url":"https://api.github.com/repos/apache/brpc/issues/501","id":422336377,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMjMzNjM3Nw==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-18T10:13:10Z","updated_at":"2018-09-18T10:14:39Z","author_association":"CONTRIBUTOR","body":"要支持codel cl 需要修改协议里的OnRequested接口，目前只修改了http 和baidu_std。\r\n此外由于这个算法并没有一个实际的max_concurrency，监控页面的max_concurrency会一直显示为0","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422336377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422637461","html_url":"https://github.com/apache/brpc/issues/481#issuecomment-422637461","issue_url":"https://api.github.com/repos/apache/brpc/issues/481","id":422637461,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMjYzNzQ2MQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-19T03:25:01Z","updated_at":"2018-09-19T03:25:01Z","author_association":"NONE","body":"@jamesge  大神 什么时候可以merge #471 哈","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422637461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422637678","html_url":"https://github.com/apache/brpc/pull/471#issuecomment-422637678","issue_url":"https://api.github.com/repos/apache/brpc/issues/471","id":422637678,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMjYzNzY3OA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-19T03:26:00Z","updated_at":"2018-09-19T03:26:00Z","author_association":"NONE","body":"什么时候 能 merge呢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/422637678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423111463","html_url":"https://github.com/apache/brpc/issues/498#issuecomment-423111463","issue_url":"https://api.github.com/repos/apache/brpc/issues/498","id":423111463,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzExMTQ2Mw==","user":{"login":"wenhg","id":5861325,"node_id":"MDQ6VXNlcjU4NjEzMjU=","avatar_url":"https://avatars.githubusercontent.com/u/5861325?v=4","gravatar_id":"","url":"https://api.github.com/users/wenhg","html_url":"https://github.com/wenhg","followers_url":"https://api.github.com/users/wenhg/followers","following_url":"https://api.github.com/users/wenhg/following{/other_user}","gists_url":"https://api.github.com/users/wenhg/gists{/gist_id}","starred_url":"https://api.github.com/users/wenhg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenhg/subscriptions","organizations_url":"https://api.github.com/users/wenhg/orgs","repos_url":"https://api.github.com/users/wenhg/repos","events_url":"https://api.github.com/users/wenhg/events{/privacy}","received_events_url":"https://api.github.com/users/wenhg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-20T09:30:02Z","updated_at":"2018-09-20T09:30:02Z","author_association":"NONE","body":"@jamesge 试了下最新的 master head, 这个问题已经解决。\r\n\r\n我们之前用的brpc的版本可能比较旧了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423111463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423455929","html_url":"https://github.com/apache/brpc/pull/458#issuecomment-423455929","issue_url":"https://api.github.com/repos/apache/brpc/issues/458","id":423455929,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzQ1NTkyOQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-21T08:27:16Z","updated_at":"2018-09-21T08:27:16Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423455929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423472360","html_url":"https://github.com/apache/brpc/issues/453#issuecomment-423472360","issue_url":"https://api.github.com/repos/apache/brpc/issues/453","id":423472360,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzQ3MjM2MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-21T09:27:18Z","updated_at":"2018-09-21T09:27:18Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423472360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423485979","html_url":"https://github.com/apache/brpc/issues/461#issuecomment-423485979","issue_url":"https://api.github.com/repos/apache/brpc/issues/461","id":423485979,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzQ4NTk3OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-21T10:20:31Z","updated_at":"2018-09-21T10:20:31Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423485979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423505261","html_url":"https://github.com/apache/brpc/issues/505#issuecomment-423505261","issue_url":"https://api.github.com/repos/apache/brpc/issues/505","id":423505261,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzUwNTI2MQ==","user":{"login":"weimzh","id":1220443,"node_id":"MDQ6VXNlcjEyMjA0NDM=","avatar_url":"https://avatars.githubusercontent.com/u/1220443?v=4","gravatar_id":"","url":"https://api.github.com/users/weimzh","html_url":"https://github.com/weimzh","followers_url":"https://api.github.com/users/weimzh/followers","following_url":"https://api.github.com/users/weimzh/following{/other_user}","gists_url":"https://api.github.com/users/weimzh/gists{/gist_id}","starred_url":"https://api.github.com/users/weimzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weimzh/subscriptions","organizations_url":"https://api.github.com/users/weimzh/orgs","repos_url":"https://api.github.com/users/weimzh/repos","events_url":"https://api.github.com/users/weimzh/events{/privacy}","received_events_url":"https://api.github.com/users/weimzh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-21T11:50:23Z","updated_at":"2018-09-21T12:13:51Z","author_association":"CONTRIBUTOR","body":"可以考虑引入opentracing\r\n\r\n但感觉有些问题，因为opentracing C++ api目前不可直接extract出来的SpanContext直接创建相同的Span，仅能extract后创建子span (ChildOf和FollowsFrom)\r\n目前brpc是有在客户端和服务端trace同一个span的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423505261/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423515601","html_url":"https://github.com/apache/brpc/issues/505#issuecomment-423515601","issue_url":"https://api.github.com/repos/apache/brpc/issues/505","id":423515601,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzUxNTYwMQ==","user":{"login":"ipconfigme","id":2500750,"node_id":"MDQ6VXNlcjI1MDA3NTA=","avatar_url":"https://avatars.githubusercontent.com/u/2500750?v=4","gravatar_id":"","url":"https://api.github.com/users/ipconfigme","html_url":"https://github.com/ipconfigme","followers_url":"https://api.github.com/users/ipconfigme/followers","following_url":"https://api.github.com/users/ipconfigme/following{/other_user}","gists_url":"https://api.github.com/users/ipconfigme/gists{/gist_id}","starred_url":"https://api.github.com/users/ipconfigme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ipconfigme/subscriptions","organizations_url":"https://api.github.com/users/ipconfigme/orgs","repos_url":"https://api.github.com/users/ipconfigme/repos","events_url":"https://api.github.com/users/ipconfigme/events{/privacy}","received_events_url":"https://api.github.com/users/ipconfigme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-21T12:33:09Z","updated_at":"2018-09-21T12:33:09Z","author_association":"CONTRIBUTOR","body":"为了向OpenTracing靠拢，还需要增加一些东西：\r\n1. RpcMeta中增加trace_flags，比如强制下游进行sample\r\n2. Span增加用户自定义的Tag支持","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423515601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423519187","html_url":"https://github.com/apache/brpc/issues/505#issuecomment-423519187","issue_url":"https://api.github.com/repos/apache/brpc/issues/505","id":423519187,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzUxOTE4Nw==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-21T12:47:29Z","updated_at":"2018-09-21T12:47:29Z","author_association":"MEMBER","body":"最好能去除leveldb的强制依赖.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423519187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423712848","html_url":"https://github.com/apache/brpc/issues/462#issuecomment-423712848","issue_url":"https://api.github.com/repos/apache/brpc/issues/462","id":423712848,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzcxMjg0OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-22T03:20:32Z","updated_at":"2018-09-22T03:20:32Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423712848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423734492","html_url":"https://github.com/apache/brpc/issues/463#issuecomment-423734492","issue_url":"https://api.github.com/repos/apache/brpc/issues/463","id":423734492,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzczNDQ5Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2018-09-22T10:36:55Z","updated_at":"2018-09-22T10:36:55Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it's inactive for a long time. It will be closed if no further activity occurs, reopen if you have further ideas. Thank you for your contributions! 由于很久没有活跃，此Issue已被自动标记为过期。之后几天仍无变化的话将会被关闭，若你有新想法则可重新打开。感谢你的贡献!\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423734492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423803933","html_url":"https://github.com/apache/brpc/issues/500#issuecomment-423803933","issue_url":"https://api.github.com/repos/apache/brpc/issues/500","id":423803933,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzgwMzkzMw==","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-23T09:40:35Z","updated_at":"2018-09-23T09:42:54Z","author_association":"CONTRIBUTOR","body":"@imotai 多谢反馈，当时之所以去掉这个功能一方面是认为auto可以替代手动修改最大并发的能力，一方面是考虑到加入auto限流之后，再支持server启动之后的手动修改可能会和auto相冲突并引入线程安全问题。我们后续会调整接口，让server启动之后依旧能够动态修改最大并发。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423803933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423868872","html_url":"https://github.com/apache/brpc/issues/500#issuecomment-423868872","issue_url":"https://api.github.com/repos/apache/brpc/issues/500","id":423868872,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzg2ODg3Mg==","user":{"login":"imotai","id":8623385,"node_id":"MDQ6VXNlcjg2MjMzODU=","avatar_url":"https://avatars.githubusercontent.com/u/8623385?v=4","gravatar_id":"","url":"https://api.github.com/users/imotai","html_url":"https://github.com/imotai","followers_url":"https://api.github.com/users/imotai/followers","following_url":"https://api.github.com/users/imotai/following{/other_user}","gists_url":"https://api.github.com/users/imotai/gists{/gist_id}","starred_url":"https://api.github.com/users/imotai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotai/subscriptions","organizations_url":"https://api.github.com/users/imotai/orgs","repos_url":"https://api.github.com/users/imotai/repos","events_url":"https://api.github.com/users/imotai/events{/privacy}","received_events_url":"https://api.github.com/users/imotai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-24T03:05:16Z","updated_at":"2018-09-24T03:05:16Z","author_association":"NONE","body":"> @imotai 多谢反馈，当时之所以去掉这个功能一方面是认为auto可以替代手动修改最大并发的能力，一方面是考虑到加入auto限流之后，再支持server启动之后的手动修改可能会和auto相冲突并引入线程安全问题。我们后续会调整接口，让server启动之后依旧能够动态修改最大并发。\r\n\r\n多谢@TousakaRin 能否关注一下https://github.com/brpc/brpc/issues/507","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/423868872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424226080","html_url":"https://github.com/apache/brpc/issues/507#issuecomment-424226080","issue_url":"https://api.github.com/repos/apache/brpc/issues/507","id":424226080,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDIyNjA4MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-25T06:46:06Z","updated_at":"2018-09-25T06:46:06Z","author_association":"CONTRIBUTOR","body":"1. 之后会建立dev分支，定期合入master。brpc是为单根开发(mono-repo)设计的，我们希望用户依赖master版本，而不是某个tag。新版本虽然可能引入bug，但同时也会修复老问题，整体上利大于弊。\r\n2. brpc本身有较多的测试，质量有基本的保障，另一方面brpc在百度内是主干发布，更新后会在\r\n大量产品线中得到实际检验。目前最新数据是有200万个服务实例，所以很微小的bug也是会触发的。\r\n\r\n每次提交我们会避免恶性的bug，但是由于rpc本身的复杂性以及和系统的耦合性，一些依赖被打破也是难以避免的，在公司内这可以通过单根开发和持续集成来及时发现，但开源社区只能通过用户反馈了。所以用户及时提issue对修正问题是很重要的。\r\n\r\n具体到 #500，去掉动态修改的功能是by design，一方面是简化实现，另一方面是我们认为auto能够代替用户的设置。所以我还是建议你们先测试一下auto，然后再决定是否要自行设置。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424226080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424914447","html_url":"https://github.com/apache/brpc/issues/481#issuecomment-424914447","issue_url":"https://api.github.com/repos/apache/brpc/issues/481","id":424914447,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDkxNDQ0Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-27T00:28:51Z","updated_at":"2018-09-27T00:28:51Z","author_association":"CONTRIBUTOR","body":"pr更新为 #510 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424914447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424915016","html_url":"https://github.com/apache/brpc/issues/505#issuecomment-424915016","issue_url":"https://api.github.com/repos/apache/brpc/issues/505","id":424915016,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDkxNTAxNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-27T00:31:08Z","updated_at":"2018-09-27T00:31:08Z","author_association":"CONTRIBUTOR","body":"相关issues：#470","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424915016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424916300","html_url":"https://github.com/apache/brpc/issues/499#issuecomment-424916300","issue_url":"https://api.github.com/repos/apache/brpc/issues/499","id":424916300,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDkxNjMwMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-27T00:37:03Z","updated_at":"2018-09-27T00:37:03Z","author_association":"CONTRIBUTOR","body":"用Master head有问题么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424916300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424916940","html_url":"https://github.com/apache/brpc/issues/473#issuecomment-424916940","issue_url":"https://api.github.com/repos/apache/brpc/issues/473","id":424916940,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDkxNjk0MA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-09-27T00:41:10Z","updated_at":"2018-09-27T00:41:10Z","author_association":"CONTRIBUTOR","body":"锁内sleep是死锁的常见来源，能规避的话还是尽量规避一下。对于push_rq的改进issue在 #204 ，但这个工作涉及面比较广，近期很难有时间做。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/424916940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]