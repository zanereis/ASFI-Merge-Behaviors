[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732911450","html_url":"https://github.com/apache/iceberg/issues/4914#issuecomment-1732911450","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4914","id":1732911450,"node_id":"IC_kwDOCW7NX85nSiFa","user":{"login":"NhatDuy11","id":90893136,"node_id":"MDQ6VXNlcjkwODkzMTM2","avatar_url":"https://avatars.githubusercontent.com/u/90893136?v=4","gravatar_id":"","url":"https://api.github.com/users/NhatDuy11","html_url":"https://github.com/NhatDuy11","followers_url":"https://api.github.com/users/NhatDuy11/followers","following_url":"https://api.github.com/users/NhatDuy11/following{/other_user}","gists_url":"https://api.github.com/users/NhatDuy11/gists{/gist_id}","starred_url":"https://api.github.com/users/NhatDuy11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NhatDuy11/subscriptions","organizations_url":"https://api.github.com/users/NhatDuy11/orgs","repos_url":"https://api.github.com/users/NhatDuy11/repos","events_url":"https://api.github.com/users/NhatDuy11/events{/privacy}","received_events_url":"https://api.github.com/users/NhatDuy11/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T05:01:08Z","updated_at":"2023-09-26T08:20:04Z","author_association":"NONE","body":"hello @RussellSpitzer  @ajantha-bhat , Let me ask about the decompression problem. I use this configuration write.avro.compression-codec \"gzip\", they only compress the internal data and the default is parquet, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732911450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732926394","html_url":"https://github.com/apache/iceberg/issues/8614#issuecomment-1732926394","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8614","id":1732926394,"node_id":"IC_kwDOCW7NX85nSlu6","user":{"login":"holdenk","id":59893,"node_id":"MDQ6VXNlcjU5ODkz","avatar_url":"https://avatars.githubusercontent.com/u/59893?v=4","gravatar_id":"","url":"https://api.github.com/users/holdenk","html_url":"https://github.com/holdenk","followers_url":"https://api.github.com/users/holdenk/followers","following_url":"https://api.github.com/users/holdenk/following{/other_user}","gists_url":"https://api.github.com/users/holdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/holdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holdenk/subscriptions","organizations_url":"https://api.github.com/users/holdenk/orgs","repos_url":"https://api.github.com/users/holdenk/repos","events_url":"https://api.github.com/users/holdenk/events{/privacy}","received_events_url":"https://api.github.com/users/holdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T05:14:33Z","updated_at":"2023-09-25T05:14:33Z","author_association":"CONTRIBUTOR","body":"Oh yeah that's a good point @manuzhang . I screwed up the repro (this is taken from a larger error and my attempt to whittle it down into something small). I'll close it for now and circle back if I can make a reasonable repro outside of the weirdness.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732926394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732943445","html_url":"https://github.com/apache/iceberg/issues/8614#issuecomment-1732943445","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8614","id":1732943445,"node_id":"IC_kwDOCW7NX85nSp5V","user":{"login":"holdenk","id":59893,"node_id":"MDQ6VXNlcjU5ODkz","avatar_url":"https://avatars.githubusercontent.com/u/59893?v=4","gravatar_id":"","url":"https://api.github.com/users/holdenk","html_url":"https://github.com/holdenk","followers_url":"https://api.github.com/users/holdenk/followers","following_url":"https://api.github.com/users/holdenk/following{/other_user}","gists_url":"https://api.github.com/users/holdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/holdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holdenk/subscriptions","organizations_url":"https://api.github.com/users/holdenk/orgs","repos_url":"https://api.github.com/users/holdenk/repos","events_url":"https://api.github.com/users/holdenk/events{/privacy}","received_events_url":"https://api.github.com/users/holdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T05:28:58Z","updated_at":"2023-09-25T05:28:58Z","author_association":"CONTRIBUTOR","body":"Ah here we go for the repro to work it needs data:\r\n\r\n```\r\nDROP TABLE IF EXISTS local.udevelopers_sorted;\r\nCREATE TABLE IF NOT EXISTS local.udevelopers_sorted (\r\n       username string,\r\n       firstname string,\r\n       lastname string)\r\nUSING ICEBERG;\r\nINSERT INTO local.udevelopers_sorted VALUES(\"krisnova\", \"Kris\", \"Nova\");\r\nALTER TABLE local.udevelopers_sorted WRITE ORDERED BY lastname;\r\nALTER TABLE local.udevelopers_sorted RENAME COLUMN lastname TO deprecated_lastname;\r\nSELECT * FROM local.udevelopers_sorted;\r\nALTER TABLE local.udevelopers_sorted WRITE ORDERED BY username;\r\nALTER TABLE local.udevelopers_sorted DROP COLUMN deprecated_lastname;\r\nSELECT * FROM local.udevelopers_sorted;\r\n\r\n```\r\n\r\nGives me the error:\r\n\r\n```\r\norg.apache.iceberg.exceptions.ValidationException: Cannot find source column for sort field: identity(3) ASC NULLS FIRST\r\n\tat org.apache.iceberg.exceptions.ValidationException.check(ValidationException.java:49)\r\n\tat org.apache.iceberg.SortOrder.checkCompatibility(SortOrder.java:300)\r\n\tat org.apache.iceberg.SortOrder$Builder.build(SortOrder.java:264)\r\n\tat org.apache.iceberg.UnboundSortOrder.bind(UnboundSortOrder.java:54)\r\n\tat org.apache.iceberg.SortOrderParser.fromJson(SortOrderParser.java:116)\r\n\tat org.apache.iceberg.TableMetadataParser.fromJson(TableMetadataParser.java:429)\r\n\tat org.apache.iceberg.TableMetadataParser.fromJson(TableMetadataParser.java:309)\r\n\tat org.apache.iceberg.TableMetadataParser.read(TableMetadataParser.java:274)\r\n\tat org.apache.iceberg.TableMetadataParser.read(TableMetadataParser.java:267)\r\n\tat org.apache.iceberg.hadoop.HadoopTableOperations.updateVersionAndMetadata(HadoopTableOperations.java:98)\r\n\tat org.apache.iceberg.hadoop.HadoopTableOperations.refresh(HadoopTableOperations.java:121)\r\n\tat org.apache.iceberg.hadoop.HadoopTableOperations.current(HadoopTableOperations.java:84)\r\n\tat org.apache.iceberg.BaseTransaction.committedFiles(BaseTransaction.java:495)\r\n\tat org.apache.iceberg.BaseTransaction.commitSimpleTransaction(BaseTransaction.java:430)\r\n\tat org.apache.iceberg.BaseTransaction.commitTransaction(BaseTransaction.java:277)\r\n\tat org.apache.iceberg.spark.SparkCatalog.commitChanges(SparkCatalog.java:587)\r\n\tat org.apache.iceberg.spark.SparkCatalog.alterTable(SparkCatalog.java:303)\r\n\tat org.apache.spark.sql.execution.datasources.v2.AlterTableExec.run(AlterTableExec.scala:37)\r\n\tat org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result$lzycompute(V2CommandExec.scala:43)\r\n\tat org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result(V2CommandExec.scala:43)\r\n\tat org.apache.spark.sql.execution.datasources.v2.V2CommandExec.executeCollect(V2CommandExec.scala:49)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.$anonfun$applyOrElse$1(QueryExecution.scala:98)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:109)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:169)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:95)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:779)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:98)\r\n\tat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:94)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$1(TreeNode.scala:584)\r\n\tat org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:176)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:584)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.org$apache$spark$sql$catalyst$plans$logical$AnalysisHelper$$super$transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning(AnalysisHelper.scala:267)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning$(AnalysisHelper.scala:263)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:560)\r\n\tat org.apache.spark.sql.execution.QueryExecution.eagerlyExecuteCommands(QueryExecution.scala:94)\r\n\tat org.apache.spark.sql.execution.QueryExecution.commandExecuted$lzycompute(QueryExecution.scala:81)\r\n\tat org.apache.spark.sql.execution.QueryExecution.commandExecuted(QueryExecution.scala:79)\r\n\tat org.apache.spark.sql.Dataset.<init>(Dataset.scala:219)\r\n\tat org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:99)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:779)\r\n\tat org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:96)\r\n\tat org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:622)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:779)\r\n\tat org.apache.spark.sql.SparkSession.sql(SparkSession.scala:617)\r\n\tat org.apache.spark.sql.SQLContext.sql(SQLContext.scala:651)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLDriver.run(SparkSQLDriver.scala:67)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.processCmd(SparkSQLCLIDriver.scala:384)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.$anonfun$processLine$1(SparkSQLCLIDriver.scala:504)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.$anonfun$processLine$1$adapted(SparkSQLCLIDriver.scala:498)\r\n\tat scala.collection.Iterator.foreach(Iterator.scala:943)\r\n\tat scala.collection.Iterator.foreach$(Iterator.scala:943)\r\n\tat scala.collection.AbstractIterator.foreach(Iterator.scala:1431)\r\n\tat scala.collection.IterableLike.foreach(IterableLike.scala:74)\r\n\tat scala.collection.IterableLike.foreach$(IterableLike.scala:73)\r\n\tat scala.collection.AbstractIterable.foreach(Iterable.scala:56)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.processLine(SparkSQLCLIDriver.scala:498)\r\n\tat org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:336)\r\n\tat org.apache.hadoop.hive.cli.CliDriver.processReader(CliDriver.java:474)\r\n\tat org.apache.hadoop.hive.cli.CliDriver.processFile(CliDriver.java:490)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver$.main(SparkSQLCLIDriver.scala:212)\r\n\tat org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.main(SparkSQLCLIDriver.scala)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n\tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:984)\r\n\tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:191)\r\n\tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:214)\r\n\tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n\tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1072)\r\n\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1081)\r\n\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n```\r\n\r\nThis (thankfully) does not result in the corrupted schema in Iceberg 1.3 I saw with the full environment, but does result in failure.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732943445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732960734","html_url":"https://github.com/apache/iceberg/issues/8614#issuecomment-1732960734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8614","id":1732960734,"node_id":"IC_kwDOCW7NX85nSuHe","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T05:47:20Z","updated_at":"2023-09-25T05:47:20Z","author_association":"MEMBER","body":"@holdenk: Can you please confirm the table is v1? \r\n\r\nIt looks like the same issue we had with partition evolution. \r\nhttps://github.com/apache/iceberg/pull/7398/\r\n\r\nNow we are facing this in sort order evolution.  \r\nI can take a look at fixing this. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732960734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732995997","html_url":"https://github.com/apache/iceberg/issues/8614#issuecomment-1732995997","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8614","id":1732995997,"node_id":"IC_kwDOCW7NX85nS2ud","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T06:24:56Z","updated_at":"2023-09-25T06:24:56Z","author_association":"MEMBER","body":"Strange, I tried adding the below tetscase in `TestSetWriteDistributionAndOrdering` on latest master code. \r\nIt didn't reproduce :( \r\n\r\n```\r\n@Test\r\n  public void testDeletingOldSortOrderColumn() {\r\n    sql(\"CREATE TABLE IF NOT EXISTS %s (username string, firstname string, lastname string) USING ICEBERG TBLPROPERTIES('format-version' = '1')\", tableName);\r\n    sql(\"INSERT INTO %s VALUES('krisnova', 'Kris', 'Nova')\", tableName);\r\n    sql(\"ALTER TABLE %s WRITE ORDERED BY lastname\", tableName);\r\n    sql(\"ALTER TABLE %s RENAME COLUMN lastname TO deprecated_lastname\", tableName);\r\n    sql(\"SELECT * FROM %s\", tableName);\r\n    sql(\"ALTER TABLE %s WRITE ORDERED BY username\", tableName);\r\n    sql(\"ALTER TABLE %s DROP COLUMN deprecated_lastname\", tableName);\r\n    spark.sql(\"SELECT * FROM \" + tableName).show(200, false);\r\n  }\r\n  ```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1732995997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733029297","html_url":"https://github.com/apache/iceberg/issues/8601#issuecomment-1733029297","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8601","id":1733029297,"node_id":"IC_kwDOCW7NX85nS-2x","user":{"login":"Kontinuation","id":5501374,"node_id":"MDQ6VXNlcjU1MDEzNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5501374?v=4","gravatar_id":"","url":"https://api.github.com/users/Kontinuation","html_url":"https://github.com/Kontinuation","followers_url":"https://api.github.com/users/Kontinuation/followers","following_url":"https://api.github.com/users/Kontinuation/following{/other_user}","gists_url":"https://api.github.com/users/Kontinuation/gists{/gist_id}","starred_url":"https://api.github.com/users/Kontinuation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kontinuation/subscriptions","organizations_url":"https://api.github.com/users/Kontinuation/orgs","repos_url":"https://api.github.com/users/Kontinuation/repos","events_url":"https://api.github.com/users/Kontinuation/events{/privacy}","received_events_url":"https://api.github.com/users/Kontinuation/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T06:53:24Z","updated_at":"2023-09-25T06:53:24Z","author_association":"MEMBER","body":"The patch mentioned above should have fixed this issue. However, this is quite hackish and coupled with the internal implementation of AWS SDK v2, which makes it hard to write unit tests for this patch. Is there any better approach for resolving this issue (except for switching to url-connection-client)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733029297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733249306","html_url":"https://github.com/apache/iceberg/issues/8601#issuecomment-1733249306","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8601","id":1733249306,"node_id":"IC_kwDOCW7NX85nT0ka","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T09:17:55Z","updated_at":"2023-09-25T09:17:55Z","author_association":"CONTRIBUTOR","body":"@Kontinuation thanks for the detailed explanation. Can you confirm that this fixes the issue? I think changing to using `DefaultCredentialsProvider.builder().build()` makes sense. @amogh-jahagirdar thoughts on the issue described here?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733249306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733296075","html_url":"https://github.com/apache/iceberg/pull/6799#issuecomment-1733296075","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6799","id":1733296075,"node_id":"IC_kwDOCW7NX85nT__L","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T09:29:23Z","updated_at":"2023-09-25T09:29:23Z","author_association":"CONTRIBUTOR","body":"> @nastra if you don't like #8617 can you please merge this instead? I have addressed all your feedback.\r\n\r\nI think it would be good to get some additional review from one other committer. /cc @Fokko @amogh-jahagirdar @aokolnychyi could any of you review this one as well please?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733296075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733323866","html_url":"https://github.com/apache/iceberg/issues/8601#issuecomment-1733323866","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8601","id":1733323866,"node_id":"IC_kwDOCW7NX85nUGxa","user":{"login":"igorcalabria","id":2111602,"node_id":"MDQ6VXNlcjIxMTE2MDI=","avatar_url":"https://avatars.githubusercontent.com/u/2111602?v=4","gravatar_id":"","url":"https://api.github.com/users/igorcalabria","html_url":"https://github.com/igorcalabria","followers_url":"https://api.github.com/users/igorcalabria/followers","following_url":"https://api.github.com/users/igorcalabria/following{/other_user}","gists_url":"https://api.github.com/users/igorcalabria/gists{/gist_id}","starred_url":"https://api.github.com/users/igorcalabria/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/igorcalabria/subscriptions","organizations_url":"https://api.github.com/users/igorcalabria/orgs","repos_url":"https://api.github.com/users/igorcalabria/repos","events_url":"https://api.github.com/users/igorcalabria/events{/privacy}","received_events_url":"https://api.github.com/users/igorcalabria/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T09:44:49Z","updated_at":"2023-09-25T09:54:37Z","author_association":"NONE","body":"Nice catch. If I understood things correctly, the core issue is that AWS' SDK is tying the lifecycle of its clients to the credentials providers. If iceberg want's clients to be closeable (which is perfectly reasonable ), I think it will need to create a new provider for each client. The main drawback is that it will have to refresh credentials for each new client...\r\n\r\nIf AWS supports it, a different http client instance could be passed to the credential provider so it wouldn't be closed with s3's \r\n\r\nEDIT \r\n\r\nWhen a custom client is explicitly provided to the builder\r\n\r\n```java\r\nSdkHttpClient apacheHttpClient = ApacheHttpClient.create();\r\n\r\n// Singletons: Use the s3Client and dynamoDbClient for all requests.\r\nS3Client s3Client = \r\n    S3Client.builder()\r\n            .httpClient(apacheHttpClient).build();\r\n```\r\n\r\nIt's not closed automatically\r\n\r\n> When an ApacheHttpClient instance is shared, you must close it when it is ready to be disposed. The SDK will not close the instance when the service client is closed.\r\n\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html\r\n\r\nBut this makes things a bit more complex","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733323866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733387467","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1733387467","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1733387467,"node_id":"IC_kwDOCW7NX85nUWTL","user":{"login":"lengkristy","id":37865070,"node_id":"MDQ6VXNlcjM3ODY1MDcw","avatar_url":"https://avatars.githubusercontent.com/u/37865070?v=4","gravatar_id":"","url":"https://api.github.com/users/lengkristy","html_url":"https://github.com/lengkristy","followers_url":"https://api.github.com/users/lengkristy/followers","following_url":"https://api.github.com/users/lengkristy/following{/other_user}","gists_url":"https://api.github.com/users/lengkristy/gists{/gist_id}","starred_url":"https://api.github.com/users/lengkristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lengkristy/subscriptions","organizations_url":"https://api.github.com/users/lengkristy/orgs","repos_url":"https://api.github.com/users/lengkristy/repos","events_url":"https://api.github.com/users/lengkristy/events{/privacy}","received_events_url":"https://api.github.com/users/lengkristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T10:26:08Z","updated_at":"2023-09-25T10:26:08Z","author_association":"NONE","body":"Caused by: software.amazon.awssdk.services.glue.model.ConcurrentModificationException: Update table failed due to concurrent modifications. (Service: Glue, Status Code: 400, Request ID: 710a23c5-718f-4b56-989b-55ad9afd9c52)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733387467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733389582","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1733389582","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1733389582,"node_id":"IC_kwDOCW7NX85nUW0O","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T10:27:40Z","updated_at":"2023-09-25T10:27:40Z","author_association":"CONTRIBUTOR","body":"@lengkristy I think it would be helpful if you could attach the full stack trace, the Iceberg version you're using and which actions you're running","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733389582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733406188","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1733406188","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1733406188,"node_id":"IC_kwDOCW7NX85nUa3s","user":{"login":"lengkristy","id":37865070,"node_id":"MDQ6VXNlcjM3ODY1MDcw","avatar_url":"https://avatars.githubusercontent.com/u/37865070?v=4","gravatar_id":"","url":"https://api.github.com/users/lengkristy","html_url":"https://github.com/lengkristy","followers_url":"https://api.github.com/users/lengkristy/followers","following_url":"https://api.github.com/users/lengkristy/following{/other_user}","gists_url":"https://api.github.com/users/lengkristy/gists{/gist_id}","starred_url":"https://api.github.com/users/lengkristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lengkristy/subscriptions","organizations_url":"https://api.github.com/users/lengkristy/orgs","repos_url":"https://api.github.com/users/lengkristy/repos","events_url":"https://api.github.com/users/lengkristy/events{/privacy}","received_events_url":"https://api.github.com/users/lengkristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T10:37:38Z","updated_at":"2023-09-26T01:48:16Z","author_association":"NONE","body":"2023-09-25T17:44:21.178+08:00\torg.apache.iceberg.exceptions.CommitFailedException: Cannot commit glue_catalog.gu_iot_dev_eu_one_platform_result_9b02b87.fact_ota_data because Glue detected concurrent update\r\n\r\n2023-09-25T17:44:21.178+08:00\tat org.apache.iceberg.aws.glue.GlueTableOperations.handleAWSExceptions(GlueTableOperations.java:355)\r\n\r\n2023-09-25T17:44:21.178+08:00\r\n\r\nCopy\r\nat org.apache.iceberg.aws.glue.GlueTableOperations.doCommit(GlueTableOperations.java:180)\r\nat org.apache.iceberg.aws.glue.GlueTableOperations.doCommit(GlueTableOperations.java:180)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat org.apache.iceberg.BaseMetastoreTableOperations.commit(BaseMetastoreTableOperations.java:135)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat org.apache.iceberg.SnapshotProducer.lambda$commit$2(SnapshotProducer.java:390)\r\n\r\n2023-09-25T17:44:21.178+08:00\r\n\r\nCopy\r\nat org.apache.iceberg.util.Tasks$Builder.runTaskWithRetry(Tasks.java:413)\r\nat org.apache.iceberg.util.Tasks$Builder.runTaskWithRetry(Tasks.java:413)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat org.apache.iceberg.util.Tasks$Builder.runSingleThreaded(Tasks.java:219)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:203)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:196)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat org.apache.iceberg.SnapshotProducer.commit(SnapshotProducer.java:364)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat sun.reflect.GeneratedMethodAccessor18.invoke(Unknown Source)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat lambdainternal.EventHandlerLoader$PojoMethodRequestHandler.handleRequest(EventHandlerLoader.java:263)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat lambdainternal.EventHandlerLoader$PojoHandlerAsStreamHandler.handleRequest(EventHandlerLoader.java:180)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat lambdainternal.EventHandlerLoader$2.call(EventHandlerLoader.java:903)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat lambdainternal.AWSLambda.startRuntime(AWSLambda.java:355)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat lambdainternal.AWSLambda.<clinit>(AWSLambda.java:72)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat java.lang.Class.forName0(Native Method)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat java.lang.Class.forName(Class.java:348)\r\n\r\n2023-09-25T17:44:21.178+08:00\tat lambdainternal.LambdaRTEntry.main(LambdaRTEntry.java:150)\r\n\r\n2023-09-25T17:44:21.179+08:00\r\n\r\nCopy\r\nCaused by: software.amazon.awssdk.services.glue.model.ConcurrentModificationException: Update table failed due to concurrent modifications. (Service: Glue, Status Code: 400, Request ID: 2de439bb-065b-4fb0-84f7-0079e1073f3b)\r\nCaused by: software.amazon.awssdk.services.glue.model.ConcurrentModificationException: Update table failed due to concurrent modifications. (Service: Glue, Status Code: 400, Request ID: 2de439bb-065b-4fb0-84f7-0079e1073f3b)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:72)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:52)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:37)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:50)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:32)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:196)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat software.amazon.awssdk.services.glue.DefaultGlueClient.updateTable(DefaultGlueClient.java:13214)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat org.apache.iceberg.aws.glue.GlueTableOperations.persistGlueTable(GlueTableOperations.java:331)\r\n\r\n2023-09-25T17:44:21.179+08:00\tat org.apache.iceberg.aws.glue.GlueTableOperations.doCommit(GlueTableOperations.java:160)\r\n\r\n@nastra Hi this is full stack, thank you","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733406188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733415633","html_url":"https://github.com/apache/iceberg/pull/8192#issuecomment-1733415633","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8192","id":1733415633,"node_id":"IC_kwDOCW7NX85nUdLR","user":{"login":"clettieri","id":7659764,"node_id":"MDQ6VXNlcjc2NTk3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7659764?v=4","gravatar_id":"","url":"https://api.github.com/users/clettieri","html_url":"https://github.com/clettieri","followers_url":"https://api.github.com/users/clettieri/followers","following_url":"https://api.github.com/users/clettieri/following{/other_user}","gists_url":"https://api.github.com/users/clettieri/gists{/gist_id}","starred_url":"https://api.github.com/users/clettieri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clettieri/subscriptions","organizations_url":"https://api.github.com/users/clettieri/orgs","repos_url":"https://api.github.com/users/clettieri/repos","events_url":"https://api.github.com/users/clettieri/events{/privacy}","received_events_url":"https://api.github.com/users/clettieri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T10:44:22Z","updated_at":"2023-09-25T10:44:22Z","author_association":"CONTRIBUTOR","body":"> I fixed a typo and opened [clettieri#1](https://github.com/clettieri/iceberg/pull/1) with the spotless changes.\r\n\r\nThank you for saving me the time this morning :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733415633/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733415952","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1733415952","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1733415952,"node_id":"IC_kwDOCW7NX85nUdQQ","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T10:44:37Z","updated_at":"2023-09-25T10:44:37Z","author_association":"CONTRIBUTOR","body":"@lengkristy thanks. Can you please also provide the other information I mentioned?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733415952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733659268","html_url":"https://github.com/apache/iceberg/pull/8192#issuecomment-1733659268","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8192","id":1733659268,"node_id":"IC_kwDOCW7NX85nVYqE","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T12:56:48Z","updated_at":"2023-09-25T12:56:48Z","author_association":"CONTRIBUTOR","body":"thanks @clettieri ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733659268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733732330","html_url":"https://github.com/apache/iceberg/pull/8192#issuecomment-1733732330","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8192","id":1733732330,"node_id":"IC_kwDOCW7NX85nVqfq","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T13:38:29Z","updated_at":"2023-09-25T14:20:39Z","author_association":"MEMBER","body":"Thanks for fixing. I couldn't take a look at it again before. \r\nLGTM. \r\n\r\nBut we missed to update the documentation in https://github.com/apache/iceberg/blob/master/docs/spark-ddl.md.\r\n\r\n@nk1506 would you like to work on it? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733732330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733742739","html_url":"https://github.com/apache/iceberg/issues/3028#issuecomment-1733742739","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3028","id":1733742739,"node_id":"IC_kwDOCW7NX85nVtCT","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T13:44:21Z","updated_at":"2023-09-25T13:44:21Z","author_association":"CONTRIBUTOR","body":"I reslove this problem to revert IDEA version from 2023.2 to 2022.3.\r\nI think this is a bug for IDEA 2023 @ahmedriza @theoxu31 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733742739/reactions","total_count":4,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":1,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733794724","html_url":"https://github.com/apache/iceberg/pull/8625#issuecomment-1733794724","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8625","id":1733794724,"node_id":"IC_kwDOCW7NX85nV5uk","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T14:12:43Z","updated_at":"2023-09-25T14:15:19Z","author_association":"CONTRIBUTOR","body":"Also took a stab at it: https://github.com/apache/avro/pull/2521\r\n\r\nStill a bit slower due to buffering and copying:\r\n```python\r\n>>> without_buffer = [\r\n...        27.026061125,\r\n...        26.702181417,\r\n...        26.625919333,\r\n...        26.615276875,\r\n...        26.583737958\r\n...]\r\n>>> sum(without_buffer) / 5\r\n26.7106353416\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733794724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733840395","html_url":"https://github.com/apache/iceberg/issues/8377#issuecomment-1733840395","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8377","id":1733840395,"node_id":"IC_kwDOCW7NX85nWE4L","user":{"login":"sebastien-namy-cbp","id":40230405,"node_id":"MDQ6VXNlcjQwMjMwNDA1","avatar_url":"https://avatars.githubusercontent.com/u/40230405?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastien-namy-cbp","html_url":"https://github.com/sebastien-namy-cbp","followers_url":"https://api.github.com/users/sebastien-namy-cbp/followers","following_url":"https://api.github.com/users/sebastien-namy-cbp/following{/other_user}","gists_url":"https://api.github.com/users/sebastien-namy-cbp/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastien-namy-cbp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastien-namy-cbp/subscriptions","organizations_url":"https://api.github.com/users/sebastien-namy-cbp/orgs","repos_url":"https://api.github.com/users/sebastien-namy-cbp/repos","events_url":"https://api.github.com/users/sebastien-namy-cbp/events{/privacy}","received_events_url":"https://api.github.com/users/sebastien-namy-cbp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T14:34:48Z","updated_at":"2023-09-25T15:28:13Z","author_association":"NONE","body":"Hi @pietro-agilelab \r\nDid you find a way to specify the path of the table in iceberg format when it was created? \r\n\r\nI have the same need for s3 path","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1733840395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734022723","html_url":"https://github.com/apache/iceberg/pull/7360#issuecomment-1734022723","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7360","id":1734022723,"node_id":"IC_kwDOCW7NX85nWxZD","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T15:50:36Z","updated_at":"2023-09-25T15:50:36Z","author_association":"CONTRIBUTOR","body":"thanks @yegangy0718 for the contribution!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734022723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734038148","html_url":"https://github.com/apache/iceberg/pull/8553#issuecomment-1734038148","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8553","id":1734038148,"node_id":"IC_kwDOCW7NX85nW1KE","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T15:59:09Z","updated_at":"2023-09-25T15:59:09Z","author_association":"CONTRIBUTOR","body":"Here is the design doc that discussed the proposal from this PR compared to a previously approach: https://docs.google.com/document/d/1JCF77SkeB8Z4h5pXRCRcMh4aiAVuBzHM5IwohLwNCto.\r\n\r\nWe are going with this approach due to simpler implementation and reuse of most of what Flink framework provided in terms of watermark alignment.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734038148/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734099517","html_url":"https://github.com/apache/iceberg/pull/8625#issuecomment-1734099517","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8625","id":1734099517,"node_id":"IC_kwDOCW7NX85nXEI9","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T16:35:02Z","updated_at":"2023-09-25T16:36:08Z","author_association":"CONTRIBUTOR","body":"[Removed another copy and introduced ThreadLocal](https://github.com/apache/avro/pull/2521/commits/d2cd82a7febda1e114666d7b5c808f6f19908d79), and we're close to the original:\r\n\r\n```python\r\n➜  iceberg git:(fd-add-benchmark) ✗ python3\r\nPython 3.11.5 (main, Aug 24 2023, 15:09:45) [Clang 14.0.3 (clang-1403.0.22.14.1)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> with_threadlocale = [\r\n...     26.181581084,\r\n...     26.2257085,\r\n...     26.292216292,\r\n...     25.931295708,\r\n...     25.773379833\r\n... ]\r\n>>> sum(with\r\nwith              with_threadlocale\r\n>>> sum(with_threadlocale) / 5\r\n26.080836283399996\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734099517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734103018","html_url":"https://github.com/apache/iceberg/pull/8569#issuecomment-1734103018","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8569","id":1734103018,"node_id":"IC_kwDOCW7NX85nXE_q","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T16:37:18Z","updated_at":"2023-09-25T16:37:18Z","author_association":"CONTRIBUTOR","body":"thank you @amogh-jahagirdar and @nastra for the review! I guess @Fokko is the last approval needed to merge the change, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734103018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734114127","html_url":"https://github.com/apache/iceberg/pull/8641#issuecomment-1734114127","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8641","id":1734114127,"node_id":"IC_kwDOCW7NX85nXHtP","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T16:43:42Z","updated_at":"2023-09-25T16:43:42Z","author_association":"CONTRIBUTOR","body":"looks like spotless failed, can you run `./gradlew :iceberg-core:spotlessApply` to fix the style error?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734114127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734221011","html_url":"https://github.com/apache/iceberg/pull/8625#issuecomment-1734221011","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8625","id":1734221011,"node_id":"IC_kwDOCW7NX85nXhzT","user":{"login":"rustyconover","id":731941,"node_id":"MDQ6VXNlcjczMTk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/731941?v=4","gravatar_id":"","url":"https://api.github.com/users/rustyconover","html_url":"https://github.com/rustyconover","followers_url":"https://api.github.com/users/rustyconover/followers","following_url":"https://api.github.com/users/rustyconover/following{/other_user}","gists_url":"https://api.github.com/users/rustyconover/gists{/gist_id}","starred_url":"https://api.github.com/users/rustyconover/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rustyconover/subscriptions","organizations_url":"https://api.github.com/users/rustyconover/orgs","repos_url":"https://api.github.com/users/rustyconover/repos","events_url":"https://api.github.com/users/rustyconover/events{/privacy}","received_events_url":"https://api.github.com/users/rustyconover/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T17:59:39Z","updated_at":"2023-09-25T17:59:39Z","author_association":"CONTRIBUTOR","body":"@fokko Those times seem close enough to me. \r\n\r\nI'm sorry this is a bit complicated to get working.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734221011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734264672","html_url":"https://github.com/apache/iceberg/pull/8626#issuecomment-1734264672","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8626","id":1734264672,"node_id":"IC_kwDOCW7NX85nXsdg","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T18:31:42Z","updated_at":"2023-09-25T18:31:42Z","author_association":"CONTRIBUTOR","body":"S3 Multipart uplkoad integration tests + S3FileIO tests pass. Glue + LakeFormation tests are failing though, but it's unrelated to this change:\r\n\r\n```\r\norg.apache.iceberg.aws.glue.TestGlueCatalogTable > testCommitTableSkipArchive FAILED\r\n    org.apache.iceberg.exceptions.ValidationException at TestGlueCatalogTable.java:410\r\n\r\norg.apache.iceberg.aws.glue.TestGlueCatalogTable > testCreateAndLoadTableWithoutWarehouseLocation FAILED\r\n    java.lang.RuntimeException at TestGlueCatalogTable.java:154\r\n        Caused by: org.apache.iceberg.exceptions.ValidationException at TestGlueCatalogTable.java:151\r\n\r\norg.apache.iceberg.aws.glue.TestGlueCatalogTable > testListTables FAILED\r\n    org.apache.iceberg.exceptions.ValidationException at TestGlueCatalogTable.java:165\r\n\r\norg.apache.iceberg.aws.glue.TestGlueCatalogTable > testRenameTableFailsToDeleteOldTable FAILED\r\n    java.lang.AssertionError at TestGlueCatalogTable.java:272\r\n\r\norg.apache.iceberg.aws.lakeformation.TestLakeFormationDataOperations > testUpdateTableWithNoInsertAccess FAILED\r\n    software.amazon.awssdk.core.exception.SdkClientException at TestLakeFormationDataOperations.java:74\r\n        Caused by: javax.net.ssl.SSLHandshakeException at TestLakeFormationDataOperations.java:74\r\n            Caused by: java.security.cert.CertificateException at TestLakeFormationDataOperations.java:74\r\n\r\norg.apache.iceberg.aws.lakeformation.TestLakeFormationDataOperations > testDeleteSuccess FAILED\r\n    software.amazon.awssdk.core.exception.SdkClientException at TestLakeFormationDataOperations.java:130\r\n        Caused by: javax.net.ssl.SSLHandshakeException at TestLakeFormationDataOperations.java:130\r\n            Caused by: java.security.cert.CertificateException at TestLakeFormationDataOperations.java:130\r\n\r\norg.apache.iceberg.aws.lakeformation.TestLakeFormationDataOperations > testUpdateTableSuccess FAILED\r\n    software.amazon.awssdk.core.exception.SdkClientException at TestLakeFormationDataOperations.java:93\r\n        Caused by: javax.net.ssl.SSLHandshakeException at TestLakeFormationDataOperations.java:93\r\n            Caused by: java.security.cert.CertificateException at TestLakeFormationDataOperations.java:93\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734264672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734267271","html_url":"https://github.com/apache/iceberg/pull/8626#issuecomment-1734267271","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8626","id":1734267271,"node_id":"IC_kwDOCW7NX85nXtGH","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T18:33:32Z","updated_at":"2023-09-25T18:33:51Z","author_association":"CONTRIBUTOR","body":"Ah nvm, I was just missing some environment variables for the Glue integ tests :) .  Those are passing now. Merging","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734267271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734269049","html_url":"https://github.com/apache/iceberg/pull/8626#issuecomment-1734269049","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8626","id":1734269049,"node_id":"IC_kwDOCW7NX85nXth5","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T18:34:52Z","updated_at":"2023-09-25T18:34:52Z","author_association":"CONTRIBUTOR","body":"Thanks for reviews @Fokko @singhpk234 @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734269049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734422826","html_url":"https://github.com/apache/iceberg/pull/8643#issuecomment-1734422826","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8643","id":1734422826,"node_id":"IC_kwDOCW7NX85nYTEq","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T20:33:10Z","updated_at":"2023-09-25T20:33:10Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews @danielcweeks @Fokko !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734422826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734445957","html_url":"https://github.com/apache/iceberg/issues/370#issuecomment-1734445957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/370","id":1734445957,"node_id":"IC_kwDOCW7NX85nYYuF","user":{"login":"vinitamaloo-asu","id":97632954,"node_id":"U_kgDOBdHCug","avatar_url":"https://avatars.githubusercontent.com/u/97632954?v=4","gravatar_id":"","url":"https://api.github.com/users/vinitamaloo-asu","html_url":"https://github.com/vinitamaloo-asu","followers_url":"https://api.github.com/users/vinitamaloo-asu/followers","following_url":"https://api.github.com/users/vinitamaloo-asu/following{/other_user}","gists_url":"https://api.github.com/users/vinitamaloo-asu/gists{/gist_id}","starred_url":"https://api.github.com/users/vinitamaloo-asu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinitamaloo-asu/subscriptions","organizations_url":"https://api.github.com/users/vinitamaloo-asu/orgs","repos_url":"https://api.github.com/users/vinitamaloo-asu/repos","events_url":"https://api.github.com/users/vinitamaloo-asu/events{/privacy}","received_events_url":"https://api.github.com/users/vinitamaloo-asu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T20:52:01Z","updated_at":"2023-09-25T20:52:01Z","author_association":"NONE","body":"@jerryshao could you shed more light on the more complex approach to share the hiveClient?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734445957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734549797","html_url":"https://github.com/apache/iceberg/pull/8644#issuecomment-1734549797","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8644","id":1734549797,"node_id":"IC_kwDOCW7NX85nYyEl","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T22:27:54Z","updated_at":"2023-09-25T22:27:54Z","author_association":"CONTRIBUTOR","body":"An alternative to this PR is to add async downloads to `ResolvingFileIO`, but that seems more dangerous so we probably want to test with this for a little while first.\r\n\r\nAlso, I'd like to find a way to add a mode that downloads files only on executors and not on the Spark driver.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734549797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734624590","html_url":"https://github.com/apache/iceberg/pull/8611#issuecomment-1734624590","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8611","id":1734624590,"node_id":"IC_kwDOCW7NX85nZEVO","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-25T23:59:28Z","updated_at":"2023-09-25T23:59:28Z","author_association":"CONTRIBUTOR","body":"> I do think we should reconsider a patch to rescan footers and rewrite iceberg metadata since I think we will basically have tables which have previously written iceberg metrics with null counts that do not follow this spec\r\n\r\n+1 on this there could be engines using these stats ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734624590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734632844","html_url":"https://github.com/apache/iceberg/issues/7232#issuecomment-1734632844","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7232","id":1734632844,"node_id":"IC_kwDOCW7NX85nZGWM","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T00:10:59Z","updated_at":"2023-09-26T00:10:59Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734632844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734632870","html_url":"https://github.com/apache/iceberg/issues/7231#issuecomment-1734632870","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7231","id":1734632870,"node_id":"IC_kwDOCW7NX85nZGWm","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T00:11:01Z","updated_at":"2023-09-26T00:11:01Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734632870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734632907","html_url":"https://github.com/apache/iceberg/issues/7221#issuecomment-1734632907","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7221","id":1734632907,"node_id":"IC_kwDOCW7NX85nZGXL","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T00:11:04Z","updated_at":"2023-09-26T00:11:04Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734632907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734680976","html_url":"https://github.com/apache/iceberg/issues/8277#issuecomment-1734680976","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8277","id":1734680976,"node_id":"IC_kwDOCW7NX85nZSGQ","user":{"login":"vinitamaloo-asu","id":97632954,"node_id":"U_kgDOBdHCug","avatar_url":"https://avatars.githubusercontent.com/u/97632954?v=4","gravatar_id":"","url":"https://api.github.com/users/vinitamaloo-asu","html_url":"https://github.com/vinitamaloo-asu","followers_url":"https://api.github.com/users/vinitamaloo-asu/followers","following_url":"https://api.github.com/users/vinitamaloo-asu/following{/other_user}","gists_url":"https://api.github.com/users/vinitamaloo-asu/gists{/gist_id}","starred_url":"https://api.github.com/users/vinitamaloo-asu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinitamaloo-asu/subscriptions","organizations_url":"https://api.github.com/users/vinitamaloo-asu/orgs","repos_url":"https://api.github.com/users/vinitamaloo-asu/repos","events_url":"https://api.github.com/users/vinitamaloo-asu/events{/privacy}","received_events_url":"https://api.github.com/users/vinitamaloo-asu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T01:11:32Z","updated_at":"2023-09-26T01:11:32Z","author_association":"NONE","body":"@RussellSpitzer even if I don't initialize HiveExternalCatalog, I still cannot connect to the metastore.\r\n\r\n`\r\norg.apache.iceberg.hive.RuntimeMetaException: Failed to connect to Hive Metastore\r\norg.apache.iceberg.hive.HiveClientPool.newClient(HiveClientPool.java:84)\r\norg.apache.iceberg.hive.HiveClientPool.newClient(HiveClientPool.java:34)\r\norg.apache.iceberg.ClientPoolImpl.get(ClientPoolImpl.java:125)\r\norg.apache.iceberg.ClientPoolImpl.run(ClientPoolImpl.java:56)\r\norg.apache.iceberg.ClientPoolImpl.run(ClientPoolImpl.java:51)\r\norg.apache.iceberg.hive.CachedClientPool.run(CachedClientPool.java:122)\r\norg.apache.iceberg.hive.HiveCatalog.loadNamespaceMetadata(HiveCatalog.java:438)\r\norg.apache.iceberg.catalog.SupportsNamespaces.namespaceExists(SupportsNamespaces.java:140)\r\n`\r\n\r\nIs there a way to connect the HiveCatalog to derby? If I pass uri -> \"jdbc:derby:memory:metastore_749966;create=true\" while initializing HiveCatalog I still get the same error.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734680976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734696190","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1734696190","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1734696190,"node_id":"IC_kwDOCW7NX85nZVz-","user":{"login":"lengkristy","id":37865070,"node_id":"MDQ6VXNlcjM3ODY1MDcw","avatar_url":"https://avatars.githubusercontent.com/u/37865070?v=4","gravatar_id":"","url":"https://api.github.com/users/lengkristy","html_url":"https://github.com/lengkristy","followers_url":"https://api.github.com/users/lengkristy/followers","following_url":"https://api.github.com/users/lengkristy/following{/other_user}","gists_url":"https://api.github.com/users/lengkristy/gists{/gist_id}","starred_url":"https://api.github.com/users/lengkristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lengkristy/subscriptions","organizations_url":"https://api.github.com/users/lengkristy/orgs","repos_url":"https://api.github.com/users/lengkristy/repos","events_url":"https://api.github.com/users/lengkristy/events{/privacy}","received_events_url":"https://api.github.com/users/lengkristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T01:35:03Z","updated_at":"2023-09-26T01:42:00Z","author_association":"NONE","body":"@nastra Sure, this is gradle dependencies:\r\n\r\nimplementation 'org.apache.iceberg:iceberg-core:1.3.1'\r\n    implementation 'org.apache.iceberg:iceberg-parquet:1.3.1'\r\n    implementation 'org.apache.iceberg:iceberg-data:1.3.1'\r\n    implementation 'org.apache.iceberg:iceberg-hive-runtime:1.3.1'\r\n    implementation ('org.apache.hadoop:hadoop-aws:3.3.0'){\r\n        exclude(group:'com.amazonaws',module: 'aws-java-sdk-bundle')\r\n    }\r\n    implementation 'org.apache.hadoop:hadoop-common:3.3.0'\r\n    implementation 'software.amazon.awssdk:s3:2.20.131'\r\n    implementation 'software.amazon.awssdk:glue:2.17.122'\r\n    implementation 'software.amazon.awssdk:sts:2.17.122'\r\n    implementation 'software.amazon.awssdk:dynamodb:2.17.122'\r\n\r\nand write iceberg table data with 4 concurrent:\r\n\r\nbelow code:\r\n```\r\n//write data\r\n        PartitionedFanoutWriter<Record> partitionedFanoutWriter = null;\r\n        try {\r\n            PartitionKey partitionKey = new PartitionKey(table.spec(), table.spec().schema());\r\n            InternalRecordWrapper recordWrapper = new InternalRecordWrapper(table.schema().asStruct());\r\n            // partitionedFanoutWriter will auto partitioned record and create the partitioned writer\r\n            partitionedFanoutWriter = new PartitionedFanoutWriter<Record>(table.spec(), FileFormat.PARQUET, appenderFactory, outputFileFactory, table.io(), TARGET_FILE_SIZE_IN_BYTES) {\r\n                @Override\r\n                protected PartitionKey partition(Record record) {\r\n                    try {\r\n                        partitionKey.partition(recordWrapper.wrap(record));\r\n                    }catch (Exception e){\r\n                        System.out.println(\"write partition data error:\" + e.getMessage() + ExceptionUtil.convertStackToString(e));\r\n                    }\r\n                    return partitionKey;\r\n                }\r\n            };\r\n            for (PipelineData data : records) {\r\n                try {\r\n                    if (data.getRecord() != null)\r\n                        partitionedFanoutWriter.write(data.getRecord());\r\n                } catch (Exception e) {\r\n                    System.out.println(\"write data error:\" + e.getMessage() + ExceptionUtil.convertStackToString(e));\r\n                    if (logger != null) {\r\n                        logger.log(\"can not write iceberg table :\" + data.getRecord().toString());\r\n                        logger.log(ExceptionUtil.convertStackToString(e));\r\n                        //record the data\r\n                        logger.log(records.toString());\r\n                    }\r\n                    ProcessKinesisRecords.errRecords.add(data);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            //\r\n            System.out.println(\"write data error:\" + e.getMessage() + ExceptionUtil.convertStackToString(e));\r\n            if (logger != null) {\r\n                logger.log(\"can not write data to iceberg table:\");\r\n                logger.log(ExceptionUtil.convertStackToString(e));\r\n            }\r\n            throw e;\r\n        }finally {\r\n            if (partitionedFanoutWriter != null){\r\n                partitionedFanoutWriter.close();\r\n            }\r\n        }\r\n\r\n        //commit data\r\n        try {\r\n            System.out.println(\"start commit file,file size:\" + partitionedFanoutWriter.dataFiles()[0].recordCount());\r\n            AppendFiles appendFiles = table.newAppend();\r\n            // submit datafiles to the table\r\n            Arrays.stream(partitionedFanoutWriter.dataFiles()).forEach(appendFiles::appendFile);\r\n            // submit snapshot\r\n            appendFiles.apply();\r\n            appendFiles.commit();\r\n            System.out.println(\"committed file\");\r\n        } catch (Throwable e) {\r\n            if (logger != null) {\r\n                logger.log(\"ERROR: can not commit data to iceberg table:\" + e.getMessage());\r\n            }\r\n            System.out.println(\"can not commit\");\r\n            ProcessKinesisRecords.errRecords.addAll(records);\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734696190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734698500","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1734698500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1734698500,"node_id":"IC_kwDOCW7NX85nZWYE","user":{"login":"lengkristy","id":37865070,"node_id":"MDQ6VXNlcjM3ODY1MDcw","avatar_url":"https://avatars.githubusercontent.com/u/37865070?v=4","gravatar_id":"","url":"https://api.github.com/users/lengkristy","html_url":"https://github.com/lengkristy","followers_url":"https://api.github.com/users/lengkristy/followers","following_url":"https://api.github.com/users/lengkristy/following{/other_user}","gists_url":"https://api.github.com/users/lengkristy/gists{/gist_id}","starred_url":"https://api.github.com/users/lengkristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lengkristy/subscriptions","organizations_url":"https://api.github.com/users/lengkristy/orgs","repos_url":"https://api.github.com/users/lengkristy/repos","events_url":"https://api.github.com/users/lengkristy/events{/privacy}","received_events_url":"https://api.github.com/users/lengkristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T01:38:42Z","updated_at":"2023-09-26T01:38:42Z","author_association":"NONE","body":"and also get this error:\r\norg.apache.iceberg.exceptions.CommitFailedException: Cannot commit  because base metadata location 's3://xxxx/00426-a7b003ff-2e45-4591-9561-10b9cded215e.metadata.json' is not same as the current Glue location 's3://xxxxx/00427-74a9323a-ffdd-47e8-a54f-278ce87425a0.metadata.json'\r\n\tat org.apache.iceberg.aws.glue.GlueTableOperations.checkMetadataLocation(GlueTableOperations.java:272)\r\n\tat org.apache.iceberg.aws.glue.GlueTableOperations.doCommit(GlueTableOperations.java:158)\r\n\tat org.apache.iceberg.BaseMetastoreTableOperations.commit(BaseMetastoreTableOperations.java:135)\r\n\tat org.apache.iceberg.SnapshotProducer.lambda$commit$2(SnapshotProducer.java:390)\r\n\tat org.apache.iceberg.util.Tasks$Builder.runTaskWithRetry(Tasks.java:413)\r\n\tat org.apache.iceberg.util.Tasks$Builder.runSingleThreaded(Tasks.java:219)\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:203)\r\n\tat org.apache.iceberg.util.Tasks$Builder.run(Tasks.java:196)\r\n\tat org.apache.iceberg.SnapshotProducer.commit(SnapshotProducer.java:364)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734698500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734718465","html_url":"https://github.com/apache/iceberg/pull/8579#issuecomment-1734718465","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8579","id":1734718465,"node_id":"IC_kwDOCW7NX85nZbQB","user":{"login":"advancedxy","id":807537,"node_id":"MDQ6VXNlcjgwNzUzNw==","avatar_url":"https://avatars.githubusercontent.com/u/807537?v=4","gravatar_id":"","url":"https://api.github.com/users/advancedxy","html_url":"https://github.com/advancedxy","followers_url":"https://api.github.com/users/advancedxy/followers","following_url":"https://api.github.com/users/advancedxy/following{/other_user}","gists_url":"https://api.github.com/users/advancedxy/gists{/gist_id}","starred_url":"https://api.github.com/users/advancedxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/advancedxy/subscriptions","organizations_url":"https://api.github.com/users/advancedxy/orgs","repos_url":"https://api.github.com/users/advancedxy/repos","events_url":"https://api.github.com/users/advancedxy/events{/privacy}","received_events_url":"https://api.github.com/users/advancedxy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T02:06:26Z","updated_at":"2023-09-26T02:06:26Z","author_association":"CONTRIBUTOR","body":"Gently ping @rdblue @RussellSpitzer @aokolnychyi @szehon-ho ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734718465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734718665","html_url":"https://github.com/apache/iceberg/pull/8644#issuecomment-1734718665","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8644","id":1734718665,"node_id":"IC_kwDOCW7NX85nZbTJ","user":{"login":"zinking","id":118241,"node_id":"MDQ6VXNlcjExODI0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/118241?v=4","gravatar_id":"","url":"https://api.github.com/users/zinking","html_url":"https://github.com/zinking","followers_url":"https://api.github.com/users/zinking/followers","following_url":"https://api.github.com/users/zinking/following{/other_user}","gists_url":"https://api.github.com/users/zinking/gists{/gist_id}","starred_url":"https://api.github.com/users/zinking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zinking/subscriptions","organizations_url":"https://api.github.com/users/zinking/orgs","repos_url":"https://api.github.com/users/zinking/repos","events_url":"https://api.github.com/users/zinking/events{/privacy}","received_events_url":"https://api.github.com/users/zinking/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T02:06:46Z","updated_at":"2023-09-26T02:06:46Z","author_association":"CONTRIBUTOR","body":"\r\n> The AsyncFileIO can use either a memory:/ or file:/ path for async.cache-location, which determines where the data is locally cached.\r\n\r\nmaybe CacheIO is a better name ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734718665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734930656","html_url":"https://github.com/apache/iceberg/issues/8645#issuecomment-1734930656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8645","id":1734930656,"node_id":"IC_kwDOCW7NX85naPDg","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T06:49:52Z","updated_at":"2023-09-26T06:49:52Z","author_association":"CONTRIBUTOR","body":"Thanks for raising this. This issue is being worked on by Poetry: https://github.com/pydantic/pydantic/issues/7611#issuecomment-1734744478 To avoid this you can `pip install \"pydantic<2.4.0\"` for now 👍 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734930656/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734973961","html_url":"https://github.com/apache/iceberg/issues/8377#issuecomment-1734973961","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8377","id":1734973961,"node_id":"IC_kwDOCW7NX85naZoJ","user":{"login":"pietro-agilelab","id":142974566,"node_id":"U_kgDOCIWeZg","avatar_url":"https://avatars.githubusercontent.com/u/142974566?v=4","gravatar_id":"","url":"https://api.github.com/users/pietro-agilelab","html_url":"https://github.com/pietro-agilelab","followers_url":"https://api.github.com/users/pietro-agilelab/followers","following_url":"https://api.github.com/users/pietro-agilelab/following{/other_user}","gists_url":"https://api.github.com/users/pietro-agilelab/gists{/gist_id}","starred_url":"https://api.github.com/users/pietro-agilelab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pietro-agilelab/subscriptions","organizations_url":"https://api.github.com/users/pietro-agilelab/orgs","repos_url":"https://api.github.com/users/pietro-agilelab/repos","events_url":"https://api.github.com/users/pietro-agilelab/events{/privacy}","received_events_url":"https://api.github.com/users/pietro-agilelab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T07:23:01Z","updated_at":"2023-09-26T07:23:01Z","author_association":"NONE","body":"Hi @sebastien-namy-cbp, after running some tests I came to the following conclusion:\r\n\r\n### Hadoop catalog\r\nIf you are using a catalog of type \"hadoop\", then you can't use the `tableProperty(\"location\", \"s3://...\")` property of the DataFrameWriterV2 API, otherwise you'll get [an error](https://github.com/apache/iceberg/issues/8377#issue-1862786604).\r\n\r\nSimilarly, creating a table with `df.write.format(\"iceberg\").mode(\"overwrite\").save(\"/path/to/my/table\")` raises [an error](https://github.com/apache/iceberg/issues/8377#issuecomment-1691790773) too.\r\n\r\nThe only workaround I found is by using the DataFrameWriterV2 API: assuming that you configured an Iceberg catalog called \"local\" with a warehouse path `s3://my-bucket/warehouse`, then writing\r\n```python\r\ndf.writeTo(\"local.db.my.table\").using(\"iceberg\").createOrReplace()\r\n```\r\nwill create a table at location `s3://my-bucket/warehouse/local/db/my/table`.\r\n\r\n\r\n### Hive catalog\r\nIf instead you are using a catalog of type \"hive\", then you can follow the example of the [documentation](https://iceberg.apache.org/docs/latest/spark-writes/#creating-tables), thus writing:\r\n```python\r\n# creates table `iceberg.db.table` at location `s3://my-bucket/path/to/location`\r\ndf.writeTo(\"iceberg.db.table\")\r\n    .tableProperty(\"location\", \"s3://my-bucket/path/to/location\")\r\n    .createOrReplace()\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734973961/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734994352","html_url":"https://github.com/apache/iceberg/pull/8647#issuecomment-1734994352","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8647","id":1734994352,"node_id":"IC_kwDOCW7NX85naemw","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T07:37:52Z","updated_at":"2023-09-26T07:37:52Z","author_association":"CONTRIBUTOR","body":"thanks for fixing this @Fokko ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1734994352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735035827","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1735035827","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1735035827,"node_id":"IC_kwDOCW7NX85naouz","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T08:05:55Z","updated_at":"2023-09-26T08:07:11Z","author_association":"CONTRIBUTOR","body":"If you are writing data concurrently, then `CommitFailedException` is an expected (and retryable) exception. \r\nIn your case, the `CommitFailedException` indicates that the table metadata was modified concurrently by another process, which means that the respective changes can't be applied without first refreshing the table you're doing the changes against.\r\nWhat you could do is add some retry handling:\r\n\r\n```\r\nTasks.foreach(ops)\r\n          .retry(COMMIT_NUM_RETRIES_DEFAULT)\r\n          .exponentialBackoff(\r\n              COMMIT_MIN_RETRY_WAIT_MS_DEFAULT,\r\n              COMMIT_MAX_RETRY_WAIT_MS_DEFAULT,\r\n              COMMIT_TOTAL_RETRY_TIME_MS_DEFAULT,\r\n              2.0 /* exponential */)\r\n          .onlyRetryOn(CommitFailedException.class)\r\n          .run(\r\n              taskOps -> { \r\n                 // refresh table + perfom the commit\r\n             });\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735035827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735045482","html_url":"https://github.com/apache/iceberg/issues/8642#issuecomment-1735045482","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8642","id":1735045482,"node_id":"IC_kwDOCW7NX85narFq","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T08:12:15Z","updated_at":"2023-09-26T08:12:15Z","author_association":"CONTRIBUTOR","body":"According to https://github.com/apache/iceberg/blob/master/core/src/test/java/org/apache/iceberg/TestTransaction.java#L658-L668 this seems to be expected behavior. The reasoning is described in https://github.com/apache/iceberg/pull/218","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735045482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735062236","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1735062236","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1735062236,"node_id":"IC_kwDOCW7NX85navLc","user":{"login":"lengkristy","id":37865070,"node_id":"MDQ6VXNlcjM3ODY1MDcw","avatar_url":"https://avatars.githubusercontent.com/u/37865070?v=4","gravatar_id":"","url":"https://api.github.com/users/lengkristy","html_url":"https://github.com/lengkristy","followers_url":"https://api.github.com/users/lengkristy/followers","following_url":"https://api.github.com/users/lengkristy/following{/other_user}","gists_url":"https://api.github.com/users/lengkristy/gists{/gist_id}","starred_url":"https://api.github.com/users/lengkristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lengkristy/subscriptions","organizations_url":"https://api.github.com/users/lengkristy/orgs","repos_url":"https://api.github.com/users/lengkristy/repos","events_url":"https://api.github.com/users/lengkristy/events{/privacy}","received_events_url":"https://api.github.com/users/lengkristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T08:23:17Z","updated_at":"2023-09-26T08:23:17Z","author_association":"NONE","body":"> If you are writing data concurrently, then `CommitFailedException` is an expected (and retryable) exception. In your case, the `CommitFailedException` indicates that the table metadata was modified concurrently by another process, which means that the respective changes can't be applied without first refreshing the table you're doing the changes against. What you could do is add some retry handling:\r\n> \r\n> ```\r\n> Tasks.foreach(ops)\r\n>           .retry(COMMIT_NUM_RETRIES_DEFAULT)\r\n>           .exponentialBackoff(\r\n>               COMMIT_MIN_RETRY_WAIT_MS_DEFAULT,\r\n>               COMMIT_MAX_RETRY_WAIT_MS_DEFAULT,\r\n>               COMMIT_TOTAL_RETRY_TIME_MS_DEFAULT,\r\n>               2.0 /* exponential */)\r\n>           .onlyRetryOn(CommitFailedException.class)\r\n>           .run(\r\n>               taskOps -> { \r\n>                  // refresh table + perfom the commit\r\n>              });\r\n> ```\r\n\r\n@nastra Thanks, I will try it","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735062236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735149266","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1735149266","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1735149266,"node_id":"IC_kwDOCW7NX85nbEbS","user":{"login":"lengkristy","id":37865070,"node_id":"MDQ6VXNlcjM3ODY1MDcw","avatar_url":"https://avatars.githubusercontent.com/u/37865070?v=4","gravatar_id":"","url":"https://api.github.com/users/lengkristy","html_url":"https://github.com/lengkristy","followers_url":"https://api.github.com/users/lengkristy/followers","following_url":"https://api.github.com/users/lengkristy/following{/other_user}","gists_url":"https://api.github.com/users/lengkristy/gists{/gist_id}","starred_url":"https://api.github.com/users/lengkristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lengkristy/subscriptions","organizations_url":"https://api.github.com/users/lengkristy/orgs","repos_url":"https://api.github.com/users/lengkristy/repos","events_url":"https://api.github.com/users/lengkristy/events{/privacy}","received_events_url":"https://api.github.com/users/lengkristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:16:12Z","updated_at":"2023-09-26T09:16:12Z","author_association":"NONE","body":"I tested 100000 data, there is no error info, but iceberg just only received 98964 data:\r\n![image](https://github.com/apache/iceberg/assets/37865070/34aed59b-5602-4d6a-8f86-a7b5c8bfc6e9)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735149266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735164301","html_url":"https://github.com/apache/iceberg/issues/7334#issuecomment-1735164301","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7334","id":1735164301,"node_id":"IC_kwDOCW7NX85nbIGN","user":{"login":"schaure","id":109587015,"node_id":"U_kgDOBogqRw","avatar_url":"https://avatars.githubusercontent.com/u/109587015?v=4","gravatar_id":"","url":"https://api.github.com/users/schaure","html_url":"https://github.com/schaure","followers_url":"https://api.github.com/users/schaure/followers","following_url":"https://api.github.com/users/schaure/following{/other_user}","gists_url":"https://api.github.com/users/schaure/gists{/gist_id}","starred_url":"https://api.github.com/users/schaure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schaure/subscriptions","organizations_url":"https://api.github.com/users/schaure/orgs","repos_url":"https://api.github.com/users/schaure/repos","events_url":"https://api.github.com/users/schaure/events{/privacy}","received_events_url":"https://api.github.com/users/schaure/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:25:41Z","updated_at":"2023-09-26T09:25:41Z","author_association":"NONE","body":"gives error as \"describe extended ^^","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735164301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735175086","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1735175086","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1735175086,"node_id":"IC_kwDOCW7NX85nbKuu","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:32:50Z","updated_at":"2023-09-26T09:32:50Z","author_association":"CONTRIBUTOR","body":"@lengkristy it's difficult to say what might have gone wrong without having full visibility into your application code that handles those updates","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735175086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735187285","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1735187285","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1735187285,"node_id":"IC_kwDOCW7NX85nbNtV","user":{"login":"lengkristy","id":37865070,"node_id":"MDQ6VXNlcjM3ODY1MDcw","avatar_url":"https://avatars.githubusercontent.com/u/37865070?v=4","gravatar_id":"","url":"https://api.github.com/users/lengkristy","html_url":"https://github.com/lengkristy","followers_url":"https://api.github.com/users/lengkristy/followers","following_url":"https://api.github.com/users/lengkristy/following{/other_user}","gists_url":"https://api.github.com/users/lengkristy/gists{/gist_id}","starred_url":"https://api.github.com/users/lengkristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lengkristy/subscriptions","organizations_url":"https://api.github.com/users/lengkristy/orgs","repos_url":"https://api.github.com/users/lengkristy/repos","events_url":"https://api.github.com/users/lengkristy/events{/privacy}","received_events_url":"https://api.github.com/users/lengkristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:40:39Z","updated_at":"2023-09-26T09:40:39Z","author_association":"NONE","body":"> @lengkristy it's difficult to say what might have gone wrong without having full visibility into your application code that handles those updates\r\n\r\nthanks @nastra, yeah, I catch all exception ,I think if not success, maybe there is error info, but the code running well and no error info , so it's very strange.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735187285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735187713","html_url":"https://github.com/apache/iceberg/pull/8408#issuecomment-1735187713","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8408","id":1735187713,"node_id":"IC_kwDOCW7NX85nbN0B","user":{"login":"alexander-beedie","id":2613171,"node_id":"MDQ6VXNlcjI2MTMxNzE=","avatar_url":"https://avatars.githubusercontent.com/u/2613171?v=4","gravatar_id":"","url":"https://api.github.com/users/alexander-beedie","html_url":"https://github.com/alexander-beedie","followers_url":"https://api.github.com/users/alexander-beedie/followers","following_url":"https://api.github.com/users/alexander-beedie/following{/other_user}","gists_url":"https://api.github.com/users/alexander-beedie/gists{/gist_id}","starred_url":"https://api.github.com/users/alexander-beedie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexander-beedie/subscriptions","organizations_url":"https://api.github.com/users/alexander-beedie/orgs","repos_url":"https://api.github.com/users/alexander-beedie/repos","events_url":"https://api.github.com/users/alexander-beedie/events{/privacy}","received_events_url":"https://api.github.com/users/alexander-beedie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:40:54Z","updated_at":"2023-09-26T09:40:54Z","author_association":"NONE","body":"Nice one :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735187713/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735189816","html_url":"https://github.com/apache/iceberg/pull/7628#issuecomment-1735189816","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7628","id":1735189816,"node_id":"IC_kwDOCW7NX85nbOU4","user":{"login":"linyanghao","id":51444992,"node_id":"MDQ6VXNlcjUxNDQ0OTky","avatar_url":"https://avatars.githubusercontent.com/u/51444992?v=4","gravatar_id":"","url":"https://api.github.com/users/linyanghao","html_url":"https://github.com/linyanghao","followers_url":"https://api.github.com/users/linyanghao/followers","following_url":"https://api.github.com/users/linyanghao/following{/other_user}","gists_url":"https://api.github.com/users/linyanghao/gists{/gist_id}","starred_url":"https://api.github.com/users/linyanghao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyanghao/subscriptions","organizations_url":"https://api.github.com/users/linyanghao/orgs","repos_url":"https://api.github.com/users/linyanghao/repos","events_url":"https://api.github.com/users/linyanghao/events{/privacy}","received_events_url":"https://api.github.com/users/linyanghao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:42:16Z","updated_at":"2023-09-26T09:42:16Z","author_association":"CONTRIBUTOR","body":"@stevenzwu Hi, I rebased and addressed the style issues you mentioned. Could you check?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735189816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735198477","html_url":"https://github.com/apache/iceberg/issues/3028#issuecomment-1735198477","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3028","id":1735198477,"node_id":"IC_kwDOCW7NX85nbQcN","user":{"login":"jiamin13579","id":39509320,"node_id":"MDQ6VXNlcjM5NTA5MzIw","avatar_url":"https://avatars.githubusercontent.com/u/39509320?v=4","gravatar_id":"","url":"https://api.github.com/users/jiamin13579","html_url":"https://github.com/jiamin13579","followers_url":"https://api.github.com/users/jiamin13579/followers","following_url":"https://api.github.com/users/jiamin13579/following{/other_user}","gists_url":"https://api.github.com/users/jiamin13579/gists{/gist_id}","starred_url":"https://api.github.com/users/jiamin13579/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiamin13579/subscriptions","organizations_url":"https://api.github.com/users/jiamin13579/orgs","repos_url":"https://api.github.com/users/jiamin13579/repos","events_url":"https://api.github.com/users/jiamin13579/events{/privacy}","received_events_url":"https://api.github.com/users/jiamin13579/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:47:18Z","updated_at":"2023-09-26T09:47:18Z","author_association":"CONTRIBUTOR","body":"> I reslove this problem to revert IDEA version from 2023.2 to 2022.3. I think this is a bug for IDEA 2023 @ahmedriza @theoxu31\r\n\r\nI also encountered the same problem","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735198477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735198983","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1735198983","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1735198983,"node_id":"IC_kwDOCW7NX85nbQkH","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:47:39Z","updated_at":"2023-09-26T09:47:39Z","author_association":"CONTRIBUTOR","body":"Catching all exceptions might be the reason for the discrepancy. In any case, I'll go ahead and close this issue, since throwing a CFE on conflict is expected.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735198983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735201088","html_url":"https://github.com/apache/iceberg/issues/8636#issuecomment-1735201088","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8636","id":1735201088,"node_id":"IC_kwDOCW7NX85nbRFA","user":{"login":"lengkristy","id":37865070,"node_id":"MDQ6VXNlcjM3ODY1MDcw","avatar_url":"https://avatars.githubusercontent.com/u/37865070?v=4","gravatar_id":"","url":"https://api.github.com/users/lengkristy","html_url":"https://github.com/lengkristy","followers_url":"https://api.github.com/users/lengkristy/followers","following_url":"https://api.github.com/users/lengkristy/following{/other_user}","gists_url":"https://api.github.com/users/lengkristy/gists{/gist_id}","starred_url":"https://api.github.com/users/lengkristy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lengkristy/subscriptions","organizations_url":"https://api.github.com/users/lengkristy/orgs","repos_url":"https://api.github.com/users/lengkristy/repos","events_url":"https://api.github.com/users/lengkristy/events{/privacy}","received_events_url":"https://api.github.com/users/lengkristy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T09:49:00Z","updated_at":"2023-09-26T09:49:23Z","author_association":"NONE","body":"OK, thank you @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735201088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735565153","html_url":"https://github.com/apache/iceberg/pull/8653#issuecomment-1735565153","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8653","id":1735565153,"node_id":"IC_kwDOCW7NX85ncp9h","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T13:39:43Z","updated_at":"2023-09-26T13:39:43Z","author_association":"CONTRIBUTOR","body":"CC: @hililiwei, @stevenzwu, @chenjunjiedada, @gyfora - you might be interested in this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735565153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735602216","html_url":"https://github.com/apache/iceberg/issues/7939#issuecomment-1735602216","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7939","id":1735602216,"node_id":"IC_kwDOCW7NX85nczAo","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T13:59:45Z","updated_at":"2023-09-26T13:59:45Z","author_association":"CONTRIBUTOR","body":"How does this change the views implementation in Iceberg? Particularly for Trino, the Iceberg connector/plugin code is part of the Trino codebase.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735602216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735682755","html_url":"https://github.com/apache/iceberg/pull/8641#issuecomment-1735682755","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8641","id":1735682755,"node_id":"IC_kwDOCW7NX85ndGrD","user":{"login":"zhaomin1423","id":49054376,"node_id":"MDQ6VXNlcjQ5MDU0Mzc2","avatar_url":"https://avatars.githubusercontent.com/u/49054376?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaomin1423","html_url":"https://github.com/zhaomin1423","followers_url":"https://api.github.com/users/zhaomin1423/followers","following_url":"https://api.github.com/users/zhaomin1423/following{/other_user}","gists_url":"https://api.github.com/users/zhaomin1423/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaomin1423/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaomin1423/subscriptions","organizations_url":"https://api.github.com/users/zhaomin1423/orgs","repos_url":"https://api.github.com/users/zhaomin1423/repos","events_url":"https://api.github.com/users/zhaomin1423/events{/privacy}","received_events_url":"https://api.github.com/users/zhaomin1423/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T14:39:33Z","updated_at":"2023-09-26T14:39:33Z","author_association":"MEMBER","body":"> looks like spotless failed, can you run `./gradlew :iceberg-core:spotlessApply` to fix the style error?\r\n\r\nThanks, you are right.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735682755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735777671","html_url":"https://github.com/apache/iceberg/pull/8654#issuecomment-1735777671","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8654","id":1735777671,"node_id":"IC_kwDOCW7NX85ndd2H","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T15:27:03Z","updated_at":"2023-09-26T15:27:03Z","author_association":"CONTRIBUTOR","body":"@Fokko @amogh-jahagirdar @RussellSpitzer @flyrain ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735777671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735852931","html_url":"https://github.com/apache/iceberg/issues/8642#issuecomment-1735852931","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8642","id":1735852931,"node_id":"IC_kwDOCW7NX85ndwOD","user":{"login":"mahdibh","id":602733,"node_id":"MDQ6VXNlcjYwMjczMw==","avatar_url":"https://avatars.githubusercontent.com/u/602733?v=4","gravatar_id":"","url":"https://api.github.com/users/mahdibh","html_url":"https://github.com/mahdibh","followers_url":"https://api.github.com/users/mahdibh/followers","following_url":"https://api.github.com/users/mahdibh/following{/other_user}","gists_url":"https://api.github.com/users/mahdibh/gists{/gist_id}","starred_url":"https://api.github.com/users/mahdibh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mahdibh/subscriptions","organizations_url":"https://api.github.com/users/mahdibh/orgs","repos_url":"https://api.github.com/users/mahdibh/repos","events_url":"https://api.github.com/users/mahdibh/events{/privacy}","received_events_url":"https://api.github.com/users/mahdibh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T16:08:22Z","updated_at":"2023-09-26T16:08:22Z","author_association":"NONE","body":"I think the lack of consistency is problematic (breaks the principle of least surprise). I'm not super familiar with iceberg internals, but here is one way that this issue could be addressed while still properly dealing with #218 \r\n\r\n1. when specifying a delete handler on any of the `Transaction` methods returning an implementation of `SnapshotUpdate`, the `Transaction` implementation will store that on the side and precondition that the instance is unique across the various methods. This enforces a single custom delete handler for all the operation which seems like a reasonable requirement for a `Transaction`. Another option is that the handler can be set on the `Transaction` object which may seem more natural (ie, you can only set it on the transaction but you can't set it on individual operations). \r\n2. the current implementation will call the handler on the final `Set<String>` of files that need to be deleted.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735852931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735866136","html_url":"https://github.com/apache/iceberg/pull/8639#issuecomment-1735866136","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8639","id":1735866136,"node_id":"IC_kwDOCW7NX85ndzcY","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T16:16:34Z","updated_at":"2023-09-26T16:16:34Z","author_association":"CONTRIBUTOR","body":"included into #7880 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735866136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735912271","html_url":"https://github.com/apache/iceberg/issues/7939#issuecomment-1735912271","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7939","id":1735912271,"node_id":"IC_kwDOCW7NX85nd-tP","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T16:42:51Z","updated_at":"2023-09-26T16:42:51Z","author_association":"MEMBER","body":"I would recommend moving this issue to Trino project.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735912271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735939505","html_url":"https://github.com/apache/iceberg/pull/8654#issuecomment-1735939505","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8654","id":1735939505,"node_id":"IC_kwDOCW7NX85neFWx","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T16:59:16Z","updated_at":"2023-09-26T16:59:16Z","author_association":"CONTRIBUTOR","body":"Thanks, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1735939505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736023333","html_url":"https://github.com/apache/iceberg/pull/8646#issuecomment-1736023333","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8646","id":1736023333,"node_id":"IC_kwDOCW7NX85neZ0l","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T17:59:04Z","updated_at":"2023-09-26T17:59:04Z","author_association":"CONTRIBUTOR","body":"Trying out the branch:\r\n```\r\nPackage operations: 0 installs, 2 updates, 0 removals\r\n\r\n  • Updating pydantic-core (2.10.0 -> 2.10.1)\r\n  • Updating pydantic (2.4.0 b403666 -> 2.4.1 ac588f2)\r\n\r\nWriting lock file\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736023333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736208924","html_url":"https://github.com/apache/iceberg/pull/8658#issuecomment-1736208924","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8658","id":1736208924,"node_id":"IC_kwDOCW7NX85nfHIc","user":{"login":"jacobmarble","id":622263,"node_id":"MDQ6VXNlcjYyMjI2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/622263?v=4","gravatar_id":"","url":"https://api.github.com/users/jacobmarble","html_url":"https://github.com/jacobmarble","followers_url":"https://api.github.com/users/jacobmarble/followers","following_url":"https://api.github.com/users/jacobmarble/following{/other_user}","gists_url":"https://api.github.com/users/jacobmarble/gists{/gist_id}","starred_url":"https://api.github.com/users/jacobmarble/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacobmarble/subscriptions","organizations_url":"https://api.github.com/users/jacobmarble/orgs","repos_url":"https://api.github.com/users/jacobmarble/repos","events_url":"https://api.github.com/users/jacobmarble/events{/privacy}","received_events_url":"https://api.github.com/users/jacobmarble/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T20:03:03Z","updated_at":"2023-09-26T20:03:03Z","author_association":"CONTRIBUTOR","body":"I'm a new contributor to the project. It appears that the API component is a dependency of all other components, so I'm starting the feature there. My next PR would similarly modify the Core component.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736208924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736210705","html_url":"https://github.com/apache/iceberg/issues/8657#issuecomment-1736210705","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8657","id":1736210705,"node_id":"IC_kwDOCW7NX85nfHkR","user":{"login":"jacobmarble","id":622263,"node_id":"MDQ6VXNlcjYyMjI2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/622263?v=4","gravatar_id":"","url":"https://api.github.com/users/jacobmarble","html_url":"https://github.com/jacobmarble","followers_url":"https://api.github.com/users/jacobmarble/followers","following_url":"https://api.github.com/users/jacobmarble/following{/other_user}","gists_url":"https://api.github.com/users/jacobmarble/gists{/gist_id}","starred_url":"https://api.github.com/users/jacobmarble/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacobmarble/subscriptions","organizations_url":"https://api.github.com/users/jacobmarble/orgs","repos_url":"https://api.github.com/users/jacobmarble/repos","events_url":"https://api.github.com/users/jacobmarble/events{/privacy}","received_events_url":"https://api.github.com/users/jacobmarble/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T20:04:19Z","updated_at":"2023-09-26T20:04:19Z","author_association":"CONTRIBUTOR","body":"Maintainers: This issue can be assigned to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736210705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736413366","html_url":"https://github.com/apache/iceberg/pull/8621#issuecomment-1736413366","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8621","id":1736413366,"node_id":"IC_kwDOCW7NX85nf5C2","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T22:55:46Z","updated_at":"2023-09-26T22:55:46Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736413366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736419545","html_url":"https://github.com/apache/iceberg/pull/8621#issuecomment-1736419545","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8621","id":1736419545,"node_id":"IC_kwDOCW7NX85nf6jZ","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-26T23:04:38Z","updated_at":"2023-09-26T23:04:38Z","author_association":"CONTRIBUTOR","body":"Thanks, @RussellSpitzer @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736419545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736474087","html_url":"https://github.com/apache/iceberg/issues/7981#issuecomment-1736474087","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7981","id":1736474087,"node_id":"IC_kwDOCW7NX85ngH3n","user":{"login":"wood-dunamu","id":140568625,"node_id":"U_kgDOCGDoMQ","avatar_url":"https://avatars.githubusercontent.com/u/140568625?v=4","gravatar_id":"","url":"https://api.github.com/users/wood-dunamu","html_url":"https://github.com/wood-dunamu","followers_url":"https://api.github.com/users/wood-dunamu/followers","following_url":"https://api.github.com/users/wood-dunamu/following{/other_user}","gists_url":"https://api.github.com/users/wood-dunamu/gists{/gist_id}","starred_url":"https://api.github.com/users/wood-dunamu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wood-dunamu/subscriptions","organizations_url":"https://api.github.com/users/wood-dunamu/orgs","repos_url":"https://api.github.com/users/wood-dunamu/repos","events_url":"https://api.github.com/users/wood-dunamu/events{/privacy}","received_events_url":"https://api.github.com/users/wood-dunamu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T00:23:43Z","updated_at":"2023-09-27T00:23:43Z","author_association":"NONE","body":"@RussellSpitzer  any updates?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736474087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736488235","html_url":"https://github.com/apache/iceberg/issues/7981#issuecomment-1736488235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7981","id":1736488235,"node_id":"IC_kwDOCW7NX85ngLUr","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T00:43:36Z","updated_at":"2023-09-27T00:43:36Z","author_association":"MEMBER","body":"Update on what?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736488235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736513804","html_url":"https://github.com/apache/iceberg/issues/7981#issuecomment-1736513804","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7981","id":1736513804,"node_id":"IC_kwDOCW7NX85ngRkM","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T01:10:21Z","updated_at":"2023-09-27T01:10:21Z","author_association":"MEMBER","body":"So I checked and this is user error. Although the title of this issue uses the correct name of the parameter, the actual command in the example uses underscores instead of dashes.\r\n\r\n`max_concurrent_file_group_rewrites` should be `max-concurrent-file-group-rewrites`\r\n\r\nhttps://github.com/apache/iceberg/blob/42cf1579ab97ff0080630c752e877593882a4fac/api/src/main/java/org/apache/iceberg/actions/RewriteDataFiles.java#L75-L80\r\n\r\n```scala\r\nscala> spark.sql(\"CALL local.system.rewrite_data_files(table => 'db.table', strategy => 'sort', sort_order=>'data asc', options => map(\r\n'max_concurrent_file_group_rewrites', '10'))\")\r\njava.lang.IllegalArgumentException: Cannot use options [max_concurrent_file_group_rewrites], they are not supported by the action or the rewriter SORT\r\n  ...\r\n  \r\n  \r\nscala> spark.sql(\"CALL local.system.rewrite_data_files(table => 'db.table', strategy => 'sort', sort_order=>'data asc', options => map('max-concurrent-file-group-rewrites', '10'))\")\r\nval res10: org.apache.spark.sql.DataFrame = [rewritten_data_files_count: int, added_data_files_count: int ... 2 more fields]\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736513804/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736517346","html_url":"https://github.com/apache/iceberg/issues/7981#issuecomment-1736517346","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7981","id":1736517346,"node_id":"IC_kwDOCW7NX85ngSbi","user":{"login":"wood-dunamu","id":140568625,"node_id":"U_kgDOCGDoMQ","avatar_url":"https://avatars.githubusercontent.com/u/140568625?v=4","gravatar_id":"","url":"https://api.github.com/users/wood-dunamu","html_url":"https://github.com/wood-dunamu","followers_url":"https://api.github.com/users/wood-dunamu/followers","following_url":"https://api.github.com/users/wood-dunamu/following{/other_user}","gists_url":"https://api.github.com/users/wood-dunamu/gists{/gist_id}","starred_url":"https://api.github.com/users/wood-dunamu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wood-dunamu/subscriptions","organizations_url":"https://api.github.com/users/wood-dunamu/orgs","repos_url":"https://api.github.com/users/wood-dunamu/repos","events_url":"https://api.github.com/users/wood-dunamu/events{/privacy}","received_events_url":"https://api.github.com/users/wood-dunamu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T01:11:47Z","updated_at":"2023-09-27T01:11:47Z","author_association":"NONE","body":"@RussellSpitzer  Thank you! 👍 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736517346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736522018","html_url":"https://github.com/apache/iceberg/pull/8661#issuecomment-1736522018","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8661","id":1736522018,"node_id":"IC_kwDOCW7NX85ngTki","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T01:19:31Z","updated_at":"2023-09-27T01:19:51Z","author_association":"CONTRIBUTOR","body":"cc @Fokko @nastra @amogh-jahagirdar @RussellSpitzer @flyrain @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736522018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736633309","html_url":"https://github.com/apache/iceberg/issues/8655#issuecomment-1736633309","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8655","id":1736633309,"node_id":"IC_kwDOCW7NX85nguvd","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T03:57:16Z","updated_at":"2023-09-27T03:57:16Z","author_association":"COLLABORATOR","body":"It can be resolved with `--conf spark.executor.extraJavaOptions=\"-Darrow.enable_null_check_for_get=false\"` or patching https://github.com/apache/iceberg/pull/6550","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736633309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736659842","html_url":"https://github.com/apache/iceberg/issues/8635#issuecomment-1736659842","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8635","id":1736659842,"node_id":"IC_kwDOCW7NX85ng1OC","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T04:35:19Z","updated_at":"2023-09-27T04:35:19Z","author_association":"COLLABORATOR","body":"You may verify whether your avro file is intact with Spark SQL\r\n```sql\r\nselect * from avro.`qbfs://online01/warehouse/bi_warehouse_ods_ice.db/ods2_qos_allpay_7_72_724/metadata/eb017bb0-5b27-4180-8c0a-18a8e19671ee-m0.avro`\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736659842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736698932","html_url":"https://github.com/apache/iceberg/pull/7628#issuecomment-1736698932","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7628","id":1736698932,"node_id":"IC_kwDOCW7NX85ng-w0","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T04:51:48Z","updated_at":"2023-09-27T13:51:40Z","author_association":"CONTRIBUTOR","body":"thanks @linyanghao for the contribution and @chenjunjiedada and @hililiwei  for the review.\r\n\r\n@linyanghao can you create a back port PR? you can follow the example here for back port: https://github.com/apache/iceberg/pull/8228","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736698932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736772804","html_url":"https://github.com/apache/iceberg/issues/8635#issuecomment-1736772804","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8635","id":1736772804,"node_id":"IC_kwDOCW7NX85nhQzE","user":{"login":"chenwyi2","id":19389434,"node_id":"MDQ6VXNlcjE5Mzg5NDM0","avatar_url":"https://avatars.githubusercontent.com/u/19389434?v=4","gravatar_id":"","url":"https://api.github.com/users/chenwyi2","html_url":"https://github.com/chenwyi2","followers_url":"https://api.github.com/users/chenwyi2/followers","following_url":"https://api.github.com/users/chenwyi2/following{/other_user}","gists_url":"https://api.github.com/users/chenwyi2/gists{/gist_id}","starred_url":"https://api.github.com/users/chenwyi2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenwyi2/subscriptions","organizations_url":"https://api.github.com/users/chenwyi2/orgs","repos_url":"https://api.github.com/users/chenwyi2/repos","events_url":"https://api.github.com/users/chenwyi2/events{/privacy}","received_events_url":"https://api.github.com/users/chenwyi2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T06:21:07Z","updated_at":"2023-09-27T06:21:07Z","author_association":"NONE","body":"thank you , i think this file is corrupted, but how can i recovery this file? because with this corrupted file, i cannot write or query.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736772804/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736832206","html_url":"https://github.com/apache/iceberg/issues/8662#issuecomment-1736832206","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8662","id":1736832206,"node_id":"IC_kwDOCW7NX85nhfTO","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T07:13:03Z","updated_at":"2023-09-27T07:13:03Z","author_association":"MEMBER","body":"I am clearly not the expert here on this to add documentation. \r\nI saw that we have `ADLSFileIO` and `GCSFileIO` classes in code. \r\nBut didn't find any catalog level examples or test cases for the same.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736832206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736836128","html_url":"https://github.com/apache/iceberg/issues/771#issuecomment-1736836128","issue_url":"https://api.github.com/repos/apache/iceberg/issues/771","id":1736836128,"node_id":"IC_kwDOCW7NX85nhgQg","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T07:16:06Z","updated_at":"2023-09-27T07:16:06Z","author_association":"CONTRIBUTOR","body":"Closing this since Spark 2.4 has been deprecated a while ago. Thanks for raising this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736836128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736836425","html_url":"https://github.com/apache/iceberg/issues/1005#issuecomment-1736836425","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1005","id":1736836425,"node_id":"IC_kwDOCW7NX85nhgVJ","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T07:16:21Z","updated_at":"2023-09-27T07:16:21Z","author_association":"CONTRIBUTOR","body":"Thanks for raising this. Closing this since Spark 2.4 has been deprecated a while ago.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736836425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736836615","html_url":"https://github.com/apache/iceberg/issues/1372#issuecomment-1736836615","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1372","id":1736836615,"node_id":"IC_kwDOCW7NX85nhgYH","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T07:16:29Z","updated_at":"2023-09-27T07:16:29Z","author_association":"CONTRIBUTOR","body":"Thanks for raising this. Closing this since Spark 2.4 has been deprecated a while ago.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736836615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736837083","html_url":"https://github.com/apache/iceberg/issues/1483#issuecomment-1736837083","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1483","id":1736837083,"node_id":"IC_kwDOCW7NX85nhgfb","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T07:16:51Z","updated_at":"2023-09-27T07:16:51Z","author_association":"CONTRIBUTOR","body":"Thanks for raising this. Closing this since Spark 2.4 has been deprecated a while ago.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736837083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736837900","html_url":"https://github.com/apache/iceberg/issues/1485#issuecomment-1736837900","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1485","id":1736837900,"node_id":"IC_kwDOCW7NX85nhgsM","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T07:17:27Z","updated_at":"2023-09-27T07:17:27Z","author_association":"CONTRIBUTOR","body":"Since everything is done on the Iceberg side, I'll go ahead and close this issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1736837900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737050491","html_url":"https://github.com/apache/iceberg/pull/7628#issuecomment-1737050491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7628","id":1737050491,"node_id":"IC_kwDOCW7NX85niUl7","user":{"login":"linyanghao","id":51444992,"node_id":"MDQ6VXNlcjUxNDQ0OTky","avatar_url":"https://avatars.githubusercontent.com/u/51444992?v=4","gravatar_id":"","url":"https://api.github.com/users/linyanghao","html_url":"https://github.com/linyanghao","followers_url":"https://api.github.com/users/linyanghao/followers","following_url":"https://api.github.com/users/linyanghao/following{/other_user}","gists_url":"https://api.github.com/users/linyanghao/gists{/gist_id}","starred_url":"https://api.github.com/users/linyanghao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyanghao/subscriptions","organizations_url":"https://api.github.com/users/linyanghao/orgs","repos_url":"https://api.github.com/users/linyanghao/repos","events_url":"https://api.github.com/users/linyanghao/events{/privacy}","received_events_url":"https://api.github.com/users/linyanghao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T09:35:02Z","updated_at":"2023-09-27T09:35:02Z","author_association":"CONTRIBUTOR","body":"@stevenzwu Sure. Thanks for reviewing! Also thanks @chenjunjiedada and @hililiwei for reviewing!\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737050491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737053175","html_url":"https://github.com/apache/iceberg/pull/7628#issuecomment-1737053175","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7628","id":1737053175,"node_id":"IC_kwDOCW7NX85niVP3","user":{"login":"linyanghao","id":51444992,"node_id":"MDQ6VXNlcjUxNDQ0OTky","avatar_url":"https://avatars.githubusercontent.com/u/51444992?v=4","gravatar_id":"","url":"https://api.github.com/users/linyanghao","html_url":"https://github.com/linyanghao","followers_url":"https://api.github.com/users/linyanghao/followers","following_url":"https://api.github.com/users/linyanghao/following{/other_user}","gists_url":"https://api.github.com/users/linyanghao/gists{/gist_id}","starred_url":"https://api.github.com/users/linyanghao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyanghao/subscriptions","organizations_url":"https://api.github.com/users/linyanghao/orgs","repos_url":"https://api.github.com/users/linyanghao/repos","events_url":"https://api.github.com/users/linyanghao/events{/privacy}","received_events_url":"https://api.github.com/users/linyanghao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T09:36:48Z","updated_at":"2023-09-27T09:36:48Z","author_association":"CONTRIBUTOR","body":"@stevenzwu Wait, Flink does not support ALTER TABLE in 1.16 yet. I guess we don't need to backport?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737053175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737155953","html_url":"https://github.com/apache/iceberg/pull/8659#issuecomment-1737155953","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8659","id":1737155953,"node_id":"IC_kwDOCW7NX85niuVx","user":{"login":"bitsondatadev","id":8547669,"node_id":"MDQ6VXNlcjg1NDc2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8547669?v=4","gravatar_id":"","url":"https://api.github.com/users/bitsondatadev","html_url":"https://github.com/bitsondatadev","followers_url":"https://api.github.com/users/bitsondatadev/followers","following_url":"https://api.github.com/users/bitsondatadev/following{/other_user}","gists_url":"https://api.github.com/users/bitsondatadev/gists{/gist_id}","starred_url":"https://api.github.com/users/bitsondatadev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitsondatadev/subscriptions","organizations_url":"https://api.github.com/users/bitsondatadev/orgs","repos_url":"https://api.github.com/users/bitsondatadev/repos","events_url":"https://api.github.com/users/bitsondatadev/events{/privacy}","received_events_url":"https://api.github.com/users/bitsondatadev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T10:47:19Z","updated_at":"2023-09-27T10:47:19Z","author_association":"COLLABORATOR","body":"> Great work @bitsondatadev\r\n> \r\n> Looks really nice and shiny! The layout reminds me of [another side](https://py.iceberg.apache.org/) that I like. Left a few comments and pointers, my main concern is that we don't clearly state the version (or dev) on the side, so it is not obvious to a user which version they are looking at.\r\n\r\nThanks @Fokko!\r\n\r\nYou touched on a few points I missed around my intended next steps. \r\n\r\nFinishing Phase 1:\r\n\r\n* Once 1.4.0 is released, cherry-pick/merge the changes between docs and build out all the release tags from 1.4.0 back to the earliest documentation versions we have. \r\n\r\n* Work with Fokko/ASF INFRA to get a preview site deployed (that doesn't step on any other existing site's urls.\r\n\r\n* Initially merge this under the docs_new folder to complete this first round of work. \r\n\r\nPhase 2:\r\n\r\n* Run a few cleanup PRs that address strictness links and build process. This will include adding and applying vale rules, linkchecker to the build, getting mkdocs to compile docs without any error, fixing search index around 'spark' keyword, working on version labels (dev) etc...\r\n\r\n* Simultaneously, fix the look and feel of these sites to move to the look and feel of the existing site.\r\n\r\n* Finally, once the links/syntax are all in check, replace docs/ with new_docs/ and move the site over to build in iceberg.apache.org domain.\r\n\r\nPhase 3: Will then be addressing the organization of the site (which is outlined under \"Phase 2\" in the design docs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737155953/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737199784","html_url":"https://github.com/apache/iceberg/pull/8659#issuecomment-1737199784","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8659","id":1737199784,"node_id":"IC_kwDOCW7NX85ni5Co","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T11:19:34Z","updated_at":"2023-09-27T11:19:34Z","author_association":"MEMBER","body":"@bitsondatadev: Is it possible to split into two PRs? \r\nOne is to move back the existing docs from iceberg-docs repo and another one is for refactoring? \r\nIt may be easy to review the incremental change for the second PR. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737199784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737244587","html_url":"https://github.com/apache/iceberg/pull/8659#issuecomment-1737244587","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8659","id":1737244587,"node_id":"IC_kwDOCW7NX85njD-r","user":{"login":"bitsondatadev","id":8547669,"node_id":"MDQ6VXNlcjg1NDc2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8547669?v=4","gravatar_id":"","url":"https://api.github.com/users/bitsondatadev","html_url":"https://github.com/bitsondatadev","followers_url":"https://api.github.com/users/bitsondatadev/followers","following_url":"https://api.github.com/users/bitsondatadev/following{/other_user}","gists_url":"https://api.github.com/users/bitsondatadev/gists{/gist_id}","starred_url":"https://api.github.com/users/bitsondatadev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitsondatadev/subscriptions","organizations_url":"https://api.github.com/users/bitsondatadev/orgs","repos_url":"https://api.github.com/users/bitsondatadev/repos","events_url":"https://api.github.com/users/bitsondatadev/events{/privacy}","received_events_url":"https://api.github.com/users/bitsondatadev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T11:53:13Z","updated_at":"2023-09-27T18:34:11Z","author_association":"COLLABORATOR","body":"@ajantha-bhat,what level of granularity do you suggest for the refactoring?\r\n\r\nIf you want me to treat the static content and versioned docs as separate changes, I don't see much value there. The hard part about this phase was making a single build process that could stitch multiple versioned docs and static docs into a single build. I need both of these elements to create such a system and showcase it to the community. There is little value in just copying the iceberg-docs over in its own PR IMO.\r\n\r\nOne possible thing I can do to minimize strain is to remove the Vale configs for now. This would actually remove about 60 files.\r\n\r\nI've also noted quite a bit of deadweight in the assets folder I can remove.\r\n\r\nI think that will limit the focus to the merging of the two sides side of the content.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737244587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737267434","html_url":"https://github.com/apache/iceberg/issues/8377#issuecomment-1737267434","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8377","id":1737267434,"node_id":"IC_kwDOCW7NX85njJjq","user":{"login":"sebastien-namy-cbp","id":40230405,"node_id":"MDQ6VXNlcjQwMjMwNDA1","avatar_url":"https://avatars.githubusercontent.com/u/40230405?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastien-namy-cbp","html_url":"https://github.com/sebastien-namy-cbp","followers_url":"https://api.github.com/users/sebastien-namy-cbp/followers","following_url":"https://api.github.com/users/sebastien-namy-cbp/following{/other_user}","gists_url":"https://api.github.com/users/sebastien-namy-cbp/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastien-namy-cbp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastien-namy-cbp/subscriptions","organizations_url":"https://api.github.com/users/sebastien-namy-cbp/orgs","repos_url":"https://api.github.com/users/sebastien-namy-cbp/repos","events_url":"https://api.github.com/users/sebastien-namy-cbp/events{/privacy}","received_events_url":"https://api.github.com/users/sebastien-namy-cbp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T12:09:48Z","updated_at":"2023-09-27T12:09:48Z","author_association":"NONE","body":"Thank you for your answer","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737267434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737434750","html_url":"https://github.com/apache/iceberg/issues/8601#issuecomment-1737434750","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8601","id":1737434750,"node_id":"IC_kwDOCW7NX85njyZ-","user":{"login":"Kontinuation","id":5501374,"node_id":"MDQ6VXNlcjU1MDEzNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/5501374?v=4","gravatar_id":"","url":"https://api.github.com/users/Kontinuation","html_url":"https://github.com/Kontinuation","followers_url":"https://api.github.com/users/Kontinuation/followers","following_url":"https://api.github.com/users/Kontinuation/following{/other_user}","gists_url":"https://api.github.com/users/Kontinuation/gists{/gist_id}","starred_url":"https://api.github.com/users/Kontinuation/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kontinuation/subscriptions","organizations_url":"https://api.github.com/users/Kontinuation/orgs","repos_url":"https://api.github.com/users/Kontinuation/repos","events_url":"https://api.github.com/users/Kontinuation/events{/privacy}","received_events_url":"https://api.github.com/users/Kontinuation/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T13:45:57Z","updated_at":"2023-09-27T13:45:57Z","author_association":"MEMBER","body":"> Can you confirm that this fixes the issue? I think changing to using `DefaultCredentialsProvider.builder().build()` makes sense. @amogh-jahagirdar thoughts on the issue described here?\r\n\r\nYes. I confirmed that this really fixed the issue.\r\n\r\nUsing a unique instance of DefaultCredentialsProvider per S3 client is also the default behavior of AWS SDK v2 (See [AwsDefaultClientBuilder.resolveCredentials](https://github.com/aws/aws-sdk-java-v2/blob/2.20.155/core/aws-core/src/main/java/software/amazon/awssdk/awscore/client/builder/AwsDefaultClientBuilder.java#L352-L359)). I think using `DefaultCredentialsProvider.builder().build()` is a reasonable fix, though it will send more requests for refresh credentials.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737434750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737446047","html_url":"https://github.com/apache/iceberg/pull/7628#issuecomment-1737446047","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7628","id":1737446047,"node_id":"IC_kwDOCW7NX85nj1Kf","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T13:52:11Z","updated_at":"2023-09-27T13:52:11Z","author_association":"CONTRIBUTOR","body":"if that's the case, yeah no need to back port","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737446047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737681347","html_url":"https://github.com/apache/iceberg/issues/8663#issuecomment-1737681347","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8663","id":1737681347,"node_id":"IC_kwDOCW7NX85nkunD","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T16:00:51Z","updated_at":"2023-09-27T16:00:51Z","author_association":"CONTRIBUTOR","body":"Hey @huanghanyu-vungle Thanks for opening this issue. With Spark you can run the [rewrite_data_files procedure](https://iceberg.apache.org/docs/latest/spark-procedures/#rewrite_data_files) to compact the files into bigger ones. No data will be lost. If you want to delete the old snapshots (containing the small files), you need to run [expire snapshots](https://iceberg.apache.org/docs/latest/spark-procedures/#expire_snapshots) periodically.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737681347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737702791","html_url":"https://github.com/apache/iceberg/pull/8661#issuecomment-1737702791","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8661","id":1737702791,"node_id":"IC_kwDOCW7NX85nkz2H","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T16:14:53Z","updated_at":"2023-09-27T16:16:20Z","author_association":"CONTRIBUTOR","body":"@Fokko, you are right that we did cherry-pick some changes to 3.1 but it is heavily behind in capabilities. There are some known limitations that may affect performance (e.g. the way we do cardinality check and distribute data on write, for example). Someone may test the brand new Iceberg jar with Spark 3.1 and think that's the best we offer.\r\n\r\nThat said, it is minor. I am debating this too and have no problem doing 1.4 with this module in. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737702791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737703738","html_url":"https://github.com/apache/iceberg/pull/8661#issuecomment-1737703738","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8661","id":1737703738,"node_id":"IC_kwDOCW7NX85nk0E6","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T16:15:33Z","updated_at":"2023-09-27T16:15:33Z","author_association":"CONTRIBUTOR","body":"@ajantha-bhat, I'd appreciate if you could help with the changes in core and docs in a follow-up PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737703738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737869609","html_url":"https://github.com/apache/iceberg/pull/8661#issuecomment-1737869609","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8661","id":1737869609,"node_id":"IC_kwDOCW7NX85nlckp","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T18:16:57Z","updated_at":"2023-09-27T18:16:57Z","author_association":"CONTRIBUTOR","body":"@danielcweeks @RussellSpitzer @rdblue, any thoughts on removing or keeping Spark 3.1 before 1.4?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737869609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737971524","html_url":"https://github.com/apache/iceberg/pull/8661#issuecomment-1737971524","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8661","id":1737971524,"node_id":"IC_kwDOCW7NX85nl1dE","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T19:38:46Z","updated_at":"2023-09-27T19:38:46Z","author_association":"MEMBER","body":"+1 On removing it now, I think any work on 3.1 is really just sunk costs. We don't gain that much and we are basically saying we will continue supporting 3.1 for any 1.4.x releases that may need to occur.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737971524/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737978577","html_url":"https://github.com/apache/iceberg/pull/8661#issuecomment-1737978577","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8661","id":1737978577,"node_id":"IC_kwDOCW7NX85nl3LR","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T19:44:54Z","updated_at":"2023-09-27T19:46:26Z","author_association":"CONTRIBUTOR","body":"I'm +1 on removing it as well (agree with @RussellSpitzer points).  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737978577/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737993174","html_url":"https://github.com/apache/iceberg/issues/8030#issuecomment-1737993174","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8030","id":1737993174,"node_id":"IC_kwDOCW7NX85nl6vW","user":{"login":"glesperance","id":611342,"node_id":"MDQ6VXNlcjYxMTM0Mg==","avatar_url":"https://avatars.githubusercontent.com/u/611342?v=4","gravatar_id":"","url":"https://api.github.com/users/glesperance","html_url":"https://github.com/glesperance","followers_url":"https://api.github.com/users/glesperance/followers","following_url":"https://api.github.com/users/glesperance/following{/other_user}","gists_url":"https://api.github.com/users/glesperance/gists{/gist_id}","starred_url":"https://api.github.com/users/glesperance/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glesperance/subscriptions","organizations_url":"https://api.github.com/users/glesperance/orgs","repos_url":"https://api.github.com/users/glesperance/repos","events_url":"https://api.github.com/users/glesperance/events{/privacy}","received_events_url":"https://api.github.com/users/glesperance/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T19:56:47Z","updated_at":"2023-09-27T19:56:47Z","author_association":"NONE","body":"@Fokko do you have any updates on this? I'm integrating ray into my codebase but I'm having to backport it to pydantic v1.10 -- is there perhaps a pre-release with v2 support?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1737993174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1738001930","html_url":"https://github.com/apache/iceberg/pull/8661#issuecomment-1738001930","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8661","id":1738001930,"node_id":"IC_kwDOCW7NX85nl84K","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T20:03:29Z","updated_at":"2023-09-27T20:03:29Z","author_association":"CONTRIBUTOR","body":"Agreed, let's remove now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1738001930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1738008456","html_url":"https://github.com/apache/iceberg/pull/8660#issuecomment-1738008456","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8660","id":1738008456,"node_id":"IC_kwDOCW7NX85nl-eI","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-27T20:08:53Z","updated_at":"2023-09-27T20:08:53Z","author_association":"CONTRIBUTOR","body":"Thank you, @rdblue @danielcweeks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1738008456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]