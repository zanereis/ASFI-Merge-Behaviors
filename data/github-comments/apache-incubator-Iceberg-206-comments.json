[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283182848","html_url":"https://github.com/apache/iceberg/pull/4925#issuecomment-1283182848","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4925","id":1283182848,"node_id":"IC_kwDOCW7NX85Me9EA","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T00:36:36Z","updated_at":"2022-10-19T00:36:36Z","author_association":"MEMBER","body":"@rdblue @danielcweeks @stevenzwu @amogh-jahagirdar @jackye1995 @nastra Please take another look.\r\n\r\nSummary of discussions:\r\n\r\n- ViewBuilder API focuses on SQL view first. Do not expose vague APIs to manage a list of representations.\r\n- Interface name `ViewVersion` not ideal, but no good alternative.\r\n- Version ID type is integer, not long.\r\n\r\nUsage example:\r\n\r\n```\r\nviewCatalog.buildView(ident)\r\n    .withSchema(schema)\r\n    .withQuery(\"SELECT foo FROM base\")\r\n    .withDialect(\"spark\")\r\n    .withDefaultCatalog(\"prodhive\")\r\n    .withDefaultNamespace(Collections.singleList(\"default\"))\r\n    .withProperty(\"k1\", \"v1\")\r\n    .withLocation(s3Loc)\r\n    .createOrReplace();\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283182848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283192034","html_url":"https://github.com/apache/iceberg/pull/6005#issuecomment-1283192034","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6005","id":1283192034,"node_id":"IC_kwDOCW7NX85Me_Ti","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T00:45:05Z","updated_at":"2022-10-19T00:45:05Z","author_association":"CONTRIBUTOR","body":"> @hililiwei, looks like we started getting test failures. Could you check? I will be able to check in 2 hours as well.\r\n> \r\n> ```\r\n> TestSnapshotUtil > oldestAncestor FAILED\r\n> [367](https://github.com/apache/iceberg/actions/runs/3277597635/jobs/5395173940#step:6:368)\r\n>     java.lang.AssertionError: expected:<2> but was:<1>\r\n> [368](https://github.com/apache/iceberg/actions/runs/3277597635/jobs/5395173940#step:6:369)\r\n>         at org.junit.Assert.fail(Assert.java:89)\r\n> [369](https://github.com/apache/iceberg/actions/runs/3277597635/jobs/5395173940#step:6:370)\r\n>         at org.junit.Assert.failNotEquals(Assert.java:835)\r\n> [370](https://github.com/apache/iceberg/actions/runs/3277597635/jobs/5395173940#step:6:371)\r\n>         at org.junit.Assert.assertEquals(Assert.java:647)\r\n> [371](https://github.com/apache/iceberg/actions/runs/3277597635/jobs/5395173940#step:6:372)\r\n>         at org.junit.Assert.assertEquals(Assert.java:633)\r\n> [372](https://github.com/apache/iceberg/actions/runs/3277597635/jobs/5395173940#step:6:373)\r\n>         at org.apache.iceberg.util.TestSnapshotUtil.oldestAncestor(TestSnapshotUtil.java:133)\r\n> ```\r\n\r\n@aokolnychyi Okay, let me check what went wrong.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283192034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283235500","html_url":"https://github.com/apache/iceberg/pull/6005#issuecomment-1283235500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6005","id":1283235500,"node_id":"IC_kwDOCW7NX85MfJ6s","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T01:19:59Z","updated_at":"2022-10-19T01:19:59Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi #6015 try to fix it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283235500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283251504","html_url":"https://github.com/apache/iceberg/pull/6015#issuecomment-1283251504","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6015","id":1283251504,"node_id":"IC_kwDOCW7NX85MfN0w","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T01:29:22Z","updated_at":"2022-10-19T01:32:48Z","author_association":"CONTRIBUTOR","body":"CI failed because spark3.2 was not formatted properly. format it together here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283251504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283276352","html_url":"https://github.com/apache/iceberg/pull/4925#issuecomment-1283276352","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4925","id":1283276352,"node_id":"IC_kwDOCW7NX85MfT5A","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T01:56:18Z","updated_at":"2022-10-19T01:56:18Z","author_association":"CONTRIBUTOR","body":"> * Interface name `ViewVersion` not ideal, but no good alternative.\r\n\r\nHow about `ViewMetadataVersion`, `ViewMetadataSnapshot`, or simply `MetadataSnapshot`?\r\n\r\nI am still unclear on whether we could store different dialects for the same definition as one version or multiple dialects (even for the same definition) imply different versions.\r\n\r\nRelated, how can a `ViewVersion` return a list of representations?\r\n\r\nFinally, what in the example you gave instructs building a `SQLViewRepresentation`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283276352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283319905","html_url":"https://github.com/apache/iceberg/pull/4925#issuecomment-1283319905","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4925","id":1283319905,"node_id":"IC_kwDOCW7NX85Mfehh","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T02:36:10Z","updated_at":"2022-10-19T02:36:10Z","author_association":"MEMBER","body":"> How about `ViewMetadataVersion`, `ViewMetadataSnapshot`\r\n\r\nLike `ViewMetadataVersion`.\r\n\r\n> I am still unclear on whether we could store different dialects for the same definition as one version or multiple dialects (even for the same definition) imply different versions.\r\n\r\nMultiple dialects are available at the same time, so in one version.\r\n\r\n> \r\n> Related, how can a `ViewVersion` return a list of representations?\r\n\r\nEach `Version` contains a list of representations. See view spec, section `Versions`.\r\n\r\n> \r\n> Finally, what in the example you gave instructs building a `SQLViewRepresentation`?\r\n\r\nIn the created `View`, current version contains a single SQL view representation.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283319905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283358600","html_url":"https://github.com/apache/iceberg/pull/4925#issuecomment-1283358600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4925","id":1283358600,"node_id":"IC_kwDOCW7NX85Mfn-I","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T03:17:08Z","updated_at":"2022-10-19T04:23:17Z","author_association":"CONTRIBUTOR","body":"> \r\n> Multiple dialects are available at the same time, so in one version.\r\n>\r\nWhat is an API example to achieve that?\r\n \r\n> Each `Version` contains a list of representations. See view spec, section `Versions`. \r\n> In the created `View`, current version contains a single SQL view representation.\r\n\r\nCould you clarify if the above two statements are consistent? It seems the former implies a version contains a list of representations and the latter indicates a version contains a single representation.\r\n\r\n>> Finally, what in the example you gave instructs building a SQLViewRepresentation?\r\n\r\nThis question was about how to implement the builder. Will this builder result in creating a `SQLViewRepresentation`? If yes, how would it know it should create a `SQLViewRepresentation` vs something else (e.g., not SQL representation)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283358600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283550122","html_url":"https://github.com/apache/iceberg/issues/5970#issuecomment-1283550122","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5970","id":1283550122,"node_id":"IC_kwDOCW7NX85MgWuq","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T07:23:42Z","updated_at":"2022-10-19T07:23:42Z","author_association":"CONTRIBUTOR","body":"We just released Iceberg 1.0.0 so you might try that as well (but it is basically 0.14.1 with some bug fixes). There was https://github.com/apache/iceberg/pull/5975 but it is rather related to Kryo.\r\n\r\nBtw I also noticed that your constructed URL for the jar doesn't work. You might want to change it to `https://repo1.maven.org/maven2/org/apache/iceberg/iceberg-spark-runtime-{spark_version}_{scala_version}/{iceberg_version}/iceberg-spark-runtime-{spark_version}_{scala_version}-{iceberg_version}.jar`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283550122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283564932","html_url":"https://github.com/apache/iceberg/pull/5837#issuecomment-1283564932","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5837","id":1283564932,"node_id":"IC_kwDOCW7NX85MgaWE","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T07:37:37Z","updated_at":"2022-10-19T07:37:37Z","author_association":"COLLABORATOR","body":"@nastra As you are very familiar with this area, would you mind taking a quick look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283564932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283590744","html_url":"https://github.com/apache/iceberg/pull/5313#issuecomment-1283590744","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5313","id":1283590744,"node_id":"IC_kwDOCW7NX85MggpY","user":{"login":"a49a","id":12015546,"node_id":"MDQ6VXNlcjEyMDE1NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/12015546?v=4","gravatar_id":"","url":"https://api.github.com/users/a49a","html_url":"https://github.com/a49a","followers_url":"https://api.github.com/users/a49a/followers","following_url":"https://api.github.com/users/a49a/following{/other_user}","gists_url":"https://api.github.com/users/a49a/gists{/gist_id}","starred_url":"https://api.github.com/users/a49a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a49a/subscriptions","organizations_url":"https://api.github.com/users/a49a/orgs","repos_url":"https://api.github.com/users/a49a/repos","events_url":"https://api.github.com/users/a49a/events{/privacy}","received_events_url":"https://api.github.com/users/a49a/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T08:00:35Z","updated_at":"2022-10-19T08:00:35Z","author_association":"CONTRIBUTOR","body":"@pvary Thank you for your feedback. I have added a test case to validate bloom filters in ORC files and push a new commit. \r\n@kbendick @pvary Please review this. Thanks a lot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283590744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283856651","html_url":"https://github.com/apache/iceberg/pull/5984#issuecomment-1283856651","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5984","id":1283856651,"node_id":"IC_kwDOCW7NX85MhhkL","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T11:26:34Z","updated_at":"2022-10-19T11:26:34Z","author_association":"CONTRIBUTOR","body":"@nastra Thanks for review, addressed the round of comments\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1283856651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284110029","html_url":"https://github.com/apache/iceberg/pull/6015#issuecomment-1284110029","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6015","id":1284110029,"node_id":"IC_kwDOCW7NX85MifbN","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T14:29:04Z","updated_at":"2022-10-19T14:29:04Z","author_association":"CONTRIBUTOR","body":"Thanks for a quick fix, @hililiwei!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284110029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284114749","html_url":"https://github.com/apache/iceberg/pull/5763#issuecomment-1284114749","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5763","id":1284114749,"node_id":"IC_kwDOCW7NX85Migk9","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T14:32:18Z","updated_at":"2022-10-19T14:32:18Z","author_association":"COLLABORATOR","body":"I think the broken build here is due to a flaky test in TestSnapshotUtil. https://github.com/apache/iceberg/commit/62eb74c5571c856bae5b32cacb6fb1ec4f380da9 this is meant to fix it but wasn't part of this build.\r\nIs there a way to re-execute the tests on this PR? (without pushing any new code to this review)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284114749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284296116","html_url":"https://github.com/apache/iceberg/issues/2789#issuecomment-1284296116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2789","id":1284296116,"node_id":"IC_kwDOCW7NX85MjM20","user":{"login":"be1001014rocks","id":28823048,"node_id":"MDQ6VXNlcjI4ODIzMDQ4","avatar_url":"https://avatars.githubusercontent.com/u/28823048?v=4","gravatar_id":"","url":"https://api.github.com/users/be1001014rocks","html_url":"https://github.com/be1001014rocks","followers_url":"https://api.github.com/users/be1001014rocks/followers","following_url":"https://api.github.com/users/be1001014rocks/following{/other_user}","gists_url":"https://api.github.com/users/be1001014rocks/gists{/gist_id}","starred_url":"https://api.github.com/users/be1001014rocks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/be1001014rocks/subscriptions","organizations_url":"https://api.github.com/users/be1001014rocks/orgs","repos_url":"https://api.github.com/users/be1001014rocks/repos","events_url":"https://api.github.com/users/be1001014rocks/events{/privacy}","received_events_url":"https://api.github.com/users/be1001014rocks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T16:44:25Z","updated_at":"2022-10-19T16:44:25Z","author_association":"NONE","body":"+1, looking forward to feature as it is one of the blocker's for our migration from delta (https://docs.delta.io/2.0.0/delta-streaming.html) to iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284296116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284325262","html_url":"https://github.com/apache/iceberg/pull/6014#issuecomment-1284325262","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6014","id":1284325262,"node_id":"IC_kwDOCW7NX85MjT-O","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T17:10:09Z","updated_at":"2022-10-19T17:10:09Z","author_association":"CONTRIBUTOR","body":"Thanks, @flyrain!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284325262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284332682","html_url":"https://github.com/apache/iceberg/pull/6019#issuecomment-1284332682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6019","id":1284332682,"node_id":"IC_kwDOCW7NX85MjVyK","user":{"login":"dhruv-pratap","id":11399509,"node_id":"MDQ6VXNlcjExMzk5NTA5","avatar_url":"https://avatars.githubusercontent.com/u/11399509?v=4","gravatar_id":"","url":"https://api.github.com/users/dhruv-pratap","html_url":"https://github.com/dhruv-pratap","followers_url":"https://api.github.com/users/dhruv-pratap/followers","following_url":"https://api.github.com/users/dhruv-pratap/following{/other_user}","gists_url":"https://api.github.com/users/dhruv-pratap/gists{/gist_id}","starred_url":"https://api.github.com/users/dhruv-pratap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhruv-pratap/subscriptions","organizations_url":"https://api.github.com/users/dhruv-pratap/orgs","repos_url":"https://api.github.com/users/dhruv-pratap/repos","events_url":"https://api.github.com/users/dhruv-pratap/events{/privacy}","received_events_url":"https://api.github.com/users/dhruv-pratap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T17:16:08Z","updated_at":"2022-10-19T17:32:16Z","author_association":"CONTRIBUTOR","body":"High level summary of changes done as part of the PR:\r\n1. Rest Catalog encapsulates a `requests.Session` \r\n2. Configure `Session` object with SSL config, if provided, during initialization.\r\n3. Configure existing headers one-time in the `session` object during initialization.\r\n4. Use the one-time initialized `Session` object for all further REST calls.\r\n5. Add unit tests for SSL config initiation, and enforce HTTP header checks in existing REST mock tests.\r\n6. Add documentation for REST Catalog client mTLS configuration.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284332682/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284353228","html_url":"https://github.com/apache/iceberg/pull/5981#issuecomment-1284353228","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5981","id":1284353228,"node_id":"IC_kwDOCW7NX85MjazM","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T17:33:48Z","updated_at":"2022-10-19T17:33:48Z","author_association":"CONTRIBUTOR","body":"Thanks, @amogh-jahagirdar! Looks great.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284353228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284358526","html_url":"https://github.com/apache/iceberg/pull/5981#issuecomment-1284358526","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5981","id":1284358526,"node_id":"IC_kwDOCW7NX85MjcF-","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T17:38:44Z","updated_at":"2022-10-19T17:38:44Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews @rdblue @kbendick @jackye1995 !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284358526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284422986","html_url":"https://github.com/apache/iceberg/issues/5970#issuecomment-1284422986","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5970","id":1284422986,"node_id":"IC_kwDOCW7NX85Mjr1K","user":{"login":"jornfranke","id":1659364,"node_id":"MDQ6VXNlcjE2NTkzNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1659364?v=4","gravatar_id":"","url":"https://api.github.com/users/jornfranke","html_url":"https://github.com/jornfranke","followers_url":"https://api.github.com/users/jornfranke/followers","following_url":"https://api.github.com/users/jornfranke/following{/other_user}","gists_url":"https://api.github.com/users/jornfranke/gists{/gist_id}","starred_url":"https://api.github.com/users/jornfranke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jornfranke/subscriptions","organizations_url":"https://api.github.com/users/jornfranke/orgs","repos_url":"https://api.github.com/users/jornfranke/repos","events_url":"https://api.github.com/users/jornfranke/events{/privacy}","received_events_url":"https://api.github.com/users/jornfranke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T18:38:16Z","updated_at":"2022-10-19T18:38:16Z","author_association":"NONE","body":"Thanks! 1.0.0 does not work. I suspect that somewhere is an outdated version of Apache Iceberg on the cluster that conflicts with 0.14.1 and 1.0.0. I will need to do more investigation.\r\n\r\nAbout the URL - copy and paste mistake - the original one was the same as you had. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284422986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284428712","html_url":"https://github.com/apache/iceberg/pull/4925#issuecomment-1284428712","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4925","id":1284428712,"node_id":"IC_kwDOCW7NX85MjtOo","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T18:43:27Z","updated_at":"2022-10-19T18:43:27Z","author_association":"MEMBER","body":"> > Multiple dialects are available at the same time, so in one version.\r\n> \r\n> What is an API example to achieve that?\r\n\r\nNot exposed currently. Do you have a use case? What do u need in the API to achieve it?\r\n\r\n> \r\n> > Each `Version` contains a list of representations. See view spec, section `Versions`.\r\n> > In the created `View`, current version contains a single SQL view representation.\r\n> \r\n> Could you clarify if the above two statements are consistent? It seems the former implies a version contains a list of representations and the latter indicates a version contains a single representation.\r\n\r\nWhat I meant was the current builder API only supports creating a view view with a single representation, but the view spec and on-disk format does support multiple representations.\r\n\r\n> \r\n> > > Finally, what in the example you gave instructs building a SQLViewRepresentation?\r\n> \r\n> This question was about how to implement the builder. Will this builder result in creating a `SQLViewRepresentation`? If yes, how would it know it should create a `SQLViewRepresentation` vs something else (e.g., not SQL representation)?\r\n\r\nYes. The current view builder only supports SQLViewRepresentation. For other representations, one idea is to add more `withXXX` methods. Any suggestion?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284428712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284470303","html_url":"https://github.com/apache/iceberg/pull/4925#issuecomment-1284470303","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4925","id":1284470303,"node_id":"IC_kwDOCW7NX85Mj3Yf","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T19:23:31Z","updated_at":"2022-10-19T20:24:55Z","author_association":"CONTRIBUTOR","body":"> Not exposed currently. Do you have a use case? What do u need in the API to achieve it?\r\n\r\nI do not necessarily have a use case, but was trying to understand the API contracts. It sounds like something that should be either explicitly supported or not supported by the API (i.e., without having to introduce a backward incompatibility in the future to support it), and probably we should show a pathway for this API to be compatible with the spec.\r\n\r\nAs a follow up, in case both multiple representations could share the same version, and additional representations could end up with a new version, semantically what does a new version mean? Is it an addition to the previous version, or a replacement? For example, if I add the Spark representation in one version and the equivalent Trino representation in another (same query but with different syntax), is it allowed? Should Spark queries start to fail?\r\n\r\n> Yes. The current view builder only supports SQLViewRepresentation. For other representations, one idea is to add more withXXX methods. Any suggestion?\r\n\r\nJust making sure that `withQuery` is the one that signifies the `SQLViewRepresentation`. It sounded there was another source to express the fact that it is a SQL view (e.g., the fact that the dialect is Spark). Would be good to find out how to normalize those things (so there are not two independent hints about the same representation).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284470303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284518979","html_url":"https://github.com/apache/iceberg/issues/5993#issuecomment-1284518979","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5993","id":1284518979,"node_id":"IC_kwDOCW7NX85MkDRD","user":{"login":"gar3thjon3s","id":5753,"node_id":"MDQ6VXNlcjU3NTM=","avatar_url":"https://avatars.githubusercontent.com/u/5753?v=4","gravatar_id":"","url":"https://api.github.com/users/gar3thjon3s","html_url":"https://github.com/gar3thjon3s","followers_url":"https://api.github.com/users/gar3thjon3s/followers","following_url":"https://api.github.com/users/gar3thjon3s/following{/other_user}","gists_url":"https://api.github.com/users/gar3thjon3s/gists{/gist_id}","starred_url":"https://api.github.com/users/gar3thjon3s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gar3thjon3s/subscriptions","organizations_url":"https://api.github.com/users/gar3thjon3s/orgs","repos_url":"https://api.github.com/users/gar3thjon3s/repos","events_url":"https://api.github.com/users/gar3thjon3s/events{/privacy}","received_events_url":"https://api.github.com/users/gar3thjon3s/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T20:10:46Z","updated_at":"2022-10-19T20:10:46Z","author_association":"NONE","body":"It's a typo in the docker-compose.yml file - I had the same problem:\r\n\r\nreplace `PYSPARK_PYTON` -> `PYSPARK_PYTHON`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284518979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284715472","html_url":"https://github.com/apache/iceberg/pull/2276#issuecomment-1284715472","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2276","id":1284715472,"node_id":"IC_kwDOCW7NX85MkzPQ","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T23:55:44Z","updated_at":"2022-10-26T21:28:09Z","author_association":"CONTRIBUTOR","body":"@rdblue @sunchao, I am wondering about storage-partitioned joins if we have more than one spec.\r\n\r\nWhenever there are multiple specs in a table, we usually compute a common partition type, which represents a union of all specs in the table. If a file belongs to a partition spec that did not include a particular partition column in the common partition type, we would mark it as null.\r\n\r\n```\r\nColumns: c1, c2, c3, c4, c5\r\nSpec 1: part1 as identity(c1)\r\nSpec 2: part1 as identity(c1), part2 as identity(c2)\r\n\r\nFile A written with spec 1: (part1 = 'Q', part2 = null) // part2 is null as part2 is not part of spec 1\r\nFile B written with spec 2: (part1 = 'Q', part2 = 'W') // part2 is set as it is part of spec 2\r\n```\r\n\r\nNow suppose we have a target table that has two partition specs:\r\n\r\n```\r\nSpec 1: identity(c1), identity(c2)\r\nSpec 2: identity(c1), identity(c2), identity(c3)\r\n```\r\n\r\nAnd a source table with only one spec:\r\n\r\n```\r\nSpec 1: `identity(c1)`, `identity(c2)`, `identity(c3)`\r\n```\r\n\r\n```\r\n- target table -\r\nFile T_A (part1 = A, part2 = A, part3 = null) (c3 values are random) (uses old spec with 2 columns)\r\nFile T_B (part1 = A, part2 = A, part3 = 5) (c3 values are all 5) (uses new spec with 3 columns)\r\nFile T_C (part1 = A, part2 = A, part3 = null) (c3 values are all null) (uses new spec with 3 columns)\r\n\r\n- source table - \r\nFile S_A (part1 = A, part2 = A, part3 = 5) (c3 values are all 5) (uses new spec with 3 columns)\r\nFile S_B (part1 = A, part2 = A, part3 = null) (c3 values are all null) (uses new spec with 3 columns)\r\n```\r\n\r\nSpark will treat `T_A` and and `S_B` as splits that belong to the same partition even though it may not be safe if the join condition includes `t.c3 = s.c3`.\r\n\r\nIt seems we can report `KeyGroupPartitioning` to Spark only on columns that were present in all partition specs that are being queried. Any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284715472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284729938","html_url":"https://github.com/apache/iceberg/issues/4616#issuecomment-1284729938","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4616","id":1284729938,"node_id":"IC_kwDOCW7NX85Mk2xS","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T00:19:24Z","updated_at":"2022-10-20T00:19:24Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284729938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284729979","html_url":"https://github.com/apache/iceberg/issues/4476#issuecomment-1284729979","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4476","id":1284729979,"node_id":"IC_kwDOCW7NX85Mk2x7","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T00:19:28Z","updated_at":"2022-10-20T00:19:28Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284729979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284817401","html_url":"https://github.com/apache/iceberg/pull/5836#issuecomment-1284817401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5836","id":1284817401,"node_id":"IC_kwDOCW7NX85MlMH5","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T02:19:44Z","updated_at":"2022-10-20T02:19:44Z","author_association":"COLLABORATOR","body":"@rdblue @nastra gentle ping","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284817401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284867853","html_url":"https://github.com/apache/iceberg/issues/6021#issuecomment-1284867853","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6021","id":1284867853,"node_id":"IC_kwDOCW7NX85MlYcN","user":{"login":"MrDannyWu","id":19458048,"node_id":"MDQ6VXNlcjE5NDU4MDQ4","avatar_url":"https://avatars.githubusercontent.com/u/19458048?v=4","gravatar_id":"","url":"https://api.github.com/users/MrDannyWu","html_url":"https://github.com/MrDannyWu","followers_url":"https://api.github.com/users/MrDannyWu/followers","following_url":"https://api.github.com/users/MrDannyWu/following{/other_user}","gists_url":"https://api.github.com/users/MrDannyWu/gists{/gist_id}","starred_url":"https://api.github.com/users/MrDannyWu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrDannyWu/subscriptions","organizations_url":"https://api.github.com/users/MrDannyWu/orgs","repos_url":"https://api.github.com/users/MrDannyWu/repos","events_url":"https://api.github.com/users/MrDannyWu/events{/privacy}","received_events_url":"https://api.github.com/users/MrDannyWu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T03:28:24Z","updated_at":"2022-10-20T03:28:24Z","author_association":"NONE","body":"I have set the primary key according to the official documentation and set upsert enable;","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1284867853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285033773","html_url":"https://github.com/apache/iceberg/issues/4557#issuecomment-1285033773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4557","id":1285033773,"node_id":"IC_kwDOCW7NX85MmA8t","user":{"login":"chenwyi2","id":19389434,"node_id":"MDQ6VXNlcjE5Mzg5NDM0","avatar_url":"https://avatars.githubusercontent.com/u/19389434?v=4","gravatar_id":"","url":"https://api.github.com/users/chenwyi2","html_url":"https://github.com/chenwyi2","followers_url":"https://api.github.com/users/chenwyi2/followers","following_url":"https://api.github.com/users/chenwyi2/following{/other_user}","gists_url":"https://api.github.com/users/chenwyi2/gists{/gist_id}","starred_url":"https://api.github.com/users/chenwyi2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenwyi2/subscriptions","organizations_url":"https://api.github.com/users/chenwyi2/orgs","repos_url":"https://api.github.com/users/chenwyi2/repos","events_url":"https://api.github.com/users/chenwyi2/events{/privacy}","received_events_url":"https://api.github.com/users/chenwyi2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T06:54:01Z","updated_at":"2022-10-20T06:54:01Z","author_association":"NONE","body":"is this solved? i have this problem, too","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285033773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285043100","html_url":"https://github.com/apache/iceberg/pull/5313#issuecomment-1285043100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5313","id":1285043100,"node_id":"IC_kwDOCW7NX85MmDOc","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T07:03:29Z","updated_at":"2022-10-20T07:03:29Z","author_association":"CONTRIBUTOR","body":"@deadwind4: Could you please check the failed tests.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285043100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285079618","html_url":"https://github.com/apache/iceberg/pull/5763#issuecomment-1285079618","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5763","id":1285079618,"node_id":"IC_kwDOCW7NX85MmMJC","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T07:37:37Z","updated_at":"2022-10-20T07:37:37Z","author_association":"CONTRIBUTOR","body":"@gaborkaszab: Could you please check the failed test? Otherwise LGTM +1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285079618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285082782","html_url":"https://github.com/apache/iceberg/pull/5763#issuecomment-1285082782","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5763","id":1285082782,"node_id":"IC_kwDOCW7NX85MmM6e","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T07:40:22Z","updated_at":"2022-10-20T07:40:22Z","author_association":"CONTRIBUTOR","body":"> I think the broken build here is due to a flaky test in TestSnapshotUtil. [62eb74c](https://github.com/apache/iceberg/commit/62eb74c5571c856bae5b32cacb6fb1ec4f380da9) this is meant to fix it but wasn't part of this build. Is there a way to re-execute the tests on this PR? (without pushing any new code to this review)\r\n\r\nI would just change the comment of the last commit and force push to the branch","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285082782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285220982","html_url":"https://github.com/apache/iceberg/issues/6021#issuecomment-1285220982","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6021","id":1285220982,"node_id":"IC_kwDOCW7NX85Mmup2","user":{"login":"xuzhiwen1255","id":105710753,"node_id":"U_kgDOBk0EoQ","avatar_url":"https://avatars.githubusercontent.com/u/105710753?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhiwen1255","html_url":"https://github.com/xuzhiwen1255","followers_url":"https://api.github.com/users/xuzhiwen1255/followers","following_url":"https://api.github.com/users/xuzhiwen1255/following{/other_user}","gists_url":"https://api.github.com/users/xuzhiwen1255/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhiwen1255/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhiwen1255/subscriptions","organizations_url":"https://api.github.com/users/xuzhiwen1255/orgs","repos_url":"https://api.github.com/users/xuzhiwen1255/repos","events_url":"https://api.github.com/users/xuzhiwen1255/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhiwen1255/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T09:28:18Z","updated_at":"2022-10-20T09:28:18Z","author_association":"CONTRIBUTOR","body":"Can you look at your sql?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285220982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285252418","html_url":"https://github.com/apache/iceberg/pull/5313#issuecomment-1285252418","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5313","id":1285252418,"node_id":"IC_kwDOCW7NX85Mm2VC","user":{"login":"a49a","id":12015546,"node_id":"MDQ6VXNlcjEyMDE1NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/12015546?v=4","gravatar_id":"","url":"https://api.github.com/users/a49a","html_url":"https://github.com/a49a","followers_url":"https://api.github.com/users/a49a/followers","following_url":"https://api.github.com/users/a49a/following{/other_user}","gists_url":"https://api.github.com/users/a49a/gists{/gist_id}","starred_url":"https://api.github.com/users/a49a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a49a/subscriptions","organizations_url":"https://api.github.com/users/a49a/orgs","repos_url":"https://api.github.com/users/a49a/repos","events_url":"https://api.github.com/users/a49a/events{/privacy}","received_events_url":"https://api.github.com/users/a49a/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T09:54:45Z","updated_at":"2022-10-20T09:54:45Z","author_association":"CONTRIBUTOR","body":"@pvary All checks have passed after I rebased the code and reran the CI.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285252418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285254705","html_url":"https://github.com/apache/iceberg/pull/5693#issuecomment-1285254705","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5693","id":1285254705,"node_id":"IC_kwDOCW7NX85Mm24x","user":{"login":"linyanghao","id":51444992,"node_id":"MDQ6VXNlcjUxNDQ0OTky","avatar_url":"https://avatars.githubusercontent.com/u/51444992?v=4","gravatar_id":"","url":"https://api.github.com/users/linyanghao","html_url":"https://github.com/linyanghao","followers_url":"https://api.github.com/users/linyanghao/followers","following_url":"https://api.github.com/users/linyanghao/following{/other_user}","gists_url":"https://api.github.com/users/linyanghao/gists{/gist_id}","starred_url":"https://api.github.com/users/linyanghao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyanghao/subscriptions","organizations_url":"https://api.github.com/users/linyanghao/orgs","repos_url":"https://api.github.com/users/linyanghao/repos","events_url":"https://api.github.com/users/linyanghao/events{/privacy}","received_events_url":"https://api.github.com/users/linyanghao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T09:56:40Z","updated_at":"2022-10-20T09:56:40Z","author_association":"CONTRIBUTOR","body":"> changes make sense to me, but I'm unsure about their implications. @RussellSpitzer could you review this one as well please?\r\n\r\n@RussellSpitzer doesn't seem to be active recently. Should we ask other people for the review? @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285254705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285297768","html_url":"https://github.com/apache/iceberg/issues/6021#issuecomment-1285297768","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6021","id":1285297768,"node_id":"IC_kwDOCW7NX85MnBZo","user":{"login":"MrDannyWu","id":19458048,"node_id":"MDQ6VXNlcjE5NDU4MDQ4","avatar_url":"https://avatars.githubusercontent.com/u/19458048?v=4","gravatar_id":"","url":"https://api.github.com/users/MrDannyWu","html_url":"https://github.com/MrDannyWu","followers_url":"https://api.github.com/users/MrDannyWu/followers","following_url":"https://api.github.com/users/MrDannyWu/following{/other_user}","gists_url":"https://api.github.com/users/MrDannyWu/gists{/gist_id}","starred_url":"https://api.github.com/users/MrDannyWu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrDannyWu/subscriptions","organizations_url":"https://api.github.com/users/MrDannyWu/orgs","repos_url":"https://api.github.com/users/MrDannyWu/repos","events_url":"https://api.github.com/users/MrDannyWu/events{/privacy}","received_events_url":"https://api.github.com/users/MrDannyWu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T10:27:06Z","updated_at":"2022-10-20T10:27:06Z","author_association":"NONE","body":"> Can you look at your sql?\r\n\r\nThank you for your reply and help, I will provide you with my steps.\r\n\r\nThe background of the problem is that I want to synchronize mysql data to Iceberg (Hive Catalog) through Flink CDC. The default is to write to Iceberg in Append mode. If there is update or delete, there will be duplicate data. If I want to use Upsert mode, there is a problem. In fact, I just want to know how to write Iceberg (Hive Catalog) through Upsert.\r\n\r\nstep 1: create table on hive\r\n\r\nSET engine.hive.enabled=true;\r\nSET iceberg.engine.hive.enabled=true;\r\nSET iceberg.mr.catalog=hive;\r\nSET hive.vectorized.execution.enabled=false;\r\nadd jar /soft/iceberg-hive-runtime-1.0.0.jar;\r\n\r\nCREATE EXTERNAL TABLE ods_data_1_1(\r\n    `id` BIGINT,\r\n    `name` STRING,\r\n    `age` BIGINT,\r\n    `gender` STRING,\r\n    `amount` BIGINT,\r\n    `geohash_code` STRING,\r\n    `status` BIGINT,\r\n    `location` STRING,\r\n    PRIMARY KEY (`id`) NOT ENFORCED\r\n    )\r\nSTORED BY 'org.apache.iceberg.mr.hive.HiveIcebergStorageHandler'\r\nLOCATION 'hdfs://nn-1:8020/user/hive/warehouse/danny_test/ods_data_1_1'\r\nTBLPROPERTIES (\r\n    'format-version'='2',\r\n    'iceberg.mr.catalog'='hadoop',\r\n    'iceberg.mr.catalog.hadoop.warehouse.location'='hdfs://nn-1:8020/user/hive/warehouse/danny_test/ods_data_1_1',\r\n    'write.upsert.enabled'='true',\r\n    'write.metadata.delete-after-commit.enabled'='true',\r\n    'write.metadata.previous-versions-max'='2'\r\n  );\r\n\r\nstep 2:Flink CDC\r\nSET execution.checkpointing.interval = 3s;\r\nSET execution.result-mode=table;\r\nSET execution.result-mode=tableau;\r\nSET yarn.application.queue=root;\r\n\r\n# create source table\r\nCREATE TABLE ods_data_1_1 (\r\n    `id` BIGINT,\r\n    `name` STRING,\r\n    `age` BIGINT,\r\n    `gender` STRING,\r\n    `amount` BIGINT,\r\n    `geohash_code` STRING,\r\n    `status` BIGINT,\r\n    `location` STRING,\r\n    PRIMARY KEY (`id`) NOT ENFORCED\r\n  ) WITH (\r\n    'connector' = 'mysql-cdc',\r\n    'hostname' = 'x.x.x.x',\r\n    'port' = '3306',\r\n    'username' = 'name',\r\n    'password' = 'pass',\r\n    'database-name' = 'db1',\r\n    'table-name' = 'tb1'\r\n  );\r\n\r\n# create catalog\r\nCREATE CATALOG ice WITH (\r\n  'type'='iceberg',\r\n  'catalog-type'='hive',\r\n  'uri'='thrift://nn-1:9083',\r\n  'clients'='5',\r\n  'property-version'='1',\r\n  'warehouse'='hdfs://nn-1:8020/user/hive/warehouse/'\r\n);\r\n\r\n# submit job\r\ninsert into ice.danny_test.ods_data_1_1  select * from ods_data_1_1 ;\r\nreport error:\r\n>[ERROR] Could not execute SQL statement. Reason:\r\njava.lang.IllegalStateException: Equality field columns shouldn't be empty when configuring to use UPSERT data stream.\r\n\r\n# PS\r\nFlink 14.4 iceberg 1.0.0 hive 3.x\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285297768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285318475","html_url":"https://github.com/apache/iceberg/pull/2909#issuecomment-1285318475","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2909","id":1285318475,"node_id":"IC_kwDOCW7NX85MnGdL","user":{"login":"likyh","id":3294100,"node_id":"MDQ6VXNlcjMyOTQxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/3294100?v=4","gravatar_id":"","url":"https://api.github.com/users/likyh","html_url":"https://github.com/likyh","followers_url":"https://api.github.com/users/likyh/followers","following_url":"https://api.github.com/users/likyh/following{/other_user}","gists_url":"https://api.github.com/users/likyh/gists{/gist_id}","starred_url":"https://api.github.com/users/likyh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/likyh/subscriptions","organizations_url":"https://api.github.com/users/likyh/orgs","repos_url":"https://api.github.com/users/likyh/repos","events_url":"https://api.github.com/users/likyh/events{/privacy}","received_events_url":"https://api.github.com/users/likyh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T10:45:28Z","updated_at":"2022-10-20T10:45:56Z","author_association":"NONE","body":"Hi, I'm also a committer of apache. I have added a user to `collaborators` but it has no effect. \r\n\r\n> Since I was able to add only a subset of the people who were approved in the aforementioned private@iceberg thread, I based my selection on the total number of commits and the tempo of recent contributions.\r\n\r\nI find you mention approving in the aforementioned private@iceberg thread. Would you like to explain how to approve them? Thanks a lot for your help.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285318475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285361971","html_url":"https://github.com/apache/iceberg/pull/5763#issuecomment-1285361971","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5763","id":1285361971,"node_id":"IC_kwDOCW7NX85MnREz","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T11:27:12Z","updated_at":"2022-10-20T11:27:12Z","author_association":"COLLABORATOR","body":"> > I think the broken build here is due to a flaky test in TestSnapshotUtil. [62eb74c](https://github.com/apache/iceberg/commit/62eb74c5571c856bae5b32cacb6fb1ec4f380da9) this is meant to fix it but wasn't part of this build. Is there a way to re-execute the tests on this PR? (without pushing any new code to this review)\r\n> \r\n> I would just change the comment of the last commit and force push to the branch\r\n\r\nthx. a rebase and a re-run helped.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285361971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285372540","html_url":"https://github.com/apache/iceberg/issues/6021#issuecomment-1285372540","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6021","id":1285372540,"node_id":"IC_kwDOCW7NX85MnTp8","user":{"login":"xuzhiwen1255","id":105710753,"node_id":"U_kgDOBk0EoQ","avatar_url":"https://avatars.githubusercontent.com/u/105710753?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhiwen1255","html_url":"https://github.com/xuzhiwen1255","followers_url":"https://api.github.com/users/xuzhiwen1255/followers","following_url":"https://api.github.com/users/xuzhiwen1255/following{/other_user}","gists_url":"https://api.github.com/users/xuzhiwen1255/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhiwen1255/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhiwen1255/subscriptions","organizations_url":"https://api.github.com/users/xuzhiwen1255/orgs","repos_url":"https://api.github.com/users/xuzhiwen1255/repos","events_url":"https://api.github.com/users/xuzhiwen1255/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhiwen1255/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T11:33:14Z","updated_at":"2022-10-20T11:33:14Z","author_association":"CONTRIBUTOR","body":"I am not sure whether the primary key of a table in hive can be applied to the primary key of a table in flink, because I rarely use hive and I am not familiar with it. I can try the sql client show create table in flink to check whether the table is created with a primary key.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285372540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285477060","html_url":"https://github.com/apache/iceberg/issues/6021#issuecomment-1285477060","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6021","id":1285477060,"node_id":"IC_kwDOCW7NX85MntLE","user":{"login":"MrDannyWu","id":19458048,"node_id":"MDQ6VXNlcjE5NDU4MDQ4","avatar_url":"https://avatars.githubusercontent.com/u/19458048?v=4","gravatar_id":"","url":"https://api.github.com/users/MrDannyWu","html_url":"https://github.com/MrDannyWu","followers_url":"https://api.github.com/users/MrDannyWu/followers","following_url":"https://api.github.com/users/MrDannyWu/following{/other_user}","gists_url":"https://api.github.com/users/MrDannyWu/gists{/gist_id}","starred_url":"https://api.github.com/users/MrDannyWu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrDannyWu/subscriptions","organizations_url":"https://api.github.com/users/MrDannyWu/orgs","repos_url":"https://api.github.com/users/MrDannyWu/repos","events_url":"https://api.github.com/users/MrDannyWu/events{/privacy}","received_events_url":"https://api.github.com/users/MrDannyWu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T12:41:33Z","updated_at":"2022-10-20T12:41:33Z","author_association":"NONE","body":"OK,the reason why I use hive to create a table is that I use flink sql to\ncreate an iceberg table, but the data cannot be queried in hive.\n\nOn Thu, Oct 20, 2022 at 7:33 PM xzw_deepnova ***@***.***>\nwrote:\n\n> I am not sure whether the primary key of a table in hive can be applied to\n> the primary key of a table in flink, because I rarely use hive and I am not\n> familiar with it. I can try the sql client show create table in flink to\n> check whether the table is created with a primary key.\n>\n> \n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/6021#issuecomment-1285372540>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AEUOQAGYIBJ6FAWG4J64OEDWEEUYJANCNFSM6AAAAAARJWQIBY>\n> .\n> You are receiving this because you authored the thread.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285477060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285672772","html_url":"https://github.com/apache/iceberg/issues/4557#issuecomment-1285672772","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4557","id":1285672772,"node_id":"IC_kwDOCW7NX85Moc9E","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T14:44:48Z","updated_at":"2022-10-20T14:44:48Z","author_association":"CONTRIBUTOR","body":"Do you have a concurrent compaction/cleanup job which removes orphan files?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285672772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285677121","html_url":"https://github.com/apache/iceberg/pull/5313#issuecomment-1285677121","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5313","id":1285677121,"node_id":"IC_kwDOCW7NX85MoeBB","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T14:47:50Z","updated_at":"2022-10-20T14:47:50Z","author_association":"CONTRIBUTOR","body":"Thanks @deadwind4 for the PR and @kbendick for the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285677121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285799673","html_url":"https://github.com/apache/iceberg/pull/2276#issuecomment-1285799673","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2276","id":1285799673,"node_id":"IC_kwDOCW7NX85Mo775","user":{"login":"sunchao","id":506679,"node_id":"MDQ6VXNlcjUwNjY3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/506679?v=4","gravatar_id":"","url":"https://api.github.com/users/sunchao","html_url":"https://github.com/sunchao","followers_url":"https://api.github.com/users/sunchao/followers","following_url":"https://api.github.com/users/sunchao/following{/other_user}","gists_url":"https://api.github.com/users/sunchao/gists{/gist_id}","starred_url":"https://api.github.com/users/sunchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunchao/subscriptions","organizations_url":"https://api.github.com/users/sunchao/orgs","repos_url":"https://api.github.com/users/sunchao/repos","events_url":"https://api.github.com/users/sunchao/events{/privacy}","received_events_url":"https://api.github.com/users/sunchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T15:57:14Z","updated_at":"2022-10-20T15:57:14Z","author_association":"MEMBER","body":"@aokolnychyi so in the case of non-storage partition join, the random values of `c3` in file `T_A` will be used if we have a join condition like `t.c3 = s.c3`, instead of `null`, is that correct? seems in this case the column `c3` of the target table evolved from a non-partition column to a partition column.\r\n\r\nAlso for file `T_A`, the method `ContentFile.partition` will return `(part 1 = A, part2 = A)`?\r\n\r\n> It seems we can report KeyGroupPartitioning to Spark only on columns that were present in all partition specs that are being queried. Any thoughts?\r\n\r\nI think this probably is a safe solution. We can also derive the common columns after Iceberg has done partition pruning, so in that case if the file `F_A` is not selected as result of pruning, we can still report `c1`, `c2` and `c3` to Spark.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285799673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285863344","html_url":"https://github.com/apache/iceberg/pull/5989#issuecomment-1285863344","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5989","id":1285863344,"node_id":"IC_kwDOCW7NX85MpLew","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T16:48:06Z","updated_at":"2022-10-20T16:48:06Z","author_association":"CONTRIBUTOR","body":"@pavibhai, this looks reasonable to me. The reason why we haven't done this in the past is that we typically expect `hive-site.xml` to be used for deploying these settings. When that's the case, then we don't want to add more complexity. However, properties that may be specific to a catalog are good candidates for forwarding from catalog configuration.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285863344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285934329","html_url":"https://github.com/apache/iceberg/pull/5989#issuecomment-1285934329","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5989","id":1285934329,"node_id":"IC_kwDOCW7NX85Mpcz5","user":{"login":"pavibhai","id":7353275,"node_id":"MDQ6VXNlcjczNTMyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/7353275?v=4","gravatar_id":"","url":"https://api.github.com/users/pavibhai","html_url":"https://github.com/pavibhai","followers_url":"https://api.github.com/users/pavibhai/followers","following_url":"https://api.github.com/users/pavibhai/following{/other_user}","gists_url":"https://api.github.com/users/pavibhai/gists{/gist_id}","starred_url":"https://api.github.com/users/pavibhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavibhai/subscriptions","organizations_url":"https://api.github.com/users/pavibhai/orgs","repos_url":"https://api.github.com/users/pavibhai/repos","events_url":"https://api.github.com/users/pavibhai/events{/privacy}","received_events_url":"https://api.github.com/users/pavibhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T17:53:51Z","updated_at":"2022-10-20T17:53:51Z","author_association":"CONTRIBUTOR","body":"> When that's the case, then we don't want to add more complexity. However, properties that may be specific to a catalog are good candidates for forwarding from catalog configuration.\r\nThanks @rdblue for taking a look. This is exactly how we are using as well, all the common properties are derived from other means e.g. hive-site.xml but the specific properties are configured at the catalog level.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285934329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285936547","html_url":"https://github.com/apache/iceberg/pull/5989#issuecomment-1285936547","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5989","id":1285936547,"node_id":"IC_kwDOCW7NX85MpdWj","user":{"login":"pavibhai","id":7353275,"node_id":"MDQ6VXNlcjczNTMyNzU=","avatar_url":"https://avatars.githubusercontent.com/u/7353275?v=4","gravatar_id":"","url":"https://api.github.com/users/pavibhai","html_url":"https://github.com/pavibhai","followers_url":"https://api.github.com/users/pavibhai/followers","following_url":"https://api.github.com/users/pavibhai/following{/other_user}","gists_url":"https://api.github.com/users/pavibhai/gists{/gist_id}","starred_url":"https://api.github.com/users/pavibhai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavibhai/subscriptions","organizations_url":"https://api.github.com/users/pavibhai/orgs","repos_url":"https://api.github.com/users/pavibhai/repos","events_url":"https://api.github.com/users/pavibhai/events{/privacy}","received_events_url":"https://api.github.com/users/pavibhai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T17:55:54Z","updated_at":"2022-10-20T17:55:54Z","author_association":"CONTRIBUTOR","body":"> Looks good to me. I'd just like to have the formatting fixed.\r\n\r\n@rdblue I have addressed this, please take another look when you get a chance.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285936547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285959246","html_url":"https://github.com/apache/iceberg/pull/6019#issuecomment-1285959246","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6019","id":1285959246,"node_id":"IC_kwDOCW7NX85Mpi5O","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T18:17:02Z","updated_at":"2022-10-20T18:17:02Z","author_association":"CONTRIBUTOR","body":"This is awesome, thanks @dhruv-pratap  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1285959246/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286020329","html_url":"https://github.com/apache/iceberg/pull/6006#issuecomment-1286020329","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6006","id":1286020329,"node_id":"IC_kwDOCW7NX85Mpxzp","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T19:14:40Z","updated_at":"2022-10-20T19:14:40Z","author_association":"CONTRIBUTOR","body":"Thanks, @gaborkaszab! Thanks for reviewing, @hililiwei @Fokko @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286020329/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286103900","html_url":"https://github.com/apache/iceberg/issues/6024#issuecomment-1286103900","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6024","id":1286103900,"node_id":"IC_kwDOCW7NX85MqGNc","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T20:27:02Z","updated_at":"2022-10-20T20:27:02Z","author_association":"NONE","body":"`registerTempTable` is not a way to benefit from delete apparently. This way works fine:\r\n```scala\r\nspark.sql(\"select 1 as ad_id, '2021-07-01' as online_date union select 2 , '2021-07-01'\").writeTo(\"local.test\").create()\r\nspark.sql(\"delete from local.test where ad_id = 1\")\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286103900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286289744","html_url":"https://github.com/apache/iceberg/pull/6023#issuecomment-1286289744","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6023","id":1286289744,"node_id":"IC_kwDOCW7NX85MqzlQ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T23:59:29Z","updated_at":"2022-10-20T23:59:29Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286289744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286290782","html_url":"https://github.com/apache/iceberg/pull/6010#issuecomment-1286290782","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6010","id":1286290782,"node_id":"IC_kwDOCW7NX85Mqz1e","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T00:01:09Z","updated_at":"2022-10-21T00:01:09Z","author_association":"CONTRIBUTOR","body":"> Also refactored the path/location structure since PyArrow requires URLs without a scheme.\r\n\r\nCan you explain this further? Why was it working before?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286290782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286292172","html_url":"https://github.com/apache/iceberg/pull/6007#issuecomment-1286292172","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6007","id":1286292172,"node_id":"IC_kwDOCW7NX85Mq0LM","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T00:03:17Z","updated_at":"2022-10-21T00:03:17Z","author_association":"CONTRIBUTOR","body":"The only drawback I can think of is if this makes tests take longer. I'd probably not do this since it sounds like you can work around this for cases where you need to. If you want to make sure an integration test ran, then do that once rather than doing this all the time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286292172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286295392","html_url":"https://github.com/apache/iceberg/pull/5989#issuecomment-1286295392","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5989","id":1286295392,"node_id":"IC_kwDOCW7NX85Mq09g","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T00:08:29Z","updated_at":"2022-10-21T00:08:29Z","author_association":"CONTRIBUTOR","body":"Thanks, @pavibhai!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286295392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286296697","html_url":"https://github.com/apache/iceberg/pull/5987#issuecomment-1286296697","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5987","id":1286296697,"node_id":"IC_kwDOCW7NX85Mq1R5","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T00:10:40Z","updated_at":"2022-10-21T00:10:40Z","author_association":"CONTRIBUTOR","body":"Thanks, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286296697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286301238","html_url":"https://github.com/apache/iceberg/issues/3968#issuecomment-1286301238","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3968","id":1286301238,"node_id":"IC_kwDOCW7NX85Mq2Y2","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T00:18:04Z","updated_at":"2022-10-21T00:18:04Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286301238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286334384","html_url":"https://github.com/apache/iceberg/issues/6021#issuecomment-1286334384","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6021","id":1286334384,"node_id":"IC_kwDOCW7NX85Mq-ew","user":{"login":"xuzhiwen1255","id":105710753,"node_id":"U_kgDOBk0EoQ","avatar_url":"https://avatars.githubusercontent.com/u/105710753?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhiwen1255","html_url":"https://github.com/xuzhiwen1255","followers_url":"https://api.github.com/users/xuzhiwen1255/followers","following_url":"https://api.github.com/users/xuzhiwen1255/following{/other_user}","gists_url":"https://api.github.com/users/xuzhiwen1255/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhiwen1255/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhiwen1255/subscriptions","organizations_url":"https://api.github.com/users/xuzhiwen1255/orgs","repos_url":"https://api.github.com/users/xuzhiwen1255/repos","events_url":"https://api.github.com/users/xuzhiwen1255/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhiwen1255/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T01:14:23Z","updated_at":"2022-10-21T01:14:23Z","author_association":"CONTRIBUTOR","body":"Flink SQL>  CREATE CATALOG hc WITH (\r\n>   'type'='iceberg',\r\n>   'catalog-type'='hive',\r\n>   'uri'='thrift://xxx:9083',\r\n>   'clients'='5',\r\n>   'property-version'='1',\r\n>   'warehouse'='hdfs://xxx:8020/user/iceberg/warehouse5'\r\n> );\r\n[INFO] Execute statement succeed.\r\n\r\nFlink SQL> use hc;\r\n[ERROR] Could not execute SQL statement. Reason:\r\norg.apache.flink.table.catalog.exceptions.CatalogException: A database with name [hc] does not exist in the catalog: [default_catalog].\r\n\r\nFlink SQL> use catalog hc;\r\n[INFO] Execute statement succeed.\r\n\r\nFlink SQL> create database db1;\r\n[INFO] Execute statement succeed.\r\n\r\nFlink SQL> use db1;\r\n[INFO] Execute statement succeed.\r\n\r\nFlink SQL> create table t1(id int ,name string);\r\n[INFO] Execute statement succeed.\r\n\r\nFlink SQL> show tables;\r\n+------------+\r\n| table name |\r\n+------------+\r\n|         t1 |\r\n+------------+\r\n1 row in set\r\n\r\nFlink SQL> \r\n\r\n\r\n-------------------- hive client -------------------\r\nWARNING: Hive CLI is deprecated and migration to Beeline is recommended.\r\nhive> add jar /root/ iceberg-hive-runtime-1.0.0.jar\r\n    > ;\r\nAdded [/root/, iceberg-hive-runtime-1.0.0.jar] to class path\r\nAdded resources: [/root/, iceberg-hive-runtime-1.0.0.jar]\r\nhive> show databases;\r\nOK\r\ndb\r\ndb1\r\ndefault\r\nmigrate\r\none_hdfs\r\ntest\r\nx_baili\r\nTime taken: 1.344 seconds, Fetched: 7 row(s)\r\nhive> use db1;\r\nOK\r\nTime taken: 0.045 seconds\r\nhive> show tables;\r\nOK\r\nt1\r\nTime taken: 0.07 seconds, Fetched: 1 row(s)\r\nhive> \r\n\r\n**I have the same configuration with you, but I can also check it. I think there is something wrong with my hive operation. My Hive version is lower than 2.1.1**","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286334384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286361800","html_url":"https://github.com/apache/iceberg/issues/6021#issuecomment-1286361800","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6021","id":1286361800,"node_id":"IC_kwDOCW7NX85MrFLI","user":{"login":"MrDannyWu","id":19458048,"node_id":"MDQ6VXNlcjE5NDU4MDQ4","avatar_url":"https://avatars.githubusercontent.com/u/19458048?v=4","gravatar_id":"","url":"https://api.github.com/users/MrDannyWu","html_url":"https://github.com/MrDannyWu","followers_url":"https://api.github.com/users/MrDannyWu/followers","following_url":"https://api.github.com/users/MrDannyWu/following{/other_user}","gists_url":"https://api.github.com/users/MrDannyWu/gists{/gist_id}","starred_url":"https://api.github.com/users/MrDannyWu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrDannyWu/subscriptions","organizations_url":"https://api.github.com/users/MrDannyWu/orgs","repos_url":"https://api.github.com/users/MrDannyWu/repos","events_url":"https://api.github.com/users/MrDannyWu/events{/privacy}","received_events_url":"https://api.github.com/users/MrDannyWu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T02:03:39Z","updated_at":"2022-10-21T02:03:39Z","author_association":"NONE","body":"\r\n\r\n\r\n> Flink SQL> CREATE CATALOG hc WITH (\r\n> \r\n> > 'type'='iceberg',\r\n> > 'catalog-type'='hive',\r\n> > 'uri'='thrift://xxx:9083',\r\n> > 'clients'='5',\r\n> > 'property-version'='1',\r\n> > 'warehouse'='hdfs://xxx:8020/user/iceberg/warehouse5'\r\n> > );\r\n> > [INFO] Execute statement succeed.\r\n> \r\n> Flink SQL> use hc; [ERROR] Could not execute SQL statement. Reason: org.apache.flink.table.catalog.exceptions.CatalogException: A database with name [hc] does not exist in the catalog: [default_catalog].\r\n> \r\n> Flink SQL> use catalog hc; [INFO] Execute statement succeed.\r\n> \r\n> Flink SQL> create database db1; [INFO] Execute statement succeed.\r\n> \r\n> Flink SQL> use db1; [INFO] Execute statement succeed.\r\n> \r\n> Flink SQL> create table t1(id int ,name string); [INFO] Execute statement succeed.\r\n> \r\n> Flink SQL> show tables; +------------+ | table name | +------------+ | t1 | +------------+ 1 row in set\r\n> \r\n> Flink SQL>\r\n> \r\n> -------------------- hive client ------------------- WARNING: Hive CLI is deprecated and migration to Beeline is recommended. hive> add jar /root/ iceberg-hive-runtime-1.0.0.jar > ; Added [/root/, iceberg-hive-runtime-1.0.0.jar] to class path Added resources: [/root/, iceberg-hive-runtime-1.0.0.jar] hive> show databases; OK db db1 default migrate one_hdfs test x_baili Time taken: 1.344 seconds, Fetched: 7 row(s) hive> use db1; OK Time taken: 0.045 seconds hive> show tables; OK t1 Time taken: 0.07 seconds, Fetched: 1 row(s) hive>\r\n> \r\n> **I have the same configuration with you, but I can also check it. I think there is something wrong with my hive operation. My Hive version is lower than 2.1.1**\r\n\r\nOkay, thanks a lot,looking forward to your reply again, I am also looking for a solution at the same time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286361800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286378817","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1286378817","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1286378817,"node_id":"IC_kwDOCW7NX85MrJVB","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T02:32:34Z","updated_at":"2022-10-21T02:32:34Z","author_association":"COLLABORATOR","body":"@ajantha-bhat I forgot to remove cloneSession in `SparkSortStrategy` and `SparkZOrderStrategy`. Please review again.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286378817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286388724","html_url":"https://github.com/apache/iceberg/pull/5392#issuecomment-1286388724","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5392","id":1286388724,"node_id":"IC_kwDOCW7NX85MrLv0","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T02:49:36Z","updated_at":"2022-10-21T02:49:36Z","author_association":"MEMBER","body":"> @ajantha-bhat I forgot to remove cloneSession in SparkSortStrategy and SparkZOrderStrategy. Please review again.\r\n\r\nYeah, last time I gave a comment that these other places also have issues and I forgot to recheck whether it was addressed or not. I think now we cover all the places. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286388724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286409380","html_url":"https://github.com/apache/iceberg/pull/6026#issuecomment-1286409380","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6026","id":1286409380,"node_id":"IC_kwDOCW7NX85MrQyk","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T03:25:02Z","updated_at":"2022-10-21T03:25:02Z","author_association":"CONTRIBUTOR","body":"@flyrain I believe you implemented the support for row-level deletes in the vectorized reader. Can you please review this? Also @aokolnychyi @RussellSpitzer @chenjunjiedada.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286409380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286409744","html_url":"https://github.com/apache/iceberg/issues/4557#issuecomment-1286409744","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4557","id":1286409744,"node_id":"IC_kwDOCW7NX85MrQ4Q","user":{"login":"chenwyi2","id":19389434,"node_id":"MDQ6VXNlcjE5Mzg5NDM0","avatar_url":"https://avatars.githubusercontent.com/u/19389434?v=4","gravatar_id":"","url":"https://api.github.com/users/chenwyi2","html_url":"https://github.com/chenwyi2","followers_url":"https://api.github.com/users/chenwyi2/followers","following_url":"https://api.github.com/users/chenwyi2/following{/other_user}","gists_url":"https://api.github.com/users/chenwyi2/gists{/gist_id}","starred_url":"https://api.github.com/users/chenwyi2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenwyi2/subscriptions","organizations_url":"https://api.github.com/users/chenwyi2/orgs","repos_url":"https://api.github.com/users/chenwyi2/repos","events_url":"https://api.github.com/users/chenwyi2/events{/privacy}","received_events_url":"https://api.github.com/users/chenwyi2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T03:25:50Z","updated_at":"2022-10-21T03:25:50Z","author_association":"NONE","body":"yes, we have removes orphan files,but only remove files which are older than 3 days","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286409744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286419821","html_url":"https://github.com/apache/iceberg/pull/4141#issuecomment-1286419821","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4141","id":1286419821,"node_id":"IC_kwDOCW7NX85MrTVt","user":{"login":"chenwyi2","id":19389434,"node_id":"MDQ6VXNlcjE5Mzg5NDM0","avatar_url":"https://avatars.githubusercontent.com/u/19389434?v=4","gravatar_id":"","url":"https://api.github.com/users/chenwyi2","html_url":"https://github.com/chenwyi2","followers_url":"https://api.github.com/users/chenwyi2/followers","following_url":"https://api.github.com/users/chenwyi2/following{/other_user}","gists_url":"https://api.github.com/users/chenwyi2/gists{/gist_id}","starred_url":"https://api.github.com/users/chenwyi2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenwyi2/subscriptions","organizations_url":"https://api.github.com/users/chenwyi2/orgs","repos_url":"https://api.github.com/users/chenwyi2/repos","events_url":"https://api.github.com/users/chenwyi2/events{/privacy}","received_events_url":"https://api.github.com/users/chenwyi2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T03:45:10Z","updated_at":"2022-10-21T03:45:10Z","author_association":"NONE","body":"whichi version suppose ExpireSnapshot delete with DeleteFile? i use iceberg 0.14.0, ExpireSnapshot  cannot delete DeleteFile","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286419821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286484365","html_url":"https://github.com/apache/iceberg/pull/5763#issuecomment-1286484365","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5763","id":1286484365,"node_id":"IC_kwDOCW7NX85MrjGN","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T05:38:01Z","updated_at":"2022-10-21T05:38:01Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR @gaborkaszab! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286484365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286574200","html_url":"https://github.com/apache/iceberg/issues/4557#issuecomment-1286574200","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4557","id":1286574200,"node_id":"IC_kwDOCW7NX85Mr5B4","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T07:33:25Z","updated_at":"2022-10-21T07:33:25Z","author_association":"CONTRIBUTOR","body":"On HDFS you might have an audit log to check when the files were removed and find out what happend with them based on the timing.\r\nThe other thing could be some messed up metadata where the `flink.max-committed-checkpoint-id` is wrong. Out of order commits, or multiple jobs without jobId writing to the same table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286574200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286621641","html_url":"https://github.com/apache/iceberg/pull/6010#issuecomment-1286621641","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6010","id":1286621641,"node_id":"IC_kwDOCW7NX85MsEnJ","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T08:15:17Z","updated_at":"2022-10-21T08:15:17Z","author_association":"CONTRIBUTOR","body":"Sorry for the limited context. I'm working on converting the files into a PyArrow Dataset. This requires passing in a single filesystem and a list of files. The files-paths can't have a scheme, since that will have PyArrow throw an error. The idea behind it is that the S3FileSystem already indicates that it is an S3 path.\r\n\r\nBy splitting this we can re-use this logic to pass the list of files to the Dataset:\r\n\r\n```python\r\nio = self.table.io()\r\nif isinstance(io, FsspecFileIO):\r\n    ...\r\nelif isinstance(io, PyArrowFileIO):\r\n    # We should not use internal methods\r\n    fs = io._get_fs_and_path(files[0])[0]\r\n    # This is also awkward, PyArrow requires removing the s3a://\r\n    files = [\"\".join(urlparse(file)[1:3]) for file in files]\r\nelse:\r\n    raise ValueError(f\"Unsupported FileSystem: {io}\")\r\n```\r\n\r\nConvert it into:\r\n```python\r\nio = self.table.io()\r\nif isinstance(io, FsspecFileIO):\r\n    ...\r\nelif isinstance(io, PyArrowFileIO):\r\n    normalized_files = map(PyArrowFileIO.normalize_location, files)\r\n    fs = io.get_fs(next(files).scheme)\r\n    files = [file.path for file in normalized_files]\r\nelse:\r\n    raise ValueError(f\"Unsupported FileSystem: {io}\")\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286621641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286625972","html_url":"https://github.com/apache/iceberg/pull/5763#issuecomment-1286625972","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5763","id":1286625972,"node_id":"IC_kwDOCW7NX85MsFq0","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T08:19:16Z","updated_at":"2022-10-21T08:19:16Z","author_association":"COLLABORATOR","body":"Thanks for reviewing @pvary and @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1286625972/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287108234","html_url":"https://github.com/apache/iceberg/pull/6029#issuecomment-1287108234","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6029","id":1287108234,"node_id":"IC_kwDOCW7NX85Mt7aK","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T15:16:09Z","updated_at":"2022-10-21T15:16:09Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287108234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287108746","html_url":"https://github.com/apache/iceberg/pull/6030#issuecomment-1287108746","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6030","id":1287108746,"node_id":"IC_kwDOCW7NX85Mt7iK","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T15:16:26Z","updated_at":"2022-10-21T15:16:26Z","author_association":"CONTRIBUTOR","body":"#6029 is in!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287108746/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287167796","html_url":"https://github.com/apache/iceberg/pull/5982#issuecomment-1287167796","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5982","id":1287167796,"node_id":"IC_kwDOCW7NX85MuJ80","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T16:09:12Z","updated_at":"2022-10-21T16:09:12Z","author_association":"CONTRIBUTOR","body":"I don't think that this is worth the change. The context doesn't change very often (this is the 4th change in the 2 years since this was introduced) and I don't think that a builder helps much. In addition, adding a builder is another class to maintain and would be passing state around again.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287167796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287203335","html_url":"https://github.com/apache/iceberg/pull/6026#issuecomment-1287203335","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6026","id":1287203335,"node_id":"IC_kwDOCW7NX85MuSoH","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T16:42:07Z","updated_at":"2022-10-21T16:42:07Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @chenjunjiedada. I do plan to port this to Spark 3.2 once this is approved by a committer. Let me look into 3.1 as well. I also think this bug needs to be fixed in the 1.0.x branch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287203335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287267038","html_url":"https://github.com/apache/iceberg/pull/4141#issuecomment-1287267038","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4141","id":1287267038,"node_id":"IC_kwDOCW7NX85MuiLe","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T17:49:29Z","updated_at":"2022-10-21T17:49:29Z","author_association":"COLLABORATOR","body":"Hi, when i tested this, i think the issue is not that expireSnapshot doesnt remove delete files.  Its that the delete files dont get removed from current snapshot.   Issue is described here:  https://github.com/apache/iceberg/issues/4127\r\n\r\n\r\nCan you check that?  You can query 'files' table, does that have the delete files?  If so then its still on current snapshot).\r\n\r\n\r\nIm working on a design for fix for this, but havent had time yet.  Hopefully next week will put a design doc up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287267038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287267780","html_url":"https://github.com/apache/iceberg/issues/4127#issuecomment-1287267780","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4127","id":1287267780,"node_id":"IC_kwDOCW7NX85MuiXE","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T17:50:16Z","updated_at":"2022-10-21T17:50:16Z","author_association":"COLLABORATOR","body":"Note , plan to put a design doc up next week for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287267780/reactions","total_count":4,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287381115","html_url":"https://github.com/apache/iceberg/pull/4606#issuecomment-1287381115","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4606","id":1287381115,"node_id":"IC_kwDOCW7NX85Mu-B7","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T19:59:35Z","updated_at":"2022-10-21T19:59:35Z","author_association":"CONTRIBUTOR","body":"These changes were merged in #6020. Thanks to @samredai for porting the PR and thanks to @kyle-cx for contributing it!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287381115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287386752","html_url":"https://github.com/apache/iceberg/pull/5949#issuecomment-1287386752","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5949","id":1287386752,"node_id":"IC_kwDOCW7NX85Mu_aA","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T20:06:31Z","updated_at":"2022-10-21T20:06:31Z","author_association":"CONTRIBUTOR","body":"Thanks, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287386752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287428397","html_url":"https://github.com/apache/iceberg/pull/5969#issuecomment-1287428397","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5969","id":1287428397,"node_id":"IC_kwDOCW7NX85MvJkt","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T20:55:54Z","updated_at":"2022-10-21T20:55:54Z","author_association":"CONTRIBUTOR","body":"This works great. I'll commit it. We will need to find a good way to swap out tokens. I'm not sure how the `BearerAuth` would work, but I'm sure you'll find something.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287428397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287493410","html_url":"https://github.com/apache/iceberg/pull/4732#issuecomment-1287493410","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4732","id":1287493410,"node_id":"IC_kwDOCW7NX85MvZci","user":{"login":"abmo-x","id":69539469,"node_id":"MDQ6VXNlcjY5NTM5NDY5","avatar_url":"https://avatars.githubusercontent.com/u/69539469?v=4","gravatar_id":"","url":"https://api.github.com/users/abmo-x","html_url":"https://github.com/abmo-x","followers_url":"https://api.github.com/users/abmo-x/followers","following_url":"https://api.github.com/users/abmo-x/following{/other_user}","gists_url":"https://api.github.com/users/abmo-x/gists{/gist_id}","starred_url":"https://api.github.com/users/abmo-x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abmo-x/subscriptions","organizations_url":"https://api.github.com/users/abmo-x/orgs","repos_url":"https://api.github.com/users/abmo-x/repos","events_url":"https://api.github.com/users/abmo-x/events{/privacy}","received_events_url":"https://api.github.com/users/abmo-x/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T22:24:49Z","updated_at":"2022-10-21T22:24:49Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue @wmoustafa @rzhang10 \r\nwe at Apple are looking to leverage this feature. wondering when this will be merged and what the roadmap for Default value support looks like.\r\n\r\nI am happy to contribute towards any pending or todo items. Please let me know how I can help. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287493410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287538826","html_url":"https://github.com/apache/iceberg/pull/4732#issuecomment-1287538826","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4732","id":1287538826,"node_id":"IC_kwDOCW7NX85MvkiK","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T23:44:09Z","updated_at":"2022-10-21T23:44:09Z","author_association":"CONTRIBUTOR","body":"@abmo-x, thanks for reaching out. There are a couple of PRs that got merged and one that is currently up for review (#6004).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287538826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287550291","html_url":"https://github.com/apache/iceberg/issues/4523#issuecomment-1287550291","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4523","id":1287550291,"node_id":"IC_kwDOCW7NX85MvnVT","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T00:18:13Z","updated_at":"2022-10-22T00:18:13Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287550291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287550309","html_url":"https://github.com/apache/iceberg/issues/3789#issuecomment-1287550309","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3789","id":1287550309,"node_id":"IC_kwDOCW7NX85MvnVl","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T00:18:17Z","updated_at":"2022-10-22T00:18:17Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287550309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287558326","html_url":"https://github.com/apache/iceberg/pull/6026#issuecomment-1287558326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6026","id":1287558326,"node_id":"IC_kwDOCW7NX85MvpS2","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T00:34:26Z","updated_at":"2022-10-22T00:34:26Z","author_association":"CONTRIBUTOR","body":"> I'm a bit confused of this behavior: `ReadConf.startRowPositions` is valid only if `_pos` column exists in the `expectedSchema` due to #1716. Are there use cases that `_pos` is absent and we still need `ReadConf.startRowPositions`? By looking at the class `VectorizedParquetReader` and `ParquetReader` who are consuming `ReadConf.startRowPositions`, it seems likely the schema doesn't have `_pos`.\r\n\r\nI too was surprised by the behavior. In my example, **before my fix**, when the query\r\n```\r\nselect count(*) from default.test_iceberg where e is null\r\n```\r\nis run after the update, the `Schema` that is passed to `ReadConf#generateOffsetToStartPos(Schema)`  is\r\n```\r\n{\r\n  5: e: optional double\r\n}\r\n```\r\nso it did not have `_pos`.\r\n\r\n@flyrain are you asking if there are **other** cases where `_pos` will still be absent **after** this fix and we need `ReadConf#startRowPositions()` to return a valid `startRowPositions`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287558326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287561773","html_url":"https://github.com/apache/iceberg/pull/6026#issuecomment-1287561773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6026","id":1287561773,"node_id":"IC_kwDOCW7NX85MvqIt","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T00:44:12Z","updated_at":"2022-10-22T00:44:12Z","author_association":"COLLABORATOR","body":"> \r\n> I'm a bit confused of this behavior: `ReadConf.startRowPositions` is valid only if `_pos` column exists in the `expectedSchema` due to #1716. Are there use cases that `_pos` is absent and we still need `ReadConf.startRowPositions`? By looking at the class `VectorizedParquetReader` and `ParquetReader` who are consuming `ReadConf.startRowPositions`, it seems likely the schema doesn't have `_pos`. cc @chenjunjiedada @aokolnychyi\r\n\r\nThe row group start positions are always computed but are only correct when it is projected right now.  That's intended because we don't want to read the parquet footer one more time.  But since the footer must be read at least once, we should be able to cache some content during the first access to avoid the current optimization logic and thus simply the logic to check `_pos` column.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287561773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287830326","html_url":"https://github.com/apache/iceberg/issues/5901#issuecomment-1287830326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5901","id":1287830326,"node_id":"IC_kwDOCW7NX85Mwrs2","user":{"login":"djouallah","id":12554469,"node_id":"MDQ6VXNlcjEyNTU0NDY5","avatar_url":"https://avatars.githubusercontent.com/u/12554469?v=4","gravatar_id":"","url":"https://api.github.com/users/djouallah","html_url":"https://github.com/djouallah","followers_url":"https://api.github.com/users/djouallah/followers","following_url":"https://api.github.com/users/djouallah/following{/other_user}","gists_url":"https://api.github.com/users/djouallah/gists{/gist_id}","starred_url":"https://api.github.com/users/djouallah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djouallah/subscriptions","organizations_url":"https://api.github.com/users/djouallah/orgs","repos_url":"https://api.github.com/users/djouallah/repos","events_url":"https://api.github.com/users/djouallah/events{/privacy}","received_events_url":"https://api.github.com/users/djouallah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T15:40:06Z","updated_at":"2022-10-22T15:40:06Z","author_association":"NONE","body":"it is seems mmh3 is not supported, is there an alternative solution please ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287830326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287831427","html_url":"https://github.com/apache/iceberg/pull/6025#issuecomment-1287831427","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6025","id":1287831427,"node_id":"IC_kwDOCW7NX85Mwr-D","user":{"login":"sririshindra","id":9795421,"node_id":"MDQ6VXNlcjk3OTU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/9795421?v=4","gravatar_id":"","url":"https://api.github.com/users/sririshindra","html_url":"https://github.com/sririshindra","followers_url":"https://api.github.com/users/sririshindra/followers","following_url":"https://api.github.com/users/sririshindra/following{/other_user}","gists_url":"https://api.github.com/users/sririshindra/gists{/gist_id}","starred_url":"https://api.github.com/users/sririshindra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sririshindra/subscriptions","organizations_url":"https://api.github.com/users/sririshindra/orgs","repos_url":"https://api.github.com/users/sririshindra/repos","events_url":"https://api.github.com/users/sririshindra/events{/privacy}","received_events_url":"https://api.github.com/users/sririshindra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T15:45:02Z","updated_at":"2022-10-22T15:45:02Z","author_association":"CONTRIBUTOR","body":"@samredai @szehon-ho Please take a look at this docs PR when you get a chance. This doc change corresponds to https://github.com/apache/iceberg/pull/5622 which recently got merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287831427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287876977","html_url":"https://github.com/apache/iceberg/pull/6026#issuecomment-1287876977","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6026","id":1287876977,"node_id":"IC_kwDOCW7NX85Mw3Fx","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T18:32:47Z","updated_at":"2022-10-22T18:32:47Z","author_association":"CONTRIBUTOR","body":"> @flyrain are you asking if there are other cases where _pos will still be absent after this fix and we need ReadConf#startRowPositions() to return a valid startRowPositions?\r\n\r\nYes, I have concerns for this case. But I guess it is fine since `VectorizedArrowReader::setRowGroupInfo()` doesn't consume the `rowPosition`, which means it still works fine even `rowPosition` is off. The problem happens only if we want to rely on the row positions. https://github.com/apache/iceberg/blob/5688d59f6b8ea4784de1f45c9386e13618803673/arrow/src/main/java/org/apache/iceberg/arrow/vectorized/VectorizedArrowReader.java#L396\r\n\r\nBy digging a bit more, `ReadConf.columnChunkMetadataForRowGroups` keeps the row group metadata. Wondering if we can calculate the row positions while generating the `columnChunkMetadataForRowGroups`, so that the row position will always be correct and we don't have to read the metadata twice. What do you think, @chenjunjiedada? I guess that's what you mentioned to avoid optimization. https://github.com/apache/iceberg/blob/5688d59f6b8ea4784de1f45c9386e13618803673/parquet/src/main/java/org/apache/iceberg/parquet/ReadConf.java#L237-L237\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287876977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287959345","html_url":"https://github.com/apache/iceberg/pull/6026#issuecomment-1287959345","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6026","id":1287959345,"node_id":"IC_kwDOCW7NX85MxLMx","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T00:27:57Z","updated_at":"2022-10-23T00:27:57Z","author_association":"COLLABORATOR","body":"@flyrain, Correct, that is it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1287959345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288002896","html_url":"https://github.com/apache/iceberg/pull/5150#issuecomment-1288002896","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5150","id":1288002896,"node_id":"IC_kwDOCW7NX85MxV1Q","user":{"login":"namrathamyske","id":17932873,"node_id":"MDQ6VXNlcjE3OTMyODcz","avatar_url":"https://avatars.githubusercontent.com/u/17932873?v=4","gravatar_id":"","url":"https://api.github.com/users/namrathamyske","html_url":"https://github.com/namrathamyske","followers_url":"https://api.github.com/users/namrathamyske/followers","following_url":"https://api.github.com/users/namrathamyske/following{/other_user}","gists_url":"https://api.github.com/users/namrathamyske/gists{/gist_id}","starred_url":"https://api.github.com/users/namrathamyske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namrathamyske/subscriptions","organizations_url":"https://api.github.com/users/namrathamyske/orgs","repos_url":"https://api.github.com/users/namrathamyske/repos","events_url":"https://api.github.com/users/namrathamyske/events{/privacy}","received_events_url":"https://api.github.com/users/namrathamyske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T04:35:45Z","updated_at":"2022-10-23T04:43:19Z","author_association":"CONTRIBUTOR","body":"I came across duplicate implementations of using timestamp option in https://github.com/apache/iceberg/blob/5688d59f6b8ea4784de1f45c9386e13618803673/spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/source/SparkScanBuilder.java#L185 and https://github.com/apache/iceberg/blob/5688d59f6b8ea4784de1f45c9386e13618803673/spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/SparkCatalog.java#L629. I am unsure of how to proceed for branches and tags usecase. Just making changes to read from branch/tag in SparkScanBuilder worked before for previous versions of spark - 3.1, 3.2. But for 3.3 , properties get overridden in SparkCatalog.java before reaching SparkScanBuilder.java. @rdblue @amogh-jahagirdar any thoughts appreciated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288002896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288160992","html_url":"https://github.com/apache/iceberg/pull/6032#issuecomment-1288160992","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6032","id":1288160992,"node_id":"IC_kwDOCW7NX85Mx8bg","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T17:35:11Z","updated_at":"2022-10-23T17:35:11Z","author_association":"CONTRIBUTOR","body":"Thanks, @danielcweeks! Looks good. I think we want to get this into the docs site as well, but it's good to have it written down somewhere.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288160992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288161731","html_url":"https://github.com/apache/iceberg/issues/5631#issuecomment-1288161731","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5631","id":1288161731,"node_id":"IC_kwDOCW7NX85Mx8nD","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T17:39:51Z","updated_at":"2022-10-23T17:39:51Z","author_association":"CONTRIBUTOR","body":"@linyanghao, can you bring this up as a discussion on the dev list?\r\n\r\nThe reason why we haven't done this is that metadata is not part of SQL and is not supported across engines. As a result, operations will drop metadata when people expect it to be carried through:\r\n\r\n```sql\r\nCREATE TABLE copy AS SELECT * FROM original\r\n```\r\n\r\nAny field metadata in `original` is not present in `copy`. I think that's confusing enough that we have so far chosen to not add this \"feature\" to the format.\r\n\r\nIf we want to change that decision, we'll need to document this in the spec and define compatibility rules across spec versions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288161731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288194560","html_url":"https://github.com/apache/iceberg/pull/5870#issuecomment-1288194560","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5870","id":1288194560,"node_id":"IC_kwDOCW7NX85MyEoA","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T20:28:53Z","updated_at":"2022-10-23T20:28:53Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of #6034.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288194560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288203252","html_url":"https://github.com/apache/iceberg/pull/5961#issuecomment-1288203252","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5961","id":1288203252,"node_id":"IC_kwDOCW7NX85MyGv0","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T21:17:36Z","updated_at":"2022-10-23T21:17:36Z","author_association":"CONTRIBUTOR","body":"Thanks, @huaxingao! This is very close. Just a few minor things to fix.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288203252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288203297","html_url":"https://github.com/apache/iceberg/pull/5959#issuecomment-1288203297","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5959","id":1288203297,"node_id":"IC_kwDOCW7NX85MyGwh","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T21:17:53Z","updated_at":"2022-10-23T21:17:53Z","author_association":"CONTRIBUTOR","body":"Ping @aokolnychyi","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288203297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288203802","html_url":"https://github.com/apache/iceberg/pull/5890#issuecomment-1288203802","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5890","id":1288203802,"node_id":"IC_kwDOCW7NX85MyG4a","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-23T21:20:33Z","updated_at":"2022-10-23T21:20:33Z","author_association":"CONTRIBUTOR","body":"I don't think we're going to be doing any more 0.13.x releases, so I'm going to close this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288203802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288244121","html_url":"https://github.com/apache/iceberg/issues/4633#issuecomment-1288244121","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4633","id":1288244121,"node_id":"IC_kwDOCW7NX85MyQuZ","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T00:20:03Z","updated_at":"2022-10-24T00:20:03Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288244121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288333672","html_url":"https://github.com/apache/iceberg/pull/4141#issuecomment-1288333672","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4141","id":1288333672,"node_id":"IC_kwDOCW7NX85Mymlo","user":{"login":"chenwyi2","id":19389434,"node_id":"MDQ6VXNlcjE5Mzg5NDM0","avatar_url":"https://avatars.githubusercontent.com/u/19389434?v=4","gravatar_id":"","url":"https://api.github.com/users/chenwyi2","html_url":"https://github.com/chenwyi2","followers_url":"https://api.github.com/users/chenwyi2/followers","following_url":"https://api.github.com/users/chenwyi2/following{/other_user}","gists_url":"https://api.github.com/users/chenwyi2/gists{/gist_id}","starred_url":"https://api.github.com/users/chenwyi2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenwyi2/subscriptions","organizations_url":"https://api.github.com/users/chenwyi2/orgs","repos_url":"https://api.github.com/users/chenwyi2/repos","events_url":"https://api.github.com/users/chenwyi2/events{/privacy}","received_events_url":"https://api.github.com/users/chenwyi2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T02:40:01Z","updated_at":"2022-10-24T02:40:01Z","author_association":"NONE","body":"> \r\n\r\nyes, when i query files, there are delete files, but data files which are referenced are remove","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288333672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288361002","html_url":"https://github.com/apache/iceberg/issues/5631#issuecomment-1288361002","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5631","id":1288361002,"node_id":"IC_kwDOCW7NX85MytQq","user":{"login":"linyanghao","id":51444992,"node_id":"MDQ6VXNlcjUxNDQ0OTky","avatar_url":"https://avatars.githubusercontent.com/u/51444992?v=4","gravatar_id":"","url":"https://api.github.com/users/linyanghao","html_url":"https://github.com/linyanghao","followers_url":"https://api.github.com/users/linyanghao/followers","following_url":"https://api.github.com/users/linyanghao/following{/other_user}","gists_url":"https://api.github.com/users/linyanghao/gists{/gist_id}","starred_url":"https://api.github.com/users/linyanghao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyanghao/subscriptions","organizations_url":"https://api.github.com/users/linyanghao/orgs","repos_url":"https://api.github.com/users/linyanghao/repos","events_url":"https://api.github.com/users/linyanghao/events{/privacy}","received_events_url":"https://api.github.com/users/linyanghao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T03:21:51Z","updated_at":"2022-10-24T03:21:51Z","author_association":"CONTRIBUTOR","body":"> @linyanghao, can you bring this up as a discussion on the dev list?\r\n> \r\n> The reason why we haven't done this is that metadata is not part of SQL and is not supported across engines. As a result, operations will drop metadata when people expect it to be carried through:\r\n> \r\n> ```sql\r\n> CREATE TABLE copy AS SELECT * FROM original\r\n> ```\r\n> \r\n> Any field metadata in `original` is not present in `copy`. I think that's confusing enough that we have so far chosen to not add this \"feature\" to the format.\r\n> \r\n> If we want to change that decision, we'll need to document this in the spec and define compatibility rules across spec versions.\r\n\r\nThanks for pointing out the issue. I will bring up a discussion when I have some thoughts on it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288361002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288435702","html_url":"https://github.com/apache/iceberg/pull/4826#issuecomment-1288435702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4826","id":1288435702,"node_id":"IC_kwDOCW7NX85My_f2","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T05:22:00Z","updated_at":"2022-10-24T05:22:00Z","author_association":"MEMBER","body":"@gaborkaszab: I would like to get this one in 1.1 release.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288435702/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288971855","html_url":"https://github.com/apache/iceberg/pull/6035#issuecomment-1288971855","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6035","id":1288971855,"node_id":"IC_kwDOCW7NX85M1CZP","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T12:37:49Z","updated_at":"2022-10-24T12:40:18Z","author_association":"MEMBER","body":"Already merged yesterday?\r\n\r\nhttps://github.com/apache/iceberg/pull/5916\r\n\r\nI am wondering why it is not shown as conflict :) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288971855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288977162","html_url":"https://github.com/apache/iceberg/pull/6035#issuecomment-1288977162","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6035","id":1288977162,"node_id":"IC_kwDOCW7NX85M1DsK","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T12:42:10Z","updated_at":"2022-10-24T12:42:10Z","author_association":"COLLABORATOR","body":"Thanks for letting me know! I need a rebase then :) Closing this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1288977162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1289199629","html_url":"https://github.com/apache/iceberg/pull/5961#issuecomment-1289199629","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5961","id":1289199629,"node_id":"IC_kwDOCW7NX85M16AN","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T15:19:41Z","updated_at":"2022-10-24T15:19:41Z","author_association":"CONTRIBUTOR","body":"@rdblue Thank you very much for your review! I have addressed the comments. Could you please take one more look when you have time? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1289199629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1289206280","html_url":"https://github.com/apache/iceberg/pull/6036#issuecomment-1289206280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6036","id":1289206280,"node_id":"IC_kwDOCW7NX85M17oI","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T15:24:36Z","updated_at":"2022-10-24T15:24:36Z","author_association":"COLLABORATOR","body":"@samredai @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1289206280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1289283783","html_url":"https://github.com/apache/iceberg/issues/5997#issuecomment-1289283783","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5997","id":1289283783,"node_id":"IC_kwDOCW7NX85M2OjH","user":{"login":"ismailsimsek","id":6005685,"node_id":"MDQ6VXNlcjYwMDU2ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6005685?v=4","gravatar_id":"","url":"https://api.github.com/users/ismailsimsek","html_url":"https://github.com/ismailsimsek","followers_url":"https://api.github.com/users/ismailsimsek/followers","following_url":"https://api.github.com/users/ismailsimsek/following{/other_user}","gists_url":"https://api.github.com/users/ismailsimsek/gists{/gist_id}","starred_url":"https://api.github.com/users/ismailsimsek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ismailsimsek/subscriptions","organizations_url":"https://api.github.com/users/ismailsimsek/orgs","repos_url":"https://api.github.com/users/ismailsimsek/repos","events_url":"https://api.github.com/users/ismailsimsek/events{/privacy}","received_events_url":"https://api.github.com/users/ismailsimsek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T16:23:52Z","updated_at":"2022-10-24T16:23:52Z","author_association":"CONTRIBUTOR","body":"@vshel any reason you are not [using Athena to do compaction](https://docs.aws.amazon.com/athena/latest/ug/querying-iceberg-data-optimization.html)? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1289283783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]