[{"url":"https://api.github.com/repos/apache/storm/issues/comments/347335116","html_url":"https://github.com/apache/storm/pull/2430#issuecomment-347335116","issue_url":"https://api.github.com/repos/apache/storm/issues/2430","id":347335116,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzMzNTExNg==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-27T21:32:30Z","updated_at":"2017-11-27T21:32:30Z","author_association":"CONTRIBUTOR","body":"@srdo Thanks for the review.\r\n@revans2 @HeartSaVioR  Could you please take a second look? Thanks","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347335116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/347378145","html_url":"https://github.com/apache/storm/pull/2365#issuecomment-347378145","issue_url":"https://api.github.com/repos/apache/storm/issues/2365","id":347378145,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzM3ODE0NQ==","user":{"login":"liu-zhaokun","id":25218975,"node_id":"MDQ6VXNlcjI1MjE4OTc1","avatar_url":"https://avatars.githubusercontent.com/u/25218975?v=4","gravatar_id":"","url":"https://api.github.com/users/liu-zhaokun","html_url":"https://github.com/liu-zhaokun","followers_url":"https://api.github.com/users/liu-zhaokun/followers","following_url":"https://api.github.com/users/liu-zhaokun/following{/other_user}","gists_url":"https://api.github.com/users/liu-zhaokun/gists{/gist_id}","starred_url":"https://api.github.com/users/liu-zhaokun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liu-zhaokun/subscriptions","organizations_url":"https://api.github.com/users/liu-zhaokun/orgs","repos_url":"https://api.github.com/users/liu-zhaokun/repos","events_url":"https://api.github.com/users/liu-zhaokun/events{/privacy}","received_events_url":"https://api.github.com/users/liu-zhaokun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-28T00:54:01Z","updated_at":"2017-11-28T00:54:01Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR \r\nHi,are you available to help me review this PR?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347378145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/347425700","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-347425700","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":347425700,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzQyNTcwMA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-28T06:22:15Z","updated_at":"2017-11-28T06:31:18Z","author_association":"CONTRIBUTOR","body":"I created another branch for sampling:\r\nhttps://github.com/HeartSaVioR/storm/tree/metrics_v2_replace_meters_to_counters_with_sampling\r\n\r\n> metrics_v2_replace_meters_to_counters_with_sampling\r\n\r\nuptime | acked | acked/sec | failed | 99% | 99.9% | min | max | mean | stddev | user | sys | gc | mem\r\n--- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | ---\r\n211 | 1,578,860 | 52,628.67 | 0 | 32,849,919 | 48,136,191 | 6,545,408 | 81,461,247 | 13,719,507.76 | 4,401,893.83 | 174,310 | 34,720 | 2,159 | 777.26\r\n241 | 1,541,220 | 51,374.00 | 0 | 34,078,719 | 79,495,167 | 5,988,352 | 142,737,407 | 13,692,679.51 | 5,447,765.36 | 175,140 | 33,960 | 2,189 | 864.25\r\n271 | 1,503,360 | 50,112.00 | 0 | 31,670,271 | 50,724,863 | 6,541,312 | 86,638,591 | 13,532,495.54 | 4,225,220.91 | 175,360 | 34,390 | 2,060 | 751.39\r\n\r\nuptime | acked | acked/sec | failed | 99% | 99.9% | min | max | mean | stddev | user | sys | gc | mem\r\n--- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | ---\r\n211 | 1,503,880 | 50,129.33 | 0 | 36,241,407 | 46,759,935 | 6,434,816 | 72,155,135 | 14,540,674.05 | 5,200,081.08 | 174,870 | 35,740 | 2,523 | 846.15\r\n241 | 1,503,400 | 50,113.33 | 0 | 41,746,431 | 68,288,511 | 6,590,464 | 137,232,383 | 14,784,902.94 | 6,220,659.93 | 173,800 | 36,400 | 2,593 | 896.85\r\n271 | 1,504,120 | 50,137.33 | 0 | 35,880,959 | 49,971,199 | 6,553,600 | 77,070,335 | 14,223,920.20 | 4,932,482.39 | 175,290 | 35,930 | 2,380 | 886.29\r\n\r\nuptime | acked | acked/sec | failed | 99% | 99.9% | min | max | mean | stddev | user | sys | gc | mem\r\n--- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | ---\r\n210 | 1,616,860 | 53,895.33 | 0 | 32,767,999 | 48,955,391 | 6,643,712 | 73,727,999 | 13,798,011.67 | 4,442,751.14 | 176,310 | 34,800 | 2,450 | 932.71\r\n240 | 1,503,640 | 50,121.33 | 0 | 34,897,919 | 53,379,071 | 6,475,776 | 75,366,399 | 14,001,232.82 | 4,850,826.78 | 176,380 | 34,880 | 2,568 | 921.85\r\n270 | 1,503,340 | 50,111.33 | 0 | 33,406,975 | 45,711,359 | 6,610,944 | 65,765,375 | 14,058,020.45 | 4,589,290.14 | 177,140 | 35,920 | 2,586 | 989.75\r\n\r\n> 1.2.0-SNAPSHOT\r\n\r\nuptime | acked | acked/sec | failed | 99% | 99.9% | min | max | mean | stddev | user | sys | gc | mem\r\n--- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | ---\r\n210 | 1,503,120 | 50,104.00 | 0 | 36,012,031 | 54,329,343 | 6,586,368 | 86,179,839 | 13,866,565.45 | 4,940,470.24 | 175,790 | 32,220 | 2,463 | 848.33\r\n240 | 1,503,520 | 50,117.33 | 0 | 32,571,391 | 48,988,159 | 6,623,232 | 74,448,895 | 13,639,588.48 | 4,414,394.82 | 173,890 | 32,870 | 2,435 | 929.12\r\n270 | 1,503,320 | 50,110.67 | 0 | 30,834,687 | 43,778,047 | 6,488,064 | 64,520,191 | 13,545,641.23 | 4,120,231.64 | 176,190 | 32,110 | 2,409 | 904.40\r\n\r\nuptime | acked | acked/sec | failed | 99% | 99.9% | min | max | mean | stddev | user | sys | gc | mem\r\n--- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | ---\r\n210 | 1,503,540 | 50,118.00 | 0 | 37,421,055 | 61,341,695 | 6,582,272 | 85,393,407 | 14,000,161.69 | 5,317,874.33 | 172,530 | 33,640 | 2,455 | 1,001.10\r\n241 | 1,541,460 | 49,724.52 | 0 | 39,157,759 | 61,603,839 | 6,426,624 | 101,056,511 | 14,153,442.96 | 5,630,083.75 | 173,010 | 33,280 | 2,617 | 1,092.48\r\n271 | 1,578,560 | 52,618.67 | 0 | 39,780,351 | 70,909,951 | 5,787,648 | 119,734,271 | 14,350,305.70 | 5,916,972.37 | 174,360 | 32,960 | 2,569 | 1,057.77\r\n\r\nuptime | acked | acked/sec | failed | 99% | 99.9% | min | max | mean | stddev | user | sys | gc | mem\r\n--- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | ---\r\n210 | 1,541,480 | 51,382.67 | 0 | 32,309,247 | 46,628,863 | 6,500,352 | 79,888,383 | 13,589,491.43 | 4,288,111.92 | 171,970 | 33,360 | 2,253 | 716.99\r\n241 | 1,540,900 | 49,706.45 | 0 | 34,701,311 | 52,396,031 | 6,639,616 | 92,602,367 | 13,937,783.46 | 4,782,018.51 | 173,120 | 32,650 | 2,351 | 885.23\r\n271 | 1,503,440 | 50,114.67 | 0 | 31,899,647 | 44,924,927 | 6,537,216 | 69,664,767 | 13,662,446.62 | 4,240,397.21 | 173,980 | 33,230 | 2,292 | 980.86\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347425700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/347427774","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-347427774","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":347427774,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzQyNzc3NA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-28T06:34:55Z","updated_at":"2017-11-28T06:34:55Z","author_association":"CONTRIBUTOR","body":"The difference on CPU usage and latency is reduced again, which looks like closer.\r\n(We need to be aware that test results from same branch fluctuate a bit.)","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347427774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/347691395","html_url":"https://github.com/apache/storm/pull/2436#issuecomment-347691395","issue_url":"https://api.github.com/repos/apache/storm/issues/2436","id":347691395,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzY5MTM5NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-28T22:53:11Z","updated_at":"2017-11-28T22:53:11Z","author_association":"CONTRIBUTOR","body":"Addressed by 107a9c9","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347691395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613047646","html_url":"https://github.com/apache/storm/issues/6615#issuecomment-2613047646","issue_url":"https://api.github.com/repos/apache/storm/issues/6615","id":2613047646,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDc2NDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-28T22:57:31Z","updated_at":"2025-01-24T17:29:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\" class=\"user-hover\" rel=\"revans2\">Robert Joseph Evans</a>, I merged into master, 1.x, 1.1.x branches.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613047646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/347876511","html_url":"https://github.com/apache/storm/pull/2439#issuecomment-347876511","issue_url":"https://api.github.com/repos/apache/storm/issues/2439","id":347876511,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Nzg3NjUxMQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T14:28:59Z","updated_at":"2017-11-29T14:28:59Z","author_association":"CONTRIBUTOR","body":"@MichealShin thanks I merged this in.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347876511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/347886763","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-347886763","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":347886763,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Nzg4Njc2Mw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T15:01:42Z","updated_at":"2017-11-29T15:01:42Z","author_association":"CONTRIBUTOR","body":"The new overhead for metrics_v2_replace_meters_to_counters_with_sampling looks like it is in an acceptable range for me.  Right about a 1% difference for latency.  (0.97% to 1.29%) and right about a 1.8% to 1.9% difference for CPU usage.  It is also good to see that even if we turn off the sub sampling there is not too much of an increase in the overhead.\r\n\r\nI would be +1 for merging this in (from a performance perspective still need to look at the code in more depth), assuming that we can get similar results for 2.x and with a plan to have the old API deprecated in 2.x and completely removed in a 3.x release.\r\n\r\nWe also need to make sure that we have the naming convention figured out or some kind of tag support so that we can properly do rollups for different types of metrics. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347886763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/347920601","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-347920601","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":347920601,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzkyMDYwMQ==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T16:42:57Z","updated_at":"2017-11-29T16:42:57Z","author_association":"CONTRIBUTOR","body":"Could you clarify what the bug is here? I'm having trouble understanding why this could cause issues. `waitingToEmit` is an iterator on a list that we don't use for anything else, so I'm not clear on why we even need to call `waitingToEmit.remove()`?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347920601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/347939593","html_url":"https://github.com/apache/storm/pull/2430#issuecomment-347939593","issue_url":"https://api.github.com/repos/apache/storm/issues/2430","id":347939593,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzkzOTU5Mw==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T17:45:26Z","updated_at":"2017-11-29T17:45:26Z","author_association":"CONTRIBUTOR","body":"Thanks @Ethanlm, merged to master. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347939593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/347944463","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-347944463","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":347944463,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Nzk0NDQ2Mw==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T18:02:07Z","updated_at":"2017-11-29T18:02:07Z","author_association":"MEMBER","body":"@HeartSaVioR Thanks for the update. I pulled your changes into the metrics_v2 branch.\r\n\r\n@revans2 I'll start working on naming conventions and disallowing certain delimiter characters. If you have any sample paths/names that illustrate your thinking that would be helpful. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/347944463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348019744","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-348019744","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":348019744,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODAxOTc0NA==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T22:35:08Z","updated_at":"2017-11-29T22:37:25Z","author_association":"CONTRIBUTOR","body":"Yes, you are right. Technically it is not necessary to remove the elements from the collection. Nevertheless, this code change addresses the following, important, issues:\r\n\r\n1. Calling next() before hasNext() can throw NoSuchElementException\r\n2. It is good practice remove the elements from the iterator (list) for two reasons\r\n   a.  to relief memory pressure. Otherwise, until a new poll happens, all the tuples will remain in memory\r\n   b. It makes sense from a system internals standpoint: Once you emit the record/tuple, it should no longer be in the waitingToEmit. Why should it be on this list, if it has already been emitted?\r\n3. The code as is (i.e. keeping the remove operation) fails to remove the last element from the list. [1]\r\n4. The code has is is a much more common pattern, and hence better practice as compared to the previous one.\r\n\r\nThe only reason I can think not to remove the elements from this list is performance. If we feel it gives that much more throughput, we can can consider not removing the elements. However, even if we don't remove the elements the code should be along the lines (perhaps refactoring a bit to avoid the empty body in the while loop)\r\n\r\n```java\r\nwhile (waitingToEmit.hasNext() && !emitTupleIfNotEmitted(waitingToEmit.next()));\r\n```\r\n\r\n[1] - Yes a new iterator is assigned to this reference once a poll comes in, and technically this last element does not have much effect. However, the code is semantically incorrect and it's a trivial fix that should be fixed.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348019744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348025595","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-348025595","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":348025595,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODAyNTU5NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T23:00:14Z","updated_at":"2017-11-29T23:00:49Z","author_association":"CONTRIBUTOR","body":"So there's `hasNext()` in `waitingToEmit()` which made me confused...\r\n\r\nI agree technically the patch may not be required, but I'd like to propose removing `hasNext()` from `waitingToEmit()` and adopt this patch, which helps to read `emit()` method.\r\n\r\nAnd I prefer throwing out the list instead of removing elements when we discard the list just after loop end, but this is not the case so I'm +1 to remove element when element is not needed.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348025595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348026351","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-348026351","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":348026351,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODAyNjM1MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T23:03:24Z","updated_at":"2017-11-30T00:13:04Z","author_association":"CONTRIBUTOR","body":"@ptgoetz These changes were only for measurement so that's why I made commit titles as WIP. You can just squash two commits into one and free to change author (so that we could squash all the commits into one: I don't like having `address review comments` in master's commit list).\r\n\r\nBtw as someone may be noticed, I didn't handle multiplying the value accordingly (based on sample rate) so there's bug on the code. I'll address and provide a single commit which addresses all my works.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348026351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348029534","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-348029534","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":348029534,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODAyOTUzNA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-29T23:17:58Z","updated_at":"2017-11-29T23:17:58Z","author_association":"CONTRIBUTOR","body":"@revans2 \r\nI'm OK to deprecate old metrics API in 2.0 and remove it from 3.0. More important aspect from me is the following up patches from @abellina.\r\n\r\nAs I stated earlier, the patch only migrate small parts of existing metrics to new metrics. In master branch we should migrate all the metrics internally used in Storm codebase to new metrics (do we want to use deprecated API by ourselves?) and then built-in metrics will not be compatible with current metrics transfer mechanism (adding to heartbeat). \r\n\r\nI expect the patches from @abellina will address this point. Right?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348029534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348037693","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-348037693","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":348037693,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODAzNzY5Mw==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T00:00:25Z","updated_at":"2017-11-30T00:00:25Z","author_association":"MEMBER","body":"@HeartSaVioR Agreed/understood. We can squash on merge and cleanup commit messages.\r\n\r\nThis is a feature branch. You can commit directly if you want.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348037693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348055784","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-348055784","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":348055784,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODA1NTc4NA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T01:43:06Z","updated_at":"2017-11-30T01:43:06Z","author_association":"CONTRIBUTOR","body":"@ptgoetz @revans2 Addressed the bug (adding sample rate) which is not expected to affect the performance.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348055784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348103048","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-348103048","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":348103048,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODEwMzA0OA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T07:15:28Z","updated_at":"2017-11-30T07:15:28Z","author_association":"CONTRIBUTOR","body":"@hmcl Thanks for elaborating.\r\n\r\nAs @HeartSaVioR mentions, there's a `hasNext` call in `waitingToEmit()`, which is called before this loop, so I don't think it's possible that we call `next` without calling `hasNext` first. That said, I agree that this change makes the code easier to read, so we should make the change regardless.\r\n\r\nRegarding `waitingToEmit.remove`, we aren't just failing to remove the last element from the list. We end up back in this loop in the next call to `nextTuple` if there are still unemitted records, so we're failing to remove any element that results in a tuple getting emitted, since we skip `waitingToEmit.remove` when `emitTupleIfNotEmitted` returns true. Since we never read any element from `waitingToEmit` more than once, I think we should remove elements as soon as they're read, i.e. something like \r\n```java\r\nwhile (waitingToEmit.hasNext()) {\r\n  boolean emitted = emitTupleIfNotEmitted(waitingToEmit.next());\r\n  waitingToEmit.remove();\r\n  if (emitted) {\r\n    break;\r\n  }\r\n}\r\n```\r\n\r\n@HeartSaVioR We might need to keep the `hasNext` call in `waitingToEmit()` since `waitingToEmit()` is also used to decide whether to poll for new records. I think if we remove it the spout will poll for more tuples even if there are still pending records in the `waitingToEmit` list.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348103048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348106536","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-348106536","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":348106536,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODEwNjUzNg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T07:36:16Z","updated_at":"2017-11-30T07:36:16Z","author_association":"CONTRIBUTOR","body":"@srdo `waitingToEmit()` is also called from `poll()` to determine whether it should poll or not. Got it. Thanks for letting me know. :)","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348106536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348287099","html_url":"https://github.com/apache/storm/pull/2441#issuecomment-348287099","issue_url":"https://api.github.com/repos/apache/storm/issues/2441","id":348287099,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODI4NzA5OQ==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T19:01:49Z","updated_at":"2017-11-30T19:01:49Z","author_association":"CONTRIBUTOR","body":"I think this is the wrong approach. We should exclude slf4j-log4j12 from whichever dependency is including it instead. We want all logging to go to log4j 2 and our worker log, making this change would mean that all logging done to the log4j12 API is lost unless the user adds a log4j12 configuration file to Storm.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348287099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348291348","html_url":"https://github.com/apache/storm/pull/2440#issuecomment-348291348","issue_url":"https://api.github.com/repos/apache/storm/issues/2440","id":348291348,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODI5MTM0OA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T19:16:31Z","updated_at":"2017-11-30T19:16:31Z","author_association":"CONTRIBUTOR","body":"+1, nice catch","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348291348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613035672","html_url":"https://github.com/apache/storm/issues/6507#issuecomment-2613035672","issue_url":"https://api.github.com/repos/apache/storm/issues/6507","id":2613035672,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwMzU2NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T20:02:15Z","updated_at":"2025-01-24T17:22:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=govindmenon\">govindmenon</a>:</i>\n<p>Sub task for UI and Resource summaries</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613035672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613048373","html_url":"https://github.com/apache/storm/issues/6622#issuecomment-2613048373","issue_url":"https://api.github.com/repos/apache/storm/issues/6622","id":2613048373,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDgzNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T20:02:58Z","updated_at":"2025-01-24T17:29:59Z","author_association":"COLLABORATOR","body":"Subtask of parent task STORM-2725","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613048373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348304347","html_url":"https://github.com/apache/storm/pull/2437#issuecomment-348304347","issue_url":"https://api.github.com/repos/apache/storm/issues/2437","id":348304347,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODMwNDM0Nw==","user":{"login":"govind-menon","id":2053016,"node_id":"MDQ6VXNlcjIwNTMwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/2053016?v=4","gravatar_id":"","url":"https://api.github.com/users/govind-menon","html_url":"https://github.com/govind-menon","followers_url":"https://api.github.com/users/govind-menon/followers","following_url":"https://api.github.com/users/govind-menon/following{/other_user}","gists_url":"https://api.github.com/users/govind-menon/gists{/gist_id}","starred_url":"https://api.github.com/users/govind-menon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/govind-menon/subscriptions","organizations_url":"https://api.github.com/users/govind-menon/orgs","repos_url":"https://api.github.com/users/govind-menon/repos","events_url":"https://api.github.com/users/govind-menon/events{/privacy}","received_events_url":"https://api.github.com/users/govind-menon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T20:03:17Z","updated_at":"2017-11-30T20:03:17Z","author_association":"CONTRIBUTOR","body":"@revans2  There is now - https://issues.apache.org/jira/browse/STORM-2840","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348304347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348321924","html_url":"https://github.com/apache/storm/pull/2441#issuecomment-348321924","issue_url":"https://api.github.com/repos/apache/storm/issues/2441","id":348321924,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODMyMTkyNA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T21:11:10Z","updated_at":"2017-11-30T21:11:10Z","author_association":"CONTRIBUTOR","body":"@srdo I agree that we don't want slf4j-log4j12 on the classpath whenever possible. The use case we have is adding hadoop to our daemon classpath with all of the configs and everything else needed to really make it work properly from an existing Hadoop install.  The simplest way to make that happen is to call `hadoop classpath` but with that there is no simple way to remove anything from that classpath because wild cards are supported.\r\n\r\nIf you really don't want to switch the jars we use we can find an alternative approach but it is not nearly going to be as simple of a solution.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348321924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348347722","html_url":"https://github.com/apache/storm/pull/2441#issuecomment-348347722","issue_url":"https://api.github.com/repos/apache/storm/issues/2441","id":348347722,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODM0NzcyMg==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-11-30T22:55:26Z","updated_at":"2017-11-30T22:55:26Z","author_association":"CONTRIBUTOR","body":"Thanks @revans2 for the reply","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348347722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348453894","html_url":"https://github.com/apache/storm/pull/1968#issuecomment-348453894","issue_url":"https://api.github.com/repos/apache/storm/issues/1968","id":348453894,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODQ1Mzg5NA==","user":{"login":"skynet2982","id":7713432,"node_id":"MDQ6VXNlcjc3MTM0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/7713432?v=4","gravatar_id":"","url":"https://api.github.com/users/skynet2982","html_url":"https://github.com/skynet2982","followers_url":"https://api.github.com/users/skynet2982/followers","following_url":"https://api.github.com/users/skynet2982/following{/other_user}","gists_url":"https://api.github.com/users/skynet2982/gists{/gist_id}","starred_url":"https://api.github.com/users/skynet2982/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skynet2982/subscriptions","organizations_url":"https://api.github.com/users/skynet2982/orgs","repos_url":"https://api.github.com/users/skynet2982/repos","events_url":"https://api.github.com/users/skynet2982/events{/privacy}","received_events_url":"https://api.github.com/users/skynet2982/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-01T10:03:02Z","updated_at":"2017-12-01T10:03:02Z","author_association":"NONE","body":"In my job we are currently using storm 1.0.3. It will be great if in version 1.0.X of storm the last Zookeeper 3.4.X can be integrated. Their is a lot of bug fixes that we will enjoy to have :)","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348453894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348621510","html_url":"https://github.com/apache/storm/pull/2441#issuecomment-348621510","issue_url":"https://api.github.com/repos/apache/storm/issues/2441","id":348621510,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODYyMTUxMA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-01T21:40:23Z","updated_at":"2017-12-01T21:43:38Z","author_association":"CONTRIBUTOR","body":"Thanks for explaining @revans2. \r\n\r\nI think I misunderstood the problem.\r\n\r\nPlease correct me if I get any of this wrong, I'm not very familiar with Hadoop: \r\n\r\nThe issue is that you want the daemons to use HdfsBlobStore, which requires you to put storm-hdfs on the daemon classpath, and additionally add the output of `hadoop classpath` to the daemon classpath in order to load the Hadoop jars and configuration files. For any topology code you'd just be handling excluding slf4j-log4j12 through the usual Maven exclusion mechanism, but for the daemons you can't easily remove slf4j-log4j12 because you'd have to filter `hadoop classpath` somehow.\r\n\r\nI don't like putting log4j-1.2-api on the classpath as a fix for this because we'll lose whatever is logged to the log4j 1 interface. There is also a second related issue that is not fixed by adding log4j-1.2-api; we'll have multiple SLF4J bindings on the daemon classpath. Since Hadoop adds slf4j-log4j12 (log4j 1) and Storm ships with log4j-slf4j-impl (log4j 2), we can't be sure which logging implementation SLF4J will bind to (and where the daemon log will go). Per the SLF4J documentation regarding multiple bindings: \r\n\r\n> The warning emitted by SLF4J is just that, a warning. Even when multiple bindings are present, SLF4J will pick one logging framework/implementation and bind with it. The way SLF4J picks a binding is determined by the JVM and for all practical purposes should be considered random. As of version 1.6.6, SLF4J will name the framework/implementation class it is actually bound to.\r\n\r\nIt seems someone else encountered this issue at https://issues.apache.org/jira/browse/HADOOP-13344. It might make sense to lobby a bit to get that feature added. If we're going to add log4j-1.2-api to the daemon classpath I'd like it to be only temporarily until the linked issue makes it in, and then log4j-1.2-api would probably need to be only on the daemon classpath and not in any of the external modules or the worker classpath to avoid interfering with topologies that use log4j-over-slf4j. \r\n\r\nAn alternative temporary fix would be writing a script or program that could expand the Hadoop classpath wildcards that contain slf4j-log4j12* and remove that jar? That way we could provide the functionality of https://issues.apache.org/jira/browse/HADOOP-13344 ourselves until that feature makes it in.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348621510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348663475","html_url":"https://github.com/apache/storm/pull/2428#issuecomment-348663475","issue_url":"https://api.github.com/repos/apache/storm/issues/2428","id":348663475,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODY2MzQ3NQ==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-02T03:06:50Z","updated_at":"2017-12-02T03:06:50Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR @srdo I will finalize my review by Monday PST","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348663475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348868723","html_url":"https://github.com/apache/storm/pull/2365#issuecomment-348868723","issue_url":"https://api.github.com/repos/apache/storm/issues/2365","id":348868723,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODg2ODcyMw==","user":{"login":"liu-zhaokun","id":25218975,"node_id":"MDQ6VXNlcjI1MjE4OTc1","avatar_url":"https://avatars.githubusercontent.com/u/25218975?v=4","gravatar_id":"","url":"https://api.github.com/users/liu-zhaokun","html_url":"https://github.com/liu-zhaokun","followers_url":"https://api.github.com/users/liu-zhaokun/followers","following_url":"https://api.github.com/users/liu-zhaokun/following{/other_user}","gists_url":"https://api.github.com/users/liu-zhaokun/gists{/gist_id}","starred_url":"https://api.github.com/users/liu-zhaokun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liu-zhaokun/subscriptions","organizations_url":"https://api.github.com/users/liu-zhaokun/orgs","repos_url":"https://api.github.com/users/liu-zhaokun/repos","events_url":"https://api.github.com/users/liu-zhaokun/events{/privacy}","received_events_url":"https://api.github.com/users/liu-zhaokun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-04T06:08:03Z","updated_at":"2017-12-04T06:08:03Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR  @revans2 \r\nHi,are you available to help me review this PR?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348868723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/348944644","html_url":"https://github.com/apache/storm/pull/2443#issuecomment-348944644","issue_url":"https://api.github.com/repos/apache/storm/issues/2443","id":348944644,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODk0NDY0NA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-04T12:10:17Z","updated_at":"2017-12-04T12:10:17Z","author_association":"CONTRIBUTOR","body":"While working with Streams API, I feel the needs for Source (typed Spout) and Sink (typed Sink Bolt) so have been thinking about interfaces/abstract classes, but due to ACK mechanism and various approaches of implementing external sink bolts, hiding concept of `Tuple` doesn't look like easy.\r\n\r\nI have another wondering case to windowing with timestamp field: Streams API doesn't expose field name, but Streams API still receive field name for timestamp field. It may need to be addressed before STORM-2405 (support windowing aggregation in SQL).","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/348944644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349081326","html_url":"https://github.com/apache/storm/pull/2409#issuecomment-349081326","issue_url":"https://api.github.com/repos/apache/storm/issues/2409","id":349081326,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTA4MTMyNg==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-04T19:40:08Z","updated_at":"2017-12-04T19:40:08Z","author_association":"CONTRIBUTOR","body":"@ptgoetz I would suggest putting in different patches the that the minor refactoring around coding style and adding adding Javadoc. Also, can you please squash the commits once you have the necessary +1 to get the patches merged. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349081326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349158133","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-349158133","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":349158133,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTE1ODEzMw==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T00:50:52Z","updated_at":"2017-12-05T00:50:52Z","author_association":"CONTRIBUTOR","body":"@srdo @HeartSaVioR thanks for the review. Can you please take another look. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349158133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349159220","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-349159220","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":349159220,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTE1OTIyMA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T00:56:45Z","updated_at":"2017-12-05T00:56:45Z","author_association":"CONTRIBUTOR","body":"@hmcl \r\nI'm still +1 and I think @srdo agreed to make change. Let's merge in.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349159220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613029498","html_url":"https://github.com/apache/storm/issues/6448#issuecomment-2613029498","issue_url":"https://api.github.com/repos/apache/storm/issues/6448","id":2613029498,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwMjk0OTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T02:24:25Z","updated_at":"2025-01-24T17:19:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hmclouro\">hmclouro</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Srdo\" class=\"user-hover\" rel=\"srdo\">Stig Rohde Døssing</a> <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=GuangDu\" class=\"user-hover\" rel=\"GuangDu\">Guang Du</a> Can you please clarify the comment made at 14/Aug/17 16:10. I think I have found another bug related to this.</p>\n\n<p>In the presence of this <a href=\"https://github.com/apache/storm/blob/1.x-branch/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L158\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">piece of code</a>, how is it possible this to happen \"<em>Reassign partitions before commit happens. Keep partition 0 assigned to this spout.</em>\" ?</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613029498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349219021","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-349219021","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":349219021,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTIxOTAyMQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T07:26:27Z","updated_at":"2017-12-05T07:29:28Z","author_association":"CONTRIBUTOR","body":"Sorry I didn't recognize the code has changed. I'll revoke my +1 and take a look. My bad.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349219021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613047735","html_url":"https://github.com/apache/storm/issues/6616#issuecomment-2613047735","issue_url":"https://api.github.com/repos/apache/storm/issues/6616","id":2613047735,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDc3MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T07:29:58Z","updated_at":"2025-01-24T17:29:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ethanli\" class=\"user-hover\" rel=\"ethanli\">Ethan Li</a>, I merged into master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613047735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613029503","html_url":"https://github.com/apache/storm/issues/6448#issuecomment-2613029503","issue_url":"https://api.github.com/repos/apache/storm/issues/6448","id":2613029503,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwMjk1MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T07:43:45Z","updated_at":"2025-01-24T17:19:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hmclouro\" class=\"user-hover\" rel=\"hmclouro\">Hugo Da Cruz Louro</a> I think you are right and the example is wrong. It can't happen that partitions are reassigned before committing. It was still possible to produce the bad state though. Here's a modified sequence without the <em>Reassign partitions before commit happens. Keep partition 0 assigned to this spout.</em> part.</p>\n\n<p>Say there are partition 0 - 10, and this spout is assigned partition 0, and has currently committed up to offset 0.<br/>\nEmit offset 0-100<br/>\nAck offset 0-100, except offset 50<br/>\nCommit and reassign partitions. Keep partition 0 assigned to this spout. Offsets 0-49 are committed (i.e. we call commitSync with offset 50 so the consumer will restart there).<br/>\nReassignment logic does not remove the offset manager for partition 0, so 51-100 are still acked.<br/>\nReassignment logic seeks the consumer back to the committed offset for all assigned partitions, including partition 0. The consumer position for partition 0 is now 50.<br/>\nAck offset 50<br/>\nNextTuple is called, and commit of offset 50-100 happens.<br/>\nOffsets 50 - 100 are emitted again, because the consumer position was 50. Since 50-100 were committed, they're no longer considered emitted/acked, so the spout will emit them. The spout is now in a bad state, and when 50-100 are acked, the offset manager will complain in the log.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613029503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349224102","html_url":"https://github.com/apache/storm/pull/2442#issuecomment-349224102","issue_url":"https://api.github.com/repos/apache/storm/issues/2442","id":349224102,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTIyNDEwMg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T07:53:05Z","updated_at":"2017-12-05T07:53:05Z","author_association":"CONTRIBUTOR","body":"I have been feeling that many schedulers co-exist today, and some schedulers occupy config keys which don't contain scheduler name or so to determine the usage, and so as newly added configurations.\r\n\r\nGiven that there're lots of efforts on RAS, I would like to see which schedulers are also covered via RAS, and if it covers most of schedulers existing today, I think we can change the default scheduler to RAS.\r\n\r\nIf we don't want to make RAS default yet, the configuration keys should contain the mark for determining RAS, or at least documented in javadoc.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349224102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349226029","html_url":"https://github.com/apache/storm/pull/2440#issuecomment-349226029","issue_url":"https://api.github.com/repos/apache/storm/issues/2440","id":349226029,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTIyNjAyOQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T08:02:11Z","updated_at":"2017-12-05T08:02:11Z","author_association":"CONTRIBUTOR","body":"Thanks @hmcl I merged this into 1.x-branch again.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349226029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349385338","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-349385338","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":349385338,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTM4NTMzOA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-05T17:52:06Z","updated_at":"2017-12-05T17:52:06Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349385338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612979379","html_url":"https://github.com/apache/storm/issues/6088#issuecomment-2612979379","issue_url":"https://api.github.com/repos/apache/storm/issues/6088","id":2612979379,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NzkzNzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T12:24:33Z","updated_at":"2025-01-24T16:54:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roshan_naik\">roshan_naik</a>:</i>\n<p>Since the PR webpage has become terribly slow due to the large number of comments, moving the non-code-review type conversation to the JIRA. </p>\n\n<p>The PR is ready to move forward with additional reviews and testing by anyone interested in test driving their topologies on this (much appreciated!).</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>I believe all the key issues raised so far should be addressed, please take a look.  Also includes fixes to issues discovered during testing and perf runs.</li>\n\t<li>Have added a new design doc detailing the BackPressure model. That is the part that has undergone the most change off late.</li>\n\t<li>Based on my observations from perf runs and prior feedback on the PR, the new defaults have been tweaked to make it easy for existing workloads to transition to this with minimal or no tweaking but still get good perf.</li>\n\t<li>My colleague is in the process of running some perf numbers comparing master vs the latest 2306. Will share them soon.</li>\n</ul>\n\n\n<p>cc: <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\" class=\"user-hover\" rel=\"revans2\">Robert Joseph Evans</a> </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612979379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349633559","html_url":"https://github.com/apache/storm/pull/2447#issuecomment-349633559","issue_url":"https://api.github.com/repos/apache/storm/issues/2447","id":349633559,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTYzMzU1OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T13:04:40Z","updated_at":"2017-12-06T13:04:40Z","author_association":"CONTRIBUTOR","body":"I've also refactored some classes.\r\n\r\nThere's huge increase in build time (close to 10 mins addition) which is due to migrate each test method to submit topology in local cluster. It ends up taking around 10 secs or more for each test method.\r\n\r\nI'll try to come up with simple execution engine which is likely similar to standalone mode, but much simpler.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349633559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613048999","html_url":"https://github.com/apache/storm/issues/6626#issuecomment-2613048999","issue_url":"https://api.github.com/repos/apache/storm/issues/6626","id":2613048999,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDg5OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T16:05:39Z","updated_at":"2025-01-24T17:30:18Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hmclouro\" class=\"user-hover\" rel=\"hmclouro\">Hugo Da Cruz Louro</a> I took another look at the <a href=\"https://issues.apache.org/jira/browse/STORM-2666\" title=\"Storm-kafka-client spout can sometimes emit messages that were already committed. \" class=\"issue-link\" data-issue-key=\"STORM-2666\"><del>STORM-2666</del></a> fix, and I think there is another case where that fix is incomplete.</p>\n\n<p><a href=\"https://issues.apache.org/jira/browse/STORM-2666\" title=\"Storm-kafka-client spout can sometimes emit messages that were already committed. \" class=\"issue-link\" data-issue-key=\"STORM-2666\"><del>STORM-2666</del></a> was supposed to ensure that once offset <em>n</em> is committed in the OffsetManager, any offset <em>k</em> < <em>n</em> won't be emitted again. <a href=\"https://issues.apache.org/jira/browse/STORM-2666\" title=\"Storm-kafka-client spout can sometimes emit messages that were already committed. \" class=\"issue-link\" data-issue-key=\"STORM-2666\"><del>STORM-2666</del></a> adjusts the KafkaConsumer position when tuples are committed to prevent this. </p>\n\n<p>I missed that waitingToEmit might contain records that are behind the committed offset. We need to make sure that once offsets get committed, any records behind the committed offset are removed from waitingToEmit as well. I'd raise a new issue for this and fix it, but I'm wondering if you want to handle it in the PR for this as well, since it's likely going to involve some of the same code?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613048999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049007","html_url":"https://github.com/apache/storm/issues/6626#issuecomment-2613049007","issue_url":"https://api.github.com/repos/apache/storm/issues/6626","id":2613049007,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDkwMDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T19:31:47Z","updated_at":"2025-01-24T17:30:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hmclouro\">hmclouro</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Srdo\" class=\"user-hover\" rel=\"srdo\">Stig Rohde Døssing</a> I can take a look. If my patch does not address this we can then create a follow up JIRA.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049013","html_url":"https://github.com/apache/storm/issues/6626#issuecomment-2613049013","issue_url":"https://api.github.com/repos/apache/storm/issues/6626","id":2613049013,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDkwMTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T20:24:15Z","updated_at":"2025-01-24T17:30:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hmclouro\">hmclouro</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Srdo\" class=\"user-hover\" rel=\"srdo\">Stig Rohde Døssing</a> it is unrelated with this ticket but I was looking into the code as part of the fix. </p>\n\n<p>Do you know what is the reasoning behind having totalTaskCount+1 in the following line of <a href=\"https://github.com/apache/storm/blob/1.x-branch/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/RoundRobinManualPartitioner.java#L45\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">code</a>? Is it possible for totalTaskCount to be zero? Thanks.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049015","html_url":"https://github.com/apache/storm/issues/6626#issuecomment-2613049015","issue_url":"https://api.github.com/repos/apache/storm/issues/6626","id":2613049015,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDkwMTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-06T20:32:15Z","updated_at":"2025-01-24T17:30:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p>No, I don't know why it adds 1. It doesn't make sense for totalTaskCount to be 0 as far as I can tell. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349827149","html_url":"https://github.com/apache/storm/pull/2447#issuecomment-349827149","issue_url":"https://api.github.com/repos/apache/storm/issues/2447","id":349827149,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTgyNzE0OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T01:02:46Z","updated_at":"2017-12-07T01:02:46Z","author_association":"CONTRIBUTOR","body":"Now I found the way to reduce the test execution time: rely on Avatica for some expression tests, which Calcite is also using the approach for its tests.\r\n\r\nBuild result in my local:\r\n\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary:\r\n[INFO]\r\n[INFO] storm-sql-runtime .................................. SUCCESS [ 11.822 s]\r\n[INFO] storm-sql-core ..................................... SUCCESS [01:39 min]\r\n[INFO] storm-sql-kafka .................................... SUCCESS [  3.782 s]\r\n[INFO] storm-sql-redis .................................... SUCCESS [  5.142 s]\r\n[INFO] storm-sql-mongodb .................................. SUCCESS [  3.638 s]\r\n[INFO] storm-sql-hdfs ..................................... SUCCESS [ 11.517 s]\r\n[INFO] sql ................................................ SUCCESS [  0.035 s]\r\n[INFO] ------------------------------------------------------------------------\r\n```","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349827149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/349914939","html_url":"https://github.com/apache/storm/pull/2448#issuecomment-349914939","issue_url":"https://api.github.com/repos/apache/storm/issues/2448","id":349914939,"node_id":"MDEyOklzc3VlQ29tbWVudDM0OTkxNDkzOQ==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T09:41:52Z","updated_at":"2017-12-07T09:41:52Z","author_association":"MEMBER","body":"Thanks @Ethanlm Merged into master.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/349914939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049397","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049397","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049397,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDkzOTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T17:57:47Z","updated_at":"2025-01-24T17:30:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\" class=\"user-hover\" rel=\"erosebrook\">Evan Rosebrook</a> Do you have a few more lines of the stack trace? I'm curious if the commit is happening in the rebalance listener.</p>\n\n<p>Also just so I know which version of the code to look at, which commit is your build of 1.2.0 from?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350060810","html_url":"https://github.com/apache/storm/pull/2448#issuecomment-350060810","issue_url":"https://api.github.com/repos/apache/storm/issues/2448","id":350060810,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA2MDgxMA==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T18:55:25Z","updated_at":"2017-12-07T18:55:25Z","author_association":"CONTRIBUTOR","body":"@Ethanlm can you please \"Quick Fix\" with \"MINOR: \" Thanks.\r\n+1 after fixing the commit message.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350060810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350062055","html_url":"https://github.com/apache/storm/pull/2448#issuecomment-350062055","issue_url":"https://api.github.com/repos/apache/storm/issues/2448","id":350062055,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA2MjA1NQ==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T18:59:54Z","updated_at":"2017-12-07T18:59:54Z","author_association":"CONTRIBUTOR","body":"@hmcl  This is merged already. Is it possible to change the commit message?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350062055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350065435","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-350065435","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":350065435,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA2NTQzNQ==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T19:12:23Z","updated_at":"2017-12-07T19:12:23Z","author_association":"CONTRIBUTOR","body":"+1, @ptgoetz @HeartSaVioR  , are there any more changes planned in this patch? If no can we look at merging asap so that it can be included in 1.2.0?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350065435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350065921","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-350065921","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":350065921,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA2NTkyMQ==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T19:14:16Z","updated_at":"2017-12-07T19:14:16Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR , can we look at merging this if your comments have been addressed ?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350065921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350066564","html_url":"https://github.com/apache/storm/pull/2428#issuecomment-350066564","issue_url":"https://api.github.com/repos/apache/storm/issues/2428","id":350066564,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA2NjU2NA==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T19:16:53Z","updated_at":"2017-12-07T19:16:53Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR can we look at merging this? @hmcl if you have any further comments you can put it here asap.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350066564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350081895","html_url":"https://github.com/apache/storm/pull/2448#issuecomment-350081895","issue_url":"https://api.github.com/repos/apache/storm/issues/2448","id":350081895,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA4MTg5NQ==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T20:16:21Z","updated_at":"2017-12-07T20:16:21Z","author_association":"CONTRIBUTOR","body":"@Ethanlm yeah, I noticed it right after my comment. Somehow I had not refreshed my PRs view. If it is easy I will change the commit message since I am about to merge something. Otherwise we will just leave it.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350081895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350082213","html_url":"https://github.com/apache/storm/pull/2448#issuecomment-350082213","issue_url":"https://api.github.com/repos/apache/storm/issues/2448","id":350082213,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA4MjIxMw==","user":{"login":"Ethanlm","id":14900612,"node_id":"MDQ6VXNlcjE0OTAwNjEy","avatar_url":"https://avatars.githubusercontent.com/u/14900612?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethanlm","html_url":"https://github.com/Ethanlm","followers_url":"https://api.github.com/users/Ethanlm/followers","following_url":"https://api.github.com/users/Ethanlm/following{/other_user}","gists_url":"https://api.github.com/users/Ethanlm/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethanlm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethanlm/subscriptions","organizations_url":"https://api.github.com/users/Ethanlm/orgs","repos_url":"https://api.github.com/users/Ethanlm/repos","events_url":"https://api.github.com/users/Ethanlm/events{/privacy}","received_events_url":"https://api.github.com/users/Ethanlm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T20:17:43Z","updated_at":"2017-12-07T20:17:43Z","author_association":"CONTRIBUTOR","body":"@hmcl  Thanks. Will use \"MINOR:\" next time","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350082213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350091793","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-350091793","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":350091793,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA5MTc5Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T20:56:15Z","updated_at":"2017-12-07T20:56:15Z","author_association":"CONTRIBUTOR","body":"@arunmahadevan \r\nI think there're something not addressed in this PR, and I don't think we can merge before adding document and having patch for master. \r\n\r\n@ptgoetz \r\nCould you revisit this and address remaining comments or file issues if it can be done with follow-up patches? If you don't think they should be addressed, could you leave comments so that we can discuss and make decisions?\r\n\r\n@revans2 \r\nCould you revisit this and sort out remaining things from your side?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350091793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350094305","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-350094305","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":350094305,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA5NDMwNQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T21:06:30Z","updated_at":"2017-12-07T21:06:30Z","author_association":"CONTRIBUTOR","body":"In case of missing, we have unaddressed comments in here:\r\nhttps://github.com/apache/storm/blob/00a382b017c1e29863ac4d9a4449086ef79384e4/storm-core/src/jvm/org/apache/storm/metrics2/StormMetricRegistry.java#L133-L135\r\n\r\nand @revans2 had a voice regarding metadata of metrics, which IMHO looks like non-blocker for the patch, but if it makes sense we need to file a follow-up issue then.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350094305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049399","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049399","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049399,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDkzOTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T21:20:51Z","updated_at":"2025-01-24T17:30:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\">erosebrook</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Srdo\" class=\"user-hover\" rel=\"srdo\">Stig Rohde Døssing</a> This is all I have at the moment. If you need more I can get that for you tomorrow. It was on the latest commit as of this morning.</p>\n\n<p>java.lang.IllegalArgumentException: You can only check the position for partitions assigned to this consumer. at org.apache.kafka.clients.consumer.KafkaConsumer.position(KafkaConsumer.java:1262) at org.apache.storm.kafka.spout.KafkaSpout.emitTupleIfNotEmitted(KafkaSpout.java:328) at org.apache.storm.kafka.spout.KafkaSpout.emit(KafkaSpout.java:309) at org.apache.storm.kafka.spout.KafkaSpout.nextTuple(KafkaSpout.java:233) at org.apache.storm.daemon.executor$fn_<em>4976$fn</em><em>4991$fn</em><em>5022.invoke(executor.clj:644) at org.apache.storm.util$async_loop$fn</em>_557.invoke(util.clj:484) at clojure.lang.AFn.run(AFn.java:22) at java.lang.Thread.run(Thread.java:745)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350099970","html_url":"https://github.com/apache/storm/pull/2428#issuecomment-350099970","issue_url":"https://api.github.com/repos/apache/storm/issues/2428","id":350099970,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDA5OTk3MA==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T21:29:39Z","updated_at":"2017-12-07T21:29:39Z","author_association":"CONTRIBUTOR","body":"@arunmahadevan I am looking into this now. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350099970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049401","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049401","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049401,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0MDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T21:50:50Z","updated_at":"2025-01-24T17:30:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\" class=\"user-hover\" rel=\"erosebrook\">Evan Rosebrook</a> Those line numbers don't match up with the line numbers from 1.x-branch (the 1.2.0 branch). See for example <a href=\"https://github.com/apache/storm/blob/1.x-branch/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L328\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/1.x-branch/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L328</a> which is supposed to be where emitTupleIfNotEmitted starts according to the stack trace. We haven't merged anything to storm-kafka-client since a few days ago as far as I know. I checked 1.1.x-branch, 1.0.x-branch and master as well (1.0.6, 1.1.2 and 2.0.0 respectively) and the line numbers don't match up to your stack trace either.</p>\n\n<p>I'm assuming the new stack trace is unrelated to the original, since the new trace doesn't contain org.apache.storm.kafka.spout.KafkaSpout.commitOffsetsForAckedTuples(KafkaSpout.java:473)?</p>\n\n<p>It would be good if you could find the commit hash you built from.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350117272","html_url":"https://github.com/apache/storm/pull/2438#issuecomment-350117272","issue_url":"https://api.github.com/repos/apache/storm/issues/2438","id":350117272,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDExNzI3Mg==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T22:42:45Z","updated_at":"2017-12-07T22:42:45Z","author_association":"CONTRIBUTOR","body":"@arunmahadevan @HeartSaVioR @srdo this patch has been merged into master and 1.x-branch","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350117272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613047857","html_url":"https://github.com/apache/storm/issues/6617#issuecomment-2613047857","issue_url":"https://api.github.com/repos/apache/storm/issues/6617","id":2613047857,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDc4NTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T22:49:31Z","updated_at":"2025-01-24T17:29:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hmclouro\">hmclouro</a>:</i>\n<p>For discussion thread please see the associated GitHub</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613047857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350131454","html_url":"https://github.com/apache/storm/pull/2443#issuecomment-350131454","issue_url":"https://api.github.com/repos/apache/storm/issues/2443","id":350131454,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDEzMTQ1NA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-07T23:56:31Z","updated_at":"2017-12-07T23:56:31Z","author_association":"CONTRIBUTOR","body":"@srdo Thanks again for the detailed review. Addressed review comments.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350131454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049403","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049403","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049403,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T01:19:20Z","updated_at":"2025-01-24T17:30:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\">erosebrook</a>:</i>\n<p>Apologies <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Srdo\" class=\"user-hover\" rel=\"srdo\">Stig Rohde Døssing</a> , the second stack trace is from a fix I was playing with for the 1.1.x-branch. I am having trouble with rebalance there as well. Ultimately it seemed like I needed some of your recent changes from the 1.x-branch. Here is the rest of the stack trace. Commit 31133fdcecb5e83317729de67ef7ea12a1bd9929</p>\n\n<p>java.lang.IllegalArgumentException: You can only check the position for partitions assigned to this consumer. at org.apache.kafka.clients.consumer.KafkaConsumer.position(KafkaConsumer.java:1262) at org.apache.storm.kafka.spout.KafkaSpout.commitOffsetsForAckedTuples(KafkaSpout.java:473) at org.apache.storm.kafka.spout.KafkaSpout.nextTuple(KafkaSpout.java:239) at org.apache.storm.daemon.executor$fn_<em>4976$fn</em><em>4991$fn</em><em>5022.invoke(executor.clj:644) at org.apache.storm.util$async_loop$fn</em>_557.invoke(util.clj:484) at clojure.lang.AFn.run(AFn.java:22) at java.lang.Thread.run(Thread.java:745)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350150029","html_url":"https://github.com/apache/storm/pull/2449#issuecomment-350150029","issue_url":"https://api.github.com/repos/apache/storm/issues/2449","id":350150029,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDE1MDAyOQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T01:58:15Z","updated_at":"2017-12-08T02:32:10Z","author_association":"CONTRIBUTOR","body":"There's another perspective on me: why we need to associate hadoop classpath to Storm, even Storm is playing as just a HDFS client. \r\n\r\nDo we need to provide a profile on storm-hdfs so that it can be packaged as uber jar? If we provide opportunity to build the uber jar for storm-hdfs, we can place storm-hdfs uber jar on the ext-daemon path which contains much less dependencies (don't contain jersey AFAIK) and we don't need to require Hadoop to be installed on Storm node.\r\n\r\nSimiar but not closer issues are in storm-autocreds and topology state. \r\n\r\nstorm-autocreds resolves the issue to creating assembly directory, so users can link to the ext/ext-daemon path. That enables us to manage dependency more finer grained but completely manual after providing dependencies.\r\n\r\nWith regarding to topology state, we can remedy the issue to specify `--artifacts` option while submitting topology. The option doesn't exist on daemons, and given that it relies on blobstore, it is not possible for daemons to utilize the option anyway.\r\n\r\nps. \r\nOne huge downside from storm-autocreds is that it has all the things together as dependencies: HDFS, HBase, Hive, and worse thing is that storm-hdfs, storm-hbase, storm-hive depends on storm-autocreds so all the dependencies are coupled now. Looks like it should be fixed.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350150029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049408","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049408","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049408,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0MDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T02:02:03Z","updated_at":"2025-01-24T17:30:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\">erosebrook</a>:</i>\n<p>the problems persists in 53c2c677e1066df1ac97b7a62a2d41cab484ecbd</p>\n\n<p>java.lang.IllegalArgumentException: You can only check the position for partitions assigned to this consumer. at org.apache.kafka.clients.consumer.KafkaConsumer.position(KafkaConsumer.java:1262) at org.apache.storm.kafka.spout.KafkaSpout.commitOffsetsForAckedTuples(KafkaSpout.java:475) at org.apache.storm.kafka.spout.KafkaSpout.nextTuple(KafkaSpout.java:239) at org.apache.storm.daemon.executor$fn_<em>4976$fn</em><em>4991$fn</em><em>5022.invoke(executor.clj:644) at org.apache.storm.util$async_loop$fn</em>_557.invoke(util.clj:484) at clojure.lang.AFn.run(AFn.java:22) at java.lang.Thread.run(Thread.java:745)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350150976","html_url":"https://github.com/apache/storm/pull/2449#issuecomment-350150976","issue_url":"https://api.github.com/repos/apache/storm/issues/2449","id":350150976,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDE1MDk3Ng==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T02:04:28Z","updated_at":"2017-12-08T02:04:28Z","author_association":"CONTRIBUTOR","body":"We (as a one of maintainer of project) may be annoying, but someone would not want to manage their own dependencies and want to have Hadoop dependency build-in distribution. Spark and Flink provides the option to select the Hadoop version. That may be another option, if majority is using Storm with HDFS.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350150976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350182503","html_url":"https://github.com/apache/storm/pull/2409#issuecomment-350182503","issue_url":"https://api.github.com/repos/apache/storm/issues/2409","id":350182503,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDE4MjUwMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T06:15:19Z","updated_at":"2017-12-08T06:15:19Z","author_association":"CONTRIBUTOR","body":"+1\r\nThe PR is authored by one, so it doesn't matter merger squashes commits into one with proper commit message. I don't like having more interaction phases between reviewers (+ merger) and author, especially the interaction doesn't take place in time. Let's be less synchronized.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350182503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350184282","html_url":"https://github.com/apache/storm/pull/2409#issuecomment-350184282","issue_url":"https://api.github.com/repos/apache/storm/issues/2409","id":350184282,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDE4NDI4Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T06:28:04Z","updated_at":"2017-12-08T06:28:04Z","author_association":"CONTRIBUTOR","body":"Filed issue for supporting reflist in properties.\r\nhttps://issues.apache.org/jira/browse/STORM-2849","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350184282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049412","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049412","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049412,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0MTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T06:55:00Z","updated_at":"2025-01-24T17:30:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\" class=\"user-hover\" rel=\"erosebrook\">Evan Rosebrook</a> Thanks. I'll try to figure out why this is happening. In the meantime could you post your KafkaSpout configuration and which Kafka version you're using (broker and client)?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350190155","html_url":"https://github.com/apache/storm/pull/2409#issuecomment-350190155","issue_url":"https://api.github.com/repos/apache/storm/issues/2409","id":350190155,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDE5MDE1NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T07:08:36Z","updated_at":"2017-12-08T07:08:36Z","author_association":"CONTRIBUTOR","body":"Also ported back to 1.x-branch via https://github.com/apache/storm/commit/b48421e71258b670062d280efd1084bb52738e9c\r\n\r\n(Resolved merge conflicts and replace java.util.Duration with storm-core's one.)","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350190155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613043350","html_url":"https://github.com/apache/storm/issues/6578#issuecomment-2613043350","issue_url":"https://api.github.com/repos/apache/storm/issues/6578","id":2613043350,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDMzNTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T07:09:10Z","updated_at":"2025-01-24T17:27:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ptgoetz\" class=\"user-hover\" rel=\"ptgoetz\">P. Taylor Goetz</a>, I merged into master and 1.x-branch.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613043350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350194189","html_url":"https://github.com/apache/storm/pull/2409#issuecomment-350194189","issue_url":"https://api.github.com/repos/apache/storm/issues/2409","id":350194189,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDE5NDE4OQ==","user":{"login":"roshannaik","id":2366541,"node_id":"MDQ6VXNlcjIzNjY1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/2366541?v=4","gravatar_id":"","url":"https://api.github.com/users/roshannaik","html_url":"https://github.com/roshannaik","followers_url":"https://api.github.com/users/roshannaik/followers","following_url":"https://api.github.com/users/roshannaik/following{/other_user}","gists_url":"https://api.github.com/users/roshannaik/gists{/gist_id}","starred_url":"https://api.github.com/users/roshannaik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roshannaik/subscriptions","organizations_url":"https://api.github.com/users/roshannaik/orgs","repos_url":"https://api.github.com/users/roshannaik/repos","events_url":"https://api.github.com/users/roshannaik/events{/privacy}","received_events_url":"https://api.github.com/users/roshannaik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T07:33:08Z","updated_at":"2017-12-08T07:33:08Z","author_association":"CONTRIBUTOR","body":"Thanks @ptgoetz !","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350194189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350204954","html_url":"https://github.com/apache/storm/pull/2409#issuecomment-350204954","issue_url":"https://api.github.com/repos/apache/storm/issues/2409","id":350204954,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDIwNDk1NA==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T08:34:31Z","updated_at":"2017-12-08T08:36:45Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR there is not one major project that does not require contributors to squash commits. It takes a few minutes and it makes a world of difference in terms of making the git log easy to understand, and most importantly, easy to cherry-pick. As for the timing of the comments, I do not think that the members of the Storm community should abide for what you think is the right timing. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350204954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350208498","html_url":"https://github.com/apache/storm/pull/2409#issuecomment-350208498","issue_url":"https://api.github.com/repos/apache/storm/issues/2409","id":350208498,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDIwODQ5OA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T08:50:59Z","updated_at":"2017-12-08T08:50:59Z","author_association":"CONTRIBUTOR","body":"@hmcl \r\nI'm on the same page regarding needs for squashing: even in this PR I squashed the commits before merging. I also support merge script and I have been considering to initiate discussion again.\r\n\r\nMost of cases it's just a matter of who to squash, cause the result of squashing is just same regardless of who to squash. Ideally we can request contributors to do that, but in reality I have been encountered so many times I've visited the PR too late (say more than 1 month) and contributor becomes not active as it was, or even gone. In this case requiring something would take several days or even weeks, and in worst case PR becomes forgotten again.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350208498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049416","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049416","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049416,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T16:59:01Z","updated_at":"2025-01-24T17:30:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\">erosebrook</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Srdo\" class=\"user-hover\" rel=\"srdo\">Stig Rohde Døssing</a> Here is the requested info:</p>\n\n<p>kafka-clients: 0.10.2.0<br/>\nkafka-broker: 0.10.1.0</p>\n\n<p>    val retryService = new KafkaSpoutRetryExponentialBackoff(<br/>\n      KafkaSpoutRetryExponentialBackoff.TimeInterval.microSeconds(500),<br/>\n      KafkaSpoutRetryExponentialBackoff.TimeInterval.milliSeconds(2),<br/>\n      10,<br/>\n      KafkaSpoutRetryExponentialBackoff.TimeInterval.seconds(10))</p>\n\n<p>    val recordTranslator = new CustomRecordTranslator(topics, SerializableFactories.getDeserializer)</p>\n\n<p>    new KafkaSpoutConfig.Builder(hosts, classOf<span class=\"error\">&#91;CustomDeserializer&#93;</span>, classOf<span class=\"error\">&#91;CustomDeserializer&#93;</span>, topics)<br/>\n      .setGroupId(consumerGroup)<br/>\n      .setRetry(retryService)<br/>\n      .setRecordTranslator(recordTranslator)<br/>\n      .setProp(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, 10000)<br/>\n      .setProp(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, \"false\")<br/>\n      .setProp(ConsumerConfig.RECEIVE_BUFFER_CONFIG, 1048576)<br/>\n      .setOffsetCommitPeriodMs(500)<br/>\n      .build()</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350342941","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-350342941","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":350342941,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDM0Mjk0MQ==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T18:54:49Z","updated_at":"2017-12-08T18:54:49Z","author_association":"MEMBER","body":"@revans2 (cc @HeartSaVioR ) Regarding metadata, parseable metrics names/paths, etc. what do you think of the following approach?\r\n\r\nIn a nutshell, make everything configurable (with sane defaults), something along the lines:\r\n\r\nMETRICS_V2_PREFIX (String prepended to all metrics paths, replacing hard-coded \"storm.worker\", etc. in current code)\r\nMETRICS_V2_PATH_DELIMITER (String/character used to separate metrics path, replaces hard-coded \".\" in current code.\r\nMETRICS_V2_INVALID_NAME_REGEX (Regex that checks user-supplied metrics names for disallowed characters. Would be used to prevent users from inadvertently breaking up a path, for example by putting a \".\" in a metric name when that's used as the delimiter.\r\n\r\nDoes that seem reasonable?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350342941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049421","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049421","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049421,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T19:19:37Z","updated_at":"2025-01-24T17:30:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\" class=\"user-hover\" rel=\"erosebrook\">Evan Rosebrook</a>. Your configuration and versions look fine to me.</p>\n\n<p>I've spent some time going over the code, and I'm having a hard time spotting the problem.</p>\n\n<p>The exception you're getting from <a href=\"https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L475\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L475</a> is saying that the TopicPartition parameter to KafkaConsumer.position was not assigned to the consumer. I don't understand how that can happen, because the TopicPartition parameter is based on the offsetManagers map, and the key set of that map is set to be exactly the partitions that are assigned to the consumer, at <a href=\"https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L174\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L174</a> and <a href=\"https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L197\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L197</a>.</p>\n\n<p>Could you try to enable debug logging for the org.apache.storm.kafka.spout log domain and provoking the error again? I particularly want to see if the partitions logged at <a href=\"https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L164\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L164</a> match the ones logged at <a href=\"https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L469\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/e2e3f5d19a8671e3759a04b94135fd6643b3aa61/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L469</a>.</p>\n\n<p>I'm also curious if the error happens at random, or does it happen at particular moments?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350354135","html_url":"https://github.com/apache/storm/pull/2451#issuecomment-350354135","issue_url":"https://api.github.com/repos/apache/storm/issues/2451","id":350354135,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDM1NDEzNQ==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T19:42:51Z","updated_at":"2017-12-08T19:42:51Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350354135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350356915","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-350356915","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":350356915,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDM1NjkxNQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T19:54:48Z","updated_at":"2017-12-08T19:54:48Z","author_association":"CONTRIBUTOR","body":"@ptgoetz for me this is all about the metadata for the metric.\r\n\r\nThe code we have been working on for storing metrics in a DB that we can then use for scheduling is getting close to being done.  We have a data structure like the following. (NOTE still a work in progress)\r\n\r\n```\r\nstruct WorkerMetric {\r\n  1: required string metricName;\r\n  2: required i64 timestamp;\r\n  3: required double metricValue;\r\n  4: required string componentId;\r\n  5: required string executorId;\r\n  6: required string streamId;\r\n}\r\n\r\nstruct WorkerMetricList {\r\n  1: list<WorkerMetric> metrics;\r\n}\r\n\r\nstruct WorkerMetrics {\r\n  1: required string topologyId;\r\n  2: required i32 port;\r\n  3: required string hostname;\r\n  4: required WorkerMetricList metricList;\r\n}\r\n```\r\n\r\nHaving metadata separated out for topology, host, port, etc allow us to easily ask questions like how many messages were emitted by all instances of bolt \"B\" on streamId \"default\" for the topology \"T\".  I assume people using ganglia or nagios want to do the same thing without having to setup a separate metric for each bolt/spout/hostname/port combination possible.\r\n\r\nAlmost every metrics system I have seen supports these kinds of metadata or tags, but almost none of the metrics APIs I have seen support this (dropwizard included).  As such we need a way to parse these values out of the metric name in a reliable way.  Making the name more configurable does not help me in this.  In fact it makes it much more difficult.\r\n\r\nThe current proposed format is:\r\n```\r\nString.format(\"storm.worker.%s.%s.%s.%s-%s\", stormId, hostName, componentId, workerPort, name);\r\n```\r\n\r\nIt has most of the information we need.  It is missing the stream id and executor id, which for some internal metrics we really need if we are to replace the metrics on the UI and reduce the load on zookeeper.\r\n\r\nBut the issue for me is how do I get the metadata back out in a reliable way?  topologyid is simple to parse out because there is no '.' character allowed.  hostName is going to have '.' in it, so I don't know what to do there.  ComponentId and streamId I think are totally open so again I am in trouble no matter what I do, and then the name itself we could do some restrictions on to make it simpler.\r\n\r\nAll I want is some API that can take a metric name and reliably return to me the fields that we put into creating the name.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350356915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350363597","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-350363597","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":350363597,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDM2MzU5Nw==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T20:26:10Z","updated_at":"2017-12-08T20:26:10Z","author_association":"MEMBER","body":"@revans2 Thanks for clarifying. I have a better understanding of what you're saying now.\r\n\r\nHow do you feel about just replacing \".\" with \"_\" on all metrics path components (host name, componentId, etc.)? That would ensure a path could be reliably split on the \".\" character.\r\n\r\nI'll add stream id and executor id to the path in places where they are available.\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350363597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350369437","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-350369437","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":350369437,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDM2OTQzNw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T20:54:26Z","updated_at":"2017-12-08T20:54:26Z","author_association":"CONTRIBUTOR","body":"@ptgoetz I think that is a good start.  Not sure if users would be upset that their bolt B.1 now looks like B_1.  We might have issues though if someone has both a B.1 bolt and a B_1 bolt.  It might serve them right for doing something so dumb, but could end up being a really painful situation to try and clean up.  I would rather have us look into restricting names for bolts, spouts, and streams.  We could just start out with a warning saying metrics might be messed up if you violate this, and later it becomes an error.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350369437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049427","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049427","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049427,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T21:28:20Z","updated_at":"2025-01-24T17:30:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\">erosebrook</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Srdo\" class=\"user-hover\" rel=\"srdo\">Stig Rohde Døssing</a></p>\n\n<p>It happens at every manually triggered rebalance. It seemed to me like it has to do with partitions being revoked from kafka itself, but the spout still has a reference to them. I'll get you the debug data when I am able.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049432","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049432","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049432,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T21:39:13Z","updated_at":"2025-01-24T17:30:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p>When you refer to triggering a rebalance what do you mean? Asking Storm to rebalance the topology or something else?</p>\n\n<p>Also as of 1.2.0 Kafka isn't responsible for managing consumer group partition assignment anymore, the spout handles distributing partitions without consulting Kafka. See <a href=\"https://issues.apache.org/jira/browse/STORM-2542\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-2542</a> for why we made this change. Partition assignment is now handled by <a href=\"https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/subscription/ManualPartitionSubscription.java\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/subscription/ManualPartitionSubscription.java</a> and associated classes.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049433","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049433","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049433,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0MzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T21:40:52Z","updated_at":"2025-01-24T17:30:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\">erosebrook</a>:</i>\n<p>yes, asking storm to rebalance</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049435","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049435","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049435,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-08T21:50:26Z","updated_at":"2025-01-24T17:30:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p>I think I have a guess as to what could be wrong. If the spout is deactivated and then reactivated, we replace the KafkaConsumer with a new one. Unfortunately <a href=\"https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/subscription/ManualPartitionSubscription.java#L58\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/subscription/ManualPartitionSubscription.java#L58</a> will ensure that we don't assign partitions to the new consumer unless the assignment changes, because we reuse the old ManualPartitionSubscription instance.</p>\n\n<p>I'll look at fixing this in the next few days. Hopefully it's what's causing this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350418320","html_url":"https://github.com/apache/storm/pull/2428#issuecomment-350418320","issue_url":"https://api.github.com/repos/apache/storm/issues/2428","id":350418320,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDQxODMyMA==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-09T02:47:17Z","updated_at":"2017-12-09T02:47:17Z","author_association":"CONTRIBUTOR","body":"@srdo aiming to getting this PR merged more quickly I created a [PR](https://github.com/srdo/storm/pull/1) with a suggested fix off your branch. If you agree with the fix, can you please incorporate it, squash the commits, and push it again here. I will then review it right away. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350418320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613050177","html_url":"https://github.com/apache/storm/issues/6633#issuecomment-2613050177","issue_url":"https://api.github.com/repos/apache/storm/issues/6633","id":2613050177,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNTAxNzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-10T17:24:36Z","updated_at":"2025-01-24T17:30:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p>Sorry, I'll fix this. It's a very obvious wrong use of Map.remove while iterating over the same Map here <a href=\"https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L336\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/main/java/org/apache/storm/kafka/spout/KafkaSpout.java#L336</a>, I must have been asleep at the wheel when this was added.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613050177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049438","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049438","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049438,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-10T17:47:58Z","updated_at":"2025-01-24T17:30:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\" class=\"user-hover\" rel=\"erosebrook\">Evan Rosebrook</a> I believe I have a fix ready for this. Would you be willing to try it out? You can get it from <a href=\"https://github.com/srdo/storm/tree/STORM-2847-1.x\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/srdo/storm/tree/STORM-2847-1.x</a>.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350654853","html_url":"https://github.com/apache/storm/pull/2203#issuecomment-350654853","issue_url":"https://api.github.com/repos/apache/storm/issues/2203","id":350654853,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDY1NDg1Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-11T08:31:30Z","updated_at":"2017-12-11T08:31:30Z","author_association":"CONTRIBUTOR","body":"I'm +1 to restrict names to avoid replacing. One thing to consider is that when's what we call `later`, and personally I think major version is the safest version to do the change like this, so 2.0.0 looks like good milestone to address.\r\n\r\nCould we poll how many users are using underscore in one of (component name, stream name, topology name - also hostname?) to user groups, dev groups and Twitter official account, and apply smooth migration to only 1.x version if affected groups are small enough?","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350654853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049444","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049444","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049444,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-11T16:28:58Z","updated_at":"2025-01-24T17:30:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\">erosebrook</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Srdo\" class=\"user-hover\" rel=\"srdo\">Stig Rohde Døssing</a> I Tried your branch and got an error. Apparently the partitions provided to onPartitionsRevoked can be empty. I was able to resolve this by adding \" && partitions.size() > 0\" to line 152.</p>\n\n<p>Partitions revoked. [consumer-group=MyStormTopology, consumer=org.apache.kafka.clients.consumer.KafkaConsumer@2ada06e4, topic-partitions=[]]<br/>\n2017-12-11 15:21:19.908 o.a.s.k.s.KafkaSpout Thread-34-uisspout-executor<span class=\"error\">&#91;703 703&#93;</span> <span class=\"error\">&#91;DEBUG&#93;</span> Offsets successfully committed to Kafka [{uis-12=OffsetAndMetadata{offset=6606783674, metadata='</p>\n{topic-partition=uis-12, offset=6606783673, numFails=0, thread='Thread-34-uisspout-executor[703 703]'}\n<p>'}, uis-28=OffsetAndMetadata{offset=4262625500, metadata='</p>\n{topic-partition=uis-28, offset=4262625499, numFails=0, thread='Thread-34-uisspout-executor[703 703]'}\n<p>'}, uis-44=OffsetAndMetadata{offset=4263152272, metadata='</p>\n{topic-partition=uis-44, offset=4263152271, numFails=0, thread='Thread-34-uisspout-executor[703 703]'}\n<p>'}, uis-60=OffsetAndMetadata{offset=3855749917, metadata='</p>\n{topic-partition=uis-60, offset=3855749916, numFails=0, thread='Thread-34-uisspout-executor[703 703]'}\n<p>'}, uis-76=OffsetAndMetadata{offset=3196437627, metadata='</p>\n{topic-partition=uis-76, offset=3196437626, numFails=0, thread='Thread-34-uisspout-executor[703 703]'}\n<p>'}, uis-92=OffsetAndMetadata{offset=3209173441, metadata='</p>\n{topic-partition=uis-92, offset=3209173440, numFails=0, thread='Thread-34-uisspout-executor[703 703]'}\n<p>'}}]<br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout.commitOffsetsForAckedTuples(KafkaSpout.java:467) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span><br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout.access$400(KafkaSpout.java:59) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span><br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout$KafkaSpoutConsumerRebalanceListener.onPartitionsRevoked(KafkaSpout.java:154) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span><br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout.subscribeKafkaConsumer(KafkaSpout.java:564) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span><br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout.activate(KafkaSpout.java:555) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span><br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout.commitOffsetsForAckedTuples(KafkaSpout.java:467) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span><br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout.access$400(KafkaSpout.java:59) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span><br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout$KafkaSpoutConsumerRebalanceListener.onPartitionsRevoked(KafkaSpout.java:154) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span><br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout.subscribeKafkaConsumer(KafkaSpout.java:564) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span><br/>\n\tat org.apache.storm.kafka.spout.KafkaSpout.activate(KafkaSpout.java:555) ~<span class=\"error\">&#91;stormjar.jar:local&#93;</span></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350887971","html_url":"https://github.com/apache/storm/pull/2454#issuecomment-350887971","issue_url":"https://api.github.com/repos/apache/storm/issues/2454","id":350887971,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDg4Nzk3MQ==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-11T23:05:03Z","updated_at":"2017-12-11T23:05:03Z","author_association":"CONTRIBUTOR","body":"This PR doesn't actually fix the issue reported in STORM-2847. The problem is that we can't commit offsets for partitions the consumer is not assigned. We've previously assumed that the spout was assigned every partition it had offset managers for, but this isn't true when reactivating a deactivated spout. When we reactivate a spout, the consumer has no assigned partitions when onPartitionsRevoked is called initially.\r\n\r\nIt doesn't seem ideal that we unconditionally commit offsets for all partitions we have offset managers for, when the onPartitionsRevoked method parameter tells us which partitions were assigned previously. \r\n\r\nI'll close this and reopen once the issue is fixed. My immediate ideas would be these:\r\n* Put KafkaConsumer instantiation in open(), keep the same consumer for the lifetime of the spout: Benefit is that it's easy to \"get right\". Drawback is that if you deactivate a spout in order to e.g. update a committed offset with the scripts Kafka ships with, when you activate the spout it will resume from where it was, not from the new committed offset. Maybe it is better if deactivate/activate behaves the same as if the spout had restarted (e.g. as it would if the worker crashed). Also the consumer remains open while the spout isn't running.\r\n* Wipe internal spout state when deactivating, including OffsetManagers: Benefit is that the spout behaves as if it had been restarted when reactivated, drawback is that some acked tuples that couldn't be committed when the spout was deactivated may be unnecessarily replayed in at-least-once mode, e.g. if offset 0-2, 4-5 had been acked before deactivating, 4-5 couldn't be committed and would be replayed.\r\n* Do a quick hack and make ManualPartitionSubscription only call onPartitionsRevoked if the assignment wasn't empty. \r\n\r\nI'd appreciate your thoughts on which of these proposals you prefer (or if you have other ideas). Sorry about the partial PR.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350887971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350888767","html_url":"https://github.com/apache/storm/pull/2452#issuecomment-350888767","issue_url":"https://api.github.com/repos/apache/storm/issues/2452","id":350888767,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDg4ODc2Nw==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-11T23:08:38Z","updated_at":"2017-12-11T23:08:38Z","author_association":"CONTRIBUTOR","body":"Squashed and merged. Sorry, the ManualPartitionSubscription class has moved between master and 1.x, so I had to redo the fix after the cherry-pick, which is why the fix was in the second commit.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350888767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/350924456","html_url":"https://github.com/apache/storm/pull/2428#issuecomment-350924456","issue_url":"https://api.github.com/repos/apache/storm/issues/2428","id":350924456,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDkyNDQ1Ng==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T02:24:40Z","updated_at":"2017-12-12T02:24:40Z","author_association":"CONTRIBUTOR","body":"@srdo although some of these methods have been deprecated for 2.0, customers that are currently in a 1.x.y version will likely use this version for a few years. We will have to maintain this codebase for quite a long time, and therefore I am in favor of making at least the code a bit more readable. I had quite a hard time to understand what the existing code is doing. I have another suggestion, which I also shared with you on a [PR](https://github.com/srdo/storm/pull/1). \r\n\r\nI will leave it up to you which one to pick and I am +1 after that such that we can move forward. Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/350924456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/351134724","html_url":"https://github.com/apache/storm/pull/2453#issuecomment-351134724","issue_url":"https://api.github.com/repos/apache/storm/issues/2453","id":351134724,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTEzNDcyNA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T18:05:28Z","updated_at":"2017-12-12T18:05:28Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR Thanks, I agree about the map copy. I've made the change you suggested, and also very slightly expanded a test to check that we only seek on partitions that are both pollable and retriable when retrying tuples.\r\n\r\nI'll squash before merging if it looks good to you. ","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/351134724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049445","html_url":"https://github.com/apache/storm/issues/6629#issuecomment-2613049445","issue_url":"https://api.github.com/repos/apache/storm/issues/6629","id":2613049445,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTMwNDk0NDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T18:57:47Z","updated_at":"2025-01-24T17:30:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erosebrook\" class=\"user-hover\" rel=\"erosebrook\">Evan Rosebrook</a> Thanks for testing it. I've updated the branch I linked earlier, please try again if you can. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2613049445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/351163863","html_url":"https://github.com/apache/storm/pull/2453#issuecomment-351163863","issue_url":"https://api.github.com/repos/apache/storm/issues/2453","id":351163863,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTE2Mzg2Mw==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T19:23:06Z","updated_at":"2017-12-12T19:23:06Z","author_association":"CONTRIBUTOR","body":"@hmcl Thanks, made most of the changes you mentioned. I thought PollInfo was a little vague, how about PollablePartitionInfo?\r\n\r\nAlso the tests are failing for some reason, give me a minute.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/351163863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/351165263","html_url":"https://github.com/apache/storm/pull/2453#issuecomment-351165263","issue_url":"https://api.github.com/repos/apache/storm/issues/2453","id":351165263,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTE2NTI2Mw==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-12T19:26:27Z","updated_at":"2017-12-12T19:26:27Z","author_association":"CONTRIBUTOR","body":"Fixed, sorry.","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/351165263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]