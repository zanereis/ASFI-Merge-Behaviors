[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929352269","html_url":"https://github.com/apache/iceberg/pull/3193#issuecomment-929352269","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3193","id":929352269,"node_id":"IC_kwDOCW7NX843ZMpN","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T15:45:21Z","updated_at":"2021-09-28T15:45:21Z","author_association":"CONTRIBUTOR","body":"Good idea, Jack!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929352269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929354730","html_url":"https://github.com/apache/iceberg/pull/3198#issuecomment-929354730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3198","id":929354730,"node_id":"IC_kwDOCW7NX843ZNPq","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T15:48:17Z","updated_at":"2021-09-28T15:48:17Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929354730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929355022","html_url":"https://github.com/apache/iceberg/pull/3125#issuecomment-929355022","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3125","id":929355022,"node_id":"IC_kwDOCW7NX843ZNUO","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T15:48:39Z","updated_at":"2021-09-28T15:48:39Z","author_association":"CONTRIBUTOR","body":"@itachi-sharingan, can you rebase this and update the description?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929355022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929388754","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-929388754","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":929388754,"node_id":"IC_kwDOCW7NX843ZVjS","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T16:29:57Z","updated_at":"2021-09-28T16:30:20Z","author_association":"CONTRIBUTOR","body":"@rdblue  and I were discussing this offline and this POC has some good pieces that could help extend the existing the current JdbcCatalog. @miR172 , is it alright if I can work on adding some of those pieces to the JdbcCatalog? I don't wish to proceed without making sure you are ok with it. I can work with you on what extensions make sense.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929388754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929389831","html_url":"https://github.com/apache/iceberg/pull/3175#issuecomment-929389831","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3175","id":929389831,"node_id":"IC_kwDOCW7NX843ZV0H","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T16:31:21Z","updated_at":"2021-09-28T16:31:21Z","author_association":"CONTRIBUTOR","body":"Thank you for the work, looks good to me overall, just some styling changes then it should be good to go!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929389831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929392235","html_url":"https://github.com/apache/iceberg/pull/3125#issuecomment-929392235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3125","id":929392235,"node_id":"IC_kwDOCW7NX843ZWZr","user":{"login":"itachi-sharingan","id":16745229,"node_id":"MDQ6VXNlcjE2NzQ1MjI5","avatar_url":"https://avatars.githubusercontent.com/u/16745229?v=4","gravatar_id":"","url":"https://api.github.com/users/itachi-sharingan","html_url":"https://github.com/itachi-sharingan","followers_url":"https://api.github.com/users/itachi-sharingan/followers","following_url":"https://api.github.com/users/itachi-sharingan/following{/other_user}","gists_url":"https://api.github.com/users/itachi-sharingan/gists{/gist_id}","starred_url":"https://api.github.com/users/itachi-sharingan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itachi-sharingan/subscriptions","organizations_url":"https://api.github.com/users/itachi-sharingan/orgs","repos_url":"https://api.github.com/users/itachi-sharingan/repos","events_url":"https://api.github.com/users/itachi-sharingan/events{/privacy}","received_events_url":"https://api.github.com/users/itachi-sharingan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T16:34:41Z","updated_at":"2021-09-28T16:34:41Z","author_association":"CONTRIBUTOR","body":"Hi All,\n\nExtremely sorry for the delay, I will definitely wrap it up by this\nweekend. Unfortunately, got caught up with a couple of personal things so\ncould not answer the following required to close this:-\n\n   1. Why does spark 3.0.* throw ClassCastException?\n   2. Why the existing test are failing?\n   3. And make changes as per comments, still left unanswered.\n\nRegards,\nAditya\n\nOn Tue, Sep 28, 2021 at 9:18 PM Ryan Blue ***@***.***> wrote:\n\n> @itachi-sharingan <https://github.com/itachi-sharingan>, can you rebase\n> this and update the description?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/3125#issuecomment-929355022>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AD7YGDLGTLEDWQ2DON5VIHTUEHPWFANCNFSM5EC7SDOA>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub>.\n>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929392235/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929392594","html_url":"https://github.com/apache/iceberg/pull/3135#issuecomment-929392594","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3135","id":929392594,"node_id":"IC_kwDOCW7NX843ZWfS","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T16:35:12Z","updated_at":"2021-09-28T16:35:12Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Running CI.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929392594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929420364","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-929420364","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":929420364,"node_id":"IC_kwDOCW7NX843ZdRM","user":{"login":"miR172","id":5323771,"node_id":"MDQ6VXNlcjUzMjM3NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5323771?v=4","gravatar_id":"","url":"https://api.github.com/users/miR172","html_url":"https://github.com/miR172","followers_url":"https://api.github.com/users/miR172/followers","following_url":"https://api.github.com/users/miR172/following{/other_user}","gists_url":"https://api.github.com/users/miR172/gists{/gist_id}","starred_url":"https://api.github.com/users/miR172/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miR172/subscriptions","organizations_url":"https://api.github.com/users/miR172/orgs","repos_url":"https://api.github.com/users/miR172/repos","events_url":"https://api.github.com/users/miR172/events{/privacy}","received_events_url":"https://api.github.com/users/miR172/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T17:12:15Z","updated_at":"2021-09-28T17:12:15Z","author_association":"NONE","body":"@nssalian what are the pieces you want to add? I might have done it locally. Using a separated component (CatalogDb.java) to deal with the database? So that you could switch between JDBC-plain-query-impl and jooq-impl. \r\nAnd that namespace had better be another table, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929420364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929474936","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-929474936","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":929474936,"node_id":"IC_kwDOCW7NX843Zql4","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T17:32:12Z","updated_at":"2021-09-28T17:32:12Z","author_association":"CONTRIBUTOR","body":"@miR172 , let me take some time to understand your implementation. It's different from the JdbcCatalog's current implementation.\r\nI see namespace properties being one of the pieces to start with. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929474936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929498170","html_url":"https://github.com/apache/iceberg/pull/3193#issuecomment-929498170","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3193","id":929498170,"node_id":"IC_kwDOCW7NX843ZwQ6","user":{"login":"jeff303","id":3521562,"node_id":"MDQ6VXNlcjM1MjE1NjI=","avatar_url":"https://avatars.githubusercontent.com/u/3521562?v=4","gravatar_id":"","url":"https://api.github.com/users/jeff303","html_url":"https://github.com/jeff303","followers_url":"https://api.github.com/users/jeff303/followers","following_url":"https://api.github.com/users/jeff303/following{/other_user}","gists_url":"https://api.github.com/users/jeff303/gists{/gist_id}","starred_url":"https://api.github.com/users/jeff303/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeff303/subscriptions","organizations_url":"https://api.github.com/users/jeff303/orgs","repos_url":"https://api.github.com/users/jeff303/repos","events_url":"https://api.github.com/users/jeff303/events{/privacy}","received_events_url":"https://api.github.com/users/jeff303/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T18:04:24Z","updated_at":"2021-09-28T18:04:24Z","author_association":"NONE","body":"There is also a #project-sharing channel in the Hacktoberfest Discord.  I just posted a link to the repo there.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929498170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929498841","html_url":"https://github.com/apache/iceberg/pull/3135#issuecomment-929498841","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3135","id":929498841,"node_id":"IC_kwDOCW7NX843ZwbZ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T18:05:16Z","updated_at":"2021-09-28T18:05:16Z","author_association":"CONTRIBUTOR","body":"Thanks, @xloya! Merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929498841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929499155","html_url":"https://github.com/apache/iceberg/pull/3198#issuecomment-929499155","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3198","id":929499155,"node_id":"IC_kwDOCW7NX843ZwgT","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T18:05:41Z","updated_at":"2021-09-28T18:05:41Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @danielcweeks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929499155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929500406","html_url":"https://github.com/apache/iceberg/pull/3195#issuecomment-929500406","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3195","id":929500406,"node_id":"IC_kwDOCW7NX843Zwz2","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T18:07:28Z","updated_at":"2021-09-28T18:07:28Z","author_association":"CONTRIBUTOR","body":"Looks good. Thanks for adding that check!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929500406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929501130","html_url":"https://github.com/apache/iceberg/pull/3195#issuecomment-929501130","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3195","id":929501130,"node_id":"IC_kwDOCW7NX843Zw_K","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T18:08:28Z","updated_at":"2021-09-28T18:08:28Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929501130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929567551","html_url":"https://github.com/apache/iceberg/pull/3193#issuecomment-929567551","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3193","id":929567551,"node_id":"IC_kwDOCW7NX843aBM_","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T19:41:45Z","updated_at":"2021-09-28T19:41:45Z","author_association":"CONTRIBUTOR","body":"Thanks, @jeff303!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929567551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929647389","html_url":"https://github.com/apache/iceberg/issues/3088#issuecomment-929647389","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3088","id":929647389,"node_id":"IC_kwDOCW7NX843aUsd","user":{"login":"jeff303","id":3521562,"node_id":"MDQ6VXNlcjM1MjE1NjI=","avatar_url":"https://avatars.githubusercontent.com/u/3521562?v=4","gravatar_id":"","url":"https://api.github.com/users/jeff303","html_url":"https://github.com/jeff303","followers_url":"https://api.github.com/users/jeff303/followers","following_url":"https://api.github.com/users/jeff303/following{/other_user}","gists_url":"https://api.github.com/users/jeff303/gists{/gist_id}","starred_url":"https://api.github.com/users/jeff303/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeff303/subscriptions","organizations_url":"https://api.github.com/users/jeff303/orgs","repos_url":"https://api.github.com/users/jeff303/repos","events_url":"https://api.github.com/users/jeff303/events{/privacy}","received_events_url":"https://api.github.com/users/jeff303/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-28T21:42:15Z","updated_at":"2021-09-28T21:42:15Z","author_association":"NONE","body":"@alex-shchetkov , I think you need `.using(\"iceberg\")` before `.create()` in the first snippet.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929647389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929746947","html_url":"https://github.com/apache/iceberg/pull/3135#issuecomment-929746947","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3135","id":929746947,"node_id":"IC_kwDOCW7NX843atAD","user":{"login":"xloya","id":26177232,"node_id":"MDQ6VXNlcjI2MTc3MjMy","avatar_url":"https://avatars.githubusercontent.com/u/26177232?v=4","gravatar_id":"","url":"https://api.github.com/users/xloya","html_url":"https://github.com/xloya","followers_url":"https://api.github.com/users/xloya/followers","following_url":"https://api.github.com/users/xloya/following{/other_user}","gists_url":"https://api.github.com/users/xloya/gists{/gist_id}","starred_url":"https://api.github.com/users/xloya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xloya/subscriptions","organizations_url":"https://api.github.com/users/xloya/orgs","repos_url":"https://api.github.com/users/xloya/repos","events_url":"https://api.github.com/users/xloya/events{/privacy}","received_events_url":"https://api.github.com/users/xloya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T01:27:34Z","updated_at":"2021-09-29T01:27:34Z","author_association":"CONTRIBUTOR","body":"Thanks for your time, @rdblue !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929746947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929751370","html_url":"https://github.com/apache/iceberg/issues/3192#issuecomment-929751370","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3192","id":929751370,"node_id":"IC_kwDOCW7NX843auFK","user":{"login":"rice668","id":6520673,"node_id":"MDQ6VXNlcjY1MjA2NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6520673?v=4","gravatar_id":"","url":"https://api.github.com/users/rice668","html_url":"https://github.com/rice668","followers_url":"https://api.github.com/users/rice668/followers","following_url":"https://api.github.com/users/rice668/following{/other_user}","gists_url":"https://api.github.com/users/rice668/gists{/gist_id}","starred_url":"https://api.github.com/users/rice668/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rice668/subscriptions","organizations_url":"https://api.github.com/users/rice668/orgs","repos_url":"https://api.github.com/users/rice668/repos","events_url":"https://api.github.com/users/rice668/events{/privacy}","received_events_url":"https://api.github.com/users/rice668/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T01:39:41Z","updated_at":"2021-09-29T01:58:42Z","author_association":"CONTRIBUTOR","body":"Hi, @aokolnychyi , I'm not sure if the problem has anything to do with my fix, at least for now ORC is having an exception in its test reads of compound constant field with vectorized/non-vectorized queries by `_partition` metadata. Could you please take a look ? (https://github.com/apache/iceberg/pull/3186) Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929751370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929805364","html_url":"https://github.com/apache/iceberg/pull/3197#issuecomment-929805364","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3197","id":929805364,"node_id":"IC_kwDOCW7NX843a7Q0","user":{"login":"xingbowu","id":12458911,"node_id":"MDQ6VXNlcjEyNDU4OTEx","avatar_url":"https://avatars.githubusercontent.com/u/12458911?v=4","gravatar_id":"","url":"https://api.github.com/users/xingbowu","html_url":"https://github.com/xingbowu","followers_url":"https://api.github.com/users/xingbowu/followers","following_url":"https://api.github.com/users/xingbowu/following{/other_user}","gists_url":"https://api.github.com/users/xingbowu/gists{/gist_id}","starred_url":"https://api.github.com/users/xingbowu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xingbowu/subscriptions","organizations_url":"https://api.github.com/users/xingbowu/orgs","repos_url":"https://api.github.com/users/xingbowu/repos","events_url":"https://api.github.com/users/xingbowu/events{/privacy}","received_events_url":"https://api.github.com/users/xingbowu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T03:45:06Z","updated_at":"2021-09-29T03:45:06Z","author_association":"CONTRIBUTOR","body":"Thanks a lot for the review in time. Rework Done.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929805364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929805428","html_url":"https://github.com/apache/iceberg/pull/3160#issuecomment-929805428","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3160","id":929805428,"node_id":"IC_kwDOCW7NX843a7R0","user":{"login":"williamhyun","id":62487364,"node_id":"MDQ6VXNlcjYyNDg3MzY0","avatar_url":"https://avatars.githubusercontent.com/u/62487364?v=4","gravatar_id":"","url":"https://api.github.com/users/williamhyun","html_url":"https://github.com/williamhyun","followers_url":"https://api.github.com/users/williamhyun/followers","following_url":"https://api.github.com/users/williamhyun/following{/other_user}","gists_url":"https://api.github.com/users/williamhyun/gists{/gist_id}","starred_url":"https://api.github.com/users/williamhyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamhyun/subscriptions","organizations_url":"https://api.github.com/users/williamhyun/orgs","repos_url":"https://api.github.com/users/williamhyun/repos","events_url":"https://api.github.com/users/williamhyun/events{/privacy}","received_events_url":"https://api.github.com/users/williamhyun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T03:45:13Z","updated_at":"2021-09-29T03:45:13Z","author_association":"MEMBER","body":"Thank you @RussellSpitzer and @dongjoon-hyun !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929805428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929866158","html_url":"https://github.com/apache/iceberg/pull/3203#issuecomment-929866158","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3203","id":929866158,"node_id":"IC_kwDOCW7NX843bKGu","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T06:09:41Z","updated_at":"2021-09-29T06:09:41Z","author_association":"MEMBER","body":"cc @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929866158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929891948","html_url":"https://github.com/apache/iceberg/issues/3122#issuecomment-929891948","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3122","id":929891948,"node_id":"IC_kwDOCW7NX843bQZs","user":{"login":"joshuarobinson","id":3334099,"node_id":"MDQ6VXNlcjMzMzQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/3334099?v=4","gravatar_id":"","url":"https://api.github.com/users/joshuarobinson","html_url":"https://github.com/joshuarobinson","followers_url":"https://api.github.com/users/joshuarobinson/followers","following_url":"https://api.github.com/users/joshuarobinson/following{/other_user}","gists_url":"https://api.github.com/users/joshuarobinson/gists{/gist_id}","starred_url":"https://api.github.com/users/joshuarobinson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshuarobinson/subscriptions","organizations_url":"https://api.github.com/users/joshuarobinson/orgs","repos_url":"https://api.github.com/users/joshuarobinson/repos","events_url":"https://api.github.com/users/joshuarobinson/events{/privacy}","received_events_url":"https://api.github.com/users/joshuarobinson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T06:58:38Z","updated_at":"2021-09-29T06:58:38Z","author_association":"CONTRIBUTOR","body":"Not sure if this is the right place for this question -- are there any notes or docs online that discuss the plan going forward for python/iceberg?\r\nthanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929891948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929940931","html_url":"https://github.com/apache/iceberg/pull/3204#issuecomment-929940931","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3204","id":929940931,"node_id":"IC_kwDOCW7NX843bcXD","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T08:08:51Z","updated_at":"2021-09-29T08:08:51Z","author_association":"CONTRIBUTOR","body":"@openinx Can you help take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929940931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929949544","html_url":"https://github.com/apache/iceberg/pull/3204#issuecomment-929949544","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3204","id":929949544,"node_id":"IC_kwDOCW7NX843bedo","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T08:19:22Z","updated_at":"2021-09-29T08:19:22Z","author_association":"CONTRIBUTOR","body":"@yyanyy @stevenzwu @rdblue Can you help take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929949544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929972902","html_url":"https://github.com/apache/iceberg/pull/2680#issuecomment-929972902","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2680","id":929972902,"node_id":"IC_kwDOCW7NX843bkKm","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T08:50:47Z","updated_at":"2021-09-29T08:50:47Z","author_association":"MEMBER","body":"Thanks for the feedback, @rdblue . I will answer your questions sometimes later, the next PR will also reflect the changes. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/929972902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930185064","html_url":"https://github.com/apache/iceberg/pull/3203#issuecomment-930185064","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3203","id":930185064,"node_id":"IC_kwDOCW7NX843cX9o","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T13:38:59Z","updated_at":"2021-09-29T13:38:59Z","author_association":"MEMBER","body":"This looks good to me, I only wonder if we have a way to test it ... so i'm +1 unless @aokolnychyi had other plans. I think since our new Spark support looks like we are going to be doing version specific builds I think we are fine with this here for now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930185064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930201196","html_url":"https://github.com/apache/iceberg/pull/3203#issuecomment-930201196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3203","id":930201196,"node_id":"IC_kwDOCW7NX843cb5s","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T13:56:06Z","updated_at":"2021-09-29T13:56:06Z","author_association":"MEMBER","body":"> I only wonder if we have a way to test it ... \r\n\r\nThanks, @RussellSpitzer. Have a quick look, I don't see any catalyst `Rule` test suites in the codebase. \r\nThe change is about performance not correctness, I think pass the existing test suites means the change will not break the correctness.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930201196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930354564","html_url":"https://github.com/apache/iceberg/issues/3122#issuecomment-930354564","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3122","id":930354564,"node_id":"IC_kwDOCW7NX843dBWE","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-29T16:51:37Z","updated_at":"2021-09-29T16:51:37Z","author_association":"CONTRIBUTOR","body":"> Not sure if this is the right place for this question -- are there any notes or docs online that discuss the plan going forward for python/iceberg? thanks\r\n\r\n@joshuarobinson There's a [github project](https://github.com/apache/iceberg/projects/7) tracking the python work and links to various docs and resources are in the project description.\r\n\r\nThe current focus is restructuring the legacy python packages then adding additional support/features.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930354564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930653744","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-930653744","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":930653744,"node_id":"IC_kwDOCW7NX843eKYw","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T00:46:57Z","updated_at":"2021-09-30T00:46:57Z","author_association":"CONTRIBUTOR","body":"Some observations from looking at the POC and the current JdbcCatalog.\r\nCaveat: I'm new to Iceberg, so apologies if I missed something in this.\r\n\r\nOverall:\r\n1. @miR172 is using jooq to generate the sql objects vs java.sql for the sql operations on the JdbcCatalog.\r\n2. To avoid a double implementation and refactor, we should combine the differences of the POC and the current catalog to make sure we can capture the features missing in the current.\r\n\r\nFeature changes:\r\n1. Tables in the current catalog could definitely improve with timestamp fields. Adding more timestamp and possible ownership fields can help.\r\n2. Schemas of the Table and Namespace can be clearer.\r\n3. Namespace properties has methods but unsupported in the current. I propose creating a `JdbcNamespaceOperations` to allow more flexibility of methods for namespaces. We can have a more deliberate schema (fields supported for namespace).\r\n\r\n@rdblue , @jackye1995  how can I help here? Shall we open a different issue to help incorporate changes? If there are changes I missed, please correct me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930653744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930655467","html_url":"https://github.com/apache/iceberg/pull/3204#issuecomment-930655467","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3204","id":930655467,"node_id":"IC_kwDOCW7NX843eKzr","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T00:50:49Z","updated_at":"2021-09-30T00:50:49Z","author_association":"CONTRIBUTOR","body":"is this a duplicate of #3069  ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930655467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930671163","html_url":"https://github.com/apache/iceberg/pull/3200#issuecomment-930671163","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3200","id":930671163,"node_id":"IC_kwDOCW7NX843eOo7","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T01:26:20Z","updated_at":"2021-09-30T01:26:20Z","author_association":"CONTRIBUTOR","body":"I tried to change the value to 2 and see what happens, and my build can still pass, are you sure this is the right config?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930671163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930681584","html_url":"https://github.com/apache/iceberg/pull/3184#issuecomment-930681584","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3184","id":930681584,"node_id":"IC_kwDOCW7NX843eRLw","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T01:45:05Z","updated_at":"2021-09-30T01:45:05Z","author_association":"CONTRIBUTOR","body":"I would like to also invite @pdames on Ray side to take a look if possible","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930681584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930694534","html_url":"https://github.com/apache/iceberg/pull/3200#issuecomment-930694534","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3200","id":930694534,"node_id":"IC_kwDOCW7NX843eUWG","user":{"login":"xingbowu","id":12458911,"node_id":"MDQ6VXNlcjEyNDU4OTEx","avatar_url":"https://avatars.githubusercontent.com/u/12458911?v=4","gravatar_id":"","url":"https://api.github.com/users/xingbowu","html_url":"https://github.com/xingbowu","followers_url":"https://api.github.com/users/xingbowu/followers","following_url":"https://api.github.com/users/xingbowu/following{/other_user}","gists_url":"https://api.github.com/users/xingbowu/gists{/gist_id}","starred_url":"https://api.github.com/users/xingbowu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xingbowu/subscriptions","organizations_url":"https://api.github.com/users/xingbowu/orgs","repos_url":"https://api.github.com/users/xingbowu/repos","events_url":"https://api.github.com/users/xingbowu/events{/privacy}","received_events_url":"https://api.github.com/users/xingbowu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T02:17:02Z","updated_at":"2021-09-30T02:17:02Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995 for taking attention on this problem. \r\nYes, In current build, it doesn't check this rule no matter 0~2 or sth else. I am not sure which process should check it.\r\n\r\nRegarding to the correct configuration, Whether BLANK_LINES_AROUND_METHOD_IN_INTERFACE as 0 is per original purpose or not?I am not sure who the owner of codesytle is?  also involve @rdblue @openinx to give more suggestions.\r\n\r\nIMO, A single blank line around method in interface, it is more readability.\r\nI checked existed code, most of them followed up this rule with single blank line\r\n![image](https://user-images.githubusercontent.com/12458911/135374517-cfe4222d-cc1b-497e-92e2-20e20b4f717c.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930694534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930697655","html_url":"https://github.com/apache/iceberg/pull/3204#issuecomment-930697655","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3204","id":930697655,"node_id":"IC_kwDOCW7NX843eVG3","user":{"login":"hameizi","id":18445460,"node_id":"MDQ6VXNlcjE4NDQ1NDYw","avatar_url":"https://avatars.githubusercontent.com/u/18445460?v=4","gravatar_id":"","url":"https://api.github.com/users/hameizi","html_url":"https://github.com/hameizi","followers_url":"https://api.github.com/users/hameizi/followers","following_url":"https://api.github.com/users/hameizi/following{/other_user}","gists_url":"https://api.github.com/users/hameizi/gists{/gist_id}","starred_url":"https://api.github.com/users/hameizi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hameizi/subscriptions","organizations_url":"https://api.github.com/users/hameizi/orgs","repos_url":"https://api.github.com/users/hameizi/repos","events_url":"https://api.github.com/users/hameizi/events{/privacy}","received_events_url":"https://api.github.com/users/hameizi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T02:24:27Z","updated_at":"2021-09-30T02:24:27Z","author_association":"CONTRIBUTOR","body":"> is this a duplicate of #3069 ?\r\n\r\n@jackye1995 it's not, this PR is focus on handle duplicate record when there is some delete file be commit during rewrite action. And i update description of this PR that describe how this PR handle this case. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930697655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930702601","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-930702601","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":930702601,"node_id":"IC_kwDOCW7NX843eWUJ","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T02:39:01Z","updated_at":"2021-09-30T02:39:01Z","author_association":"CONTRIBUTOR","body":"@nssalian agree, namespace property seems to be the most valuable thing to add as the first step. To achieve that, we basically need a namespace table. This PR already shows its schema design:\r\n\r\n```\r\n        NamespacesRecord namespacesRecord = new NamespacesRecord();\r\n\r\n        namespacesRecord.setNamespaceName(namespaceName);\r\n        Timestamp timestamp = new Timestamp(System.currentTimeMillis());\r\n        namespacesRecord.setCreatedTimestamp(timestamp);\r\n        namespacesRecord.setLastUpdatedTimestamp(timestamp);\r\n\r\n        // TODO: set up permissions properly\r\n        namespacesRecord.setOwnerGroup(\"test_group\");\r\n        namespacesRecord.setCreatedByUser(\"test_user\");\r\n        namespacesRecord.setLastUpdatedByUser(\"test_user\");\r\n\r\n        namespacesRecord.setLocation(location.toASCIIString());\r\n        namespacesRecord.setProperties(convertMapToJSONString(namespaceProperties));\r\n```\r\n\r\nWhich looks mostly good to me, it's just a mapping of name -> location + properties.\r\n\r\nBecause it's a SQL table, we can also support nested namespace.\r\n\r\nI think we can treat things like timestamp and owner as just a part of the table/namespace properties, an external user of `JdbcCatalog` can always set them if necessary, as along as they can retrieve this information later through Iceberg API. There is no reason to add special handling for that just to keep things generic, because there is no \"owner\" concept in Iceberg yet, and we should not introduce it too quickly.\r\n\r\nFor the use of `jooq`, my perspective is that the namespace table will be very simple, and I don't see much value in introducing a full suite of dependencies plus generated code just for that.\r\n\r\nFor the functionalities around creating bucket when creating namespace with location, it feels a bit hacky to me. A person who has create namespace permission at catalog user level might not have create S3 bucket permission at cloud permission level. It also makes the `createNamespace` method hard to revert when creation fails, you will also need delete bucket permission to revert the change, which makes the story much more complicated. So I would suggest hold on that feature.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930702601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930705197","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-930705197","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":930705197,"node_id":"IC_kwDOCW7NX843eW8t","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T02:46:19Z","updated_at":"2021-09-30T02:46:19Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995, agree with what you said. How do you suggest to proceed? Should I open an issue/PR for the changes to the JdbcCatalog with the initial implementation of Namespace properties?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930705197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930761242","html_url":"https://github.com/apache/iceberg/pull/2898#issuecomment-930761242","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2898","id":930761242,"node_id":"IC_kwDOCW7NX843ekoa","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T04:02:46Z","updated_at":"2021-09-30T04:02:46Z","author_association":"CONTRIBUTOR","body":"Thanks to @openinx and @stevenzwu for review! I have been refactor the `EqualityFieldKeySelector` by `StructLikeWrapper` and resolve some comment. Maybe you can take another look for this. :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930761242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930764904","html_url":"https://github.com/apache/iceberg/pull/3181#issuecomment-930764904","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3181","id":930764904,"node_id":"IC_kwDOCW7NX843elho","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T04:09:30Z","updated_at":"2021-10-01T02:14:05Z","author_association":"CONTRIBUTOR","body":"@jackye1995 Please take another look.\r\n\r\nRegarding your comment that new configs is more specific to the use case on engine side, I think this is not engine specific. Sure, it probably matters a little more on the streaming ingestion (Flink or Spark streaming). It can matter to batch write too. \r\n\r\nE.g., We want to have smaller row group size (like 16 MB) to be able to split files into more splits for higher parallelism.  if the average row size is big (like MBs), then we need to tune down these configs to have more accurate control on the target row group size. This is useful if we want more accurate control on the row group size (and memory consumption) irrespective to streaming or batch write.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930764904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930787419","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-930787419","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":930787419,"node_id":"IC_kwDOCW7NX843erBb","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T05:08:14Z","updated_at":"2021-09-30T05:08:14Z","author_association":"CONTRIBUTOR","body":"A few points I'd like to discuss:\r\n\r\n1. around private vendor of catalog implementation\r\n\r\nI remember @rdblue you talked about the possibility of having a RESTful Catalog implementation to plugin, would that help this Dell use case?\r\n\r\n2. around S3 SDK version\r\n\r\nI have been thinking recently a lot about the SDK version, and maybe we could consider reverting to v1, and Dell can contribute just a `S3Catalog` instead. \r\n\r\nThe reason I am thinking about reverting to v1 is because of client side encryption support. V2 was promised to offer client side encryption this summer which would let v2 SDK have full functionality compatibility with v1 plus supposedly better performance, but the whole project was significantly delayed and won't be done until years later. So there is also an ask for adding S3 client side encryption from user side, for which the only way to achieve that is through reverting to v1. \r\n\r\nI think this version change could be done given the fact that nothing around AWS client is publicly exposed. Some work is needed to update documentation around the dependency jars to add. But if we see enough benefits in adopting S3-like private vendors by reintroducing V1, I think this seems to be the best way to go. \r\n\r\n@danielcweeks what do you think about the S3 SDK situation?\r\n\r\n@mechgouki if we reintroduce v1 SDK, do you think you still need the dell module, or could you just implement a `S3Catalog` instead in AWS module?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930787419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930797701","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-930797701","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":930797701,"node_id":"IC_kwDOCW7NX843etiF","user":{"login":"mechgouki","id":8364215,"node_id":"MDQ6VXNlcjgzNjQyMTU=","avatar_url":"https://avatars.githubusercontent.com/u/8364215?v=4","gravatar_id":"","url":"https://api.github.com/users/mechgouki","html_url":"https://github.com/mechgouki","followers_url":"https://api.github.com/users/mechgouki/followers","following_url":"https://api.github.com/users/mechgouki/following{/other_user}","gists_url":"https://api.github.com/users/mechgouki/gists{/gist_id}","starred_url":"https://api.github.com/users/mechgouki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mechgouki/subscriptions","organizations_url":"https://api.github.com/users/mechgouki/orgs","repos_url":"https://api.github.com/users/mechgouki/repos","events_url":"https://api.github.com/users/mechgouki/events{/privacy}","received_events_url":"https://api.github.com/users/mechgouki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T05:32:26Z","updated_at":"2021-09-30T05:32:26Z","author_association":"NONE","body":"> A few points I'd like to discuss:\r\n> \r\n> 1. around private vendor of catalog implementation\r\n> \r\n> I remember @rdblue you talked about the possibility of having a RESTful Catalog implementation to plugin, would that help this Dell use case?\r\n> \r\n> 1. around S3 SDK version\r\n> \r\n> I have been thinking recently a lot about the SDK version, and maybe we could consider reverting to v1, and Dell can contribute just a `S3Catalog` instead.\r\n> \r\n> The reason I am thinking about reverting to v1 is because of client side encryption support. V2 was promised to offer client side encryption this summer which would let v2 SDK have full functionality compatibility with v1 plus supposedly better performance, but the whole project was significantly delayed and won't be done until years later. So there is also an ask for adding S3 client side encryption from user side, for which the only way to achieve that is through reverting to v1.\r\n> \r\n> I think this version change could be done given the fact that nothing around AWS client is publicly exposed. Some work is needed to update documentation around the dependency jars to add. But if we see enough benefits in adopting S3-like private vendors by reintroducing V1, I think this seems to be the best way to go.\r\n> \r\n> @danielcweeks what do you think about the S3 SDK situation?\r\n> \r\n> @mechgouki if we reintroduce v1 SDK, do you think you still need the dell module, or could you just implement a `S3Catalog` instead in AWS module?\r\n\r\n@jackye1995 \r\n\r\nBasically we have 2 areas which Dell EMC features could benefit as below: \r\n(1)Append operation in additional of MPU, if the client has less local cache for large object( like edge), Dell EMC object service could help here.\r\n(2)Atomic rename. We have If-Match and If-None-Match semantic as we support strong consistency model (within one site) from the very beginning.\r\n\r\nSo in order to support these 2 changes, we need change both in FileIO and S3Catalog, which we can not directly use AWS module while we could based on V1 SDK to extend.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930797701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930842682","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-930842682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":930842682,"node_id":"IC_kwDOCW7NX843e4g6","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T06:31:31Z","updated_at":"2021-09-30T06:31:31Z","author_association":"CONTRIBUTOR","body":"had some offline discussion with @mechgouki . Here are some conclusions:\r\n1. we can make this as the `S3Catalog` implementation in AWS module. In the future even if other vendors including AWS S3 come up with similar semantics, we can add a catalog config to switch across implementations.\r\n2. we can add a catalog config like `use-append` to switch to the append output stream implementation in `S3FileIO`. Overall the Netflix `S3OutputStream` seems to be still more performant, but the use case around append-optimized object storage looks like a reasonable use case to support.\r\n3. these all depends on the switch to v1 SDK, but I think it seems to be mutually benefical given that v2 does not support custom header for third-party vendors. Reverting to v1 can provide Iceberg more vendor integration, more features, and reduce the number of modules we need to create for new vendors.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930842682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930963669","html_url":"https://github.com/apache/iceberg/issues/3180#issuecomment-930963669","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3180","id":930963669,"node_id":"IC_kwDOCW7NX843fWDV","user":{"login":"xingbowu","id":12458911,"node_id":"MDQ6VXNlcjEyNDU4OTEx","avatar_url":"https://avatars.githubusercontent.com/u/12458911?v=4","gravatar_id":"","url":"https://api.github.com/users/xingbowu","html_url":"https://github.com/xingbowu","followers_url":"https://api.github.com/users/xingbowu/followers","following_url":"https://api.github.com/users/xingbowu/following{/other_user}","gists_url":"https://api.github.com/users/xingbowu/gists{/gist_id}","starred_url":"https://api.github.com/users/xingbowu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xingbowu/subscriptions","organizations_url":"https://api.github.com/users/xingbowu/orgs","repos_url":"https://api.github.com/users/xingbowu/repos","events_url":"https://api.github.com/users/xingbowu/events{/privacy}","received_events_url":"https://api.github.com/users/xingbowu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T07:52:58Z","updated_at":"2021-09-30T07:52:58Z","author_association":"CONTRIBUTOR","body":"only address task 2 in #3197 \r\nreopen it for task 1 & 3","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/930963669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931215591","html_url":"https://github.com/apache/iceberg/issues/3118#issuecomment-931215591","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3118","id":931215591,"node_id":"IC_kwDOCW7NX843gTjn","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T10:57:54Z","updated_at":"2021-09-30T10:57:54Z","author_association":"CONTRIBUTOR","body":"> > Are you sure that this is the right approach? It seems to me that if you have so many delete files that you need to read them in parallel, that you should rewrite and merge the delete files into data files.\r\n> \r\n> @rdblue I think this optimization is needed. On the one hand, user usually need to query the latest data in streaming case, And these data may not have been rewritten yet. On the other hand, as you said, the best way is to rewrite and merge the delete files into data files, but the rewrite is depend on read. So we should optimizing the `DeleteFilter` and read delete files in parallel to speed up the read and rewrite.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931215591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931524289","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-931524289","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":931524289,"node_id":"IC_kwDOCW7NX843he7B","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T17:33:14Z","updated_at":"2021-09-30T17:33:14Z","author_association":"CONTRIBUTOR","body":"@nssalian yeah, as long as you and @miR172 have coordinated the work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931524289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931526042","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-931526042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":931526042,"node_id":"IC_kwDOCW7NX843hfWa","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T17:35:48Z","updated_at":"2021-09-30T17:35:48Z","author_association":"CONTRIBUTOR","body":"Thanks @jackye1995 I'll wait to hear back from @miR172 on how to proceed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931526042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931548031","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-931548031","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":931548031,"node_id":"IC_kwDOCW7NX843hkt_","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-30T18:07:35Z","updated_at":"2021-09-30T18:07:35Z","author_association":"CONTRIBUTOR","body":"Had some offline discussion with @danielcweeks, and we are exploring why SDK V2 could not achieve the goal. It seems that we can still set header through:\r\n\r\n```\r\n    s3.putObject(PutObjectRequest.builder()\r\n        .bucket(bucketName)\r\n        .key(objectKey)\r\n        .overrideConfiguration(AwsRequestOverrideConfiguration.builder()\r\n            .putHeader(\"If-None-Match\", \"*\")\r\n            .build())\r\n        .build());\r\n```\r\n\r\nThe SDK V1 just has that as a util method in `ObjectMetadata`, all the user metadata are just headers that has prefix `x-amz-meta-` based on https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingMetadata.html.\r\n\r\nCould you validate if that is the case? If we can set headers like this, can we move to implement this through the V2 SDK? @mechgouki ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931548031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931810319","html_url":"https://github.com/apache/iceberg/pull/3209#issuecomment-931810319","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3209","id":931810319,"node_id":"IC_kwDOCW7NX843ikwP","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T00:59:14Z","updated_at":"2021-10-01T00:59:14Z","author_association":"CONTRIBUTOR","body":"In another branch I actually updated all of them automatically via `./gradlew clean compileJava -PerrorProneApply=ConsistentLoggerName` and the following amount of changes occurred:\r\n\r\n 73 files changed, 372 insertions(+), 372 deletions(-).\r\n \r\n We can update them if we feel that 73 file changes and 372 line changes is worth it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931810319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931887755","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-931887755","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":931887755,"node_id":"IC_kwDOCW7NX843i3qL","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T04:26:41Z","updated_at":"2021-10-01T04:26:41Z","author_association":"CONTRIBUTOR","body":"Based on the latest conversation with @mechgouki , Dell has decided to open source their own client SDK under BSD license, and will not go through the S3 SDK. So they will rewrite the PR to contribute their catalog and FileIO.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931887755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931901428","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-931901428","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":931901428,"node_id":"IC_kwDOCW7NX843i6_0","user":{"login":"mechgouki","id":8364215,"node_id":"MDQ6VXNlcjgzNjQyMTU=","avatar_url":"https://avatars.githubusercontent.com/u/8364215?v=4","gravatar_id":"","url":"https://api.github.com/users/mechgouki","html_url":"https://github.com/mechgouki","followers_url":"https://api.github.com/users/mechgouki/followers","following_url":"https://api.github.com/users/mechgouki/following{/other_user}","gists_url":"https://api.github.com/users/mechgouki/gists{/gist_id}","starred_url":"https://api.github.com/users/mechgouki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mechgouki/subscriptions","organizations_url":"https://api.github.com/users/mechgouki/orgs","repos_url":"https://api.github.com/users/mechgouki/repos","events_url":"https://api.github.com/users/mechgouki/events{/privacy}","received_events_url":"https://api.github.com/users/mechgouki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T05:05:18Z","updated_at":"2021-10-01T05:05:18Z","author_association":"NONE","body":"> Based on the latest conversation with @mechgouki , Dell has decided to open source their own client SDK under BSD license, and will not go through the S3 SDK. So they will rewrite the PR to contribute their catalog and FileIO.\r\n\r\nYes, this is correct.  And we will take responsibility for the support the client SDK","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931901428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931905295","html_url":"https://github.com/apache/iceberg/pull/2807#issuecomment-931905295","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2807","id":931905295,"node_id":"IC_kwDOCW7NX843i78P","user":{"login":"mechgouki","id":8364215,"node_id":"MDQ6VXNlcjgzNjQyMTU=","avatar_url":"https://avatars.githubusercontent.com/u/8364215?v=4","gravatar_id":"","url":"https://api.github.com/users/mechgouki","html_url":"https://github.com/mechgouki","followers_url":"https://api.github.com/users/mechgouki/followers","following_url":"https://api.github.com/users/mechgouki/following{/other_user}","gists_url":"https://api.github.com/users/mechgouki/gists{/gist_id}","starred_url":"https://api.github.com/users/mechgouki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mechgouki/subscriptions","organizations_url":"https://api.github.com/users/mechgouki/orgs","repos_url":"https://api.github.com/users/mechgouki/repos","events_url":"https://api.github.com/users/mechgouki/events{/privacy}","received_events_url":"https://api.github.com/users/mechgouki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T05:14:34Z","updated_at":"2021-10-01T05:14:34Z","author_association":"NONE","body":"The Dell EMC ECS SDK already open source at https://github.com/EMCECS/ecs-object-client-java\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931905295/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931960218","html_url":"https://github.com/apache/iceberg/issues/3211#issuecomment-931960218","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3211","id":931960218,"node_id":"IC_kwDOCW7NX843jJWa","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T06:57:20Z","updated_at":"2021-10-01T06:57:20Z","author_association":"COLLABORATOR","body":"Never mind, it looks like it is doing the filter properly, sorry for noise, need further investigation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/931960218/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932382613","html_url":"https://github.com/apache/iceberg/issues/2765#issuecomment-932382613","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2765","id":932382613,"node_id":"IC_kwDOCW7NX843kweV","user":{"login":"smaspe","id":4571256,"node_id":"MDQ6VXNlcjQ1NzEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/4571256?v=4","gravatar_id":"","url":"https://api.github.com/users/smaspe","html_url":"https://github.com/smaspe","followers_url":"https://api.github.com/users/smaspe/followers","following_url":"https://api.github.com/users/smaspe/following{/other_user}","gists_url":"https://api.github.com/users/smaspe/gists{/gist_id}","starred_url":"https://api.github.com/users/smaspe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smaspe/subscriptions","organizations_url":"https://api.github.com/users/smaspe/orgs","repos_url":"https://api.github.com/users/smaspe/repos","events_url":"https://api.github.com/users/smaspe/events{/privacy}","received_events_url":"https://api.github.com/users/smaspe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T16:39:09Z","updated_at":"2021-10-01T16:39:09Z","author_association":"NONE","body":"Hi @kbendick,\r\nWe've upgraded to Spark 3.1.2, with no changes.\r\nThe concern is that updating rows in multiple partitions in a large table is extremely slow. We've mitigated so far by splitting queries into chunks that target smaller numbers of partitions, but it's far from perfect.\r\n\r\nWhat we don't understand is: how can we tell Iceberg what (hidden) partitions to target specifically, so that it doesn't need to scan the whole table?\r\n\r\nWhat Canh tried (`ON date(T.published) IN (date '1937-01-01', ...)`) still doesn't work in Spark 3.1.2. We can use things like `ON T.published >= date '1937-01-01' and T.published < date '1937-01-02'`, but that doesn't seem very practical for dozens of partitions (and, if those partitions are sparse, we can't join then in a single larger range)\r\n\r\nWe suspect that it might have to do with https://issues.apache.org/jira/browse/SPARK-35245\r\n> This is because filtering side do not has selective predicate\r\n\r\nHowever I fail to see how we can make the predicate selective, if it isn't at the moment.\r\n\r\nThanks in advance for any light you can shed on this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932382613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932472142","html_url":"https://github.com/apache/iceberg/pull/3199#issuecomment-932472142","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3199","id":932472142,"node_id":"IC_kwDOCW7NX843lGVO","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T18:49:13Z","updated_at":"2021-10-01T18:49:13Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @RussellSpitzer @rdblue @szehon-ho!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932472142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932473088","html_url":"https://github.com/apache/iceberg/pull/3069#issuecomment-932473088","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3069","id":932473088,"node_id":"IC_kwDOCW7NX843lGkA","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T18:50:42Z","updated_at":"2021-10-01T18:50:42Z","author_association":"CONTRIBUTOR","body":"Closing this as it was split into multiple PRs and merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932473088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932565038","html_url":"https://github.com/apache/iceberg/issues/3141#issuecomment-932565038","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3141","id":932565038,"node_id":"IC_kwDOCW7NX843ldAu","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T21:05:40Z","updated_at":"2021-10-01T21:06:22Z","author_association":"CONTRIBUTOR","body":"By digging a bit deeper, extending class ColumnarBatch is a dead-end. The way we thought may work is to override method `ColumnarBatch::rowIterator`, so that we can filter out the deleted rows in a customized iterator. It works for code path without Whole-Stage code gen. But codegen takes a different path, which read rows directly from column vectors of a `ColumnarBatch` object by invoking the public method `ColumnarBatch::column`, check the line 35 in the code generated following.\r\n\r\nWe can try to make codegen to use `ColumnarBatch::rowIterator`, but it's not a good practice since Spark will lose the ability to handle them as a batch. It will fall back to row-by-row model.\r\n\r\nAttached the code generated.\r\n```\r\nFound 1 WholeStageCodegen subtrees.\r\n== Subtree 1 / 1 (maxMethodCodeSize:213; maxConstantPoolSize:129(0.20% used); numInnerClasses:0) ==\r\n*(1) Filter (data#1 = a)\r\n+- *(1) ColumnarToRow\r\n   +- BatchScan[id#0, data#1] default_iceberg.default.test [filters=data = ‘a’]\r\nGenerated code:\r\n/* 001 */ public Object generate(Object[] references) {\r\n/* 002 */   return new GeneratedIteratorForCodegenStage1(references);\r\n/* 003 */ }\r\n/* 004 */\r\n/* 005 */ // codegenStageId=1\r\n/* 006 */ final class GeneratedIteratorForCodegenStage1 extends org.apache.spark.sql.execution.BufferedRowIterator {\r\n/* 007 */   private Object[] references;\r\n/* 008 */   private scala.collection.Iterator[] inputs;\r\n/* 009 */   private int columnartorow_batchIdx_0;\r\n/* 010 */   private org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter[] columnartorow_mutableStateArray_3 = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter[2];\r\n/* 011 */   private org.apache.spark.sql.vectorized.ColumnarBatch[] columnartorow_mutableStateArray_1 = new org.apache.spark.sql.vectorized.ColumnarBatch[1];\r\n/* 012 */   private scala.collection.Iterator[] columnartorow_mutableStateArray_0 = new scala.collection.Iterator[1];\r\n/* 013 */   private org.apache.spark.sql.vectorized.ColumnVector[] columnartorow_mutableStateArray_2 = new org.apache.spark.sql.vectorized.ColumnVector[2];\r\n/* 014 */\r\n/* 015 */   public GeneratedIteratorForCodegenStage1(Object[] references) {\r\n/* 016 */     this.references = references;\r\n/* 017 */   }\r\n/* 018 */\r\n/* 019 */   public void init(int index, scala.collection.Iterator[] inputs) {\r\n/* 020 */     partitionIndex = index;\r\n/* 021 */     this.inputs = inputs;\r\n/* 022 */     columnartorow_mutableStateArray_0[0] = inputs[0];\r\n/* 023 */\r\n/* 024 */     columnartorow_mutableStateArray_3[0] = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(2, 32);\r\n/* 025 */     columnartorow_mutableStateArray_3[1] = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(2, 32);\r\n/* 026 */\r\n/* 027 */   }\r\n/* 028 */\r\n/* 029 */   private void columnartorow_nextBatch_0() throws java.io.IOException {\r\n/* 030 */     if (columnartorow_mutableStateArray_0[0].hasNext()) {\r\n/* 031 */       columnartorow_mutableStateArray_1[0] = (org.apache.spark.sql.vectorized.ColumnarBatch)columnartorow_mutableStateArray_0[0].next();\r\n/* 032 */       ((org.apache.spark.sql.execution.metric.SQLMetric) references[1] /* numInputBatches */).add(1);\r\n/* 033 */       ((org.apache.spark.sql.execution.metric.SQLMetric) references[0] /* numOutputRows */).add(columnartorow_mutableStateArray_1[0].numRows());\r\n/* 034 */       columnartorow_batchIdx_0 = 0;\r\n/* 035 */       columnartorow_mutableStateArray_2[0] = (org.apache.spark.sql.vectorized.ColumnVector) columnartorow_mutableStateArray_1[0].column(0);\r\n/* 036 */       columnartorow_mutableStateArray_2[1] = (org.apache.spark.sql.vectorized.ColumnVector) columnartorow_mutableStateArray_1[0].column(1);\r\n/* 037 */\r\n/* 038 */     }\r\n/* 039 */   }\r\n/* 040 */\r\n/* 041 */   protected void processNext() throws java.io.IOException {\r\n/* 042 */     if (columnartorow_mutableStateArray_1[0] == null) {\r\n/* 043 */       columnartorow_nextBatch_0();\r\n/* 044 */     }\r\n/* 045 */     while ( columnartorow_mutableStateArray_1[0] != null) {\r\n/* 046 */       int columnartorow_numRows_0 = columnartorow_mutableStateArray_1[0].numRows();\r\n/* 047 */       int columnartorow_localEnd_0 = columnartorow_numRows_0 - columnartorow_batchIdx_0;\r\n/* 048 */       for (int columnartorow_localIdx_0 = 0; columnartorow_localIdx_0 < columnartorow_localEnd_0; columnartorow_localIdx_0++) {\r\n/* 049 */         int columnartorow_rowIdx_0 = columnartorow_batchIdx_0 + columnartorow_localIdx_0;\r\n/* 050 */         do {\r\n/* 051 */           UTF8String columnartorow_value_1 = columnartorow_mutableStateArray_2[1].getUTF8String(columnartorow_rowIdx_0);\r\n/* 052 */\r\n/* 053 */           boolean filter_value_0 = false;\r\n/* 054 */           filter_value_0 = columnartorow_value_1.equals(((UTF8String) references[3] /* literal */));\r\n/* 055 */           if (!filter_value_0) continue;\r\n/* 056 */\r\n/* 057 */           ((org.apache.spark.sql.execution.metric.SQLMetric) references[2] /* numOutputRows */).add(1);\r\n/* 058 */\r\n/* 059 */           int columnartorow_value_0 = columnartorow_mutableStateArray_2[0].getInt(columnartorow_rowIdx_0);\r\n/* 060 */           columnartorow_mutableStateArray_3[1].reset();\r\n/* 061 */\r\n/* 062 */           columnartorow_mutableStateArray_3[1].write(0, columnartorow_value_0);\r\n/* 063 */\r\n/* 064 */           columnartorow_mutableStateArray_3[1].write(1, columnartorow_value_1);\r\n/* 065 */           append((columnartorow_mutableStateArray_3[1].getRow()));\r\n/* 066 */\r\n/* 067 */         } while(false);\r\n/* 068 */         if (shouldStop()) { columnartorow_batchIdx_0 = columnartorow_rowIdx_0 + 1; return; }\r\n/* 069 */       }\r\n/* 070 */       columnartorow_batchIdx_0 = columnartorow_numRows_0;\r\n/* 071 */       columnartorow_mutableStateArray_1[0] = null;\r\n/* 072 */       columnartorow_nextBatch_0();\r\n/* 073 */     }\r\n/* 074 */   }\r\n/* 075 */\r\n/* 076 */ }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932565038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932599379","html_url":"https://github.com/apache/iceberg/issues/3141#issuecomment-932599379","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3141","id":932599379,"node_id":"IC_kwDOCW7NX843llZT","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-01T21:56:13Z","updated_at":"2021-10-01T21:56:13Z","author_association":"CONTRIBUTOR","body":"There are two ways to approach this:\r\n1.  Iterate the `ColumnarBatch` object to filter out deleted rows, and remove or overwrite the deleted rows in correspondent column vectors. Performance is the major concern. We add an additional iteration for each row in the batch, and memory copy may happen. However, we may have to do this anyway for EqualityDelete since there is no way to know if the row is deleted without reading its values. \r\n2. For pos deletes, to add a bit map to filter out deleted rows in Arrow's column vector. Not sure if this is possible though. \r\ncc @aokolnychyi @sunchao ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932599379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932640316","html_url":"https://github.com/apache/iceberg/pull/3209#issuecomment-932640316","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3209","id":932640316,"node_id":"IC_kwDOCW7NX843lvY8","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-02T00:02:26Z","updated_at":"2021-10-02T00:02:26Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932640316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932777062","html_url":"https://github.com/apache/iceberg/pull/3213#issuecomment-932777062","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3213","id":932777062,"node_id":"IC_kwDOCW7NX843mQxm","user":{"login":"myandpr","id":20159351,"node_id":"MDQ6VXNlcjIwMTU5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/20159351?v=4","gravatar_id":"","url":"https://api.github.com/users/myandpr","html_url":"https://github.com/myandpr","followers_url":"https://api.github.com/users/myandpr/followers","following_url":"https://api.github.com/users/myandpr/following{/other_user}","gists_url":"https://api.github.com/users/myandpr/gists{/gist_id}","starred_url":"https://api.github.com/users/myandpr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myandpr/subscriptions","organizations_url":"https://api.github.com/users/myandpr/orgs","repos_url":"https://api.github.com/users/myandpr/repos","events_url":"https://api.github.com/users/myandpr/events{/privacy}","received_events_url":"https://api.github.com/users/myandpr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-02T16:12:14Z","updated_at":"2021-10-02T16:12:14Z","author_association":"CONTRIBUTOR","body":"@rdblue @kbendick @stevenzwu , could you help to review this PR? :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932777062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932790122","html_url":"https://github.com/apache/iceberg/issues/3172#issuecomment-932790122","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3172","id":932790122,"node_id":"IC_kwDOCW7NX843mT9q","user":{"login":"FounderHy","id":39043053,"node_id":"MDQ6VXNlcjM5MDQzMDUz","avatar_url":"https://avatars.githubusercontent.com/u/39043053?v=4","gravatar_id":"","url":"https://api.github.com/users/FounderHy","html_url":"https://github.com/FounderHy","followers_url":"https://api.github.com/users/FounderHy/followers","following_url":"https://api.github.com/users/FounderHy/following{/other_user}","gists_url":"https://api.github.com/users/FounderHy/gists{/gist_id}","starred_url":"https://api.github.com/users/FounderHy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FounderHy/subscriptions","organizations_url":"https://api.github.com/users/FounderHy/orgs","repos_url":"https://api.github.com/users/FounderHy/repos","events_url":"https://api.github.com/users/FounderHy/events{/privacy}","received_events_url":"https://api.github.com/users/FounderHy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-02T17:37:04Z","updated_at":"2021-10-02T17:37:04Z","author_association":"NONE","body":"> Row-level delete requires Spark extensions, have you enabled that? I remember this is used for the default Spark full partition deletion without the need to do copy-on-write rewrite.\r\n\r\nThank you for your response, I will try","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932790122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932979831","html_url":"https://github.com/apache/iceberg/pull/3213#issuecomment-932979831","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3213","id":932979831,"node_id":"IC_kwDOCW7NX843nCR3","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-03T16:06:14Z","updated_at":"2021-10-03T16:06:14Z","author_association":"CONTRIBUTOR","body":"I'll take a look. The first thing is separating the features into different PRs. Can you open a PR for auto-compaction and one for automatic expiration?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932979831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932983259","html_url":"https://github.com/apache/iceberg/pull/3213#issuecomment-932983259","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3213","id":932983259,"node_id":"IC_kwDOCW7NX843nDHb","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-03T16:27:32Z","updated_at":"2021-10-03T16:27:32Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @myandpr. I took a quick look at mainly the file compaction part. I think that the implementation here is inspired by the batch compaction planning, but there is a much better way to do it for streaming. I think that this should go with a model that's more designed for Flink instead to avoid full (or large) table scans in the compaction planner.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932983259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932991368","html_url":"https://github.com/apache/iceberg/pull/3184#issuecomment-932991368","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3184","id":932991368,"node_id":"IC_kwDOCW7NX843nFGI","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-03T17:17:27Z","updated_at":"2021-10-03T17:17:27Z","author_association":"CONTRIBUTOR","body":"I'm going to go ahead and merge this to keep it moving. Since we aren't planning to release, we can continue the discussion on some minor points and update those later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932991368/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932992708","html_url":"https://github.com/apache/iceberg/pull/3148#issuecomment-932992708","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3148","id":932992708,"node_id":"IC_kwDOCW7NX843nFbE","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-03T17:26:35Z","updated_at":"2021-10-03T17:26:35Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing the tests, @mayursrivastava!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932992708/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932997218","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-932997218","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":932997218,"node_id":"IC_kwDOCW7NX843nGhi","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-03T17:56:07Z","updated_at":"2021-10-03T17:56:07Z","author_association":"CONTRIBUTOR","body":"I agree with @jackye1995 that it makes the most sense to keep specific properties separate. And we should not have Iceberg creating buckets. That's a task that is up to the user. It should be easy enough to create a subclass of the JDBC catalog that can hook into `createNamespace` and create the bucket if that's needed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/932997218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933049315","html_url":"https://github.com/apache/iceberg/pull/2953#issuecomment-933049315","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2953","id":933049315,"node_id":"IC_kwDOCW7NX843nTPj","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-03T23:24:06Z","updated_at":"2021-10-03T23:24:06Z","author_association":"CONTRIBUTOR","body":"Thanks, @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933049315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933050196","html_url":"https://github.com/apache/iceberg/pull/2953#issuecomment-933050196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2953","id":933050196,"node_id":"IC_kwDOCW7NX843nTdU","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-03T23:30:42Z","updated_at":"2021-10-03T23:30:42Z","author_association":"MEMBER","body":"Thanks @rdblue I know this one was a bit of a pain, but we should hopefully have all of our projection issues fixed now 🤞 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933050196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933097948","html_url":"https://github.com/apache/iceberg/pull/3177#issuecomment-933097948","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3177","id":933097948,"node_id":"IC_kwDOCW7NX843nfHc","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-04T02:38:00Z","updated_at":"2021-10-08T02:30:51Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue  and @jackye1995. I'm going to open a PR in the upcoming days on adding the changes we discussed.\r\nUpdate: Working on this at the moment. Getting the tests to work correctly. It seems they were all written to skip createNamespace and other unsupported methods.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933097948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933150434","html_url":"https://github.com/apache/iceberg/pull/3188#issuecomment-933150434","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3188","id":933150434,"node_id":"IC_kwDOCW7NX843nr7i","user":{"login":"jacques-n","id":183350,"node_id":"MDQ6VXNlcjE4MzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/183350?v=4","gravatar_id":"","url":"https://api.github.com/users/jacques-n","html_url":"https://github.com/jacques-n","followers_url":"https://api.github.com/users/jacques-n/followers","following_url":"https://api.github.com/users/jacques-n/following{/other_user}","gists_url":"https://api.github.com/users/jacques-n/gists{/gist_id}","starred_url":"https://api.github.com/users/jacques-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacques-n/subscriptions","organizations_url":"https://api.github.com/users/jacques-n/orgs","repos_url":"https://api.github.com/users/jacques-n/repos","events_url":"https://api.github.com/users/jacques-n/events{/privacy}","received_events_url":"https://api.github.com/users/jacques-n/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-04T05:15:41Z","updated_at":"2021-10-04T05:15:41Z","author_association":"NONE","body":"@rdblue, just saw your message. Didn't get a notification for some reason. Will take a look. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933150434/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933769038","html_url":"https://github.com/apache/iceberg/pull/3188#issuecomment-933769038","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3188","id":933769038,"node_id":"IC_kwDOCW7NX843qC9O","user":{"login":"jacques-n","id":183350,"node_id":"MDQ6VXNlcjE4MzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/183350?v=4","gravatar_id":"","url":"https://api.github.com/users/jacques-n","html_url":"https://github.com/jacques-n","followers_url":"https://api.github.com/users/jacques-n/followers","following_url":"https://api.github.com/users/jacques-n/following{/other_user}","gists_url":"https://api.github.com/users/jacques-n/gists{/gist_id}","starred_url":"https://api.github.com/users/jacques-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacques-n/subscriptions","organizations_url":"https://api.github.com/users/jacques-n/orgs","repos_url":"https://api.github.com/users/jacques-n/repos","events_url":"https://api.github.com/users/jacques-n/events{/privacy}","received_events_url":"https://api.github.com/users/jacques-n/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-04T19:03:30Z","updated_at":"2021-10-04T19:03:30Z","author_association":"NONE","body":"A couple of thoughts:\r\n\r\n- Was there a discussion of resolved SQL? Most systems will want to store this one way or another. The schema field can potentially help with this but it feels somewhat backwards. It's actually strange that `field-aliases` is populated for a view statement that has that part of the statement but the schema is used to resolve field names in the case that a * or arbitrary expression (e.g. `select a+b from foo` without field `as` clause) is used. I'm inclined to think that the we should include both resolved and unresolved sql to be explicit about such things. Really, the only reason to have unresolved is so people can get back to what they typed. Engines need resolved to be reliably consistent.\r\n- In the context of Substrait: I think there are two distinct use cases. The first is SQL view with substrait plan for reliable consumption cross engine. The second is a substrait plan-based view that doesn't have associated SQL. The latter exists when the FE that produces the plan isn't sql-based (for example, Pandas could be the producer of the Substrait plan). It seems like there probably should be some kind of union such as the following (using pseudo protobuf since I'm in that world right now):\r\n```\r\nmessage ProcessingInstruction {\r\n\r\n  oneof processing_type {\r\n    Sql sql = 1;\r\n    SubstraitPlan plan = 2; // to be added in future.\r\n  }\r\n\r\n   message Sql {\r\n    string text = 1;\r\n    string dialect = 2;\r\n    SubstraitPlan plan = 3; // to be added in future.\r\n  }\r\n  \r\n  // to be added in future.\r\n  message SubstraitPlan {\r\n    int32 substrait_version = 1;\r\n    binary plan = 2;\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933769038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933941392","html_url":"https://github.com/apache/iceberg/pull/3188#issuecomment-933941392","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3188","id":933941392,"node_id":"IC_kwDOCW7NX843qtCQ","user":{"login":"jacques-n","id":183350,"node_id":"MDQ6VXNlcjE4MzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/183350?v=4","gravatar_id":"","url":"https://api.github.com/users/jacques-n","html_url":"https://github.com/jacques-n","followers_url":"https://api.github.com/users/jacques-n/followers","following_url":"https://api.github.com/users/jacques-n/following{/other_user}","gists_url":"https://api.github.com/users/jacques-n/gists{/gist_id}","starred_url":"https://api.github.com/users/jacques-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacques-n/subscriptions","organizations_url":"https://api.github.com/users/jacques-n/orgs","repos_url":"https://api.github.com/users/jacques-n/repos","events_url":"https://api.github.com/users/jacques-n/events{/privacy}","received_events_url":"https://api.github.com/users/jacques-n/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-04T23:50:36Z","updated_at":"2021-10-05T00:14:49Z","author_association":"NONE","body":"To further the point on resolved sql: there is also something weird when working with table references and it not being clear if a reference is absolute or relative. For example, if I create a view when my current schema is `<root>.s1` and the sql for the view is something along the lines of `select * from t1`. Imagine in this situation that initially there is a `<root>.t1` but not a `<root>.s1.t1`. In this case, the view will initially bind to `<root>.t1`. Let's then imagine I create table (or view) called `<root>.s1.t1`. If you apply resolution rules at view consumption times, it will resolve to `<root>.s1.t1` even though that was not the intention. If you had saved the resolved sql at view creation time, it would remain point to `<root>.t1`. \r\n\r\nWhat is expected behavior in the case of a Iceberg view?\r\n\r\n(note that I'm using `<root>` here to mean the top of the namespace, not an actual name. Just seemed easier to include it explicitly to clarify the scenario since typically resolution is first the current schema followed by the root schema)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/933941392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934024116","html_url":"https://github.com/apache/iceberg/pull/3213#issuecomment-934024116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3213","id":934024116,"node_id":"IC_kwDOCW7NX843rBO0","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T03:16:46Z","updated_at":"2021-10-05T04:21:47Z","author_association":"CONTRIBUTOR","body":"> @rdblue @kbendick @stevenzwu , could you help to review this PR? :)\r\n\r\nThanks for working on this @myandpr. I am off this week but am interested in this so will review but might be a bit slow to respond. 🙂\r\n\r\nI agree with @rdblue's that it makes sense to avoid trying to compact the whole table (or scan the whole table) in an online streaming context, but rather pass around the file names that need to be compacted and committed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934024116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934037806","html_url":"https://github.com/apache/iceberg/pull/3213#issuecomment-934037806","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3213","id":934037806,"node_id":"IC_kwDOCW7NX843rEku","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T03:59:04Z","updated_at":"2021-10-05T03:59:04Z","author_association":"CONTRIBUTOR","body":"> I'll take a look. The first thing is separating the features into different PRs. Can you open a PR for auto-compaction and one for automatic expiration?\r\n\r\nI also agree that this seems like a good candidate for multiple PRs. If it helps you, you can keep things together for shared functionality and then branch off of that for the two PRs (or some other approach to help consume in smaller parts overall).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934037806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934241853","html_url":"https://github.com/apache/iceberg/pull/3155#issuecomment-934241853","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3155","id":934241853,"node_id":"IC_kwDOCW7NX843r2Y9","user":{"login":"omarsmak","id":1190920,"node_id":"MDQ6VXNlcjExOTA5MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1190920?v=4","gravatar_id":"","url":"https://api.github.com/users/omarsmak","html_url":"https://github.com/omarsmak","followers_url":"https://api.github.com/users/omarsmak/followers","following_url":"https://api.github.com/users/omarsmak/following{/other_user}","gists_url":"https://api.github.com/users/omarsmak/gists{/gist_id}","starred_url":"https://api.github.com/users/omarsmak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omarsmak/subscriptions","organizations_url":"https://api.github.com/users/omarsmak/orgs","repos_url":"https://api.github.com/users/omarsmak/repos","events_url":"https://api.github.com/users/omarsmak/events{/privacy}","received_events_url":"https://api.github.com/users/omarsmak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T09:39:51Z","updated_at":"2021-10-05T09:39:51Z","author_association":"MEMBER","body":"hey @szlta ping ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934241853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934330695","html_url":"https://github.com/apache/iceberg/pull/3053#issuecomment-934330695","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3053","id":934330695,"node_id":"IC_kwDOCW7NX843sMFH","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T11:41:24Z","updated_at":"2021-10-05T11:41:24Z","author_association":"CONTRIBUTOR","body":"> Thanks for working on it, Gidon! Did my first round review. Here are some questions:\r\n> \r\n> 1. Can we add tests for data read and write from a table with encryption enabled. We could use the Java APIs if Spark with encryption isn’t ready. Please refer to https://iceberg.apache.org/api/#tables.\r\n> 2. Can we add tests for HadoopTableOperations::encryption()?\r\n> 3. Can we add tests for KmsClient?\r\n> 4. Are we leaving out the encryption() implementation intentionally for MetastoreTableOperations? The encryption() implementation of the PR is only for HadoopTableOpertation.\r\n> 5. Are manifest files and manifest-list files encrypted?\r\n> 6. An Iceberg table can contain data files with multiple formats, parquet, orc, avro, etc. How do we handle that case?\r\n\r\nThanks Yufei!\r\nAffirmative answer to questions 1-3.\r\n4: nope, no reason not to add it to other classes that implement TableOperations. HadoopTableOperations implements it directly, and is used in Spark, so I started with it; will add to others. I guess you mean BaseMetastoreTableOperations?\r\n5. not yet, WIP\r\n6. We start with formats that have a built-in encryption support - initially Parquet, then ORC. Avro doesn't have this capability, and is not a column format, so will be supported by generic encryption streams like the one in #2060\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934330695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934350667","html_url":"https://github.com/apache/iceberg/pull/3213#issuecomment-934350667","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3213","id":934350667,"node_id":"IC_kwDOCW7NX843sQ9L","user":{"login":"fapaul","id":7405553,"node_id":"MDQ6VXNlcjc0MDU1NTM=","avatar_url":"https://avatars.githubusercontent.com/u/7405553?v=4","gravatar_id":"","url":"https://api.github.com/users/fapaul","html_url":"https://github.com/fapaul","followers_url":"https://api.github.com/users/fapaul/followers","following_url":"https://api.github.com/users/fapaul/following{/other_user}","gists_url":"https://api.github.com/users/fapaul/gists{/gist_id}","starred_url":"https://api.github.com/users/fapaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fapaul/subscriptions","organizations_url":"https://api.github.com/users/fapaul/orgs","repos_url":"https://api.github.com/users/fapaul/repos","events_url":"https://api.github.com/users/fapaul/events{/privacy}","received_events_url":"https://api.github.com/users/fapaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T12:10:15Z","updated_at":"2021-10-05T12:10:15Z","author_association":"NONE","body":"Hi folks,\r\n\r\nI am an Apache Flink contributor and we are currently evaluating different options for this \"small-file\" problem. So far we only support the compaction of small files when using the StreamingFileSink [1]. Apparently, you have implemented your own way of writing files before committing them to Iceberg I'd also be happy to know the reason.\r\n\r\nWe are open to feedback on what you need from Flink to support your use case because we are seeing a lot of other projects hitting the same problems (Hive, DeltaLake etc.)\r\n\r\n[1] https://github.com/apache/flink/blob/ac203a7a26d78fe270bd9941bb721be53a893040/flink-table/flink-table-runtime/src/main/java/org/apache/flink/table/filesystem/stream/StreamingSink.java#L82","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934350667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934356218","html_url":"https://github.com/apache/iceberg/pull/3053#issuecomment-934356218","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3053","id":934356218,"node_id":"IC_kwDOCW7NX843sST6","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T12:17:37Z","updated_at":"2021-10-05T12:17:37Z","author_association":"CONTRIBUTOR","body":"> I think this will be easier to review if we break it into some chunks. I was thinking after doing a first pass that maybe it makes sense to break this into\r\n> \r\n> 1. Encryptors - Non Iceberg Specific Encryption Config and Methods\r\n>    The code for encrypting and decrypting bytes\r\n>    Ciphers.java\r\n>    EncryptionAlgorithm.java\r\n>    NativeFileEncryptParameters\r\n>    ....\r\n> 2. Parquet Encryption\r\n>    Files and code relating to writing encrypted Parquet Files\r\n> 3. Iceberg Encryption Management\r\n>    a. Envelope Metadata and Manger\r\n>    b. OutputStreams and the ability to actually turn on encryption\r\n> \r\n> I think this would speed up review a lot. If you have other break points to divide up the review I think that would also help. It would also make it easier for us to determine where test coverage should exist.\r\n> \r\n> I'm really excited by this PR and it will be a great step forward for Iceberg!\r\n\r\nThanks Russell! This proposal sounds good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934356218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934513889","html_url":"https://github.com/apache/iceberg/pull/3213#issuecomment-934513889","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3213","id":934513889,"node_id":"IC_kwDOCW7NX843s4zh","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T15:28:28Z","updated_at":"2021-10-05T15:28:28Z","author_association":"CONTRIBUTOR","body":"@fapaul, Iceberg has its own file writers because we track more information for each column. Schema evolution is done using field IDs rather than names so that we can make all schema evolution metadata operations that are side-effect free. We also track additional metadata so that we can prune more unnecessary files at jobs planning time.\r\n\r\nAs for the design here, I think that we have a good plan but no one has picked up the implementation of it yet. We plan to send the files that were committed from the committer to a parallel set of tasks to rewrite them, keyed by partition. When there is enough file content, the compactor tasks will release the new data file and the set of files to replace to a compaction committer, which will commit the compactions it receives in a given checkpoint. You could do the same with other formats, I guess.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934513889/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934531603","html_url":"https://github.com/apache/iceberg/issues/3122#issuecomment-934531603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3122","id":934531603,"node_id":"IC_kwDOCW7NX843s9IT","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T15:48:17Z","updated_at":"2021-10-05T15:48:17Z","author_association":"CONTRIBUTOR","body":"@jun-he I believe we can close this issue out, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934531603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934582813","html_url":"https://github.com/apache/iceberg/issues/3122#issuecomment-934582813","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3122","id":934582813,"node_id":"IC_kwDOCW7NX843tJod","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T16:48:20Z","updated_at":"2021-10-05T16:48:20Z","author_association":"CONTRIBUTOR","body":"Closing as complete","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934582813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934608421","html_url":"https://github.com/apache/iceberg/pull/2953#issuecomment-934608421","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2953","id":934608421,"node_id":"IC_kwDOCW7NX843tP4l","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T17:20:26Z","updated_at":"2021-10-05T17:20:26Z","author_association":"COLLABORATOR","body":"🎉 Great work !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934608421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934644009","html_url":"https://github.com/apache/iceberg/issues/3122#issuecomment-934644009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3122","id":934644009,"node_id":"IC_kwDOCW7NX843tYkp","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T18:07:12Z","updated_at":"2021-10-05T18:07:12Z","author_association":"COLLABORATOR","body":"Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934644009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934989975","html_url":"https://github.com/apache/iceberg/issues/3212#issuecomment-934989975","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3212","id":934989975,"node_id":"IC_kwDOCW7NX843utCX","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-05T22:58:51Z","updated_at":"2021-10-05T22:58:51Z","author_association":"COLLABORATOR","body":"Yea I was also thinking about this issue.  \r\n\r\nFor (2.1) and (2.2), maybe we can have a multi-table Action instead of having user pass in path and metadata filter which could be dangerous.  And yes for (2.3), I was thinking this for awhile.\r\n\r\nFor (3) I think yes we could add FileIO.list and be vigilant in the reviews to not allow listing unless absolutely necessary.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/934989975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/935635835","html_url":"https://github.com/apache/iceberg/issues/2319#issuecomment-935635835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2319","id":935635835,"node_id":"IC_kwDOCW7NX843xKt7","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T07:18:59Z","updated_at":"2021-10-06T07:18:59Z","author_association":"CONTRIBUTOR","body":"I have to agree that the default caching behavior is unintuitive and rather surprising to users (as can be seen in https://github.com/projectnessie/nessie/issues/2165). \r\nUsing the `NessieCatalog` with Spark, one can have a table `X` on branch `dev` and the `CachingCatalog` will eventually cache this table. Users can refer to this table also as `X@dev` and the `NessieCatalog` properly splits this name into the table name `X` and the branch name `dev` via `TableReference`. However, before this happens, we reach `CachingCatalog#loadTable(..)`, where `X@dev` is treated as a separate table, meaning that an update to table `X` will leave an outdated `X@dev` table and users referring to that will always see stale data.\r\n\r\nUnfortunately there's not much control that we have over the cache invalidation procedure to handle the described use case, so I was rather thinking that Catalogs should have a way to control their default caching behavior. For the `NessieCatalog` I think it makes more sense to disable caching by default.\r\n\r\n@aokolnychyi @rdblue could you take a look at my proposal in https://github.com/apache/iceberg/pull/3230? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/935635835/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/935843478","html_url":"https://github.com/apache/iceberg/issues/2384#issuecomment-935843478","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2384","id":935843478,"node_id":"IC_kwDOCW7NX843x9aW","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T09:34:04Z","updated_at":"2021-10-06T09:34:04Z","author_association":"CONTRIBUTOR","body":"This failed again with the same issue in https://github.com/apache/iceberg/pull/3230/checks?check_run_id=3812504383\r\n\r\n```\r\norg.apache.iceberg.flink.TestFlinkTableSink > testHashDistributeMode[catalogName=testhadoop, baseNamespace=, format=PARQUET, isStreaming=true] FAILED\r\n    java.lang.AssertionError: There should be 1 data file in partition 'aaa' expected:<1> but was:<2>\r\n        at org.junit.Assert.fail(Assert.java:89)\r\n        at org.junit.Assert.failNotEquals(Assert.java:835)\r\n        at org.junit.Assert.assertEquals(Assert.java:647)\r\n        at org.apache.iceberg.flink.TestFlinkTableSink.testHashDistributeMode(TestFlinkTableSink.java:281)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/935843478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936196641","html_url":"https://github.com/apache/iceberg/pull/2935#issuecomment-936196641","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2935","id":936196641,"node_id":"IC_kwDOCW7NX843zToh","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T13:02:46Z","updated_at":"2021-10-06T13:02:46Z","author_association":"CONTRIBUTOR","body":"@openinx : By any chance, do you have time for another round of review?\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936196641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936270242","html_url":"https://github.com/apache/iceberg/issues/3229#issuecomment-936270242","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3229","id":936270242,"node_id":"IC_kwDOCW7NX843zlmi","user":{"login":"geekusa33","id":6402101,"node_id":"MDQ6VXNlcjY0MDIxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/6402101?v=4","gravatar_id":"","url":"https://api.github.com/users/geekusa33","html_url":"https://github.com/geekusa33","followers_url":"https://api.github.com/users/geekusa33/followers","following_url":"https://api.github.com/users/geekusa33/following{/other_user}","gists_url":"https://api.github.com/users/geekusa33/gists{/gist_id}","starred_url":"https://api.github.com/users/geekusa33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekusa33/subscriptions","organizations_url":"https://api.github.com/users/geekusa33/orgs","repos_url":"https://api.github.com/users/geekusa33/repos","events_url":"https://api.github.com/users/geekusa33/events{/privacy}","received_events_url":"https://api.github.com/users/geekusa33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T13:48:37Z","updated_at":"2021-10-06T13:48:37Z","author_association":"NONE","body":"would this issue be updating the python legacy table scan code in the iceberg/python directory?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936270242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936410049","html_url":"https://github.com/apache/iceberg/issues/3221#issuecomment-936410049","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3221","id":936410049,"node_id":"IC_kwDOCW7NX8430HvB","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T14:46:55Z","updated_at":"2021-10-06T14:46:55Z","author_association":"CONTRIBUTOR","body":"Can I take this up? I am working on the JdbcCatalog on the Java side as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936410049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936453889","html_url":"https://github.com/apache/iceberg/pull/3233#issuecomment-936453889","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3233","id":936453889,"node_id":"IC_kwDOCW7NX8430ScB","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T15:03:30Z","updated_at":"2021-10-06T15:03:48Z","author_association":"MEMBER","body":"cc: @nastra , @RussellSpitzer , @rymurr ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936453889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936507735","html_url":"https://github.com/apache/iceberg/issues/3229#issuecomment-936507735","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3229","id":936507735,"node_id":"IC_kwDOCW7NX8430flX","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T15:32:12Z","updated_at":"2021-10-06T15:32:12Z","author_association":"COLLABORATOR","body":"Yep, let me add some details in the description.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936507735/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936509034","html_url":"https://github.com/apache/iceberg/issues/3221#issuecomment-936509034","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3221","id":936509034,"node_id":"IC_kwDOCW7NX8430f5q","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T15:32:52Z","updated_at":"2021-10-06T15:32:52Z","author_association":"COLLABORATOR","body":"Thanks @nssalian. I assigned it to you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936509034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936538233","html_url":"https://github.com/apache/iceberg/pull/3203#issuecomment-936538233","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3203","id":936538233,"node_id":"IC_kwDOCW7NX8430nB5","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T15:47:41Z","updated_at":"2021-10-06T15:47:41Z","author_association":"CONTRIBUTOR","body":"Thanks, @pan3793! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936538233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936829835","html_url":"https://github.com/apache/iceberg/issues/3229#issuecomment-936829835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3229","id":936829835,"node_id":"IC_kwDOCW7NX8431uOL","user":{"login":"geekusa33","id":6402101,"node_id":"MDQ6VXNlcjY0MDIxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/6402101?v=4","gravatar_id":"","url":"https://api.github.com/users/geekusa33","html_url":"https://github.com/geekusa33","followers_url":"https://api.github.com/users/geekusa33/followers","following_url":"https://api.github.com/users/geekusa33/following{/other_user}","gists_url":"https://api.github.com/users/geekusa33/gists{/gist_id}","starred_url":"https://api.github.com/users/geekusa33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekusa33/subscriptions","organizations_url":"https://api.github.com/users/geekusa33/orgs","repos_url":"https://api.github.com/users/geekusa33/repos","events_url":"https://api.github.com/users/geekusa33/events{/privacy}","received_events_url":"https://api.github.com/users/geekusa33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T18:14:54Z","updated_at":"2021-10-06T18:14:54Z","author_association":"NONE","body":"@jun-he could I try and complete this? \r\n\r\nAssuming goes well, would likely try taking in some of the others.\r\n\r\nWanting to complete as part of hacktoberfest","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/936829835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937328990","html_url":"https://github.com/apache/iceberg/issues/2972#issuecomment-937328990","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2972","id":937328990,"node_id":"IC_kwDOCW7NX8433oFe","user":{"login":"netvl","id":280456,"node_id":"MDQ6VXNlcjI4MDQ1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/280456?v=4","gravatar_id":"","url":"https://api.github.com/users/netvl","html_url":"https://github.com/netvl","followers_url":"https://api.github.com/users/netvl/followers","following_url":"https://api.github.com/users/netvl/following{/other_user}","gists_url":"https://api.github.com/users/netvl/gists{/gist_id}","starred_url":"https://api.github.com/users/netvl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netvl/subscriptions","organizations_url":"https://api.github.com/users/netvl/orgs","repos_url":"https://api.github.com/users/netvl/repos","events_url":"https://api.github.com/users/netvl/events{/privacy}","received_events_url":"https://api.github.com/users/netvl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-06T23:46:56Z","updated_at":"2021-10-06T23:46:56Z","author_association":"NONE","body":"@RussellSpitzer just to clarify, your comment about\r\n> this is unpatchable on Spark 3.0\r\n\r\nmeans only the `REFRESH TABLE` SQL statement, right? If one would use the `spark_catalog` catalog via the V2 Catalog API, then with #3072 the table refresh operation will be propagated correctly, won't it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937328990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937338557","html_url":"https://github.com/apache/iceberg/issues/3229#issuecomment-937338557","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3229","id":937338557,"node_id":"IC_kwDOCW7NX8433qa9","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T00:11:21Z","updated_at":"2021-10-07T00:11:21Z","author_association":"COLLABORATOR","body":"Hi @askalik, thanks for the help. I assign this task to you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937338557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937376935","html_url":"https://github.com/apache/iceberg/issues/2972#issuecomment-937376935","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2972","id":937376935,"node_id":"IC_kwDOCW7NX8433zyn","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T01:44:10Z","updated_at":"2021-10-07T01:44:10Z","author_association":"MEMBER","body":"@netvl yeah, if you manually call \"invalidate\" on the SparkSessionCatalog object then you are fine. The only issue is with the SQL version.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937376935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937382871","html_url":"https://github.com/apache/iceberg/issues/3221#issuecomment-937382871","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3221","id":937382871,"node_id":"IC_kwDOCW7NX84331PX","user":{"login":"nssalian","id":8526007,"node_id":"MDQ6VXNlcjg1MjYwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/8526007?v=4","gravatar_id":"","url":"https://api.github.com/users/nssalian","html_url":"https://github.com/nssalian","followers_url":"https://api.github.com/users/nssalian/followers","following_url":"https://api.github.com/users/nssalian/following{/other_user}","gists_url":"https://api.github.com/users/nssalian/gists{/gist_id}","starred_url":"https://api.github.com/users/nssalian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nssalian/subscriptions","organizations_url":"https://api.github.com/users/nssalian/orgs","repos_url":"https://api.github.com/users/nssalian/repos","events_url":"https://api.github.com/users/nssalian/events{/privacy}","received_events_url":"https://api.github.com/users/nssalian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T02:00:56Z","updated_at":"2021-10-07T02:14:39Z","author_association":"CONTRIBUTOR","body":"@jun-he  Thanks. Don't see a issue for the base catalog.  I think we should get that going before the other catalogs so we can start off with the right base structure for the derived catalogs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937382871/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937739555","html_url":"https://github.com/apache/iceberg/pull/2731#issuecomment-937739555","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2731","id":937739555,"node_id":"IC_kwDOCW7NX8435MUj","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T12:21:31Z","updated_at":"2021-10-07T12:21:31Z","author_association":"CONTRIBUTOR","body":"@openinx @stevenzwu I pick this up on #3240. Could you take a look of that? :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937739555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937825778","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-937825778","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":937825778,"node_id":"IC_kwDOCW7NX8435hXy","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T14:04:12Z","updated_at":"2021-10-07T14:04:12Z","author_association":"CONTRIBUTOR","body":"Closing this as Spark SQL Extensions for Nessie have been implemented as part of the [Nessie project itself](https://github.com/projectnessie/nessie/blob/main/site/docs/tools/sql.md).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937825778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937948873","html_url":"https://github.com/apache/iceberg/issues/3243#issuecomment-937948873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3243","id":937948873,"node_id":"IC_kwDOCW7NX8435_bJ","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T16:21:59Z","updated_at":"2021-10-07T16:21:59Z","author_association":"CONTRIBUTOR","body":"/cc @snazy since you already have a WIP branch for this. I think we also want to put this into the next 0.13.0 release","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937948873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937958413","html_url":"https://github.com/apache/iceberg/issues/2869#issuecomment-937958413","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2869","id":937958413,"node_id":"IC_kwDOCW7NX8436BwN","user":{"login":"elferherrera","id":6942205,"node_id":"MDQ6VXNlcjY5NDIyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/6942205?v=4","gravatar_id":"","url":"https://api.github.com/users/elferherrera","html_url":"https://github.com/elferherrera","followers_url":"https://api.github.com/users/elferherrera/followers","following_url":"https://api.github.com/users/elferherrera/following{/other_user}","gists_url":"https://api.github.com/users/elferherrera/gists{/gist_id}","starred_url":"https://api.github.com/users/elferherrera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elferherrera/subscriptions","organizations_url":"https://api.github.com/users/elferherrera/orgs","repos_url":"https://api.github.com/users/elferherrera/repos","events_url":"https://api.github.com/users/elferherrera/events{/privacy}","received_events_url":"https://api.github.com/users/elferherrera/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T16:27:27Z","updated_at":"2021-10-07T16:27:27Z","author_association":"NONE","body":"Sorry to hijack your thread, but I can find any information on files after inserting. Is this the expected iceberg behaviour? Every time I write a batch of files it creates a parquet per entry and not one for the whole batch","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/937958413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]