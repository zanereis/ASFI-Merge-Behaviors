[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447615153","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447615153","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447615153,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxNTE1Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T03:33:15Z","updated_at":"2018-12-16T03:33:15Z","author_association":"MEMBER","body":"curios... maybe @trustin or @anuraaga would know.. is there a way to run both normal http and grpc's http on the same port? Currently, we use undertow underneath, but we could consider changing that.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447615153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447615373","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447615373","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447615373,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxNTM3Mw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T03:39:25Z","updated_at":"2018-12-16T03:39:25Z","author_association":"CONTRIBUTOR","body":"If you use armeria :) Upstream gRPC doesn't support it yet I think, or even if it did it would only be HTTP/2, not HTTP/1.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447615373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447615529","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447615529","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447615529,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxNTUyOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T03:44:34Z","updated_at":"2018-12-16T03:44:34Z","author_association":"MEMBER","body":">\n> If you use armeria :) Upstream gRPC doesn't support it yet I think, or\n> even if it did it would only be HTTP/2, not HTTP/1.\n>\n\nfrankly I think we should switch to armeria then. we have several\ncontributors who are also contributors to armeria. zipkin always tries to\nbe simplest possible setup and adding ports betrays this. if we are talking\nabout grpc being shaded anyway we can just make stackdriver use the shaded\none (or potentially convert its storage module also to armeria)\n\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447615529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447615813","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447615813","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447615813,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxNTgxMw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T03:52:48Z","updated_at":"2018-12-16T03:52:48Z","author_association":"CONTRIBUTOR","body":"I guess the talking points would be that armeria still isn't GA and has more dependencies. But agree that more ports is annoying and a big reason I love armeria :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447615813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616006","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447616006","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447616006,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxNjAwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T03:59:24Z","updated_at":"2018-12-16T03:59:24Z","author_association":"MEMBER","body":"we dont promise any api compat for our server, so not worries. if we did\narmeria we would just add grpc endpoint directly to the zipkin-server imho\nand not mess with extra modules.\n\nOn Sun, Dec 16, 2018, 11:52 AM Anuraag Agrawal <notifications@github.com\nwrote:\n\n> I guess the talking points would be that armeria still isn't GA and has\n> more dependencies. But agree that more ports is annoying and a big reason I\n> love armeria :)\n>\n> ‚Äî\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447615813>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD615g9RvQRBh3NmUZu5W5YK1v4W-b8ks5u5cORgaJpZM4ZU_jb>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616395","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447616395","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447616395,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxNjM5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T04:10:27Z","updated_at":"2018-12-16T04:10:27Z","author_association":"MEMBER","body":"also good point on the deps of armeria. similar audit would apply to ensure\nthings still work ;)\n\nFWIW current Cassandra driver supports a range of guava starting at 16\niirc. later it doesnt depend on guava. almost everything else has no\nconflicts due to okhttp directly. we would need to watch that zipkin-aws\nand zipkin-gcp extensions dont conflict.\n\nOn Sun, Dec 16, 2018, 11:59 AM Adrian Cole <adrian.f.cole@gmail.com wrote:\n\n> we dont promise any api compat for our server, so not worries. if we did\n> armeria we would just add grpc endpoint directly to the zipkin-server imho\n> and not mess with extra modules.\n>\n> On Sun, Dec 16, 2018, 11:52 AM Anuraag Agrawal <notifications@github.com\n> wrote:\n>\n>> I guess the talking points would be that armeria still isn't GA and has\n>> more dependencies. But agree that more ports is annoying and a big reason I\n>> love armeria :)\n>>\n>> ‚Äî\n>> You are receiving this because you commented.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447615813>,\n>> or mute the thread\n>> <https://github.com/notifications/unsubscribe-auth/AAD615g9RvQRBh3NmUZu5W5YK1v4W-b8ks5u5cORgaJpZM4ZU_jb>\n>> .\n>>\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616585","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447616585","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447616585,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxNjU4NQ==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T04:15:49Z","updated_at":"2018-12-16T04:15:49Z","author_association":"CONTRIBUTOR","body":"I can look into armeria as an alternative.\r\n\r\nThe biggest trick here is going to be in the serializer though. We have to use Zipkin‚Äôs Proto3Codec instead of relying on the server implementation to deserialize the span payload. I‚Äôm not sue if any of the server implementations support the concept of lazy deserialization. If they don‚Äôt, then I‚Äôll have to plug into the serialization pipeline.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616598","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447616598","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447616598,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxNjU5OA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T04:16:10Z","updated_at":"2018-12-16T04:16:10Z","author_association":"CONTRIBUTOR","body":"For the zero copy aspect, it might be simplest to define the client API in zipkin-api as is but use an internal proto here that replaces Span with bytes. Embedded messages and strings are encoded exactly the same in proto.\r\n\r\nhttps://developers.google.com/protocol-buffers/docs/encoding","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616796","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447616796","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447616796,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxNjc5Ng==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T04:21:58Z","updated_at":"2018-12-16T04:21:58Z","author_association":"CONTRIBUTOR","body":"Also I guess you would want to use the new support for plugging in as a spring webflux server - I don't know what that means since I haven't used spring recently but probably relevant.\r\n\r\nhttps://github.com/line/armeria/commit/70785f8438e25385c5a30947ffc26a1ad3ab148a\r\n\r\nAnd if you use this unsafe option you'd be able to have real zero-copy with no heap arrays involved until the zipkin2.Span\r\n\r\nhttps://github.com/line/armeria/blob/master/grpc/src/main/java/com/linecorp/armeria/server/grpc/GrpcServiceBuilder.java#L181","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447616796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447618411","html_url":"https://github.com/openzipkin/zipkin/pull/2327#issuecomment-447618411","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2327","id":447618411,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYxODQxMQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T05:09:05Z","updated_at":"2018-12-16T05:09:05Z","author_association":"MEMBER","body":"@shakuzen \r\nOK! I'll make issues\r\n\r\n@beckje01 \r\nI see! Thank you very much üëç ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447618411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447621700","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447621700","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447621700,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYyMTcwMA==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T06:49:30Z","updated_at":"2018-12-16T06:49:30Z","author_association":"CONTRIBUTOR","body":"There are a few more dependencies with `armeria`:\r\n\r\n```console\r\n[INFO] +- com.linecorp.armeria:armeria-grpc-shaded:jar:0.75.0:compile\r\n[INFO] |  +- com.linecorp.armeria:armeria-shaded:jar:0.75.0:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.7:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-core:jar:2.9.7:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.7:compile\r\n[INFO] |  |  +- io.micrometer:micrometer-core:jar:1.1.0:compile\r\n[INFO] |  |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\r\n[INFO] |  |  |  \\- org.latencyutils:LatencyUtils:jar:2.0.3:compile\r\n[INFO] |  |  +- io.netty:netty-codec-haproxy:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.31.Final:compile\r\n[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-codec-http:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-handler:jar:4.1.31.Final:compile\r\n[INFO] |  |  +- io.netty:netty-resolver-dns:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-codec-dns:jar:4.1.31.Final:compile\r\n[INFO] |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.19.Final:compile\r\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-buffer:jar:4.1.31.Final:compile\r\n[INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.31.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-common:jar:4.1.31.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.31.Final:compile\r\n[INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:linux-x86_64:4.1.31.Final:compile\r\n[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.2:compile\r\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |  +- org.curioswitch.curiostack:protobuf-jackson:jar:0.3.0:compile\r\n[INFO] |  |  +- javax.annotation:javax.annotation-api:jar:1.3.1:runtime\r\n[INFO] |  |  +- com.google.protobuf:protobuf-java-util:jar:3.6.1:runtime\r\n```\r\n\r\nNeither `netty` or `jackson` being shaded is less than ideal. Appears that `armeria` is choosing not to shade `netty` in the future - https://github.com/line/armeria/issues/705.\r\n\r\nOn the plus side, I believe you can run HTTP/1, gRPC, and gRPC-Web all from the same server instance. GRPC-Web only supports unary RPC at present, so would need to provide a unary method for sending spans as well (or alternatively drop streaming support).","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447621700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447623995","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447623995","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447623995,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYyMzk5NQ==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T07:47:54Z","updated_at":"2018-12-16T07:47:54Z","author_association":"CONTRIBUTOR","body":"@anuraaga - For implementing the `Span` payload directly as a `ByteString`, I was looking into implementing `io.grpc.BindableService` directly and replacing the input parameter. I haven't tried that yet though so if you have a pointer or example then I'd be happy to take it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447623995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447624064","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447624064","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447624064,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYyNDA2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T07:49:48Z","updated_at":"2018-12-16T07:49:48Z","author_association":"MEMBER","body":"to see differences more directly probably add it as a dep on zipkin-server\nthen build the exec jar. do a jar -tvf|sort before and after and diff\nthose. I suspect Jackson is already in the main exec jar even if we don't\nuse it (I think zipkin-aws does)\n\n\nOn Sun, Dec 16, 2018, 2:49 PM Eric Hauser <notifications@github.com wrote:\n\n> There are a few more dependencies with armeria:\n>\n> [INFO] +- com.linecorp.armeria:armeria-grpc-shaded:jar:0.75.0:compile[INFO] |  +- com.linecorp.armeria:armeria-shaded:jar:0.75.0:compile[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.7:compile[INFO] |  |  +- com.fasterxml.jackson.core:jackson-core:jar:2.9.7:compile[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.7:compile[INFO] |  |  +- io.micrometer:micrometer-core:jar:1.1.0:compile[INFO] |  |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile[INFO] |  |  |  \\- org.latencyutils:LatencyUtils:jar:2.0.3:compile[INFO] |  |  +- io.netty:netty-codec-haproxy:jar:4.1.31.Final:compile[INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.31.Final:compile[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.31.Final:compile[INFO] |  |  |  +- io.netty:netty-codec-http:jar:4.1.31.Final:compile[INFO] |  |  |  \\- io.netty:netty-handler:jar:4.1.31.Final:compile[INFO] |  |  +- io.netty:netty-resolver-dns:jar:4.1.31.Final:compile[INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.31.Final:compile[INFO] |  |  |  \\- io.netty:netty-codec-dns:jar:4.1.31.Final:compile[INFO] |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.19.Final:compile[INFO] |  |  +- io.netty:netty-transport:jar:4.1.31.Final:compile[INFO] |  |  |  \\- io.netty:netty-buffer:jar:4.1.31.Final:compile[INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.31.Final:compile[INFO] |  |  |  +- io.netty:netty-common:jar:4.1.31.Final:compile[INFO] |  |  |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.31.Final:compile[INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:linux-x86_64:4.1.31.Final:compile[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.2:compile[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile[INFO] |  +- org.curioswitch.curiostack:protobuf-jackson:jar:0.3.0:compile[INFO] |  |  +- javax.annotation:javax.annotation-api:jar:1.3.1:runtime[INFO] |  |  +- com.google.protobuf:protobuf-java-util:jar:3.6.1:runtime\n>\n> Neither netty or jackson being shaded is less than ideal. Appears that\n> armeria is choosing not to shade netty in the future - line/armeria#705\n> <https://github.com/line/armeria/issues/705>.\n>\n> On the plus side, I believe you can run HTTP/1, gRPC, and gRPC-Web all\n> from the same server instance. GRPC-Web only supports unary RPC at present,\n> so would need to provide a unary method for sending spans as well (or\n> alternatively drop streaming support).\n>\n> ‚Äî\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447621700>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD619eocVJfmM50scArKKnoLrx0600Zks5u5ez9gaJpZM4ZU_jb>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447624064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447624395","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447624395","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447624395,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYyNDM5NQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T07:57:00Z","updated_at":"2018-12-16T07:57:00Z","author_association":"CONTRIBUTOR","body":"I was thinking this would be simplest by having\r\n\r\nPublic API proto, used by clients\r\n\r\n```\r\nmessage WriteSpansRequest {\r\n  repeated zipkin.proto3.Span span = 1;\r\n}\r\n\r\nservice ZipkinService {\r\n  rpc WriteSpans (stream WriteSpansRequest) returns (whatever);\r\n}\r\n```\r\n\r\nwhile the server actually implements a different, non-exposed proto \r\n\r\n```\r\nmessage WriteSpansRequest {\r\n  repeated bytes span = 1;\r\n}\r\n\r\nservice ZipkinService {\r\n  rpc WriteSpans (stream WriteSpansRequest) returns (whatever);\r\n}\r\n```\r\n\r\nThe protos are compatible so the clients get the advantage of the generated code and easy-to-populate structs while the server would only see the `ByteString` and decode straight into a Java span.\r\n\r\nIt has the downside of duplicate protos but it's probably a lot less complex than a custom `BindableService`","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447624395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447624491","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447624491","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447624491,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzYyNDQ5MQ==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T07:59:35Z","updated_at":"2018-12-16T07:59:35Z","author_association":"CONTRIBUTOR","body":"Got it. Yes, that is a definitely easier and a nice trick. Will give it a shot. Thanks!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447624491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447682189","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447682189","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447682189,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzY4MjE4OQ==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T22:28:47Z","updated_at":"2018-12-16T22:37:54Z","author_association":"CONTRIBUTOR","body":"So, @anuraaga's trick doesn't work - at least with gRPC Java. The issue is that the marshaller will have already copied the input stream into a `ByteString` prior to getting access to it.\r\n\r\nSo I took the approach of implementing a custom `BindableService`. This has the added benefit of removing all dependencies on Protocol Buffers entirely. Here are the dependencies introduced now:\r\n\r\n```console\r\n[INFO] +- io.grpc:grpc-netty-shaded:jar:1.17.1:runtime\r\n[INFO] |  \\- io.grpc:grpc-core:jar:1.17.1:compile (version selected from constraint [1.17.1,1.17.1])\r\n[INFO] |     +- io.grpc:grpc-context:jar:1.17.1:compile\r\n[INFO] |     +- com.google.code.gson:gson:jar:2.7:compile\r\n[INFO] |     +- com.google.errorprone:error_prone_annotations:jar:2.2.0:compile\r\n[INFO] |     +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |     +- org.codehaus.mojo:animal-sniffer-annotations:jar:1.17:compile\r\n[INFO] |     +- com.google.guava:guava:jar:26.0-android:compile\r\n[INFO] |     |  +- org.checkerframework:checker-compat-qual:jar:2.5.2:compile\r\n[INFO] |     |  \\- com.google.j2objc:j2objc-annotations:jar:1.1:compile\r\n[INFO] |     +- io.opencensus:opencensus-api:jar:0.17.0:compile\r\n[INFO] |     \\- io.opencensus:opencensus-contrib-grpc-metrics:jar:0.17.0:compile\r\n[INFO] +- io.grpc:grpc-stub:jar:1.17.1:compile\r\n```\r\n\r\nSo this ends up being much less of a dependency burden than `armeria` - no netty, protobufs - with the downside of having the collector run on a different port. We can keep this version of gRPC in sync with the version that is being used by `zipkin-gcp` to avoid any issues.\r\n\r\nHowever, `armeria` does have the advantage of everything being on the same port and it would support gRPC-Web out of the box without a proxy. Would switching to `armeria` mean that it would eliminate `undertow` and just use it for everything? If so, we shoud probably find a path to finalizing the gRPC API in this PR and moving forward with this experimental version on a different port. A separate issue could be opened for moving to `armeria` - given the size of that change, I would want to make sure there was plenty of support for it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447682189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447688076","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447688076","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447688076,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzY4ODA3Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T23:51:32Z","updated_at":"2018-12-16T23:51:32Z","author_association":"MEMBER","body":"yes armeria would imply geting rid of undertow and its deps. undertow was\nonly added for better perf.\n\nplan sounds fine, but I'm really not keen merging another port to expose.\nmeaning if helpful for development can separate, but please don't release\nus needing to support a second http port perpetually unless the change to\nundo that immediately follows.\n\nOn Mon, Dec 17, 2018 at 6:28 AM Eric Hauser <notifications@github.com>\nwrote:\n\n> So, @anuraaga <https://github.com/anuraaga>'s trick doesn't work - at\n> least with gRPC Java. The issue is that the marshaller will have already\n> copied the input stream into a ByteString prior to getting access to it.\n>\n> So I took the approach of implementing a custom BindableService. This has\n> the added benefit of removing all dependencies on Protocol Buffers\n> entirely. Here are the dependencies introduced now:\n>\n> [INFO] +- io.grpc:grpc-netty-shaded:jar:1.17.1:runtime\n> [INFO] |  \\- io.grpc:grpc-core:jar:1.17.1:compile (version selected from constraint [1.17.1,1.17.1])\n> [INFO] |     +- io.grpc:grpc-context:jar:1.17.1:compile\n> [INFO] |     +- com.google.code.gson:gson:jar:2.7:compile\n> [INFO] |     +- com.google.errorprone:error_prone_annotations:jar:2.2.0:compile\n> [INFO] |     +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n> [INFO] |     +- org.codehaus.mojo:animal-sniffer-annotations:jar:1.17:compile\n> [INFO] |     +- com.google.guava:guava:jar:26.0-android:compile\n> [INFO] |     |  +- org.checkerframework:checker-compat-qual:jar:2.5.2:compile\n> [INFO] |     |  \\- com.google.j2objc:j2objc-annotations:jar:1.1:compile\n> [INFO] |     +- io.opencensus:opencensus-api:jar:0.17.0:compile\n> [INFO] |     \\- io.opencensus:opencensus-contrib-grpc-metrics:jar:0.17.0:compile\n> [INFO] +- io.grpc:grpc-stub:jar:1.17.1:compile\n>\n> So this ends up being much less of a dependency burden than armeria - no\n> netty, protobufs -- with the downside of having the collector run on a\n> different port. We can keep this version of gRPC in sync with the version\n> that is being used by zipkin-gcp to avoid any issues.\n>\n> However, armeria does have the advantage of everything being on the same\n> port and it would support gRPC-Web out of the box without a proxy. Would\n> switching to armeria mean that it would eliminate undertow and just use\n> it for everything? If so, we shoud probably find a path to finalizing the\n> gRPC API in this PR and moving forward with this experimental version on a\n> different port. A separate issue could be opened for moving to armeria -\n> given the size of that change, I would want to make sure there was plenty\n> of support for it.\n>\n> ‚Äî\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447682189>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD61xBtWXssSyhRFKTCIDIxNHiQjwLtks5u5skggaJpZM4ZU_jb>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447688076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447688435","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447688435","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447688435,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzY4ODQzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-16T23:58:07Z","updated_at":"2018-12-16T23:58:07Z","author_association":"MEMBER","body":"PS it isn't fair to put the burden of switching all to armeria on Eric :P I\nwill spike a PR so in case this happens while I'm away (I'm out tomorrow)\nthe grunt work is ready.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447688435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447690751","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447690751","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447690751,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzY5MDc1MQ==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T00:29:43Z","updated_at":"2018-12-17T00:29:43Z","author_association":"CONTRIBUTOR","body":"I started this whole mess so I'm fine rolling up my sleeves on the switch. Just want to make sure there is support behind it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447690751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447691327","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447691327","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447691327,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzY5MTMyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T00:36:11Z","updated_at":"2018-12-17T00:36:11Z","author_association":"MEMBER","body":"> I started this whole mess so I'm fine rolling up my sleeves on the switch. Just want to make sure there is support behind it.\n\nI think there's some sort of \"jury's still out\" in general.\n\nThe trick is that adding an optional module will likely become\neffectively required as there is so much marketing buzz around gRPC.\nSo, we have to be quite careful how to introduce this. scribe being on\na different port caused a bunch of pain back in the day with people\ninvariably choosing the wrong port, having to go through work to\nfigure it out (matters not if docs say use the right port), then going\nonto support and moving the concern there, or triple posted issues\netc.\n\nBasically, if we're going to do this, in the case of gRPC, I think we\nought to consider this becoming effectively required, and how to stop\nthe most type of problems we can't control. We do have a lot of\ncontrol over the server and extensions of it as we explicitly give\nzero warranty on custom builds. We have little control over config\nmistakes even with docs.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447691327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447691626","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447691626","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447691626,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzY5MTYyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T00:39:19Z","updated_at":"2018-12-17T00:39:19Z","author_association":"MEMBER","body":"ps I'll graciously accept your offer to do the armeria spike if comes\nto that. I'll raise an issue on it.\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447691626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447693249","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447693249","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447693249,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzY5MzI0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T00:57:22Z","updated_at":"2018-12-17T00:57:22Z","author_association":"MEMBER","body":"here's the issue for armeria https://github.com/openzipkin/zipkin/issues/2331","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447693249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447700154","html_url":"https://github.com/openzipkin/zipkin/issues/2331#issuecomment-447700154","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2331","id":447700154,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzcwMDE1NA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T01:58:41Z","updated_at":"2018-12-17T01:58:41Z","author_association":"CONTRIBUTOR","body":"/cc @hyangtack @trustin","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447700154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447701964","html_url":"https://github.com/openzipkin/zipkin/issues/2331#issuecomment-447701964","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2331","id":447701964,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzcwMTk2NA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T02:12:24Z","updated_at":"2018-12-17T02:12:24Z","author_association":"CONTRIBUTOR","body":"By the way I use armeria to push traces to Stackdriver in production using this\r\n\r\nhttps://github.com/curioswitch/curiostack/blob/master/common/google-cloud/trace/src/main/java/org/curioswitch/gcloud/trace/GcloudTraceModule.java\r\n\r\nIt's self traced so I keep on pushing spans forever ;)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447701964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447715000","html_url":"https://github.com/openzipkin/zipkin/pull/2309#issuecomment-447715000","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2309","id":447715000,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzcxNTAwMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T03:51:45Z","updated_at":"2018-12-17T03:51:45Z","author_association":"MEMBER","body":"this chops off the basic functionality and will allow the  UI work to start immediately when merged. I can help rework the other commits similarly https://github.com/openzipkin/zipkin/pull/2332","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447715000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447723109","html_url":"https://github.com/openzipkin/zipkin/issues/2331#issuecomment-447723109","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2331","id":447723109,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzcyMzEwOQ==","user":{"login":"trustin","id":173918,"node_id":"MDQ6VXNlcjE3MzkxOA==","avatar_url":"https://avatars.githubusercontent.com/u/173918?v=4","gravatar_id":"","url":"https://api.github.com/users/trustin","html_url":"https://github.com/trustin","followers_url":"https://api.github.com/users/trustin/followers","following_url":"https://api.github.com/users/trustin/following{/other_user}","gists_url":"https://api.github.com/users/trustin/gists{/gist_id}","starred_url":"https://api.github.com/users/trustin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trustin/subscriptions","organizations_url":"https://api.github.com/users/trustin/orgs","repos_url":"https://api.github.com/users/trustin/repos","events_url":"https://api.github.com/users/trustin/events{/privacy}","received_events_url":"https://api.github.com/users/trustin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T04:59:43Z","updated_at":"2018-12-17T04:59:43Z","author_association":"NONE","body":"Thanks a lot for your interest in Armeria and we'd be very happy to work with Zipkin community to make this real. :+1: ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447723109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447723669","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447723669","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447723669,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzcyMzY2OQ==","user":{"login":"trustin","id":173918,"node_id":"MDQ6VXNlcjE3MzkxOA==","avatar_url":"https://avatars.githubusercontent.com/u/173918?v=4","gravatar_id":"","url":"https://api.github.com/users/trustin","html_url":"https://github.com/trustin","followers_url":"https://api.github.com/users/trustin/followers","following_url":"https://api.github.com/users/trustin/following{/other_user}","gists_url":"https://api.github.com/users/trustin/gists{/gist_id}","starred_url":"https://api.github.com/users/trustin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trustin/subscriptions","organizations_url":"https://api.github.com/users/trustin/orgs","repos_url":"https://api.github.com/users/trustin/repos","events_url":"https://api.github.com/users/trustin/events{/privacy}","received_events_url":"https://api.github.com/users/trustin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T05:03:57Z","updated_at":"2018-12-17T05:03:57Z","author_association":"NONE","body":"@ewhauser wrote:\r\n> I would want to make sure there was plenty of support for it.\r\n\r\nThe Armeria project maintainers including LINE employees like me (@hyangtack and @minwoox as well) would be happy to support Zipkin community for adoption of Armeria and its sustainable development. I believe you don't need to worry too much about the future of Armeria given that it's being used in various critical parts of LINE services.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447723669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447726620","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447726620","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447726620,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzcyNjYyMA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T05:27:11Z","updated_at":"2018-12-17T05:27:11Z","author_association":"CONTRIBUTOR","body":"For the copying issue, just to clarify, using the proto approach makes\r\n\r\n`ByteBuf` -> `zipkin.proto3.Span` -> `byte[]` -> `zipkin2.Span` become\r\n\r\n`ByteBuf` -> `byte[]` -> `zipkin2.Span`\r\n\r\nand then using Armeria's unsafe option can make it become\r\n\r\n`ByteBuf` -> `zipkin2.Span` \r\n\r\n`Proto3Codec` needs to be updated to accept `ByteBuffer`, which is pretty simple change I think. On the flip side, I think it's not practical for it to parse the `InputStream` directly since doing that efficiently would probably require using the `KnownLength` class inside of `Proto3Codec` which shouldn't have gRPC dependencies.\r\n\r\nOf course it depends on the decision of moving to armeria, but if we do, I'd still recommend using the proto trick + unsafe option.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447726620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447728342","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447728342","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447728342,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzcyODM0Mg==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T05:40:37Z","updated_at":"2018-12-17T05:40:37Z","author_association":"CONTRIBUTOR","body":"Agreed. If armeria is the way forward, then this is the better option.\n\nOn Sun, Dec 16, 2018 at 9:27 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> For the copying issue, just to clarify, using the proto approach makes\n>\n> ByteBuf -> zipkin.proto3.Span -> byte[] -> zipkin2.Span become\n>\n> ByteBuf -> byte[] -> zipkin2.Span\n>\n> and then using Armeria's unsafe option can make it become\n>\n> ByteBuf -> zipkin2.Span\n>\n> Proto3Codec needs to be updated to accept ByteBuffer, which is pretty\n> simple change I think. On the flip side, I think it's not practical for it\n> to parse the InputStream directly since doing that efficiently would\n> probably require using the KnownLength class inside of Proto3Codec which\n> shouldn't have gRPC dependencies.\n>\n> Of course it depends on the decision of moving to armeria, but if we do,\n> I'd still recommend using the proto trick + unsafe option.\n>\n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447726620>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAIBPYlevMan0sbk2a4G6hQKSHDqLdb8ks5u5ys9gaJpZM4ZU_jb>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447728342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447728724","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447728724","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447728724,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzcyODcyNA==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T05:43:23Z","updated_at":"2018-12-17T05:43:23Z","author_association":"CONTRIBUTOR","body":"Trustin - armeria seems like a great project. More so wanted to make sure\nthere was support for using it within zipkin-server. There are a lot of\nconsumers that I don‚Äôt want to break; thank you for the offer to help\nsupport with the adoption!\n\nOn Sun, Dec 16, 2018 at 9:04 PM Trustin Lee <notifications@github.com>\nwrote:\n\n> @ewhauser <https://github.com/ewhauser> wrote:\n>\n> I would want to make sure there was plenty of support for it.\n>\n> The Armeria project maintainers including LINE employees like me (\n> @hyangtack <https://github.com/hyangtack> and @minwoox\n> <https://github.com/minwoox> as well) would be happy to support Zipkin\n> community for adoption of Armeria and its sustainable development. I\n> believe you don't need to worry too much about the future of Armeria given\n> that it's being used in various critical parts of LINE services.\n>\n> ‚Äî\n> You are receiving this because you were mentioned.\n>\n>\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447723669>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAIBPcM8jeHwTR8aNnQ7R5wclDKRwkanks5u5yXNgaJpZM4ZU_jb>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447728724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447737038","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-447737038","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":447737038,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzczNzAzOA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T06:32:13Z","updated_at":"2018-12-17T06:32:13Z","author_association":"MEMBER","body":"OK. \r\nI think that UX related to operation has improved considerably.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447737038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447737112","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-447737112","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":447737112,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzczNzExMg==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T06:32:38Z","updated_at":"2018-12-17T06:32:55Z","author_association":"MEMBER","body":"I start to improve design.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447737112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447737780","html_url":"https://github.com/openzipkin/zipkin/pull/2332#issuecomment-447737780","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2332","id":447737780,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzczNzc4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T06:36:12Z","updated_at":"2018-12-17T06:36:12Z","author_association":"MEMBER","body":"@tacigar @zeagord @shakuzen PTAL I suspect we can merge this on green","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447737780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447738106","html_url":"https://github.com/openzipkin/zipkin/pull/2332#issuecomment-447738106","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2332","id":447738106,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzczODEwNg==","user":{"login":"zeagord","id":4723376,"node_id":"MDQ6VXNlcjQ3MjMzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/4723376?v=4","gravatar_id":"","url":"https://api.github.com/users/zeagord","html_url":"https://github.com/zeagord","followers_url":"https://api.github.com/users/zeagord/followers","following_url":"https://api.github.com/users/zeagord/following{/other_user}","gists_url":"https://api.github.com/users/zeagord/gists{/gist_id}","starred_url":"https://api.github.com/users/zeagord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeagord/subscriptions","organizations_url":"https://api.github.com/users/zeagord/orgs","repos_url":"https://api.github.com/users/zeagord/repos","events_url":"https://api.github.com/users/zeagord/events{/privacy}","received_events_url":"https://api.github.com/users/zeagord/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T06:38:06Z","updated_at":"2018-12-17T06:38:06Z","author_association":"MEMBER","body":"Sure. I think so too.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447738106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447739158","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-447739158","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":447739158,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzczOTE1OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T06:44:20Z","updated_at":"2018-12-17T06:44:20Z","author_association":"MEMBER","body":"hehe \"Improve lookback design because I don't like it.\"","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447739158/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447781304","html_url":"https://github.com/openzipkin/zipkin/pull/2309#issuecomment-447781304","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2309","id":447781304,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0Nzc4MTMwNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T09:42:05Z","updated_at":"2018-12-17T09:42:05Z","author_association":"MEMBER","body":"other storage impls pulled out in #2333 and #2334","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447781304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447782871","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-447782871","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":447782871,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0Nzc4Mjg3MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T09:47:20Z","updated_at":"2018-12-17T09:47:20Z","author_association":"MEMBER","body":"noticed this.. is there a missing file? or is this just me?\r\n\r\n```\r\n[INFO] /Users/acole/oss/zipkin/zipkin-lens/src/components/Browser/Traces/index.test.js\r\n[INFO]   5:28  error  Unable to resolve path to module './InitialMessage'  import/no-unresolved\r\n[INFO] \r\n[INFO] ‚úñ 1 problem (1 error, 0 warnings)\r\n[INFO] \r\n[ERROR] (node:32732) [ESLINT_LEGACY_OBJECT_REST_SPREAD] DeprecationWarning: The 'parserOptions.ecmaFeatures.experimentalObjectRestSpread' option is deprecated. Use 'parserOptions.ecmaVersion' instead. (found in \"node_modules/eslint-config-airbnb-base/index.js\")\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447782871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447812182","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447812182","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447812182,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzgxMjE4Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T11:24:05Z","updated_at":"2018-12-17T11:24:05Z","author_association":"MEMBER","body":"I was just looking at the proto. It seems probably unary ListOfSpans style request would make more sense as the initial impl as all infrastructure we have is based on ListOfSpans (Collector, Storage etc). It is nice that all of our impls accept literally the same messages. For example, if our initial method was putSpans(ListOfSpans) then the exact codec we use for normal proto over http/2 could be used to process that message, right?\r\n\r\nStarting with just a unary likely also means the largest amount of client support in general. Does that sound right?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447812182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447813970","html_url":"https://github.com/openzipkin/zipkin/pull/2335#issuecomment-447813970","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2335","id":447813970,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzgxMzk3MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T11:31:12Z","updated_at":"2018-12-17T11:31:12Z","author_association":"MEMBER","body":"personally I would not put arbitrary heading like Tag Key. Instead make a drop-down per key, or auto-complete in the annotation query section (with tabs such as haystack do). We aren't expecting more than several site specific tags.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447813970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447814321","html_url":"https://github.com/openzipkin/zipkin/pull/2335#issuecomment-447814321","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2335","id":447814321,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzgxNDMyMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T11:32:39Z","updated_at":"2018-12-17T11:32:39Z","author_association":"MEMBER","body":"also we should mention that redesign in the zipkin-ui code is optional. we'd expect to land lens in a month.. given that, a conservative approach like auto-complete inside the annotationQuery section can make sense (if not hard to impl)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447814321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447871719","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447871719","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":447871719,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0Nzg3MTcxOQ==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-17T14:50:52Z","updated_at":"2018-12-17T14:50:52Z","author_association":"CONTRIBUTOR","body":"Yes. I‚Äôm was planning on swapping out in the next rev as streaming is not\nyet supported by GRPC-Web.\n\nRe: putSpans and ListOfSpans - I think that‚Äôs the right approach. armeria\nsays it supports gRPC over HTTP/1 so I need to explore how that works. If\nit‚Äôs similar to GRPC Gateway where you use annotations to define the HTTP/1\nmappings, then you could potentially share the code for both\nimplementations.\n\nOn Mon, Dec 17, 2018 at 3:24 AM Adrian Cole <notifications@github.com>\nwrote:\n\n> I was just looking at the proto. It seems probably unary ListOfSpans style\n> request would make more sense as the initial impl as all infrastructure we\n> have is based on ListOfSpans (Collector, Storage etc). It is nice that all\n> of our impls accept literally the same messages. For example, if our\n> initial method was putSpans(ListOfSpans) then the exact codec we use for\n> normal proto over http/2 could be used to process that message, right?\n>\n> Starting with just a unary likely also means the largest amount of client\n> support in general. Does that sound right?\n>\n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2328#issuecomment-447812182>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAIBPbYLSknVTC9k07_TrkYE1zMzu2Ulks5u537lgaJpZM4ZU_jb>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/447871719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448051889","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-448051889","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":448051889,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODA1MTg4OQ==","user":{"login":"ewhauser","id":131389,"node_id":"MDQ6VXNlcjEzMTM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/131389?v=4","gravatar_id":"","url":"https://api.github.com/users/ewhauser","html_url":"https://github.com/ewhauser","followers_url":"https://api.github.com/users/ewhauser/followers","following_url":"https://api.github.com/users/ewhauser/following{/other_user}","gists_url":"https://api.github.com/users/ewhauser/gists{/gist_id}","starred_url":"https://api.github.com/users/ewhauser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewhauser/subscriptions","organizations_url":"https://api.github.com/users/ewhauser/orgs","repos_url":"https://api.github.com/users/ewhauser/repos","events_url":"https://api.github.com/users/ewhauser/events{/privacy}","received_events_url":"https://api.github.com/users/ewhauser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T00:34:26Z","updated_at":"2018-12-18T00:34:40Z","author_association":"CONTRIBUTOR","body":"For inspiration, I took a look at the [API](https://github.com/census-instrumentation/opencensus-proto/blob/master/src/opencensus/proto/agent/trace/v1/trace_service.proto#L45) provided by OpenCensus trace collector.\r\n\r\nThey actually use bidirectional streaming in their [implementation](https://github.com/census-instrumentation/opencensus-service/blob/f35ec164877d1f26b695d6dcece9130849dd8633/receiver/opencensus/octrace/opencensus.go#L70) although there are some nuances in their protocol which do not exist for Zipkin.\r\n\r\nI still think implementing unary makes sense since gRPC-Web does not support streaming, but I'll probably perf test both solutions before finishing.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448051889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448057414","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-448057414","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":448057414,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODA1NzQxNA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T01:03:55Z","updated_at":"2018-12-18T01:03:55Z","author_association":"MEMBER","body":"Oops!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448057414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448072414","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-448072414","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":448072414,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODA3MjQxNA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T02:20:40Z","updated_at":"2018-12-18T02:20:40Z","author_association":"CONTRIBUTOR","body":"I think streaming is interesting if the client doesn't do any batching so if you try comparing the perf, I'd recommend doing it without batching in the streaming version at least as an option","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448072414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448100852","html_url":"https://github.com/openzipkin/zipkin/pull/2334#issuecomment-448100852","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2334","id":448100852,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODEwMDg1Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T05:25:51Z","updated_at":"2018-12-18T05:25:51Z","author_association":"MEMBER","body":"tested with\r\n\r\n```bash\r\n$ STORAGE_TYPE=mysql MYSQL_USER=root AUTOCOMPLETE_KEYS=environment  java -jar ./zipkin-server/target/zipkin-server-*exec.jar\r\n```\r\n\r\nthen, used curl\r\n```bash\r\n$ curl -s localhost:9411/api/v2/autocompleteKeys\r\n[\"environment\"]\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448100852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448109994","html_url":"https://github.com/openzipkin/zipkin/pull/2333#issuecomment-448109994","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2333","id":448109994,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODEwOTk5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T06:20:35Z","updated_at":"2018-12-18T06:20:35Z","author_association":"MEMBER","body":"this still needs an auto-complete tag write deduplicator similar to what's in cassandra","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448109994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448128080","html_url":"https://github.com/openzipkin/zipkin/pull/2309#issuecomment-448128080","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2309","id":448128080,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODEyODA4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T07:51:31Z","updated_at":"2018-12-18T07:51:31Z","author_association":"MEMBER","body":"I think this is nearly ready. we need to test the auto-upgrade logic and also update the README files to talk about how autocomplete works","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448128080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448142534","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-448142534","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":448142534,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODE0MjUzNA==","user":{"login":"drolando","id":3317638,"node_id":"MDQ6VXNlcjMzMTc2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/3317638?v=4","gravatar_id":"","url":"https://api.github.com/users/drolando","html_url":"https://github.com/drolando","followers_url":"https://api.github.com/users/drolando/followers","following_url":"https://api.github.com/users/drolando/following{/other_user}","gists_url":"https://api.github.com/users/drolando/gists{/gist_id}","starred_url":"https://api.github.com/users/drolando/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drolando/subscriptions","organizations_url":"https://api.github.com/users/drolando/orgs","repos_url":"https://api.github.com/users/drolando/repos","events_url":"https://api.github.com/users/drolando/events{/privacy}","received_events_url":"https://api.github.com/users/drolando/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-18T08:47:40Z","updated_at":"2018-12-18T08:47:40Z","author_association":"CONTRIBUTOR","body":"@tacigar annotationQuery seems broken to me. I never get back any result whatever query I input there","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448142534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448471087","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-448471087","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":448471087,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODQ3MTA4Nw==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T05:07:52Z","updated_at":"2018-12-19T05:07:52Z","author_association":"MEMBER","body":"Oh...\r\nIn my environment, it works... ü§î \r\nCould you tell me the API path being called after pressing the search button (like `http://localhost:9000/zipkin/api/v2/traces?serviceName=serviceA&annotationQuery=error....` )","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448471087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448620216","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-448620216","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":448620216,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODYyMDIxNg==","user":{"login":"drolando","id":3317638,"node_id":"MDQ6VXNlcjMzMTc2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/3317638?v=4","gravatar_id":"","url":"https://api.github.com/users/drolando","html_url":"https://github.com/drolando","followers_url":"https://api.github.com/users/drolando/followers","following_url":"https://api.github.com/users/drolando/following{/other_user}","gists_url":"https://api.github.com/users/drolando/gists{/gist_id}","starred_url":"https://api.github.com/users/drolando/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drolando/subscriptions","organizations_url":"https://api.github.com/users/drolando/orgs","repos_url":"https://api.github.com/users/drolando/repos","events_url":"https://api.github.com/users/drolando/events{/privacy}","received_events_url":"https://api.github.com/users/drolando/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-19T14:45:21Z","updated_at":"2018-12-19T14:45:21Z","author_association":"CONTRIBUTOR","body":"@tacigar it works if you only filter on the annotation name but what I want to do is to filter on something like `region=uswest1-prod`. I think that `=` doesn't get urlencoded properly","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448620216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448806445","html_url":"https://github.com/openzipkin/zipkin/pull/2309#issuecomment-448806445","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2309","id":448806445,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODgwNjQ0NQ==","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-20T00:29:16Z","updated_at":"2018-12-20T00:29:53Z","author_association":"MEMBER","body":"Code changes LGTM.\r\n\r\nOne comment though: most of the diff is whitespace/code-style changes. For the reviewer there's a huge waste of time reading diffs that have nothing to do with the actual PR. It would be great if those changes where separated out to a separate follow-up commit (still within the PR). That way by reviewing just the first commit of the PR a lot of time could be saved. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/448806445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/449253563","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-449253563","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":449253563,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTI1MzU2Mw==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T05:09:30Z","updated_at":"2018-12-21T08:52:05Z","author_association":"MEMBER","body":"Oops! That's true!\r\nI'll fix it.\r\nThank you!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/449253563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/449465481","html_url":"https://github.com/openzipkin/zipkin/issues/2314#issuecomment-449465481","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2314","id":449465481,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTQ2NTQ4MQ==","user":{"login":"tcasparro","id":3999910,"node_id":"MDQ6VXNlcjM5OTk5MTA=","avatar_url":"https://avatars.githubusercontent.com/u/3999910?v=4","gravatar_id":"","url":"https://api.github.com/users/tcasparro","html_url":"https://github.com/tcasparro","followers_url":"https://api.github.com/users/tcasparro/followers","following_url":"https://api.github.com/users/tcasparro/following{/other_user}","gists_url":"https://api.github.com/users/tcasparro/gists{/gist_id}","starred_url":"https://api.github.com/users/tcasparro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tcasparro/subscriptions","organizations_url":"https://api.github.com/users/tcasparro/orgs","repos_url":"https://api.github.com/users/tcasparro/repos","events_url":"https://api.github.com/users/tcasparro/events{/privacy}","received_events_url":"https://api.github.com/users/tcasparro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-21T18:36:38Z","updated_at":"2018-12-21T18:36:38Z","author_association":"NONE","body":"Got it.  I'll take a read through the code.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/449465481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450379713","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450379713","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450379713,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDM3OTcxMw==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-28T15:46:02Z","updated_at":"2018-12-28T15:47:25Z","author_association":"MEMBER","body":"At first, I did not intend to change the design of existing components much in this PR.\r\nBut I realized that it is essential to consider other components in building GlobalSearch components.\r\nSo I decided to add the minimal changes to Browser page & DetailedTrace page components to consider the design of the GlobalSearch component.\r\nBut I didn't add any changes to Dependencies page & Timeline components, because these components need a lot of changes in future(e.g Replacing vizceral / Using SVG for timeline, etc...)\r\n\r\n![zipkin-browser](https://user-images.githubusercontent.com/19551419/50520083-aef9f380-0b01-11e9-8a94-ce3c3ca3a314.png)\r\n![detailed-trace-summary](https://user-images.githubusercontent.com/19551419/50520092-b3bea780-0b01-11e9-8818-eb969a369393.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450379713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450558761","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450558761","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450558761,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDU1ODc2MQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-30T12:52:43Z","updated_at":"2018-12-30T12:52:43Z","author_association":"MEMBER","body":"@adriancole \r\nPTAL üôá ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450558761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450568577","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450568577","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450568577,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDU2ODU3Nw==","user":{"login":"basvanbeek","id":7205296,"node_id":"MDQ6VXNlcjcyMDUyOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7205296?v=4","gravatar_id":"","url":"https://api.github.com/users/basvanbeek","html_url":"https://github.com/basvanbeek","followers_url":"https://api.github.com/users/basvanbeek/followers","following_url":"https://api.github.com/users/basvanbeek/following{/other_user}","gists_url":"https://api.github.com/users/basvanbeek/gists{/gist_id}","starred_url":"https://api.github.com/users/basvanbeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/basvanbeek/subscriptions","organizations_url":"https://api.github.com/users/basvanbeek/orgs","repos_url":"https://api.github.com/users/basvanbeek/repos","events_url":"https://api.github.com/users/basvanbeek/events{/privacy}","received_events_url":"https://api.github.com/users/basvanbeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-30T15:38:18Z","updated_at":"2018-12-30T15:38:18Z","author_association":"MEMBER","body":"@tacigar I'd personally would drop the lighter (white) background all together. It clutters the display unnecessarily. \r\nBy having the + and search icon clearly visible and having a contrasting color for the \"Please select the criteria...\" the intent of the top bar is already apparent. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450568577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450597830","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450597830","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450597830,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDU5NzgzMA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T00:50:17Z","updated_at":"2018-12-31T00:56:18Z","author_association":"MEMBER","body":"@basvanbeek \r\nThank you for your feedback!\r\nI tried to change the design a little.\r\nWhich do you think is better?\r\n\r\n## Current design (white background)\r\n\r\n<img width=\"500\" alt=\"current-1\" src=\"https://user-images.githubusercontent.com/19551419/50552855-c4c50f80-0cdf-11e9-91b8-04b16cbb4256.png\">\r\n<img width=\"500\" alt=\"current-2\" src=\"https://user-images.githubusercontent.com/19551419/50552857-cabaf080-0cdf-11e9-91f6-da6d8f89fdd0.png\">\r\n\r\n## Dark\r\n\r\n<img width=\"500\" alt=\"dark-1\" src=\"https://user-images.githubusercontent.com/19551419/50552873-f8a03500-0cdf-11e9-8708-52ad8e465c09.png\">\r\n<img width=\"500\" alt=\"dark-2\" src=\"https://user-images.githubusercontent.com/19551419/50552876-fccc5280-0cdf-11e9-9206-b57399157309.png\">\r\n\r\n## More dark\r\n\r\nI personally like this.\r\n\r\n<img width=\"500\" alt=\"more-dark-1\" src=\"https://user-images.githubusercontent.com/19551419/50552958-4a958a80-0ce1-11e9-8d22-892de410713f.png\">\r\n<img width=\"500\" alt=\"more-dark-2\" src=\"https://user-images.githubusercontent.com/19551419/50552959-4f5a3e80-0ce1-11e9-89b6-eab12e13af2d.png\">\r\n\r\n## No border\r\n\r\nMaybe this is not good, because not having a contrasting color for the \"Please select the criteria...\".\r\n\r\n<img width=\"500\" alt=\"no-border-1\" src=\"https://user-images.githubusercontent.com/19551419/50552879-1cfc1180-0ce0-11e9-989b-d588e29062e3.png\">\r\n<img width=\"500\" alt=\"no-border-2\" src=\"https://user-images.githubusercontent.com/19551419/50552881-284f3d00-0ce0-11e9-9e2a-989be727f5cb.png\">\r\n\r\ncc @adriancole ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450597830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450601411","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450601411","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450601411,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYwMTQxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T02:09:44Z","updated_at":"2018-12-31T02:09:44Z","author_association":"MEMBER","body":"I like no border best","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450601411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450601470","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450601470","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450601470,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYwMTQ3MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T02:11:10Z","updated_at":"2018-12-31T02:11:10Z","author_association":"MEMBER","body":"@tacigar can you rebase and force push the conflicts away :)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450601470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450601991","html_url":"https://github.com/openzipkin/zipkin/pull/2309#issuecomment-450601991","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2309","id":450601991,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYwMTk5MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T02:22:33Z","updated_at":"2018-12-31T02:22:33Z","author_association":"MEMBER","body":"@michaelsembwever sorry about the formatting thing. I was in a rush to get something stable before I turned off internet for the vacation, but that amplified efforts to others.. not sure the better call but I apologize nevertheless. thanks for reviewing despite this.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450601991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450602012","html_url":"https://github.com/openzipkin/zipkin/pull/2309#issuecomment-450602012","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2309","id":450602012,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYwMjAxMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T02:23:18Z","updated_at":"2018-12-31T02:23:18Z","author_association":"MEMBER","body":"FYI travis is failing still on the same tests as last push this needs to be looked into prior to merge","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450602012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450602427","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-450602427","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":450602427,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYwMjQyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T02:33:51Z","updated_at":"2018-12-31T02:33:51Z","author_association":"MEMBER","body":"@anuraaga I don't expect many clients to not do bundling at all as that implies a different internal reporting arch only used for grpc, wouldn't it?\r\n\r\nFor example, even kafka is a bundle-at-a-time transport. This was done for reasons including that some spans are so small that sending in a single message is wasteful. Also, often people mistakenly assume that sending one span onto a transport is protecting the app from overhead when usually even kafka clients can (and have) crashed an app enqueueing.\r\n\r\nI wonder if we can decouple this completely as having two supported ways to do grpc seems tech debt creating not just here but the inevitable \"it is streaming on server, so why not also in X (where X is every client library)\". I really hesitate strongly about adding more complexity especially in the initial impl as there's already quite a lot of work to do just for unary.\r\n\r\nAssuming unary is in, it would seem possible for someone who felt strongly about streaming to add a module to their setup that is a streaming alternate as well.. meaning we can completely defer this whole thing as well the impact discussions which now only stall the work entirely. What I mean is bundling the option for streaming means supporting it and has almost the same impact as supporting it enabled by default. I don't quite feel we should add that burden today considering we still have a lot of other things to do to get this in.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450602427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450607052","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450607052","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450607052,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYwNzA1Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T04:26:48Z","updated_at":"2018-12-31T04:26:48Z","author_association":"MEMBER","body":"actually no problem I will help","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450607052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450608996","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-450608996","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":450608996,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYwODk5Ng==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T05:10:26Z","updated_at":"2018-12-31T05:10:46Z","author_association":"CONTRIBUTOR","body":"Yeah just going unary seems fine. I think streaming without batching is interesting since HTTP/2 flow control is basically a type of batching - having two layers of batching feels like it should be unnecessary, so it would be interesting to see if it makes things simpler to just use the flow control and stream a Span at a time.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450608996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450610373","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450610373","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450610373,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYxMDM3Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T05:41:42Z","updated_at":"2018-12-31T05:41:42Z","author_association":"MEMBER","body":"I think I like this right now. One thing maybe not user friendly is the name \"annotationQuery\" and similarly the raw labels like \"serviceName\". I think eventually these should be satisified by i18n\r\n\r\nex \"annotationQuery\" in english label could be \"tag or annotation query\"\r\n\r\nOther thing is now it seems we have to click the double-down arrow to expand the trace inline. This might be ok as it hints where to go to go out or not. However, I found myself double-clicking the bar eventhough the jump down icon is intuitive..\r\n<img width=\"966\" alt=\"screen shot 2018-12-31 at 1 38 40 pm\" src=\"https://user-images.githubusercontent.com/64215/50555058-c4d60700-0d01-11e9-9967-260c245e8c6e.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450610373/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450610426","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450610426","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450610426,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYxMDQyNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T05:43:01Z","updated_at":"2018-12-31T05:43:01Z","author_association":"MEMBER","body":"IMHO minimum change probably is getting rid of the light grey framing of the condition buttons until we figure out something better.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450610426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450610527","html_url":"https://github.com/openzipkin/zipkin/pull/2328#issuecomment-450610527","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2328","id":450610527,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYxMDUyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T05:45:15Z","updated_at":"2018-12-31T05:45:15Z","author_association":"MEMBER","body":"@anuraaga PS I like the idea of re-using http/2 flow-control (and also ping for that matter) in theory, and will also help with whatever infra is needed when we experiment with streaming.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450610527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450611125","html_url":"https://github.com/openzipkin/zipkin/issues/2314#issuecomment-450611125","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2314","id":450611125,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYxMTEyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T05:57:56Z","updated_at":"2018-12-31T05:57:56Z","author_association":"MEMBER","body":"thanks @redsunsoft and happy holidays!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450611125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450613538","html_url":"https://github.com/openzipkin/zipkin/issues/2339#issuecomment-450613538","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2339","id":450613538,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYxMzUzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T06:45:19Z","updated_at":"2018-12-31T06:45:19Z","author_association":"MEMBER","body":"we should look into the formatting here.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450613538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450615020","html_url":"https://github.com/openzipkin/zipkin/issues/2337#issuecomment-450615020","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2337","id":450615020,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYxNTAyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T07:12:34Z","updated_at":"2018-12-31T07:12:34Z","author_association":"MEMBER","body":"I think this is mostly a duplicate of https://github.com/openzipkin/zipkin/issues/1794 as it applies to everything.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450615020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450615263","html_url":"https://github.com/openzipkin/zipkin/issues/1794#issuecomment-450615263","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1794","id":450615263,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYxNTI2Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T07:16:50Z","updated_at":"2018-12-31T07:16:50Z","author_association":"MEMBER","body":"This issue came up again in #2337 I think that end users are paying a lot for this, and we should simply stop writing indexes for remote and local service names against the same query conditions.\r\n\r\nOne of the more damaging things conceptually is when one conflates local and remote service names, so what we do in the services index actually contributes to this.\r\n\r\nIf we do stop indexing the spans against a remote service name, we will lose the ability to search for remote services.. unless we introduce another query which is remoteService=X. I'm personally still better with this as we reduce expense and in some cases restore usability meanwhile.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450615263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450615503","html_url":"https://github.com/openzipkin/zipkin/issues/1794#issuecomment-450615503","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1794","id":450615503,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYxNTUwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T07:20:49Z","updated_at":"2018-12-31T07:20:49Z","author_association":"MEMBER","body":"re-pinging @openzipkin/core @openzipkin/ui @openzipkin/cassandra as IMHO we can't keep tripping over the same problem year after year.\r\n\r\nIf you are in support of refining the service/span query to local only, please thumbs up this issue. If you don't want this change, thumbs down. If you are ok with this with a caveat such as an additional query option, please add a comment instead of down-thumbing. In any case, if you thumbs down, please make a comment why.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450615503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450642030","html_url":"https://github.com/openzipkin/zipkin/issues/2340#issuecomment-450642030","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2340","id":450642030,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDY0MjAzMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T12:45:44Z","updated_at":"2018-12-31T12:45:44Z","author_association":"MEMBER","body":"currently, we use okhttp DNS trick to round robin across the multiple\nhosts. if you know an alternative way that works with mixed ports feel feel\nfree to propose!\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450642030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450690708","html_url":"https://github.com/openzipkin/zipkin/issues/1794#issuecomment-450690708","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1794","id":450690708,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDY5MDcwOA==","user":{"login":"llinder","id":99359,"node_id":"MDQ6VXNlcjk5MzU5","avatar_url":"https://avatars.githubusercontent.com/u/99359?v=4","gravatar_id":"","url":"https://api.github.com/users/llinder","html_url":"https://github.com/llinder","followers_url":"https://api.github.com/users/llinder/followers","following_url":"https://api.github.com/users/llinder/following{/other_user}","gists_url":"https://api.github.com/users/llinder/gists{/gist_id}","starred_url":"https://api.github.com/users/llinder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/llinder/subscriptions","organizations_url":"https://api.github.com/users/llinder/orgs","repos_url":"https://api.github.com/users/llinder/repos","events_url":"https://api.github.com/users/llinder/events{/privacy}","received_events_url":"https://api.github.com/users/llinder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-31T21:10:07Z","updated_at":"2018-12-31T21:10:07Z","author_association":"MEMBER","body":"If we refine this to local only then I would vote for introducing another query.  Reasoning is that we often call services we don't own and being able to search on these remote services could be helpful in some cases.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450690708/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450702035","html_url":"https://github.com/openzipkin/zipkin/issues/1794#issuecomment-450702035","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1794","id":450702035,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDcwMjAzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-01T00:42:18Z","updated_at":"2019-01-01T00:42:18Z","author_association":"MEMBER","body":">\n> If we refine this to local only then I would vote for introducing another\n> query. Reasoning is that we often call services we don't own and being able\n> to search on these remote services could be helpful in some cases.\n>\nThanks @llinder. To dig into this, can you give an example query that you\nwould use? I'm assuming you'd use remoteServiceName the same way as if it\nwere a tag. A realistic query based on your test data would be fantastic\n\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450702035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450789371","html_url":"https://github.com/openzipkin/zipkin/issues/1794#issuecomment-450789371","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1794","id":450789371,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDc4OTM3MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T05:29:18Z","updated_at":"2019-01-02T05:29:18Z","author_association":"MEMBER","body":"so if we did the split thing I think it would help reduce the cardinality of @openzipkin/cassandra data considerably. What would happen is that it would be like this:\r\n\r\nNow, we have:\r\n\r\nlocalServiceName + \"\" (for /services endpoint)\r\nlocalServiceName + spanName (for /spans?serviceName=X endpoint)\r\nremoteServiceName + \"\" (for new /services endpoint)\r\nremoteServiceName + spanName (for /spans?serviceName=Y endpoint)\r\n\r\nThe proposal would have less cardinality as we wouldn't index remoteServiceName + spanName:\r\nlocalServiceName + \"\" (for /services endpoint)\r\nlocalServiceName + spanName (for /spans?serviceName=X endpoint)\r\nremoteServiceName + \"\" (for new /remoteServices endpoint)\r\n\r\nThe result would be..\r\n/services -> only local serviceNames\r\n/remoteServices -> new: only remote serviceNames for auto-complete\r\n/spans?remoteServiceName=X -> new: to restore functionality @llinder mentioned\r\n\r\nI think the impl would be somewhat easy and a good idea to do now vs later as we are already adding new autocomplete endpoints for tags. cc @openzipkin/ui ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450789371/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450883837","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-450883837","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":450883837,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDg4MzgzNw==","user":{"login":"basvanbeek","id":7205296,"node_id":"MDQ6VXNlcjcyMDUyOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7205296?v=4","gravatar_id":"","url":"https://api.github.com/users/basvanbeek","html_url":"https://github.com/basvanbeek","followers_url":"https://api.github.com/users/basvanbeek/followers","following_url":"https://api.github.com/users/basvanbeek/following{/other_user}","gists_url":"https://api.github.com/users/basvanbeek/gists{/gist_id}","starred_url":"https://api.github.com/users/basvanbeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/basvanbeek/subscriptions","organizations_url":"https://api.github.com/users/basvanbeek/orgs","repos_url":"https://api.github.com/users/basvanbeek/repos","events_url":"https://api.github.com/users/basvanbeek/events{/privacy}","received_events_url":"https://api.github.com/users/basvanbeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T14:55:26Z","updated_at":"2019-01-02T14:55:26Z","author_association":"MEMBER","body":"I agree with @adriancole in liking the no border option best. ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450883837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450913316","html_url":"https://github.com/openzipkin/zipkin/issues/2314#issuecomment-450913316","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2314","id":450913316,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDkxMzMxNg==","user":{"login":"tcasparro","id":3999910,"node_id":"MDQ6VXNlcjM5OTk5MTA=","avatar_url":"https://avatars.githubusercontent.com/u/3999910?v=4","gravatar_id":"","url":"https://api.github.com/users/tcasparro","html_url":"https://github.com/tcasparro","followers_url":"https://api.github.com/users/tcasparro/followers","following_url":"https://api.github.com/users/tcasparro/following{/other_user}","gists_url":"https://api.github.com/users/tcasparro/gists{/gist_id}","starred_url":"https://api.github.com/users/tcasparro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tcasparro/subscriptions","organizations_url":"https://api.github.com/users/tcasparro/orgs","repos_url":"https://api.github.com/users/tcasparro/repos","events_url":"https://api.github.com/users/tcasparro/events{/privacy}","received_events_url":"https://api.github.com/users/tcasparro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T16:36:54Z","updated_at":"2019-01-02T16:36:54Z","author_association":"NONE","body":"Took a good look at the code and React scripts but nothing jumped out to me.  Your composition and lifecycle hooks all seem to be fine.  So unless there's a specific issue that needs attention, you're looking good with the new codebase.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/450913316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451014046","html_url":"https://github.com/openzipkin/zipkin/issues/1794#issuecomment-451014046","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1794","id":451014046,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTAxNDA0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T23:11:07Z","updated_at":"2019-01-02T23:11:07Z","author_association":"MEMBER","body":"ps thinking about this it might be better to make a /remoteServices?serviceName=X endpoint\r\n\r\nthat way search is dependent on the local endpoint that called the remote one. otherwise it would apply to any span in the trace (any of the perhaps hundreds of services involved). \r\n\r\nit really depends on the intent of the query","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451014046/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451019559","html_url":"https://github.com/openzipkin/zipkin/issues/2314#issuecomment-451019559","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2314","id":451019559,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTAxOTU1OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-02T23:41:54Z","updated_at":"2019-01-02T23:41:54Z","author_association":"MEMBER","body":"thanks much!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451019559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451079649","html_url":"https://github.com/openzipkin/zipkin/pull/2333#issuecomment-451079649","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2333","id":451079649,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTA3OTY0OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T08:27:10Z","updated_at":"2019-01-03T08:27:10Z","author_association":"MEMBER","body":"made some naming adjustments mostly internal code, but also \"tagkey\" json field name to \"tagKey\" @zeagord PTAL! I plan to merge this independent of deduplication code.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451079649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451083608","html_url":"https://github.com/openzipkin/zipkin/issues/2340#issuecomment-451083608","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2340","id":451083608,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTA4MzYwOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T08:49:36Z","updated_at":"2019-01-03T08:49:36Z","author_association":"MEMBER","body":"I can take a second look to see if there's a way","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451083608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451313993","html_url":"https://github.com/openzipkin/zipkin/issues/2342#issuecomment-451313993","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2342","id":451313993,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTMxMzk5Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-03T23:43:59Z","updated_at":"2019-01-03T23:43:59Z","author_association":"MEMBER","body":"thanks. can you click json button for this trace and post it here?\n\nOn Fri, Jan 4, 2019 at 7:06 AM Aaron Stainback <notifications@github.com>\nwrote:\n\n> The 2.10 docker image works fine, 2..11 or newer breaks nesting and also\n> the service graph.\n>\n> I'm running the following\n> 2.10 - docker run --rm -it -p 9411:9411 openzipkin/zipkin:2.10\n> 2.11 - docker run --rm -it -p 9411:9411 openzipkin/zipkin:2.11\n>\n> 2.10 - Working\n> [image: 2 10]\n> <https://user-images.githubusercontent.com/578953/50666042-088a7400-0f81-11e9-83ef-ee838219a24d.jpg>\n>\n> 2.11 - Broken Nesting\n> [image: 2 11]\n> <https://user-images.githubusercontent.com/578953/50666045-0a543780-0f81-11e9-9e41-7c25a124ac2f.jpg>\n>\n> The following code is using .NET core 2.1\n>\n> using Microsoft.Extensions.DependencyInjection;\n> using Microsoft.Extensions.Logging;\n> using System;\n> using System.Collections.Generic;\n> using System.Linq;\n> using System.Threading;\n> using System.Threading.Tasks;\n> using zipkin4net;\n> using zipkin4net.Middleware;\n> using zipkin4net.Tracers.Zipkin;\n> using zipkin4net.Transport.Http;\n>\n> namespace TracingTest\n> {\n>     class Program\n>     {\n>         static readonly DateTime _startDateTime;\n>         static readonly long _startTicks;\n>         static Program()\n>         {\n>             _startDateTime = DateTime.UtcNow;\n>             _startTicks = System.Diagnostics.Stopwatch.GetTimestamp();\n>         }\n>\n>         static async Task Main(string[] args)\n>         {\n>             using (var services = new ServiceCollection()\n>                 .AddLogging(builder =>\n>                 {\n>                     builder\n>                     .AddConsole()\n>                     .AddDebug();\n>                 })\n>                 .BuildServiceProvider()\n>             )\n>             {\n>                 TraceManager.SamplingRate = 1;\n>                 var loggerFactory = services.GetRequiredService<ILoggerFactory>();\n>                 var logger = new TracingLogger(loggerFactory, \"Tracing\");\n>                 var sender = new HttpZipkinSender(\"http://localhost:9411\", \"application/json\");\n>                 var serializer = new JSONSpanSerializer();\n>                 var tracer = new ZipkinTracer(sender, serializer);\n>                 TraceManager.RegisterTracer(tracer);\n>                 TraceManager.Start(logger);\n>\n>                 // Timings\n>                 var uiStart = UtcNow;\n>                 var gatewayStart = uiStart.AddMilliseconds(10);\n>                 var gatewayCallAuthStart = gatewayStart.AddMilliseconds(10);\n>                 var gatewayCallProfileStart = gatewayStart.AddMilliseconds(20);\n>                 var authStart = gatewayCallAuthStart.AddMilliseconds(10);\n>                 var authEnd = authStart.AddMilliseconds(500);\n>                 var gatewayCallAuthEnd = authEnd.AddMilliseconds(10);\n>                 var profileStart = gatewayCallProfileStart.AddMilliseconds(10);\n>                 var profileEnd = profileStart.AddMilliseconds(100);\n>                 var gatewayCallProfileEnd = profileEnd.AddMilliseconds(10);\n>                 var gatewayEnd = new DateTime(Math.Max(gatewayCallAuthEnd.Ticks, gatewayCallProfileEnd.Ticks), DateTimeKind.Utc).AddMilliseconds(10);\n>                 var uiEnd = gatewayEnd.AddMilliseconds(10);\n>\n>                 // UI Call Gateway\n>                 var uiTrace = Trace.Create();\n>                 uiTrace.Record(Annotations.ServiceName(\"client\"));\n>                 uiTrace.Record(Annotations.Rpc(\"get-user\"));\n>                 uiTrace.Record(Annotations.ClientSend(), uiStart);\n>                 uiTrace.Record(Annotations.ClientRecv(), uiEnd);\n>\n>                 // Gateway\n>                 var gatewayTrace = uiTrace.Child();\n>                 gatewayTrace.Record(Annotations.ServiceName(\"api-gateway\"));\n>                 gatewayTrace.Record(Annotations.Rpc(\"get-user\"));\n>                 gatewayTrace.Record(Annotations.ServerRecv(), gatewayStart);\n>                 gatewayTrace.Record(Annotations.ServerSend(), gatewayEnd);\n>\n>                 // Gateway Call Auth\n>                 var gatewayCallAuthTrace = gatewayTrace.Child();\n>                 gatewayCallAuthTrace.Record(Annotations.ServiceName(\"auth-service\"));\n>                 gatewayCallAuthTrace.Record(Annotations.Rpc(\"get-permissions\"));\n>                 gatewayCallAuthTrace.Record(Annotations.ClientSend(), gatewayCallAuthStart);\n>                 gatewayCallAuthTrace.Record(Annotations.ClientRecv(), gatewayCallAuthEnd);\n>\n>                 // Gateway Call Profile\n>                 var gatewayCallProfileTrace = gatewayTrace.Child();\n>                 gatewayCallProfileTrace.Record(Annotations.ServiceName(\"api-gateway\"));\n>                 gatewayCallProfileTrace.Record(Annotations.Rpc(\"get-profile\"));\n>                 gatewayCallProfileTrace.Record(Annotations.ClientSend(), gatewayCallProfileStart);\n>                 gatewayCallProfileTrace.Record(Annotations.ClientRecv(), gatewayCallProfileEnd);\n>\n>                 // Auth Service\n>                 var authTrace = gatewayCallAuthTrace.Child();\n>                 authTrace.Record(Annotations.ServiceName(\"auth-service\"));\n>                 authTrace.Record(Annotations.Rpc(\"get-permissions\"));\n>                 authTrace.Record(Annotations.ServerRecv(), authStart);\n>                 authTrace.Record(Annotations.ServerSend(), authEnd);\n>\n>                 // Profile Service\n>                 var profileTrace = gatewayCallProfileTrace.Child();\n>                 profileTrace.Record(Annotations.ServiceName(\"profile-service\"));\n>                 profileTrace.Record(Annotations.Rpc(\"get-profile\"));\n>                 profileTrace.Record(Annotations.ServerRecv(), profileStart);\n>                 profileTrace.Record(Annotations.ServerSend(), profileEnd);\n>\n>\n>                 // Wait for key to close program\n>                 Console.ReadKey(true);\n>                 TraceManager.Stop();\n>                 TraceManager.ClearTracers();\n>             }\n>         }\n>\n>         static DateTime UtcNow => _startDateTime.AddTicks(System.Diagnostics.Stopwatch.GetTimestamp() - _startTicks);\n>     }\n> }\n>\n> See issue on client for more info\n> openzipkin/zipkin4net#224\n> <https://github.com/openzipkin/zipkin4net/issues/224>\n>\n> ‚Äî\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2342>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAD6134byyF9qFxpPDFKtAEAGgZccSK7ks5u_oztgaJpZM4Zo6Ty>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451313993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451371681","html_url":"https://github.com/openzipkin/zipkin/pull/2341#issuecomment-451371681","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2341","id":451371681,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTM3MTY4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T07:40:04Z","updated_at":"2019-01-04T07:40:04Z","author_association":"MEMBER","body":"@anuraaga @trustin @huydx this code looks up your alley if you are interested :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451371681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451371755","html_url":"https://github.com/openzipkin/zipkin/pull/2341#issuecomment-451371755","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2341","id":451371755,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTM3MTc1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T07:40:42Z","updated_at":"2019-01-04T07:40:42Z","author_association":"MEMBER","body":"cc also @llinder @michaelsembwever as I plan to use this to replace the existing stuff in cassandra from muting redundant requests","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451371755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451441221","html_url":"https://github.com/openzipkin/zipkin/pull/2341#issuecomment-451441221","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2341","id":451441221,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTQ0MTIyMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-04T13:18:51Z","updated_at":"2019-01-04T13:18:51Z","author_association":"MEMBER","body":"pending integration test of elasticsearch limiter. later we should choose a config property for this stuff.\r\n\r\nEx.\r\n```\r\n     * @param suppressionTtl milliseconds to obviate suppress calls to write the same service name\r\n     * @param suppressionMaxSize maximum service names to suppress at a time\r\n```\r\n\r\nideally we have the same property for all autocomplete names, regardless of whether they are service, span or tag autocompletion. I think this would be ideal as it would be less config to present to people.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451441221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451613513","html_url":"https://github.com/openzipkin/zipkin/pull/2341#issuecomment-451613513","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2341","id":451613513,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTYxMzUxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-05T01:07:18Z","updated_at":"2019-01-05T01:07:18Z","author_association":"MEMBER","body":"great feedback @anuraaga I like the code better now and also the parallel tests run much much faster when there's no powermock instrumentation","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451613513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451633667","html_url":"https://github.com/openzipkin/zipkin/pull/2341#issuecomment-451633667","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2341","id":451633667,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTYzMzY2Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-05T07:03:36Z","updated_at":"2019-01-05T07:03:36Z","author_association":"MEMBER","body":"@zeagord @huydx ok I think this is ready to test. Only thing I have left is to write the README info on elasticsearch","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451633667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451634061","html_url":"https://github.com/openzipkin/zipkin/pull/2341#issuecomment-451634061","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2341","id":451634061,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTYzNDA2MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-05T07:13:09Z","updated_at":"2019-01-05T07:13:35Z","author_association":"MEMBER","body":"ps I'll let the following idea sink in for a day or two. We need a property for this although only cassandra and elasticsearch will currently use it (mysql doesn't)\r\n\r\nzipkin.storage.autocomplete-ttl or STORAGE_AUTOCOMPLETE_TTL\r\n* How long in milliseconds to suppress calls to write the same autocomplete key/value pair. Default 3600000 (1 day)\r\n\r\nzipkin.storage.autocomplete-max or STORAGE_AUTOCOMPLETE_MAX\r\n* How many autocomplete key/value pairs to suppress at a time. Default 5000","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451634061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451634166","html_url":"https://github.com/openzipkin/zipkin/pull/2341#issuecomment-451634166","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2341","id":451634166,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTYzNDE2Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-05T07:15:13Z","updated_at":"2019-01-05T07:15:13Z","author_association":"MEMBER","body":"note STORAGE_AUTOCOMPLETE_MAX (not thrilled with the name) is more about not crashing the server. we can have a number much higher than 5000. This will be the total cardinality of autocomplete tag values, bounded only to stop things from crashing if someone goofed cardinality.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451634166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451634497","html_url":"https://github.com/openzipkin/zipkin/pull/2341#issuecomment-451634497","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2341","id":451634497,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTYzNDQ5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-05T07:22:12Z","updated_at":"2019-01-05T07:22:12Z","author_association":"MEMBER","body":"I'm inclined to rename zipkin.storage.autocomplete-max to zipkin.storage.autocomplete-cardinality set it to a higher number like 20k and not expose an env variable for it.\r\n\r\nwe can add internal notes but I wouldn't expect users to modify this. we then draw attention to TTL which is the more important config.\r\n\r\nwdyt?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451634497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451637240","html_url":"https://github.com/openzipkin/zipkin/issues/2342#issuecomment-451637240","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2342","id":451637240,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTYzNzI0MA==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-05T08:17:52Z","updated_at":"2019-01-05T08:17:52Z","author_association":"MEMBER","body":"Could you also make sure it is pulling the latest `2.11` tag? Or tell us which version of the server this is happening on by the response from `GET /info`?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451637240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451642697","html_url":"https://github.com/openzipkin/zipkin/issues/2343#issuecomment-451642697","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2343","id":451642697,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTY0MjY5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-05T10:01:12Z","updated_at":"2019-01-05T10:01:12Z","author_association":"MEMBER","body":"the following type definitely should not be from classes:\r\n\r\n```\r\n    at zipkin2.elasticsearch.internal.client.HttpCall.execute(HttpCall.java:79) ~[classes/:?]\r\n```\r\n\r\nex if it was the normal build it would come from the a jar like this:\r\n\r\n```\r\n    at zipkin2.elasticsearch.internal.client.HttpCall.execute(HttpCall.java:79) ~[zipkin-storage-elasticsearch-2.11.12.jar!/:?]\r\n```\r\n\r\nPlease use the default server from https://github.com/openzipkin/zipkin#quick-start or if for some reason that doesn't work, normal maven central like https://search.maven.org/remotecontent?filepath=io/zipkin/java/zipkin-server/2.11.12/zipkin-server-2.11.12-exec.jar\r\n\r\nif you still have problems, please continue support on gitter. good luck!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451642697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451643131","html_url":"https://github.com/openzipkin/zipkin/issues/2340#issuecomment-451643131","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2340","id":451643131,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTY0MzEzMQ==","user":{"login":"maoling","id":11016631,"node_id":"MDQ6VXNlcjExMDE2NjMx","avatar_url":"https://avatars.githubusercontent.com/u/11016631?v=4","gravatar_id":"","url":"https://api.github.com/users/maoling","html_url":"https://github.com/maoling","followers_url":"https://api.github.com/users/maoling/followers","following_url":"https://api.github.com/users/maoling/following{/other_user}","gists_url":"https://api.github.com/users/maoling/gists{/gist_id}","starred_url":"https://api.github.com/users/maoling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maoling/subscriptions","organizations_url":"https://api.github.com/users/maoling/orgs","repos_url":"https://api.github.com/users/maoling/repos","events_url":"https://api.github.com/users/maoling/events{/privacy}","received_events_url":"https://api.github.com/users/maoling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-05T10:09:16Z","updated_at":"2019-01-05T10:09:16Z","author_association":"NONE","body":"Let me take a look","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451643131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451665166","html_url":"https://github.com/openzipkin/zipkin/issues/2343#issuecomment-451665166","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2343","id":451665166,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTY2NTE2Ng==","user":{"login":"huhu-sky","id":12699301,"node_id":"MDQ6VXNlcjEyNjk5MzAx","avatar_url":"https://avatars.githubusercontent.com/u/12699301?v=4","gravatar_id":"","url":"https://api.github.com/users/huhu-sky","html_url":"https://github.com/huhu-sky","followers_url":"https://api.github.com/users/huhu-sky/followers","following_url":"https://api.github.com/users/huhu-sky/following{/other_user}","gists_url":"https://api.github.com/users/huhu-sky/gists{/gist_id}","starred_url":"https://api.github.com/users/huhu-sky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huhu-sky/subscriptions","organizations_url":"https://api.github.com/users/huhu-sky/orgs","repos_url":"https://api.github.com/users/huhu-sky/repos","events_url":"https://api.github.com/users/huhu-sky/events{/privacy}","received_events_url":"https://api.github.com/users/huhu-sky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-05T15:35:08Z","updated_at":"2019-01-05T15:35:08Z","author_association":"NONE","body":"### sorry for late answering.\r\n@adriancole  i use image from docker docker.io/openzipkin/zipkin:latest and i have the same error. below is the stacktrace!\r\n~~~\r\nCaused by: java.lang.IllegalStateException: response for aggregation failed: {\"error\":{\"root_cause\":[{\"type\":\"illegal_argument_exception\",\"reason\":\"Fielddata is disabled on text fields by default. Set fielddata=true on [name] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory. Alternatively use a keyword field instead.\"}],\"type\":\"search_phase_execution_exception\",\"reason\":\"all shards failed\",\"phase\":\"query\",\"grouped\":true,\"failed_shards\":[{\"shard\":0,\"index\":\"zipkin:span-2019-01-04\",\"node\":\"lb6DkKBATYuoy2rBOsWw5w\",\"reason\":{\"type\":\"illegal_argument_exception\",\"reason\":\"Fielddata is disabled on text fields by default. Set fielddata=true on [name] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory. Alternatively use a keyword field instead.\"}}]},\"status\":400}\r\n    at zipkin2.elasticsearch.internal.client.HttpCall.parseResponse(HttpCall.java:151) ~[zipkin-storage-elasticsearch-2.11.12.jar!/:?]\r\n    at zipkin2.elasticsearch.internal.client.HttpCall.execute(HttpCall.java:79) ~[zipkin-storage-elasticsearch-2.11.12.jar!/:?]\r\n    at zipkin2.server.internal.ZipkinQueryApiV2.getSpanNames(ZipkinQueryApiV2.java:93) ~[classes/:?]\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_171]\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_171]\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_171]\r\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_171]\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.3.RELEASE.jar!/:5.1.3.RELEASE]\r\n    ... 84 more\r\n~~~\r\n~~~\r\ndocker run -d -p 9611:9411  -p 9610:9410  -e STORAGE_TYPE=elasticsearch -e ES_HOSTS=http://192.168.0.29:9200 -e RABBIT_ADDRESSES=192.168.0.29:5672 --name zipkin-server-es docker.io/openzipkin/zipkin\r\n~~~\r\n~~~\r\nSTORAGE_TYPE=elasticsearch ES_HOSTS=http://192.168.0.29:9200 RABBIT_ADDRESSES=192.168.0.29:5672 java -jar zipkin-server-2.11.12-exec.jar\r\n~~~","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451665166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451787368","html_url":"https://github.com/openzipkin/zipkin/issues/2343#issuecomment-451787368","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2343","id":451787368,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTc4NzM2OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-06T23:54:54Z","updated_at":"2019-01-06T23:54:54Z","author_association":"MEMBER","body":"As mentioned on gitter, only guess is there is an invalid index template\nwhich is stopping the code from automatically making the new one. Here's\nnotes from there, but let's keep this troubleshooting in gitter not github\nissue, as github issues spam a lot of people.\n\nthe server at startup does a \"_template\" GET request to see if there's a\ntemplate available and failing that installs one\n\nyou could increase logging to see if it is creating the wrong one..\nES_HTTP_LOGGING=BODY\nhttps://github.com/openzipkin/zipkin/tree/master/zipkin-server#elasticsearch-storage\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451787368/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451801704","html_url":"https://github.com/openzipkin/zipkin/issues/2146#issuecomment-451801704","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2146","id":451801704,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTgwMTcwNA==","user":{"login":"huhu-sky","id":12699301,"node_id":"MDQ6VXNlcjEyNjk5MzAx","avatar_url":"https://avatars.githubusercontent.com/u/12699301?v=4","gravatar_id":"","url":"https://api.github.com/users/huhu-sky","html_url":"https://github.com/huhu-sky","followers_url":"https://api.github.com/users/huhu-sky/followers","following_url":"https://api.github.com/users/huhu-sky/following{/other_user}","gists_url":"https://api.github.com/users/huhu-sky/gists{/gist_id}","starred_url":"https://api.github.com/users/huhu-sky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huhu-sky/subscriptions","organizations_url":"https://api.github.com/users/huhu-sky/orgs","repos_url":"https://api.github.com/users/huhu-sky/repos","events_url":"https://api.github.com/users/huhu-sky/events{/privacy}","received_events_url":"https://api.github.com/users/huhu-sky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-07T02:15:46Z","updated_at":"2019-01-07T02:15:46Z","author_association":"NONE","body":"sorry for no answering .  I'll  try the latest version and if it still exists, i'll comment later. Thanks you all.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451801704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451808569","html_url":"https://github.com/openzipkin/zipkin/pull/2325#issuecomment-451808569","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2325","id":451808569,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTgwODU2OQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-07T03:05:46Z","updated_at":"2019-01-07T03:05:46Z","author_association":"MEMBER","body":"@adriancole @basvanbeek \r\nThank you!\r\nI'll do so.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451808569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451820971","html_url":"https://github.com/openzipkin/zipkin/pull/2341#issuecomment-451820971","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2341","id":451820971,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTgyMDk3MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-07T04:47:17Z","updated_at":"2019-01-07T04:47:17Z","author_association":"MEMBER","body":"will merge on green. thanks all!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451820971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451827503","html_url":"https://github.com/openzipkin/zipkin/issues/2331#issuecomment-451827503","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2331","id":451827503,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTgyNzUwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-07T05:40:42Z","updated_at":"2019-01-07T05:40:42Z","author_association":"MEMBER","body":"I will start on this next","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/451827503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]