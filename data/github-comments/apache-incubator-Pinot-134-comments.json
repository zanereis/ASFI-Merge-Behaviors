[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1114830560","html_url":"https://github.com/apache/pinot/issues/8623#issuecomment-1114830560","issue_url":"https://api.github.com/repos/apache/pinot/issues/8623","id":1114830560,"node_id":"IC_kwDOATCU_c5Ccvbg","user":{"login":"prashantg077","id":44490888,"node_id":"MDQ6VXNlcjQ0NDkwODg4","avatar_url":"https://avatars.githubusercontent.com/u/44490888?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantg077","html_url":"https://github.com/prashantg077","followers_url":"https://api.github.com/users/prashantg077/followers","following_url":"https://api.github.com/users/prashantg077/following{/other_user}","gists_url":"https://api.github.com/users/prashantg077/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantg077/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantg077/subscriptions","organizations_url":"https://api.github.com/users/prashantg077/orgs","repos_url":"https://api.github.com/users/prashantg077/repos","events_url":"https://api.github.com/users/prashantg077/events{/privacy}","received_events_url":"https://api.github.com/users/prashantg077/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T13:06:12Z","updated_at":"2022-05-02T13:06:12Z","author_association":"NONE","body":"cc: @siddharthteotia @Jackie-Jiang @jasperjiaguo","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1114830560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115088561","html_url":"https://github.com/apache/pinot/pull/8625#issuecomment-1115088561","issue_url":"https://api.github.com/repos/apache/pinot/issues/8625","id":1115088561,"node_id":"IC_kwDOATCU_c5Cduax","user":{"login":"ddcprg","id":7541790,"node_id":"MDQ6VXNlcjc1NDE3OTA=","avatar_url":"https://avatars.githubusercontent.com/u/7541790?v=4","gravatar_id":"","url":"https://api.github.com/users/ddcprg","html_url":"https://github.com/ddcprg","followers_url":"https://api.github.com/users/ddcprg/followers","following_url":"https://api.github.com/users/ddcprg/following{/other_user}","gists_url":"https://api.github.com/users/ddcprg/gists{/gist_id}","starred_url":"https://api.github.com/users/ddcprg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddcprg/subscriptions","organizations_url":"https://api.github.com/users/ddcprg/orgs","repos_url":"https://api.github.com/users/ddcprg/repos","events_url":"https://api.github.com/users/ddcprg/events{/privacy}","received_events_url":"https://api.github.com/users/ddcprg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T16:21:51Z","updated_at":"2022-05-02T16:21:51Z","author_association":"CONTRIBUTOR","body":"Fixes #8624","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115088561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115135631","html_url":"https://github.com/apache/pinot/issues/8623#issuecomment-1115135631","issue_url":"https://api.github.com/repos/apache/pinot/issues/8623","id":1115135631,"node_id":"IC_kwDOATCU_c5Cd56P","user":{"login":"kkrugler","id":66217,"node_id":"MDQ6VXNlcjY2MjE3","avatar_url":"https://avatars.githubusercontent.com/u/66217?v=4","gravatar_id":"","url":"https://api.github.com/users/kkrugler","html_url":"https://github.com/kkrugler","followers_url":"https://api.github.com/users/kkrugler/followers","following_url":"https://api.github.com/users/kkrugler/following{/other_user}","gists_url":"https://api.github.com/users/kkrugler/gists{/gist_id}","starred_url":"https://api.github.com/users/kkrugler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkrugler/subscriptions","organizations_url":"https://api.github.com/users/kkrugler/orgs","repos_url":"https://api.github.com/users/kkrugler/repos","events_url":"https://api.github.com/users/kkrugler/events{/privacy}","received_events_url":"https://api.github.com/users/kkrugler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T17:12:02Z","updated_at":"2022-05-02T17:12:02Z","author_association":"CONTRIBUTOR","body":"Hi @prashantg077 - this is a great question for the Pinot Slack workspace's #general channel.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115135631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115139550","html_url":"https://github.com/apache/pinot/pull/6703#issuecomment-1115139550","issue_url":"https://api.github.com/repos/apache/pinot/issues/6703","id":1115139550,"node_id":"IC_kwDOATCU_c5Cd63e","user":{"login":"kkrugler","id":66217,"node_id":"MDQ6VXNlcjY2MjE3","avatar_url":"https://avatars.githubusercontent.com/u/66217?v=4","gravatar_id":"","url":"https://api.github.com/users/kkrugler","html_url":"https://github.com/kkrugler","followers_url":"https://api.github.com/users/kkrugler/followers","following_url":"https://api.github.com/users/kkrugler/following{/other_user}","gists_url":"https://api.github.com/users/kkrugler/gists{/gist_id}","starred_url":"https://api.github.com/users/kkrugler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkrugler/subscriptions","organizations_url":"https://api.github.com/users/kkrugler/orgs","repos_url":"https://api.github.com/users/kkrugler/repos","events_url":"https://api.github.com/users/kkrugler/events{/privacy}","received_events_url":"https://api.github.com/users/kkrugler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T17:15:59Z","updated_at":"2022-05-02T17:15:59Z","author_association":"CONTRIBUTOR","body":"Hi @KKcorps - why was this closed? Removing direct dependencies on `slf4j-impl` in lower-level jars is a good thing, usually. Or did this get covered by a different PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115139550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115181784","html_url":"https://github.com/apache/pinot/issues/8399#issuecomment-1115181784","issue_url":"https://api.github.com/repos/apache/pinot/issues/8399","id":1115181784,"node_id":"IC_kwDOATCU_c5CeFLY","user":{"login":"suddendust","id":84911643,"node_id":"MDQ6VXNlcjg0OTExNjQz","avatar_url":"https://avatars.githubusercontent.com/u/84911643?v=4","gravatar_id":"","url":"https://api.github.com/users/suddendust","html_url":"https://github.com/suddendust","followers_url":"https://api.github.com/users/suddendust/followers","following_url":"https://api.github.com/users/suddendust/following{/other_user}","gists_url":"https://api.github.com/users/suddendust/gists{/gist_id}","starred_url":"https://api.github.com/users/suddendust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suddendust/subscriptions","organizations_url":"https://api.github.com/users/suddendust/orgs","repos_url":"https://api.github.com/users/suddendust/repos","events_url":"https://api.github.com/users/suddendust/events{/privacy}","received_events_url":"https://api.github.com/users/suddendust/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T17:53:23Z","updated_at":"2022-05-02T18:25:58Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang If this property is set to true, then we should just ignore the filter and transform configs? Or should be provide a way to store the record as a JSON AFTER applying the filters and the transforms? IMO, most users would just want to store their records as-is, so we should just ignore any transform or filter configs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115181784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115367053","html_url":"https://github.com/apache/pinot/pull/6703#issuecomment-1115367053","issue_url":"https://api.github.com/repos/apache/pinot/issues/6703","id":1115367053,"node_id":"IC_kwDOATCU_c5CeyaN","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T21:05:41Z","updated_at":"2022-05-02T21:05:41Z","author_association":"CONTRIBUTOR","body":"@kkrugler I closed it for inactivity. I am not sure if this change is needed. Opening it again  for review.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115367053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115404396","html_url":"https://github.com/apache/pinot/pull/6703#issuecomment-1115404396","issue_url":"https://api.github.com/repos/apache/pinot/issues/6703","id":1115404396,"node_id":"IC_kwDOATCU_c5Ce7hs","user":{"login":"kkrugler","id":66217,"node_id":"MDQ6VXNlcjY2MjE3","avatar_url":"https://avatars.githubusercontent.com/u/66217?v=4","gravatar_id":"","url":"https://api.github.com/users/kkrugler","html_url":"https://github.com/kkrugler","followers_url":"https://api.github.com/users/kkrugler/followers","following_url":"https://api.github.com/users/kkrugler/following{/other_user}","gists_url":"https://api.github.com/users/kkrugler/gists{/gist_id}","starred_url":"https://api.github.com/users/kkrugler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkrugler/subscriptions","organizations_url":"https://api.github.com/users/kkrugler/orgs","repos_url":"https://api.github.com/users/kkrugler/repos","events_url":"https://api.github.com/users/kkrugler/events{/privacy}","received_events_url":"https://api.github.com/users/kkrugler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T21:48:43Z","updated_at":"2022-05-02T21:48:43Z","author_association":"CONTRIBUTOR","body":"@KKcorps - A jar that has a `main()` method that's used from the command line needs a logging implementation. Everything else should only be using the `slf4j-api`. Otherwise (e.g. with the Hadoop segment building workflow, which uses various Pinot jars) there can be logging implementation collisions. I made a run at fixing this up, but it got very complicated due to other 3rd party libraries used by Pinot pulling in their own logging implementations, which necessitates using various xxx-to-slf4j bridges. Right now it's kind of a mess....","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115404396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115489590","html_url":"https://github.com/apache/pinot/issues/8607#issuecomment-1115489590","issue_url":"https://api.github.com/repos/apache/pinot/issues/8607","id":1115489590,"node_id":"IC_kwDOATCU_c5CfQU2","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T00:17:42Z","updated_at":"2022-05-03T00:17:42Z","author_association":"CONTRIBUTOR","body":"Working on it","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115489590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115493629","html_url":"https://github.com/apache/pinot/issues/8607#issuecomment-1115493629","issue_url":"https://api.github.com/repos/apache/pinot/issues/8607","id":1115493629,"node_id":"IC_kwDOATCU_c5CfRT9","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T00:24:36Z","updated_at":"2022-05-03T00:24:36Z","author_association":"CONTRIBUTOR","body":"One approach could be:\r\n\r\n- Send query to all segments and all servers\r\n- On the broker, pick the response with deepest tree and avoid merging across segments\r\n\r\nI think this is fairly simple\r\n\r\nWhile the above will address the general accuracy issues pointed out above associated with picking a random segment on a random server, there is still going to be some inaccuracy in the case where a server physical operator tree is indeed different for a segment. This can be done as another follow-up","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115493629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115494826","html_url":"https://github.com/apache/pinot/issues/8487#issuecomment-1115494826","issue_url":"https://api.github.com/repos/apache/pinot/issues/8487","id":1115494826,"node_id":"IC_kwDOATCU_c5CfRmq","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T00:26:52Z","updated_at":"2022-05-03T00:26:52Z","author_association":"CONTRIBUTOR","body":"Fixed with https://github.com/apache/pinot/pull/8518","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115494826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115494899","html_url":"https://github.com/apache/pinot/issues/8444#issuecomment-1115494899","issue_url":"https://api.github.com/repos/apache/pinot/issues/8444","id":1115494899,"node_id":"IC_kwDOATCU_c5CfRnz","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T00:27:01Z","updated_at":"2022-05-03T00:27:01Z","author_association":"CONTRIBUTOR","body":"Fixed with https://github.com/apache/pinot/pull/8518","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115494899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115558830","html_url":"https://github.com/apache/pinot/issues/8444#issuecomment-1115558830","issue_url":"https://api.github.com/repos/apache/pinot/issues/8444","id":1115558830,"node_id":"IC_kwDOATCU_c5CfhOu","user":{"login":"jadami10","id":4760722,"node_id":"MDQ6VXNlcjQ3NjA3MjI=","avatar_url":"https://avatars.githubusercontent.com/u/4760722?v=4","gravatar_id":"","url":"https://api.github.com/users/jadami10","html_url":"https://github.com/jadami10","followers_url":"https://api.github.com/users/jadami10/followers","following_url":"https://api.github.com/users/jadami10/following{/other_user}","gists_url":"https://api.github.com/users/jadami10/gists{/gist_id}","starred_url":"https://api.github.com/users/jadami10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jadami10/subscriptions","organizations_url":"https://api.github.com/users/jadami10/orgs","repos_url":"https://api.github.com/users/jadami10/repos","events_url":"https://api.github.com/users/jadami10/events{/privacy}","received_events_url":"https://api.github.com/users/jadami10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T02:41:19Z","updated_at":"2022-05-03T02:41:19Z","author_association":"CONTRIBUTOR","body":"thanks for working on this! I didn't see a test example, but does `WHERE NOT <boolean_field>` work correctly?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115558830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115561178","html_url":"https://github.com/apache/pinot/issues/8318#issuecomment-1115561178","issue_url":"https://api.github.com/repos/apache/pinot/issues/8318","id":1115561178,"node_id":"IC_kwDOATCU_c5Cfhza","user":{"login":"saurabhd336","id":7672118,"node_id":"MDQ6VXNlcjc2NzIxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7672118?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhd336","html_url":"https://github.com/saurabhd336","followers_url":"https://api.github.com/users/saurabhd336/followers","following_url":"https://api.github.com/users/saurabhd336/following{/other_user}","gists_url":"https://api.github.com/users/saurabhd336/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhd336/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhd336/subscriptions","organizations_url":"https://api.github.com/users/saurabhd336/orgs","repos_url":"https://api.github.com/users/saurabhd336/repos","events_url":"https://api.github.com/users/saurabhd336/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhd336/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T02:50:01Z","updated_at":"2022-05-03T02:50:01Z","author_association":"CONTRIBUTOR","body":"These PRs add this functionality\r\nhttps://github.com/apache/pinot/pull/8514\r\nhttps://github.com/apache/pinot/pull/8606","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115561178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115562862","html_url":"https://github.com/apache/pinot/pull/8626#issuecomment-1115562862","issue_url":"https://api.github.com/repos/apache/pinot/issues/8626","id":1115562862,"node_id":"IC_kwDOATCU_c5CfiNu","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T02:54:56Z","updated_at":"2022-05-03T03:54:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8626?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8626](https://codecov.io/gh/apache/pinot/pull/8626?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9dc3957) into [master](https://codecov.io/gh/apache/pinot/commit/d49d1173f9b4b7f1e4e834db593dc6def20a9217?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d49d117) will **decrease** coverage by `32.96%`.\n> The diff coverage is `84.50%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #8626       +/-   ##\n=============================================\n- Coverage     70.44%   37.47%   -32.97%     \n+ Complexity     4374       84     -4290     \n=============================================\n  Files          1703     1654       -49     \n  Lines         89607    86436     -3171     \n  Branches      13568    12944      -624     \n=============================================\n- Hits          63122    32392    -30730     \n- Misses        22038    51477    +29439     \n+ Partials       4447     2567     -1880     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `28.08% <54.92%> (+0.85%)` | :arrow_up: |\n| integration2 | `25.95% <46.47%> (+0.14%)` | :arrow_up: |\n| unittests1 | `?` | |\n| unittests2 | `14.47% <49.29%> (+0.40%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8626?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/pinot/common/metrics/BrokerMeter.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJNZXRlci5qYXZh) | `100.00% <ø> (ø)` | |\n| [...t/common/response/broker/BrokerResponseNative.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzcG9uc2UvYnJva2VyL0Jyb2tlclJlc3BvbnNlTmF0aXZlLmphdmE=) | `88.72% <ø> (-4.09%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/common/utils/Pair.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvUGFpci5qYXZh) | `60.00% <ø> (ø)` | |\n| [...pache/pinot/common/utils/request/RequestUtils.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvcmVxdWVzdC9SZXF1ZXN0VXRpbHMuamF2YQ==) | `53.94% <ø> (-32.45%)` | :arrow_down: |\n| [...src/main/java/org/apache/pinot/sql/FilterKind.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvRmlsdGVyS2luZC5qYXZh) | `100.00% <ø> (ø)` | |\n| [...g/apache/pinot/sql/parsers/CalciteSqlCompiler.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsQ29tcGlsZXIuamF2YQ==) | `100.00% <ø> (ø)` | |\n| [...org/apache/pinot/sql/parsers/CalciteSqlParser.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsUGFyc2VyLmphdmE=) | `70.45% <ø> (-17.29%)` | :arrow_down: |\n| [.../parsers/rewriter/PredicateComparisonRewriter.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9yZXdyaXRlci9QcmVkaWNhdGVDb21wYXJpc29uUmV3cml0ZXIuamF2YQ==) | `52.63% <ø> (-35.09%)` | :arrow_down: |\n| [...t/controller/api/resources/PinotQueryResource.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90UXVlcnlSZXNvdXJjZS5qYXZh) | `59.05% <ø> (+9.05%)` | :arrow_up: |\n| [.../pinot/controller/recommender/io/InputManager.java](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9yZWNvbW1lbmRlci9pby9JbnB1dE1hbmFnZXIuamF2YQ==) | `93.00% <ø> (+1.37%)` | :arrow_up: |\n| ... and [1013 more](https://codecov.io/gh/apache/pinot/pull/8626/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8626?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8626?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [d49d117...9dc3957](https://codecov.io/gh/apache/pinot/pull/8626?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115562862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115721040","html_url":"https://github.com/apache/pinot/issues/8444#issuecomment-1115721040","issue_url":"https://api.github.com/repos/apache/pinot/issues/8444","id":1115721040,"node_id":"IC_kwDOATCU_c5CgI1Q","user":{"login":"vvivekiyer","id":21298365,"node_id":"MDQ6VXNlcjIxMjk4MzY1","avatar_url":"https://avatars.githubusercontent.com/u/21298365?v=4","gravatar_id":"","url":"https://api.github.com/users/vvivekiyer","html_url":"https://github.com/vvivekiyer","followers_url":"https://api.github.com/users/vvivekiyer/followers","following_url":"https://api.github.com/users/vvivekiyer/following{/other_user}","gists_url":"https://api.github.com/users/vvivekiyer/gists{/gist_id}","starred_url":"https://api.github.com/users/vvivekiyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvivekiyer/subscriptions","organizations_url":"https://api.github.com/users/vvivekiyer/orgs","repos_url":"https://api.github.com/users/vvivekiyer/repos","events_url":"https://api.github.com/users/vvivekiyer/events{/privacy}","received_events_url":"https://api.github.com/users/vvivekiyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T04:03:17Z","updated_at":"2022-05-03T04:03:17Z","author_association":"CONTRIBUTOR","body":"Hi Johan, yes it should. I just tested it out locally for a use-case. I didn't add a test-case example because AND, OR, NOT are processed similarly. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115721040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115753602","html_url":"https://github.com/apache/pinot/pull/6703#issuecomment-1115753602","issue_url":"https://api.github.com/repos/apache/pinot/issues/6703","id":1115753602,"node_id":"IC_kwDOATCU_c5CgQyC","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T05:32:53Z","updated_at":"2022-05-03T05:35:47Z","author_association":"CONTRIBUTOR","body":"@kkrugler - Makes sense. So what this PR does for s3 plugin has to be repeated for every other plugin as well, right? Also, if other third party libs can pull their own logging implementation then we might need to exclude those as well right?\r\nWouldn't a better way would be to just handle this in `maven-shade-plugin` by filtering out these implementations?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115753602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115856106","html_url":"https://github.com/apache/pinot/issues/8607#issuecomment-1115856106","issue_url":"https://api.github.com/repos/apache/pinot/issues/8607","id":1115856106,"node_id":"IC_kwDOATCU_c5Cgpzq","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T08:31:49Z","updated_at":"2022-05-03T08:31:49Z","author_association":"MEMBER","body":"> One approach could be:\r\n> \r\n> * Send query to all segments and all servers\r\n> * On the broker, pick the response with deepest tree and avoid merging across segments\r\n> \r\n> I think this is fairly simple\r\n> \r\n> While the above will address the general accuracy issues pointed out above associated with picking a random segment on a random server, there is still going to be some inaccuracy in the case where a server physical operator tree is indeed different for a segment. This can be done as another follow-up\r\n\r\nI think it's misleading to choose just one child, it's not a degenerate case for the to be a mix, where some segments can be skipped over based on metadata and others need to perform some real work. This can also happen if there has been a configuration change and the segments are in a mixed state.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115856106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115996286","html_url":"https://github.com/apache/pinot/issues/8585#issuecomment-1115996286","issue_url":"https://api.github.com/repos/apache/pinot/issues/8585","id":1115996286,"node_id":"IC_kwDOATCU_c5ChMB-","user":{"login":"atris","id":1724131,"node_id":"MDQ6VXNlcjE3MjQxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1724131?v=4","gravatar_id":"","url":"https://api.github.com/users/atris","html_url":"https://github.com/atris","followers_url":"https://api.github.com/users/atris/followers","following_url":"https://api.github.com/users/atris/following{/other_user}","gists_url":"https://api.github.com/users/atris/gists{/gist_id}","starred_url":"https://api.github.com/users/atris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atris/subscriptions","organizations_url":"https://api.github.com/users/atris/orgs","repos_url":"https://api.github.com/users/atris/repos","events_url":"https://api.github.com/users/atris/events{/privacy}","received_events_url":"https://api.github.com/users/atris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T11:33:04Z","updated_at":"2022-05-03T11:33:04Z","author_association":"CONTRIBUTOR","body":"@sajjad-moradi Are you actively working on this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1115996286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116064297","html_url":"https://github.com/apache/pinot/issues/8617#issuecomment-1116064297","issue_url":"https://api.github.com/repos/apache/pinot/issues/8617","id":1116064297,"node_id":"IC_kwDOATCU_c5Chcop","user":{"login":"suddendust","id":84911643,"node_id":"MDQ6VXNlcjg0OTExNjQz","avatar_url":"https://avatars.githubusercontent.com/u/84911643?v=4","gravatar_id":"","url":"https://api.github.com/users/suddendust","html_url":"https://github.com/suddendust","followers_url":"https://api.github.com/users/suddendust/followers","following_url":"https://api.github.com/users/suddendust/following{/other_user}","gists_url":"https://api.github.com/users/suddendust/gists{/gist_id}","starred_url":"https://api.github.com/users/suddendust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suddendust/subscriptions","organizations_url":"https://api.github.com/users/suddendust/orgs","repos_url":"https://api.github.com/users/suddendust/repos","events_url":"https://api.github.com/users/suddendust/events{/privacy}","received_events_url":"https://api.github.com/users/suddendust/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T12:53:33Z","updated_at":"2022-05-03T13:08:11Z","author_association":"CONTRIBUTOR","body":"@npawar Can take this up, working on a related [feature](https://github.com/apache/pinot/issues/8399).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116064297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116211204","html_url":"https://github.com/apache/pinot/issues/8617#issuecomment-1116211204","issue_url":"https://api.github.com/repos/apache/pinot/issues/8617","id":1116211204,"node_id":"IC_kwDOATCU_c5CiAgE","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T15:08:31Z","updated_at":"2022-05-03T15:08:31Z","author_association":"CONTRIBUTOR","body":"Thanks Prashant!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116211204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116220449","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1116220449","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1116220449,"node_id":"IC_kwDOATCU_c5CiCwh","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T15:16:48Z","updated_at":"2022-05-03T15:16:48Z","author_association":"CONTRIBUTOR","body":"plz take a look at the tests","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116220449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116282958","html_url":"https://github.com/apache/pinot/issues/8585#issuecomment-1116282958","issue_url":"https://api.github.com/repos/apache/pinot/issues/8585","id":1116282958,"node_id":"IC_kwDOATCU_c5CiSBO","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T16:15:28Z","updated_at":"2022-05-03T16:15:28Z","author_association":"CONTRIBUTOR","body":"@atris Thank you for the interest. @GSharayu is working on this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116282958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116284905","html_url":"https://github.com/apache/pinot/pull/8628#issuecomment-1116284905","issue_url":"https://api.github.com/repos/apache/pinot/issues/8628","id":1116284905,"node_id":"IC_kwDOATCU_c5CiSfp","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T16:17:19Z","updated_at":"2022-05-03T16:17:19Z","author_association":"CONTRIBUTOR","body":"Overall looks neat!!\r\n\r\nJust want to clarify the changes needed on the client (user of RequestStatistics) side per my above comment.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116284905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116285557","html_url":"https://github.com/apache/pinot/issues/8585#issuecomment-1116285557","issue_url":"https://api.github.com/repos/apache/pinot/issues/8585","id":1116285557,"node_id":"IC_kwDOATCU_c5CiSp1","user":{"login":"atris","id":1724131,"node_id":"MDQ6VXNlcjE3MjQxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1724131?v=4","gravatar_id":"","url":"https://api.github.com/users/atris","html_url":"https://github.com/atris","followers_url":"https://api.github.com/users/atris/followers","following_url":"https://api.github.com/users/atris/following{/other_user}","gists_url":"https://api.github.com/users/atris/gists{/gist_id}","starred_url":"https://api.github.com/users/atris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atris/subscriptions","organizations_url":"https://api.github.com/users/atris/orgs","repos_url":"https://api.github.com/users/atris/repos","events_url":"https://api.github.com/users/atris/events{/privacy}","received_events_url":"https://api.github.com/users/atris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T16:17:52Z","updated_at":"2022-05-03T16:17:52Z","author_association":"CONTRIBUTOR","body":"Cool, thanks. I had somebody I wanted to introduce to Pinot so thought this might be a good issue :D","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116285557/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116325269","html_url":"https://github.com/apache/pinot/pull/6703#issuecomment-1116325269","issue_url":"https://api.github.com/repos/apache/pinot/issues/6703","id":1116325269,"node_id":"IC_kwDOATCU_c5CicWV","user":{"login":"kkrugler","id":66217,"node_id":"MDQ6VXNlcjY2MjE3","avatar_url":"https://avatars.githubusercontent.com/u/66217?v=4","gravatar_id":"","url":"https://api.github.com/users/kkrugler","html_url":"https://github.com/kkrugler","followers_url":"https://api.github.com/users/kkrugler/followers","following_url":"https://api.github.com/users/kkrugler/following{/other_user}","gists_url":"https://api.github.com/users/kkrugler/gists{/gist_id}","starred_url":"https://api.github.com/users/kkrugler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkrugler/subscriptions","organizations_url":"https://api.github.com/users/kkrugler/orgs","repos_url":"https://api.github.com/users/kkrugler/repos","events_url":"https://api.github.com/users/kkrugler/events{/privacy}","received_events_url":"https://api.github.com/users/kkrugler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T16:51:15Z","updated_at":"2022-05-03T16:51:15Z","author_association":"CONTRIBUTOR","body":"@KKcorps - yes, exactly. Plus other (lower-level) Pinot jars that include logging implementations.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116325269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116389141","html_url":"https://github.com/apache/pinot/pull/8629#issuecomment-1116389141","issue_url":"https://api.github.com/repos/apache/pinot/issues/8629","id":1116389141,"node_id":"IC_kwDOATCU_c5Cir8V","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T18:00:52Z","updated_at":"2022-05-03T18:00:52Z","author_association":"MEMBER","body":"@siddharthteotia what was `RequestStatistics` changes to `RequestContext` and has an `isSampled()` which the tracer implementation can control. Code which previously used `RequestStatistics` can now use `RequestContext context = Tracing.getTracer().beginRequestScope()`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116389141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116421356","html_url":"https://github.com/apache/pinot/issues/8627#issuecomment-1116421356","issue_url":"https://api.github.com/repos/apache/pinot/issues/8627","id":1116421356,"node_id":"IC_kwDOATCU_c5Cizzs","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T18:26:53Z","updated_at":"2022-05-03T18:26:53Z","author_association":"CONTRIBUTOR","body":"Let's list down the standard SQL semantics for using different data type as boolean. These rules should be applied to all expressions in addition to literals.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116421356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116445461","html_url":"https://github.com/apache/pinot/pull/8602#issuecomment-1116445461","issue_url":"https://api.github.com/repos/apache/pinot/issues/8602","id":1116445461,"node_id":"IC_kwDOATCU_c5Ci5sV","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T18:49:00Z","updated_at":"2022-05-03T22:32:25Z","author_association":"MEMBER","body":"> Will this remain backward compatible? A recent discussion in slack made me think about this one: https://apache-pinot.slack.com/archives/CDRCA57FC/p1651496807383319\r\n\r\n@npawar After merging this change, any code which imports the newer release will fail at compile stage, since there is no more import paths like `shaded.org.apache.pinot.*`. We can mark this PR to be backward incompatible.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116445461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116546213","html_url":"https://github.com/apache/pinot/issues/8579#issuecomment-1116546213","issue_url":"https://api.github.com/repos/apache/pinot/issues/8579","id":1116546213,"node_id":"IC_kwDOATCU_c5CjSSl","user":{"login":"deemoliu","id":15416419,"node_id":"MDQ6VXNlcjE1NDE2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/15416419?v=4","gravatar_id":"","url":"https://api.github.com/users/deemoliu","html_url":"https://github.com/deemoliu","followers_url":"https://api.github.com/users/deemoliu/followers","following_url":"https://api.github.com/users/deemoliu/following{/other_user}","gists_url":"https://api.github.com/users/deemoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/deemoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deemoliu/subscriptions","organizations_url":"https://api.github.com/users/deemoliu/orgs","repos_url":"https://api.github.com/users/deemoliu/repos","events_url":"https://api.github.com/users/deemoliu/events{/privacy}","received_events_url":"https://api.github.com/users/deemoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T20:13:34Z","updated_at":"2022-05-03T20:13:34Z","author_association":"CONTRIBUTOR","body":"Thanks @Jackie-Jiang for taking a look.\r\n\r\nWe have successfully reproduce the issue yesterday by rebalancing the table. We find that something updated the hdfs url for this segment.\r\n\r\n`/var/log/streaming-pinot-controller/pinot-controller-2022-04-06.2.txt:2022-04-06 22:13:48.490 [jersey-server-managed-async-executor-9] INFO  o.a.p.c.a.r.PinotSegmentUploadDownloadRestletResource  - Setting zkDownloadUri: to viewfs://ns-default/user/hive/warehouse/marketplace_lts.db/pinot/panorama_city_minute_vvid_metrics/production/2022-04-06/pinot_archived/rta_panorama_city_minute_vvid_metrics_00000.tar.gz for segment: rta_panorama_city_minute_vvid_metrics_1649289599_1649289599_00000 of table: rta_panorama_city_minute_vvid_metrics_OFFLINE, skipping move`\r\n\r\n`/var/log/streaming-pinot-controller/pinot-controller-2022-04-07.0.txt:2022-04-07 03:33:39.453 [jersey-server-managed-async-executor-2] INFO  o.a.p.c.a.r.PinotSegmentUploadDownloadRestletResource  - Setting zkDownloadUri: to viewfs://ns-default/user/hive/warehouse/marketplace_lts.db/pinot/panorama_city_minute_vvid_metrics/production/2022-04-07/pinot_archived/rta_panorama_city_minute_vvid_metrics_00000.tar.gz for segment: rta_panorama_city_minute_vvid_metrics_1649289599_1649289599_00000 of table: rta_panorama_city_minute_vvid_metrics_OFFLINE, skipping move`\r\n\r\ni will look into the logs to see why the hdfs url was updated.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116546213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116666246","html_url":"https://github.com/apache/pinot/pull/8631#issuecomment-1116666246","issue_url":"https://api.github.com/repos/apache/pinot/issues/8631","id":1116666246,"node_id":"IC_kwDOATCU_c5CjvmG","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T21:16:30Z","updated_at":"2022-05-03T21:30:46Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8631?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8631](https://codecov.io/gh/apache/pinot/pull/8631?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (df2681f) into [master](https://codecov.io/gh/apache/pinot/commit/01dda9ddfa2dab4ad71f953855b960f1b890cc6c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (01dda9d) will **increase** coverage by `5.63%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8631      +/-   ##\n============================================\n+ Coverage     63.61%   69.25%   +5.63%     \n+ Complexity     4381     4380       -1     \n============================================\n  Files          1667     1712      +45     \n  Lines         88393    90312    +1919     \n  Branches      13470    13679     +209     \n============================================\n+ Hits          56231    62542    +6311     \n+ Misses        28052    23323    -4729     \n- Partials       4110     4447     +337     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.06% <ø> (?)` | |\n| unittests1 | `66.43% <ø> (-0.05%)` | :arrow_down: |\n| unittests2 | `14.00% <ø> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8631?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...gin/stream/kinesis/server/KinesisDataProducer.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1zdHJlYW0taW5nZXN0aW9uL3Bpbm90LWtpbmVzaXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9zdHJlYW0va2luZXNpcy9zZXJ2ZXIvS2luZXNpc0RhdGFQcm9kdWNlci5qYXZh) | `0.00% <ø> (ø)` | |\n| [...nt/local/startree/v2/store/StarTreeDataSource.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZURhdGFTb3VyY2UuamF2YQ==) | `40.00% <0.00%> (-13.34%)` | :arrow_down: |\n| [...ore/query/scheduler/resources/ResourceManager.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `84.00% <0.00%> (-12.00%)` | :arrow_down: |\n| [...ot/segment/local/startree/OffHeapStarTreeNode.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS9PZmZIZWFwU3RhclRyZWVOb2RlLmphdmE=) | `65.90% <0.00%> (-6.82%)` | :arrow_down: |\n| [.../pinot/core/query/scheduler/PriorityScheduler.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvUHJpb3JpdHlTY2hlZHVsZXIuamF2YQ==) | `78.08% <0.00%> (-5.48%)` | :arrow_down: |\n| [.../aggregation/function/ModeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9Nb2RlQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `88.10% <0.00%> (-0.28%)` | :arrow_down: |\n| [...t/server/api/resources/DefaultExceptionMapper.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9EZWZhdWx0RXhjZXB0aW9uTWFwcGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...che/pinot/plugin/metrics/yammer/YammerMetered.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LXlhbW1lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL21ldHJpY3MveWFtbWVyL1lhbW1lck1ldGVyZWQuamF2YQ==) | `25.00% <0.00%> (ø)` | |\n| [...pache/pinot/plugin/metrics/yammer/YammerMeter.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LXlhbW1lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL21ldHJpY3MveWFtbWVyL1lhbW1lck1ldGVyLmphdmE=) | `55.55% <0.00%> (ø)` | |\n| [.../metrics/yammer/YammerMetricsRegistryListener.java](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1tZXRyaWNzL3Bpbm90LXlhbW1lci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL21ldHJpY3MveWFtbWVyL1lhbW1lck1ldHJpY3NSZWdpc3RyeUxpc3RlbmVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| ... and [344 more](https://codecov.io/gh/apache/pinot/pull/8631/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8631?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8631?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [f693bd3...df2681f](https://codecov.io/gh/apache/pinot/pull/8631?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116666246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116682415","html_url":"https://github.com/apache/pinot/issues/8623#issuecomment-1116682415","issue_url":"https://api.github.com/repos/apache/pinot/issues/8623","id":1116682415,"node_id":"IC_kwDOATCU_c5Cjziv","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T21:34:32Z","updated_at":"2022-05-03T21:34:32Z","author_association":"CONTRIBUTOR","body":"Currently there is no way to directly pull data from an external DB. You will need to first dump the data from the DB into a supported file format, then use the Pinot ingestion flow to ingest the data into Pinot.\r\nYou may use the [hybrid table](https://docs.pinot.apache.org/basics/components/table#hybrid-table) setup to serve data from both batch source and streaming source.\r\n\r\nWe may support pulling data from an external DB using some standard connector, such as JDBC. cc @timsants ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116682415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116686955","html_url":"https://github.com/apache/pinot/issues/8399#issuecomment-1116686955","issue_url":"https://api.github.com/repos/apache/pinot/issues/8399","id":1116686955,"node_id":"IC_kwDOATCU_c5Cj0pr","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T21:39:49Z","updated_at":"2022-05-03T21:39:49Z","author_association":"CONTRIBUTOR","body":"> @Jackie-Jiang If this property is set to true, then we should just ignore the filter and transform configs? Or should be provide a way to store the record as a JSON AFTER applying the filters and the transforms? IMO, most users would just want to store their records as-is, so we should just ignore any transform or filter configs.\r\n\r\n@suddendust IMO we should still honor the filter and transform configs. This new config means we want to store the whole record into a configured field, but we should still support filtering/extracting fields from the records. User might choose to use this new config to capture the whole record, but still extract the fields that are commonly used in the query for performance reason.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116686955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116701575","html_url":"https://github.com/apache/pinot/issues/8581#issuecomment-1116701575","issue_url":"https://api.github.com/repos/apache/pinot/issues/8581","id":1116701575,"node_id":"IC_kwDOATCU_c5Cj4OH","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T21:56:43Z","updated_at":"2022-05-03T21:56:43Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang is this something we can pick up? Is it a beginner issue?\r\nOr would you prefer just getting to the DateTimeFieldSpec refactoring that you were suggesting? If so, mind adding a couple of lines about it?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116701575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116703184","html_url":"https://github.com/apache/pinot/issues/8579#issuecomment-1116703184","issue_url":"https://api.github.com/repos/apache/pinot/issues/8579","id":1116703184,"node_id":"IC_kwDOATCU_c5Cj4nQ","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T21:59:17Z","updated_at":"2022-05-03T21:59:17Z","author_association":"CONTRIBUTOR","body":"Hey @deemoliu , what were your further findings? Were the urls updated by some operation on your end, or did it happen because of some Pinot operation that needs to be debugged further?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116703184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116705284","html_url":"https://github.com/apache/pinot/issues/8547#issuecomment-1116705284","issue_url":"https://api.github.com/repos/apache/pinot/issues/8547","id":1116705284,"node_id":"IC_kwDOATCU_c5Cj5IE","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:02:36Z","updated_at":"2022-05-03T22:02:36Z","author_association":"CONTRIBUTOR","body":"@WangCHX does your PR address and fix this? Can this be closed or does it need further work?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116705284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116709729","html_url":"https://github.com/apache/pinot/issues/8492#issuecomment-1116709729","issue_url":"https://api.github.com/repos/apache/pinot/issues/8492","id":1116709729,"node_id":"IC_kwDOATCU_c5Cj6Nh","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:09:51Z","updated_at":"2022-05-03T22:09:51Z","author_association":"CONTRIBUTOR","body":"FYI @saurabhd336 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116709729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116710686","html_url":"https://github.com/apache/pinot/issues/8476#issuecomment-1116710686","issue_url":"https://api.github.com/repos/apache/pinot/issues/8476","id":1116710686,"node_id":"IC_kwDOATCU_c5Cj6ce","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:11:25Z","updated_at":"2022-05-03T22:11:25Z","author_association":"CONTRIBUTOR","body":"@pjfanning i saw some PRs from you. Are these all addressed? If so, would you please close this issue?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116710686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116713496","html_url":"https://github.com/apache/pinot/issues/8537#issuecomment-1116713496","issue_url":"https://api.github.com/repos/apache/pinot/issues/8537","id":1116713496,"node_id":"IC_kwDOATCU_c5Cj7IY","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:16:12Z","updated_at":"2022-05-03T22:16:12Z","author_association":"CONTRIBUTOR","body":"I'm still seeing the exact same failure. @KKcorps Please take another look","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116713496/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116715448","html_url":"https://github.com/apache/pinot/issues/8423#issuecomment-1116715448","issue_url":"https://api.github.com/repos/apache/pinot/issues/8423","id":1116715448,"node_id":"IC_kwDOATCU_c5Cj7m4","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:19:40Z","updated_at":"2022-05-03T22:19:40Z","author_association":"CONTRIBUTOR","body":"has this been resolved? can the issue be closed?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116715448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116717755","html_url":"https://github.com/apache/pinot/issues/8406#issuecomment-1116717755","issue_url":"https://api.github.com/repos/apache/pinot/issues/8406","id":1116717755,"node_id":"IC_kwDOATCU_c5Cj8K7","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:23:20Z","updated_at":"2022-05-03T22:23:20Z","author_association":"CONTRIBUTOR","body":"@elonazoulay can you confirm regarding the schema and if it is an issue even though you have a schema?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116717755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116730010","html_url":"https://github.com/apache/pinot/issues/8581#issuecomment-1116730010","issue_url":"https://api.github.com/repos/apache/pinot/issues/8581","id":1116730010,"node_id":"IC_kwDOATCU_c5Cj_Ka","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:45:33Z","updated_at":"2022-05-03T22:45:33Z","author_association":"CONTRIBUTOR","body":"@npawar They are orthogonal. I can create a separate issue for the new time format\r\n\r\n@cyrilou242 Do you want to help contribute this enhancement?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116730010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116735978","html_url":"https://github.com/apache/pinot/issues/8607#issuecomment-1116735978","issue_url":"https://api.github.com/repos/apache/pinot/issues/8607","id":1116735978,"node_id":"IC_kwDOATCU_c5CkAnq","user":{"login":"amrishlal","id":4550395,"node_id":"MDQ6VXNlcjQ1NTAzOTU=","avatar_url":"https://avatars.githubusercontent.com/u/4550395?v=4","gravatar_id":"","url":"https://api.github.com/users/amrishlal","html_url":"https://github.com/amrishlal","followers_url":"https://api.github.com/users/amrishlal/followers","following_url":"https://api.github.com/users/amrishlal/following{/other_user}","gists_url":"https://api.github.com/users/amrishlal/gists{/gist_id}","starred_url":"https://api.github.com/users/amrishlal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrishlal/subscriptions","organizations_url":"https://api.github.com/users/amrishlal/orgs","repos_url":"https://api.github.com/users/amrishlal/repos","events_url":"https://api.github.com/users/amrishlal/events{/privacy}","received_events_url":"https://api.github.com/users/amrishlal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:56:50Z","updated_at":"2022-05-03T22:56:50Z","author_association":"CONTRIBUTOR","body":"If we want to be 100% accurate, then probably the only option is to move towards full evaluation of EXPLAIN PLAN over all segments on all servers.  To start with maybe we could evaluate EXPLAIN PLAN against one segment of each server and do broker reduce and dedup over all the servers. Later on a server combine could be added for evaluating against all segments? For now, although not ideal, the user can execute the EXPLAIN PLAN. a few times to get a better idea of the variation.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116735978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116742625","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1116742625","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1116742625,"node_id":"IC_kwDOATCU_c5CkCPh","user":{"login":"WangCHX","id":1172621,"node_id":"MDQ6VXNlcjExNzI2MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1172621?v=4","gravatar_id":"","url":"https://api.github.com/users/WangCHX","html_url":"https://github.com/WangCHX","followers_url":"https://api.github.com/users/WangCHX/followers","following_url":"https://api.github.com/users/WangCHX/following{/other_user}","gists_url":"https://api.github.com/users/WangCHX/gists{/gist_id}","starred_url":"https://api.github.com/users/WangCHX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WangCHX/subscriptions","organizations_url":"https://api.github.com/users/WangCHX/orgs","repos_url":"https://api.github.com/users/WangCHX/repos","events_url":"https://api.github.com/users/WangCHX/events{/privacy}","received_events_url":"https://api.github.com/users/WangCHX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:09:07Z","updated_at":"2022-05-03T23:09:07Z","author_association":"CONTRIBUTOR","body":"> This is not the correct fix. The filter operator relies on the H3 index on the column. If the column is within an expression, the result will be wrong. E.g. `ST_DISTANCE(geoCol, 'point')` is not the same as `ST_DISTANCE(myFunc(geoCol), 'point')`, and we cannot use the same index because the index is not applied to the `myFunc(geoCol)`\r\n\r\nis it ok for me to add constraints that the function only can be `toSphericalGeography` and `toGeometry` right now?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116742625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116753483","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1116753483","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1116753483,"node_id":"IC_kwDOATCU_c5CkE5L","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:23:03Z","updated_at":"2022-05-03T23:23:03Z","author_association":"CONTRIBUTOR","body":"> > This is not the correct fix. The filter operator relies on the H3 index on the column. If the column is within an expression, the result will be wrong. E.g. `ST_DISTANCE(geoCol, 'point')` is not the same as `ST_DISTANCE(myFunc(geoCol), 'point')`, and we cannot use the same index because the index is not applied to the `myFunc(geoCol)`\r\n> \r\n> is it ok for me to add constraints that the function only can be `toSphericalGeography` and `toGeometry` right now?\r\n\r\nWhy do you need to do `toSphericalGeography` or `toGeometry` on a column with H3 index? IIUC, H3 index implies the underlying points are geography, and `ST_DISTANCE(toGeometry(geoCol), 'point')` should not use H3 index.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116753483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116756998","html_url":"https://github.com/apache/pinot/pull/8612#issuecomment-1116756998","issue_url":"https://api.github.com/repos/apache/pinot/issues/8612","id":1116756998,"node_id":"IC_kwDOATCU_c5CkFwG","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:27:00Z","updated_at":"2022-05-03T23:27:00Z","author_association":"CONTRIBUTOR","body":"Related to #8537 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116756998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116762409","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1116762409","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1116762409,"node_id":"IC_kwDOATCU_c5CkHEp","user":{"login":"WangCHX","id":1172621,"node_id":"MDQ6VXNlcjExNzI2MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1172621?v=4","gravatar_id":"","url":"https://api.github.com/users/WangCHX","html_url":"https://github.com/WangCHX","followers_url":"https://api.github.com/users/WangCHX/followers","following_url":"https://api.github.com/users/WangCHX/following{/other_user}","gists_url":"https://api.github.com/users/WangCHX/gists{/gist_id}","starred_url":"https://api.github.com/users/WangCHX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WangCHX/subscriptions","organizations_url":"https://api.github.com/users/WangCHX/orgs","repos_url":"https://api.github.com/users/WangCHX/repos","events_url":"https://api.github.com/users/WangCHX/events{/privacy}","received_events_url":"https://api.github.com/users/WangCHX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:38:02Z","updated_at":"2022-05-03T23:53:48Z","author_association":"CONTRIBUTOR","body":"> > > This is not the correct fix. The filter operator relies on the H3 index on the column. If the column is within an expression, the result will be wrong. E.g. `ST_DISTANCE(geoCol, 'point')` is not the same as `ST_DISTANCE(myFunc(geoCol), 'point')`, and we cannot use the same index because the index is not applied to the `myFunc(geoCol)`\r\n> > \r\n> > \r\n> > is it ok for me to add constraints that the function only can be `toSphericalGeography` and `toGeometry` right now?\r\n> \r\n> Why do you need to do `toSphericalGeography` or `toGeometry` on a column with H3 index? IIUC, H3 index implies the underlying points are geography, and `ST_DISTANCE(toGeometry(geoCol), 'point')` should not use H3 index.\r\n\r\nI think the underlying is a [point](https://github.com/apache/pinot/blob/master/pinot-segment-local/src/main/java/org/apache/pinot/segment/local/realtime/impl/geospatial/MutableH3Index.java#L55). H3 index only take coordinate. so it can be applied to  both geography and geometry. Also [ST_Contains](https://docs.pinot.apache.org/configuration-reference/functions/stcontains) only can be applied to  `Geometry`. If i want to use ST_DISTANCE and ST_Contains at the same time, seems I need to create two columns. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116762409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116774756","html_url":"https://github.com/apache/pinot/issues/8579#issuecomment-1116774756","issue_url":"https://api.github.com/repos/apache/pinot/issues/8579","id":1116774756,"node_id":"IC_kwDOATCU_c5CkKFk","user":{"login":"deemoliu","id":15416419,"node_id":"MDQ6VXNlcjE1NDE2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/15416419?v=4","gravatar_id":"","url":"https://api.github.com/users/deemoliu","html_url":"https://github.com/deemoliu","followers_url":"https://api.github.com/users/deemoliu/followers","following_url":"https://api.github.com/users/deemoliu/following{/other_user}","gists_url":"https://api.github.com/users/deemoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/deemoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deemoliu/subscriptions","organizations_url":"https://api.github.com/users/deemoliu/orgs","repos_url":"https://api.github.com/users/deemoliu/repos","events_url":"https://api.github.com/users/deemoliu/events{/privacy}","received_events_url":"https://api.github.com/users/deemoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T00:05:54Z","updated_at":"2022-05-04T00:05:54Z","author_association":"CONTRIBUTOR","body":"hi @npawar thanks for looking into the issue. I think the URL is updated by some user operation. The user has three hive to Pinot jobs that used the same input hive table and write to the same pinot table. I will understand more on the use case and get back to you.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116774756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116824711","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1116824711","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1116824711,"node_id":"IC_kwDOATCU_c5CkWSH","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T00:36:37Z","updated_at":"2022-05-04T00:36:37Z","author_association":"CONTRIBUTOR","body":"@yupeng9 Can we apply `ST_Contains` to the geography objects? I think it should work on both geometry and geography","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116824711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116840737","html_url":"https://github.com/apache/pinot/pull/8355#issuecomment-1116840737","issue_url":"https://api.github.com/repos/apache/pinot/issues/8355","id":1116840737,"node_id":"IC_kwDOATCU_c5CkaMh","user":{"login":"deemoliu","id":15416419,"node_id":"MDQ6VXNlcjE1NDE2NDE5","avatar_url":"https://avatars.githubusercontent.com/u/15416419?v=4","gravatar_id":"","url":"https://api.github.com/users/deemoliu","html_url":"https://github.com/deemoliu","followers_url":"https://api.github.com/users/deemoliu/followers","following_url":"https://api.github.com/users/deemoliu/following{/other_user}","gists_url":"https://api.github.com/users/deemoliu/gists{/gist_id}","starred_url":"https://api.github.com/users/deemoliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deemoliu/subscriptions","organizations_url":"https://api.github.com/users/deemoliu/orgs","repos_url":"https://api.github.com/users/deemoliu/repos","events_url":"https://api.github.com/users/deemoliu/events{/privacy}","received_events_url":"https://api.github.com/users/deemoliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T00:56:46Z","updated_at":"2022-05-04T00:56:46Z","author_association":"CONTRIBUTOR","body":"> Please update the release note of the PR description for the new added rest endpoint\r\n\r\nThanks @Jackie-Jiang , done.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116840737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116847601","html_url":"https://github.com/apache/pinot/pull/8633#issuecomment-1116847601","issue_url":"https://api.github.com/repos/apache/pinot/issues/8633","id":1116847601,"node_id":"IC_kwDOATCU_c5Ckb3x","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T01:15:33Z","updated_at":"2022-05-04T01:19:28Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8633?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8633](https://codecov.io/gh/apache/pinot/pull/8633?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (907b023) into [master](https://codecov.io/gh/apache/pinot/commit/907b0239b16e2b1eb71508d2aba36275891574ce?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (907b023) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n> :exclamation: Current head 907b023 differs from pull request most recent head cfb0bd5. Consider uploading reports for the commit cfb0bd5 to get more accurate results\n\n```diff\n@@            Coverage Diff            @@\n##             master    #8633   +/-   ##\n=========================================\n  Coverage     70.38%   70.38%           \n  Complexity     4410     4410           \n=========================================\n  Files          1716     1716           \n  Lines         90530    90530           \n  Branches      13707    13707           \n=========================================\n  Hits          63723    63723           \n  Misses        22323    22323           \n  Partials       4484     4484           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.00% <0.00%> (ø)` | |\n| integration2 | `25.19% <0.00%> (ø)` | |\n| unittests1 | `66.44% <0.00%> (ø)` | |\n| unittests2 | `14.00% <0.00%> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8633?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8633?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [907b023...cfb0bd5](https://codecov.io/gh/apache/pinot/pull/8633?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116847601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116905295","html_url":"https://github.com/apache/pinot/issues/7430#issuecomment-1116905295","issue_url":"https://api.github.com/repos/apache/pinot/issues/7430","id":1116905295,"node_id":"IC_kwDOATCU_c5Ckp9P","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T04:02:40Z","updated_at":"2022-05-04T04:02:40Z","author_association":"CONTRIBUTOR","body":"This is huge! Big congrats!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116905295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116942079","html_url":"https://github.com/apache/pinot/pull/8629#issuecomment-1116942079","issue_url":"https://api.github.com/repos/apache/pinot/issues/8629","id":1116942079,"node_id":"IC_kwDOATCU_c5Cky7_","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T05:30:01Z","updated_at":"2022-05-04T05:30:01Z","author_association":"CONTRIBUTOR","body":"LGTM\r\n@richardstartin  can you please rebase ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116942079/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116958049","html_url":"https://github.com/apache/pinot/pull/8602#issuecomment-1116958049","issue_url":"https://api.github.com/repos/apache/pinot/issues/8602","id":1116958049,"node_id":"IC_kwDOATCU_c5Ck21h","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T06:05:48Z","updated_at":"2022-05-04T06:05:48Z","author_association":"CONTRIBUTOR","body":"@jackjlli @npawar Yep, it will be backward-incompatible which is why I haven't merged it yet.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116958049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116959243","html_url":"https://github.com/apache/pinot/issues/8476#issuecomment-1116959243","issue_url":"https://api.github.com/repos/apache/pinot/issues/8476","id":1116959243,"node_id":"IC_kwDOATCU_c5Ck3IL","user":{"login":"pjfanning","id":11783444,"node_id":"MDQ6VXNlcjExNzgzNDQ0","avatar_url":"https://avatars.githubusercontent.com/u/11783444?v=4","gravatar_id":"","url":"https://api.github.com/users/pjfanning","html_url":"https://github.com/pjfanning","followers_url":"https://api.github.com/users/pjfanning/followers","following_url":"https://api.github.com/users/pjfanning/following{/other_user}","gists_url":"https://api.github.com/users/pjfanning/gists{/gist_id}","starred_url":"https://api.github.com/users/pjfanning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjfanning/subscriptions","organizations_url":"https://api.github.com/users/pjfanning/orgs","repos_url":"https://api.github.com/users/pjfanning/repos","events_url":"https://api.github.com/users/pjfanning/events{/privacy}","received_events_url":"https://api.github.com/users/pjfanning/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T06:08:20Z","updated_at":"2022-05-04T06:08:20Z","author_association":"CONTRIBUTOR","body":"@npawar I didn't submit any NPM changes. I am not a UI expert and do not feel I would be a good person to test any changes.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116959243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116962154","html_url":"https://github.com/apache/pinot/pull/8630#issuecomment-1116962154","issue_url":"https://api.github.com/repos/apache/pinot/issues/8630","id":1116962154,"node_id":"IC_kwDOATCU_c5Ck31q","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T06:13:49Z","updated_at":"2022-05-04T06:13:49Z","author_association":"CONTRIBUTOR","body":"Upgrading/Downgrading Jackson breaks a lot of stuff such as Spark ingestion and other plugins. Not sure if we need this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116962154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116963890","html_url":"https://github.com/apache/pinot/issues/6992#issuecomment-1116963890","issue_url":"https://api.github.com/repos/apache/pinot/issues/6992","id":1116963890,"node_id":"IC_kwDOATCU_c5Ck4Qy","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T06:17:01Z","updated_at":"2022-05-04T06:17:01Z","author_association":"CONTRIBUTOR","body":"Is this test still flaky? I see it is currently disabled.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116963890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116970957","html_url":"https://github.com/apache/pinot/pull/8630#issuecomment-1116970957","issue_url":"https://api.github.com/repos/apache/pinot/issues/8630","id":1116970957,"node_id":"IC_kwDOATCU_c5Ck5_N","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T06:28:49Z","updated_at":"2022-05-04T06:28:49Z","author_association":"CONTRIBUTOR","body":"> Details\r\n\r\nI am still working on this. There is a dependency conflict I am trying to address as a short-term fix. Haven't settled on the fix yet. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116970957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116978789","html_url":"https://github.com/apache/pinot/issues/8632#issuecomment-1116978789","issue_url":"https://api.github.com/repos/apache/pinot/issues/8632","id":1116978789,"node_id":"IC_kwDOATCU_c5Ck75l","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T06:44:38Z","updated_at":"2022-05-05T09:44:42Z","author_association":"CONTRIBUTOR","body":"I feel both of these formats cause a lot of confusion for new users. What each value represents is not implicit and requires going through the doc to change every time.\r\nI propose a better way to handle this is to just keep this whole field as JSON.\r\ne.g.\r\n\r\n```json\r\n{\r\n      \"granularity\":1,\r\n      \"granularityTimeUnit\":\"DAYS\",\r\n      \"inputTimeFormat\":\"SIMPLE_DATE_FORMAT\",\r\n      \"pattern\":\"yyyy-MM-dd\",\r\n      \"timeZone\":\"PST\"\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116978789/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116983389","html_url":"https://github.com/apache/pinot/pull/8629#issuecomment-1116983389","issue_url":"https://api.github.com/repos/apache/pinot/issues/8629","id":1116983389,"node_id":"IC_kwDOATCU_c5Ck9Bd","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T06:52:55Z","updated_at":"2022-05-04T06:58:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8629?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8629](https://codecov.io/gh/apache/pinot/pull/8629?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5acf513) into [master](https://codecov.io/gh/apache/pinot/commit/7edad89d612438c29591167781518abb1c384519?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7edad89) will **decrease** coverage by `6.86%`.\n> The diff coverage is `17.02%`.\n\n> :exclamation: Current head 5acf513 differs from pull request most recent head 893f7f0. Consider uploading reports for the commit 893f7f0 to get more accurate results\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8629      +/-   ##\n============================================\n- Coverage     70.59%   63.73%   -6.87%     \n+ Complexity     4412     4411       -1     \n============================================\n  Files          1667     1622      -45     \n  Lines         87314    85401    -1913     \n  Branches      13085    12877     -208     \n============================================\n- Hits          61643    54427    -7216     \n- Misses        21411    27083    +5672     \n+ Partials       4260     3891     -369     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `66.42% <0.00%> (+<0.01%)` | :arrow_up: |\n| unittests2 | `14.34% <17.02%> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8629?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...roker/requesthandler/GrpcBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvR3JwY0Jyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `0.00% <0.00%> (-78.38%)` | :arrow_down: |\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `17.10% <0.00%> (-77.49%)` | :arrow_down: |\n| [.../apache/pinot/spi/trace/DefaultRequestContext.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvRGVmYXVsdFJlcXVlc3RDb250ZXh0LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...ava/org/apache/pinot/spi/trace/RequestContext.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvUmVxdWVzdENvbnRleHQuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...c/main/java/org/apache/pinot/spi/trace/Tracer.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvVHJhY2VyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...roker/requesthandler/BaseBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `29.10% <22.85%> (-40.95%)` | :arrow_down: |\n| [...va/org/apache/pinot/core/routing/RoutingTable.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yb3V0aW5nL1JvdXRpbmdUYWJsZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...va/org/apache/pinot/common/config/NettyConfig.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL05ldHR5Q29uZmlnLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/metrics/MinionMeter.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25NZXRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...g/apache/pinot/common/metrics/ControllerMeter.java](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [382 more](https://codecov.io/gh/apache/pinot/pull/8629/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8629?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8629?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [7edad89...893f7f0](https://codecov.io/gh/apache/pinot/pull/8629?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1116983389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117007208","html_url":"https://github.com/apache/pinot/pull/8630#issuecomment-1117007208","issue_url":"https://api.github.com/repos/apache/pinot/issues/8630","id":1117007208,"node_id":"IC_kwDOATCU_c5ClC1o","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T07:29:54Z","updated_at":"2022-05-04T23:38:13Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8630?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8630](https://codecov.io/gh/apache/pinot/pull/8630?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f090a2f) into [master](https://codecov.io/gh/apache/pinot/commit/72e1844559055a71b877fb911bb6adadc9cc6e7b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (72e1844) will **increase** coverage by `0.28%`.\n> The diff coverage is `73.05%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8630      +/-   ##\n============================================\n+ Coverage     70.33%   70.62%   +0.28%     \n+ Complexity     4375     4352      -23     \n============================================\n  Files          1705     1677      -28     \n  Lines         89699    87708    -1991     \n  Branches      13568    13146     -422     \n============================================\n- Hits          63093    61940    -1153     \n+ Misses        22155    21488     -667     \n+ Partials       4451     4280     -171     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.61% <11.93%> (+0.48%)` | :arrow_up: |\n| integration2 | `25.76% <11.93%> (+0.23%)` | :arrow_up: |\n| unittests1 | `66.45% <73.05%> (+0.12%)` | :arrow_up: |\n| unittests2 | `14.28% <0.00%> (+0.17%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...edicate/BaseDictionaryBasedPredicateEvaluator.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0Jhc2VEaWN0aW9uYXJ5QmFzZWRQcmVkaWNhdGVFdmFsdWF0b3IuamF2YQ==) | `48.14% <0.00%> (-1.86%)` | :arrow_down: |\n| [...predicate/BaseRawValueBasedPredicateEvaluator.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0Jhc2VSYXdWYWx1ZUJhc2VkUHJlZGljYXRlRXZhbHVhdG9yLmphdmE=) | `85.29% <0.00%> (-1.28%)` | :arrow_down: |\n| [.../core/query/reduce/filter/PredicateRowMatcher.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvZmlsdGVyL1ByZWRpY2F0ZVJvd01hdGNoZXIuamF2YQ==) | `76.47% <0.00%> (-4.78%)` | :arrow_down: |\n| [...riter/impl/VarByteChunkSVForwardIndexWriterV4.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pby93cml0ZXIvaW1wbC9WYXJCeXRlQ2h1bmtTVkZvcndhcmRJbmRleFdyaXRlclY0LmphdmE=) | `95.12% <0.00%> (-1.58%)` | :arrow_down: |\n| [...e/impl/forward/FixedByteSVMutableForwardIndex.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL2ZvcndhcmQvRml4ZWRCeXRlU1ZNdXRhYmxlRm9yd2FyZEluZGV4LmphdmE=) | `93.87% <0.00%> (-2.97%)` | :arrow_down: |\n| [...ime/impl/forward/VarByteSVMutableForwardIndex.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWFsdGltZS9pbXBsL2ZvcndhcmQvVmFyQnl0ZVNWTXV0YWJsZUZvcndhcmRJbmRleC5qYXZh) | `72.72% <0.00%> (-3.47%)` | :arrow_down: |\n| [...ment/creator/impl/DefaultIndexCreatorProvider.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2NyZWF0b3IvaW1wbC9EZWZhdWx0SW5kZXhDcmVhdG9yUHJvdmlkZXIuamF2YQ==) | `69.62% <ø> (+0.78%)` | :arrow_up: |\n| [...ment/creator/impl/SegmentColumnarIndexCreator.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50Q29sdW1uYXJJbmRleENyZWF0b3IuamF2YQ==) | `87.19% <0.00%> (+0.39%)` | :arrow_up: |\n| [...rs/forward/VarByteChunkSVForwardIndexReaderV4.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2luZGV4L3JlYWRlcnMvZm9yd2FyZC9WYXJCeXRlQ2h1bmtTVkZvcndhcmRJbmRleFJlYWRlclY0LmphdmE=) | `91.07% <0.00%> (-0.83%)` | :arrow_down: |\n| [...segment/spi/index/creator/ForwardIndexCreator.java](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL2luZGV4L2NyZWF0b3IvRm9yd2FyZEluZGV4Q3JlYXRvci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| ... and [234 more](https://codecov.io/gh/apache/pinot/pull/8630/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8630?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8630?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [60ece7a...f090a2f](https://codecov.io/gh/apache/pinot/pull/8630?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117007208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117032199","html_url":"https://github.com/apache/pinot/issues/8607#issuecomment-1117032199","issue_url":"https://api.github.com/repos/apache/pinot/issues/8607","id":1117032199,"node_id":"IC_kwDOATCU_c5ClI8H","user":{"login":"richardstartin","id":16439049,"node_id":"MDQ6VXNlcjE2NDM5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/16439049?v=4","gravatar_id":"","url":"https://api.github.com/users/richardstartin","html_url":"https://github.com/richardstartin","followers_url":"https://api.github.com/users/richardstartin/followers","following_url":"https://api.github.com/users/richardstartin/following{/other_user}","gists_url":"https://api.github.com/users/richardstartin/gists{/gist_id}","starred_url":"https://api.github.com/users/richardstartin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardstartin/subscriptions","organizations_url":"https://api.github.com/users/richardstartin/orgs","repos_url":"https://api.github.com/users/richardstartin/repos","events_url":"https://api.github.com/users/richardstartin/events{/privacy}","received_events_url":"https://api.github.com/users/richardstartin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T08:03:29Z","updated_at":"2022-05-04T08:03:29Z","author_association":"MEMBER","body":"I think the deepest child heuristic might be the right trade off between accuracy and whatever it is which prevents considering the entire query execution.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117032199/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117144025","html_url":"https://github.com/apache/pinot/issues/8604#issuecomment-1117144025","issue_url":"https://api.github.com/repos/apache/pinot/issues/8604","id":1117144025,"node_id":"IC_kwDOATCU_c5ClkPZ","user":{"login":"saurabhd336","id":7672118,"node_id":"MDQ6VXNlcjc2NzIxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7672118?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhd336","html_url":"https://github.com/saurabhd336","followers_url":"https://api.github.com/users/saurabhd336/followers","following_url":"https://api.github.com/users/saurabhd336/following{/other_user}","gists_url":"https://api.github.com/users/saurabhd336/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhd336/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhd336/subscriptions","organizations_url":"https://api.github.com/users/saurabhd336/orgs","repos_url":"https://api.github.com/users/saurabhd336/repos","events_url":"https://api.github.com/users/saurabhd336/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhd336/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T10:12:59Z","updated_at":"2022-05-04T10:12:59Z","author_association":"CONTRIBUTOR","body":"@saumya2700 just trying to understand the usecase here, why'd you want to unnest non array fields? Ideally filedsToUnnest should have fields that are array of objects. This issue is being caused due to non array fields being unnested that isn't a valid usecase.\r\nCan you describe your usecase you're trying to solve with unnesting these fields? There should be some alternative ways to solve for it. I feel JSON indexing / transformConfigs should suffice.\r\ncc: @npawar ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117144025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117195673","html_url":"https://github.com/apache/pinot/issues/8604#issuecomment-1117195673","issue_url":"https://api.github.com/repos/apache/pinot/issues/8604","id":1117195673,"node_id":"IC_kwDOATCU_c5Clw2Z","user":{"login":"saurabhd336","id":7672118,"node_id":"MDQ6VXNlcjc2NzIxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7672118?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhd336","html_url":"https://github.com/saurabhd336","followers_url":"https://api.github.com/users/saurabhd336/followers","following_url":"https://api.github.com/users/saurabhd336/following{/other_user}","gists_url":"https://api.github.com/users/saurabhd336/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhd336/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhd336/subscriptions","organizations_url":"https://api.github.com/users/saurabhd336/orgs","repos_url":"https://api.github.com/users/saurabhd336/repos","events_url":"https://api.github.com/users/saurabhd336/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhd336/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T11:20:58Z","updated_at":"2022-05-04T11:20:58Z","author_association":"CONTRIBUTOR","body":"I was able to successfully ingest (without the infinite nesting) using transformConfigs as follows\r\n`\"ingestionConfig\": {\r\n      \"transformConfigs\": [\r\n        {\r\n          \"columnName\": \"header.trId\",\r\n          \"transformFunction\": \"JSONPATHSTRING(header, '$.trId')\"\r\n        }\r\n      ]\r\n    }`\r\n    \r\nSimilar transformConfigs can be added for all the nested fields to be able to extract them during ingestion.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117195673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117241445","html_url":"https://github.com/apache/pinot/pull/8181#issuecomment-1117241445","issue_url":"https://api.github.com/repos/apache/pinot/issues/8181","id":1117241445,"node_id":"IC_kwDOATCU_c5Cl8Bl","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T12:14:26Z","updated_at":"2022-05-04T12:32:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8181?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8181](https://codecov.io/gh/apache/pinot/pull/8181?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (41a107e) into [master](https://codecov.io/gh/apache/pinot/commit/43e1298e322f2e66adb47c54b8bdfd2b7e57a552?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (43e1298) will **increase** coverage by `0.10%`.\n> The diff coverage is `85.09%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8181      +/-   ##\n============================================\n+ Coverage     69.49%   69.60%   +0.10%     \n+ Complexity     4412     4411       -1     \n============================================\n  Files          1667     1673       +6     \n  Lines         87320    87595     +275     \n  Branches      13086    13127      +41     \n============================================\n+ Hits          60687    60968     +281     \n+ Misses        22401    22382      -19     \n- Partials       4232     4245      +13     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.70% <0.00%> (-0.03%)` | :arrow_down: |\n| unittests1 | `66.49% <85.09%> (+0.06%)` | :arrow_up: |\n| unittests2 | `14.28% <0.00%> (-0.05%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8181?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ion/function/FirstWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdFdpdGhUaW1lQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `49.27% <49.27%> (ø)` | |\n| [...gregation/function/AggregationFunctionFactory.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uRmFjdG9yeS5qYXZh) | `80.91% <60.00%> (-2.71%)` | :arrow_down: |\n| [...n/FirstDoubleValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdERvdWJsZVZhbHVlV2l0aFRpbWVBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...on/FirstFloatValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdEZsb2F0VmFsdWVXaXRoVGltZUFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `100.00% <100.00%> (ø)` | |\n| [...tion/FirstIntValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdEludFZhbHVlV2l0aFRpbWVBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...ion/FirstLongValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdExvbmdWYWx1ZVdpdGhUaW1lQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...n/FirstStringValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdFN0cmluZ1ZhbHVlV2l0aFRpbWVBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...che/pinot/segment/spi/AggregationFunctionType.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL0FnZ3JlZ2F0aW9uRnVuY3Rpb25UeXBlLmphdmE=) | `89.41% <100.00%> (+0.12%)` | :arrow_up: |\n| [...ller/helix/core/minion/TaskTypeMetricsUpdater.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9UYXNrVHlwZU1ldHJpY3NVcGRhdGVyLmphdmE=) | `80.00% <0.00%> (-20.00%)` | :arrow_down: |\n| [...pinot/core/query/request/context/TimerContext.java](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvVGltZXJDb250ZXh0LmphdmE=) | `91.66% <0.00%> (-4.17%)` | :arrow_down: |\n| ... and [25 more](https://codecov.io/gh/apache/pinot/pull/8181/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8181?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8181?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [43e1298...41a107e](https://codecov.io/gh/apache/pinot/pull/8181?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117241445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117665375","html_url":"https://github.com/apache/pinot/issues/8638#issuecomment-1117665375","issue_url":"https://api.github.com/repos/apache/pinot/issues/8638","id":1117665375,"node_id":"IC_kwDOATCU_c5Cnjhf","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T18:24:51Z","updated_at":"2022-05-04T18:24:51Z","author_association":"CONTRIBUTOR","body":"cc @Jackie-Jiang @siddharthteotia ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117665375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117671074","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1117671074","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1117671074,"node_id":"IC_kwDOATCU_c5Cnk6i","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T18:31:20Z","updated_at":"2022-05-04T18:31:20Z","author_association":"CONTRIBUTOR","body":"current implementation of `ST_Contains`  is for Geometry only\r\nhttps://github.com/apache/pinot/blob/master/pinot-core/src/main/java/org/apache/pinot/core/geospatial/transform/function/StContainsFunction.java","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117671074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117671235","html_url":"https://github.com/apache/pinot/issues/6992#issuecomment-1117671235","issue_url":"https://api.github.com/repos/apache/pinot/issues/6992","id":1117671235,"node_id":"IC_kwDOATCU_c5Cnk9D","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T18:31:32Z","updated_at":"2022-05-04T18:31:32Z","author_association":"CONTRIBUTOR","body":"@KKcorps Can you please go through the test again and see if we can re-enable it","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117671235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117678468","html_url":"https://github.com/apache/pinot/issues/8632#issuecomment-1117678468","issue_url":"https://api.github.com/repos/apache/pinot/issues/8632","id":1117678468,"node_id":"IC_kwDOATCU_c5CnmuE","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T18:40:23Z","updated_at":"2022-05-04T18:40:23Z","author_association":"CONTRIBUTOR","body":"@KKcorps Agree that keeping it as JSON would be easier to use. We still need a single string representation though which can be used as the argument of the `DATE_TIME_CONVERT` function. The changes proposed here is for the existing `DateTimeFieldSpec` and `DATE_TIME_CONVERT` function, and we should do it in a backward compatible way.\r\nThe long term solution should be to introduce the `DATE_TIME` data type, which can take extra properties (e.g. `pattern`, `timeZone`).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117678468/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117687224","html_url":"https://github.com/apache/pinot/issues/8638#issuecomment-1117687224","issue_url":"https://api.github.com/repos/apache/pinot/issues/8638","id":1117687224,"node_id":"IC_kwDOATCU_c5Cno24","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T18:49:40Z","updated_at":"2022-05-04T18:49:40Z","author_association":"CONTRIBUTOR","body":"It think this issue is fixed in #8286. Can you please try the same job with the latest version?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117687224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117690198","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1117690198","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1117690198,"node_id":"IC_kwDOATCU_c5CnplW","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T18:52:25Z","updated_at":"2022-05-04T18:52:25Z","author_association":"CONTRIBUTOR","body":"> current implementation of `ST_Contains` is for Geometry only https://github.com/apache/pinot/blob/master/pinot-core/src/main/java/org/apache/pinot/core/geospatial/transform/function/StContainsFunction.java\r\n\r\n@yupeng9 Understood, but why does it not apply to the geography objects?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117690198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117709318","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1117709318","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1117709318,"node_id":"IC_kwDOATCU_c5CnuQG","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T19:06:12Z","updated_at":"2022-05-04T19:06:12Z","author_association":"CONTRIBUTOR","body":"> > current implementation of `ST_Contains` is for Geometry only https://github.com/apache/pinot/blob/master/pinot-core/src/main/java/org/apache/pinot/core/geospatial/transform/function/StContainsFunction.java\r\n> \r\n> @yupeng9 Understood, but why does it not apply to the geography objects?\r\n\r\nDifferent implementation, and I didn't scope it in the inital impl","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117709318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117720932","html_url":"https://github.com/apache/pinot/pull/8639#issuecomment-1117720932","issue_url":"https://api.github.com/repos/apache/pinot/issues/8639","id":1117720932,"node_id":"IC_kwDOATCU_c5CnxFk","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T19:16:43Z","updated_at":"2022-05-04T19:37:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8639?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8639](https://codecov.io/gh/apache/pinot/pull/8639?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (763e104) into [master](https://codecov.io/gh/apache/pinot/commit/9873ed9b967b25b64b94492df1490797a768fc2c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9873ed9) will **increase** coverage by `1.15%`.\n> The diff coverage is `85.35%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8639      +/-   ##\n============================================\n+ Coverage     69.46%   70.62%   +1.15%     \n- Complexity     4411     4412       +1     \n============================================\n  Files          1669     1677       +8     \n  Lines         87387    87708     +321     \n  Branches      13092    13146      +54     \n============================================\n+ Hits          60700    61940    +1240     \n+ Misses        22450    21479     -971     \n- Partials       4237     4289      +52     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.54% <0.35%> (-0.17%)` | :arrow_down: |\n| integration2 | `25.84% <0.00%> (?)` | |\n| unittests1 | `66.45% <85.09%> (+0.05%)` | :arrow_up: |\n| unittests2 | `14.29% <1.78%> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8639?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ion/function/FirstWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdFdpdGhUaW1lQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `49.27% <49.27%> (ø)` | |\n| [...gregation/function/AggregationFunctionFactory.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uRmFjdG9yeS5qYXZh) | `80.91% <60.00%> (-2.71%)` | :arrow_down: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `67.93% <100.00%> (+1.16%)` | :arrow_up: |\n| [...n/FirstDoubleValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdERvdWJsZVZhbHVlV2l0aFRpbWVBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...on/FirstFloatValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdEZsb2F0VmFsdWVXaXRoVGltZUFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `100.00% <100.00%> (ø)` | |\n| [...tion/FirstIntValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdEludFZhbHVlV2l0aFRpbWVBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...ion/FirstLongValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdExvbmdWYWx1ZVdpdGhUaW1lQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...n/FirstStringValueWithTimeAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9GaXJzdFN0cmluZ1ZhbHVlV2l0aFRpbWVBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `100.00% <100.00%> (ø)` | |\n| [...che/pinot/segment/spi/AggregationFunctionType.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1zcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3NlZ21lbnQvc3BpL0FnZ3JlZ2F0aW9uRnVuY3Rpb25UeXBlLmphdmE=) | `89.41% <100.00%> (+0.12%)` | :arrow_up: |\n| [...gment/local/function/InbuiltFunctionEvaluator.java](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9mdW5jdGlvbi9JbmJ1aWx0RnVuY3Rpb25FdmFsdWF0b3IuamF2YQ==) | `65.42% <0.00%> (-13.46%)` | :arrow_down: |\n| ... and [110 more](https://codecov.io/gh/apache/pinot/pull/8639/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8639?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8639?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [b317246...763e104](https://codecov.io/gh/apache/pinot/pull/8639?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117720932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117804574","html_url":"https://github.com/apache/pinot/issues/7430#issuecomment-1117804574","issue_url":"https://api.github.com/repos/apache/pinot/issues/7430","id":1117804574,"node_id":"IC_kwDOATCU_c5CoFge","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T19:52:34Z","updated_at":"2022-05-04T19:52:34Z","author_association":"CONTRIBUTOR","body":"Pinot deprecates PQL fully, only SQL endpoint is supported moving forward from 0.11.0 release.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117804574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117820745","html_url":"https://github.com/apache/pinot/issues/5807#issuecomment-1117820745","issue_url":"https://api.github.com/repos/apache/pinot/issues/5807","id":1117820745,"node_id":"IC_kwDOATCU_c5CoJdJ","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T19:57:45Z","updated_at":"2022-05-04T19:57:45Z","author_association":"CONTRIBUTOR","body":"Closed as #7430 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117820745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117852224","html_url":"https://github.com/apache/pinot/pull/8640#issuecomment-1117852224","issue_url":"https://api.github.com/repos/apache/pinot/issues/8640","id":1117852224,"node_id":"IC_kwDOATCU_c5CoRJA","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T20:16:14Z","updated_at":"2022-05-04T22:47:46Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8640?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8640](https://codecov.io/gh/apache/pinot/pull/8640?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (aedbb01) into [master](https://codecov.io/gh/apache/pinot/commit/d5740856f481c34808b7027c0fd1b6bff068d04d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d574085) will **decrease** coverage by `4.13%`.\n> The diff coverage is `100.00%`.\n\n> :exclamation: Current head aedbb01 differs from pull request most recent head 3206d2e. Consider uploading reports for the commit 3206d2e to get more accurate results\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8640      +/-   ##\n============================================\n- Coverage     70.59%   66.46%   -4.14%     \n+ Complexity     4411     4330      -81     \n============================================\n  Files          1677     1261     -416     \n  Lines         87707    63844   -23863     \n  Branches      13145     9920    -3225     \n============================================\n- Hits          61921    42434   -19487     \n+ Misses        21496    18402    -3094     \n+ Partials       4290     3008    -1282     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `66.46% <100.00%> (+0.03%)` | :arrow_up: |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8640?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../org/apache/pinot/core/common/MinionConstants.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vTWluaW9uQ29uc3RhbnRzLmphdmE=) | `0.00% <ø> (ø)` | |\n| [...gment/processing/timehandler/EpochTimeHandler.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvdGltZWhhbmRsZXIvRXBvY2hUaW1lSGFuZGxlci5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...ment/processing/timehandler/TimeHandlerConfig.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvdGltZWhhbmRsZXIvVGltZUhhbmRsZXJDb25maWcuamF2YQ==) | `100.00% <100.00%> (ø)` | |\n| [...ent/processing/timehandler/TimeHandlerFactory.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvdGltZWhhbmRsZXIvVGltZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `73.33% <100.00%> (ø)` | |\n| [...va/org/apache/pinot/core/routing/RoutingTable.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yb3V0aW5nL1JvdXRpbmdUYWJsZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...va/org/apache/pinot/common/config/NettyConfig.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL05ldHR5Q29uZmlnLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/metrics/MinionMeter.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25NZXRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...g/apache/pinot/common/metrics/ControllerMeter.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/BrokerQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJRdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/MinionQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25RdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [642 more](https://codecov.io/gh/apache/pinot/pull/8640/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8640?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8640?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [d574085...3206d2e](https://codecov.io/gh/apache/pinot/pull/8640?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1117852224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118016771","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1118016771","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1118016771,"node_id":"IC_kwDOATCU_c5Co5UD","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:14:01Z","updated_at":"2022-05-04T23:14:01Z","author_association":"CONTRIBUTOR","body":"> > > current implementation of `ST_Contains` is for Geometry only https://github.com/apache/pinot/blob/master/pinot-core/src/main/java/org/apache/pinot/core/geospatial/transform/function/StContainsFunction.java\r\n> > \r\n> > \r\n> > @yupeng9 Understood, but why does it not apply to the geography objects?\r\n> \r\n> Different implementation, and I didn't scope it in the inital impl\r\n\r\n@yupeng9 Is H3 index always based on the geography objects? If so, we cannot use H3 index for ST_Contains because that will give wrong result (mixing geometry calculation with geography calculation).\r\nAnother option is to allow using geometry contains on geography objects because they should give close estimation on small areas. It won't work for large areas though.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118016771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118020075","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1118020075","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1118020075,"node_id":"IC_kwDOATCU_c5Co6Hr","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:20:23Z","updated_at":"2022-05-04T23:20:23Z","author_association":"CONTRIBUTOR","body":"> > > > current implementation of `ST_Contains` is for Geometry only https://github.com/apache/pinot/blob/master/pinot-core/src/main/java/org/apache/pinot/core/geospatial/transform/function/StContainsFunction.java\r\n> > > \r\n> > > \r\n> > > @yupeng9 Understood, but why does it not apply to the geography objects?\r\n> > \r\n> > \r\n> > Different implementation, and I didn't scope it in the inital impl\r\n> \r\n> @yupeng9 Is H3 index always based on the geography objects? If so, we cannot use H3 index for ST_Contains because that will give wrong result (mixing geometry calculation with geography calculation). Another option is to allow using geometry contains on geography objects because they should give close estimation on small areas. It won't work for large areas though.\r\n\r\nYes, H3 is always based on geography. And yes, we can do approximation for small area.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118020075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118020139","html_url":"https://github.com/apache/pinot/pull/8642#issuecomment-1118020139","issue_url":"https://api.github.com/repos/apache/pinot/issues/8642","id":1118020139,"node_id":"IC_kwDOATCU_c5Co6Ir","user":{"login":"GSharayu","id":21273286,"node_id":"MDQ6VXNlcjIxMjczMjg2","avatar_url":"https://avatars.githubusercontent.com/u/21273286?v=4","gravatar_id":"","url":"https://api.github.com/users/GSharayu","html_url":"https://github.com/GSharayu","followers_url":"https://api.github.com/users/GSharayu/followers","following_url":"https://api.github.com/users/GSharayu/following{/other_user}","gists_url":"https://api.github.com/users/GSharayu/gists{/gist_id}","starred_url":"https://api.github.com/users/GSharayu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GSharayu/subscriptions","organizations_url":"https://api.github.com/users/GSharayu/orgs","repos_url":"https://api.github.com/users/GSharayu/repos","events_url":"https://api.github.com/users/GSharayu/events{/privacy}","received_events_url":"https://api.github.com/users/GSharayu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:20:30Z","updated_at":"2022-05-04T23:20:30Z","author_association":"CONTRIBUTOR","body":"@snleee @sajjad-moradi ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118020139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118029484","html_url":"https://github.com/apache/pinot/pull/8642#issuecomment-1118029484","issue_url":"https://api.github.com/repos/apache/pinot/issues/8642","id":1118029484,"node_id":"IC_kwDOATCU_c5Co8as","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T23:41:31Z","updated_at":"2022-05-04T23:53:27Z","author_association":"CONTRIBUTOR","body":"Current code is moving `SegmentAssignment` to `SegmentAssignmentStrategy`. Instead, we would like to separate out the logic for SegmentAssignmentStrategy from SegmentAssignment. Ideally, I think that the following structure is needed:\r\n\r\n```\r\n1. SegmentAssignementStrategy -> ReplicaGroupSegmentAssignmentStrategy, BalancedSegmentAssignmentStrategy, CostBasedSegmentAssignmentStrategy etc\r\n2. SegmentAssignment -> OfflineSegmentAssignment, RealtimeSegmentAssignment, etc\r\n```\r\n\r\n`Offline/RealtimeSegmentAssignment` implementation should pick replica group vs balanced based or other assignment strategy implementation on the table config.\r\n\r\nCurrent code requires the code modification directly to `OfflineSegmentAssignement or RealtimeSegmentAssignment` if we want to add a new type of assignment strategy. The goal should be making that pluggable. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118029484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118044178","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1118044178","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1118044178,"node_id":"IC_kwDOATCU_c5CpAAS","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T00:18:38Z","updated_at":"2022-05-05T00:18:38Z","author_association":"CONTRIBUTOR","body":"Then my suggestion is to remove the geometry check in the `StContainsFunction`, and we should document the behavior of using geometry contains for geography objects, which can give good estimation on small areas. We should also add a TODO to support accurate contains on geography objects in the future.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118044178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118058266","html_url":"https://github.com/apache/pinot/pull/8643#issuecomment-1118058266","issue_url":"https://api.github.com/repos/apache/pinot/issues/8643","id":1118058266,"node_id":"IC_kwDOATCU_c5CpDca","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T00:33:09Z","updated_at":"2022-05-05T00:50:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8643?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8643](https://codecov.io/gh/apache/pinot/pull/8643?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (14fdf35) into [master](https://codecov.io/gh/apache/pinot/commit/9bc1e059fb5974a8c49523d4e9be1bd47bd88181?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9bc1e05) will **decrease** coverage by `45.07%`.\n> The diff coverage is `81.48%`.\n\n> :exclamation: Current head 14fdf35 differs from pull request most recent head 59adf64. Consider uploading reports for the commit 59adf64 to get more accurate results\n\n```diff\n@@              Coverage Diff              @@\n##             master    #8643       +/-   ##\n=============================================\n- Coverage     70.67%   25.60%   -45.08%     \n=============================================\n  Files          1677     1664       -13     \n  Lines         87708    87349      -359     \n  Branches      13146    13106       -40     \n=============================================\n- Hits          61984    22362    -39622     \n- Misses        21440    62845    +41405     \n+ Partials       4284     2142     -2142     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `25.60% <81.48%> (-0.18%)` | :arrow_down: |\n| unittests1 | `?` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8643?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../pinot/controller/recommender/io/InputManager.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9yZWNvbW1lbmRlci9pby9JbnB1dE1hbmFnZXIuamF2YQ==) | `0.00% <0.00%> (-93.01%)` | :arrow_down: |\n| [...va/org/apache/pinot/spi/utils/CommonConstants.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `0.00% <ø> (-21.32%)` | :arrow_down: |\n| [...core/query/executor/ServerQueryExecutorV1Impl.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9leGVjdXRvci9TZXJ2ZXJRdWVyeUV4ZWN1dG9yVjFJbXBsLmphdmE=) | `79.45% <44.44%> (-2.74%)` | :arrow_down: |\n| [...e/pinot/core/query/reduce/BrokerReduceService.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQnJva2VyUmVkdWNlU2VydmljZS5qYXZh) | `81.39% <66.66%> (-11.63%)` | :arrow_down: |\n| [...uest/context/utils/QueryContextConverterUtils.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvdXRpbHMvUXVlcnlDb250ZXh0Q29udmVydGVyVXRpbHMuamF2YQ==) | `88.88% <88.88%> (-11.12%)` | :arrow_down: |\n| [...pinot/core/query/request/context/QueryContext.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvUXVlcnlDb250ZXh0LmphdmE=) | `93.20% <90.90%> (-5.83%)` | :arrow_down: |\n| [...g/apache/pinot/sql/parsers/CalciteSqlCompiler.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9DYWxjaXRlU3FsQ29tcGlsZXIuamF2YQ==) | `100.00% <100.00%> (ø)` | |\n| [.../pinot/core/query/reduce/ResultReducerFactory.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvUmVzdWx0UmVkdWNlckZhY3RvcnkuamF2YQ==) | `84.61% <100.00%> (+6.04%)` | :arrow_up: |\n| [...inot/core/query/reduce/StreamingReduceService.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvU3RyZWFtaW5nUmVkdWNlU2VydmljZS5qYXZh) | `71.15% <100.00%> (-11.20%)` | :arrow_down: |\n| [...e/pinot/core/query/request/ServerQueryRequest.java](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L1NlcnZlclF1ZXJ5UmVxdWVzdC5qYXZh) | `91.66% <100.00%> (-1.20%)` | :arrow_down: |\n| ... and [1231 more](https://codecov.io/gh/apache/pinot/pull/8643/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8643?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8643?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [9bc1e05...59adf64](https://codecov.io/gh/apache/pinot/pull/8643?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118058266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118067608","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1118067608","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1118067608,"node_id":"IC_kwDOATCU_c5CpFuY","user":{"login":"WangCHX","id":1172621,"node_id":"MDQ6VXNlcjExNzI2MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1172621?v=4","gravatar_id":"","url":"https://api.github.com/users/WangCHX","html_url":"https://github.com/WangCHX","followers_url":"https://api.github.com/users/WangCHX/followers","following_url":"https://api.github.com/users/WangCHX/following{/other_user}","gists_url":"https://api.github.com/users/WangCHX/gists{/gist_id}","starred_url":"https://api.github.com/users/WangCHX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WangCHX/subscriptions","organizations_url":"https://api.github.com/users/WangCHX/orgs","repos_url":"https://api.github.com/users/WangCHX/repos","events_url":"https://api.github.com/users/WangCHX/events{/privacy}","received_events_url":"https://api.github.com/users/WangCHX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T00:55:11Z","updated_at":"2022-05-05T00:55:11Z","author_association":"CONTRIBUTOR","body":"> Then my suggestion is to remove the geometry check in the `StContainsFunction`, and we should document the behavior of using geometry contains for geography objects, which can give good estimation on small areas. We should also add a TODO to support accurate contains on geography objects in the future.\r\n\r\nthanks Jackie and Yupeng. just curious why it is not accurate? My use case is checking all the coordinates inside a city polygon (like SF). is it small area or big area for a city like SF? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118067608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118089379","html_url":"https://github.com/apache/pinot/pull/8644#issuecomment-1118089379","issue_url":"https://api.github.com/repos/apache/pinot/issues/8644","id":1118089379,"node_id":"IC_kwDOATCU_c5CpLCj","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T01:47:50Z","updated_at":"2022-05-05T01:54:50Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8644?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8644](https://codecov.io/gh/apache/pinot/pull/8644?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (784860e) into [master](https://codecov.io/gh/apache/pinot/commit/784860e3b4b096c5233d051d9dbff62ec7310665?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (784860e) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n> :exclamation: Current head 784860e differs from pull request most recent head 7078d84. Consider uploading reports for the commit 7078d84 to get more accurate results\n\n```diff\n@@            Coverage Diff            @@\n##             master    #8644   +/-   ##\n=========================================\n  Coverage     63.77%   63.77%           \n  Complexity     4414     4414           \n=========================================\n  Files          1631     1631           \n  Lines         85784    85784           \n  Branches      12935    12935           \n=========================================\n  Hits          54707    54707           \n  Misses        27166    27166           \n  Partials       3911     3911           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests1 | `66.45% <0.00%> (ø)` | |\n| unittests2 | `14.32% <0.00%> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8644?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8644?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [784860e...7078d84](https://codecov.io/gh/apache/pinot/pull/8644?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118089379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118096297","html_url":"https://github.com/apache/pinot/pull/8645#issuecomment-1118096297","issue_url":"https://api.github.com/repos/apache/pinot/issues/8645","id":1118096297,"node_id":"IC_kwDOATCU_c5CpMup","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T02:05:16Z","updated_at":"2022-05-05T22:40:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8645?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8645](https://codecov.io/gh/apache/pinot/pull/8645?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6b2dc85) into [master](https://codecov.io/gh/apache/pinot/commit/60e2706533f3df040f96220228668a0efa16f86d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (60e2706) will **decrease** coverage by `0.07%`.\n> The diff coverage is `85.71%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #8645      +/-   ##\n============================================\n- Coverage     70.66%   70.58%   -0.08%     \n- Complexity     4406     4407       +1     \n============================================\n  Files          1676     1676              \n  Lines         87701    87708       +7     \n  Branches      13140    13144       +4     \n============================================\n- Hits          61970    61910      -60     \n- Misses        21447    21510      +63     \n- Partials       4284     4288       +4     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.58% <0.00%> (-0.08%)` | :arrow_down: |\n| integration2 | `25.71% <0.00%> (+0.08%)` | :arrow_up: |\n| unittests1 | `66.43% <ø> (+<0.01%)` | :arrow_up: |\n| unittests2 | `14.29% <85.71%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8645?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `85.49% <85.71%> (+2.43%)` | :arrow_up: |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-80.00%)` | :arrow_down: |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `43.56% <0.00%> (-18.82%)` | :arrow_down: |\n| [...data/manager/realtime/SegmentCommitterFactory.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudENvbW1pdHRlckZhY3RvcnkuamF2YQ==) | `88.23% <0.00%> (-11.77%)` | :arrow_down: |\n| [.../common/request/context/predicate/EqPredicate.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9FcVByZWRpY2F0ZS5qYXZh) | `61.53% <0.00%> (-7.70%)` | :arrow_down: |\n| [...transform/function/IsNotNullTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSXNOb3ROdWxsVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `67.85% <0.00%> (-7.15%)` | :arrow_down: |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `51.42% <0.00%> (-6.67%)` | :arrow_down: |\n| [...roller/helix/core/relocation/SegmentRelocator.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vU2VnbWVudFJlbG9jYXRvci5qYXZh) | `72.97% <0.00%> (-5.41%)` | :arrow_down: |\n| [.../pinot/core/query/scheduler/PriorityScheduler.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvUHJpb3JpdHlTY2hlZHVsZXIuamF2YQ==) | `80.82% <0.00%> (-2.74%)` | :arrow_down: |\n| [...ion/function/DistinctCountAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `49.32% <0.00%> (-2.70%)` | :arrow_down: |\n| ... and [12 more](https://codecov.io/gh/apache/pinot/pull/8645/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8645?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8645?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [60e2706...6b2dc85](https://codecov.io/gh/apache/pinot/pull/8645?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118096297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118106277","html_url":"https://github.com/apache/pinot/issues/8604#issuecomment-1118106277","issue_url":"https://api.github.com/repos/apache/pinot/issues/8604","id":1118106277,"node_id":"IC_kwDOATCU_c5CpPKl","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T02:28:08Z","updated_at":"2022-05-05T02:28:08Z","author_association":"CONTRIBUTOR","body":"@saumya2700 , as Saurabh has pointed out, you need to remove all the non-array fields from fieldsToUnnest. Here's what works. Schema should have, instead of just calActivity.metadata,\r\n```\r\n    {\r\n      \"name\": \"calActivity.metadata.activityType\",\r\n      \"dataType\": \"STRING\"\r\n    },\r\n    {\r\n      \"name\": \"calActivity.metadata.conf\",\r\n      \"dataType\": \"FLOAT\"\r\n    },\r\n```\r\nIngestion config should just have \r\n```\r\n\"complexTypeConfig\": {\r\n        \"fieldsToUnnest\": [\"calActivity.metadata\"]\r\n      }\r\n```\r\nYou dont need any transform functions, just this is enough.\r\n\r\nPlease try this out and let us know","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118106277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118109762","html_url":"https://github.com/apache/pinot/pull/8600#issuecomment-1118109762","issue_url":"https://api.github.com/repos/apache/pinot/issues/8600","id":1118109762,"node_id":"IC_kwDOATCU_c5CpQBC","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T02:36:18Z","updated_at":"2022-05-05T02:36:18Z","author_association":"CONTRIBUTOR","body":"@KKcorps let's revert this change, until we find a better way to fix. As per docs, https://docs.pinot.apache.org/basics/data-import/complex-type#handle-the-complex-type-with-ingestion-configurations basic flattening is triggered by having complexConfig, and fieldsToUnnest is just an addition for collections.\r\nI don't remember what was the exact issue the user was facing, maybe we can address it in a different way in the code within ComplexTransformer","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118109762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118137565","html_url":"https://github.com/apache/pinot/pull/8600#issuecomment-1118137565","issue_url":"https://api.github.com/repos/apache/pinot/issues/8600","id":1118137565,"node_id":"IC_kwDOATCU_c5CpWzd","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T03:51:27Z","updated_at":"2022-05-05T03:51:27Z","author_association":"CONTRIBUTOR","body":"yup, @Jackie-Jiang is right that this means users want to enable the flattening","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118137565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118198026","html_url":"https://github.com/apache/pinot/pull/8600#issuecomment-1118198026","issue_url":"https://api.github.com/repos/apache/pinot/issues/8600","id":1118198026,"node_id":"IC_kwDOATCU_c5CplkK","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T06:01:21Z","updated_at":"2022-05-05T06:03:34Z","author_association":"CONTRIBUTOR","body":"Ohh. I wasn't aware of the basic flattening. I will revert this.  @npawar the issue was that JSON fields were not getting parsed correctly because complex type transformation got applied first. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118198026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118205623","html_url":"https://github.com/apache/pinot/pull/8600#issuecomment-1118205623","issue_url":"https://api.github.com/repos/apache/pinot/issues/8600","id":1118205623,"node_id":"IC_kwDOATCU_c5Cpna3","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T06:06:11Z","updated_at":"2022-05-05T06:06:11Z","author_association":"CONTRIBUTOR","body":"That being said. Isn't an empty config doing something incorrect choice in itself? I guess there at least should be an 'enabled' / 'disabled' field.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118205623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118222392","html_url":"https://github.com/apache/pinot/pull/8587#issuecomment-1118222392","issue_url":"https://api.github.com/repos/apache/pinot/issues/8587","id":1118222392,"node_id":"IC_kwDOATCU_c5Cprg4","user":{"login":"kmozaid","id":8354145,"node_id":"MDQ6VXNlcjgzNTQxNDU=","avatar_url":"https://avatars.githubusercontent.com/u/8354145?v=4","gravatar_id":"","url":"https://api.github.com/users/kmozaid","html_url":"https://github.com/kmozaid","followers_url":"https://api.github.com/users/kmozaid/followers","following_url":"https://api.github.com/users/kmozaid/following{/other_user}","gists_url":"https://api.github.com/users/kmozaid/gists{/gist_id}","starred_url":"https://api.github.com/users/kmozaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kmozaid/subscriptions","organizations_url":"https://api.github.com/users/kmozaid/orgs","repos_url":"https://api.github.com/users/kmozaid/repos","events_url":"https://api.github.com/users/kmozaid/events{/privacy}","received_events_url":"https://api.github.com/users/kmozaid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T06:38:48Z","updated_at":"2022-05-05T06:39:11Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nSure, I will close this PR.\r\n\r\nOn segment refresh, I think you should do following in integration test -\r\n\r\n1. Upload a segment (say, with segmenName: test_segment_1) to a realtime table.\r\n2. Upload a segment with the same name that you used in step 1 and but with some different data in it (similar to purge task which removes some records and upload segment with same name).\r\n3. Assert that records are updated (may be count has changed if some records were removed in step 2) when you query the table.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118222392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118288066","html_url":"https://github.com/apache/pinot/pull/8646#issuecomment-1118288066","issue_url":"https://api.github.com/repos/apache/pinot/issues/8646","id":1118288066,"node_id":"IC_kwDOATCU_c5Cp7jC","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T08:17:26Z","updated_at":"2022-05-05T08:17:26Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/8646?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#8646](https://codecov.io/gh/apache/pinot/pull/8646?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b56a0ab) into [master](https://codecov.io/gh/apache/pinot/commit/2896b1a9dac810f9f835821d0e933854280496e8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2896b1a) will **decrease** coverage by `41.06%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #8646       +/-   ##\n=============================================\n- Coverage     70.67%   29.61%   -41.07%     \n=============================================\n  Files          1676     1664       -12     \n  Lines         87693    87338      -355     \n  Branches      13140    13101       -39     \n=============================================\n- Hits          61980    25867    -36113     \n- Misses        21417    59096    +37679     \n+ Partials       4296     2375     -1921     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `27.68% <0.00%> (+0.04%)` | :arrow_up: |\n| integration2 | `25.61% <0.00%> (-0.33%)` | :arrow_down: |\n| unittests1 | `?` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/8646?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ocal/recordtransformer/ComplexTypeTransformer.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9yZWNvcmR0cmFuc2Zvcm1lci9Db21wbGV4VHlwZVRyYW5zZm9ybWVyLmphdmE=) | `0.00% <0.00%> (-63.04%)` | :arrow_down: |\n| [...in/java/org/apache/pinot/spi/utils/StringUtil.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvU3RyaW5nVXRpbC5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../java/org/apache/pinot/spi/utils/BooleanUtils.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQm9vbGVhblV0aWxzLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/BaseRecording.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvQmFzZVJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/NoOpRecording.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvTm9PcFJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/table/FSTType.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0ZTVFR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/data/MetricFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9NZXRyaWNGaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/common/tier/TierFactory.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdGllci9UaWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/spi/config/table/TableType.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1RhYmxlVHlwZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/pinot/spi/data/DimensionFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9EaW1lbnNpb25GaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1135 more](https://codecov.io/gh/apache/pinot/pull/8646/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/pinot/pull/8646?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/pinot/pull/8646?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [2896b1a...b56a0ab](https://codecov.io/gh/apache/pinot/pull/8646?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118288066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118764881","html_url":"https://github.com/apache/pinot/issues/8634#issuecomment-1118764881","issue_url":"https://api.github.com/repos/apache/pinot/issues/8634","id":1118764881,"node_id":"IC_kwDOATCU_c5Crv9R","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T16:21:10Z","updated_at":"2022-05-05T17:57:42Z","author_association":"CONTRIBUTOR","body":"- It seems like there is a potential performance overhead associated with dynamic virtual call dispatch given that **\"vtable stub\"** shows up as taking top 22% of time. \r\n- This is most likely coming from return `_reader.read(docId)` in `FixedBitSVForwardIndexReaderV2` as the `read()` call has to be dispatched to the actual bit reader (1 of 32 types)\r\n- The function call overhead and in fact virtual dispatch overhead can probably be optimized if we convert the APIs to bulk based in SVScanDocIdIterator\r\n    -- `next()` gathers docIds in an array (will have to figure out the batch sizing etc)\r\n    -- calls `doesValueMatch` on array instead of a single docId\r\n    -- Call `FixedBitSVForwardIndexReaderV2.readDictIds()` instead of FixedBitSVForwardIndexReaderV2.getDictId as done in today's code\r\n    -- Call `_predicateEvaluator.applySV` on an array / batch of dictIds\r\n\r\n80% of the time is spent in doesValueMatch().\r\n\r\n- 60% in FixedBitSVForwardIndexReaderV2.getdictId\r\n- 10% each in accessing the outer class member variable (I am not super sure if this is even possible but can investigate)\r\n\r\n<img width=\"2509\" alt=\"Screen Shot 2022-05-05 at 9 17 12 AM\" src=\"https://user-images.githubusercontent.com/2150694/166967588-042a68e3-5398-46fe-ae2c-c520f9a044c8.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118764881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118789465","html_url":"https://github.com/apache/pinot/issues/8634#issuecomment-1118789465","issue_url":"https://api.github.com/repos/apache/pinot/issues/8634","id":1118789465,"node_id":"IC_kwDOATCU_c5Cr19Z","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T16:37:06Z","updated_at":"2022-05-05T16:37:06Z","author_association":"CONTRIBUTOR","body":"@vvivekiyer is going to take a stab at this. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118789465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118842729","html_url":"https://github.com/apache/pinot/issues/8635#issuecomment-1118842729","issue_url":"https://api.github.com/repos/apache/pinot/issues/8635","id":1118842729,"node_id":"IC_kwDOATCU_c5CsC9p","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T17:06:31Z","updated_at":"2022-05-05T17:06:31Z","author_association":"CONTRIBUTOR","body":"The `java.lang.UnsupportedOperationException: Unsupported data type : BYTES` seems due to missing case for BYTES in dictionary creator. @Jackie-Jiang `SegmentDictionaryCreator.indexOfMV` doesn't have `BYTES` case handled. Is that by design?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118842729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118846460","html_url":"https://github.com/apache/pinot/issues/8635#issuecomment-1118846460","issue_url":"https://api.github.com/repos/apache/pinot/issues/8635","id":1118846460,"node_id":"IC_kwDOATCU_c5CsD38","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T17:11:04Z","updated_at":"2022-05-05T17:11:04Z","author_association":"CONTRIBUTOR","body":"The other errors are due to casting in `PreIndexStatsCollector` classes. e.g. ` long value = (long) entry;` which throws error when entry is of type `Timestamp`. This definitely seems like a bug to me. Will work on the fix.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118846460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118872760","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1118872760","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1118872760,"node_id":"IC_kwDOATCU_c5CsKS4","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T17:42:21Z","updated_at":"2022-05-05T17:42:21Z","author_association":"CONTRIBUTOR","body":"> > Then my suggestion is to remove the geometry check in the `StContainsFunction`, and we should document the behavior of using geometry contains for geography objects, which can give good estimation on small areas. We should also add a TODO to support accurate contains on geography objects in the future.\r\n> \r\n> thanks Jackie and Yupeng. just curious why it is not accurate? My use case is checking all the coordinates inside a city polygon (like SF). is it small area or big area for a city like SF?\r\n\r\nIMO a single city on the earth sphere can be considered small area.\r\nI can see one exception area around longitude of -180/180, where geography and geometry will give very different result (in geography, -179.9 to 179.9 is a short distance, but in geometry that is a whole circle of the sphere). In other areas treating geography as geometry should give close approximation.\r\n@yupeng9 What do you think if we allow `ST_Contains` and `ST_Within` on geography but use the geometry algorithm?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118872760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118881563","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1118881563","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1118881563,"node_id":"IC_kwDOATCU_c5CsMcb","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T17:53:26Z","updated_at":"2022-05-05T17:53:26Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang is spot on. There are corner cases around the boundary, and thats the risk you have face with the approximation. Alternatively, you can explore the ST_Contains implementation for geography and add the proper impl to Pinot","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118881563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118882069","html_url":"https://github.com/apache/pinot/issues/8635#issuecomment-1118882069","issue_url":"https://api.github.com/repos/apache/pinot/issues/8635","id":1118882069,"node_id":"IC_kwDOATCU_c5CsMkV","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T17:54:01Z","updated_at":"2022-05-05T17:54:01Z","author_association":"CONTRIBUTOR","body":"Initially we don't support `BOOLEAN`, `TIMESTAMP`, `BYTES` as MV, and the support is added recently. Some paths might be missed, and we should fix them.\r\ncc @richardstartin ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118882069/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118885053","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1118885053","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1118885053,"node_id":"IC_kwDOATCU_c5CsNS9","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T17:57:36Z","updated_at":"2022-05-05T17:57:36Z","author_association":"CONTRIBUTOR","body":"I think we can merge this and update our documentation to warn about the behavior so that H3 index can be used for now. The geography support can be added in a separate PR. @yupeng9 wdyt?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118885053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118895319","html_url":"https://github.com/apache/pinot/pull/8620#issuecomment-1118895319","issue_url":"https://api.github.com/repos/apache/pinot/issues/8620","id":1118895319,"node_id":"IC_kwDOATCU_c5CsPzX","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-05T18:08:38Z","updated_at":"2022-05-05T18:08:38Z","author_association":"CONTRIBUTOR","body":"I'm fine with it. @WangCHX Please highlight this and put a warning in the user doc","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1118895319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]