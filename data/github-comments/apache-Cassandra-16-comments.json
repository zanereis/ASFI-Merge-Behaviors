[{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1249050961","html_url":"https://github.com/apache/cassandra/pull/1849#issuecomment-1249050961","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1849","id":1249050961,"node_id":"IC_kwDOAAMmWM5KcwFR","user":{"login":"jacek-lewandowski","id":6516951,"node_id":"MDQ6VXNlcjY1MTY5NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6516951?v=4","gravatar_id":"","url":"https://api.github.com/users/jacek-lewandowski","html_url":"https://github.com/jacek-lewandowski","followers_url":"https://api.github.com/users/jacek-lewandowski/followers","following_url":"https://api.github.com/users/jacek-lewandowski/following{/other_user}","gists_url":"https://api.github.com/users/jacek-lewandowski/gists{/gist_id}","starred_url":"https://api.github.com/users/jacek-lewandowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacek-lewandowski/subscriptions","organizations_url":"https://api.github.com/users/jacek-lewandowski/orgs","repos_url":"https://api.github.com/users/jacek-lewandowski/repos","events_url":"https://api.github.com/users/jacek-lewandowski/events{/privacy}","received_events_url":"https://api.github.com/users/jacek-lewandowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T08:05:28Z","updated_at":"2022-09-16T08:05:28Z","author_association":"CONTRIBUTOR","body":"Merged to trunk in 56ea39ec704a94b5d23cbe530548745ab2420cee","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1249050961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1252992240","html_url":"https://github.com/apache/cassandra/pull/1870#issuecomment-1252992240","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1870","id":1252992240,"node_id":"IC_kwDOAAMmWM5KryTw","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-20T22:46:27Z","updated_at":"2022-09-20T22:46:27Z","author_association":"CONTRIBUTOR","body":"https://app.circleci.com/pipelines/github/maedhroz/cassandra?branch=CASSANDRA-14218%2Ftrunk","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1252992240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1253909658","html_url":"https://github.com/apache/cassandra/pull/1870#issuecomment-1253909658","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1870","id":1253909658,"node_id":"IC_kwDOAAMmWM5KvSSa","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-21T15:58:32Z","updated_at":"2022-09-21T15:58:32Z","author_association":"CONTRIBUTOR","body":"CI is green","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1253909658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1255210353","html_url":"https://github.com/apache/cassandra/pull/1870#issuecomment-1255210353","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1870","id":1255210353,"node_id":"IC_kwDOAAMmWM5K0P1x","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-22T15:40:02Z","updated_at":"2022-09-22T15:40:02Z","author_association":"CONTRIBUTOR","body":"Committed in https://github.com/apache/cassandra/commit/7adfdc85cf5c1cb505e6507e5c08de84834c2224","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1255210353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1256900058","html_url":"https://github.com/apache/cassandra/pull/1878#issuecomment-1256900058","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1878","id":1256900058,"node_id":"IC_kwDOAAMmWM5K6sXa","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-24T07:52:51Z","updated_at":"2022-09-24T07:52:51Z","author_association":"CONTRIBUTOR","body":"hi @XV4DE , what is the jira ticket this patch is for? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1256900058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1261258016","html_url":"https://github.com/apache/cassandra/pull/1723#issuecomment-1261258016","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1723","id":1261258016,"node_id":"IC_kwDOAAMmWM5LLUUg","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T17:50:08Z","updated_at":"2022-09-28T17:50:08Z","author_association":"CONTRIBUTOR","body":"nit: Not covered by the patch, but `SkipListMemtableFactory` has unused imports for `Map` and `ParameterizedClass`","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1261258016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1261877286","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1261877286","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1261877286,"node_id":"IC_kwDOAAMmWM5LNrgm","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T07:27:55Z","updated_at":"2022-09-30T06:06:54Z","author_association":"CONTRIBUTOR","body":"CI:\r\n- [Circle](https://app.circleci.com/pipelines/github/bereng/cassandra/764/workflows/6a0bd156-6942-4830-88b5-715d65b9821d)\r\n- [Jenkins](https://ci-cassandra.apache.org/view/all/job/Cassandra-devbranch/1954/)\r\n\r\nThe rolling upgrade failure is a 10% flaky under investigation","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1261877286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1263045812","html_url":"https://github.com/apache/cassandra/pull/1878#issuecomment-1263045812","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1878","id":1263045812,"node_id":"IC_kwDOAAMmWM5LSIy0","user":{"login":"xvade","id":61475659,"node_id":"MDQ6VXNlcjYxNDc1NjU5","avatar_url":"https://avatars.githubusercontent.com/u/61475659?v=4","gravatar_id":"","url":"https://api.github.com/users/xvade","html_url":"https://github.com/xvade","followers_url":"https://api.github.com/users/xvade/followers","following_url":"https://api.github.com/users/xvade/following{/other_user}","gists_url":"https://api.github.com/users/xvade/gists{/gist_id}","starred_url":"https://api.github.com/users/xvade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvade/subscriptions","organizations_url":"https://api.github.com/users/xvade/orgs","repos_url":"https://api.github.com/users/xvade/repos","events_url":"https://api.github.com/users/xvade/events{/privacy}","received_events_url":"https://api.github.com/users/xvade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T02:58:32Z","updated_at":"2022-09-30T02:58:32Z","author_association":"CONTRIBUTOR","body":"> hi @XV4DE , what is the jira ticket this patch is for? Thanks.\r\n\r\n@smiklosovic https://issues.apache.org/jira/browse/CASSANDRA-17221","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1263045812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1263047033","html_url":"https://github.com/apache/cassandra/pull/1878#issuecomment-1263047033","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1878","id":1263047033,"node_id":"IC_kwDOAAMmWM5LSJF5","user":{"login":"xvade","id":61475659,"node_id":"MDQ6VXNlcjYxNDc1NjU5","avatar_url":"https://avatars.githubusercontent.com/u/61475659?v=4","gravatar_id":"","url":"https://api.github.com/users/xvade","html_url":"https://github.com/xvade","followers_url":"https://api.github.com/users/xvade/followers","following_url":"https://api.github.com/users/xvade/following{/other_user}","gists_url":"https://api.github.com/users/xvade/gists{/gist_id}","starred_url":"https://api.github.com/users/xvade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvade/subscriptions","organizations_url":"https://api.github.com/users/xvade/orgs","repos_url":"https://api.github.com/users/xvade/repos","events_url":"https://api.github.com/users/xvade/events{/privacy}","received_events_url":"https://api.github.com/users/xvade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T03:01:06Z","updated_at":"2022-09-30T03:01:06Z","author_association":"CONTRIBUTOR","body":"> I feel that the patch is nearly ready. The main issue for me, outside of the fact that the new dependency go lost along the way, is that the tests are a bit limited.\r\n\r\nHi @blerer, what are you looking for in the tests that you don't see? Is there a class I could model off of to improve them?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1263047033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1267693667","html_url":"https://github.com/apache/cassandra/pull/1898#issuecomment-1267693667","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1898","id":1267693667,"node_id":"IC_kwDOAAMmWM5Lj3hj","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T22:57:24Z","updated_at":"2022-10-04T22:57:24Z","author_association":"CONTRIBUTOR","body":"https://app.circleci.com/pipelines/github/maedhroz/cassandra?branch=CASSANDRA-17927-4.1","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1267693667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1268683073","html_url":"https://github.com/apache/cassandra/pull/1901#issuecomment-1268683073","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1901","id":1268683073,"node_id":"IC_kwDOAAMmWM5LnpFB","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T16:49:14Z","updated_at":"2022-10-05T16:49:14Z","author_association":"CONTRIBUTOR","body":"https://app.circleci.com/pipelines/github/maedhroz/cassandra?branch=CASSANDRA-17927-trunk","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1268683073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1268858411","html_url":"https://github.com/apache/cassandra/pull/1898#issuecomment-1268858411","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1898","id":1268858411,"node_id":"IC_kwDOAAMmWM5LoT4r","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T19:23:38Z","updated_at":"2022-10-05T19:23:38Z","author_association":"CONTRIBUTOR","body":"Committed as https://github.com/apache/cassandra/commit/8419fb21e016389f15be0954e8721cf4f6918249","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1268858411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1268859453","html_url":"https://github.com/apache/cassandra/pull/1901#issuecomment-1268859453","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1901","id":1268859453,"node_id":"IC_kwDOAAMmWM5LoUI9","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T19:24:31Z","updated_at":"2022-10-05T19:24:31Z","author_association":"CONTRIBUTOR","body":"Committed as https://github.com/apache/cassandra/commit/3d0bf61d435b6bdcbf4728f289162afbcaf6c300","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1268859453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1269609749","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1269609749","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1269609749,"node_id":"IC_kwDOAAMmWM5LrLUV","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T08:49:08Z","updated_at":"2022-10-06T08:49:08Z","author_association":"CONTRIBUTOR","body":"Rebased + fixed the unrelated rolling upgrade test. Green [CI](https://app.circleci.com/pipelines/github/bereng/cassandra/793/workflows/c4836865-d106-4c7c-8f3f-d7b2df899aa0)","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1269609749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1271573281","html_url":"https://github.com/apache/cassandra/pull/1878#issuecomment-1271573281","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1878","id":1271573281,"node_id":"IC_kwDOAAMmWM5Lyqsh","user":{"login":"blerer","id":6393833,"node_id":"MDQ6VXNlcjYzOTM4MzM=","avatar_url":"https://avatars.githubusercontent.com/u/6393833?v=4","gravatar_id":"","url":"https://api.github.com/users/blerer","html_url":"https://github.com/blerer","followers_url":"https://api.github.com/users/blerer/followers","following_url":"https://api.github.com/users/blerer/following{/other_user}","gists_url":"https://api.github.com/users/blerer/gists{/gist_id}","starred_url":"https://api.github.com/users/blerer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blerer/subscriptions","organizations_url":"https://api.github.com/users/blerer/orgs","repos_url":"https://api.github.com/users/blerer/repos","events_url":"https://api.github.com/users/blerer/events{/privacy}","received_events_url":"https://api.github.com/users/blerer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T13:10:27Z","updated_at":"2022-10-07T13:10:27Z","author_association":"CONTRIBUTOR","body":"What I had in mind was something like:\r\n```\r\n   @Test\r\n    public void testAbs()\r\n    {\r\n        assertAbsEquals(1, Int32Type.instance, 1);\r\n        assertAbsEquals(0, Int32Type.instance, 0);\r\n        assertAbsEquals(3, Int32Type.instance, -3);\r\n\r\n        assertAbsEquals((byte) 1, ByteType.instance, (byte) 1);\r\n        assertAbsEquals((byte) 0, ByteType.instance, (byte) 0);\r\n        assertAbsEquals((byte) 3, ByteType.instance, (byte) -3);\r\n\r\n        assertAbsEquals((short) 1, ShortType.instance, (short) 1);\r\n        assertAbsEquals((short) 0, ShortType.instance, (short) 0);\r\n        assertAbsEquals((short) 3, ShortType.instance, (short) -3);\r\n\r\n        assertAbsEquals(1F, FloatType.instance, 1F);\r\n        assertAbsEquals(1.5F, FloatType.instance, 1.5F);\r\n        assertAbsEquals(0F, FloatType.instance, 0F);\r\n        assertAbsEquals(3F, FloatType.instance, -3F);\r\n        assertAbsEquals(3.7F, FloatType.instance, -3.7F);\r\n\r\n        for (AbstractType<Long> type : new AbstractType[]{LongType.instance, CounterColumnType.instance})\r\n        {\r\n            assertAbsEquals(1L, LongType.instance, 1L);\r\n            assertAbsEquals(0L, LongType.instance, 0L);\r\n            assertAbsEquals(3L, LongType.instance, -3L);\r\n        }\r\n\r\n        assertAbsEquals(1.0, DoubleType.instance, 1.0);\r\n        assertAbsEquals(1.5, DoubleType.instance, 1.5);\r\n        assertAbsEquals(0.0, DoubleType.instance, 0.0);\r\n        assertAbsEquals(3.0, DoubleType.instance, -3.0);\r\n        assertAbsEquals(3.7, DoubleType.instance, -3.7);\r\n\r\n        assertAbsEquals(BigInteger.ONE, IntegerType.instance, BigInteger.ONE);\r\n        assertAbsEquals(BigInteger.ZERO, IntegerType.instance, BigInteger.ZERO);\r\n        assertAbsEquals(BigInteger.valueOf(3), IntegerType.instance, BigInteger.valueOf(-3));\r\n\r\n        assertAbsEquals(BigDecimal.ONE, DecimalType.instance, BigDecimal.ONE);\r\n        assertAbsEquals(BigDecimal.valueOf(1.5), DecimalType.instance, BigDecimal.valueOf(1.5));\r\n        assertAbsEquals(BigDecimal.ZERO, DecimalType.instance, BigDecimal.ZERO);\r\n        assertAbsEquals(BigDecimal.valueOf(3), DecimalType.instance, BigDecimal.valueOf(-3));\r\n        assertAbsEquals(BigDecimal.valueOf(3.7), DecimalType.instance, BigDecimal.valueOf(-3.7));\r\n    }\r\n\r\n    private <T extends Number> void assertAbsEquals(T expected, NumberType<T> inputType, T inputValue)\r\n    {\r\n        assertFctEquals(MathFcts.absFct(inputType), expected, inputType, inputValue);\r\n    }\r\n\r\n    private <T extends Number> void assertFctEquals(ScalarFunction fct, T expected, NumberType<T> inputType, T inputValue)\r\n    {\r\n        ByteBuffer input = inputType.decompose(inputValue);\r\n        assertEquals(expected, inputType.compose(executeFunction(fct, input)));\r\n    }\r\n```\r\nIt makes the test a bit easier to read and we test each functions with the same input values","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1271573281/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1272608576","html_url":"https://github.com/apache/cassandra/pull/1902#issuecomment-1272608576","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1902","id":1272608576,"node_id":"IC_kwDOAAMmWM5L2ndA","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T19:06:36Z","updated_at":"2022-10-09T19:06:36Z","author_association":"MEMBER","body":"@ekaterinadimitrova2 , wanna check this? (i'm not familiar with the `-a` flag) \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1272608576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1272784503","html_url":"https://github.com/apache/cassandra/pull/1902#issuecomment-1272784503","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1902","id":1272784503,"node_id":"IC_kwDOAAMmWM5L3SZ3","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T04:51:09Z","updated_at":"2022-10-10T04:51:09Z","author_association":"CONTRIBUTOR","body":"The \"-a\" flag was added in b6678a002cfa00be2068d499c5b7ce9c515bbc4e, but the README wasn't updated at the time","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1272784503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1274934616","html_url":"https://github.com/apache/cassandra/pull/1895#issuecomment-1274934616","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1895","id":1274934616,"node_id":"IC_kwDOAAMmWM5L_fVY","user":{"login":"aweisberg","id":1047741,"node_id":"MDQ6VXNlcjEwNDc3NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1047741?v=4","gravatar_id":"","url":"https://api.github.com/users/aweisberg","html_url":"https://github.com/aweisberg","followers_url":"https://api.github.com/users/aweisberg/followers","following_url":"https://api.github.com/users/aweisberg/following{/other_user}","gists_url":"https://api.github.com/users/aweisberg/gists{/gist_id}","starred_url":"https://api.github.com/users/aweisberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aweisberg/subscriptions","organizations_url":"https://api.github.com/users/aweisberg/orgs","repos_url":"https://api.github.com/users/aweisberg/repos","events_url":"https://api.github.com/users/aweisberg/events{/privacy}","received_events_url":"https://api.github.com/users/aweisberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-11T16:04:25Z","updated_at":"2022-10-11T16:04:25Z","author_association":"CONTRIBUTOR","body":"Committed as [3bdd2caa22a0413929188536b41d8117177574fa|https://github.com/apache/cassandra/commit/3bdd2caa22a0413929188536b41d8117177574fa].","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1274934616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1277633923","html_url":"https://github.com/apache/cassandra/pull/1877#issuecomment-1277633923","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1877","id":1277633923,"node_id":"IC_kwDOAAMmWM5MJyWD","user":{"login":"jbarotin","id":4245508,"node_id":"MDQ6VXNlcjQyNDU1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4245508?v=4","gravatar_id":"","url":"https://api.github.com/users/jbarotin","html_url":"https://github.com/jbarotin","followers_url":"https://api.github.com/users/jbarotin/followers","following_url":"https://api.github.com/users/jbarotin/following{/other_user}","gists_url":"https://api.github.com/users/jbarotin/gists{/gist_id}","starred_url":"https://api.github.com/users/jbarotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbarotin/subscriptions","organizations_url":"https://api.github.com/users/jbarotin/orgs","repos_url":"https://api.github.com/users/jbarotin/repos","events_url":"https://api.github.com/users/jbarotin/events{/privacy}","received_events_url":"https://api.github.com/users/jbarotin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T13:40:20Z","updated_at":"2022-10-13T13:40:20Z","author_association":"CONTRIBUTOR","body":"Merged in https://github.com/apache/cassandra/pull/1909","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1277633923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1277634311","html_url":"https://github.com/apache/cassandra/pull/1876#issuecomment-1277634311","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1876","id":1277634311,"node_id":"IC_kwDOAAMmWM5MJycH","user":{"login":"jbarotin","id":4245508,"node_id":"MDQ6VXNlcjQyNDU1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4245508?v=4","gravatar_id":"","url":"https://api.github.com/users/jbarotin","html_url":"https://github.com/jbarotin","followers_url":"https://api.github.com/users/jbarotin/followers","following_url":"https://api.github.com/users/jbarotin/following{/other_user}","gists_url":"https://api.github.com/users/jbarotin/gists{/gist_id}","starred_url":"https://api.github.com/users/jbarotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbarotin/subscriptions","organizations_url":"https://api.github.com/users/jbarotin/orgs","repos_url":"https://api.github.com/users/jbarotin/repos","events_url":"https://api.github.com/users/jbarotin/events{/privacy}","received_events_url":"https://api.github.com/users/jbarotin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T13:40:38Z","updated_at":"2022-10-13T13:40:38Z","author_association":"CONTRIBUTOR","body":"Merged in https://github.com/apache/cassandra/pull/1909","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1277634311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1277634687","html_url":"https://github.com/apache/cassandra/pull/1875#issuecomment-1277634687","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1875","id":1277634687,"node_id":"IC_kwDOAAMmWM5MJyh_","user":{"login":"jbarotin","id":4245508,"node_id":"MDQ6VXNlcjQyNDU1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4245508?v=4","gravatar_id":"","url":"https://api.github.com/users/jbarotin","html_url":"https://github.com/jbarotin","followers_url":"https://api.github.com/users/jbarotin/followers","following_url":"https://api.github.com/users/jbarotin/following{/other_user}","gists_url":"https://api.github.com/users/jbarotin/gists{/gist_id}","starred_url":"https://api.github.com/users/jbarotin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbarotin/subscriptions","organizations_url":"https://api.github.com/users/jbarotin/orgs","repos_url":"https://api.github.com/users/jbarotin/repos","events_url":"https://api.github.com/users/jbarotin/events{/privacy}","received_events_url":"https://api.github.com/users/jbarotin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T13:40:53Z","updated_at":"2022-10-13T13:40:53Z","author_association":"CONTRIBUTOR","body":"Merged in https://github.com/apache/cassandra/pull/1909","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1277634687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1280581773","html_url":"https://github.com/apache/cassandra/pull/1904#issuecomment-1280581773","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1904","id":1280581773,"node_id":"IC_kwDOAAMmWM5MVCCN","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T09:41:44Z","updated_at":"2022-10-17T09:41:44Z","author_association":"MEMBER","body":"It's unclear to me why 00096ff0a644dd0fd0c00e688587ff077f4c260d is included in this PR …?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1280581773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1280587062","html_url":"https://github.com/apache/cassandra/pull/1902#issuecomment-1280587062","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1902","id":1280587062,"node_id":"IC_kwDOAAMmWM5MVDU2","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T09:46:12Z","updated_at":"2022-10-17T09:46:12Z","author_association":"MEMBER","body":"it looks like this PR is superseded by https://github.com/apache/cassandra/compare/cassandra-3.0...ekaterinadimitrova2:cassandra:17912-3.0?expand=1#diff-bac3a4a2bbeacb51b8f29f5dffbadbfc89f5960f84c0656e6c94c3e1d83a3442R79-R88 and CASSANDRA-17912 ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1280587062/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1280857027","html_url":"https://github.com/apache/cassandra/pull/1904#issuecomment-1280857027","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1904","id":1280857027,"node_id":"IC_kwDOAAMmWM5MWFPD","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T13:25:17Z","updated_at":"2022-10-17T13:25:17Z","author_association":"CONTRIBUTOR","body":"I can separate it out. This is part of work to parameterize the CircleCI\nconfig instead of using patch files to modify parameters. The former is\nwell-defined for CircleCI yaml while the patch approach is clunky and\nerror-prone. Is that worth a CEP or just a discussion on the mailing list?\n\nThanks,\n\nDerek\n\nOn Mon, Oct 17, 2022, 3:41 AM mck ***@***.***> wrote:\n\n> It's unclear to me why 00096ff\n> <https://github.com/apache/cassandra/commit/00096ff0a644dd0fd0c00e688587ff077f4c260d>\n> is included in this PR …?\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/cassandra/pull/1904#issuecomment-1280581773>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAAGCGWU7C4QU5CDSEYRDHTWDUNOHANCNFSM6AAAAAARBLSDQQ>\n> .\n> You are receiving this because you authored the thread.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1280857027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1280910511","html_url":"https://github.com/apache/cassandra/pull/1904#issuecomment-1280910511","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1904","id":1280910511,"node_id":"IC_kwDOAAMmWM5MWSSv","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T14:00:26Z","updated_at":"2022-10-17T14:00:26Z","author_association":"MEMBER","body":"> I can separate it out. This is part of work to parameterize the CircleCI config instead of using patch files to modify parameters. The former is well-defined for CircleCI yaml while the patch approach is clunky and error-prone. Is that worth a CEP or just a discussion on the mailing list?\r\n\r\nJust a separate ticket and PR. (I don't disagree with it, just that we can't sneak it in under this PR and ticket.)","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1280910511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1281017489","html_url":"https://github.com/apache/cassandra/pull/1904#issuecomment-1281017489","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1904","id":1281017489,"node_id":"IC_kwDOAAMmWM5MWsaR","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T15:04:57Z","updated_at":"2022-10-17T15:04:57Z","author_association":"CONTRIBUTOR","body":"Sure thing, I'll open a ticket and separate PR.\n\nCheers,\n\nDerek\n\nOn Mon, Oct 17, 2022, 8:00 AM mck ***@***.***> wrote:\n\n> I can separate it out. This is part of work to parameterize the CircleCI\n> config instead of using patch files to modify parameters. The former is\n> well-defined for CircleCI yaml while the patch approach is clunky and\n> error-prone. Is that worth a CEP or just a discussion on the mailing list?\n>\n> Just a separate ticket and PR. (I don't disagree with it, just that we\n> can't sneak it in under this PR and ticket.)\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/cassandra/pull/1904#issuecomment-1280910511>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAAGCGVJIPCOC4WHNAGVWHLWDVLYJANCNFSM6AAAAAARBLSDQQ>\n> .\n> You are receiving this because you authored the thread.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1281017489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1283287493","html_url":"https://github.com/apache/cassandra/pull/1904#issuecomment-1283287493","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1904","id":1283287493,"node_id":"IC_kwDOAAMmWM5MfWnF","user":{"login":"ekaterinadimitrova2","id":32201392,"node_id":"MDQ6VXNlcjMyMjAxMzky","avatar_url":"https://avatars.githubusercontent.com/u/32201392?v=4","gravatar_id":"","url":"https://api.github.com/users/ekaterinadimitrova2","html_url":"https://github.com/ekaterinadimitrova2","followers_url":"https://api.github.com/users/ekaterinadimitrova2/followers","following_url":"https://api.github.com/users/ekaterinadimitrova2/following{/other_user}","gists_url":"https://api.github.com/users/ekaterinadimitrova2/gists{/gist_id}","starred_url":"https://api.github.com/users/ekaterinadimitrova2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekaterinadimitrova2/subscriptions","organizations_url":"https://api.github.com/users/ekaterinadimitrova2/orgs","repos_url":"https://api.github.com/users/ekaterinadimitrova2/repos","events_url":"https://api.github.com/users/ekaterinadimitrova2/events{/privacy}","received_events_url":"https://api.github.com/users/ekaterinadimitrova2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T02:08:24Z","updated_at":"2022-10-19T02:10:34Z","author_association":"CONTRIBUTOR","body":"Thank you for your work. There are a few things here which we need to work out:\r\n1) Adding new jobs requires recreating the patches. (as per the instructions in the readme). Even if the patch applies, it might be moving things to different lines. If you try now to run `.circleci/generate.sh -m` you get:\r\n```\r\nGenerating new config.yml file with middle resources from config-2_1.yml\r\npatching file .circleci/config-2_1.yml\r\nHunk #1 succeeded at 111 (offset 6 lines).\r\nHunk #2 succeeded at 126 (offset 6 lines).\r\nHunk #3 succeeded at 168 (offset 6 lines).\r\nHunk #4 succeeded at 931 (offset 34 lines).\r\nHunk #5 succeeded at 945 with fuzz 1 (offset 34 lines).\r\nHunk #6 succeeded at 960 with fuzz 1 (offset 34 lines).\r\nHunk #7 succeeded at 974 (offset 34 lines).\r\nHunk #8 succeeded at 989 (offset 34 lines).\r\nHunk #9 succeeded at 1003 (offset 34 lines).\r\nHunk #10 succeeded at 1018 (offset 34 lines).\r\nHunk #11 succeeded at 1036 (offset 34 lines).\r\nHunk #12 succeeded at 1051 (offset 34 lines).\r\nHunk #13 succeeded at 1069 (offset 34 lines).\r\nHunk #14 succeeded at 1084 (offset 34 lines).\r\nHunk #15 succeeded at 1102 (offset 34 lines).\r\nHunk #16 succeeded at 1117 (offset 34 lines).\r\n```\r\n\r\nI just tried the following to regenerate the patches on your branch:\r\n\r\n# apply old patches (with hunk messages)\r\npatch -o config-2_1.yml.MIDRES config-2_1.yml config-2_1.yml.mid_res.patch\r\npatch -o config-2_1.yml.HIGHRES config-2_1.yml config-2_1.yml.high_res.patch\r\n\r\n# generate new patches\r\ndiff -u config-2_1.yml config-2_1.yml.HIGHRES > config-2_1.yml.high_res.patch\r\ndiff -u config-2_1.yml config-2_1.yml.MIDRES > config-2_1.yml.mid_res.patch\r\n\r\n# verify that the new patches generate the same files and cleanup\r\n./generate.sh -a\"\r\n\r\nThis actually created some diff which was missing and it shows me that the update was not accurately done. (The parameter from the commit which is still not removed popped up now)\r\n\r\nAll in all the main goal is to ensure that when we apply the patches they create MIDRES and HIGHRES with all resources assigned to the old jobs as they were and raises the resources for the new job with the resources we want. Nothing more, nothing less. \r\n\r\n2) How were the midres resources chosen? Is there a CI run? I guess you just used the same resources as the regular dtests jobs which we have already? I would probably start from there too, but we need also to test. Do you have a paid account to run them or do you need help?\r\n\r\n3) This is trunk, I thought we aim to align all branches? In this case those tests run in Jenkins on 3.11+\r\nNormally we start creating patches on the lowest C* version we target branch and propagate up to trunk. You might want to check the Development section on our web site. \r\n\r\n4) Agreed with @michaelsembwever, the second commit deserves its own ticket and commit\r\n\r\n3) Andres committed today a patch that adds repeated jobs pre-commit, detection of changed/added new tests. You will need to rebase and figure out how your patch is affected. ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1283287493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1283293585","html_url":"https://github.com/apache/cassandra/pull/1904#issuecomment-1283293585","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1904","id":1283293585,"node_id":"IC_kwDOAAMmWM5MfYGR","user":{"login":"ekaterinadimitrova2","id":32201392,"node_id":"MDQ6VXNlcjMyMjAxMzky","avatar_url":"https://avatars.githubusercontent.com/u/32201392?v=4","gravatar_id":"","url":"https://api.github.com/users/ekaterinadimitrova2","html_url":"https://github.com/ekaterinadimitrova2","followers_url":"https://api.github.com/users/ekaterinadimitrova2/followers","following_url":"https://api.github.com/users/ekaterinadimitrova2/following{/other_user}","gists_url":"https://api.github.com/users/ekaterinadimitrova2/gists{/gist_id}","starred_url":"https://api.github.com/users/ekaterinadimitrova2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekaterinadimitrova2/subscriptions","organizations_url":"https://api.github.com/users/ekaterinadimitrova2/orgs","repos_url":"https://api.github.com/users/ekaterinadimitrova2/repos","events_url":"https://api.github.com/users/ekaterinadimitrova2/events{/privacy}","received_events_url":"https://api.github.com/users/ekaterinadimitrova2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T02:14:49Z","updated_at":"2022-10-19T02:14:49Z","author_association":"CONTRIBUTOR","body":"PS I didn't check what you run exactly in the jobs for now as I assumed it was mostly copy-paste. I will double-check this tomorrow, it's already late","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1283293585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1284288101","html_url":"https://github.com/apache/cassandra/pull/1904#issuecomment-1284288101","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1904","id":1284288101,"node_id":"IC_kwDOAAMmWM5MjK5l","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T16:37:22Z","updated_at":"2022-10-19T16:37:46Z","author_association":"CONTRIBUTOR","body":"To be clear, this PR was just to confirm I'm on the right path. Apologies if I made it sound like this was intended as a final patch. Having never worked with CircleCI before I just wasn't sure I was making the right change. Answers to your points follow:\r\n\r\n1. I can certainly generate the patches if the base change looks correct. I do think we should consider abandoning the patch approach and switching to parameterized CircleCI config instead. The circleci CLI tool (most recent version) can take a second yaml file with the parameters and apply them to generate the LOW/MID/HIGHRES files instead, which is much less error prone and much simpler to reason about. The first commit (point 4) is an example of how that's done, so is the best approach there to open a new ticket for that work?\r\n\r\n2. I don't have a paid account.  When you say \"midres resources\" I'm not sure what you mean. I copied the job configuration for the offheap test run directly from the existing offheap test run in Jenkins. The num-tokens parameter is what every other test in the harness is using\r\n\r\n3. I can certainly start with 3.11. Again, this was just a \"am I doing this right\" PR for review, not a final review. In regards to that, though, a quick perusal seems to indicate that the different branches are also diverged, but it's not clear what's meaningful. Everything but trunk has some extra comments and different names. This doesn't seem scalable, and I wonder if we should start with how we can simplify the build system in general before piling onto an already complex amalgam\r\n\r\n4. In line with the previous comment, given how difficult it's been to figure out things on one branch, and then looking at the diffs across branches, I'm thinking maybe I should start with simplifying the build via parameterization (and other changes) before adding more tests\r\n\r\n5. Let me figure out items 3 and 4 before I do any more work in the direction of adding tests","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1284288101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1286372093","html_url":"https://github.com/apache/cassandra/pull/1904#issuecomment-1286372093","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1904","id":1286372093,"node_id":"IC_kwDOAAMmWM5MrHr9","user":{"login":"ekaterinadimitrova2","id":32201392,"node_id":"MDQ6VXNlcjMyMjAxMzky","avatar_url":"https://avatars.githubusercontent.com/u/32201392?v=4","gravatar_id":"","url":"https://api.github.com/users/ekaterinadimitrova2","html_url":"https://github.com/ekaterinadimitrova2","followers_url":"https://api.github.com/users/ekaterinadimitrova2/followers","following_url":"https://api.github.com/users/ekaterinadimitrova2/following{/other_user}","gists_url":"https://api.github.com/users/ekaterinadimitrova2/gists{/gist_id}","starred_url":"https://api.github.com/users/ekaterinadimitrova2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekaterinadimitrova2/subscriptions","organizations_url":"https://api.github.com/users/ekaterinadimitrova2/orgs","repos_url":"https://api.github.com/users/ekaterinadimitrova2/repos","events_url":"https://api.github.com/users/ekaterinadimitrova2/events{/privacy}","received_events_url":"https://api.github.com/users/ekaterinadimitrova2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T02:20:28Z","updated_at":"2022-10-21T02:20:28Z","author_association":"CONTRIBUTOR","body":"1) You closed the PR and the commit you mentioned is not linked anymore so I cannot confirm your approach there.\r\nNew ticket for improving CircleCI SGTM. I also shared since yesterday David's work for your consideration.\r\n\r\n2) `I don't have a paid account.` I will run the tests when you are done then. We will figure it out.\r\n` When you say \"midres resources\" I'm not sure what you mean.` - I refer to the MIDRES file which points to enough resources to run all suites with a paid account for a reasonable time. HIGHRES is if you want to bump on max the resources and break the bank. Not really significantly faster compared to MIDRES\r\n\r\n3) \"extra comments and different names\" - I do not see extra comment on something as a big problem. What different names you refer to?\r\n\r\n4) As we spoke in Slack, we need to first add the tests short term to unblock the project to be able to release based on CircleCI until we fix all the infra problems, etc in Jenkins. \r\nThen we can open improvement ticket and gradually improve things according to the mailing list consensus, etc.\r\nHonestly, there is in the readme explanation and CircleCI has a good documentation, but the issue is there are many moving parts and we need to be careful while updating things. I can see how easily we can mess up something with this approach as in time our test suites and JDKs grew significantly. Now, I think not doing the patches, etc might have been actually harder for you.\r\nI also suggest you make a table with all suites you plan to add and suggestion for initial resources which can be approximate based on similar suites (resource_class and parallelism). Example - I think you did right by trying to assign the resources we use already for Python Dtests also to the off-heap DTests. \r\n\r\nDo you still want me to look into the actual job content in detail (what you have in this PR) or you will be working on something else? Let me know\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1286372093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1288298291","html_url":"https://github.com/apache/cassandra/pull/1940#issuecomment-1288298291","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1940","id":1288298291,"node_id":"IC_kwDOAAMmWM5Myd8z","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T01:48:56Z","updated_at":"2022-10-24T01:48:56Z","author_association":"CONTRIBUTOR","body":"\r\n>     * I do not understand this sentence - \"Because dtest-offheap in Jenkins is configured to skip resource intensive tests, the dtest-offheap suite is added to all three sets (LOW, MEDIUM, HIGH).\" Is it just a mistake adding `,` instead of `.`? As LOW, MEDIUM and HIGH have nothing to do with whether we skip resource-intensive tests.\r\n\r\nThat's a leftover from my initial misunderstanding of how things worked. Initially I thought that line was true because the offheap tests explicitly set `--skip-resource-intensive-tests`, but I'll remove that comment from the commit message\r\n\r\n> \r\n>     * I am not sure I mentioned that even if the patches can still be applied, we need to recreate them as otherwise we get warnings like this every time on using the `generate.sh` script\r\n\r\nOK, I'll fix this. Off-topic, but patch gymnastics like this are something I hope we can eliminate with pipeline parameters. I'll write up a proposal this week (as an orthogonal concern, not blocking this PR).\r\n\r\n>     * Actually how were MIDRES and HIGHRES created? They use the same j8_par_executor as the other dtests but I see different resources in Midres - medium and 25, when j8_dtests gets large and 50?\r\n\r\nI edited config-2_1.yml to add the new test and then ran `generate.sh -a` per the README instructions. Did I miss a step?\r\n\r\n> \r\n>     * In 4.0+ we will need also JDK11, once we have the details around JDK8 one that will be easy to add. Just adding here so we do not forget it.\r\n\r\nYup, I'll make sure to include j11 in the 4.0+ branches. \r\n> \r\n>     * We will need also repeat jobs so we can fight the flakiness :-) Something like this : [97ebcb5](https://github.com/apache/cassandra/commit/97ebcb5fe6ae290da0a24228177df8e47aefbaba)\r\n\r\nThat's the commit I'm PRing here, so did you mean a different commit?\r\n\r\nI feel a lot closer now than I did last week :)\r\n\r\nCheers!\r\n\r\nDerek","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1288298291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1289061003","html_url":"https://github.com/apache/cassandra/pull/1940#issuecomment-1289061003","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1940","id":1289061003,"node_id":"IC_kwDOAAMmWM5M1YKL","user":{"login":"ekaterinadimitrova2","id":32201392,"node_id":"MDQ6VXNlcjMyMjAxMzky","avatar_url":"https://avatars.githubusercontent.com/u/32201392?v=4","gravatar_id":"","url":"https://api.github.com/users/ekaterinadimitrova2","html_url":"https://github.com/ekaterinadimitrova2","followers_url":"https://api.github.com/users/ekaterinadimitrova2/followers","following_url":"https://api.github.com/users/ekaterinadimitrova2/following{/other_user}","gists_url":"https://api.github.com/users/ekaterinadimitrova2/gists{/gist_id}","starred_url":"https://api.github.com/users/ekaterinadimitrova2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekaterinadimitrova2/subscriptions","organizations_url":"https://api.github.com/users/ekaterinadimitrova2/orgs","repos_url":"https://api.github.com/users/ekaterinadimitrova2/repos","events_url":"https://api.github.com/users/ekaterinadimitrova2/events{/privacy}","received_events_url":"https://api.github.com/users/ekaterinadimitrova2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-24T13:45:33Z","updated_at":"2022-10-24T13:45:33Z","author_association":"CONTRIBUTOR","body":"`OK, I'll fix this. Off-topic, but patch gymnastics like this are something I hope we can eliminate with pipeline parameters. I'll write up a proposal this week (as an orthogonal concern, not blocking this PR).`\r\n+1, looking forward to it\r\n`I edited config-2_1.yml to add the new test and then ran generate.sh -a per the README instructions. Did I miss a step?`\r\n\r\nIt is correct in most cases, but when we add new job things can move and apply to wrong jobs; _I think_ this is probably what happened here. That is why we need to check the final result to be sure the patches are still applicable. They were created for a bit different content after all. It seems you need to create the patches again as the old ones are not applicable anymore. Let me know if you need help. \r\n\r\n`That's the commit I'm PRing here, so did you mean a different commit?`\r\nDefinitely. This is what I wanted to send - https://github.com/apache/cassandra/blob/cassandra-3.11/.circleci/config-2_1.yml#L264-L269. Sorry about that\r\n\r\n`I feel a lot closer now than I did last week :)`\r\nYup, almost there","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1289061003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1290294127","html_url":"https://github.com/apache/cassandra/pull/1891#issuecomment-1290294127","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1891","id":1290294127,"node_id":"IC_kwDOAAMmWM5M6FNv","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-25T09:58:33Z","updated_at":"2022-10-25T09:58:33Z","author_association":"CONTRIBUTOR","body":"Rebased with tries and tests [here](https://app.circleci.com/pipelines/github/bereng/cassandra). The only failure seems like an unrelated flaky I will look into which passes locally.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1290294127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1291294284","html_url":"https://github.com/apache/cassandra/pull/1902#issuecomment-1291294284","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1902","id":1291294284,"node_id":"IC_kwDOAAMmWM5M95ZM","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T00:54:37Z","updated_at":"2022-10-26T00:54:37Z","author_association":"CONTRIBUTOR","body":"Indeed it is! Closing this one","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1291294284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1292656454","html_url":"https://github.com/apache/cassandra/pull/1940#issuecomment-1292656454","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1940","id":1292656454,"node_id":"IC_kwDOAAMmWM5NDF9G","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T21:10:36Z","updated_at":"2022-10-26T21:10:36Z","author_association":"CONTRIBUTOR","body":"I had to change branches to save some other changes, so this is being closed in favor of https://github.com/apache/cassandra/pull/1953","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1292656454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1292656957","html_url":"https://github.com/apache/cassandra/pull/1953#issuecomment-1292656957","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1953","id":1292656957,"node_id":"IC_kwDOAAMmWM5NDGE9","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T21:11:08Z","updated_at":"2022-10-26T21:11:08Z","author_association":"CONTRIBUTOR","body":"For posterity, this was originally on https://github.com/apache/cassandra/pull/1940 but I had to change branches, meaning we needed a new PR (this one)","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1292656957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1292868745","html_url":"https://github.com/apache/cassandra/pull/1953#issuecomment-1292868745","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1953","id":1292868745,"node_id":"IC_kwDOAAMmWM5ND5yJ","user":{"login":"ekaterinadimitrova2","id":32201392,"node_id":"MDQ6VXNlcjMyMjAxMzky","avatar_url":"https://avatars.githubusercontent.com/u/32201392?v=4","gravatar_id":"","url":"https://api.github.com/users/ekaterinadimitrova2","html_url":"https://github.com/ekaterinadimitrova2","followers_url":"https://api.github.com/users/ekaterinadimitrova2/followers","following_url":"https://api.github.com/users/ekaterinadimitrova2/following{/other_user}","gists_url":"https://api.github.com/users/ekaterinadimitrova2/gists{/gist_id}","starred_url":"https://api.github.com/users/ekaterinadimitrova2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekaterinadimitrova2/subscriptions","organizations_url":"https://api.github.com/users/ekaterinadimitrova2/orgs","repos_url":"https://api.github.com/users/ekaterinadimitrova2/repos","events_url":"https://api.github.com/users/ekaterinadimitrova2/events{/privacy}","received_events_url":"https://api.github.com/users/ekaterinadimitrova2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T02:07:57Z","updated_at":"2022-10-27T02:07:57Z","author_association":"CONTRIBUTOR","body":"You are almost there. The patches are not created correctly. \r\nYou use the recipe I mentioned on the other PR which covers the case when the patches are still the same, applicable, just moving a few lines and unneeded warnings popping up. In your case when you add the new jobs things shift and you still get wrong resources assigned to your jobs. \r\nYou will need to modify cassandra-2_1.yml so that it can generate correct MIDRES and HIGHRES files and then create a patch. The way we do patches for code. You do the changes, you get a patch from the diff.\r\nThis is explained in the readme and I explained in the very first patch. We always need to check the final results in the MIDRES and HIGHRES files to ensure resources didn't shift for some reason. \r\nNow in this case I can still see wrong resources. This is what I mentioned in the previous PR review, it is still applicable:\r\n`Actually how were MIDRES and HIGHRES created? They use the same j8_par_executor as the other dtests but I see different resources in Midres - medium and 25, when j8_dtests gets large and 50?` Your resources are still wrong because you probably used the recipe for recreating patches which cover the case when resources are correctly assigned. \r\nSo looking into the current MIDRES file for cassandra 3.11 you need to end up with LARGE and 50 for running all tests(https://github.com/apache/cassandra/blob/cassandra-3.11/.circleci/config.yml.MIDRES#L1728-L1734) and LARGE and 25 for running tests in a loop (https://github.com/apache/cassandra/blob/cassandra-3.11/.circleci/config.yml.MIDRES#L1057-L1063)","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1292868745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1293459435","html_url":"https://github.com/apache/cassandra/pull/1953#issuecomment-1293459435","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1953","id":1293459435,"node_id":"IC_kwDOAAMmWM5NGJ_r","user":{"login":"dchenbecker","id":24858,"node_id":"MDQ6VXNlcjI0ODU4","avatar_url":"https://avatars.githubusercontent.com/u/24858?v=4","gravatar_id":"","url":"https://api.github.com/users/dchenbecker","html_url":"https://github.com/dchenbecker","followers_url":"https://api.github.com/users/dchenbecker/followers","following_url":"https://api.github.com/users/dchenbecker/following{/other_user}","gists_url":"https://api.github.com/users/dchenbecker/gists{/gist_id}","starred_url":"https://api.github.com/users/dchenbecker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dchenbecker/subscriptions","organizations_url":"https://api.github.com/users/dchenbecker/orgs","repos_url":"https://api.github.com/users/dchenbecker/repos","events_url":"https://api.github.com/users/dchenbecker/events{/privacy}","received_events_url":"https://api.github.com/users/dchenbecker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T12:33:43Z","updated_at":"2022-10-27T12:33:43Z","author_association":"CONTRIBUTOR","body":"OK, I updated the midres patch. For what it's worth, the README doesn't discuss what's in the patches at all, or what the valus should be for various runs. For example, the MIDRES patch changes the executors used by that various dtests in addition to changing resource class and parallelism, but the HIGHRES only changes resource class and parallelism, but not the executors. I'm happy to add documentation to the README for the next person, but it's not clear at all why things are done the way they are here. Looking at  git blame ( :) ) I can see you've done a lot of work on this, so you're much more familiar with this than I am, but I think we need to be careful about confusing familiarity for clarity.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1293459435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1293704027","html_url":"https://github.com/apache/cassandra/pull/1953#issuecomment-1293704027","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1953","id":1293704027,"node_id":"IC_kwDOAAMmWM5NHFtb","user":{"login":"ekaterinadimitrova2","id":32201392,"node_id":"MDQ6VXNlcjMyMjAxMzky","avatar_url":"https://avatars.githubusercontent.com/u/32201392?v=4","gravatar_id":"","url":"https://api.github.com/users/ekaterinadimitrova2","html_url":"https://github.com/ekaterinadimitrova2","followers_url":"https://api.github.com/users/ekaterinadimitrova2/followers","following_url":"https://api.github.com/users/ekaterinadimitrova2/following{/other_user}","gists_url":"https://api.github.com/users/ekaterinadimitrova2/gists{/gist_id}","starred_url":"https://api.github.com/users/ekaterinadimitrova2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ekaterinadimitrova2/subscriptions","organizations_url":"https://api.github.com/users/ekaterinadimitrova2/orgs","repos_url":"https://api.github.com/users/ekaterinadimitrova2/repos","events_url":"https://api.github.com/users/ekaterinadimitrova2/events{/privacy}","received_events_url":"https://api.github.com/users/ekaterinadimitrova2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T15:26:22Z","updated_at":"2022-10-27T15:29:33Z","author_association":"CONTRIBUTOR","body":"`OK, I updated the midres patch` I will take a look soon. \r\n` For what it's worth, the README doesn't discuss what's in the patches at all, or what the valus should be for various runs.`\r\n What values ---> well, when we apply the patch we see what were the values (same as in code patching) and we need to ensure when we add new jobs the old jobs are not changed or affected and the new additions are as we want them.  I'd say in this case for the new job we agreed to match the values that were assigned to the dtests(those values are assigned in time through testing, there Is no direct matrix), that is how  I compared that in MIDRES file something is wrong and we do not have the values we wanted to have.Another way to make a check is by looking at the executor assigned to our job, the resources in MIDRES and in that executor should match. Maybe we need to say that patch is nothing else than a regular patch, not something circle ci specific? \r\nAbout the executor - well, this is circle ci terminology, I do not think we should copy paste from the CircleCI docs in our readme. A new executor is added to raise the resources to a level not applicable for LOWRES and HIGHRES. I think the main issue for new comers is that having Readme they might not go to CircleCI docs themselves and miss how things in CircleCI itself work. (That is what I also did when I started, the people who created the initial setup with generate.sh were not active anymore on the project :( )I do not want to add links to docs in the readme as links change with versions and also they can get broken. Maybe what we can do is to say \"For information on executors please check CircleCI documentation\" or refer to this section or something else (but by name, not link)  https://circleci.com/docs/reusing-config/ \r\n\r\n`Looking at git blame ( :) ) I can see you've done a lot of work on this, so you're much more familiar with this than I am, but I think we need to be careful about confusing familiarity for clarity.`\r\n\r\nI do not mean to argue and I totally agree about familiarity, especially in the Cassandra world where CI is no exception for complexity considering how many test suites, config options, etc we have. I am with you here. One of the reasons why I gave you an advice to start with one job and not like for example Andres who deal with all unit tests variations at once as he knows the setup by hard already. What I wanted to point out is that patch is a patch no matter whether it is config file or Java code. We need to verify the result of that patch. Clarity - I think we just need to realize that Cassandra works with other tools, frameworks and libraries that have their own documentation. It takes time to get acquainted with everything and make the connections. It is its own process we all go through. But we cannot and we should not rely on a customer specific readme to cover how the actual tool works in detail IMHO. Again, I suggest we add a point on top  of the readme - \"below information is cassandra specific usage of CircleCI, you might want to read through the CircleCI documentation if you are not familiar with the tool before moving forward.\" or something similar.\r\nMy concern is even when we further improve and automate things, there will be always corner cases and breakages and new suites and specifics so operating one of our primary tools as a black box without taking the time to learn it how it works is not sustainable. Personal opinion. Also, CircleCI as a product itself evolves so we might want to follow up on new opportunities that we can take advantage of.\r\nI will review and post update in the next few hours. Thank you for the quick fix :-) I think this one job is a good first exercise and then adding others, being similar will be completely different experience. Thank you for your efforts","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1293704027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1293963983","html_url":"https://github.com/apache/cassandra/pull/1949#issuecomment-1293963983","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1949","id":1293963983,"node_id":"IC_kwDOAAMmWM5NIFLP","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-27T19:22:27Z","updated_at":"2022-10-27T19:22:27Z","author_association":"CONTRIBUTOR","body":"https://app.circleci.com/pipelines/github/maedhroz/cassandra?branch=CASSANDRA-16491-circle","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1293963983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1295586988","html_url":"https://github.com/apache/cassandra/pull/1949#issuecomment-1295586988","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1949","id":1295586988,"node_id":"IC_kwDOAAMmWM5NORas","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-28T22:44:36Z","updated_at":"2022-10-28T22:44:36Z","author_association":"CONTRIBUTOR","body":"Committed in https://github.com/apache/cassandra/commit/8ec04361b9e098430023e4776baf1941be958475","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1295586988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1296042655","html_url":"https://github.com/apache/cassandra/pull/1878#issuecomment-1296042655","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1878","id":1296042655,"node_id":"IC_kwDOAAMmWM5NQAqf","user":{"login":"xvade","id":61475659,"node_id":"MDQ6VXNlcjYxNDc1NjU5","avatar_url":"https://avatars.githubusercontent.com/u/61475659?v=4","gravatar_id":"","url":"https://api.github.com/users/xvade","html_url":"https://github.com/xvade","followers_url":"https://api.github.com/users/xvade/followers","following_url":"https://api.github.com/users/xvade/following{/other_user}","gists_url":"https://api.github.com/users/xvade/gists{/gist_id}","starred_url":"https://api.github.com/users/xvade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvade/subscriptions","organizations_url":"https://api.github.com/users/xvade/orgs","repos_url":"https://api.github.com/users/xvade/repos","events_url":"https://api.github.com/users/xvade/events{/privacy}","received_events_url":"https://api.github.com/users/xvade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T00:49:29Z","updated_at":"2022-10-30T00:49:29Z","author_association":"CONTRIBUTOR","body":"Done, I updated the tests to look more like what you had in mind.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1296042655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1302885434","html_url":"https://github.com/apache/cassandra/pull/1969#issuecomment-1302885434","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1969","id":1302885434,"node_id":"IC_kwDOAAMmWM5NqHQ6","user":{"login":"ErickRamirezAU","id":7269283,"node_id":"MDQ6VXNlcjcyNjkyODM=","avatar_url":"https://avatars.githubusercontent.com/u/7269283?v=4","gravatar_id":"","url":"https://api.github.com/users/ErickRamirezAU","html_url":"https://github.com/ErickRamirezAU","followers_url":"https://api.github.com/users/ErickRamirezAU/followers","following_url":"https://api.github.com/users/ErickRamirezAU/following{/other_user}","gists_url":"https://api.github.com/users/ErickRamirezAU/gists{/gist_id}","starred_url":"https://api.github.com/users/ErickRamirezAU/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ErickRamirezAU/subscriptions","organizations_url":"https://api.github.com/users/ErickRamirezAU/orgs","repos_url":"https://api.github.com/users/ErickRamirezAU/repos","events_url":"https://api.github.com/users/ErickRamirezAU/events{/privacy}","received_events_url":"https://api.github.com/users/ErickRamirezAU/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T02:43:52Z","updated_at":"2022-11-04T02:43:52Z","author_association":"CONTRIBUTOR","body":"Committed as a4b90fb.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1302885434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1302888476","html_url":"https://github.com/apache/cassandra/pull/1970#issuecomment-1302888476","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1970","id":1302888476,"node_id":"IC_kwDOAAMmWM5NqIAc","user":{"login":"ErickRamirezAU","id":7269283,"node_id":"MDQ6VXNlcjcyNjkyODM=","avatar_url":"https://avatars.githubusercontent.com/u/7269283?v=4","gravatar_id":"","url":"https://api.github.com/users/ErickRamirezAU","html_url":"https://github.com/ErickRamirezAU","followers_url":"https://api.github.com/users/ErickRamirezAU/followers","following_url":"https://api.github.com/users/ErickRamirezAU/following{/other_user}","gists_url":"https://api.github.com/users/ErickRamirezAU/gists{/gist_id}","starred_url":"https://api.github.com/users/ErickRamirezAU/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ErickRamirezAU/subscriptions","organizations_url":"https://api.github.com/users/ErickRamirezAU/orgs","repos_url":"https://api.github.com/users/ErickRamirezAU/repos","events_url":"https://api.github.com/users/ErickRamirezAU/events{/privacy}","received_events_url":"https://api.github.com/users/ErickRamirezAU/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T02:49:33Z","updated_at":"2022-11-04T02:49:33Z","author_association":"CONTRIBUTOR","body":"Committed as e027229.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1302888476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1303835101","html_url":"https://github.com/apache/cassandra/pull/1971#issuecomment-1303835101","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1971","id":1303835101,"node_id":"IC_kwDOAAMmWM5NtvHd","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T16:24:25Z","updated_at":"2022-11-04T16:24:25Z","author_association":"CONTRIBUTOR","body":"pushed CI to see how this is working https://app.circleci.com/pipelines/github/dcapwell/cassandra?branch=pr%2Fupstream_1971","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1303835101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1304505569","html_url":"https://github.com/apache/cassandra/pull/1951#issuecomment-1304505569","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1951","id":1304505569,"node_id":"IC_kwDOAAMmWM5NwSzh","user":{"login":"belliottsmith","id":5220766,"node_id":"MDQ6VXNlcjUyMjA3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5220766?v=4","gravatar_id":"","url":"https://api.github.com/users/belliottsmith","html_url":"https://github.com/belliottsmith","followers_url":"https://api.github.com/users/belliottsmith/followers","following_url":"https://api.github.com/users/belliottsmith/following{/other_user}","gists_url":"https://api.github.com/users/belliottsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/belliottsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belliottsmith/subscriptions","organizations_url":"https://api.github.com/users/belliottsmith/orgs","repos_url":"https://api.github.com/users/belliottsmith/repos","events_url":"https://api.github.com/users/belliottsmith/events{/privacy}","received_events_url":"https://api.github.com/users/belliottsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-05T11:52:17Z","updated_at":"2022-11-05T11:53:16Z","author_association":"CONTRIBUTOR","body":"I have squashed, rebased and force-pushed. I have left a single follow-up commit that represents changes since Thursday.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1304505569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305159206","html_url":"https://github.com/apache/cassandra/pull/1971#issuecomment-1305159206","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1971","id":1305159206,"node_id":"IC_kwDOAAMmWM5NyyYm","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T06:53:11Z","updated_at":"2022-11-07T06:53:11Z","author_association":"CONTRIBUTOR","body":"The approach looks about OK. But there are compilation errors among the legit new failures from the newly ran tests. Also it seems PRs that touch many tests just will fail on timeouts. I will drop a message in the ticket that added that.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305159206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305333654","html_url":"https://github.com/apache/cassandra/pull/1972#issuecomment-1305333654","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1972","id":1305333654,"node_id":"IC_kwDOAAMmWM5Nzc-W","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T09:32:58Z","updated_at":"2022-11-07T09:32:58Z","author_association":"CONTRIBUTOR","body":"@adelapena am I understanding this correctly that a user can't specify the `reason` to be used for a specific guardrail in the config? So you can hard code it but the user can't change it at his convenience?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305333654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305371968","html_url":"https://github.com/apache/cassandra/pull/1967#issuecomment-1305371968","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1967","id":1305371968,"node_id":"IC_kwDOAAMmWM5NzmVA","user":{"login":"marianne-manaog","id":91789965,"node_id":"U_kgDOBXiajQ","avatar_url":"https://avatars.githubusercontent.com/u/91789965?v=4","gravatar_id":"","url":"https://api.github.com/users/marianne-manaog","html_url":"https://github.com/marianne-manaog","followers_url":"https://api.github.com/users/marianne-manaog/followers","following_url":"https://api.github.com/users/marianne-manaog/following{/other_user}","gists_url":"https://api.github.com/users/marianne-manaog/gists{/gist_id}","starred_url":"https://api.github.com/users/marianne-manaog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marianne-manaog/subscriptions","organizations_url":"https://api.github.com/users/marianne-manaog/orgs","repos_url":"https://api.github.com/users/marianne-manaog/repos","events_url":"https://api.github.com/users/marianne-manaog/events{/privacy}","received_events_url":"https://api.github.com/users/marianne-manaog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T10:05:05Z","updated_at":"2022-11-07T10:05:05Z","author_association":"NONE","body":"Closing this PR as per [this comment on Jira](https://issues.apache.org/jira/browse/CASSANDRA-17999?focusedCommentId=17629720&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17629720) from Branimir Lambov, and I will raise a new PR with both the bug fix and the in-jvm dtest.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305371968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305372232","html_url":"https://github.com/apache/cassandra/pull/1966#issuecomment-1305372232","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1966","id":1305372232,"node_id":"IC_kwDOAAMmWM5NzmZI","user":{"login":"marianne-manaog","id":91789965,"node_id":"U_kgDOBXiajQ","avatar_url":"https://avatars.githubusercontent.com/u/91789965?v=4","gravatar_id":"","url":"https://api.github.com/users/marianne-manaog","html_url":"https://github.com/marianne-manaog","followers_url":"https://api.github.com/users/marianne-manaog/followers","following_url":"https://api.github.com/users/marianne-manaog/following{/other_user}","gists_url":"https://api.github.com/users/marianne-manaog/gists{/gist_id}","starred_url":"https://api.github.com/users/marianne-manaog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marianne-manaog/subscriptions","organizations_url":"https://api.github.com/users/marianne-manaog/orgs","repos_url":"https://api.github.com/users/marianne-manaog/repos","events_url":"https://api.github.com/users/marianne-manaog/events{/privacy}","received_events_url":"https://api.github.com/users/marianne-manaog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T10:05:14Z","updated_at":"2022-11-07T10:05:14Z","author_association":"NONE","body":"Closing this PR as per [this comment on Jira](https://issues.apache.org/jira/browse/CASSANDRA-17999?focusedCommentId=17629720&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17629720) from Branimir Lambov, and I will raise a new PR with both the bug fix and the in-jvm dtest.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305372232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305432126","html_url":"https://github.com/apache/cassandra/pull/1972#issuecomment-1305432126","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1972","id":1305432126,"node_id":"IC_kwDOAAMmWM5Nz1A-","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T10:56:44Z","updated_at":"2022-11-07T10:56:44Z","author_association":"CONTRIBUTOR","body":"> @adelapena am I understanding this correctly that a user can't specify the `reason` to be used for a specific guardrail in the config? So you can hard code it but the user can't change it at his convenience?\r\n\r\nAs it's mentioned on the ticket discussion, I don't think we should start using custom exception messages. There is no reason for that if the standard ones are clear enough, and custom messages can make it difficult to track where the exceptions come from.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305432126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305473920","html_url":"https://github.com/apache/cassandra/pull/1972#issuecomment-1305473920","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1972","id":1305473920,"node_id":"IC_kwDOAAMmWM5Nz_OA","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T11:32:49Z","updated_at":"2022-11-07T11:32:49Z","author_association":"CONTRIBUTOR","body":"Yep I read the ticket. It is one thing to go 100% for custom messages which I agree would make it difficult to track errors.\r\n\r\nBut it is a different one to allow users to add to the message. Josh's idea of adding an email i.e. Or yours later to have a sort of a global property, etc\r\n\r\nIt seems the idea of allowing the user to decorate the message somehow is a good one, accepted but not included in the PR? If I am not missing anything ofc!","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305473920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305518238","html_url":"https://github.com/apache/cassandra/pull/1972#issuecomment-1305518238","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1972","id":1305518238,"node_id":"IC_kwDOAAMmWM5N0KCe","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T12:12:30Z","updated_at":"2022-11-07T12:12:30Z","author_association":"CONTRIBUTOR","body":"I'm not sure that the idea of allowing the user to decorate the message is accepted on that discussion. For sure I don't like it too much because I see it as unnecessary if the standard message is clear enough. \r\n\r\nAs for adding a generic message fragment with contact email, etc., I think that should be common to all user-facing error messages, and not only for guardrails or AF. That should IMO done in a separate ticket, since here we are dealing with the confusing AF message and the reasons to forbid it.\r\n\r\n @josh-mckenzie wdyt?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305518238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305593967","html_url":"https://github.com/apache/cassandra/pull/1972#issuecomment-1305593967","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1972","id":1305593967,"node_id":"IC_kwDOAAMmWM5N0chv","user":{"login":"jmckenzie-dev","id":6588455,"node_id":"MDQ6VXNlcjY1ODg0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6588455?v=4","gravatar_id":"","url":"https://api.github.com/users/jmckenzie-dev","html_url":"https://github.com/jmckenzie-dev","followers_url":"https://api.github.com/users/jmckenzie-dev/followers","following_url":"https://api.github.com/users/jmckenzie-dev/following{/other_user}","gists_url":"https://api.github.com/users/jmckenzie-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/jmckenzie-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmckenzie-dev/subscriptions","organizations_url":"https://api.github.com/users/jmckenzie-dev/orgs","repos_url":"https://api.github.com/users/jmckenzie-dev/repos","events_url":"https://api.github.com/users/jmckenzie-dev/events{/privacy}","received_events_url":"https://api.github.com/users/jmckenzie-dev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T13:09:27Z","updated_at":"2022-11-07T13:09:27Z","author_association":"CONTRIBUTOR","body":"Agree. My understanding was that the \"user custom decoration\" approach was a no-go.\r\n\r\nMy understanding of the consensus: \r\n1. Make our default error messages (much, _**much**_ better)\r\n2. Add a config option, probably in the .yaml, for \"guardrail_contact\" (or some other better name) where you can provide an email address to hit up for questions about operator configs on clusters","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305593967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305638853","html_url":"https://github.com/apache/cassandra/pull/1972#issuecomment-1305638853","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1972","id":1305638853,"node_id":"IC_kwDOAAMmWM5N0nfF","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T13:45:13Z","updated_at":"2022-11-07T13:45:13Z","author_association":"CONTRIBUTOR","body":"Ok so we're doing that bit in another ticket. Let me go through this a bit more but it looks like a +1 then so far","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1305638853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1306707134","html_url":"https://github.com/apache/cassandra/pull/1972#issuecomment-1306707134","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1972","id":1306707134,"node_id":"IC_kwDOAAMmWM5N4sS-","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T06:37:48Z","updated_at":"2022-11-08T06:37:48Z","author_association":"CONTRIBUTOR","body":"LGTM +1","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1306707134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1307178327","html_url":"https://github.com/apache/cassandra/pull/1950#issuecomment-1307178327","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1950","id":1307178327,"node_id":"IC_kwDOAAMmWM5N6fVX","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T13:01:06Z","updated_at":"2022-11-08T13:01:06Z","author_association":"CONTRIBUTOR","body":"@mmuzaf You may be interested in this change.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1307178327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1312455054","html_url":"https://github.com/apache/cassandra/pull/1963#issuecomment-1312455054","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1963","id":1312455054,"node_id":"IC_kwDOAAMmWM5OOnmO","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T11:04:13Z","updated_at":"2022-11-12T11:04:13Z","author_association":"MEMBER","body":"We are going to implement this in a more generic way…\r\n( work in progress: https://github.com/apache/cassandra/compare/cassandra-4.0...thelastpickle:cassandra:mck/17981/4.0 )","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1312455054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1312461714","html_url":"https://github.com/apache/cassandra/pull/2008#issuecomment-1312461714","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2008","id":1312461714,"node_id":"IC_kwDOAAMmWM5OOpOS","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T11:48:07Z","updated_at":"2022-11-12T11:48:07Z","author_association":"MEMBER","body":"@piotrmaslanka , would you mind trying this out with your work with jaeger. You can now add do\r\n```\r\n# add span\r\nmessageBuilder.withCustomParam(\"JAEGER\", myJaegerSpan);\r\n```\r\nand\r\n```\r\n# get span\r\nmyJaegerSpan = message.customParams.get(\"JAEGER\");\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1312461714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1317415044","html_url":"https://github.com/apache/cassandra/pull/1466#issuecomment-1317415044","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1466","id":1317415044,"node_id":"IC_kwDOAAMmWM5OhiiE","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-16T17:46:07Z","updated_at":"2022-11-16T17:46:07Z","author_association":"CONTRIBUTOR","body":"@mike-tr-adamson Just rebased. This branch should now include the memtable trie work.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1317415044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1318433113","html_url":"https://github.com/apache/cassandra/pull/1675#issuecomment-1318433113","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1675","id":1318433113,"node_id":"IC_kwDOAAMmWM5OlbFZ","user":{"login":"tisonkun","id":18818196,"node_id":"MDQ6VXNlcjE4ODE4MTk2","avatar_url":"https://avatars.githubusercontent.com/u/18818196?v=4","gravatar_id":"","url":"https://api.github.com/users/tisonkun","html_url":"https://github.com/tisonkun","followers_url":"https://api.github.com/users/tisonkun/followers","following_url":"https://api.github.com/users/tisonkun/following{/other_user}","gists_url":"https://api.github.com/users/tisonkun/gists{/gist_id}","starred_url":"https://api.github.com/users/tisonkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tisonkun/subscriptions","organizations_url":"https://api.github.com/users/tisonkun/orgs","repos_url":"https://api.github.com/users/tisonkun/repos","events_url":"https://api.github.com/users/tisonkun/events{/privacy}","received_events_url":"https://api.github.com/users/tisonkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T10:37:44Z","updated_at":"2022-11-17T10:37:44Z","author_association":"MEMBER","body":"Closed as no response. @smiklosovic I'll appreciate it if you can ping me when Casandra supports JDK17.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1318433113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1326524566","html_url":"https://github.com/apache/cassandra/pull/2024#issuecomment-1326524566","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2024","id":1326524566,"node_id":"IC_kwDOAAMmWM5PESiW","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-24T14:27:52Z","updated_at":"2022-11-24T14:27:52Z","author_association":"CONTRIBUTOR","body":"New round of CI after @blerer feedback:\r\n* https://app.circleci.com/pipelines/github/adelapena/cassandra/2517/workflows/fb82d85f-85a9-4d6a-8d02-1f36d574d114\r\n* https://app.circleci.com/pipelines/github/adelapena/cassandra/2517/workflows/c3d2eef1-57d4-4482-b081-c3e3fade5814","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1326524566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1328934582","html_url":"https://github.com/apache/cassandra/pull/2028#issuecomment-1328934582","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2028","id":1328934582,"node_id":"IC_kwDOAAMmWM5PNe62","user":{"login":"sharanf","id":20459978,"node_id":"MDQ6VXNlcjIwNDU5OTc4","avatar_url":"https://avatars.githubusercontent.com/u/20459978?v=4","gravatar_id":"","url":"https://api.github.com/users/sharanf","html_url":"https://github.com/sharanf","followers_url":"https://api.github.com/users/sharanf/followers","following_url":"https://api.github.com/users/sharanf/following{/other_user}","gists_url":"https://api.github.com/users/sharanf/gists{/gist_id}","starred_url":"https://api.github.com/users/sharanf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sharanf/subscriptions","organizations_url":"https://api.github.com/users/sharanf/orgs","repos_url":"https://api.github.com/users/sharanf/repos","events_url":"https://api.github.com/users/sharanf/events{/privacy}","received_events_url":"https://api.github.com/users/sharanf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T11:39:51Z","updated_at":"2022-11-28T11:39:51Z","author_association":"CONTRIBUTOR","body":"> Little leading whitespace trouble but once tidied up looks good.\r\n\r\nThanks for the feedback @josh-mckenzie . Have removed the ones I found - so hope this clears them","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1328934582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1330493110","html_url":"https://github.com/apache/cassandra/pull/2031#issuecomment-1330493110","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2031","id":1330493110,"node_id":"IC_kwDOAAMmWM5PTba2","user":{"login":"michaelsembwever","id":559444,"node_id":"MDQ6VXNlcjU1OTQ0NA==","avatar_url":"https://avatars.githubusercontent.com/u/559444?v=4","gravatar_id":"","url":"https://api.github.com/users/michaelsembwever","html_url":"https://github.com/michaelsembwever","followers_url":"https://api.github.com/users/michaelsembwever/followers","following_url":"https://api.github.com/users/michaelsembwever/following{/other_user}","gists_url":"https://api.github.com/users/michaelsembwever/gists{/gist_id}","starred_url":"https://api.github.com/users/michaelsembwever/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michaelsembwever/subscriptions","organizations_url":"https://api.github.com/users/michaelsembwever/orgs","repos_url":"https://api.github.com/users/michaelsembwever/repos","events_url":"https://api.github.com/users/michaelsembwever/events{/privacy}","received_events_url":"https://api.github.com/users/michaelsembwever/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T11:37:22Z","updated_at":"2022-11-29T11:37:33Z","author_association":"MEMBER","body":"Can we separate commits between introducing the linter, to code fixes for the linter?\r\n\r\nCan we bring over checkstyle and other linter stuff from build.xml to .build/build-linter.xml ? \r\n\r\nUnrelated, what's your thoughts about the .build/cassandra-build-deps-template.xml filenames? (Is template confusing and should they be called something like `.build/cassandra-build-deps-unfiltered.xml` instead?)\r\n\r\notherwise LGTM","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1330493110/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1331256000","html_url":"https://github.com/apache/cassandra/pull/1954#issuecomment-1331256000","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1954","id":1331256000,"node_id":"IC_kwDOAAMmWM5PWVrA","user":{"login":"jmckenzie-dev","id":6588455,"node_id":"MDQ6VXNlcjY1ODg0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6588455?v=4","gravatar_id":"","url":"https://api.github.com/users/jmckenzie-dev","html_url":"https://github.com/jmckenzie-dev","followers_url":"https://api.github.com/users/jmckenzie-dev/followers","following_url":"https://api.github.com/users/jmckenzie-dev/following{/other_user}","gists_url":"https://api.github.com/users/jmckenzie-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/jmckenzie-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmckenzie-dev/subscriptions","organizations_url":"https://api.github.com/users/jmckenzie-dev/orgs","repos_url":"https://api.github.com/users/jmckenzie-dev/repos","events_url":"https://api.github.com/users/jmckenzie-dev/events{/privacy}","received_events_url":"https://api.github.com/users/jmckenzie-dev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T20:26:11Z","updated_at":"2022-11-29T20:29:30Z","author_association":"CONTRIBUTOR","body":"Some top level questions (about to transfer line items from notes to the diff):\r\n* Why would caching a mutation at any given size be particularly bad for GC? We're already paying the tax to ser or deser in the first place; how long do we expect these messages to hang around and live -> worst-case is timeout from replicas?\r\n* Where does our initial value for the default on `cacheable_mutation_size_limit_bytes` come from?\r\n* If we're doing ThreadLocal on the limitedScratchBuffer, how are we managing the implications of a Mutation `deserialize` call bouncing across threads? We'll end up with a deserialized copy of it living in memory on another thread should something jump to another Stage in the future etc right? Not a big deal as they should be short-lived eden and we'd be deserializing it anyway, just thinking of the tradeoffs between having a central cache of deserialized mutations w/the current \"raciness\" attributes vs. the threadlocal approach.\r\n\r\nedit: ah, see it now: `Huge\" serialized mutations can have a\r\n                // bad impact to G1 GC, if the cached serialized mutation results in a\r\n                // \"humonguous object\" and also frequent re-allocations of the scratch buffer(s).\r\n                // I.e. large cached mutation objects cause GC pressure.`","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1331256000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1331398159","html_url":"https://github.com/apache/cassandra/pull/2031#issuecomment-1331398159","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2031","id":1331398159,"node_id":"IC_kwDOAAMmWM5PW4YP","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T22:24:36Z","updated_at":"2022-11-29T22:24:36Z","author_association":"CONTRIBUTOR","body":"> Can we separate commits between introducing the linter, to code fixes for the linter?\r\n\r\nWhat is the intent?  I don't plan do merge with multiple commits, so is this to help review?\r\n\r\n> Can we bring over checkstyle and other linter stuff from build.xml to .build/build-linter.xml ?\r\n\r\nI could, I just felt this patch was large already...\r\n\r\n> Unrelated, what's your thoughts about the .build/[cassandra-build-deps-template](https://issues.apache.org/jira/browse/CASSANDRA-build-deps-template).xml filenames? (Is template confusing and should they be called something like .build/cassandra-build-deps-unfiltered.xml instead?)\r\n\r\nI find `template` is better than `unfiltered` as `template` is more what this is... a file we modify using special keywords to generate our desired output...","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1331398159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1331409457","html_url":"https://github.com/apache/cassandra/pull/2031#issuecomment-1331409457","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2031","id":1331409457,"node_id":"IC_kwDOAAMmWM5PW7Ix","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T22:38:28Z","updated_at":"2022-11-29T22:38:28Z","author_association":"CONTRIBUTOR","body":"spoke on slack about multi-commit; \r\n\r\n> trivial, can be ignored. i suspect folk may desire that separation even in the merge\r\n\r\nMy stance is that I am not a fan, but I may be bias as most of the time I see people do this in this project, the commits have issues when not containing everything for the JIRA... I \"could\" make sure to avoid this, but I don't see the benefit ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1331409457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1334529329","html_url":"https://github.com/apache/cassandra/pull/1962#issuecomment-1334529329","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1962","id":1334529329,"node_id":"IC_kwDOAAMmWM5Pi00x","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T22:29:28Z","updated_at":"2022-12-02T06:06:29Z","author_association":"CONTRIBUTOR","body":"https://app.circleci.com/pipelines/github/maedhroz/cassandra?branch=CASSANDRA-17719-v2","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1334529329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1336512942","html_url":"https://github.com/apache/cassandra/pull/1954#issuecomment-1336512942","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1954","id":1336512942,"node_id":"IC_kwDOAAMmWM5PqZGu","user":{"login":"tjake","id":44456,"node_id":"MDQ6VXNlcjQ0NDU2","avatar_url":"https://avatars.githubusercontent.com/u/44456?v=4","gravatar_id":"","url":"https://api.github.com/users/tjake","html_url":"https://github.com/tjake","followers_url":"https://api.github.com/users/tjake/followers","following_url":"https://api.github.com/users/tjake/following{/other_user}","gists_url":"https://api.github.com/users/tjake/gists{/gist_id}","starred_url":"https://api.github.com/users/tjake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tjake/subscriptions","organizations_url":"https://api.github.com/users/tjake/orgs","repos_url":"https://api.github.com/users/tjake/repos","events_url":"https://api.github.com/users/tjake/events{/privacy}","received_events_url":"https://api.github.com/users/tjake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-04T20:44:37Z","updated_at":"2022-12-04T20:44:37Z","author_association":"MEMBER","body":"Thanks for the great review.  I reworked the code to avoid the whole limiting buffer/exception throwing. And I think addressed all the other issues you mentioned.\r\n\r\n> Why would caching a mutation at any given size be particularly bad for GC? \r\n\r\nSince you can end up making [Humongous allocations](https://docs.oracle.com/javase/10/gctuning/garbage-first-garbage-collector.htm#JSGCT-GUID-AC383806-7FA7-4698-8B92-4FD092B9F368) \r\n\r\nThis threshold is based on the size of the heap but 1MB is a good default since that's the low end and covers 99% of Mutations.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1336512942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1338376375","html_url":"https://github.com/apache/cassandra/pull/1993#issuecomment-1338376375","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1993","id":1338376375,"node_id":"IC_kwDOAAMmWM5PxgC3","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T23:50:03Z","updated_at":"2022-12-05T23:50:03Z","author_association":"CONTRIBUTOR","body":"> And a change in build.xml that I guess it was just forgotten to revert maybe when reverting the other jdk17 stuff.\r\n\r\nnope, build.xml is expected.  `arch_x86` is needed to build on j8 on M1 Macs, and the rest are cleanups (optional); stuff like adding better error message when you run on a unsupported JDK","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1338376375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1338377994","html_url":"https://github.com/apache/cassandra/pull/1993#issuecomment-1338377994","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1993","id":1338377994,"node_id":"IC_kwDOAAMmWM5PxgcK","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T23:52:02Z","updated_at":"2022-12-05T23:52:02Z","author_association":"CONTRIBUTOR","body":"> So I think this needs squash, rebase and final run\r\n\r\npushed latest changes\r\n\r\n> We need to test also that if jobs are added or changed, the generate.sh will pick them up from diff as others and they will be pushed in a loop in CI to check for flakies \r\n\r\nnow that the repeat jobs got deleted by default I don't know how to run them so I never run them anymore... how do you run it now?","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1338377994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1339720224","html_url":"https://github.com/apache/cassandra/pull/1954#issuecomment-1339720224","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1954","id":1339720224,"node_id":"IC_kwDOAAMmWM5P2oIg","user":{"login":"jmckenzie-dev","id":6588455,"node_id":"MDQ6VXNlcjY1ODg0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6588455?v=4","gravatar_id":"","url":"https://api.github.com/users/jmckenzie-dev","html_url":"https://github.com/jmckenzie-dev","followers_url":"https://api.github.com/users/jmckenzie-dev/followers","following_url":"https://api.github.com/users/jmckenzie-dev/following{/other_user}","gists_url":"https://api.github.com/users/jmckenzie-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/jmckenzie-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmckenzie-dev/subscriptions","organizations_url":"https://api.github.com/users/jmckenzie-dev/orgs","repos_url":"https://api.github.com/users/jmckenzie-dev/repos","events_url":"https://api.github.com/users/jmckenzie-dev/events{/privacy}","received_events_url":"https://api.github.com/users/jmckenzie-dev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T17:23:44Z","updated_at":"2022-12-06T17:23:44Z","author_association":"CONTRIBUTOR","body":"Couple spelling nits and it looks like we dropped the new unit test in DataOutputTest when we dropped that unused import:\r\n```\r\n    @Test\r\n    public void testDataOutputBufferLimitingScratchBuffer() throws IOException\r\n    {\r\n```\r\n\r\nw/those fixed we're good to go. 👍 ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1339720224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340016087","html_url":"https://github.com/apache/cassandra/pull/2043#issuecomment-1340016087","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2043","id":1340016087,"node_id":"IC_kwDOAAMmWM5P3wXX","user":{"login":"aweisberg","id":1047741,"node_id":"MDQ6VXNlcjEwNDc3NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1047741?v=4","gravatar_id":"","url":"https://api.github.com/users/aweisberg","html_url":"https://github.com/aweisberg","followers_url":"https://api.github.com/users/aweisberg/followers","following_url":"https://api.github.com/users/aweisberg/following{/other_user}","gists_url":"https://api.github.com/users/aweisberg/gists{/gist_id}","starred_url":"https://api.github.com/users/aweisberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aweisberg/subscriptions","organizations_url":"https://api.github.com/users/aweisberg/orgs","repos_url":"https://api.github.com/users/aweisberg/repos","events_url":"https://api.github.com/users/aweisberg/events{/privacy}","received_events_url":"https://api.github.com/users/aweisberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T21:15:49Z","updated_at":"2022-12-06T21:15:49Z","author_association":"CONTRIBUTOR","body":"So I think one thing to be aware of is that we aren't reading an unsigned int32. There is maybe zero code that handles unsigned int32s? We are casting to a signed int and the checked cast is for a signed ints range of values.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340016087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340047632","html_url":"https://github.com/apache/cassandra/pull/2043#issuecomment-1340047632","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2043","id":1340047632,"node_id":"IC_kwDOAAMmWM5P34EQ","user":{"login":"belliottsmith","id":5220766,"node_id":"MDQ6VXNlcjUyMjA3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5220766?v=4","gravatar_id":"","url":"https://api.github.com/users/belliottsmith","html_url":"https://github.com/belliottsmith","followers_url":"https://api.github.com/users/belliottsmith/followers","following_url":"https://api.github.com/users/belliottsmith/following{/other_user}","gists_url":"https://api.github.com/users/belliottsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/belliottsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belliottsmith/subscriptions","organizations_url":"https://api.github.com/users/belliottsmith/orgs","repos_url":"https://api.github.com/users/belliottsmith/repos","events_url":"https://api.github.com/users/belliottsmith/events{/privacy}","received_events_url":"https://api.github.com/users/belliottsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T21:41:30Z","updated_at":"2022-12-06T21:41:30Z","author_association":"CONTRIBUTOR","body":"For consistency with the existing API though the valid thing to do would be to simply check its populating at most 32 bits, and if the 32nd bit is set it’s a negative int that may (or may not) be interpreted by the caller as an unsigned value.\r\n\r\nThat said, we could instead introduce eg readNaturalInt32 which would expect at most 31bits to be set, which might be better.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340047632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340719493","html_url":"https://github.com/apache/cassandra/pull/2038#issuecomment-1340719493","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2038","id":1340719493,"node_id":"IC_kwDOAAMmWM5P6cGF","user":{"login":"belliottsmith","id":5220766,"node_id":"MDQ6VXNlcjUyMjA3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5220766?v=4","gravatar_id":"","url":"https://api.github.com/users/belliottsmith","html_url":"https://github.com/belliottsmith","followers_url":"https://api.github.com/users/belliottsmith/followers","following_url":"https://api.github.com/users/belliottsmith/following{/other_user}","gists_url":"https://api.github.com/users/belliottsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/belliottsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belliottsmith/subscriptions","organizations_url":"https://api.github.com/users/belliottsmith/orgs","repos_url":"https://api.github.com/users/belliottsmith/repos","events_url":"https://api.github.com/users/belliottsmith/events{/privacy}","received_events_url":"https://api.github.com/users/belliottsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T10:26:05Z","updated_at":"2022-12-07T10:26:05Z","author_association":"CONTRIBUTOR","body":"Yes, we could definitely convert to nanos earlier and always use nanos. Perhaps we can do that in a follow-up patch.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340719493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340721435","html_url":"https://github.com/apache/cassandra/pull/2038#issuecomment-1340721435","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2038","id":1340721435,"node_id":"IC_kwDOAAMmWM5P6ckb","user":{"login":"belliottsmith","id":5220766,"node_id":"MDQ6VXNlcjUyMjA3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5220766?v=4","gravatar_id":"","url":"https://api.github.com/users/belliottsmith","html_url":"https://github.com/belliottsmith","followers_url":"https://api.github.com/users/belliottsmith/followers","following_url":"https://api.github.com/users/belliottsmith/following{/other_user}","gists_url":"https://api.github.com/users/belliottsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/belliottsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belliottsmith/subscriptions","organizations_url":"https://api.github.com/users/belliottsmith/orgs","repos_url":"https://api.github.com/users/belliottsmith/repos","events_url":"https://api.github.com/users/belliottsmith/events{/privacy}","received_events_url":"https://api.github.com/users/belliottsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T10:27:29Z","updated_at":"2022-12-07T10:27:29Z","author_association":"CONTRIBUTOR","body":"Marianne, I think you intended to merge the 18097 PR in here, but it seems to have merged \"cleanly\" meaning none of the commits were adopted. Not sure what happened there.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340721435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340816358","html_url":"https://github.com/apache/cassandra/pull/2038#issuecomment-1340816358","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2038","id":1340816358,"node_id":"IC_kwDOAAMmWM5P6zvm","user":{"login":"marianne-manaog","id":91789965,"node_id":"U_kgDOBXiajQ","avatar_url":"https://avatars.githubusercontent.com/u/91789965?v=4","gravatar_id":"","url":"https://api.github.com/users/marianne-manaog","html_url":"https://github.com/marianne-manaog","followers_url":"https://api.github.com/users/marianne-manaog/followers","following_url":"https://api.github.com/users/marianne-manaog/following{/other_user}","gists_url":"https://api.github.com/users/marianne-manaog/gists{/gist_id}","starred_url":"https://api.github.com/users/marianne-manaog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marianne-manaog/subscriptions","organizations_url":"https://api.github.com/users/marianne-manaog/orgs","repos_url":"https://api.github.com/users/marianne-manaog/repos","events_url":"https://api.github.com/users/marianne-manaog/events{/privacy}","received_events_url":"https://api.github.com/users/marianne-manaog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T11:14:13Z","updated_at":"2022-12-07T11:14:13Z","author_association":"NONE","body":"Thanks for your comment, @belliottsmith. I have updated this branch and PR to reflect all related changes required for review.\r\n\r\n> Marianne, I think you intended to merge the 18097 PR in here, but it seems to have merged \"cleanly\" meaning none of the commits were adopted. Not sure what happened there.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340816358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340893842","html_url":"https://github.com/apache/cassandra/pull/2038#issuecomment-1340893842","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2038","id":1340893842,"node_id":"IC_kwDOAAMmWM5P7GqS","user":{"login":"marianne-manaog","id":91789965,"node_id":"U_kgDOBXiajQ","avatar_url":"https://avatars.githubusercontent.com/u/91789965?v=4","gravatar_id":"","url":"https://api.github.com/users/marianne-manaog","html_url":"https://github.com/marianne-manaog","followers_url":"https://api.github.com/users/marianne-manaog/followers","following_url":"https://api.github.com/users/marianne-manaog/following{/other_user}","gists_url":"https://api.github.com/users/marianne-manaog/gists{/gist_id}","starred_url":"https://api.github.com/users/marianne-manaog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marianne-manaog/subscriptions","organizations_url":"https://api.github.com/users/marianne-manaog/orgs","repos_url":"https://api.github.com/users/marianne-manaog/repos","events_url":"https://api.github.com/users/marianne-manaog/events{/privacy}","received_events_url":"https://api.github.com/users/marianne-manaog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-07T12:25:26Z","updated_at":"2022-12-07T12:25:26Z","author_association":"NONE","body":"Thanks for your comment, @aweisberg. @mfleming kindly added the required tests in [this commit](8ec9d77de6492189fdce92d4b09e9104c6626fae).\r\n\r\n> Can you add a unit test to `ContentionStrategyTest` that checks that `computeWaitUntilForContention` is producing values in the range we want?\r\n> \r\n> A better fix is probably to only use microseconds in configuration where it makes expressing the configuration easier and convert to nanoseconds immediately upon reading the configuration. @belliottsmith WDYT?\r\n> \r\n> At a higher level a [`Duration`](https://github.com/airlift/units/blob/c25cb5704978c48f8ce966d0c06447e351cab609/src/main/java/io/airlift/units/Duration.java) would be safer. It works as both a return value and a parameter unlike `TimeUnit` which doesn't pair well with a value.\r\n> \r\n> Or we can keep going with somewhat ambiguous types and just be careful about naming and converting things to nanoseconds as soon as possible.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1340893842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1341840513","html_url":"https://github.com/apache/cassandra/pull/1962#issuecomment-1341840513","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1962","id":1341840513,"node_id":"IC_kwDOAAMmWM5P-tyB","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-08T01:22:37Z","updated_at":"2022-12-08T01:22:37Z","author_association":"CONTRIBUTOR","body":"so close.  I am mostly +1 but there are still a few bugs remaining; once resolved I am +1","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1341840513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1344622625","html_url":"https://github.com/apache/cassandra/pull/2038#issuecomment-1344622625","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2038","id":1344622625,"node_id":"IC_kwDOAAMmWM5QJVAh","user":{"login":"aweisberg","id":1047741,"node_id":"MDQ6VXNlcjEwNDc3NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1047741?v=4","gravatar_id":"","url":"https://api.github.com/users/aweisberg","html_url":"https://github.com/aweisberg","followers_url":"https://api.github.com/users/aweisberg/followers","following_url":"https://api.github.com/users/aweisberg/following{/other_user}","gists_url":"https://api.github.com/users/aweisberg/gists{/gist_id}","starred_url":"https://api.github.com/users/aweisberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aweisberg/subscriptions","organizations_url":"https://api.github.com/users/aweisberg/orgs","repos_url":"https://api.github.com/users/aweisberg/repos","events_url":"https://api.github.com/users/aweisberg/events{/privacy}","received_events_url":"https://api.github.com/users/aweisberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-09T18:23:24Z","updated_at":"2022-12-09T18:23:24Z","author_association":"CONTRIBUTOR","body":"Committed as [f0ad7eadbeb3208e08a9339881931222fdab253b](https://github.com/apache/cassandra/commit/f0ad7eadbeb3208e08a9339881931222fdab253b)","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1344622625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1344622685","html_url":"https://github.com/apache/cassandra/pull/2044#issuecomment-1344622685","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2044","id":1344622685,"node_id":"IC_kwDOAAMmWM5QJVBd","user":{"login":"aweisberg","id":1047741,"node_id":"MDQ6VXNlcjEwNDc3NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1047741?v=4","gravatar_id":"","url":"https://api.github.com/users/aweisberg","html_url":"https://github.com/aweisberg","followers_url":"https://api.github.com/users/aweisberg/followers","following_url":"https://api.github.com/users/aweisberg/following{/other_user}","gists_url":"https://api.github.com/users/aweisberg/gists{/gist_id}","starred_url":"https://api.github.com/users/aweisberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aweisberg/subscriptions","organizations_url":"https://api.github.com/users/aweisberg/orgs","repos_url":"https://api.github.com/users/aweisberg/repos","events_url":"https://api.github.com/users/aweisberg/events{/privacy}","received_events_url":"https://api.github.com/users/aweisberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-09T18:23:30Z","updated_at":"2022-12-09T18:23:30Z","author_association":"CONTRIBUTOR","body":"Committed as [f0ad7eadbeb3208e08a9339881931222fdab253b](https://github.com/apache/cassandra/commit/f0ad7eadbeb3208e08a9339881931222fdab253b)","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1344622685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1346919902","html_url":"https://github.com/apache/cassandra/pull/2043#issuecomment-1346919902","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2043","id":1346919902,"node_id":"IC_kwDOAAMmWM5QSF3e","user":{"login":"aweisberg","id":1047741,"node_id":"MDQ6VXNlcjEwNDc3NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1047741?v=4","gravatar_id":"","url":"https://api.github.com/users/aweisberg","html_url":"https://github.com/aweisberg","followers_url":"https://api.github.com/users/aweisberg/followers","following_url":"https://api.github.com/users/aweisberg/following{/other_user}","gists_url":"https://api.github.com/users/aweisberg/gists{/gist_id}","starred_url":"https://api.github.com/users/aweisberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aweisberg/subscriptions","organizations_url":"https://api.github.com/users/aweisberg/orgs","repos_url":"https://api.github.com/users/aweisberg/repos","events_url":"https://api.github.com/users/aweisberg/events{/privacy}","received_events_url":"https://api.github.com/users/aweisberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-12T17:24:17Z","updated_at":"2022-12-12T17:24:17Z","author_association":"CONTRIBUTOR","body":"OK, this looks like it is passing tests now https://app.circleci.com/pipelines/github/aweisberg/cassandra?branch=cassandra-18099-trunk","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1346919902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1347340207","html_url":"https://github.com/apache/cassandra/pull/1962#issuecomment-1347340207","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1962","id":1347340207,"node_id":"IC_kwDOAAMmWM5QTsev","user":{"login":"maedhroz","id":630857,"node_id":"MDQ6VXNlcjYzMDg1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/630857?v=4","gravatar_id":"","url":"https://api.github.com/users/maedhroz","html_url":"https://github.com/maedhroz","followers_url":"https://api.github.com/users/maedhroz/followers","following_url":"https://api.github.com/users/maedhroz/following{/other_user}","gists_url":"https://api.github.com/users/maedhroz/gists{/gist_id}","starred_url":"https://api.github.com/users/maedhroz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maedhroz/subscriptions","organizations_url":"https://api.github.com/users/maedhroz/orgs","repos_url":"https://api.github.com/users/maedhroz/repos","events_url":"https://api.github.com/users/maedhroz/events{/privacy}","received_events_url":"https://api.github.com/users/maedhroz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-12T21:15:31Z","updated_at":"2022-12-12T21:15:31Z","author_association":"CONTRIBUTOR","body":"Committed in https://github.com/apache/cassandra/commit/33f670bab67643b4ac0220e4be99c23b3104080e","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1347340207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1352608426","html_url":"https://github.com/apache/cassandra/pull/2050#issuecomment-1352608426","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2050","id":1352608426,"node_id":"IC_kwDOAAMmWM5Qnyqq","user":{"login":"nvharikrishna","id":5799317,"node_id":"MDQ6VXNlcjU3OTkzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/5799317?v=4","gravatar_id":"","url":"https://api.github.com/users/nvharikrishna","html_url":"https://github.com/nvharikrishna","followers_url":"https://api.github.com/users/nvharikrishna/followers","following_url":"https://api.github.com/users/nvharikrishna/following{/other_user}","gists_url":"https://api.github.com/users/nvharikrishna/gists{/gist_id}","starred_url":"https://api.github.com/users/nvharikrishna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nvharikrishna/subscriptions","organizations_url":"https://api.github.com/users/nvharikrishna/orgs","repos_url":"https://api.github.com/users/nvharikrishna/repos","events_url":"https://api.github.com/users/nvharikrishna/events{/privacy}","received_events_url":"https://api.github.com/users/nvharikrishna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-15T06:18:11Z","updated_at":"2022-12-15T06:18:11Z","author_association":"CONTRIBUTOR","body":"On a different note, printing \"------\" is skipped for the first value: https://github.com/apache/cassandra/blob/trunk/tools/fqltool/src/org/apache/cassandra/fqltool/commands/Dump.java#L230-L237.\r\n\r\nNot sure why it is done that way. But when there are multiple values, it is slightly difficult to differentiate the fist and second value. I can remove the \"first\" check too, if agreed.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1352608426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1352885971","html_url":"https://github.com/apache/cassandra/pull/2051#issuecomment-1352885971","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2051","id":1352885971,"node_id":"IC_kwDOAAMmWM5Qo2bT","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-15T10:52:19Z","updated_at":"2022-12-15T10:52:19Z","author_association":"CONTRIBUTOR","body":"CI [3.11](https://app.circleci.com/pipelines/github/bereng/cassandra?branch=CASSANDRA-18118-3.11)","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1352885971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1356848357","html_url":"https://github.com/apache/cassandra/pull/1954#issuecomment-1356848357","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1954","id":1356848357,"node_id":"IC_kwDOAAMmWM5Q39zl","user":{"login":"tjake","id":44456,"node_id":"MDQ6VXNlcjQ0NDU2","avatar_url":"https://avatars.githubusercontent.com/u/44456?v=4","gravatar_id":"","url":"https://api.github.com/users/tjake","html_url":"https://github.com/tjake","followers_url":"https://api.github.com/users/tjake/followers","following_url":"https://api.github.com/users/tjake/following{/other_user}","gists_url":"https://api.github.com/users/tjake/gists{/gist_id}","starred_url":"https://api.github.com/users/tjake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tjake/subscriptions","organizations_url":"https://api.github.com/users/tjake/orgs","repos_url":"https://api.github.com/users/tjake/repos","events_url":"https://api.github.com/users/tjake/events{/privacy}","received_events_url":"https://api.github.com/users/tjake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-18T18:16:04Z","updated_at":"2022-12-18T18:16:04Z","author_association":"MEMBER","body":"> Couple spelling nits and it looks like we dropped the new unit test in DataOutputTest when we dropped that unused import:\r\n> \r\n> ```\r\n>     @Test\r\n>     public void testDataOutputBufferLimitingScratchBuffer() throws IOException\r\n>     {\r\n> ```\r\n> \r\n> w/those fixed we're good to go. +1\r\n\r\nI removed the LimitingScratchBuffer altogether.  Fixing the typos thx","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1356848357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1358045881","html_url":"https://github.com/apache/cassandra/pull/1892#issuecomment-1358045881","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1892","id":1358045881,"node_id":"IC_kwDOAAMmWM5Q8iK5","user":{"login":"adelapena","id":5229055,"node_id":"MDQ6VXNlcjUyMjkwNTU=","avatar_url":"https://avatars.githubusercontent.com/u/5229055?v=4","gravatar_id":"","url":"https://api.github.com/users/adelapena","html_url":"https://github.com/adelapena","followers_url":"https://api.github.com/users/adelapena/followers","following_url":"https://api.github.com/users/adelapena/following{/other_user}","gists_url":"https://api.github.com/users/adelapena/gists{/gist_id}","starred_url":"https://api.github.com/users/adelapena/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adelapena/subscriptions","organizations_url":"https://api.github.com/users/adelapena/orgs","repos_url":"https://api.github.com/users/adelapena/repos","events_url":"https://api.github.com/users/adelapena/events{/privacy}","received_events_url":"https://api.github.com/users/adelapena/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-19T18:08:20Z","updated_at":"2022-12-19T18:08:20Z","author_association":"CONTRIBUTOR","body":"Thanks for the review. I have rebased the branch and tried to address the suggestions on an additional commit. CI:\r\n\r\n* https://app.circleci.com/pipelines/github/adelapena/cassandra/2531/workflows/0c22bed2-ed42-4d96-985d-df23a36d846f\r\n* https://app.circleci.com/pipelines/github/adelapena/cassandra/2531/workflows/d78e875e-ec27-4a93-935d-1f9233065e19\r\n\r\nAs discussed on Slack, the proposed functions are taken into account in the `ResultSet` metadata when the functions are used as regular function calls in a `SELECT` query. That metadata will be comprised by functions calls with the adequate type. Thus, using functions that return a data type different to their input shouldn't be a problem when directly using the functions in queries, like for example `SELECT mask_hash(v) FROM t`. In that example, the `ResultSet` metadata will contain a column named `mask_hash(v)` of type `blob`. That shouldn't surprise the user running the query. \r\n\r\nHowever, we should take those return types into account during CASSANDRA-18068. On that ticket we will allow to attach the utility masking functions to table columns on `CREATE/ALTER TABLE`. That can be problematic because in that case the user query is not explicitly invoking the function, and the name and type of the column don't change on the `ResultSet`.\r\n\r\nProbably we will need to just forbid attaching type-altering masking functions to column definitions on `CREATE/ALTER TABLE`. We could also forbid them by default but have a config property that allows that kind of mapping, if we see any value to it. However, there doesn't seem to be a reason to forbid the explicit use of those functions on regular `SELECT` queries.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1358045881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1360373667","html_url":"https://github.com/apache/cassandra/pull/2057#issuecomment-1360373667","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2057","id":1360373667,"node_id":"IC_kwDOAAMmWM5RFaej","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-20T21:55:59Z","updated_at":"2022-12-20T21:55:59Z","author_association":"CONTRIBUTOR","body":"FYI need the following so tests can run\r\n\r\n```\r\ndiff --git .build/include-accord.sh .build/include-accord.sh\r\nindex 0dc01bf2ba..079c96da1c 100755\r\n--- .build/include-accord.sh\r\n+++ .build/include-accord.sh\r\n@@ -24,8 +24,8 @@ set -o nounset\r\n\r\n bin=\"$(cd \"$(dirname \"$0\")\" > /dev/null; pwd)\"\r\n\r\n-accord_repo='https://github.com/apache/cassandra-accord.git'\r\n-accord_branch='trunk'\r\n+accord_repo='https://github.com/bdeggleston/cassandra-accord.git'\r\n+accord_branch='async-chain'\r\n accord_src=\"$bin/cassandra-accord\"\r\n\r\n checkout() {\r\n```","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1360373667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1371052098","html_url":"https://github.com/apache/cassandra/pull/2046#issuecomment-1371052098","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2046","id":1371052098,"node_id":"IC_kwDOAAMmWM5RuJhC","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T15:11:33Z","updated_at":"2023-01-04T15:11:33Z","author_association":"CONTRIBUTOR","body":"@Mmuzaf could you please make one commit (squash it) and rebase it all on top of the current trunk after you are done with the review? Starts to be messy a bit ... ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1371052098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1371413472","html_url":"https://github.com/apache/cassandra/pull/1973#issuecomment-1371413472","issue_url":"https://api.github.com/repos/apache/cassandra/issues/1973","id":1371413472,"node_id":"IC_kwDOAAMmWM5Rvhvg","user":{"login":"bschoening","id":5796692,"node_id":"MDQ6VXNlcjU3OTY2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5796692?v=4","gravatar_id":"","url":"https://api.github.com/users/bschoening","html_url":"https://github.com/bschoening","followers_url":"https://api.github.com/users/bschoening/followers","following_url":"https://api.github.com/users/bschoening/following{/other_user}","gists_url":"https://api.github.com/users/bschoening/gists{/gist_id}","starred_url":"https://api.github.com/users/bschoening/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bschoening/subscriptions","organizations_url":"https://api.github.com/users/bschoening/orgs","repos_url":"https://api.github.com/users/bschoening/repos","events_url":"https://api.github.com/users/bschoening/events{/privacy}","received_events_url":"https://api.github.com/users/bschoening/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-04T21:01:20Z","updated_at":"2023-01-04T21:01:20Z","author_association":"CONTRIBUTOR","body":"Yeah, that's inconsistent.  Jira 18006 was closed as a duplicate, however.\nIt looks like this PR just wasn't closed.\n\nBtw, I'd like to upgrade CQLSH from optparse to argparse, but I've tried\ntwice and the code is just too convoluted for me to figure it out thus far.\n\nOn Wed, Jan 4, 2023 at 3:30 PM Jeff Widman ***@***.***> wrote:\n\n> ***@***.**** commented on this pull request.\n> ------------------------------\n>\n> In pylib/cqlshlib/cqlshhandling.py\n> <https://github.com/apache/cassandra/pull/1973#discussion_r1061858463>:\n>\n> > @@ -141,7 +141,7 @@ def registrator(f):\n>  '''\n>\n>  cqlsh_capture_cmd_syntax_rules = r'''\n> -<captureCommand> ::= \"CAPTURE\" ( fname=( <stringLiteral> | \"OFF\" ) )?\n> +<captureCommand> ::= \"CAPTURE\" ( fname=( <stringLiteral>) | \"OFF\" )?\n>\n> The spaces between parens are inconsistent here: ( <stringLiteral>)\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/cassandra/pull/1973#pullrequestreview-1236442070>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABMHGVELXC46JLBSOYGAEZ3WQXMVRANCNFSM6AAAAAARXPBHSI>\n> .\n> You are receiving this because you authored the thread.Message ID:\n> ***@***.***>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1371413472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1372273263","html_url":"https://github.com/apache/cassandra/pull/2050#issuecomment-1372273263","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2050","id":1372273263,"node_id":"IC_kwDOAAMmWM5Ryzpv","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-05T14:19:08Z","updated_at":"2023-01-05T14:19:08Z","author_association":"CONTRIBUTOR","body":"@nvharikrishna can you please paste here the output so we clearly see what you mean by that \"--------\" comment?\r\n\r\nI think we should preserve the output and we should not change it. Just fixing the null issue should be enough here.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1372273263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1372729327","html_url":"https://github.com/apache/cassandra/pull/2046#issuecomment-1372729327","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2046","id":1372729327,"node_id":"IC_kwDOAAMmWM5R0i_v","user":{"login":"Mmuzaf","id":3415046,"node_id":"MDQ6VXNlcjM0MTUwNDY=","avatar_url":"https://avatars.githubusercontent.com/u/3415046?v=4","gravatar_id":"","url":"https://api.github.com/users/Mmuzaf","html_url":"https://github.com/Mmuzaf","followers_url":"https://api.github.com/users/Mmuzaf/followers","following_url":"https://api.github.com/users/Mmuzaf/following{/other_user}","gists_url":"https://api.github.com/users/Mmuzaf/gists{/gist_id}","starred_url":"https://api.github.com/users/Mmuzaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mmuzaf/subscriptions","organizations_url":"https://api.github.com/users/Mmuzaf/orgs","repos_url":"https://api.github.com/users/Mmuzaf/repos","events_url":"https://api.github.com/users/Mmuzaf/events{/privacy}","received_events_url":"https://api.github.com/users/Mmuzaf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-05T20:49:20Z","updated_at":"2023-01-05T20:49:20Z","author_association":"CONTRIBUTOR","body":"@smiklosovic Thank you for your review.\r\nI've resolved and fixed all your comments. The commits have also been squashed.\r\n\r\nI will re-run the tests and check them again once Jenkins gets up.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1372729327/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1373865183","html_url":"https://github.com/apache/cassandra/pull/2058#issuecomment-1373865183","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2058","id":1373865183,"node_id":"IC_kwDOAAMmWM5R44Tf","user":{"login":"isaacreath","id":4043571,"node_id":"MDQ6VXNlcjQwNDM1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4043571?v=4","gravatar_id":"","url":"https://api.github.com/users/isaacreath","html_url":"https://github.com/isaacreath","followers_url":"https://api.github.com/users/isaacreath/followers","following_url":"https://api.github.com/users/isaacreath/following{/other_user}","gists_url":"https://api.github.com/users/isaacreath/gists{/gist_id}","starred_url":"https://api.github.com/users/isaacreath/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isaacreath/subscriptions","organizations_url":"https://api.github.com/users/isaacreath/orgs","repos_url":"https://api.github.com/users/isaacreath/repos","events_url":"https://api.github.com/users/isaacreath/events{/privacy}","received_events_url":"https://api.github.com/users/isaacreath/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-06T16:27:17Z","updated_at":"2023-01-06T16:27:43Z","author_association":"CONTRIBUTOR","body":"@smiklosovic After thinking about this issue for a little bit, @pauloricardomg  and I came up with a different approach. \r\n\r\nWe moved the logic which increments the incoming / outgoing bytes metrics from the `StreamSession` to a dedicated class called the `FileStreamMetricsListener`. `FileStreamMetricsListener` objects will then be created by each `CassandraIncomingFile` and `CassandraOutgoingFile`. These then pass the `FileStreamMetricsListener` to the appropriate stream reader / writer. As those reader / writers transfer bytes, `FileStreamMetricsListener::onBytesTransferred` will be called to update the metrics. When file transfer is complete, we call `FileStreamMetricsListener::onStreamSuccessful` to verify that we've tracked the size appropriately (thus ensuring that any new stream reader / writers are calling `onBytesTransferred`). \r\n\r\nThis approach addresses the concerns of having an ever-growing map of `ProgressInfo` objects and it neatly encapsulates the logic for updating these counter objects. There are some aspects of this approach of which I am not a fan, namely the fact that there is little ensuring that new Stream reader / writer objects actually create a `FileStreamMetricsListener` and update it properly; but, from looking at the code, there is some refactoring which needs to be done to unify all of the stream reader / writer classes in a single hierarchy that should probably be handled outside the scope of this ticket before we could consider cleaning up this approach. ","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1373865183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1376561157","html_url":"https://github.com/apache/cassandra/pull/2066#issuecomment-1376561157","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2066","id":1376561157,"node_id":"IC_kwDOAAMmWM5SDKgF","user":{"login":"jonmeredith","id":64318,"node_id":"MDQ6VXNlcjY0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/64318?v=4","gravatar_id":"","url":"https://api.github.com/users/jonmeredith","html_url":"https://github.com/jonmeredith","followers_url":"https://api.github.com/users/jonmeredith/followers","following_url":"https://api.github.com/users/jonmeredith/following{/other_user}","gists_url":"https://api.github.com/users/jonmeredith/gists{/gist_id}","starred_url":"https://api.github.com/users/jonmeredith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonmeredith/subscriptions","organizations_url":"https://api.github.com/users/jonmeredith/orgs","repos_url":"https://api.github.com/users/jonmeredith/repos","events_url":"https://api.github.com/users/jonmeredith/events{/privacy}","received_events_url":"https://api.github.com/users/jonmeredith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-10T00:48:12Z","updated_at":"2023-01-10T00:48:12Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nLooks pretty solid with a couple of nits, and also noticed that\r\n`org.apache.cassandra.streaming.StreamingState.Sessions#receivedBytesPercent` and `org.apache.cassandra.streaming.StreamingState.Sessions#sentBytesPercent` are not used anywhere.\r\n\r\nAlso interesting that `div(0,0)` returns `BigDecimal.ZERO`, not `BigDecimal.ONE`... as in this usage you're 100% done sending 0 files.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1376561157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1377663244","html_url":"https://github.com/apache/cassandra/pull/2050#issuecomment-1377663244","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2050","id":1377663244,"node_id":"IC_kwDOAAMmWM5SHXkM","user":{"login":"nvharikrishna","id":5799317,"node_id":"MDQ6VXNlcjU3OTkzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/5799317?v=4","gravatar_id":"","url":"https://api.github.com/users/nvharikrishna","html_url":"https://github.com/nvharikrishna","followers_url":"https://api.github.com/users/nvharikrishna/followers","following_url":"https://api.github.com/users/nvharikrishna/following{/other_user}","gists_url":"https://api.github.com/users/nvharikrishna/gists{/gist_id}","starred_url":"https://api.github.com/users/nvharikrishna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nvharikrishna/subscriptions","organizations_url":"https://api.github.com/users/nvharikrishna/orgs","repos_url":"https://api.github.com/users/nvharikrishna/repos","events_url":"https://api.github.com/users/nvharikrishna/events{/privacy}","received_events_url":"https://api.github.com/users/nvharikrishna/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-10T18:15:46Z","updated_at":"2023-01-10T18:15:46Z","author_association":"CONTRIBUTOR","body":"If I create a table something like this:\r\n\r\n`CREATE TABLE t1 ( id int PRIMARY KEY , v1 int, v2 int, v3 int) ;`\r\n\r\nand inserted a row using:\r\n\r\n```\r\ntry (CqlSession cqlSession = CqlSession.builder().build()) {\r\n    PreparedStatement preparedStatement = cqlSession.prepare(\"INSERT INTO ks1.t1 (id, v1, v2, v3) VALUES (?, ?, ?, ?)\");\r\n    cqlSession.execute(preparedStatement.bind(1, 1, 1, 1));\r\n}\r\n```\r\n\r\nThe output of fqltool looks something like this:\r\n\r\n```\r\nType: single-query\r\nQuery start time: 1673373829119\r\nProtocol version: 5\r\nGenerated timestamp:-9223372036854775808\r\nGenerated nowInSeconds:1673373829\r\nQuery: INSERT INTO ks1.t1 (id, v1, v2, v3) VALUES (?, ?, ?, ?)\r\nValues: \r\n00000000 00 00 00 01                                      ····             \r\n00000000 00 00 00 01                                      ····             \r\n-----\r\n00000000 00 00 00 01                                      ····             \r\n-----\r\n00000000 00 00 00 01                                      ····             \r\n-----\r\n```\r\n\r\n`-----` is not printed between the first and second value\r\n```\r\nValues: \r\n00000000 00 00 00 01                                      ····             \r\n00000000 00 00 00 01                                      ····             \r\n```","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1377663244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1377749035","html_url":"https://github.com/apache/cassandra/pull/2050#issuecomment-1377749035","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2050","id":1377749035,"node_id":"IC_kwDOAAMmWM5SHsgr","user":{"login":"smiklosovic","id":588603,"node_id":"MDQ6VXNlcjU4ODYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/588603?v=4","gravatar_id":"","url":"https://api.github.com/users/smiklosovic","html_url":"https://github.com/smiklosovic","followers_url":"https://api.github.com/users/smiklosovic/followers","following_url":"https://api.github.com/users/smiklosovic/following{/other_user}","gists_url":"https://api.github.com/users/smiklosovic/gists{/gist_id}","starred_url":"https://api.github.com/users/smiklosovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smiklosovic/subscriptions","organizations_url":"https://api.github.com/users/smiklosovic/orgs","repos_url":"https://api.github.com/users/smiklosovic/repos","events_url":"https://api.github.com/users/smiklosovic/events{/privacy}","received_events_url":"https://api.github.com/users/smiklosovic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-10T19:32:18Z","updated_at":"2023-01-10T19:32:18Z","author_association":"CONTRIBUTOR","body":"@nvharikrishna thanks, interesting, that seems like a bug. Sorry it is taking so long to review this more closely. I should return to this soon.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1377749035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1377795911","html_url":"https://github.com/apache/cassandra/pull/2066#issuecomment-1377795911","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2066","id":1377795911,"node_id":"IC_kwDOAAMmWM5SH39H","user":{"login":"dcapwell","id":1852601,"node_id":"MDQ6VXNlcjE4NTI2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/1852601?v=4","gravatar_id":"","url":"https://api.github.com/users/dcapwell","html_url":"https://github.com/dcapwell","followers_url":"https://api.github.com/users/dcapwell/followers","following_url":"https://api.github.com/users/dcapwell/following{/other_user}","gists_url":"https://api.github.com/users/dcapwell/gists{/gist_id}","starred_url":"https://api.github.com/users/dcapwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcapwell/subscriptions","organizations_url":"https://api.github.com/users/dcapwell/orgs","repos_url":"https://api.github.com/users/dcapwell/repos","events_url":"https://api.github.com/users/dcapwell/events{/privacy}","received_events_url":"https://api.github.com/users/dcapwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-10T20:16:38Z","updated_at":"2023-01-10T20:16:38Z","author_association":"CONTRIBUTOR","body":"> and also noticed that\r\norg.apache.cassandra.streaming.StreamingState.Sessions#receivedBytesPercent and org.apache.cassandra.streaming.StreamingState.Sessions#sentBytesPercent are not used anywhere.\r\n\r\nRemoved the dead code\r\n\r\n> Also interesting that div(0,0) returns BigDecimal.ZERO, not BigDecimal.ONE... as in this usage you're 100% done sending 0 files.\r\n\r\n`div` is only used by `progress`, which is \r\n\r\n```\r\nreturn div(bytesSent + bytesReceived, bytesToSend + bytesToReceive);\r\n```\r\n\r\nThere are 2 cases where `bytesToSend + bytesToReceive == 0`\r\n\r\n1) not seen any PREPARE acks; we don't know what is going to be streamed yet\r\n2) nothing to stream; not sure how common this is... Maybe preview repair hits this, else it would be instance doesn't have anything for the range?\r\n\r\nI left a comment to Abe (in here or slack don't remember); the fields are set to `0` on init, so can't tell if #1 has happened yet, so can't tell if we are done (nothing to stream) or not started yet...\r\n\r\nNow, how critical is this?  The only usage of `progress` is \r\n\r\n```\r\n// StreamingState\r\npublic float progress()\r\n    {\r\n        switch (status)\r\n        {\r\n            case INIT:\r\n                return 0;\r\n            case START:\r\n                return Math.min(0.99f, sessions().progress().floatValue());\r\n            case SUCCESS:\r\n            case FAILURE:\r\n                return 1;\r\n            default:\r\n                throw new AssertionError(\"unknown state: \" + status);\r\n        }\r\n    }\r\n```\r\n\r\nSo, we only call `sessions().progress()` when we know the stream is started and not completed.  This means that the empty case should be SUCCESS and return `1`, so the only case is #1...\r\n\r\nGiven all this, the correct value to return is `0` as we are not started yet... should `div` handle this?  I can always move higher up if desired... but `0` is still the correct answer\r\n","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1377795911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1378313945","html_url":"https://github.com/apache/cassandra/pull/2051#issuecomment-1378313945","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2051","id":1378313945,"node_id":"IC_kwDOAAMmWM5SJ2bZ","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T06:57:55Z","updated_at":"2023-01-11T06:57:55Z","author_association":"CONTRIBUTOR","body":"CI [3.11](https://app.circleci.com/pipelines/github/bereng/cassandra/832/workflows/9572df36-5bf8-4b15-a33c-7bb1bfeadcf4)\r\n\r\nPlease notice [this](https://github.com/apache/cassandra/pull/2051/files#diff-b4515f390c3b40e1f64feda8fd8746647b43cda26f8019ec96fc2dd4320fa96cR716) I somehow missed in my previous PR, pretty non-controversial imo.","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1378313945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1378379994","html_url":"https://github.com/apache/cassandra/pull/2077#issuecomment-1378379994","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2077","id":1378379994,"node_id":"IC_kwDOAAMmWM5SKGja","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T08:14:48Z","updated_at":"2023-01-11T08:35:05Z","author_association":"CONTRIBUTOR","body":"CI [j8](https://app.circleci.com/pipelines/github/bereng/cassandra/833/workflows/1b1280c5-4b8f-412c-9bc8-a3e0639ac05f)\r\nCI [j11](https://app.circleci.com/pipelines/github/bereng/cassandra/833/workflows/d5008d0b-234b-42a8-9856-9cf36523a23e)\r\n\r\nBot CI lgtm. The j8 failure is a circle env problem pulling docker images and we can see in other runs it is good. The j11 is CASSANDRA-17245 and passes locally so it's a legit unrelated flaky","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1378379994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1378405959","html_url":"https://github.com/apache/cassandra/pull/2078#issuecomment-1378405959","issue_url":"https://api.github.com/repos/apache/cassandra/issues/2078","id":1378405959,"node_id":"IC_kwDOAAMmWM5SKM5H","user":{"login":"bereng","id":6973517,"node_id":"MDQ6VXNlcjY5NzM1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6973517?v=4","gravatar_id":"","url":"https://api.github.com/users/bereng","html_url":"https://github.com/bereng","followers_url":"https://api.github.com/users/bereng/followers","following_url":"https://api.github.com/users/bereng/following{/other_user}","gists_url":"https://api.github.com/users/bereng/gists{/gist_id}","starred_url":"https://api.github.com/users/bereng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bereng/subscriptions","organizations_url":"https://api.github.com/users/bereng/orgs","repos_url":"https://api.github.com/users/bereng/repos","events_url":"https://api.github.com/users/bereng/events{/privacy}","received_events_url":"https://api.github.com/users/bereng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-11T08:39:22Z","updated_at":"2023-01-11T08:39:22Z","author_association":"CONTRIBUTOR","body":"CI [j8](https://app.circleci.com/pipelines/github/bereng/cassandra/835/workflows/fe248a1d-b354-48e4-9264-95f8817948bf)\r\nCI [j11](https://app.circleci.com/pipelines/github/bereng/cassandra/835/workflows/e91b02dc-827c-4acd-8239-3964de4a385b)\r\n\r\nAll green :-)","reactions":{"url":"https://api.github.com/repos/apache/cassandra/issues/comments/1378405959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]