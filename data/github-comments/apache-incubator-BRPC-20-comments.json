[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478617343","html_url":"https://github.com/apache/brpc/issues/713#issuecomment-478617343","issue_url":"https://api.github.com/repos/apache/brpc/issues/713","id":478617343,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODYxNzM0Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-01T15:05:17Z","updated_at":"2019-04-01T15:05:17Z","author_association":"CONTRIBUTOR","body":"看看server端有无错误日志，以及可以试一些简单一些确认正确的base64字串","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478617343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478854210","html_url":"https://github.com/apache/brpc/issues/705#issuecomment-478854210","issue_url":"https://api.github.com/repos/apache/brpc/issues/705","id":478854210,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODg1NDIxMA==","user":{"login":"phye","id":3255399,"node_id":"MDQ6VXNlcjMyNTUzOTk=","avatar_url":"https://avatars.githubusercontent.com/u/3255399?v=4","gravatar_id":"","url":"https://api.github.com/users/phye","html_url":"https://github.com/phye","followers_url":"https://api.github.com/users/phye/followers","following_url":"https://api.github.com/users/phye/following{/other_user}","gists_url":"https://api.github.com/users/phye/gists{/gist_id}","starred_url":"https://api.github.com/users/phye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phye/subscriptions","organizations_url":"https://api.github.com/users/phye/orgs","repos_url":"https://api.github.com/users/phye/repos","events_url":"https://api.github.com/users/phye/events{/privacy}","received_events_url":"https://api.github.com/users/phye/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T05:49:54Z","updated_at":"2019-04-02T05:49:54Z","author_association":"NONE","body":"进一步排查了一下服务，QPS高的时候几乎每个worker线程都被阻塞的系统调用阻塞了，导致EDISP无法快速获得新请求。\r\n又看了一下 FAQ，才发现这个问题早已列出来了：\r\nhttps://github.com/apache/incubator-brpc/blob/master/docs/cn/bthread.md#q%E8%8B%A5%E6%9C%89%E5%A4%A7%E9%87%8F%E7%9A%84bthread%E8%B0%83%E7%94%A8%E4%BA%86%E9%98%BB%E5%A1%9E%E7%9A%84pthread%E6%88%96%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0%E4%BC%9A%E5%BD%B1%E5%93%8Drpc%E8%BF%90%E8%A1%8C%E4%B9%88","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478854210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478887075","html_url":"https://github.com/apache/brpc/pull/710#issuecomment-478887075","issue_url":"https://api.github.com/repos/apache/brpc/issues/710","id":478887075,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODg4NzA3NQ==","user":{"login":"tanzhongyi003","id":20179982,"node_id":"MDQ6VXNlcjIwMTc5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/20179982?v=4","gravatar_id":"","url":"https://api.github.com/users/tanzhongyi003","html_url":"https://github.com/tanzhongyi003","followers_url":"https://api.github.com/users/tanzhongyi003/followers","following_url":"https://api.github.com/users/tanzhongyi003/following{/other_user}","gists_url":"https://api.github.com/users/tanzhongyi003/gists{/gist_id}","starred_url":"https://api.github.com/users/tanzhongyi003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanzhongyi003/subscriptions","organizations_url":"https://api.github.com/users/tanzhongyi003/orgs","repos_url":"https://api.github.com/users/tanzhongyi003/repos","events_url":"https://api.github.com/users/tanzhongyi003/events{/privacy}","received_events_url":"https://api.github.com/users/tanzhongyi003/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T07:57:43Z","updated_at":"2019-04-02T07:57:43Z","author_association":"MEMBER","body":"Hi， gejun，\r\n \r\nLet me explain it in more details：\r\n \r\n1.     The LICENSE file located under the root of repo, should mention its license content and plus all third party license also.\r\nFor example , you can check https://github.com/apache/incubator-skywalking/blob/master/LICENSE\r\nYou can notice that it includes MIT /BSD license also for its included component.\r\n \r\n2.     The NOTICE.txt located under the root of repo,  will be used to mention its copyright has belonged to apache.org\r\nHere is one example by doris\r\nhttps://github.com/apache/incubator-doris/blob/master/NOTICE.txt\r\n \r\n3.     The Disclaimer file is used to describe its current status is under incubator.\r\nHere is one example\r\nhttps://github.com/apache/incubator-doris/blob/master/DISCLAIMER\r\nand another one:\r\nhttps://github.com/apache/incubator-skywalking/blob/master/DISCLAIMER\r\n \r\nThese files will be bunded into the release source tarball,\r\nwhen user download and uncompress them,  user can easily find the license, copyright owner, and current status.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478887075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478894079","html_url":"https://github.com/apache/brpc/pull/710#issuecomment-478894079","issue_url":"https://api.github.com/repos/apache/brpc/issues/710","id":478894079,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODg5NDA3OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T08:20:15Z","updated_at":"2019-04-02T08:20:15Z","author_association":"CONTRIBUTOR","body":"Thanks for the explanation, however the first question remains: why there's an additional \".txt\" extension to \"NOTICE\"","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478894079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478900416","html_url":"https://github.com/apache/brpc/pull/710#issuecomment-478900416","issue_url":"https://api.github.com/repos/apache/brpc/issues/710","id":478900416,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODkwMDQxNg==","user":{"login":"tanzhongyi003","id":20179982,"node_id":"MDQ6VXNlcjIwMTc5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/20179982?v=4","gravatar_id":"","url":"https://api.github.com/users/tanzhongyi003","html_url":"https://github.com/tanzhongyi003","followers_url":"https://api.github.com/users/tanzhongyi003/followers","following_url":"https://api.github.com/users/tanzhongyi003/following{/other_user}","gists_url":"https://api.github.com/users/tanzhongyi003/gists{/gist_id}","starred_url":"https://api.github.com/users/tanzhongyi003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanzhongyi003/subscriptions","organizations_url":"https://api.github.com/users/tanzhongyi003/orgs","repos_url":"https://api.github.com/users/tanzhongyi003/repos","events_url":"https://api.github.com/users/tanzhongyi003/events{/privacy}","received_events_url":"https://api.github.com/users/tanzhongyi003/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T08:39:17Z","updated_at":"2019-04-02T08:39:17Z","author_association":"MEMBER","body":"名字叫NOTICE，这是需要的，至于有的叫NOTICE.txt，有的叫NOTICE，都可以。\r\n要不我改成NOTICE？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478900416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478915447","html_url":"https://github.com/apache/brpc/pull/710#issuecomment-478915447","issue_url":"https://api.github.com/repos/apache/brpc/issues/710","id":478915447,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODkxNTQ0Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T09:22:48Z","updated_at":"2019-04-02T09:22:48Z","author_association":"CONTRIBUTOR","body":"ok，保持一致吧","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478915447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478916248","html_url":"https://github.com/apache/brpc/issues/714#issuecomment-478916248","issue_url":"https://api.github.com/repos/apache/brpc/issues/714","id":478916248,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODkxNjI0OA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T09:24:58Z","updated_at":"2019-04-02T09:24:58Z","author_association":"CONTRIBUTOR","body":"举个例子具体描述一下你提到的\"混乱\"吧，包括协议、连接方式、版本等重要信息。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478916248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478917275","html_url":"https://github.com/apache/brpc/pull/710#issuecomment-478917275","issue_url":"https://api.github.com/repos/apache/brpc/issues/710","id":478917275,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODkxNzI3NQ==","user":{"login":"tanzhongyi003","id":20179982,"node_id":"MDQ6VXNlcjIwMTc5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/20179982?v=4","gravatar_id":"","url":"https://api.github.com/users/tanzhongyi003","html_url":"https://github.com/tanzhongyi003","followers_url":"https://api.github.com/users/tanzhongyi003/followers","following_url":"https://api.github.com/users/tanzhongyi003/following{/other_user}","gists_url":"https://api.github.com/users/tanzhongyi003/gists{/gist_id}","starred_url":"https://api.github.com/users/tanzhongyi003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanzhongyi003/subscriptions","organizations_url":"https://api.github.com/users/tanzhongyi003/orgs","repos_url":"https://api.github.com/users/tanzhongyi003/repos","events_url":"https://api.github.com/users/tanzhongyi003/events{/privacy}","received_events_url":"https://api.github.com/users/tanzhongyi003/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T09:27:54Z","updated_at":"2019-04-02T09:27:54Z","author_association":"MEMBER","body":"BTW: I add another file named Disclaimer, when I update the diff, it is merged automatically.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478917275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478920017","html_url":"https://github.com/apache/brpc/issues/714#issuecomment-478920017","issue_url":"https://api.github.com/repos/apache/brpc/issues/714","id":478920017,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODkyMDAxNw==","user":{"login":"haolujun","id":10751631,"node_id":"MDQ6VXNlcjEwNzUxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/10751631?v=4","gravatar_id":"","url":"https://api.github.com/users/haolujun","html_url":"https://github.com/haolujun","followers_url":"https://api.github.com/users/haolujun/followers","following_url":"https://api.github.com/users/haolujun/following{/other_user}","gists_url":"https://api.github.com/users/haolujun/gists{/gist_id}","starred_url":"https://api.github.com/users/haolujun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haolujun/subscriptions","organizations_url":"https://api.github.com/users/haolujun/orgs","repos_url":"https://api.github.com/users/haolujun/repos","events_url":"https://api.github.com/users/haolujun/events{/privacy}","received_events_url":"https://api.github.com/users/haolujun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T09:35:30Z","updated_at":"2019-04-02T09:35:40Z","author_association":"NONE","body":"HI：\r\n     大神，我刚刚看了一下以往的issue，发现了这个，https://github.com/apache/incubator-brpc/issues/454 ，我应该是和这里面一样的问题。已经知道怎么解决了，多谢！！！","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/478920017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479309302","html_url":"https://github.com/apache/brpc/issues/715#issuecomment-479309302","issue_url":"https://api.github.com/repos/apache/brpc/issues/715","id":479309302,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTMwOTMwMg==","user":{"login":"yjhjstz","id":3832082,"node_id":"MDQ6VXNlcjM4MzIwODI=","avatar_url":"https://avatars.githubusercontent.com/u/3832082?v=4","gravatar_id":"","url":"https://api.github.com/users/yjhjstz","html_url":"https://github.com/yjhjstz","followers_url":"https://api.github.com/users/yjhjstz/followers","following_url":"https://api.github.com/users/yjhjstz/following{/other_user}","gists_url":"https://api.github.com/users/yjhjstz/gists{/gist_id}","starred_url":"https://api.github.com/users/yjhjstz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yjhjstz/subscriptions","organizations_url":"https://api.github.com/users/yjhjstz/orgs","repos_url":"https://api.github.com/users/yjhjstz/repos","events_url":"https://api.github.com/users/yjhjstz/events{/privacy}","received_events_url":"https://api.github.com/users/yjhjstz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T02:45:03Z","updated_at":"2019-04-03T02:45:03Z","author_association":"MEMBER","body":"@zyearn ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479309302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479333074","html_url":"https://github.com/apache/brpc/issues/715#issuecomment-479333074","issue_url":"https://api.github.com/repos/apache/brpc/issues/715","id":479333074,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTMzMzA3NA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T04:20:18Z","updated_at":"2019-04-03T04:20:18Z","author_association":"MEMBER","body":"原因：目前brpc client的h2setting是和req一起发过去的，这时用的是默认大小，如果超过这个值，就发不出去，那么client的h2setting也发不出去，server端的h2setting也不会回复给client，server端的window size就不能传到client\r\n\r\nworkaround：\r\n1. 设置好server端的windowsize\r\n2. client先发一个小包，让h2的setting包交换好，然后再发你的业务包","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479333074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479340643","html_url":"https://github.com/apache/brpc/issues/715#issuecomment-479340643","issue_url":"https://api.github.com/repos/apache/brpc/issues/715","id":479340643,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTM0MDY0Mw==","user":{"login":"yjhjstz","id":3832082,"node_id":"MDQ6VXNlcjM4MzIwODI=","avatar_url":"https://avatars.githubusercontent.com/u/3832082?v=4","gravatar_id":"","url":"https://api.github.com/users/yjhjstz","html_url":"https://github.com/yjhjstz","followers_url":"https://api.github.com/users/yjhjstz/followers","following_url":"https://api.github.com/users/yjhjstz/following{/other_user}","gists_url":"https://api.github.com/users/yjhjstz/gists{/gist_id}","starred_url":"https://api.github.com/users/yjhjstz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yjhjstz/subscriptions","organizations_url":"https://api.github.com/users/yjhjstz/orgs","repos_url":"https://api.github.com/users/yjhjstz/repos","events_url":"https://api.github.com/users/yjhjstz/events{/privacy}","received_events_url":"https://api.github.com/users/yjhjstz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T05:02:22Z","updated_at":"2019-04-03T05:02:22Z","author_association":"MEMBER","body":"server端是 grpc 服务，怎么改动windowsize？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479340643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479346126","html_url":"https://github.com/apache/brpc/issues/715#issuecomment-479346126","issue_url":"https://api.github.com/repos/apache/brpc/issues/715","id":479346126,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTM0NjEyNg==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T05:32:40Z","updated_at":"2019-04-03T05:32:40Z","author_association":"MEMBER","body":"这个你要看grpc的文档了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479346126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479725723","html_url":"https://github.com/apache/brpc/issues/502#issuecomment-479725723","issue_url":"https://api.github.com/repos/apache/brpc/issues/502","id":479725723,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTcyNTcyMw==","user":{"login":"x-x-p","id":49055325,"node_id":"MDQ6VXNlcjQ5MDU1MzI1","avatar_url":"https://avatars.githubusercontent.com/u/49055325?v=4","gravatar_id":"","url":"https://api.github.com/users/x-x-p","html_url":"https://github.com/x-x-p","followers_url":"https://api.github.com/users/x-x-p/followers","following_url":"https://api.github.com/users/x-x-p/following{/other_user}","gists_url":"https://api.github.com/users/x-x-p/gists{/gist_id}","starred_url":"https://api.github.com/users/x-x-p/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/x-x-p/subscriptions","organizations_url":"https://api.github.com/users/x-x-p/orgs","repos_url":"https://api.github.com/users/x-x-p/repos","events_url":"https://api.github.com/users/x-x-p/events{/privacy}","received_events_url":"https://api.github.com/users/x-x-p/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T02:26:37Z","updated_at":"2019-04-04T02:26:37Z","author_association":"NONE","body":"什么时候能合并到主分支呢？#708","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479725723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479725789","html_url":"https://github.com/apache/brpc/issues/708#issuecomment-479725789","issue_url":"https://api.github.com/repos/apache/brpc/issues/708","id":479725789,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTcyNTc4OQ==","user":{"login":"x-x-p","id":49055325,"node_id":"MDQ6VXNlcjQ5MDU1MzI1","avatar_url":"https://avatars.githubusercontent.com/u/49055325?v=4","gravatar_id":"","url":"https://api.github.com/users/x-x-p","html_url":"https://github.com/x-x-p","followers_url":"https://api.github.com/users/x-x-p/followers","following_url":"https://api.github.com/users/x-x-p/following{/other_user}","gists_url":"https://api.github.com/users/x-x-p/gists{/gist_id}","starred_url":"https://api.github.com/users/x-x-p/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/x-x-p/subscriptions","organizations_url":"https://api.github.com/users/x-x-p/orgs","repos_url":"https://api.github.com/users/x-x-p/repos","events_url":"https://api.github.com/users/x-x-p/events{/privacy}","received_events_url":"https://api.github.com/users/x-x-p/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T02:27:00Z","updated_at":"2019-04-04T02:27:00Z","author_association":"NONE","body":"#708","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479725789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479772128","html_url":"https://github.com/apache/brpc/pull/465#issuecomment-479772128","issue_url":"https://api.github.com/repos/apache/brpc/issues/465","id":479772128,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTc3MjEyOA==","user":{"login":"peacedog123","id":32981594,"node_id":"MDQ6VXNlcjMyOTgxNTk0","avatar_url":"https://avatars.githubusercontent.com/u/32981594?v=4","gravatar_id":"","url":"https://api.github.com/users/peacedog123","html_url":"https://github.com/peacedog123","followers_url":"https://api.github.com/users/peacedog123/followers","following_url":"https://api.github.com/users/peacedog123/following{/other_user}","gists_url":"https://api.github.com/users/peacedog123/gists{/gist_id}","starred_url":"https://api.github.com/users/peacedog123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peacedog123/subscriptions","organizations_url":"https://api.github.com/users/peacedog123/orgs","repos_url":"https://api.github.com/users/peacedog123/repos","events_url":"https://api.github.com/users/peacedog123/events{/privacy}","received_events_url":"https://api.github.com/users/peacedog123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T06:47:11Z","updated_at":"2019-04-04T06:47:11Z","author_association":"NONE","body":"请问，这个feature不准备开发了么？目前是一个什么状态？谢谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479772128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479864006","html_url":"https://github.com/apache/brpc/pull/465#issuecomment-479864006","issue_url":"https://api.github.com/repos/apache/brpc/issues/465","id":479864006,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTg2NDAwNg==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T11:45:15Z","updated_at":"2019-04-04T11:45:15Z","author_association":"CONTRIBUTOR","body":"这个已经开发完成了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/479864006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480106186","html_url":"https://github.com/apache/brpc/issues/715#issuecomment-480106186","issue_url":"https://api.github.com/repos/apache/brpc/issues/715","id":480106186,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDEwNjE4Ng==","user":{"login":"yjhjstz","id":3832082,"node_id":"MDQ6VXNlcjM4MzIwODI=","avatar_url":"https://avatars.githubusercontent.com/u/3832082?v=4","gravatar_id":"","url":"https://api.github.com/users/yjhjstz","html_url":"https://github.com/yjhjstz","followers_url":"https://api.github.com/users/yjhjstz/followers","following_url":"https://api.github.com/users/yjhjstz/following{/other_user}","gists_url":"https://api.github.com/users/yjhjstz/gists{/gist_id}","starred_url":"https://api.github.com/users/yjhjstz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yjhjstz/subscriptions","organizations_url":"https://api.github.com/users/yjhjstz/orgs","repos_url":"https://api.github.com/users/yjhjstz/repos","events_url":"https://api.github.com/users/yjhjstz/events{/privacy}","received_events_url":"https://api.github.com/users/yjhjstz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T00:10:46Z","updated_at":"2019-04-05T00:10:46Z","author_association":"MEMBER","body":"有更优雅的方式吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480106186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480111084","html_url":"https://github.com/apache/brpc/pull/692#issuecomment-480111084","issue_url":"https://api.github.com/repos/apache/brpc/issues/692","id":480111084,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDExMTA4NA==","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T00:39:49Z","updated_at":"2019-04-05T00:39:49Z","author_association":"CONTRIBUTOR","body":"@jamesge 最近在考虑prepared statement 和 transaction的实现问题。这两个功能的特点是，需要在一个连接上面进行多次回话，在多次回话过程中连接需要独占。\r\n调用接口的伪代码：\r\n// begin transaction\r\nbrpc::MysqlRequest txReq;\r\nbrpc::MysqlResponse txRsp;\r\nbrpc::Controller txCntl;\r\ntxCntl.txState = BEGIN_TX;\r\ntxReq.BeginTx();\r\nchannel.CallMethod(NULL, &txCntl, &txReq, &txRsp, NULL);\r\n\r\nconst brpc::MysqlReply::Tx& tx = txRsp.reply(0).tx();\r\n\r\n//txRsp keep a connection\r\n// begin crud operation\r\nbrpc::MysqlRequest crudReq1;\r\nbrpc::MysqlResponse curdRsp1;\r\nbrpc::Controller crudCntl1;\r\ncrudCntl1.tx = tx;\r\ntxReq1.Query(\"sql statement1\");\r\nchannel.CallMethod(NULL, &crudCntl1, &crudReq1, &crudRsp1, NULL);\r\n\r\nbrpc::MysqlRequest crudReq2;\r\nbrpc::MysqlResponse curdRsp2;\r\nbrpc::Controller crudCntl2;\r\ncrudCntl2.tx = tx;\r\ntxReq1.Query(\"sql statement2\");\r\nchannel.CallMethod(NULL, &crudCntl2, &crudReq2, &curdRsp2, NULL);\r\n// end crud operation\r\n\r\n// commit transaction\r\n// after that release the connect to pool\r\nbrpc::MysqlRequest commitReq;\r\nbrpc::MysqlResponse commitRsp;\r\nbrpc::Controller commitCntl;\r\ncommitCntl.tx = tx;\r\ncommitCntl.txState = END_TX;\r\ncommitReq.Commit();\r\nchannel.CallMethod(NULL, &commitCntl, &commitReq, &commitRsp, NULL);\r\n\r\n需要对代码修改的地方有\r\n1、在开始事务的controller里面设置一个标识，这样在它的OnComplete调用的时候，不释放连接到pool里面，返回的接口里面包含事务的信息。\r\n2、后续的crud的controller里面设置事务的信息，在IssueRPC的时候，lb和选择连接的地方，可以根据是否设置事务做分支处理，主要是在选择连接的地方。\r\n3、在结束事务的controller里面设置一个标识，这样它在OnComplete的时候会释放连接。\r\n\r\nprepared statement和这个类似。\r\n\r\n事务和prepared statement的处理流程在所有关系型数据库都类似，也可以抽象出来一些公共的内容。我参考了golang的database/sql库\r\n\r\n以上请戈君评审一下，看有什么建议。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480111084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480129822","html_url":"https://github.com/apache/brpc/pull/692#issuecomment-480129822","issue_url":"https://api.github.com/repos/apache/brpc/issues/692","id":480129822,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDEyOTgyMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T02:41:12Z","updated_at":"2019-04-05T02:41:54Z","author_association":"CONTRIBUTOR","body":"> @jamesge 最近在考虑prepared statement 和 transaction的实现问题。这两个功能的特点是，需要在一个连接上面进行多次回话，在多次回话过程中连接需要独占。\r\n> 调用接口的伪代码：\r\n> // begin transaction\r\n> brpc::MysqlRequest txReq;\r\n> brpc::MysqlResponse txRsp;\r\n> brpc::Controller txCntl;\r\n> txCntl.txState = BEGIN_TX;\r\n> txReq.BeginTx();\r\n> channel.CallMethod(NULL, &txCntl, &txReq, &txRsp, NULL);\r\n> \r\n> const brpc::MysqlReply::Tx& tx = txRsp.reply(0).tx();\r\n> \r\n> //txRsp keep a connection\r\n> // begin crud operation\r\n> brpc::MysqlRequest crudReq1;\r\n> brpc::MysqlResponse curdRsp1;\r\n> brpc::Controller crudCntl1;\r\n> crudCntl1.tx = tx;\r\n> txReq1.Query(\"sql statement1\");\r\n> channel.CallMethod(NULL, &crudCntl1, &crudReq1, &crudRsp1, NULL);\r\n> \r\n> brpc::MysqlRequest crudReq2;\r\n> brpc::MysqlResponse curdRsp2;\r\n> brpc::Controller crudCntl2;\r\n> crudCntl2.tx = tx;\r\n> txReq1.Query(\"sql statement2\");\r\n> channel.CallMethod(NULL, &crudCntl2, &crudReq2, &curdRsp2, NULL);\r\n> // end crud operation\r\n> \r\n> // commit transaction\r\n> // after that release the connect to pool\r\n> brpc::MysqlRequest commitReq;\r\n> brpc::MysqlResponse commitRsp;\r\n> brpc::Controller commitCntl;\r\n> commitCntl.tx = tx;\r\n> commitCntl.txState = END_TX;\r\n> commitReq.Commit();\r\n> channel.CallMethod(NULL, &commitCntl, &commitReq, &commitRsp, NULL);\r\n> \r\n> 需要对代码修改的地方有\r\n> 1、在开始事务的controller里面设置一个标识，这样在它的OnComplete调用的时候，不释放连接到pool里面，返回的接口里面包含事务的信息。\r\n> 2、后续的crud的controller里面设置事务的信息，在IssueRPC的时候，lb和选择连接的地方，可以根据是否设置事务做分支处理，主要是在选择连接的地方。\r\n> 3、在结束事务的controller里面设置一个标识，这样它在OnComplete的时候会释放连接。\r\n> \r\n> prepared statement和这个类似。\r\n> \r\n> 事务和prepared statement的处理流程在所有关系型数据库都类似，也可以抽象出来一些公共的内容。我参考了golang的database/sql库\r\n> \r\n> 以上请戈君评审一下，看有什么建议。\r\n\r\n实现上需要多次交互，并不意味着用户一定要感知到多次交互，本质上一个tx对用户也是一件事（要么成功要么失败），一个tx里的所有请求能否让用户一次性输入？即用户调用request中的BeginTx/Query/EndTx等接口可以编排一次tx，然后再CallMethod。另外这部分功能就别添加在这个pr中了，可以另启新的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480129822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480142246","html_url":"https://github.com/apache/brpc/pull/692#issuecomment-480142246","issue_url":"https://api.github.com/repos/apache/brpc/issues/692","id":480142246,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDE0MjI0Ng==","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T04:11:48Z","updated_at":"2019-04-05T04:11:48Z","author_association":"CONTRIBUTOR","body":"多次的交互如果对用户屏蔽，就需要像权限校验那样，在parseResponse的地方做多次的处理，我觉得这样可行。这样用户操作应该挺简洁的。而且single估计也可以了呢。\r\n但是prepared statement这种有点区别，prepare目的是想让用户执行一次prepare，生成一个stmt，然后后边用户一直用这个stmt操作，这个stmt对应到数据库里面一个已经解析过的语句，这样能避免数据库每次都解析这个语句，所以这种肯定得要多次交互使用的。但是prepare可以做到不关联某个连接，如果应用stmt的某次操作底层连接变了，我可以底层再发一次prepare。stmt要记录一下它用过的连接，如果后边执行操作选择的连接以前用过就不用发prepare，如果没用过就发prepare。所以这块儿的修改是得在发送命令前有一个位置对选择的连接做比较。\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480142246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480645467","html_url":"https://github.com/apache/brpc/pull/692#issuecomment-480645467","issue_url":"https://api.github.com/repos/apache/brpc/issues/692","id":480645467,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDY0NTQ2Nw==","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T00:10:50Z","updated_at":"2019-04-08T00:11:57Z","author_association":"CONTRIBUTOR","body":"我考虑了一下，事务放在一次rpc里面可能支持的不够完善。比如这样的场景: 这个事务有两个操作，（1）查询记录1（2）根据1的查询结果，修改记录2。\r\n这种情景，用户可以根据一个事务的前几个语句对该事务后边的操作做一些逻辑判断，所以前边的结果得在事务结束前需要返回给用户。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480645467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480675997","html_url":"https://github.com/apache/brpc/pull/692#issuecomment-480675997","issue_url":"https://api.github.com/repos/apache/brpc/issues/692","id":480675997,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDY3NTk5Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T04:05:15Z","updated_at":"2019-04-08T04:05:15Z","author_association":"CONTRIBUTOR","body":"> 我考虑了一下，事务放在一次rpc里面可能支持的不够完善。比如这样的场景: 这个事务有两个操作，（1）查询记录1（2）根据1的查询结果，修改记录2。\r\n> 这种情景，用户可以根据一个事务的前几个语句对该事务后边的操作做一些逻辑判断，所以前边的结果得在事务结束前需要返回给用户。\r\n\r\n如果commands之间的代码介入不可避免，我觉得也ok，但是这里的使用要更加直觉化一些。一种方案如下：\r\n```\r\nauto tx = brpc::NewMysqlTransaction(...);  // args can be replaced with MysqlTransactionOptions to apply more configurations.\r\n...\r\nbrpc::MysqlRequest crudReq(tx);  // the request is bound to `tx'\r\nbrpc::MysqlResponse curdRsp;\r\nbrpc::Controller crudCntl;\r\ncrudReq.Query(\"...sql statement...\");\r\nchannel.CallMethod(NULL, &crudCntl, &crudReq, &curdRsp, NULL);\r\n...\r\ndelete tx;  // calls tx->End() automatically, or user can call tx->End() manually and delete tx later.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480675997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480678384","html_url":"https://github.com/apache/brpc/issues/718#issuecomment-480678384","issue_url":"https://api.github.com/repos/apache/brpc/issues/718","id":480678384,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDY3ODM4NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T04:22:51Z","updated_at":"2019-04-08T04:22:51Z","author_association":"CONTRIBUTOR","body":"如果是在程序的运行日志增加自己的trace-id，看上去也并不依赖rpcz；如果是在rpcz中的日志中增加自定义日志，可以调用TRACEPRINTF，但如果还要求能按自己的trace-id进行高效率的搜索和展示，那目前还不行。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480678384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480681487","html_url":"https://github.com/apache/brpc/issues/718#issuecomment-480681487","issue_url":"https://api.github.com/repos/apache/brpc/issues/718","id":480681487,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDY4MTQ4Nw==","user":{"login":"Xavier1994","id":11145343,"node_id":"MDQ6VXNlcjExMTQ1MzQz","avatar_url":"https://avatars.githubusercontent.com/u/11145343?v=4","gravatar_id":"","url":"https://api.github.com/users/Xavier1994","html_url":"https://github.com/Xavier1994","followers_url":"https://api.github.com/users/Xavier1994/followers","following_url":"https://api.github.com/users/Xavier1994/following{/other_user}","gists_url":"https://api.github.com/users/Xavier1994/gists{/gist_id}","starred_url":"https://api.github.com/users/Xavier1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xavier1994/subscriptions","organizations_url":"https://api.github.com/users/Xavier1994/orgs","repos_url":"https://api.github.com/users/Xavier1994/repos","events_url":"https://api.github.com/users/Xavier1994/events{/privacy}","received_events_url":"https://api.github.com/users/Xavier1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T04:43:48Z","updated_at":"2019-04-08T04:43:48Z","author_association":"NONE","body":"@jamesge rpcz中会显示一个log id, 这个log id是否在在server端接收到请求的时候创建的controller中调用set_log_id方法设置的呢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480681487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480682361","html_url":"https://github.com/apache/brpc/issues/718#issuecomment-480682361","issue_url":"https://api.github.com/repos/apache/brpc/issues/718","id":480682361,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDY4MjM2MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-08T04:50:04Z","updated_at":"2019-04-08T04:50:04Z","author_association":"CONTRIBUTOR","body":"这个功能一直没有文档说明，以至于都忘记了。这个log-id确实是可以的，并且支持按其做过滤。其余支持过滤的字段可以参考[这里](https://github.com/apache/incubator-brpc/blob/master/src/brpc/builtin/rpcz_service.cpp#L408)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/480682361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481527068","html_url":"https://github.com/apache/brpc/issues/716#issuecomment-481527068","issue_url":"https://api.github.com/repos/apache/brpc/issues/716","id":481527068,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTUyNzA2OA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T04:18:15Z","updated_at":"2019-04-10T04:18:15Z","author_association":"MEMBER","body":"verionOf(id) == versionOf(_versioned_ref): 表示socket目前是正常状态\r\nverionOf(id) + 1 == versionOf(_versioned_ref): 表示socket是Failed状态\r\nverionOf(id) + 2 == versionOf(_versioned_ref) ：表示socket已经被回收到pool了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481527068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481550024","html_url":"https://github.com/apache/brpc/issues/697#issuecomment-481550024","issue_url":"https://api.github.com/repos/apache/brpc/issues/697","id":481550024,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTU1MDAyNA==","user":{"login":"cuisonghui","id":8772285,"node_id":"MDQ6VXNlcjg3NzIyODU=","avatar_url":"https://avatars.githubusercontent.com/u/8772285?v=4","gravatar_id":"","url":"https://api.github.com/users/cuisonghui","html_url":"https://github.com/cuisonghui","followers_url":"https://api.github.com/users/cuisonghui/followers","following_url":"https://api.github.com/users/cuisonghui/following{/other_user}","gists_url":"https://api.github.com/users/cuisonghui/gists{/gist_id}","starred_url":"https://api.github.com/users/cuisonghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuisonghui/subscriptions","organizations_url":"https://api.github.com/users/cuisonghui/orgs","repos_url":"https://api.github.com/users/cuisonghui/repos","events_url":"https://api.github.com/users/cuisonghui/events{/privacy}","received_events_url":"https://api.github.com/users/cuisonghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T06:21:31Z","updated_at":"2019-04-10T07:12:38Z","author_association":"NONE","body":"已经把bvar的线程移动到main函数之后执行，以保证fork之后才执行bvar线程．\r\n\r\n目前进行业务压测，超时问题应该是bthread_worker_usage达到上限导致,跟预期服务承载能力不相符，目前还在排查．\r\n![1755025561](https://user-images.githubusercontent.com/8772285/55847307-5cf25080-5b7b-11e9-8b62-20c5aae2a2d8.jpg)\r\n![376294209](https://user-images.githubusercontent.com/8772285/55847315-61b70480-5b7b-11e9-9f03-238b22bb9d5f.jpg)\r\n\r\n但是随着qps继续上涨，服务会直接卡死，访问前端页面(http://*:6104,http://*:6104/vars)也不行，压测全部报超时error\r\n*******\r\nSearch request Error1: 1008: [E1008]Reached timeout=3500ms @*:6104 Query : 爱情练习题\r\nSearch request Error1: 1008: [E1008]Reached timeout=3500ms @*:6104 Query : 爱情两部曲\r\nSearch request Error1: 1008: [E1008]Reached timeout=3500ms @*:6104 Query : 爱情两好三坏\r\nSearch request Error1: 1008: [E1008]Reached timeout=3500ms @*:6104 Query : 爱情领域\r\n*******\r\n且服务cpu占用基本为0,服务不能自己恢复正常,只能重启解决．\r\n但是netstat查看监听端口正常,处于LINSEN状态，并且使用telnet访问此端口也能连接上.\r\n最后发现是服务的线程block住，导致的问题.\r\n![Screenshot from 2019-04-10 14:16:22](https://user-images.githubusercontent.com/8772285/55856000-989d1280-5b9b-11e9-89d2-060053fac326.png)\r\n\r\n我的理解是这样子的:由于我的服务还会使用brpc client往下游发送数据，而造成bthread资源不够,所以整体block住,不知道对不对.\r\n\r\n请问这种情况如何避免?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481550024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481745922","html_url":"https://github.com/apache/brpc/issues/721#issuecomment-481745922","issue_url":"https://api.github.com/repos/apache/brpc/issues/721","id":481745922,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTc0NTkyMg==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-10T15:44:41Z","updated_at":"2019-04-10T15:44:41Z","author_association":"CONTRIBUTOR","body":"#584  duplicated issue.\r\n目前不小心容易有这种写法，希望有个更合理的fix.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481745922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481918004","html_url":"https://github.com/apache/brpc/issues/719#issuecomment-481918004","issue_url":"https://api.github.com/repos/apache/brpc/issues/719","id":481918004,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTkxODAwNA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T00:15:10Z","updated_at":"2019-04-11T00:15:10Z","author_association":"CONTRIBUTOR","body":"看看这个满足你的需求不\r\nhttps://github.com/apache/incubator-brpc/blob/master/docs/cn/streaming_rpc.md","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481918004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481978007","html_url":"https://github.com/apache/brpc/issues/697#issuecomment-481978007","issue_url":"https://api.github.com/repos/apache/brpc/issues/697","id":481978007,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTk3ODAwNw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T06:04:51Z","updated_at":"2019-04-11T06:04:51Z","author_association":"CONTRIBUTOR","body":"限制最大并发了么？https://github.com/apache/incubator-brpc/blob/b0533d17d3efce43dcc6f2359a559fed95e5791e/docs/cn/server.md#%E9%99%90%E5%88%B6%E6%9C%80%E5%A4%A7%E5%B9%B6%E5%8F%91","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481978007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481981494","html_url":"https://github.com/apache/brpc/issues/720#issuecomment-481981494","issue_url":"https://api.github.com/repos/apache/brpc/issues/720","id":481981494,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTk4MTQ5NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T06:20:23Z","updated_at":"2019-04-11T06:20:23Z","author_association":"CONTRIBUTOR","body":"除非写硬件驱动碰到程序不可控的内存修改，一般用不到。当然权威答案可能得去问写编译器的，但一般例子中以两个线程共享一个变量云云举例，我觉得过度低估编译器了，这一点上和带gc的语言中的逃逸分析是有相似性的，编译器完全可以保守处理，或留至链接时优化。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481981494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481984308","html_url":"https://github.com/apache/brpc/issues/695#issuecomment-481984308","issue_url":"https://api.github.com/repos/apache/brpc/issues/695","id":481984308,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTk4NDMwOA==","user":{"login":"chenyinjing","id":13051288,"node_id":"MDQ6VXNlcjEzMDUxMjg4","avatar_url":"https://avatars.githubusercontent.com/u/13051288?v=4","gravatar_id":"","url":"https://api.github.com/users/chenyinjing","html_url":"https://github.com/chenyinjing","followers_url":"https://api.github.com/users/chenyinjing/followers","following_url":"https://api.github.com/users/chenyinjing/following{/other_user}","gists_url":"https://api.github.com/users/chenyinjing/gists{/gist_id}","starred_url":"https://api.github.com/users/chenyinjing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenyinjing/subscriptions","organizations_url":"https://api.github.com/users/chenyinjing/orgs","repos_url":"https://api.github.com/users/chenyinjing/repos","events_url":"https://api.github.com/users/chenyinjing/events{/privacy}","received_events_url":"https://api.github.com/users/chenyinjing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T06:32:00Z","updated_at":"2019-04-11T06:32:00Z","author_association":"NONE","body":"求问怎么解决的？我也遇到了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/481984308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482028275","html_url":"https://github.com/apache/brpc/issues/697#issuecomment-482028275","issue_url":"https://api.github.com/repos/apache/brpc/issues/697","id":482028275,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjAyODI3NQ==","user":{"login":"cuisonghui","id":8772285,"node_id":"MDQ6VXNlcjg3NzIyODU=","avatar_url":"https://avatars.githubusercontent.com/u/8772285?v=4","gravatar_id":"","url":"https://api.github.com/users/cuisonghui","html_url":"https://github.com/cuisonghui","followers_url":"https://api.github.com/users/cuisonghui/followers","following_url":"https://api.github.com/users/cuisonghui/following{/other_user}","gists_url":"https://api.github.com/users/cuisonghui/gists{/gist_id}","starred_url":"https://api.github.com/users/cuisonghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuisonghui/subscriptions","organizations_url":"https://api.github.com/users/cuisonghui/orgs","repos_url":"https://api.github.com/users/cuisonghui/repos","events_url":"https://api.github.com/users/cuisonghui/events{/privacy}","received_events_url":"https://api.github.com/users/cuisonghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T08:53:18Z","updated_at":"2019-04-11T08:53:18Z","author_association":"NONE","body":"没有设置最大并发度，之前也想设置，但是对应的不知道bthread_worker_count应该设置多少.\r\n因为我们的系统是这样的，此服务需要向后端节点(比如说10个后端节点)发送请求,那么就会从我们自己的线程池中取10个thread并发请求后端节点，整体都是同步等待的过程，根据我的理解，这样的话可能一次请求就需要消耗bthread的数量是10＋1次.\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482028275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482073540","html_url":"https://github.com/apache/brpc/pull/722#issuecomment-482073540","issue_url":"https://api.github.com/repos/apache/brpc/issues/722","id":482073540,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjA3MzU0MA==","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-11T11:17:49Z","updated_at":"2019-04-11T12:17:03Z","author_association":"CONTRIBUTOR","body":"https://github.com/yanglimingcn/brpc/commit/56e76f49e6f73d3eb1785b3494f317bb1d3900d5\r\n@jamesge 麻烦帮我评审一下，这次提交，把pipeline的方式换成correlation_id，是不是更合理些？\r\n这里是通过判断_auth_context是否为NULL，来判断是否需要做权限校验的，做完权限校验，再把_auth_context置为NULL，这时候就会报错：\r\nImpossible! This function is supposed to be called only once when verification succeeds in server side only once when verification succeeds in server side\r\n 这里需要把void Controller::set_auth_context(const AuthContext* ctx) 这个函数改一下，把里面的_auth_context != NULL注释掉。\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482073540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482417387","html_url":"https://github.com/apache/brpc/pull/723#issuecomment-482417387","issue_url":"https://api.github.com/repos/apache/brpc/issues/723","id":482417387,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQxNzM4Nw==","user":{"login":"tanzhongyi003","id":20179982,"node_id":"MDQ6VXNlcjIwMTc5OTgy","avatar_url":"https://avatars.githubusercontent.com/u/20179982?v=4","gravatar_id":"","url":"https://api.github.com/users/tanzhongyi003","html_url":"https://github.com/tanzhongyi003","followers_url":"https://api.github.com/users/tanzhongyi003/followers","following_url":"https://api.github.com/users/tanzhongyi003/following{/other_user}","gists_url":"https://api.github.com/users/tanzhongyi003/gists{/gist_id}","starred_url":"https://api.github.com/users/tanzhongyi003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tanzhongyi003/subscriptions","organizations_url":"https://api.github.com/users/tanzhongyi003/orgs","repos_url":"https://api.github.com/users/tanzhongyi003/repos","events_url":"https://api.github.com/users/tanzhongyi003/events{/privacy}","received_events_url":"https://api.github.com/users/tanzhongyi003/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T02:54:50Z","updated_at":"2019-04-12T02:54:50Z","author_association":"MEMBER","body":"If the patch is to fix build problem on mac only, you need to clarify it on the commit log, thanks","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482417387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482418992","html_url":"https://github.com/apache/brpc/issues/720#issuecomment-482418992","issue_url":"https://api.github.com/repos/apache/brpc/issues/720","id":482418992,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQxODk5Mg==","user":{"login":"Ye-Tian-Zero","id":8231208,"node_id":"MDQ6VXNlcjgyMzEyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/8231208?v=4","gravatar_id":"","url":"https://api.github.com/users/Ye-Tian-Zero","html_url":"https://github.com/Ye-Tian-Zero","followers_url":"https://api.github.com/users/Ye-Tian-Zero/followers","following_url":"https://api.github.com/users/Ye-Tian-Zero/following{/other_user}","gists_url":"https://api.github.com/users/Ye-Tian-Zero/gists{/gist_id}","starred_url":"https://api.github.com/users/Ye-Tian-Zero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ye-Tian-Zero/subscriptions","organizations_url":"https://api.github.com/users/Ye-Tian-Zero/orgs","repos_url":"https://api.github.com/users/Ye-Tian-Zero/repos","events_url":"https://api.github.com/users/Ye-Tian-Zero/events{/privacy}","received_events_url":"https://api.github.com/users/Ye-Tian-Zero/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T03:03:37Z","updated_at":"2019-04-12T03:03:37Z","author_association":"CONTRIBUTOR","body":"基本可以归纳为：只在硬件编程中有用。\r\n一个地址的值可能被程序以外的环境修改的场景下，这个关键词才有用处。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482418992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482427993","html_url":"https://github.com/apache/brpc/issues/720#issuecomment-482427993","issue_url":"https://api.github.com/repos/apache/brpc/issues/720","id":482427993,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQyNzk5Mw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T03:55:22Z","updated_at":"2019-04-12T03:55:41Z","author_association":"MEMBER","body":"一些补充：如果想知道为什么会被硬件修改RAM，看一下 https://en.wikipedia.org/wiki/Memory-mapped_I/O","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482427993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482432959","html_url":"https://github.com/apache/brpc/pull/723#issuecomment-482432959","issue_url":"https://api.github.com/repos/apache/brpc/issues/723","id":482432959,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQzMjk1OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T04:29:23Z","updated_at":"2019-04-12T04:29:23Z","author_association":"CONTRIBUTOR","body":"这种差异都是不同版本间的差异，再怎么改都不通用。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482432959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482433253","html_url":"https://github.com/apache/brpc/issues/697#issuecomment-482433253","issue_url":"https://api.github.com/repos/apache/brpc/issues/697","id":482433253,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQzMzI1Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T04:31:26Z","updated_at":"2019-04-12T04:31:26Z","author_association":"CONTRIBUTOR","body":"建议直接用rpc的接口，半同步方式，不要每个rpc占用一个bthread。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482433253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482452012","html_url":"https://github.com/apache/brpc/pull/592#issuecomment-482452012","issue_url":"https://api.github.com/repos/apache/brpc/issues/592","id":482452012,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ1MjAxMg==","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T06:18:16Z","updated_at":"2019-04-12T06:18:16Z","author_association":"CONTRIBUTOR","body":"这个版本在MacOS 10.14.4 (18E226) 版本编译报错\r\n/Library/Developer/CommandLineTools/SDKs/MacOSX10.14.sdk/usr/include/libkern/OSAtomicDeprecated.h:645:9: note: 'OSAtomicCompareAndSwap64Barrier' has been explicitly marked\r\n      deprecated here\r\nbool    OSAtomicCompareAndSwap64Barrier( int64_t __oldValue, int64_t __newValue,\r\n        ^\r\n/Users/yangliming01/brpc/src/brpc/policy/consistent_hashing_load_balancer.cpp:128:28: error: implicit instantiation of undefined template 'std::__1::array<const\r\n      brpc::policy::ReplicaPolicy *, 3>'\r\n    g_replica_policy = new std::array<const ReplicaPolicy*, CONS_HASH_LB_LAST>({\r\n                           ^\r\n/Library/Developer/CommandLineTools/usr/include/c++/v1/__tuple:223:64: note: template is declared here\r\ntemplate <class _Tp, size_t _Size> struct _LIBCPP_TEMPLATE_VIS array;\r\n                                                               ^\r\n/Users/yangliming01/brpc/src/brpc/policy/consistent_hashing_load_balancer.cpp:137:28: error: implicit instantiation of undefined template 'std::__1::array<const\r\n      brpc::policy::ReplicaPolicy *, 3>'\r\n    return g_replica_policy->at(type);\r\n                           ^\r\n/Library/Developer/CommandLineTools/usr/include/c++/v1/__tuple:223:64: note: template is declared here\r\ntemplate <class _Tp, size_t _Size> struct _LIBCPP_TEMPLATE_VIS array;\r\n                                                               ^\r\n11 warnings and 2 errors generated.\r\nmake[2]: *** [src/CMakeFiles/OBJ_LIB.dir/brpc/policy/consistent_hashing_load_balancer.cpp.o] Error 1\r\nmake[1]: *** [src/CMakeFiles/OBJ_LIB.dir/all] Error 2\r\nmake: *** [all] Error 2\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482452012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482458022","html_url":"https://github.com/apache/brpc/pull/592#issuecomment-482458022","issue_url":"https://api.github.com/repos/apache/brpc/issues/592","id":482458022,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ1ODAyMg==","user":{"login":"wenweihu86","id":2144079,"node_id":"MDQ6VXNlcjIxNDQwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/2144079?v=4","gravatar_id":"","url":"https://api.github.com/users/wenweihu86","html_url":"https://github.com/wenweihu86","followers_url":"https://api.github.com/users/wenweihu86/followers","following_url":"https://api.github.com/users/wenweihu86/following{/other_user}","gists_url":"https://api.github.com/users/wenweihu86/gists{/gist_id}","starred_url":"https://api.github.com/users/wenweihu86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenweihu86/subscriptions","organizations_url":"https://api.github.com/users/wenweihu86/orgs","repos_url":"https://api.github.com/users/wenweihu86/repos","events_url":"https://api.github.com/users/wenweihu86/events{/privacy}","received_events_url":"https://api.github.com/users/wenweihu86/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T06:45:33Z","updated_at":"2019-04-12T06:45:33Z","author_association":"CONTRIBUTOR","body":"同样编译不过了。\r\nclang version 7.0.1 (tags/RELEASE_701/final)\r\nTarget: x86_64-apple-darwin17.3.0\r\nThread model: posix\r\nInstalledDir: /usr/local/opt/llvm@7/bin","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482458022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482458608","html_url":"https://github.com/apache/brpc/pull/592#issuecomment-482458608","issue_url":"https://api.github.com/repos/apache/brpc/issues/592","id":482458608,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ1ODYwOA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T06:48:01Z","updated_at":"2019-04-12T06:48:01Z","author_association":"MEMBER","body":"fixed in https://github.com/apache/incubator-brpc/pull/724","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482458608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482485334","html_url":"https://github.com/apache/brpc/pull/723#issuecomment-482485334","issue_url":"https://api.github.com/repos/apache/brpc/issues/723","id":482485334,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ4NTMzNA==","user":{"login":"wenweihu86","id":2144079,"node_id":"MDQ6VXNlcjIxNDQwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/2144079?v=4","gravatar_id":"","url":"https://api.github.com/users/wenweihu86","html_url":"https://github.com/wenweihu86","followers_url":"https://api.github.com/users/wenweihu86/followers","following_url":"https://api.github.com/users/wenweihu86/following{/other_user}","gists_url":"https://api.github.com/users/wenweihu86/gists{/gist_id}","starred_url":"https://api.github.com/users/wenweihu86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenweihu86/subscriptions","organizations_url":"https://api.github.com/users/wenweihu86/orgs","repos_url":"https://api.github.com/users/wenweihu86/repos","events_url":"https://api.github.com/users/wenweihu86/events{/privacy}","received_events_url":"https://api.github.com/users/wenweihu86/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T08:22:45Z","updated_at":"2019-04-12T08:22:45Z","author_association":"CONTRIBUTOR","body":"@jamesge 如果每个brpc release版本对所有依赖都指定了唯一版本，就不会遇到各种编译不过的坑。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482485334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482488838","html_url":"https://github.com/apache/brpc/pull/723#issuecomment-482488838","issue_url":"https://api.github.com/repos/apache/brpc/issues/723","id":482488838,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ4ODgzOA==","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T08:34:32Z","updated_at":"2019-04-12T08:34:32Z","author_association":"CONTRIBUTOR","body":"是否可以在config_brpc.sh里检查openssl和protobuf等库的版本，提前报错\r\n而不是到编译的时候再出错","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482488838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482491256","html_url":"https://github.com/apache/brpc/pull/723#issuecomment-482491256","issue_url":"https://api.github.com/repos/apache/brpc/issues/723","id":482491256,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjQ5MTI1Ng==","user":{"login":"wenweihu86","id":2144079,"node_id":"MDQ6VXNlcjIxNDQwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/2144079?v=4","gravatar_id":"","url":"https://api.github.com/users/wenweihu86","html_url":"https://github.com/wenweihu86","followers_url":"https://api.github.com/users/wenweihu86/followers","following_url":"https://api.github.com/users/wenweihu86/following{/other_user}","gists_url":"https://api.github.com/users/wenweihu86/gists{/gist_id}","starred_url":"https://api.github.com/users/wenweihu86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenweihu86/subscriptions","organizations_url":"https://api.github.com/users/wenweihu86/orgs","repos_url":"https://api.github.com/users/wenweihu86/repos","events_url":"https://api.github.com/users/wenweihu86/events{/privacy}","received_events_url":"https://api.github.com/users/wenweihu86/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T08:42:33Z","updated_at":"2019-04-12T08:42:33Z","author_association":"CONTRIBUTOR","body":"如果是指定了依赖版本，依赖的路径也是确定并唯一的，倒是可以在编译前做检查。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482491256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482528269","html_url":"https://github.com/apache/brpc/issues/726#issuecomment-482528269","issue_url":"https://api.github.com/repos/apache/brpc/issues/726","id":482528269,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjUyODI2OQ==","user":{"login":"xuexiangjys","id":15059629,"node_id":"MDQ6VXNlcjE1MDU5NjI5","avatar_url":"https://avatars.githubusercontent.com/u/15059629?v=4","gravatar_id":"","url":"https://api.github.com/users/xuexiangjys","html_url":"https://github.com/xuexiangjys","followers_url":"https://api.github.com/users/xuexiangjys/followers","following_url":"https://api.github.com/users/xuexiangjys/following{/other_user}","gists_url":"https://api.github.com/users/xuexiangjys/gists{/gist_id}","starred_url":"https://api.github.com/users/xuexiangjys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuexiangjys/subscriptions","organizations_url":"https://api.github.com/users/xuexiangjys/orgs","repos_url":"https://api.github.com/users/xuexiangjys/repos","events_url":"https://api.github.com/users/xuexiangjys/events{/privacy}","received_events_url":"https://api.github.com/users/xuexiangjys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T10:42:29Z","updated_at":"2019-04-12T10:42:29Z","author_association":"NONE","body":"openssl的问题，修改了config.mk就解决了\r\n```\r\nHDRS=/usr/local/Cellar/openssl/1.0.2r/include /usr/local/include/ /usr/local/include/node/\r\nLIBS=/usr/local/Cellar/openssl/1.0.2r/lib /usr/local/lib\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482528269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482528785","html_url":"https://github.com/apache/brpc/issues/726#issuecomment-482528785","issue_url":"https://api.github.com/repos/apache/brpc/issues/726","id":482528785,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjUyODc4NQ==","user":{"login":"wenweihu86","id":2144079,"node_id":"MDQ6VXNlcjIxNDQwNzk=","avatar_url":"https://avatars.githubusercontent.com/u/2144079?v=4","gravatar_id":"","url":"https://api.github.com/users/wenweihu86","html_url":"https://github.com/wenweihu86","followers_url":"https://api.github.com/users/wenweihu86/followers","following_url":"https://api.github.com/users/wenweihu86/following{/other_user}","gists_url":"https://api.github.com/users/wenweihu86/gists{/gist_id}","starred_url":"https://api.github.com/users/wenweihu86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenweihu86/subscriptions","organizations_url":"https://api.github.com/users/wenweihu86/orgs","repos_url":"https://api.github.com/users/wenweihu86/repos","events_url":"https://api.github.com/users/wenweihu86/events{/privacy}","received_events_url":"https://api.github.com/users/wenweihu86/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T10:44:37Z","updated_at":"2019-04-12T10:44:37Z","author_association":"CONTRIBUTOR","body":"#723 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482528785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482800762","html_url":"https://github.com/apache/brpc/pull/692#issuecomment-482800762","issue_url":"https://api.github.com/repos/apache/brpc/issues/692","id":482800762,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjgwMDc2Mg==","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T11:23:56Z","updated_at":"2019-04-13T11:23:56Z","author_association":"CONTRIBUTOR","body":"@altkatz 感谢你的建议，这个PR就到此结束了，启动了新的PR #722 ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482800762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482850072","html_url":"https://github.com/apache/brpc/issues/719#issuecomment-482850072","issue_url":"https://api.github.com/repos/apache/brpc/issues/719","id":482850072,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjg1MDA3Mg==","user":{"login":"wordhardqi","id":13628428,"node_id":"MDQ6VXNlcjEzNjI4NDI4","avatar_url":"https://avatars.githubusercontent.com/u/13628428?v=4","gravatar_id":"","url":"https://api.github.com/users/wordhardqi","html_url":"https://github.com/wordhardqi","followers_url":"https://api.github.com/users/wordhardqi/followers","following_url":"https://api.github.com/users/wordhardqi/following{/other_user}","gists_url":"https://api.github.com/users/wordhardqi/gists{/gist_id}","starred_url":"https://api.github.com/users/wordhardqi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wordhardqi/subscriptions","organizations_url":"https://api.github.com/users/wordhardqi/orgs","repos_url":"https://api.github.com/users/wordhardqi/repos","events_url":"https://api.github.com/users/wordhardqi/events{/privacy}","received_events_url":"https://api.github.com/users/wordhardqi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T17:44:48Z","updated_at":"2019-04-13T17:44:48Z","author_association":"NONE","body":"不太像，需要支持http","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/482850072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483098859","html_url":"https://github.com/apache/brpc/issues/697#issuecomment-483098859","issue_url":"https://api.github.com/repos/apache/brpc/issues/697","id":483098859,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzA5ODg1OQ==","user":{"login":"cuisonghui","id":8772285,"node_id":"MDQ6VXNlcjg3NzIyODU=","avatar_url":"https://avatars.githubusercontent.com/u/8772285?v=4","gravatar_id":"","url":"https://api.github.com/users/cuisonghui","html_url":"https://github.com/cuisonghui","followers_url":"https://api.github.com/users/cuisonghui/followers","following_url":"https://api.github.com/users/cuisonghui/following{/other_user}","gists_url":"https://api.github.com/users/cuisonghui/gists{/gist_id}","starred_url":"https://api.github.com/users/cuisonghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuisonghui/subscriptions","organizations_url":"https://api.github.com/users/cuisonghui/orgs","repos_url":"https://api.github.com/users/cuisonghui/repos","events_url":"https://api.github.com/users/cuisonghui/events{/privacy}","received_events_url":"https://api.github.com/users/cuisonghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T03:52:40Z","updated_at":"2019-04-15T03:53:05Z","author_association":"NONE","body":"@jamesge  我了解了一下半同步方式．在读文档的时候，发现有ParallelChannel这种组合channel.请问这种channel是否就可以解决我目前遇到的问题？\r\n由于不太了解ParallelChannel的机制，我的理解是这样的:在rpc的bthread线程中调用了pthread的阻塞函数，而同时又使用client同步客户端，导致死锁．那我换成ParallelChannel，相当与把pthread的阻塞函数换成bthread的阻塞，这样是不是就不会出现死锁问题?\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483098859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483113082","html_url":"https://github.com/apache/brpc/issues/720#issuecomment-483113082","issue_url":"https://api.github.com/repos/apache/brpc/issues/720","id":483113082,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzExMzA4Mg==","user":{"login":"0x007004","id":13299372,"node_id":"MDQ6VXNlcjEzMjk5Mzcy","avatar_url":"https://avatars.githubusercontent.com/u/13299372?v=4","gravatar_id":"","url":"https://api.github.com/users/0x007004","html_url":"https://github.com/0x007004","followers_url":"https://api.github.com/users/0x007004/followers","following_url":"https://api.github.com/users/0x007004/following{/other_user}","gists_url":"https://api.github.com/users/0x007004/gists{/gist_id}","starred_url":"https://api.github.com/users/0x007004/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0x007004/subscriptions","organizations_url":"https://api.github.com/users/0x007004/orgs","repos_url":"https://api.github.com/users/0x007004/repos","events_url":"https://api.github.com/users/0x007004/events{/privacy}","received_events_url":"https://api.github.com/users/0x007004/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T05:33:28Z","updated_at":"2019-04-15T05:33:28Z","author_association":"NONE","body":"谢谢.这样就放心了.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483113082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483131174","html_url":"https://github.com/apache/brpc/pull/692#issuecomment-483131174","issue_url":"https://api.github.com/repos/apache/brpc/issues/692","id":483131174,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzEzMTE3NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T07:00:00Z","updated_at":"2019-04-15T07:00:00Z","author_association":"CONTRIBUTOR","body":"单测都挂掉了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483131174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483496854","html_url":"https://github.com/apache/brpc/issues/725#issuecomment-483496854","issue_url":"https://api.github.com/repos/apache/brpc/issues/725","id":483496854,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQ5Njg1NA==","user":{"login":"jasonszang","id":19163259,"node_id":"MDQ6VXNlcjE5MTYzMjU5","avatar_url":"https://avatars.githubusercontent.com/u/19163259?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonszang","html_url":"https://github.com/jasonszang","followers_url":"https://api.github.com/users/jasonszang/followers","following_url":"https://api.github.com/users/jasonszang/following{/other_user}","gists_url":"https://api.github.com/users/jasonszang/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonszang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonszang/subscriptions","organizations_url":"https://api.github.com/users/jasonszang/orgs","repos_url":"https://api.github.com/users/jasonszang/repos","events_url":"https://api.github.com/users/jasonszang/events{/privacy}","received_events_url":"https://api.github.com/users/jasonszang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T03:25:47Z","updated_at":"2019-04-16T06:42:39Z","author_association":"CONTRIBUTOR","body":"I'm currently working on a PR that would address both your issues but I'm afraid it will take some time.\r\nBTW, I do not know whether the brpc maintainers have other plans for these issues.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483496854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483601355","html_url":"https://github.com/apache/brpc/issues/731#issuecomment-483601355","issue_url":"https://api.github.com/repos/apache/brpc/issues/731","id":483601355,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzYwMTM1NQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T10:21:00Z","updated_at":"2019-04-16T10:21:00Z","author_association":"MEMBER","body":"Currently if client is abnormally down, and ServerOptions.idle_timeout_sec in server side is set properly, then the connection should be closed after idle_timeout_sec as expected.\r\nBut problem happens when server is abnormally down, client would never know this situation if the connection type is single or short with no timeout until next rpc is sent to broken servers. If the connection type is short with timeout, connection would be closed after timeout is reached. The last case is pooled connection, which may not be the problem since it is controlled by FLAGS_idle_timeout_second.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483601355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483927174","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-483927174","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":483927174,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzkyNzE3NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T03:53:57Z","updated_at":"2019-04-17T03:53:57Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-brpc/blob/master/docs/cn/vars.md","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483927174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483928053","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-483928053","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":483928053,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzkyODA1Mw==","user":{"login":"whulz","id":33150141,"node_id":"MDQ6VXNlcjMzMTUwMTQx","avatar_url":"https://avatars.githubusercontent.com/u/33150141?v=4","gravatar_id":"","url":"https://api.github.com/users/whulz","html_url":"https://github.com/whulz","followers_url":"https://api.github.com/users/whulz/followers","following_url":"https://api.github.com/users/whulz/following{/other_user}","gists_url":"https://api.github.com/users/whulz/gists{/gist_id}","starred_url":"https://api.github.com/users/whulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whulz/subscriptions","organizations_url":"https://api.github.com/users/whulz/orgs","repos_url":"https://api.github.com/users/whulz/repos","events_url":"https://api.github.com/users/whulz/events{/privacy}","received_events_url":"https://api.github.com/users/whulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T03:59:11Z","updated_at":"2019-04-17T03:59:11Z","author_association":"NONE","body":"我看了一下,利用这个内置工具统计.导出到本地文件会是覆盖原有内容.可以追加式的记录或者有什么方法保存一端时间内的统计值吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483928053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483928616","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-483928616","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":483928616,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzkyODYxNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T04:02:43Z","updated_at":"2019-04-17T04:02:43Z","author_association":"CONTRIBUTOR","body":"1. 用logagent定期搜集被dump的文件。\r\n2. 自己[dump](https://github.com/apache/incubator-brpc/blob/master/src/bvar/variable.h#L200)\r\n3. 导出[至prometheus](https://github.com/apache/incubator-brpc/blob/master/docs/cn/bvar.md#bvar%E5%AF%BC%E5%87%BA%E5%88%B0%E5%85%B6%E5%AE%83%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E6%A0%BC%E5%BC%8F)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483928616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483951785","html_url":"https://github.com/apache/brpc/issues/731#issuecomment-483951785","issue_url":"https://api.github.com/repos/apache/brpc/issues/731","id":483951785,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzk1MTc4NQ==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T06:16:12Z","updated_at":"2019-04-17T06:16:12Z","author_association":"CONTRIBUTOR","body":"Thank you for your reply which let me know more.\r\nIt seems that it  is still beneficial if we can enable TCP keepalive manually, please also review my  PR #733 , thanks","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483951785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483958680","html_url":"https://github.com/apache/brpc/pull/733#issuecomment-483958680","issue_url":"https://api.github.com/repos/apache/brpc/issues/733","id":483958680,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzk1ODY4MA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T06:44:57Z","updated_at":"2019-04-17T06:44:57Z","author_association":"MEMBER","body":"when socket_enable_tcp_keepalive is true, UT is broken","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483958680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483979880","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-483979880","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":483979880,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzk3OTg4MA==","user":{"login":"whulz","id":33150141,"node_id":"MDQ6VXNlcjMzMTUwMTQx","avatar_url":"https://avatars.githubusercontent.com/u/33150141?v=4","gravatar_id":"","url":"https://api.github.com/users/whulz","html_url":"https://github.com/whulz","followers_url":"https://api.github.com/users/whulz/followers","following_url":"https://api.github.com/users/whulz/following{/other_user}","gists_url":"https://api.github.com/users/whulz/gists{/gist_id}","starred_url":"https://api.github.com/users/whulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whulz/subscriptions","organizations_url":"https://api.github.com/users/whulz/orgs","repos_url":"https://api.github.com/users/whulz/repos","events_url":"https://api.github.com/users/whulz/events{/privacy}","received_events_url":"https://api.github.com/users/whulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T07:59:48Z","updated_at":"2019-04-17T07:59:48Z","author_association":"NONE","body":"你好.我安装了prometheus后.运行brpc里的例子.echo_client和echo_server.并在prometheus配置中添加Job.设置抓取的地址为127.0.0.1:8000.在prometheus网页上查看状态提示server returned HTTP status 404 Not Found.请问是配置的时候还需要注意什么吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/483979880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484000164","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-484000164","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":484000164,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDAwMDE2NA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T09:01:21Z","updated_at":"2019-04-17T09:01:21Z","author_association":"MEMBER","body":"抓取地址是127.0.0.1:8000/metrics。配置前可以先curl一下能不能拿到数据","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484000164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484002342","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-484002342","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":484002342,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDAwMjM0Mg==","user":{"login":"whulz","id":33150141,"node_id":"MDQ6VXNlcjMzMTUwMTQx","avatar_url":"https://avatars.githubusercontent.com/u/33150141?v=4","gravatar_id":"","url":"https://api.github.com/users/whulz","html_url":"https://github.com/whulz","followers_url":"https://api.github.com/users/whulz/followers","following_url":"https://api.github.com/users/whulz/following{/other_user}","gists_url":"https://api.github.com/users/whulz/gists{/gist_id}","starred_url":"https://api.github.com/users/whulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whulz/subscriptions","organizations_url":"https://api.github.com/users/whulz/orgs","repos_url":"https://api.github.com/users/whulz/repos","events_url":"https://api.github.com/users/whulz/events{/privacy}","received_events_url":"https://api.github.com/users/whulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T09:07:57Z","updated_at":"2019-04-17T09:07:57Z","author_association":"NONE","body":"curl127.0.0.1:8000可以拿到数据.\r\ncurl127.0.0.1:8000/metrics拿不到数据","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484002342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484003479","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-484003479","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":484003479,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDAwMzQ3OQ==","user":{"login":"whulz","id":33150141,"node_id":"MDQ6VXNlcjMzMTUwMTQx","avatar_url":"https://avatars.githubusercontent.com/u/33150141?v=4","gravatar_id":"","url":"https://api.github.com/users/whulz","html_url":"https://github.com/whulz","followers_url":"https://api.github.com/users/whulz/followers","following_url":"https://api.github.com/users/whulz/following{/other_user}","gists_url":"https://api.github.com/users/whulz/gists{/gist_id}","starred_url":"https://api.github.com/users/whulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whulz/subscriptions","organizations_url":"https://api.github.com/users/whulz/orgs","repos_url":"https://api.github.com/users/whulz/repos","events_url":"https://api.github.com/users/whulz/events{/privacy}","received_events_url":"https://api.github.com/users/whulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T09:11:09Z","updated_at":"2019-04-17T09:11:09Z","author_association":"NONE","body":"网页输127.0.0.1:8000/metrics后,提示[127.0.1.1:8000][E1002]Fail to find method on `/metrics'","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484003479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484005043","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-484005043","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":484005043,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDAwNTA0Mw==","user":{"login":"whulz","id":33150141,"node_id":"MDQ6VXNlcjMzMTUwMTQx","avatar_url":"https://avatars.githubusercontent.com/u/33150141?v=4","gravatar_id":"","url":"https://api.github.com/users/whulz","html_url":"https://github.com/whulz","followers_url":"https://api.github.com/users/whulz/followers","following_url":"https://api.github.com/users/whulz/following{/other_user}","gists_url":"https://api.github.com/users/whulz/gists{/gist_id}","starred_url":"https://api.github.com/users/whulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whulz/subscriptions","organizations_url":"https://api.github.com/users/whulz/orgs","repos_url":"https://api.github.com/users/whulz/repos","events_url":"https://api.github.com/users/whulz/events{/privacy}","received_events_url":"https://api.github.com/users/whulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T09:15:40Z","updated_at":"2019-04-17T09:15:40Z","author_association":"NONE","body":"或许可能是因为我brpc的版本是之前的.我在之前的文档里看了下没有提及prometheus.我先更新下我的版本","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484005043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484013018","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-484013018","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":484013018,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDAxMzAxOA==","user":{"login":"whulz","id":33150141,"node_id":"MDQ6VXNlcjMzMTUwMTQx","avatar_url":"https://avatars.githubusercontent.com/u/33150141?v=4","gravatar_id":"","url":"https://api.github.com/users/whulz","html_url":"https://github.com/whulz","followers_url":"https://api.github.com/users/whulz/followers","following_url":"https://api.github.com/users/whulz/following{/other_user}","gists_url":"https://api.github.com/users/whulz/gists{/gist_id}","starred_url":"https://api.github.com/users/whulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whulz/subscriptions","organizations_url":"https://api.github.com/users/whulz/orgs","repos_url":"https://api.github.com/users/whulz/repos","events_url":"https://api.github.com/users/whulz/events{/privacy}","received_events_url":"https://api.github.com/users/whulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T09:39:00Z","updated_at":"2019-04-17T09:39:00Z","author_association":"NONE","body":"已经解决.感谢两位,因为自己的原因.非常抱歉.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484013018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484084771","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-484084771","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":484084771,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDA4NDc3MQ==","user":{"login":"whulz","id":33150141,"node_id":"MDQ6VXNlcjMzMTUwMTQx","avatar_url":"https://avatars.githubusercontent.com/u/33150141?v=4","gravatar_id":"","url":"https://api.github.com/users/whulz","html_url":"https://github.com/whulz","followers_url":"https://api.github.com/users/whulz/followers","following_url":"https://api.github.com/users/whulz/following{/other_user}","gists_url":"https://api.github.com/users/whulz/gists{/gist_id}","starred_url":"https://api.github.com/users/whulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whulz/subscriptions","organizations_url":"https://api.github.com/users/whulz/orgs","repos_url":"https://api.github.com/users/whulz/repos","events_url":"https://api.github.com/users/whulz/events{/privacy}","received_events_url":"https://api.github.com/users/whulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T13:15:20Z","updated_at":"2019-04-17T13:15:20Z","author_association":"NONE","body":"我看了下bvar的统计和top命令的统计信息.top命令cpu的使用情况差不多.但是内存对不上.请问bvar统计的进程内存哪个对上top命令的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484084771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484335075","html_url":"https://github.com/apache/brpc/pull/733#issuecomment-484335075","issue_url":"https://api.github.com/repos/apache/brpc/issues/733","id":484335075,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDMzNTA3NQ==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T02:45:04Z","updated_at":"2019-04-18T05:56:30Z","author_association":"CONTRIBUTOR","body":"@zyearn  thanks for your review\r\n\r\nwhen the default value of `socket_enable_tcp_keepalive` is true, the error message in some UT is \r\n\r\n> Fail to set enable keepalive of _fd=4_: **Socket operation on non-socket**. \r\n\r\nSo there should be some places where a non-socket fd is used to create the `brpc::Socket` object (a clue is from the above error, which is the value of fd is 4, indicating that its high probability is not a real socket fd).\r\n\r\nChange the default value of `socket_enable_tcp_keepalive` to false, which can maintain the same behavior as the original, just like the existing socket configuration (such as FLAGS_socket_send_buffer_size). That is, if the default value of `FLAGS_socket_send_buffer_size` is greater than 0, then there will be similar problems. These configurations are the same setting method, but the default is not turned on.\r\n\r\nBTW, I am sorry that I am unable to find a more detailed reason for now, because I am currently experiencing some problems during compilation (should be due to my machine environment, which is caused by [Dual ABI](https://gcc.gnu.org/onlinedocs/libstdc++/manual/using_dual_abi.html) problem), resulting in the inability to perform sufficient GDB. After I solved the current compile problem, I am willing to find it out.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484335075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484346817","html_url":"https://github.com/apache/brpc/issues/737#issuecomment-484346817","issue_url":"https://api.github.com/repos/apache/brpc/issues/737","id":484346817,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM0NjgxNw==","user":{"login":"githcx","id":2312126,"node_id":"MDQ6VXNlcjIzMTIxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/2312126?v=4","gravatar_id":"","url":"https://api.github.com/users/githcx","html_url":"https://github.com/githcx","followers_url":"https://api.github.com/users/githcx/followers","following_url":"https://api.github.com/users/githcx/following{/other_user}","gists_url":"https://api.github.com/users/githcx/gists{/gist_id}","starred_url":"https://api.github.com/users/githcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/githcx/subscriptions","organizations_url":"https://api.github.com/users/githcx/orgs","repos_url":"https://api.github.com/users/githcx/repos","events_url":"https://api.github.com/users/githcx/events{/privacy}","received_events_url":"https://api.github.com/users/githcx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T03:57:01Z","updated_at":"2019-04-18T03:57:16Z","author_association":"NONE","body":"leveldb和gflag离线安装，通过export CXXFLAGS=\"-fPIC\"，之后cmake ../ 和 make install 重新安装后。\r\n再对brpc进行make，就一切ok了。\r\n参考这个解释：https://blog.csdn.net/h_jlwg6688/article/details/52410959","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484346817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484383735","html_url":"https://github.com/apache/brpc/pull/733#issuecomment-484383735","issue_url":"https://api.github.com/repos/apache/brpc/issues/733","id":484383735,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM4MzczNQ==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T07:12:06Z","updated_at":"2019-04-18T12:41:34Z","author_association":"CONTRIBUTOR","body":"I found the reason.\r\n\r\nThe `HttpTest` class (in the brpc_http_rpc_protocol_unittest.cpp file) uses a **pipe fd** (which is not a real socket fd) to create `brpc::Socket` object, so it will fail when using `setsockopt()`.\r\n\r\nThe code is as follows:\r\nhttps://github.com/apache/incubator-brpc/blob/acce77994832f17666324837c448117cf41e5b5d/test/brpc_http_rpc_protocol_unittest.cpp#L98-103\r\n\r\nBased on the reasons mentioned above, I feel that there is no need to modify the PR for the time being.  hope to review it again, thanks.  @zyearn ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484383735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484419213","html_url":"https://github.com/apache/brpc/issues/734#issuecomment-484419213","issue_url":"https://api.github.com/repos/apache/brpc/issues/734","id":484419213,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDQxOTIxMw==","user":{"login":"lzueclipse","id":4018691,"node_id":"MDQ6VXNlcjQwMTg2OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4018691?v=4","gravatar_id":"","url":"https://api.github.com/users/lzueclipse","html_url":"https://github.com/lzueclipse","followers_url":"https://api.github.com/users/lzueclipse/followers","following_url":"https://api.github.com/users/lzueclipse/following{/other_user}","gists_url":"https://api.github.com/users/lzueclipse/gists{/gist_id}","starred_url":"https://api.github.com/users/lzueclipse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lzueclipse/subscriptions","organizations_url":"https://api.github.com/users/lzueclipse/orgs","repos_url":"https://api.github.com/users/lzueclipse/repos","events_url":"https://api.github.com/users/lzueclipse/events{/privacy}","received_events_url":"https://api.github.com/users/lzueclipse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T09:09:15Z","updated_at":"2019-04-18T09:09:15Z","author_association":"NONE","body":"上面一个comment我说错了，有点粗心。\r\n重新实验，确定没有问题。\r\n\r\n通过“ps\"命令，确认进程memory virtual = 443128  resident= 46124，单位是KB\r\n通过\"http://x.x.x.x/metrics\",  注意单位是Bytes\r\nprocess_memory_virtual 453767168\r\n process_memory_resident 47149056\r\n\r\n453767168 / 1024 = 443132\r\n47149056/2014 = 46044\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484419213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484460282","html_url":"https://github.com/apache/brpc/pull/692#issuecomment-484460282","issue_url":"https://api.github.com/repos/apache/brpc/issues/692","id":484460282,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDQ2MDI4Mg==","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T11:17:05Z","updated_at":"2019-04-18T11:17:05Z","author_association":"CONTRIBUTOR","body":"戈神，我看了一下，貌似不是我的单测报错呢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484460282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484753488","html_url":"https://github.com/apache/brpc/issues/735#issuecomment-484753488","issue_url":"https://api.github.com/repos/apache/brpc/issues/735","id":484753488,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDc1MzQ4OA==","user":{"login":"jasonszang","id":19163259,"node_id":"MDQ6VXNlcjE5MTYzMjU5","avatar_url":"https://avatars.githubusercontent.com/u/19163259?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonszang","html_url":"https://github.com/jasonszang","followers_url":"https://api.github.com/users/jasonszang/followers","following_url":"https://api.github.com/users/jasonszang/following{/other_user}","gists_url":"https://api.github.com/users/jasonszang/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonszang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonszang/subscriptions","organizations_url":"https://api.github.com/users/jasonszang/orgs","repos_url":"https://api.github.com/users/jasonszang/repos","events_url":"https://api.github.com/users/jasonszang/events{/privacy}","received_events_url":"https://api.github.com/users/jasonszang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-19T03:06:01Z","updated_at":"2019-04-21T07:12:29Z","author_association":"CONTRIBUTOR","body":"You can use HTTP protocol to access protobuf-based rpc services. From virtually anything that supports HTTP, which is, well, virtually anything. Including C++ itself, if you don't want to link against brpc on the client side you can use things like say libcurl, Boost.Beast, anything like that. With a performance penalty, of course.\r\n\r\nSee https://github.com/apache/incubator-brpc/blob/master/docs/en/server.md#accessed-by-httph2","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484753488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484822443","html_url":"https://github.com/apache/brpc/pull/733#issuecomment-484822443","issue_url":"https://api.github.com/repos/apache/brpc/issues/733","id":484822443,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDgyMjQ0Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-19T09:16:03Z","updated_at":"2019-04-19T09:16:03Z","author_association":"CONTRIBUTOR","body":"Do we have any application here? The tcp-keepalive may make existing features like -idle_timeout not working as expected, which may confuse users. Without a real application, this PR will not be merged. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484822443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484865913","html_url":"https://github.com/apache/brpc/pull/733#issuecomment-484865913","issue_url":"https://api.github.com/repos/apache/brpc/issues/733","id":484865913,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDg2NTkxMw==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-19T11:34:08Z","updated_at":"2019-04-19T11:34:08Z","author_association":"CONTRIBUTOR","body":"Thank @jamesge for your reply.\r\n\r\nLet me describe our application. We use *[braft](https://github.com/brpc/braft)* (*brpc* based) to build our program, which will have a lot of raft groups, and RPC is required between the `Leader node` and the `Follower node` of each raft group. When we make some exceptions, such as drop all the network packets of a machine's brpc port, we will find a large number of semi-connections on the server side. \r\n\r\nAs @zyearn stated in the[ previous reply](https://github.com/apache/incubator-brpc/issues/731#issuecomment-483601355) of issue #731 , this problem can be solved by setting `ServerOption.idle_timeout_sec` on the server side. However, when the server is abnormally down, the client is still at risk, and this problem seems can only be solved by turning on `Tcp keepalive`.\r\n\r\nBut after careful thought, I feel that **the risk of the client side may not be as serious as imagined**, because the number of connections made by the client side is controlled by itself, whether single link or connection pool, so the number of socket fd on client side must be a limited number, and will know which link is bad when send next message (in contrast, on the server side, the number of socket fds created depends on the number of connections initiated by the client, so in theory, there may be unlimited socket fd)\r\n\r\nAnyway, thank you both for letting me know how to solve our problem.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/484865913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485132641","html_url":"https://github.com/apache/brpc/issues/742#issuecomment-485132641","issue_url":"https://api.github.com/repos/apache/brpc/issues/742","id":485132641,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTEzMjY0MQ==","user":{"login":"cg82616424","id":6222464,"node_id":"MDQ6VXNlcjYyMjI0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6222464?v=4","gravatar_id":"","url":"https://api.github.com/users/cg82616424","html_url":"https://github.com/cg82616424","followers_url":"https://api.github.com/users/cg82616424/followers","following_url":"https://api.github.com/users/cg82616424/following{/other_user}","gists_url":"https://api.github.com/users/cg82616424/gists{/gist_id}","starred_url":"https://api.github.com/users/cg82616424/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cg82616424/subscriptions","organizations_url":"https://api.github.com/users/cg82616424/orgs","repos_url":"https://api.github.com/users/cg82616424/repos","events_url":"https://api.github.com/users/cg82616424/events{/privacy}","received_events_url":"https://api.github.com/users/cg82616424/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-20T14:43:32Z","updated_at":"2019-04-20T14:43:32Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/6222464/56458795-b3526100-63bd-11e9-9521-0c304b4f2b31.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485132641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485221553","html_url":"https://github.com/apache/brpc/pull/733#issuecomment-485221553","issue_url":"https://api.github.com/repos/apache/brpc/issues/733","id":485221553,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTIyMTU1Mw==","user":{"login":"chenzhangyi","id":6805583,"node_id":"MDQ6VXNlcjY4MDU1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6805583?v=4","gravatar_id":"","url":"https://api.github.com/users/chenzhangyi","html_url":"https://github.com/chenzhangyi","followers_url":"https://api.github.com/users/chenzhangyi/followers","following_url":"https://api.github.com/users/chenzhangyi/following{/other_user}","gists_url":"https://api.github.com/users/chenzhangyi/gists{/gist_id}","starred_url":"https://api.github.com/users/chenzhangyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenzhangyi/subscriptions","organizations_url":"https://api.github.com/users/chenzhangyi/orgs","repos_url":"https://api.github.com/users/chenzhangyi/repos","events_url":"https://api.github.com/users/chenzhangyi/events{/privacy}","received_events_url":"https://api.github.com/users/chenzhangyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-21T03:26:23Z","updated_at":"2019-04-21T03:26:23Z","author_association":"MEMBER","body":"@lingbin \r\nAs far as I know, braft has resolved this problem by issuing `heartbeats` from `leaders` to `followers` periodically. \r\nIn your case, writing something to the semi connection would trigger RTO(if the server side doesn't receive the package) or RST(if the server side receives the package) and the client side would finally close the connection.\r\nIt might lead to a performance issue if adding the `tcp keepalive` flag to a large amount of connections. It's better to do a benchmark test to find out the overhead.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485221553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485229413","html_url":"https://github.com/apache/brpc/pull/733#issuecomment-485229413","issue_url":"https://api.github.com/repos/apache/brpc/issues/733","id":485229413,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTIyOTQxMw==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-21T06:47:31Z","updated_at":"2019-04-21T06:47:31Z","author_association":"CONTRIBUTOR","body":"@chenzhangyi \r\nYes, as you said, there's no problem with the **client side** in *braft*, because Leader sends heartbeat RPC periodically to Follower. We encountered this problem on the **server side** because we didn't set `ServerOption. idle_timeout_sec`.\r\n\r\nWhat I said before\r\n> However, when the server is abnormally down, **the client is still at risk**, and this problem seems can only be solved by turning on Tcp keepalive. \r\n\r\nIt is not to say *braft*, and we did not encounter problems on the **client side** when using *braft*. What I really want to say is that in an application if the client side **does not periodically send RPC** to the **server side**, the client side has this risk, but I really **haven not encountered a specific application example yet**, so I will close this PR for the time being.\r\n\r\nThank you all for the patience reply","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485229413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485356386","html_url":"https://github.com/apache/brpc/issues/743#issuecomment-485356386","issue_url":"https://api.github.com/repos/apache/brpc/issues/743","id":485356386,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTM1NjM4Ng==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-22T07:57:54Z","updated_at":"2019-04-22T07:57:54Z","author_association":"CONTRIBUTOR","body":"我们也在使用brpc thrift，用我们的服务试验了一下，没有复现这个问题。\r\n试验的方法：iptables限制对某个(某几个)server节点的访问。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485356386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485359435","html_url":"https://github.com/apache/brpc/issues/743#issuecomment-485359435","issue_url":"https://api.github.com/repos/apache/brpc/issues/743","id":485359435,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTM1OTQzNQ==","user":{"login":"cauchy1988","id":7292411,"node_id":"MDQ6VXNlcjcyOTI0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/7292411?v=4","gravatar_id":"","url":"https://api.github.com/users/cauchy1988","html_url":"https://github.com/cauchy1988","followers_url":"https://api.github.com/users/cauchy1988/followers","following_url":"https://api.github.com/users/cauchy1988/following{/other_user}","gists_url":"https://api.github.com/users/cauchy1988/gists{/gist_id}","starred_url":"https://api.github.com/users/cauchy1988/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cauchy1988/subscriptions","organizations_url":"https://api.github.com/users/cauchy1988/orgs","repos_url":"https://api.github.com/users/cauchy1988/repos","events_url":"https://api.github.com/users/cauchy1988/events{/privacy}","received_events_url":"https://api.github.com/users/cauchy1988/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-22T08:13:52Z","updated_at":"2019-04-22T08:13:52Z","author_association":"NONE","body":"> 我们也在使用brpc thrift，用我们的服务试验了一下，没有复现这个问题。\r\n> 试验的方法：iptables限制对某个(某几个)server节点的访问。\r\n\r\n也用的是“同步调用的方式”？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485359435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485360548","html_url":"https://github.com/apache/brpc/issues/743#issuecomment-485360548","issue_url":"https://api.github.com/repos/apache/brpc/issues/743","id":485360548,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTM2MDU0OA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-22T08:19:38Z","updated_at":"2019-04-22T08:20:04Z","author_association":"CONTRIBUTOR","body":"对的 pthread + 同步访问","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485360548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485361171","html_url":"https://github.com/apache/brpc/issues/743#issuecomment-485361171","issue_url":"https://api.github.com/repos/apache/brpc/issues/743","id":485361171,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTM2MTE3MQ==","user":{"login":"cauchy1988","id":7292411,"node_id":"MDQ6VXNlcjcyOTI0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/7292411?v=4","gravatar_id":"","url":"https://api.github.com/users/cauchy1988","html_url":"https://github.com/cauchy1988","followers_url":"https://api.github.com/users/cauchy1988/followers","following_url":"https://api.github.com/users/cauchy1988/following{/other_user}","gists_url":"https://api.github.com/users/cauchy1988/gists{/gist_id}","starred_url":"https://api.github.com/users/cauchy1988/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cauchy1988/subscriptions","organizations_url":"https://api.github.com/users/cauchy1988/orgs","repos_url":"https://api.github.com/users/cauchy1988/repos","events_url":"https://api.github.com/users/cauchy1988/events{/privacy}","received_events_url":"https://api.github.com/users/cauchy1988/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-22T08:22:32Z","updated_at":"2019-04-22T08:22:32Z","author_association":"NONE","body":"直接重启一台下游服务； 没有复现这个问题？  直接channel单连接一台下游服务试试；我昨天复现无数次了； 现在线上的服务改成半异步才好； 要不行我等下再试试； 然后整个程序包你也一起看看；","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485361171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485393742","html_url":"https://github.com/apache/brpc/issues/714#issuecomment-485393742","issue_url":"https://api.github.com/repos/apache/brpc/issues/714","id":485393742,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTM5Mzc0Mg==","user":{"login":"haolujun","id":10751631,"node_id":"MDQ6VXNlcjEwNzUxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/10751631?v=4","gravatar_id":"","url":"https://api.github.com/users/haolujun","html_url":"https://github.com/haolujun","followers_url":"https://api.github.com/users/haolujun/followers","following_url":"https://api.github.com/users/haolujun/following{/other_user}","gists_url":"https://api.github.com/users/haolujun/gists{/gist_id}","starred_url":"https://api.github.com/users/haolujun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haolujun/subscriptions","organizations_url":"https://api.github.com/users/haolujun/orgs","repos_url":"https://api.github.com/users/haolujun/repos","events_url":"https://api.github.com/users/haolujun/events{/privacy}","received_events_url":"https://api.github.com/users/haolujun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-22T11:11:00Z","updated_at":"2019-04-22T11:11:00Z","author_association":"NONE","body":"问题已解决","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485393742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485424087","html_url":"https://github.com/apache/brpc/issues/731#issuecomment-485424087","issue_url":"https://api.github.com/repos/apache/brpc/issues/731","id":485424087,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTQyNDA4Nw==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-22T13:53:09Z","updated_at":"2019-04-22T13:53:09Z","author_association":"CONTRIBUTOR","body":"In addition to this page, there are also some comments in #733 . \r\nThe conclusion of this issue is clear, So now close the issue.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485424087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485681408","html_url":"https://github.com/apache/brpc/issues/744#issuecomment-485681408","issue_url":"https://api.github.com/repos/apache/brpc/issues/744","id":485681408,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTY4MTQwOA==","user":{"login":"gydong","id":3294444,"node_id":"MDQ6VXNlcjMyOTQ0NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3294444?v=4","gravatar_id":"","url":"https://api.github.com/users/gydong","html_url":"https://github.com/gydong","followers_url":"https://api.github.com/users/gydong/followers","following_url":"https://api.github.com/users/gydong/following{/other_user}","gists_url":"https://api.github.com/users/gydong/gists{/gist_id}","starred_url":"https://api.github.com/users/gydong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gydong/subscriptions","organizations_url":"https://api.github.com/users/gydong/orgs","repos_url":"https://api.github.com/users/gydong/repos","events_url":"https://api.github.com/users/gydong/events{/privacy}","received_events_url":"https://api.github.com/users/gydong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-23T07:41:55Z","updated_at":"2019-04-23T07:41:55Z","author_association":"CONTRIBUTOR","body":"1、当时，connect_timeout设置的是多少ms？\r\n2、当时，用命令行访问服务端，响应正常吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485681408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485686878","html_url":"https://github.com/apache/brpc/issues/744#issuecomment-485686878","issue_url":"https://api.github.com/repos/apache/brpc/issues/744","id":485686878,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTY4Njg3OA==","user":{"login":"haolujun","id":10751631,"node_id":"MDQ6VXNlcjEwNzUxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/10751631?v=4","gravatar_id":"","url":"https://api.github.com/users/haolujun","html_url":"https://github.com/haolujun","followers_url":"https://api.github.com/users/haolujun/followers","following_url":"https://api.github.com/users/haolujun/following{/other_user}","gists_url":"https://api.github.com/users/haolujun/gists{/gist_id}","starred_url":"https://api.github.com/users/haolujun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haolujun/subscriptions","organizations_url":"https://api.github.com/users/haolujun/orgs","repos_url":"https://api.github.com/users/haolujun/repos","events_url":"https://api.github.com/users/haolujun/events{/privacy}","received_events_url":"https://api.github.com/users/haolujun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-23T07:59:24Z","updated_at":"2019-04-23T08:00:14Z","author_association":"NONE","body":"> 1、当时，connect_timeout设置的是多少ms？\r\n> 2、当时，用命令行访问服务端，响应正常吗？\r\n\r\n50ms，1秒，都设置过，都超时。后来，把connection_type改成single或者pooled，就再也没有发现有超时错误。\r\n\r\n超时的时候，用命令行访问redis服务端，响应正常，没有任何问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485686878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485717544","html_url":"https://github.com/apache/brpc/issues/640#issuecomment-485717544","issue_url":"https://api.github.com/repos/apache/brpc/issues/640","id":485717544,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTcxNzU0NA==","user":{"login":"haolujun","id":10751631,"node_id":"MDQ6VXNlcjEwNzUxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/10751631?v=4","gravatar_id":"","url":"https://api.github.com/users/haolujun","html_url":"https://github.com/haolujun","followers_url":"https://api.github.com/users/haolujun/followers","following_url":"https://api.github.com/users/haolujun/following{/other_user}","gists_url":"https://api.github.com/users/haolujun/gists{/gist_id}","starred_url":"https://api.github.com/users/haolujun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haolujun/subscriptions","organizations_url":"https://api.github.com/users/haolujun/orgs","repos_url":"https://api.github.com/users/haolujun/repos","events_url":"https://api.github.com/users/haolujun/events{/privacy}","received_events_url":"https://api.github.com/users/haolujun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-23T09:08:43Z","updated_at":"2019-04-23T09:08:43Z","author_association":"NONE","body":"这个问题找到原因了：我的服务上游在请求我的时候，存在链接泄漏，导致我服务端的链接不释放，内存一直增长。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485717544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485792576","html_url":"https://github.com/apache/brpc/pull/722#issuecomment-485792576","issue_url":"https://api.github.com/repos/apache/brpc/issues/722","id":485792576,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTc5MjU3Ng==","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-23T13:00:56Z","updated_at":"2019-04-23T13:00:56Z","author_association":"CONTRIBUTOR","body":"支持single模式，使用事务功能将不支持single模式。添加了压测脚本，更新了文档。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/485792576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486054848","html_url":"https://github.com/apache/brpc/issues/502#issuecomment-486054848","issue_url":"https://api.github.com/repos/apache/brpc/issues/502","id":486054848,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjA1NDg0OA==","user":{"login":"x-x-p","id":49055325,"node_id":"MDQ6VXNlcjQ5MDU1MzI1","avatar_url":"https://avatars.githubusercontent.com/u/49055325?v=4","gravatar_id":"","url":"https://api.github.com/users/x-x-p","html_url":"https://github.com/x-x-p","followers_url":"https://api.github.com/users/x-x-p/followers","following_url":"https://api.github.com/users/x-x-p/following{/other_user}","gists_url":"https://api.github.com/users/x-x-p/gists{/gist_id}","starred_url":"https://api.github.com/users/x-x-p/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/x-x-p/subscriptions","organizations_url":"https://api.github.com/users/x-x-p/orgs","repos_url":"https://api.github.com/users/x-x-p/repos","events_url":"https://api.github.com/users/x-x-p/events{/privacy}","received_events_url":"https://api.github.com/users/x-x-p/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-24T03:38:46Z","updated_at":"2019-04-24T03:38:46Z","author_association":"NONE","body":"????????????????????????????","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486054848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486054926","html_url":"https://github.com/apache/brpc/issues/502#issuecomment-486054926","issue_url":"https://api.github.com/repos/apache/brpc/issues/502","id":486054926,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjA1NDkyNg==","user":{"login":"x-x-p","id":49055325,"node_id":"MDQ6VXNlcjQ5MDU1MzI1","avatar_url":"https://avatars.githubusercontent.com/u/49055325?v=4","gravatar_id":"","url":"https://api.github.com/users/x-x-p","html_url":"https://github.com/x-x-p","followers_url":"https://api.github.com/users/x-x-p/followers","following_url":"https://api.github.com/users/x-x-p/following{/other_user}","gists_url":"https://api.github.com/users/x-x-p/gists{/gist_id}","starred_url":"https://api.github.com/users/x-x-p/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/x-x-p/subscriptions","organizations_url":"https://api.github.com/users/x-x-p/orgs","repos_url":"https://api.github.com/users/x-x-p/repos","events_url":"https://api.github.com/users/x-x-p/events{/privacy}","received_events_url":"https://api.github.com/users/x-x-p/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-24T03:39:10Z","updated_at":"2019-04-24T03:39:10Z","author_association":"NONE","body":"@jamesge @wanglun @jbonofre ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486054926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486079331","html_url":"https://github.com/apache/brpc/issues/745#issuecomment-486079331","issue_url":"https://api.github.com/repos/apache/brpc/issues/745","id":486079331,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjA3OTMzMQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-24T05:58:01Z","updated_at":"2019-04-24T05:58:01Z","author_association":"MEMBER","body":"3.7目前还不支持","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486079331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486085046","html_url":"https://github.com/apache/brpc/issues/742#issuecomment-486085046","issue_url":"https://api.github.com/repos/apache/brpc/issues/742","id":486085046,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjA4NTA0Ng==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-24T06:23:53Z","updated_at":"2019-04-24T06:23:53Z","author_association":"MEMBER","body":"size_t is 32 bit in 32-bit machine. Try to replace 32UL with (size_t)32 and recompile your code. When all errors are resolved and code can be compiled successfully, pull request is welcomed to solve this issue.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486085046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486897663","html_url":"https://github.com/apache/brpc/issues/452#issuecomment-486897663","issue_url":"https://api.github.com/repos/apache/brpc/issues/452","id":486897663,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Njg5NzY2Mw==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-26T01:55:56Z","updated_at":"2019-04-26T01:55:56Z","author_association":"CONTRIBUTOR","body":"@jamesge  关于”bthread层面汇报work是否用满”，具体统计哪些信息？比如 bthread在run_queue中的排队时间?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486897663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486998868","html_url":"https://github.com/apache/brpc/issues/747#issuecomment-486998868","issue_url":"https://api.github.com/repos/apache/brpc/issues/747","id":486998868,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Njk5ODg2OA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-26T09:48:08Z","updated_at":"2019-04-26T09:48:08Z","author_association":"CONTRIBUTOR","body":"请问一下，这个不支持认证的具体原因是什么呢？修复方案困难吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/486998868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487268070","html_url":"https://github.com/apache/brpc/issues/742#issuecomment-487268070","issue_url":"https://api.github.com/repos/apache/brpc/issues/742","id":487268070,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzI2ODA3MA==","user":{"login":"cg82616424","id":6222464,"node_id":"MDQ6VXNlcjYyMjI0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6222464?v=4","gravatar_id":"","url":"https://api.github.com/users/cg82616424","html_url":"https://github.com/cg82616424","followers_url":"https://api.github.com/users/cg82616424/followers","following_url":"https://api.github.com/users/cg82616424/following{/other_user}","gists_url":"https://api.github.com/users/cg82616424/gists{/gist_id}","starred_url":"https://api.github.com/users/cg82616424/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cg82616424/subscriptions","organizations_url":"https://api.github.com/users/cg82616424/orgs","repos_url":"https://api.github.com/users/cg82616424/repos","events_url":"https://api.github.com/users/cg82616424/events{/privacy}","received_events_url":"https://api.github.com/users/cg82616424/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-27T08:46:05Z","updated_at":"2019-04-27T08:46:05Z","author_association":"CONTRIBUTOR","body":"[ 10%] Built target PROTO_LIB\r\n[ 45%] Built target BUTIL_LIB\r\n[ 45%] Building CXX object src/CMakeFiles/OBJ_LIB.dir/bthread/butex.cpp.o\r\n{standard input}: Assembler messages:\r\n{standard input}:7556: 错误：bad instruction `pause'\r\n{standard input}:7620: 错误：bad instruction `pause'\r\n{standard input}:7995: 错误：bad instruction `pause'\r\nsrc/CMakeFiles/OBJ_LIB.dir/build.make:254: recipe for target 'src/CMakeFiles/OBJ_LIB.dir/bthread/butex.cpp.o' failed\r\nmake[2]: *** [src/CMakeFiles/OBJ_LIB.dir/bthread/butex.cpp.o] Error 1\r\nCMakeFiles/Makefile2:208: recipe for target 'src/CMakeFiles/OBJ_LIB.dir/all' failed\r\nmake[1]: *** [src/CMakeFiles/OBJ_LIB.dir/all] Error 2\r\nMakefile:149: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\ni can not figure out how to solve this problem ....","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487268070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487372294","html_url":"https://github.com/apache/brpc/pull/748#issuecomment-487372294","issue_url":"https://api.github.com/repos/apache/brpc/issues/748","id":487372294,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzM3MjI5NA==","user":{"login":"lingbin","id":3818369,"node_id":"MDQ6VXNlcjM4MTgzNjk=","avatar_url":"https://avatars.githubusercontent.com/u/3818369?v=4","gravatar_id":"","url":"https://api.github.com/users/lingbin","html_url":"https://github.com/lingbin","followers_url":"https://api.github.com/users/lingbin/followers","following_url":"https://api.github.com/users/lingbin/following{/other_user}","gists_url":"https://api.github.com/users/lingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lingbin/subscriptions","organizations_url":"https://api.github.com/users/lingbin/orgs","repos_url":"https://api.github.com/users/lingbin/repos","events_url":"https://api.github.com/users/lingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-28T11:56:43Z","updated_at":"2019-04-28T11:56:43Z","author_association":"CONTRIBUTOR","body":"It seems that the current code has a problem, not the PR, because this PR only modifies the markdown doc.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487372294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487379037","html_url":"https://github.com/apache/brpc/issues/747#issuecomment-487379037","issue_url":"https://api.github.com/repos/apache/brpc/issues/747","id":487379037,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzM3OTAzNw==","user":{"login":"jasonszang","id":19163259,"node_id":"MDQ6VXNlcjE5MTYzMjU5","avatar_url":"https://avatars.githubusercontent.com/u/19163259?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonszang","html_url":"https://github.com/jasonszang","followers_url":"https://api.github.com/users/jasonszang/followers","following_url":"https://api.github.com/users/jasonszang/following{/other_user}","gists_url":"https://api.github.com/users/jasonszang/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonszang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonszang/subscriptions","organizations_url":"https://api.github.com/users/jasonszang/orgs","repos_url":"https://api.github.com/users/jasonszang/repos","events_url":"https://api.github.com/users/jasonszang/events{/privacy}","received_events_url":"https://api.github.com/users/jasonszang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-28T13:22:22Z","updated_at":"2019-04-28T13:22:22Z","author_association":"CONTRIBUTOR","body":"BuiltinService本来就不是开放给外网用户用的，如果需要对非可信方（比如外网）提供brpc服务，应该把内置服务分离到另一个端口，而且不要对外开放内置服务端口。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487379037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487379206","html_url":"https://github.com/apache/brpc/issues/740#issuecomment-487379206","issue_url":"https://api.github.com/repos/apache/brpc/issues/740","id":487379206,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzM3OTIwNg==","user":{"login":"jasonszang","id":19163259,"node_id":"MDQ6VXNlcjE5MTYzMjU5","avatar_url":"https://avatars.githubusercontent.com/u/19163259?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonszang","html_url":"https://github.com/jasonszang","followers_url":"https://api.github.com/users/jasonszang/followers","following_url":"https://api.github.com/users/jasonszang/following{/other_user}","gists_url":"https://api.github.com/users/jasonszang/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonszang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonszang/subscriptions","organizations_url":"https://api.github.com/users/jasonszang/orgs","repos_url":"https://api.github.com/users/jasonszang/repos","events_url":"https://api.github.com/users/jasonszang/events{/privacy}","received_events_url":"https://api.github.com/users/jasonszang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-28T13:24:46Z","updated_at":"2019-04-28T13:24:46Z","author_association":"CONTRIBUTOR","body":"这样使用会引发未定义行为。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487379206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487429158","html_url":"https://github.com/apache/brpc/issues/747#issuecomment-487429158","issue_url":"https://api.github.com/repos/apache/brpc/issues/747","id":487429158,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzQyOTE1OA==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-29T00:41:05Z","updated_at":"2019-04-29T00:41:05Z","author_association":"CONTRIBUTOR","body":"内网也不是绝对安全，安全团队的安全扫描也会导致所说的问题，目前已经发生过这个现象。主要是想知道加上认证会有什么问题？代码的comments中说是有bug，想了解这个背景","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487429158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487445220","html_url":"https://github.com/apache/brpc/issues/747#issuecomment-487445220","issue_url":"https://api.github.com/repos/apache/brpc/issues/747","id":487445220,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzQ0NTIyMA==","user":{"login":"jasonszang","id":19163259,"node_id":"MDQ6VXNlcjE5MTYzMjU5","avatar_url":"https://avatars.githubusercontent.com/u/19163259?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonszang","html_url":"https://github.com/jasonszang","followers_url":"https://api.github.com/users/jasonszang/followers","following_url":"https://api.github.com/users/jasonszang/following{/other_user}","gists_url":"https://api.github.com/users/jasonszang/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonszang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonszang/subscriptions","organizations_url":"https://api.github.com/users/jasonszang/orgs","repos_url":"https://api.github.com/users/jasonszang/repos","events_url":"https://api.github.com/users/jasonszang/events{/privacy}","received_events_url":"https://api.github.com/users/jasonszang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-29T03:50:53Z","updated_at":"2019-04-29T03:50:53Z","author_association":"CONTRIBUTOR","body":"你说的这段comment里的TODO的背景我很久以前遭遇过这个，如果我没记错的话，这个问题是这样的，brpc的一个长连接只有第一个rpc需要鉴权，通过了后续的就不需要鉴权了，于是如果开放builtin service端口给客户端，那么客户端可以先发一个内部服务，然后再发未鉴权的业务服务，来绕过鉴权。\r\n这个应该不是builtin service不支持鉴权的理由，我个人觉得builtin加鉴权应该是没问题的，只是之前认为builtin不应该对外开放所以没做。你可以问问项目维护的同学看看有没有别的坑在里面。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/487445220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]