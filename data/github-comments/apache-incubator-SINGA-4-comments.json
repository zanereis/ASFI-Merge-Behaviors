[{"url":"https://api.github.com/repos/apache/singa/issues/comments/531445904","html_url":"https://github.com/apache/singa/pull/534#issuecomment-531445904","issue_url":"https://api.github.com/repos/apache/singa/issues/534","id":531445904,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTQ0NTkwNA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-14T03:56:32Z","updated_at":"2019-09-14T03:56:32Z","author_association":"MEMBER","body":"Please don't merge this PR until I finish all the test cases.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/531445904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/531445928","html_url":"https://github.com/apache/singa/pull/462#issuecomment-531445928","issue_url":"https://api.github.com/repos/apache/singa/issues/462","id":531445928,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTQ0NTkyOA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-14T03:57:02Z","updated_at":"2019-09-14T03:57:02Z","author_association":"MEMBER","body":"please refer to [here](https://github.com/apache/incubator-singa/pull/534)","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/531445928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/531487825","html_url":"https://github.com/apache/singa/pull/462#issuecomment-531487825","issue_url":"https://api.github.com/repos/apache/singa/issues/462","id":531487825,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTQ4NzgyNQ==","user":{"login":"moazreyad","id":2278792,"node_id":"MDQ6VXNlcjIyNzg3OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2278792?v=4","gravatar_id":"","url":"https://api.github.com/users/moazreyad","html_url":"https://github.com/moazreyad","followers_url":"https://api.github.com/users/moazreyad/followers","following_url":"https://api.github.com/users/moazreyad/following{/other_user}","gists_url":"https://api.github.com/users/moazreyad/gists{/gist_id}","starred_url":"https://api.github.com/users/moazreyad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moazreyad/subscriptions","organizations_url":"https://api.github.com/users/moazreyad/orgs","repos_url":"https://api.github.com/users/moazreyad/repos","events_url":"https://api.github.com/users/moazreyad/events{/privacy}","received_events_url":"https://api.github.com/users/moazreyad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-14T15:18:31Z","updated_at":"2019-09-14T15:18:31Z","author_association":"CONTRIBUTOR","body":"But if we can't run onnx backend test cases, then we simply can't claim that we support onnx backend.\r\n\r\nWe don't have to pass all the test cases, but at least some of them should pass. Currently [all of the test cases fail](https://issues.apache.org/jira/projects/SINGA/issues/SINGA-458), which can be understood as if the current support of onnx backend is 0%.\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/531487825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/531490830","html_url":"https://github.com/apache/singa/pull/462#issuecomment-531490830","issue_url":"https://api.github.com/repos/apache/singa/issues/462","id":531490830,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTQ5MDgzMA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-14T15:56:27Z","updated_at":"2019-09-14T15:56:27Z","author_association":"MEMBER","body":"> But if we can't run onnx backend test cases, then we simply can't claim that we support onnx backend.\r\n> \r\n> We don't have to pass all the test cases, but at least some of them should pass. Currently [all of the test cases fail](https://issues.apache.org/jira/projects/SINGA/issues/SINGA-458), which can be understood as if the current support of onnx backend is 0%.\r\n\r\nHi, moazreyad, I know what you mean. Please check the link [here](https://github.com/apache/incubator-singa/pull/534). I mean you cannot just easily call all the onnx test cases, it cannot run. I have adapted the onnx backend test cases from onnx there, and discard the cases that we cannot support.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/531490830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/532723250","html_url":"https://github.com/apache/singa/pull/535#issuecomment-532723250","issue_url":"https://api.github.com/repos/apache/singa/issues/535","id":532723250,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjcyMzI1MA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-18T14:56:22Z","updated_at":"2019-09-18T14:57:01Z","author_association":"CONTRIBUTOR","body":"Next, I further improve the time performance by using in-place elementwise multiply in many autograd.py functions such as ReLU. Here is the result:\r\n\r\n```\r\nubuntu@ip-172-31-39-137:~/incubator-singa/examples/autograd$ python3 mnist_cnn.py\r\nStarting Epoch 0:\r\nTraining loss = 585.555542, training accuracy = 0.793390\r\nEvaluation accuracy = 0.939303, Elapsed Time = 4.206943s\r\nStarting Epoch 1:\r\nTraining loss = 234.893921, training accuracy = 0.922409\r\nEvaluation accuracy = 0.955729, Elapsed Time = 4.101450s\r\nStarting Epoch 2:\r\nTraining loss = 169.515244, training accuracy = 0.943286\r\nEvaluation accuracy = 0.970252, Elapsed Time = 4.104907s\r\nStarting Epoch 3:\r\nTraining loss = 136.331894, training accuracy = 0.954442\r\nEvaluation accuracy = 0.968450, Elapsed Time = 4.115959s\r\nStarting Epoch 4:\r\nTraining loss = 118.268318, training accuracy = 0.960512\r\nEvaluation accuracy = 0.971755, Elapsed Time = 4.117009s\r\nStarting Epoch 5:\r\nTraining loss = 104.006439, training accuracy = 0.965732\r\nEvaluation accuracy = 0.978866, Elapsed Time = 4.117350s\r\nStarting Epoch 6:\r\nTraining loss = 93.860809, training accuracy = 0.969067\r\nEvaluation accuracy = 0.977464, Elapsed Time = 4.106471s\r\nStarting Epoch 7:\r\nTraining loss = 88.009178, training accuracy = 0.970251\r\nEvaluation accuracy = 0.982873, Elapsed Time = 4.116037s\r\nStarting Epoch 8:\r\nTraining loss = 81.978348, training accuracy = 0.972802\r\nEvaluation accuracy = 0.983974, Elapsed Time = 4.121274s\r\nStarting Epoch 9:\r\nTraining loss = 75.998878, training accuracy = 0.974103\r\nEvaluation accuracy = 0.982272, Elapsed Time = 4.122591s\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/532723250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/532944885","html_url":"https://github.com/apache/singa/pull/535#issuecomment-532944885","issue_url":"https://api.github.com/repos/apache/singa/issues/535","id":532944885,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMjk0NDg4NQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-19T03:00:57Z","updated_at":"2019-09-19T03:02:48Z","author_association":"CONTRIBUTOR","body":"Since I have done some optimization of the framework, I need to retest again the distributed performance: \r\nI tested the distributed training in AWS p2.x8large, after adding the Sync() in the SGD loop of resnet.py and resnet_dist.py.\r\nThe speed up of using 8 GPUs is now 7.21x, but this is compared without real data feeding. \r\nSee the following throughput comparison in resnet.py and resnet_dist.py:\r\n\r\n```\r\nubuntu@ip-172-31-28-231:~/incubator-singa/examples/autograd$ python3 resnet.py\r\nStart intialization............\r\n100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 100/100 [01:23<00:00,  1.19it/s]\r\nThroughput = 38.13589358185999 per second\r\nTotal=0.8391045022010803, forward=0.26401839971542357, softmax=0.0020227289199829103, backward=0.5730633735656739, sgd=0.016838366985321044\r\n\r\nubuntu@ip-172-31-28-231:~/incubator-singa/examples/autograd$ /home/ubuntu/mpich-3.3/build/bin/mpiexec --hostfile host_file python3 resnet_dist.py\r\nStart intialization...........\r\n100%|██████████| 100/100 [01:33<00:00,  1.08it/s]\r\nThroughput = 274.9947180123401 per second\r\nTotal=0.9309269714355469, forward=0.2690380573272705, softmax=0.0021610450744628906, backward=0.6597278690338135, sgd=0.10374969005584717\r\n```","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/532944885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/533383280","html_url":"https://github.com/apache/singa/pull/533#issuecomment-533383280","issue_url":"https://api.github.com/repos/apache/singa/issues/533","id":533383280,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzM4MzI4MA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T02:51:48Z","updated_at":"2019-09-20T02:51:48Z","author_association":"MEMBER","body":"Hi @nudles , this is ready for merge.\r\nthanks to @chrishkchris ","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/533383280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/533497942","html_url":"https://github.com/apache/singa/pull/536#issuecomment-533497942","issue_url":"https://api.github.com/repos/apache/singa/issues/536","id":533497942,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzQ5Nzk0Mg==","user":{"login":"moazreyad","id":2278792,"node_id":"MDQ6VXNlcjIyNzg3OTI=","avatar_url":"https://avatars.githubusercontent.com/u/2278792?v=4","gravatar_id":"","url":"https://api.github.com/users/moazreyad","html_url":"https://github.com/moazreyad","followers_url":"https://api.github.com/users/moazreyad/followers","following_url":"https://api.github.com/users/moazreyad/following{/other_user}","gists_url":"https://api.github.com/users/moazreyad/gists{/gist_id}","starred_url":"https://api.github.com/users/moazreyad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moazreyad/subscriptions","organizations_url":"https://api.github.com/users/moazreyad/orgs","repos_url":"https://api.github.com/users/moazreyad/repos","events_url":"https://api.github.com/users/moazreyad/events{/privacy}","received_events_url":"https://api.github.com/users/moazreyad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T10:21:43Z","updated_at":"2019-09-20T10:21:43Z","author_association":"CONTRIBUTOR","body":"Thank you. \r\n\r\nIn future we should not accept only the compile output alone, we should also run the unit tests and make sure they pass with no errors. This must be done on all supported platforms, not only on the developer machine. \r\n\r\nThis is why the Travis continuous integration needs to be improved to automate this task which is very hard to be done manually.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/533497942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/533585944","html_url":"https://github.com/apache/singa/pull/536#issuecomment-533585944","issue_url":"https://api.github.com/repos/apache/singa/issues/536","id":533585944,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzU4NTk0NA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-20T14:51:29Z","updated_at":"2019-09-20T14:51:29Z","author_association":"CONTRIBUTOR","body":"Thanks so much for your comments. It is a great idea concerning the CI.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/533585944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/534047644","html_url":"https://github.com/apache/singa/pull/514#issuecomment-534047644","issue_url":"https://api.github.com/repos/apache/singa/issues/514","id":534047644,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDA0NzY0NA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-09-23T10:45:48Z","updated_at":"2019-09-23T10:45:48Z","author_association":"MEMBER","body":"Integration is done except support CPU.\r\nCPU support development is done, however the behavior was not expected even in clean TC env.\r\nCPU backed TC return zero tensor as shown in https://gist.githubusercontent.com/dcslin/f3ed411012c144163f3bedbe621257f6/raw/9f6af3f5e62b5bb52a58c087967c813b3acd8872/tensor-comprehension-cpu-errors","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/534047644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/538211628","html_url":"https://github.com/apache/singa/pull/540#issuecomment-538211628","issue_url":"https://api.github.com/repos/apache/singa/issues/540","id":538211628,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODIxMTYyOA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T03:18:04Z","updated_at":"2019-10-04T03:18:04Z","author_association":"MEMBER","body":"still has some problems, the output of multiple dimension inputs is not correct. \r\nplease check:\r\n```\r\nx_0 = np.array([[0, 1, 2, 3], [10000, 10001, 10002, 10003]]).astype(np.float32)\r\n# axis is 1\r\n# expected output [[0.0320586, 0.08714432, 0.23688284, 0.64391428],\r\n#                 [0.0320586, 0.08714432, 0.23688284, 0.64391428]]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/538211628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/538211845","html_url":"https://github.com/apache/singa/pull/541#issuecomment-538211845","issue_url":"https://api.github.com/repos/apache/singa/issues/541","id":538211845,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODIxMTg0NQ==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T03:19:10Z","updated_at":"2019-10-04T03:19:10Z","author_association":"MEMBER","body":"the return of _CpuBatchNormForwardInference_ should be y, var, mean, not just y.\r\ncould you fix it?","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/538211845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/538370010","html_url":"https://github.com/apache/singa/pull/544#issuecomment-538370010","issue_url":"https://api.github.com/repos/apache/singa/issues/544","id":538370010,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODM3MDAxMA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-04T12:07:32Z","updated_at":"2019-10-04T13:42:46Z","author_association":"CONTRIBUTOR","body":"I forked the incubator-singa-site and put the preview of website at https://github.com/chrishkchris/incubator-singa-site/tree/SINGA-493\r\nWhen I download it and check it in microsoft EDGE web browser it is okay","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/538370010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/538955169","html_url":"https://github.com/apache/singa/pull/540#issuecomment-538955169","issue_url":"https://api.github.com/repos/apache/singa/issues/540","id":538955169,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODk1NTE2OQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-07T11:07:49Z","updated_at":"2019-10-07T11:07:49Z","author_association":"MEMBER","body":"> still has some problems, the output of multiple dimension inputs is not correct.\r\n> please check:\r\n> \r\n> ```\r\n> x_0 = np.array([[0, 1, 2, 3], [10000, 10001, 10002, 10003]]).astype(np.float32)\r\n> # axis is 1\r\n> # expected output [[0.0320586, 0.08714432, 0.23688284, 0.64391428],\r\n> #                 [0.0320586, 0.08714432, 0.23688284, 0.64391428]]\r\n> ```\r\n\r\nHi @joddiy , this is updated, could you please help to review?","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/538955169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/538984488","html_url":"https://github.com/apache/singa/pull/540#issuecomment-538984488","issue_url":"https://api.github.com/repos/apache/singa/issues/540","id":538984488,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODk4NDQ4OA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-07T12:24:20Z","updated_at":"2019-10-07T12:24:20Z","author_association":"MEMBER","body":"> > still has some problems, the output of multiple dimension inputs is not correct.\r\n> > please check:\r\n> > ```\r\n> > x_0 = np.array([[0, 1, 2, 3], [10000, 10001, 10002, 10003]]).astype(np.float32)\r\n> > # axis is 1\r\n> > # expected output [[0.0320586, 0.08714432, 0.23688284, 0.64391428],\r\n> > #                 [0.0320586, 0.08714432, 0.23688284, 0.64391428]]\r\n> > ```\r\n> \r\n> Hi @joddiy , this is updated, could you please help to review?\r\n\r\nHi shicong, the axis and output are almost correct. However, the result will overflow if the input values are too big. For example, for input of [0, 1, 2, 3], the result is correct. But for input of 10000, 10001, 10002, 10003], the result will be [nan, nan, nan, nan].\r\n\r\nPlease use this formation:\r\n```\r\ndef softmax(x):\r\n    \"\"\"Compute softmax values for each sets of scores in x.\"\"\"\r\n    e_x = np.exp(x - np.max(x))\r\n    return e_x / e_x.sum()\r\n```\r\n**not directly use x as input, instead subtracting the max value of x from x to avoid the overflow.**\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/538984488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/539449929","html_url":"https://github.com/apache/singa/pull/541#issuecomment-539449929","issue_url":"https://api.github.com/repos/apache/singa/issues/541","id":539449929,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTQ0OTkyOQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T10:20:23Z","updated_at":"2019-10-08T10:20:23Z","author_association":"MEMBER","body":"HI @joddiy , could you please help to review this test on batchnorm value? which also showing that the required params/output by ONNX are given.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/539449929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/539628035","html_url":"https://github.com/apache/singa/pull/540#issuecomment-539628035","issue_url":"https://api.github.com/repos/apache/singa/issues/540","id":539628035,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTYyODAzNQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-08T17:51:29Z","updated_at":"2019-10-08T17:51:29Z","author_association":"MEMBER","body":"> > > still has some problems, the output of multiple dimension inputs is not correct.\r\n> > > please check:\r\n> > > ```\r\n> > > x_0 = np.array([[0, 1, 2, 3], [10000, 10001, 10002, 10003]]).astype(np.float32)\r\n> > > # axis is 1\r\n> > > # expected output [[0.0320586, 0.08714432, 0.23688284, 0.64391428],\r\n> > > #                 [0.0320586, 0.08714432, 0.23688284, 0.64391428]]\r\n> > > ```\r\n> > \r\n> > \r\n> > Hi @joddiy , this is updated, could you please help to review?\r\n> \r\n> Hi shicong, the axis and output are almost correct. However, the result will overflow if the input values are too big. For example, for input of [0, 1, 2, 3], the result is correct. But for input of 10000, 10001, 10002, 10003], the result will be [nan, nan, nan, nan].\r\n> \r\n> Please use this formation:\r\n> \r\n> ```\r\n> def softmax(x):\r\n>     \"\"\"Compute softmax values for each sets of scores in x.\"\"\"\r\n>     e_x = np.exp(x - np.max(x))\r\n>     return e_x / e_x.sum()\r\n> ```\r\n> \r\n> **not directly use x as input, instead subtracting the max value of x from x to avoid the overflow.**\r\n\r\nHi @joddiy , thank you for the comment. I am still looking into this issue, as `max()` is not currently implemented in backend yet.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/539628035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/539904174","html_url":"https://github.com/apache/singa/pull/540#issuecomment-539904174","issue_url":"https://api.github.com/repos/apache/singa/issues/540","id":539904174,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTkwNDE3NA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-09T08:48:38Z","updated_at":"2019-10-09T08:48:38Z","author_association":"MEMBER","body":"Hi @joddiy, thank you for the review. kindly find the updated version which fixed the mentioned issue.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/539904174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/540511768","html_url":"https://github.com/apache/singa/pull/538#issuecomment-540511768","issue_url":"https://api.github.com/repos/apache/singa/issues/538","id":540511768,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDUxMTc2OA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T10:44:08Z","updated_at":"2019-10-10T10:44:08Z","author_association":"MEMBER","body":"split to https://github.com/apache/incubator-singa/pull/540 and https://github.com/apache/incubator-singa/pull/541","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/540511768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/540567614","html_url":"https://github.com/apache/singa/pull/540#issuecomment-540567614","issue_url":"https://api.github.com/repos/apache/singa/issues/540","id":540567614,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDU2NzYxNA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T13:03:59Z","updated_at":"2019-10-10T13:03:59Z","author_association":"MEMBER","body":"ready to merge","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/540567614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/540600410","html_url":"https://github.com/apache/singa/pull/541#issuecomment-540600410","issue_url":"https://api.github.com/repos/apache/singa/issues/541","id":540600410,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDYwMDQxMA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-10T14:01:36Z","updated_at":"2019-10-10T14:02:16Z","author_association":"MEMBER","body":"hi, shicong, the result still has a little error, please check with the following case:\r\n```\r\ndef _batchnorm_test_mode(x, s, bias, mean, var, epsilon=1e-5):  # type: ignore\r\n    dims_x = len(x.shape)\r\n    dim_ones = (1,) * (dims_x - 2)\r\n    s = s.reshape(-1, *dim_ones)\r\n    bias = bias.reshape(-1, *dim_ones)\r\n    mean = mean.reshape(-1, *dim_ones)\r\n    var = var.reshape(-1, *dim_ones)\r\n    return s * (x - mean) / np.sqrt(var + epsilon) + bias\r\n\r\n# input size: (1, 2, 1, 3)\r\nx = np.array([[[[-1, 0, 1]], [[2, 3, 4]]]]).astype(np.float32)\r\ns = np.array([1.0, 1.5]).astype(np.float32)\r\nbias = np.array([0, 1]).astype(np.float32)\r\nmean = np.array([0, 3]).astype(np.float32)\r\nvar = np.array([1, 1.5]).astype(np.float32)\r\ny = _batchnorm_test_mode(x, s, bias, mean, var).astype(np.float32)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/540600410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/540867039","html_url":"https://github.com/apache/singa/pull/541#issuecomment-540867039","issue_url":"https://api.github.com/repos/apache/singa/issues/541","id":540867039,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDg2NzAzOQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-11T01:57:49Z","updated_at":"2019-10-11T01:59:03Z","author_association":"MEMBER","body":"HI @joddiy , could you share how did you call singa api? the test you mentioned is tested in here https://github.com/apache/incubator-singa/pull/541/files#diff-5e6248de6199ea6f777c73d3ea2643a5R62\r\n\r\n``` python\r\ndef _np_bn_testing(x, scale, bias, rm, rv, momentum=0.1, e=1e-5):\r\n    ...\r\n    return scale * (x - rm) / np.sqrt(rv + e) + bias\r\n```\r\n\r\n\r\nfor the `test_mode`, kindly use this api `GpuBatchNormForwardInference`","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/540867039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/543056342","html_url":"https://github.com/apache/singa/pull/549#issuecomment-543056342","issue_url":"https://api.github.com/repos/apache/singa/issues/549","id":543056342,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MzA1NjM0Mg==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-17T08:02:17Z","updated_at":"2019-10-17T08:02:17Z","author_association":"CONTRIBUTOR","body":"Has changed the message \"SINGA has graduated as a Top-Level Project (TLP) of the Apache Software Foundation on 16 Oct 2019.\"  \r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/543056342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/543065170","html_url":"https://github.com/apache/singa/pull/549#issuecomment-543065170","issue_url":"https://api.github.com/repos/apache/singa/issues/549","id":543065170,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MzA2NTE3MA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-17T08:26:04Z","updated_at":"2019-10-17T08:26:04Z","author_association":"CONTRIBUTOR","body":"![message](https://user-images.githubusercontent.com/38325429/66991513-cdfe5c00-f0fa-11e9-9f7d-5b8102cf9528.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/543065170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/545962476","html_url":"https://github.com/apache/singa/pull/552#issuecomment-545962476","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":545962476,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTk2MjQ3Ng==","user":{"login":"nudles","id":3797447,"node_id":"MDQ6VXNlcjM3OTc0NDc=","avatar_url":"https://avatars.githubusercontent.com/u/3797447?v=4","gravatar_id":"","url":"https://api.github.com/users/nudles","html_url":"https://github.com/nudles","followers_url":"https://api.github.com/users/nudles/followers","following_url":"https://api.github.com/users/nudles/following{/other_user}","gists_url":"https://api.github.com/users/nudles/gists{/gist_id}","starred_url":"https://api.github.com/users/nudles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nudles/subscriptions","organizations_url":"https://api.github.com/users/nudles/orgs","repos_url":"https://api.github.com/users/nudles/repos","events_url":"https://api.github.com/users/nudles/events{/privacy}","received_events_url":"https://api.github.com/users/nudles/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-24T15:06:32Z","updated_at":"2019-10-24T15:06:32Z","author_association":"MEMBER","body":"Thanks for the PR!\r\nCould you add the two functions in https://github.com/apache/singa/blob/master/src/core/tensor/tensor_math_cuda.h as well. The kernel is already implemented.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/545962476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/546371709","html_url":"https://github.com/apache/singa/pull/552#issuecomment-546371709","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":546371709,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjM3MTcwOQ==","user":{"login":"Wentong-DST","id":12691166,"node_id":"MDQ6VXNlcjEyNjkxMTY2","avatar_url":"https://avatars.githubusercontent.com/u/12691166?v=4","gravatar_id":"","url":"https://api.github.com/users/Wentong-DST","html_url":"https://github.com/Wentong-DST","followers_url":"https://api.github.com/users/Wentong-DST/followers","following_url":"https://api.github.com/users/Wentong-DST/following{/other_user}","gists_url":"https://api.github.com/users/Wentong-DST/gists{/gist_id}","starred_url":"https://api.github.com/users/Wentong-DST/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wentong-DST/subscriptions","organizations_url":"https://api.github.com/users/Wentong-DST/orgs","repos_url":"https://api.github.com/users/Wentong-DST/repos","events_url":"https://api.github.com/users/Wentong-DST/events{/privacy}","received_events_url":"https://api.github.com/users/Wentong-DST/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-25T14:14:36Z","updated_at":"2019-10-25T14:14:36Z","author_association":"CONTRIBUTOR","body":"> Thanks for the PR!\r\n> Could you add the two functions in https://github.com/apache/singa/blob/master/src/core/tensor/tensor_math_cuda.h as well. The kernel is already implemented.\r\n\r\nThanks for the review, I have added them.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/546371709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/546712187","html_url":"https://github.com/apache/singa/pull/548#issuecomment-546712187","issue_url":"https://api.github.com/repos/apache/singa/issues/548","id":546712187,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjcxMjE4Nw==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T16:43:18Z","updated_at":"2019-10-27T16:43:18Z","author_association":"MEMBER","body":"this is ready for review. thank you.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/546712187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/546714563","html_url":"https://github.com/apache/singa/pull/554#issuecomment-546714563","issue_url":"https://api.github.com/repos/apache/singa/issues/554","id":546714563,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NjcxNDU2Mw==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-27T17:08:45Z","updated_at":"2019-10-27T17:09:08Z","author_association":"CONTRIBUTOR","body":"I think this is pass by reference (the running mean and variance singa tensors' blocks are fed to the function cudnnBatchNormalizationForwardTraining), so there is no need to return the running mean and variance singa tensors (because the _BatchNorm2d already have them)?\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/546714563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/546774853","html_url":"https://github.com/apache/singa/pull/554#issuecomment-546774853","issue_url":"https://api.github.com/repos/apache/singa/issues/554","id":546774853,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Njc3NDg1Mw==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-28T03:13:06Z","updated_at":"2019-10-28T03:13:31Z","author_association":"MEMBER","body":"Thank you @chrishkchris \r\n\r\nI tested and currently in python the running mean is not updated after `singa_cpp_backend_api.GpuBatchNormForwardTraining` returns.\r\nAnother thing to note is that, SWIG has this `apply OUTPUT` which might solve this. http://www.swig.org/Doc1.3/Arguments.html\r\nI looking into this.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/546774853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/547283131","html_url":"https://github.com/apache/singa/pull/554#issuecomment-547283131","issue_url":"https://api.github.com/repos/apache/singa/issues/554","id":547283131,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzI4MzEzMQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T06:55:48Z","updated_at":"2019-10-29T06:55:48Z","author_association":"MEMBER","body":"Hi @chrishkchris thank you for the help. This is false alarm. the code is working as @chrishkchris described.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/547283131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/547385195","html_url":"https://github.com/apache/singa/pull/541#issuecomment-547385195","issue_url":"https://api.github.com/repos/apache/singa/issues/541","id":547385195,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzM4NTE5NQ==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-10-29T11:56:11Z","updated_at":"2019-10-29T11:56:11Z","author_association":"MEMBER","body":"ready to merge","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/547385195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/548703862","html_url":"https://github.com/apache/singa/pull/514#issuecomment-548703862","issue_url":"https://api.github.com/repos/apache/singa/issues/514","id":548703862,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODcwMzg2Mg==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-01T08:12:26Z","updated_at":"2019-11-01T08:12:26Z","author_association":"MEMBER","body":"Ready for review.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/548703862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/549822479","html_url":"https://github.com/apache/singa/pull/557#issuecomment-549822479","issue_url":"https://api.github.com/repos/apache/singa/issues/557","id":549822479,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTgyMjQ3OQ==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-05T13:28:41Z","updated_at":"2019-11-05T13:28:41Z","author_association":"MEMBER","body":"Hi, shicong, I have add some test cases in autograd. It seems this implement works fine for __add__, __sub__, but return all zero values for __mul__. can you check it about?","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/549822479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/550299437","html_url":"https://github.com/apache/singa/pull/555#issuecomment-550299437","issue_url":"https://api.github.com/repos/apache/singa/issues/555","id":550299437,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDI5OTQzNw==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T13:02:45Z","updated_at":"2019-11-06T13:02:45Z","author_association":"CONTRIBUTOR","body":"Before I do further checking of the code, I submit the passed unit test results first: (1) CPP level operation unit test, (2) Python level operation unit test:\r\n\r\n1. CPP unit test\r\n```\r\nubuntu@ip-172-31-34-232:~/singa/build/bin$ ./test_singa\r\nRunning main() from gtest_main.cc\r\n[==========] Running 238 tests from 48 test cases.\r\n[----------] Global test environment set-up.\r\n[----------] 1 test from Accuracy\r\n[ RUN      ] Accuracy.Compute\r\n[       OK ] Accuracy.Compute (0 ms)\r\n[----------] 1 test from Accuracy (0 ms total)\r\n\r\n[----------] 3 tests from Activation\r\n[ RUN      ] Activation.Setup\r\n[       OK ] Activation.Setup (0 ms)\r\n[ RUN      ] Activation.Forward\r\n[       OK ] Activation.Forward (0 ms)\r\n[ RUN      ] Activation.Backward\r\n[       OK ] Activation.Backward (0 ms)\r\n[----------] 3 tests from Activation (0 ms total)\r\n\r\n[----------] 2 tests from AdaGrad\r\n[ RUN      ] AdaGrad.ApplyCPU\r\n[       OK ] AdaGrad.ApplyCPU (0 ms)\r\n[ RUN      ] AdaGrad.ApplyCUDA\r\n[       OK ] AdaGrad.ApplyCUDA (869 ms)\r\n[----------] 2 tests from AdaGrad (869 ms total)\r\n\r\n[----------] 3 tests from BatchNorm\r\n[ RUN      ] BatchNorm.Setup\r\n[       OK ] BatchNorm.Setup (0 ms)\r\n[ RUN      ] BatchNorm.Forward\r\n[       OK ] BatchNorm.Forward (0 ms)\r\n[ RUN      ] BatchNorm.Backward\r\n[       OK ] BatchNorm.Backward (0 ms)\r\n[----------] 3 tests from BatchNorm (0 ms total)\r\n\r\n[----------] 2 tests from BinFileWriter\r\n[ RUN      ] BinFileWriter.Create\r\n[       OK ] BinFileWriter.Create (0 ms)\r\n[ RUN      ] BinFileWriter.Append\r\n[       OK ] BinFileWriter.Append (0 ms)\r\n[----------] 2 tests from BinFileWriter (0 ms total)\r\n\r\n[----------] 2 tests from BinFileReader\r\n[ RUN      ] BinFileReader.Read\r\n[       OK ] BinFileReader.Read (1 ms)\r\n[ RUN      ] BinFileReader.SeekToFirst\r\n[       OK ] BinFileReader.SeekToFirst (0 ms)\r\n[----------] 2 tests from BinFileReader (1 ms total)\r\n\r\n[----------] 3 tests from Channel\r\n[ RUN      ] Channel.InitChannel\r\n[       OK ] Channel.InitChannel (0 ms)\r\n[ RUN      ] Channel.SendStringToFile\r\n[W d1106 t12:49:58 p04664:-240 /home/ubuntu/singa/src/utils/channel.cc:70] Messages will be appended to an existed file: /tmp/test_channel\r\n[       OK ] Channel.SendStringToFile (0 ms)\r\n[ RUN      ] Channel.SendStringToFileAndStderr\r\ntest to both file and stderr\r\n[       OK ] Channel.SendStringToFileAndStderr (0 ms)\r\n[----------] 3 tests from Channel (0 ms total)\r\n\r\n[----------] 9 tests from Concat\r\n[ RUN      ] Concat.Setup\r\n[       OK ] Concat.Setup (0 ms)\r\n[ RUN      ] Concat.ForwardConcatRowCpp\r\n[       OK ] Concat.ForwardConcatRowCpp (0 ms)\r\n[ RUN      ] Concat.ForwardConcatColumnCpp\r\n[       OK ] Concat.ForwardConcatColumnCpp (0 ms)\r\n[ RUN      ] Concat.ForwardConcatRowCuda\r\n[       OK ] Concat.ForwardConcatRowCuda (35 ms)\r\n[ RUN      ] Concat.ForwardConcatColumnCuda\r\n[       OK ] Concat.ForwardConcatColumnCuda (37 ms)\r\n[ RUN      ] Concat.BackwardConcatRowCpp\r\n[       OK ] Concat.BackwardConcatRowCpp (0 ms)\r\n[ RUN      ] Concat.BackwardConcatColumn\r\n[       OK ] Concat.BackwardConcatColumn (0 ms)\r\n[ RUN      ] Concat.BackwardConcatRowCuda\r\n[       OK ] Concat.BackwardConcatRowCuda (52 ms)\r\n[ RUN      ] Concat.BackwardConcatColumnCuda\r\n[       OK ] Concat.BackwardConcatColumnCuda (51 ms)\r\n[----------] 9 tests from Concat (175 ms total)\r\n\r\n[----------] 3 tests from Convolution\r\n[ RUN      ] Convolution.Setup\r\n[       OK ] Convolution.Setup (0 ms)\r\n[ RUN      ] Convolution.Forward\r\n[       OK ] Convolution.Forward (0 ms)\r\n[ RUN      ] Convolution.Backward\r\n[       OK ] Convolution.Backward (0 ms)\r\n[----------] 3 tests from Convolution (0 ms total)\r\n\r\n[----------] 4 tests from CppCPU\r\n[ RUN      ] CppCPU.Constructor\r\n[       OK ] CppCPU.Constructor (0 ms)\r\n[ RUN      ] CppCPU.MemoryMallocFree\r\n[       OK ] CppCPU.MemoryMallocFree (0 ms)\r\n[ RUN      ] CppCPU.Exec\r\n[       OK ] CppCPU.Exec (0 ms)\r\n[ RUN      ] CppCPU.CopyData\r\n[       OK ] CppCPU.CopyData (0 ms)\r\n[----------] 4 tests from CppCPU (0 ms total)\r\n\r\n[----------] 8 tests from TestSoftmaxCrossEntropy\r\n[ RUN      ] TestSoftmaxCrossEntropy.CppForward\r\n[       OK ] TestSoftmaxCrossEntropy.CppForward (0 ms)\r\n[ RUN      ] TestSoftmaxCrossEntropy.CppForwardAryTarget\r\n[       OK ] TestSoftmaxCrossEntropy.CppForwardAryTarget (0 ms)\r\n[ RUN      ] TestSoftmaxCrossEntropy.CppBackward\r\n[       OK ] TestSoftmaxCrossEntropy.CppBackward (0 ms)\r\n[ RUN      ] TestSoftmaxCrossEntropy.CppBackwardAryTarget\r\n[       OK ] TestSoftmaxCrossEntropy.CppBackwardAryTarget (0 ms)\r\n[ RUN      ] TestSoftmaxCrossEntropy.CudaForward\r\n[       OK ] TestSoftmaxCrossEntropy.CudaForward (32 ms)\r\n[ RUN      ] TestSoftmaxCrossEntropy.CudaForwardAryTarget\r\n[       OK ] TestSoftmaxCrossEntropy.CudaForwardAryTarget (32 ms)\r\n[ RUN      ] TestSoftmaxCrossEntropy.CudaBackward\r\n[       OK ] TestSoftmaxCrossEntropy.CudaBackward (33 ms)\r\n[ RUN      ] TestSoftmaxCrossEntropy.CudaBackwardAryTarget\r\n[       OK ] TestSoftmaxCrossEntropy.CudaBackwardAryTarget (33 ms)\r\n[----------] 8 tests from TestSoftmaxCrossEntropy (131 ms total)\r\n\r\n[----------] 1 test from CSV\r\n[ RUN      ] CSV.EncoderDecode\r\n[       OK ] CSV.EncoderDecode (0 ms)\r\n[----------] 1 test from CSV (0 ms total)\r\n\r\n[----------] 3 tests from CudnnActivation\r\n[ RUN      ] CudnnActivation.Setup\r\n[       OK ] CudnnActivation.Setup (0 ms)\r\n[ RUN      ] CudnnActivation.Forward\r\n[       OK ] CudnnActivation.Forward (31 ms)\r\n[ RUN      ] CudnnActivation.Backward\r\n[       OK ] CudnnActivation.Backward (31 ms)\r\n[----------] 3 tests from CudnnActivation (62 ms total)\r\n\r\n[----------] 3 tests from CudnnBatchNorm\r\n[ RUN      ] CudnnBatchNorm.Setup\r\n[       OK ] CudnnBatchNorm.Setup (0 ms)\r\n[ RUN      ] CudnnBatchNorm.Forward\r\n[       OK ] CudnnBatchNorm.Forward (30 ms)\r\n[ RUN      ] CudnnBatchNorm.Backward\r\n[       OK ] CudnnBatchNorm.Backward (30 ms)\r\n[----------] 3 tests from CudnnBatchNorm (60 ms total)\r\n\r\n[----------] 3 tests from CudnnConvolution\r\n[ RUN      ] CudnnConvolution.Setup\r\n[       OK ] CudnnConvolution.Setup (0 ms)\r\n[ RUN      ] CudnnConvolution.Forward\r\n[       OK ] CudnnConvolution.Forward (31 ms)\r\n[ RUN      ] CudnnConvolution.Backward\r\n[       OK ] CudnnConvolution.Backward (32 ms)\r\n[----------] 3 tests from CudnnConvolution (63 ms total)\r\n\r\n[----------] 3 tests from CudnnConvolution_AT\r\n[ RUN      ] CudnnConvolution_AT.Setup\r\n[       OK ] CudnnConvolution_AT.Setup (0 ms)\r\n[ RUN      ] CudnnConvolution_AT.Forward\r\n[       OK ] CudnnConvolution_AT.Forward (31 ms)\r\n[ RUN      ] CudnnConvolution_AT.Backward\r\n[       OK ] CudnnConvolution_AT.Backward (30 ms)\r\n[----------] 3 tests from CudnnConvolution_AT (61 ms total)\r\n\r\n[----------] 3 tests from CudnnDropout\r\n[ RUN      ] CudnnDropout.Setup\r\n[       OK ] CudnnDropout.Setup (0 ms)\r\n[ RUN      ] CudnnDropout.Forward\r\n[       OK ] CudnnDropout.Forward (52 ms)\r\n[ RUN      ] CudnnDropout.Backward\r\n[       OK ] CudnnDropout.Backward (53 ms)\r\n[----------] 3 tests from CudnnDropout (106 ms total)\r\n\r\n[----------] 3 tests from CudnnLRN\r\n[ RUN      ] CudnnLRN.Setup\r\n[       OK ] CudnnLRN.Setup (0 ms)\r\n[ RUN      ] CudnnLRN.Forward\r\n[       OK ] CudnnLRN.Forward (25 ms)\r\n[ RUN      ] CudnnLRN.Backward\r\n[       OK ] CudnnLRN.Backward (25 ms)\r\n[----------] 3 tests from CudnnLRN (50 ms total)\r\n\r\n[----------] 3 tests from CudnnPooling\r\n[ RUN      ] CudnnPooling.Setup\r\n[       OK ] CudnnPooling.Setup (0 ms)\r\n[ RUN      ] CudnnPooling.Forward\r\n[       OK ] CudnnPooling.Forward (25 ms)\r\n[ RUN      ] CudnnPooling.Backward\r\n[       OK ] CudnnPooling.Backward (24 ms)\r\n[----------] 3 tests from CudnnPooling (49 ms total)\r\n\r\n[----------] 3 tests from TestCudnnRNN\r\n[ RUN      ] TestCudnnRNN.Setup\r\n[       OK ] TestCudnnRNN.Setup (0 ms)\r\n[ RUN      ] TestCudnnRNN.Forward\r\n[       OK ] TestCudnnRNN.Forward (48 ms)\r\n[ RUN      ] TestCudnnRNN.Backward\r\n[       OK ] TestCudnnRNN.Backward (48 ms)\r\n[----------] 3 tests from TestCudnnRNN (96 ms total)\r\n\r\n[----------] 5 tests from CudnnSoftmax\r\n[ RUN      ] CudnnSoftmax.Setup\r\n[       OK ] CudnnSoftmax.Setup (0 ms)\r\n[ RUN      ] CudnnSoftmax.Forward1D\r\n[       OK ] CudnnSoftmax.Forward1D (24 ms)\r\n[ RUN      ] CudnnSoftmax.Backward1D\r\n[       OK ] CudnnSoftmax.Backward1D (24 ms)\r\n[ RUN      ] CudnnSoftmax.Forward2D\r\n[       OK ] CudnnSoftmax.Forward2D (25 ms)\r\n[ RUN      ] CudnnSoftmax.Backward2D\r\n[       OK ] CudnnSoftmax.Backward2D (24 ms)\r\n[----------] 5 tests from CudnnSoftmax (97 ms total)\r\n\r\n[----------] 5 tests from Dense\r\n[ RUN      ] Dense.Setup\r\n[       OK ] Dense.Setup (0 ms)\r\n[ RUN      ] Dense.ForwardCpp\r\n[       OK ] Dense.ForwardCpp (0 ms)\r\n[ RUN      ] Dense.BackwardCpp\r\n[       OK ] Dense.BackwardCpp (0 ms)\r\n[ RUN      ] Dense.ForwardCuda\r\n[       OK ] Dense.ForwardCuda (25 ms)\r\n[ RUN      ] Dense.BackwardCuda\r\n[       OK ] Dense.BackwardCuda (24 ms)\r\n[----------] 5 tests from Dense (49 ms total)\r\n\r\n[----------] 3 tests from Dropout\r\n[ RUN      ] Dropout.Setup\r\n[       OK ] Dropout.Setup (0 ms)\r\n[ RUN      ] Dropout.Forward\r\n[       OK ] Dropout.Forward (0 ms)\r\n[ RUN      ] Dropout.Backward\r\n[       OK ] Dropout.Backward (0 ms)\r\n[----------] 3 tests from Dropout (0 ms total)\r\n\r\n[----------] 5 tests from Flatten\r\n[ RUN      ] Flatten.Setup\r\n[       OK ] Flatten.Setup (0 ms)\r\n[ RUN      ] Flatten.ForwardCPU\r\n[       OK ] Flatten.ForwardCPU (0 ms)\r\n[ RUN      ] Flatten.BackwardCPU\r\n[       OK ] Flatten.BackwardCPU (0 ms)\r\n[ RUN      ] Flatten.ForwardGPU\r\n[       OK ] Flatten.ForwardGPU (25 ms)\r\n[ RUN      ] Flatten.BackwardGPU\r\n[       OK ] Flatten.BackwardGPU (24 ms)\r\n[----------] 5 tests from Flatten (49 ms total)\r\n\r\n[----------] 5 tests from ImageTransformer\r\n[ RUN      ] ImageTransformer.Setup\r\n[       OK ] ImageTransformer.Setup (0 ms)\r\n[ RUN      ] ImageTransformer.Apply3D\r\n[       OK ] ImageTransformer.Apply3D (0 ms)\r\n[ RUN      ] ImageTransformer.Apply2D\r\n[       OK ] ImageTransformer.Apply2D (0 ms)\r\n[ RUN      ] ImageTransformer.Crop\r\n[       OK ] ImageTransformer.Crop (0 ms)\r\n[ RUN      ] ImageTransformer.Mirror\r\n[       OK ] ImageTransformer.Mirror (0 ms)\r\n[----------] 5 tests from ImageTransformer (0 ms total)\r\n\r\n[----------] 5 tests from Initializer\r\n[ RUN      ] Initializer.Constant\r\n[       OK ] Initializer.Constant (0 ms)\r\n[ RUN      ] Initializer.Gaussian\r\n[       OK ] Initializer.Gaussian (0 ms)\r\n[ RUN      ] Initializer.ConstantCUDA\r\n[       OK ] Initializer.ConstantCUDA (24 ms)\r\n[ RUN      ] Initializer.GaussianCUDA\r\n[       OK ] Initializer.GaussianCUDA (35 ms)\r\n[ RUN      ] Initializer.XavierCUDA\r\n[       OK ] Initializer.XavierCUDA (24 ms)\r\n[----------] 5 tests from Initializer (83 ms total)\r\n\r\n[----------] 2 tests from Layer\r\n[ RUN      ] Layer.CreateLayer\r\n[       OK ] Layer.CreateLayer (0 ms)\r\n[ RUN      ] Layer.CreateCudnnLayer\r\n[       OK ] Layer.CreateCudnnLayer (0 ms)\r\n[----------] 2 tests from Layer (0 ms total)\r\n\r\n[----------] 6 tests from Logging\r\n[ RUN      ] Logging.InfoLogging\r\n[I d1106 t12:49:59 p04664:-240 /home/ubuntu/singa/test/singa/test_logging.cc:29] test info logging\r\n[       OK ] Logging.InfoLogging (0 ms)\r\n[ RUN      ] Logging.WarningLogging\r\n[W d1106 t12:49:59 p04664:-240 /home/ubuntu/singa/test/singa/test_logging.cc:35] test warning logging\r\n[       OK ] Logging.WarningLogging (0 ms)\r\n[ RUN      ] Logging.ErrorLogging\r\n[E d1106 t12:49:59 p04664:-240 /home/ubuntu/singa/test/singa/test_logging.cc:41] test error logging\r\n[       OK ] Logging.ErrorLogging (0 ms)\r\n[ RUN      ] Logging.FatalLogging\r\n[       OK ] Logging.FatalLogging (0 ms)\r\n[ RUN      ] Logging.SetLogDestination\r\n[       OK ] Logging.SetLogDestination (0 ms)\r\n[ RUN      ] Logging.StderrLoggingLevel\r\n[W d1106 t12:49:59 p04664:-240 /home/ubuntu/singa/test/singa/test_logging.cc:62] test warning logging to stderr and file\r\n[E d1106 t12:49:59 p04664:-240 /home/ubuntu/singa/test/singa/test_logging.cc:63] test error logging to stderr and file\r\n[       OK ] Logging.StderrLoggingLevel (0 ms)\r\n[----------] 6 tests from Logging (1 ms total)\r\n\r\n[----------] 3 tests from LRN\r\n[ RUN      ] LRN.Setup\r\n[       OK ] LRN.Setup (0 ms)\r\n[ RUN      ] LRN.Forward\r\n[       OK ] LRN.Forward (0 ms)\r\n[ RUN      ] LRN.Backward\r\n[       OK ] LRN.Backward (0 ms)\r\n[----------] 3 tests from LRN (0 ms total)\r\n\r\n[----------] 1 test from MemPool\r\n[ RUN      ] MemPool.CompareCudaCnmem\r\n[       OK ] MemPool.CompareCudaCnmem (947 ms)\r\n[----------] 1 test from MemPool (947 ms total)\r\n\r\n[----------] 4 tests from TestMSE\r\n[ RUN      ] TestMSE.CppForward\r\n[       OK ] TestMSE.CppForward (0 ms)\r\n[ RUN      ] TestMSE.CppBackward\r\n[       OK ] TestMSE.CppBackward (0 ms)\r\n[ RUN      ] TestMSE.CudaForward\r\n[       OK ] TestMSE.CudaForward (24 ms)\r\n[ RUN      ] TestMSE.CudaBackward\r\n[       OK ] TestMSE.CudaBackward (24 ms)\r\n[----------] 4 tests from TestMSE (48 ms total)\r\n\r\n[----------] 2 tests from Nesterov\r\n[ RUN      ] Nesterov.ApplyCPU\r\n[       OK ] Nesterov.ApplyCPU (0 ms)\r\n[ RUN      ] Nesterov.ApplyCUDA\r\n[       OK ] Nesterov.ApplyCUDA (25 ms)\r\n[----------] 2 tests from Nesterov (25 ms total)\r\n\r\n[----------] 4 tests from OperationBatchNorm\r\n[ RUN      ] OperationBatchNorm.ForwardInference\r\n[       OK ] OperationBatchNorm.ForwardInference (2 ms)\r\n[ RUN      ] OperationBatchNorm.ForwardInference4D\r\n[       OK ] OperationBatchNorm.ForwardInference4D (1 ms)\r\n[ RUN      ] OperationBatchNorm.ForwardTraining\r\n[       OK ] OperationBatchNorm.ForwardTraining (0 ms)\r\n[ RUN      ] OperationBatchNorm.Backward\r\n[       OK ] OperationBatchNorm.Backward (0 ms)\r\n[----------] 4 tests from OperationBatchNorm (3 ms total)\r\n\r\n[----------] 2 tests from Operation_Convolution\r\n[ RUN      ] Operation_Convolution.Forward\r\n[       OK ] Operation_Convolution.Forward (24 ms)\r\n[ RUN      ] Operation_Convolution.Backward\r\n[       OK ] Operation_Convolution.Backward (1 ms)\r\n[----------] 2 tests from Operation_Convolution (25 ms total)\r\n\r\n[----------] 4 tests from OperationPooling\r\n[ RUN      ] OperationPooling.Forward\r\n[       OK ] OperationPooling.Forward (0 ms)\r\n[ RUN      ] OperationPooling.ForwardAverage\r\n[       OK ] OperationPooling.ForwardAverage (0 ms)\r\n[ RUN      ] OperationPooling.Backward\r\n[       OK ] OperationPooling.Backward (0 ms)\r\n[ RUN      ] OperationPooling.BackwardAvg\r\n[       OK ] OperationPooling.BackwardAvg (0 ms)\r\n[----------] 4 tests from OperationPooling (0 ms total)\r\n\r\n[----------] 5 tests from Platform\r\n[ RUN      ] Platform.CreateMultDevice\r\n[       OK ] Platform.CreateMultDevice (4 ms)\r\n[ RUN      ] Platform.NumGPUs\r\n[       OK ] Platform.NumGPUs (0 ms)\r\n[ RUN      ] Platform.QueryMem\r\n[       OK ] Platform.QueryMem (0 ms)\r\n[ RUN      ] Platform.CreateDevice\r\n[       OK ] Platform.CreateDevice (1 ms)\r\n[ RUN      ] Platform.CreatTensor\r\n[       OK ] Platform.CreatTensor (0 ms)\r\n[----------] 5 tests from Platform (5 ms total)\r\n\r\n[----------] 3 tests from Pooling\r\n[ RUN      ] Pooling.Setup\r\n[       OK ] Pooling.Setup (0 ms)\r\n[ RUN      ] Pooling.Forward\r\n[       OK ] Pooling.Forward (0 ms)\r\n[ RUN      ] Pooling.Backward\r\n[       OK ] Pooling.Backward (0 ms)\r\n[----------] 3 tests from Pooling (0 ms total)\r\n\r\n[----------] 5 tests from PReLU\r\n[ RUN      ] PReLU.Setup\r\n[       OK ] PReLU.Setup (0 ms)\r\n[ RUN      ] PReLU.ForwardCPU\r\n[       OK ] PReLU.ForwardCPU (0 ms)\r\n[ RUN      ] PReLU.BackwardCPU\r\n[       OK ] PReLU.BackwardCPU (0 ms)\r\n[ RUN      ] PReLU.ForwardGPU\r\n[       OK ] PReLU.ForwardGPU (2 ms)\r\n[ RUN      ] PReLU.BackwardGPU\r\n[       OK ] PReLU.BackwardGPU (33 ms)\r\n[----------] 5 tests from PReLU (35 ms total)\r\n\r\n[----------] 2 tests from RMSProp\r\n[ RUN      ] RMSProp.ApplyCPU\r\n[       OK ] RMSProp.ApplyCPU (0 ms)\r\n[ RUN      ] RMSProp.ApplyCUDA\r\n[       OK ] RMSProp.ApplyCUDA (23 ms)\r\n[----------] 2 tests from RMSProp (23 ms total)\r\n\r\n[----------] 4 tests from SGD\r\n[ RUN      ] SGD.ApplyWithoutMomentum\r\n[       OK ] SGD.ApplyWithoutMomentum (0 ms)\r\n[ RUN      ] SGD.ApplyWithMomentum\r\n[       OK ] SGD.ApplyWithMomentum (0 ms)\r\n[ RUN      ] SGD.ApplyWithoutMomentumCuda\r\n[       OK ] SGD.ApplyWithoutMomentumCuda (22 ms)\r\n[ RUN      ] SGD.ApplyWithMomentumCuda\r\n[       OK ] SGD.ApplyWithMomentumCuda (23 ms)\r\n[----------] 4 tests from SGD (45 ms total)\r\n\r\n[----------] 9 tests from Slice\r\n[ RUN      ] Slice.Setup\r\n[       OK ] Slice.Setup (0 ms)\r\n[ RUN      ] Slice.ForwardSliceRowCpp\r\n[       OK ] Slice.ForwardSliceRowCpp (0 ms)\r\n[ RUN      ] Slice.ForwardSliceColumn\r\n[       OK ] Slice.ForwardSliceColumn (0 ms)\r\n[ RUN      ] Slice.ForwardSliceRowCuda\r\n[       OK ] Slice.ForwardSliceRowCuda (33 ms)\r\n[ RUN      ] Slice.ForwardSliceColumnCuda\r\n[       OK ] Slice.ForwardSliceColumnCuda (33 ms)\r\n[ RUN      ] Slice.BackwardSliceRowCpp\r\n[       OK ] Slice.BackwardSliceRowCpp (0 ms)\r\n[ RUN      ] Slice.BackwardSliceColumn\r\n[       OK ] Slice.BackwardSliceColumn (0 ms)\r\n[ RUN      ] Slice.BackwardSliceRowCuda\r\n[       OK ] Slice.BackwardSliceRowCuda (22 ms)\r\n[ RUN      ] Slice.BackwardSliceColumnCuda\r\n[       OK ] Slice.BackwardSliceColumnCuda (23 ms)\r\n[----------] 9 tests from Slice (111 ms total)\r\n\r\n[----------] 3 tests from Snapshot\r\n[ RUN      ] Snapshot.WriteTest\r\n[       OK ] Snapshot.WriteTest (0 ms)\r\n[ RUN      ] Snapshot.ReadTest\r\n[       OK ] Snapshot.ReadTest (0 ms)\r\n[ RUN      ] Snapshot.ReadIntTest\r\n[       OK ] Snapshot.ReadIntTest (0 ms)\r\n[----------] 3 tests from Snapshot (0 ms total)\r\n\r\n[----------] 3 tests from Softmax\r\n[ RUN      ] Softmax.Setup\r\n[       OK ] Softmax.Setup (0 ms)\r\n[ RUN      ] Softmax.Forward\r\n[       OK ] Softmax.Forward (0 ms)\r\n[ RUN      ] Softmax.Backward\r\n[       OK ] Softmax.Backward (0 ms)\r\n[----------] 3 tests from Softmax (0 ms total)\r\n\r\n[----------] 11 tests from TensorClass\r\n[ RUN      ] TensorClass.Constructor\r\n[       OK ] TensorClass.Constructor (0 ms)\r\n[ RUN      ] TensorClass.Reshape\r\n[       OK ] TensorClass.Reshape (0 ms)\r\n[ RUN      ] TensorClass.AsType\r\n[       OK ] TensorClass.AsType (0 ms)\r\n[ RUN      ] TensorClass.ToDevice\r\n[       OK ] TensorClass.ToDevice (0 ms)\r\n[ RUN      ] TensorClass.CopyDataFromHostPtr\r\n[       OK ] TensorClass.CopyDataFromHostPtr (0 ms)\r\n[ RUN      ] TensorClass.CopyData\r\n[       OK ] TensorClass.CopyData (0 ms)\r\n[ RUN      ] TensorClass.Clone\r\n[       OK ] TensorClass.Clone (0 ms)\r\n[ RUN      ] TensorClass.T\r\n[       OK ] TensorClass.T (1 ms)\r\n[ RUN      ] TensorClass.Repeat\r\n[       OK ] TensorClass.Repeat (0 ms)\r\n[ RUN      ] TensorClass.RepeatData\r\n[       OK ] TensorClass.RepeatData (0 ms)\r\n[ RUN      ] TensorClass.Broadcast\r\n[       OK ] TensorClass.Broadcast (0 ms)\r\n[----------] 11 tests from TensorClass (1 ms total)\r\n\r\n[----------] 67 tests from TensorMath\r\n[ RUN      ] TensorMath.AbsCpp\r\n[       OK ] TensorMath.AbsCpp (0 ms)\r\n[ RUN      ] TensorMath.ExpCpp\r\n[       OK ] TensorMath.ExpCpp (0 ms)\r\n[ RUN      ] TensorMath.ExpStrideCpp\r\nWARNING: Logging before InitGoogleLogging() is written to STDERR\r\nI1106 12:50:01.186179  4664 tensor_math_cpp.h:146] not equal stride\r\n[       OK ] TensorMath.ExpStrideCpp (0 ms)\r\n[ RUN      ] TensorMath.LogCpp\r\n[       OK ] TensorMath.LogCpp (0 ms)\r\n[ RUN      ] TensorMath.ReLUCpp\r\n[       OK ] TensorMath.ReLUCpp (0 ms)\r\n[ RUN      ] TensorMath.SigmoidCpp\r\n[       OK ] TensorMath.SigmoidCpp (0 ms)\r\n[ RUN      ] TensorMath.SignCpp\r\n[       OK ] TensorMath.SignCpp (0 ms)\r\n[ RUN      ] TensorMath.SqrtCpp\r\n[       OK ] TensorMath.SqrtCpp (0 ms)\r\n[ RUN      ] TensorMath.SquareCpp\r\n[       OK ] TensorMath.SquareCpp (0 ms)\r\n[ RUN      ] TensorMath.TanhCpp\r\n[       OK ] TensorMath.TanhCpp (0 ms)\r\n[ RUN      ] TensorMath.SumCpp\r\n[       OK ] TensorMath.SumCpp (0 ms)\r\n[ RUN      ] TensorMath.SoftMaxCpp\r\n[       OK ] TensorMath.SoftMaxCpp (0 ms)\r\n[ RUN      ] TensorMath.SoftMaxOnAxis\r\n[       OK ] TensorMath.SoftMaxOnAxis (32 ms)\r\n[ RUN      ] TensorMath.LTCpp\r\n[       OK ] TensorMath.LTCpp (0 ms)\r\n[ RUN      ] TensorMath.LECpp\r\n[       OK ] TensorMath.LECpp (0 ms)\r\n[ RUN      ] TensorMath.GTCpp\r\n[       OK ] TensorMath.GTCpp (0 ms)\r\n[ RUN      ] TensorMath.GECpp\r\n[       OK ] TensorMath.GECpp (0 ms)\r\n[ RUN      ] TensorMath.PowCpp\r\n[       OK ] TensorMath.PowCpp (0 ms)\r\n[ RUN      ] TensorMath.SubCpp\r\n[       OK ] TensorMath.SubCpp (0 ms)\r\n[ RUN      ] TensorMath.EltwiseMultCpp\r\n[       OK ] TensorMath.EltwiseMultCpp (0 ms)\r\n[ RUN      ] TensorMath.DivCpp\r\n[       OK ] TensorMath.DivCpp (0 ms)\r\n[ RUN      ] TensorMath.BernoulliCpp\r\n[       OK ] TensorMath.BernoulliCpp (0 ms)\r\n[ RUN      ] TensorMath.UniformCpp\r\n[       OK ] TensorMath.UniformCpp (1 ms)\r\n[ RUN      ] TensorMath.GaussianCpp\r\n[       OK ] TensorMath.GaussianCpp (2 ms)\r\n[ RUN      ] TensorMath.AddTensorCpp\r\n[       OK ] TensorMath.AddTensorCpp (0 ms)\r\n[ RUN      ] TensorMath.AddTensorsCpp\r\n[       OK ] TensorMath.AddTensorsCpp (0 ms)\r\n[ RUN      ] TensorMath.SetValueCpp\r\n[       OK ] TensorMath.SetValueCpp (0 ms)\r\n[ RUN      ] TensorMath.ReshapeCpp\r\n[       OK ] TensorMath.ReshapeCpp (0 ms)\r\n[ RUN      ] TensorMath.TransposeReshapeCpp\r\nI1106 12:50:01.221532  4664 tensor_math_cpp.h:146] not equal stride\r\nI1106 12:50:01.221565  4664 tensor_math_cpp.h:146] not equal stride\r\n[       OK ] TensorMath.TransposeReshapeCpp (0 ms)\r\n[ RUN      ] TensorMath.TransposeFloatCpp\r\nI1106 12:50:01.221587  4664 tensor_math_cpp.h:146] not equal stride\r\n[       OK ] TensorMath.TransposeFloatCpp (0 ms)\r\n[ RUN      ] TensorMath.TransposeIntCpp\r\nI1106 12:50:01.221616  4664 tensor_math_cpp.h:146] not equal stride\r\n[       OK ] TensorMath.TransposeIntCpp (0 ms)\r\n[ RUN      ] TensorMath.BroadcastCpp\r\n[       OK ] TensorMath.BroadcastCpp (0 ms)\r\n[ RUN      ] TensorMath.L2Cpp\r\n[       OK ] TensorMath.L2Cpp (0 ms)\r\n[ RUN      ] TensorMath.MultCpp\r\n[       OK ] TensorMath.MultCpp (0 ms)\r\n[ RUN      ] TensorMath.AddColumnCpp\r\n[       OK ] TensorMath.AddColumnCpp (0 ms)\r\n[ RUN      ] TensorMath.SubColumnCpp\r\n[       OK ] TensorMath.SubColumnCpp (0 ms)\r\n[ RUN      ] TensorMath.DivColumnCpp\r\n[       OK ] TensorMath.DivColumnCpp (0 ms)\r\n[ RUN      ] TensorMath.AddRowCpp\r\n[       OK ] TensorMath.AddRowCpp (0 ms)\r\n[ RUN      ] TensorMath.SubRowCpp\r\n[       OK ] TensorMath.SubRowCpp (0 ms)\r\n[ RUN      ] TensorMath.MultRowCpp\r\n[       OK ] TensorMath.MultRowCpp (0 ms)\r\n[ RUN      ] TensorMath.MultColumnCpp\r\n[       OK ] TensorMath.MultColumnCpp (0 ms)\r\n[ RUN      ] TensorMath.DivRowCpp\r\n[       OK ] TensorMath.DivRowCpp (0 ms)\r\n[ RUN      ] TensorMath.SumRowsCpp\r\n[       OK ] TensorMath.SumRowsCpp (0 ms)\r\n[ RUN      ] TensorMath.SumColumnsCpp\r\n[       OK ] TensorMath.SumColumnsCpp (0 ms)\r\n[ RUN      ] TensorMath.ConcatenateRowsCpp\r\n[       OK ] TensorMath.ConcatenateRowsCpp (0 ms)\r\n[ RUN      ] TensorMath.ConcatenateColumnsCpp\r\n[       OK ] TensorMath.ConcatenateColumnsCpp (0 ms)\r\n[ RUN      ] TensorMath.CopyRowsCpp\r\n[       OK ] TensorMath.CopyRowsCpp (0 ms)\r\n[ RUN      ] TensorMath.CopyColumnsCpp\r\n[       OK ] TensorMath.CopyColumnsCpp (0 ms)\r\n[ RUN      ] TensorMath.L2Cuda\r\n[       OK ] TensorMath.L2Cuda (18 ms)\r\n[ RUN      ] TensorMath.MultCuda\r\n[       OK ] TensorMath.MultCuda (23 ms)\r\n[ RUN      ] TensorMath.AddColumnCuda\r\n[       OK ] TensorMath.AddColumnCuda (22 ms)\r\n[ RUN      ] TensorMath.SubColumnCuda\r\n[       OK ] TensorMath.SubColumnCuda (23 ms)\r\n[ RUN      ] TensorMath.MultColumnCuda\r\n[       OK ] TensorMath.MultColumnCuda (22 ms)\r\n[ RUN      ] TensorMath.DivColumnCuda\r\n[       OK ] TensorMath.DivColumnCuda (23 ms)\r\n[ RUN      ] TensorMath.AddRowCuda\r\n[       OK ] TensorMath.AddRowCuda (22 ms)\r\n[ RUN      ] TensorMath.SubRowCuda\r\n[       OK ] TensorMath.SubRowCuda (23 ms)\r\n[ RUN      ] TensorMath.MultRowCuda\r\n[       OK ] TensorMath.MultRowCuda (22 ms)\r\n[ RUN      ] TensorMath.DivRowCuda\r\n[       OK ] TensorMath.DivRowCuda (23 ms)\r\n[ RUN      ] TensorMath.SumRowsCuda\r\n[       OK ] TensorMath.SumRowsCuda (22 ms)\r\n[ RUN      ] TensorMath.SumColumnCuda\r\n[       OK ] TensorMath.SumColumnCuda (22 ms)\r\n[ RUN      ] TensorMath.ExpStrideCuda\r\n[       OK ] TensorMath.ExpStrideCuda (23 ms)\r\n[ RUN      ] TensorMath.ConcatenateRowsCuda\r\n[       OK ] TensorMath.ConcatenateRowsCuda (22 ms)\r\n[ RUN      ] TensorMath.ConcatenateColumnsCuda\r\n[       OK ] TensorMath.ConcatenateColumnsCuda (23 ms)\r\n[ RUN      ] TensorMath.CopyRowsCuda\r\n[       OK ] TensorMath.CopyRowsCuda (22 ms)\r\n[ RUN      ] TensorMath.CopyColumnsCuda\r\n[       OK ] TensorMath.CopyColumnsCuda (23 ms)\r\n[ RUN      ] TensorMath.RowMaxCuda\r\n[       OK ] TensorMath.RowMaxCuda (22 ms)\r\n[ RUN      ] TensorMath.BroadcastCuda\r\n[       OK ] TensorMath.BroadcastCuda (23 ms)\r\n[----------] 67 tests from TensorMath (459 ms total)\r\n\r\n[----------] 2 tests from TextFileWriter\r\n[ RUN      ] TextFileWriter.Create\r\n[       OK ] TextFileWriter.Create (0 ms)\r\n[ RUN      ] TextFileWriter.Append\r\n[       OK ] TextFileWriter.Append (0 ms)\r\n[----------] 2 tests from TextFileWriter (0 ms total)\r\n\r\n[----------] 2 tests from TextFileReader\r\n[ RUN      ] TextFileReader.Read\r\n[       OK ] TextFileReader.Read (0 ms)\r\n[ RUN      ] TextFileReader.SeekToFirst\r\n[       OK ] TextFileReader.SeekToFirst (1 ms)\r\n[----------] 2 tests from TextFileReader (1 ms total)\r\n\r\n[----------] 1 test from TimerTest\r\n[ RUN      ] TimerTest.TestTick\r\n[       OK ] TimerTest.TestTick (10 ms)\r\n[----------] 1 test from TimerTest (10 ms total)\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 238 tests from 48 test cases ran. (3741 ms total)\r\n[  PASSED  ] 238 tests.\r\n```\r\n\r\n2. Python Unit test:\r\n```\r\nubuntu@ip-172-31-34-232:~/singa/test/python$ python3 test_operation.py\r\n......................................................................................WARNING: Logging before InitGoogleLogging() is written to STDERR\r\nI1106 12:53:42.393013  4684 tensor_math_cpp.h:146] not equal stride\r\nI1106 12:53:42.393343  4684 tensor_math_cpp.h:146] not equal stride\r\n.I1106 12:53:42.393951  4684 tensor_math_cpp.h:146] not equal stride\r\nI1106 12:53:42.394306  4684 tensor_math_cpp.h:146] not equal stride\r\n......\r\n----------------------------------------------------------------------\r\nRan 93 tests in 0.805s\r\n\r\nOK\r\nubuntu@ip-172-31-34-232:~/singa/test/python$ python3 test_layer.py\r\n...................\r\n----------------------------------------------------------------------\r\nRan 19 tests in 0.008s\r\n\r\nOK\r\nubuntu@ip-172-31-34-232:~/singa/test/python$ python3 test_mkldnn.py\r\n.TEST CONV2D FORWARD\r\nTEST CONV2D DATA BACKWARD\r\nTEST CONV2D WEIGHT BACKWARD\r\nTEST CONV2D DATA BACKWARD\r\n[2.]\r\n..\r\n----------------------------------------------------------------------\r\nRan 3 tests in 0.070s\r\n\r\nOK\r\nubuntu@ip-172-31-34-232:~/singa/test/python$ python3 test_optimizer.py\r\n..............\r\n----------------------------------------------------------------------\r\nRan 14 tests in 0.021s\r\n\r\nOK\r\nubuntu@ip-172-31-34-232:~/singa/test/python$ python3 test_net.py\r\n('relu1', (2,))\r\n('relu2', (2,))\r\n('merge', [(2,), (2,)])\r\n.('relu1', (2,))\r\n('relu2', (2,))\r\n('merge', [(2,), (2,)])\r\n('split', [(2,), (2,)])\r\n('split1', (2,))\r\n('split2', (2,))\r\n.('conv', (4, 12, 12))\r\n('flat', (576,))\r\n('dense', (4,))\r\nNOTE: If your model was saved using pickle, then set use_pickle=True for loading it\r\nNOTE: If your model was saved using Snapshot, then set use_pickle=False for loading it\r\n.('relu1', (2,))\r\n('relu2', (2,))\r\n.('conv', (4, 12, 12))\r\n('flat', (576,))\r\n('dense', (4,))\r\n.\r\n----------------------------------------------------------------------\r\nRan 5 tests in 0.010s\r\n\r\nOK\r\nubuntu@ip-172-31-34-232:~/singa/test/python$ python3 test_loss.py\r\n...\r\n----------------------------------------------------------------------\r\nRan 3 tests in 0.005s\r\n\r\nOK\r\nubuntu@ip-172-31-34-232:~/singa/test/python$ python3 test_api.py\r\n.\r\n----------------------------------------------------------------------\r\nRan 1 test in 0.013s\r\n\r\nOK\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/550299437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/550325105","html_url":"https://github.com/apache/singa/pull/559#issuecomment-550325105","issue_url":"https://api.github.com/repos/apache/singa/issues/559","id":550325105,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDMyNTEwNQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-06T14:08:50Z","updated_at":"2019-11-06T14:08:50Z","author_association":"CONTRIBUTOR","body":"In additional to downloads.md, \r\nI have also added the change of doc/en/develop/how-to-release.rst in this PR,\r\n \r\nHowever, for the following lines in how-to-release.rst, they contain “incubator” but I am not sure how to modify:\r\n \r\nLine63:        + modify from http://incubator.apache.org/guides/branding.html#disclaimers\r\nLine89:         svn add to “dist/release/incubator/singa”\r\nLine113:               https://dist.apache.org/repos/dist/dev/incubator/singa/apache-singa-X.Y.Z-rcN/\r\nLine157:               Call a vote in general@incubator.apache.org\r\nLine188:               To: general@incubator.apache.org","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/550325105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/550738649","html_url":"https://github.com/apache/singa/pull/555#issuecomment-550738649","issue_url":"https://api.github.com/repos/apache/singa/issues/555","id":550738649,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDczODY0OQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-07T04:44:10Z","updated_at":"2019-11-07T04:45:03Z","author_association":"CONTRIBUTOR","body":"I checked the source code of unit test which covers the value check for functions like sumrow and sumcolumn, so the value should be no problem:\r\n\r\n```cpp\r\nTEST_F(TensorMath, SumRowsCuda) {\r\n  auto dev = std::make_shared<singa::CudaGPU>();\r\n  Tensor t(Shape{2}, dev);\r\n  d.CopyDataFromHostPtr(dat1, 6);\r\n  d.ToDevice(dev);\r\n  SumRows(d, &t);\r\n  t.ToHost();\r\n  const float *tptr = t.data<float>();\r\n  for (int i = 0; i < 2; i++) {\r\n    float tmp = 0;\r\n    for (int j = 0; j < 3; j++) {\r\n      tmp += dat1[j * 2 + i];\r\n    }\r\n    EXPECT_FLOAT_EQ(tptr[i], tmp);\r\n  }\r\n  d.ToHost();\r\n}\r\nTEST_F(TensorMath, SumColumnCuda) {\r\n  auto dev = std::make_shared<singa::CudaGPU>();\r\n  Tensor t(Shape{3}, dev);\r\n  d.CopyDataFromHostPtr(dat1, 6);\r\n  d.ToDevice(dev);\r\n  SumColumns(d, &t);\r\n  t.ToHost();\r\n  const float *tptr = t.data<float>();\r\n  for (int i = 0; i < 3; i++) {\r\n    float tmp = 0;\r\n    for (int j = 0; j < 2; j++) {\r\n      tmp += dat1[i * 2 + j];\r\n    }\r\n    EXPECT_FLOAT_EQ(tptr[i], tmp);\r\n  }\r\n  d.ToHost();\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/550738649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/550752560","html_url":"https://github.com/apache/singa/pull/557#issuecomment-550752560","issue_url":"https://api.github.com/repos/apache/singa/issues/557","id":550752560,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MDc1MjU2MA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-07T04:54:22Z","updated_at":"2019-11-07T04:54:22Z","author_association":"MEMBER","body":"Hi, shicong, please use this to test __mul__\r\n```\r\ndef test_tensor_add_api(self):\r\n\r\n    def _run_test(s1, s2):\r\n        x_0 = np.random.random(s1).astype(np.float32)\r\n        y_0 = np.random.random(s2).astype(np.float32)\r\n        x0 = tensor.Tensor(device=gpu_dev, data=x_0)\r\n        y0 = tensor.Tensor(device=gpu_dev, data=y_0)\r\n\r\n        z0 = tensor._call_singa_func(singa_api.__mul__, x0.data, y0.data)\r\n\r\n        #print(s1,s2,tensor.to_numpy(z0).shape)\r\n        np.testing.assert_array_almost_equal(tensor.to_numpy(z0), x_0+y_0)\r\n        return\r\n\r\n    # 2d\r\n    _run_test([3, 4], [3, 4])\r\n    # 3d\r\n    _run_test([3, 4, 5], [3, 4, 5])\r\n    # 4d\r\n    _run_test([3, 4, 5, 6], [3, 4, 5, 6])\r\n    # 3d vs 1d\r\n    _run_test([3, 4, 5], [5])\r\n    # 3d vs 2d\r\n    _run_test([3, 4, 5], [4, 5])\r\n    # 4d vs 2d\r\n    _run_test([3, 4, 5, 6], [5, 6])\r\n    # 4d vs 3d\r\n    _run_test([3, 4, 5, 6], [4, 5, 6])\r\n    # 4d vs 4d\r\n    _run_test([1, 4, 1, 6], [3, 1, 5, 6])\r\n```","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/550752560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/551142223","html_url":"https://github.com/apache/singa/pull/557#issuecomment-551142223","issue_url":"https://api.github.com/repos/apache/singa/issues/557","id":551142223,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTE0MjIyMw==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-07T15:58:26Z","updated_at":"2019-11-07T15:58:26Z","author_association":"MEMBER","body":"Hi @joddiy thank you for the info. this is tested and test case are updated","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/551142223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/553225239","html_url":"https://github.com/apache/singa/pull/552#issuecomment-553225239","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":553225239,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzIyNTIzOQ==","user":{"login":"Wentong-DST","id":12691166,"node_id":"MDQ6VXNlcjEyNjkxMTY2","avatar_url":"https://avatars.githubusercontent.com/u/12691166?v=4","gravatar_id":"","url":"https://api.github.com/users/Wentong-DST","html_url":"https://github.com/Wentong-DST","followers_url":"https://api.github.com/users/Wentong-DST/followers","following_url":"https://api.github.com/users/Wentong-DST/following{/other_user}","gists_url":"https://api.github.com/users/Wentong-DST/gists{/gist_id}","starred_url":"https://api.github.com/users/Wentong-DST/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wentong-DST/subscriptions","organizations_url":"https://api.github.com/users/Wentong-DST/orgs","repos_url":"https://api.github.com/users/Wentong-DST/repos","events_url":"https://api.github.com/users/Wentong-DST/events{/privacy}","received_events_url":"https://api.github.com/users/Wentong-DST/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T03:42:27Z","updated_at":"2019-11-13T03:42:27Z","author_association":"CONTRIBUTOR","body":"@chrishkchris , can you please help review? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/553225239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/553226326","html_url":"https://github.com/apache/singa/pull/552#issuecomment-553226326","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":553226326,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzIyNjMyNg==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T03:48:28Z","updated_at":"2019-11-13T03:48:28Z","author_association":"CONTRIBUTOR","body":"ok, I will do the peer review. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/553226326/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/553279138","html_url":"https://github.com/apache/singa/pull/557#issuecomment-553279138","issue_url":"https://api.github.com/repos/apache/singa/issues/557","id":553279138,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzI3OTEzOA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T07:41:25Z","updated_at":"2019-11-13T07:41:25Z","author_association":"MEMBER","body":"This is ready for merging","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/553279138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/553281211","html_url":"https://github.com/apache/singa/pull/555#issuecomment-553281211","issue_url":"https://api.github.com/repos/apache/singa/issues/555","id":553281211,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzI4MTIxMQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-13T07:48:26Z","updated_at":"2019-11-13T07:48:26Z","author_association":"CONTRIBUTOR","body":"Double checking of cuda codes (I removed the cuda memset, so I need to check everything related to cuda)\r\n\r\nI have to check three files: 1. tensor.cc, 2. tenor_math_cuda.h, 3. math_kernal.cu\r\n\r\n1. tensor.cc: check if (i) after a new tensor is created (ii) output tensor, their values are read before any assignments\r\n\r\nFor examples:\r\n\r\n(a) SumColumns and SumRows are based on Mult on the input M (or its transpose T) and \"one\", while \"one\" is initialized with setValue.\r\n\r\n```cpp\r\nvoid SumColumns(const Tensor &M, Tensor *v) {\r\n  if (M.transpose()) {\r\n    Tensor X = Transpose(M);\r\n    SumRows(X, v);\r\n  } else {\r\n    CHECK_EQ(M.nDim(), 2u);\r\n    // CHECK_EQ(v->nDim(), 1u); (chonho) shape of v is 2-element tuple\r\n    size_t nb_row = M.shape().at(0), nb_col = M.shape().at(1);\r\n    CHECK_EQ(nb_row, v->Size());\r\n\r\n    Tensor one(Shape{nb_col}, M.device(), M.data_type());\r\n    one.SetValue(1.0f);  // TODO(wangwei) cast type\r\n    Mult(M, one, v);\r\n  }\r\n}\r\nvoid SumRows(const Tensor &M, Tensor *v) {\r\n  if (M.transpose()) {\r\n    Tensor X = Transpose(M);\r\n    SumColumns(X, v);\r\n  } else {\r\n    CHECK_EQ(M.nDim(), 2u);\r\n    // CHECK_EQ(v->nDim(), 1u); (chonho) shape of v is 2-element tuple\r\n    size_t nb_row = M.shape(0), nb_col = M.shape(1);\r\n    CHECK_EQ(nb_col, v->Size());\r\n\r\n    Tensor one(Shape{nb_row}, M.device(), M.data_type());\r\n    one.SetValue(1.0f);  // TODO(wangwei) cast type\r\n    Tensor X = Transpose(M);\r\n    Mult(X, one, v);\r\n  }\r\n}\r\n```\r\n\r\n(b) Sum is based on SumRows and SumColumns, where the created tensor out is used as output only (no reading)\r\n\r\n```cpp\r\nTensor Sum(const Tensor &M, int axis) {\r\n  if (axis == 0) {\r\n    Tensor out(Shape{M.shape(1)}, M.device(), M.data_type());\r\n    SumRows(M, &out);\r\n    return out;\r\n  } else {\r\n    CHECK_EQ(axis, 1) << \"Not support Sum over axis = \" << axis;\r\n    Tensor out(Shape{M.shape(0)}, M.device(), M.data_type());\r\n    SumColumns(M, &out);\r\n    return out;\r\n  }\r\n}\r\n```\r\n\r\n\r\n(c) Mult of tensors A and tensor B: It creates a output tensor out and pass it to the GEMV or GEMM defined in tenor_math_cuda.h\r\n\r\n```cpp\r\nTensor Mult(const Tensor &A, const Tensor &B) {\r\n  Shape s;\r\n  s.push_back(A.shape(0));\r\n  if (B.nDim() == 2) s.push_back(B.shape(1));\r\n  Tensor out(s, A.device(), A.data_type());\r\n  Mult(A, B, &out);\r\n  return out;\r\n}\r\n\r\nvoid Mult(const Tensor &A, const Tensor &B, Tensor *out) {\r\n  Mult(1.0f, A, B, 0.0f, out);\r\n}\r\n\r\ntemplate <typename SType>\r\nvoid Mult(const SType alpha, const Tensor &A, const Tensor &B, const SType beta,\r\n          Tensor *C) {\r\n  CHECK_EQ(A.shape().size(), 2u);\r\n  if (B.nDim() == 1u) {\r\n    TYPE_LANG_SWITCH(A.data_type(), DType, A.device()->lang(), Lang, {\r\n      auto a = TypeCast<SType, DType>(alpha);\r\n      auto b = TypeCast<SType, DType>(beta);\r\n      C->device()->Exec([a, A, b, B, C](Context * ctx) {\r\n        GEMV<DType, Lang>(a, A, B, b, C, ctx);\r\n      }, {A.block(), B.block()}, {C->block()});\r\n    });\r\n  } else {\r\n    CHECK(!C->transpose());\r\n    TYPE_LANG_SWITCH(A.data_type(), DType, A.device()->lang(), Lang, {\r\n      auto a = TypeCast<SType, DType>(alpha);\r\n      auto b = TypeCast<SType, DType>(beta);\r\n      C->device()->Exec([a, A, b, B, C](Context * ctx) {\r\n        GEMM<DType, Lang>(a, A, B, b, C,\r\n        ctx);\r\n      }, {A.block(), B.block()}, {C->block()});\r\n    });\r\n  }\r\n}\r\n```\r\n\r\n2. tenor_math_cuda.h: check if (i) after a new tensor is created (ii) output tensor, their values are read before any assignments\r\n\r\nFor examples: \r\n\r\n(a) Two tensors EltwiseMult: New tensor t is created but passed into cudnn transform as output (to store the transform of input), as well as the original output pointer.\r\n\r\n```cpp\r\nvoid EltwiseMult<float, lang::Cuda>(const Tensor& in1,\r\n                                    const Tensor& in2, Tensor* out,\r\n                                    Context* ctx) {\r\n  const float* inPtr1 = static_cast<const float*>(in1.block()->data());\r\n  const float* inPtr2 = static_cast<const float*>(in2.block()->data());\r\n  float* outPtr = static_cast<float*>(out->block()->mutable_data());\r\n  const size_t num = in1.Size();\r\n\r\n  //if both in1 and in2 are not transposed, and have the same strides,\r\n  //we proceed to normal cuda::mult\r\n  if (!in1.transpose() && !in2.transpose() && (in1.stride() == in2.stride())) {\r\n    cuda::mult(num, inPtr1, inPtr2, outPtr, ctx->stream);\r\n  } else { //else we check whether in1 or in2 or both are transposed\r\n    if (in1.transpose() && in2.transpose()) {\r\n      Tensor t(in1.shape(), in1.device(), in1.data_type());\r\n      Transform<float, lang::Cuda>(in1, &t, ctx);\r\n      Transform<float, lang::Cuda>(in2, out, ctx);\r\n      float* tPtr = static_cast<float*>(t.block()->mutable_data());\r\n      cuda::mult(num, tPtr, outPtr, outPtr, ctx->stream);\r\n    } else if (in1.transpose()) {\r\n      Transform<float, lang::Cuda>(in1, out, ctx);\r\n      cuda::mult(num, outPtr, inPtr2, outPtr, ctx->stream);\r\n    } else if (in2.transpose()) {\r\n      Transform<float, lang::Cuda>(in2, out, ctx);\r\n      cuda::mult(num, inPtr1, outPtr, outPtr, ctx->stream);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n(b) One tensor one constant EltwiseMult: Pass it to cuda kernal (math_kernal.cu) directly\r\n\r\n```cpp\r\n/// out = in * x\r\ntemplate <>\r\nvoid EltwiseMult<float, lang::Cuda>(const Tensor& in,\r\n                                    const float x, Tensor* out, Context* ctx) {\r\n  const float* inPtr = static_cast<const float*>(in.block()->data());\r\n  float* outPtr = static_cast<float*>(out->block()->mutable_data());\r\n  const size_t num = in.Size();\r\n  cuda::mult(num, inPtr, x, outPtr, ctx->stream);\r\n}\r\n\r\n```\r\n3. math_kernal.cu: check if any cuda kernel read from the output value before assignment\r\n\r\nFor examples: \r\n\r\n(a) cuda sum column (I think this sum column is not in use anymore, while using the general one in tensor.cc line 1162 based on Mult instead): the output is set 0 before adding all the columns up\r\n \r\n```cpp\r\n__global__ void kernel_sum_col(const float *src_mat_data, float *dst_vec_data,\r\n                               int rows, int cols, int stride) {\r\n  int index = blockIdx.x * blockDim.x + threadIdx.x;\r\n  int num_threads = blockDim.x * gridDim.x;\r\n  for (; index < rows; index += num_threads) {\r\n    dst_vec_data[index] = 0.0f;\r\n    for (int k = 0; k < cols; k++) {\r\n      dst_vec_data[index] += src_mat_data[index * stride + k];\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n(b) cuda sum row (I think this sum column is not in use anymore, while using the general one in tensor.cc line 1147 based on Mult instead): the output is set to the aux local variable after the calculation is completed\r\n\r\n```cpp\r\n__global__ void kernel_sum_row(const float *src_mat_data, float *dst_vec_data,\r\n                               int rows, int cols, int stride) {\r\n  int j = blockIdx.x;\r\n  int THREADS = blockDim.x;\r\n  if (j >= cols) {\r\n    return;\r\n  }\r\n\r\n  __shared__ float aux[CU1DBLOCK];\r\n  int steps = (rows - 1) / THREADS + 1;\r\n  aux[threadIdx.x] = src_mat_data[j + threadIdx.x * stride];\r\n  for (int i = 1; i < steps; ++i) {\r\n    if (threadIdx.x + i * THREADS < rows) {\r\n      aux[threadIdx.x] +=\r\n          src_mat_data[j + (threadIdx.x + i * THREADS) * stride];\r\n    }\r\n  }\r\n\r\n  int total_threads = THREADS;\r\n  __syncthreads();\r\n  while (total_threads > 1) {\r\n    int half_point = ((1 + total_threads) >> 1);\r\n    if (threadIdx.x < half_point) {\r\n      if (threadIdx.x + half_point < total_threads) {\r\n        aux[threadIdx.x] += aux[threadIdx.x + half_point];\r\n      }\r\n    }\r\n    __syncthreads();\r\n    total_threads = ((total_threads + 1) >> 1);\r\n  }\r\n\r\n  __syncthreads();\r\n  dst_vec_data[j] = aux[0];\r\n}\r\n```\r\n\r\n(c) KernelComputeCrossEntropy: loss is set 0 before using\r\n\r\n```cpp\r\n__global__ void KernelComputeCrossEntropy(const bool int_target, const size_t batchsize,\r\n                                          const size_t dim, const float *p,\r\n                                          const int *t, float *loss) {\r\n  size_t sample = blockIdx.x * blockDim.x + threadIdx.x;\r\n  size_t num_threads = blockDim.x * gridDim.x;\r\n  if (int_target) {\r\n    for (; sample < batchsize; sample += num_threads) {\r\n      float prob_of_truth = p[sample * dim + t[sample]];\r\n      loss[sample] = -std::log(max(prob_of_truth, FLT_MIN));\r\n    }\r\n  } else {\r\n    for (; sample < batchsize; sample += num_threads) {\r\n      float sum = 0.f;\r\n      for (size_t j = 0; j < dim; j++) {\r\n        sum += t[sample * dim + j];\r\n      }\r\n      loss[sample] = 0;\r\n      for (size_t j = 0, offset = sample * dim; j < dim; j++, offset++) {\r\n        loss[sample] -= t[offset] / sum * std::log(max(p[offset], FLT_MIN));\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nResults: new values are assigned to the output, while there is no read from output before assignment\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/553281211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/553873183","html_url":"https://github.com/apache/singa/pull/552#issuecomment-553873183","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":553873183,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzg3MzE4Mw==","user":{"login":"Wentong-DST","id":12691166,"node_id":"MDQ6VXNlcjEyNjkxMTY2","avatar_url":"https://avatars.githubusercontent.com/u/12691166?v=4","gravatar_id":"","url":"https://api.github.com/users/Wentong-DST","html_url":"https://github.com/Wentong-DST","followers_url":"https://api.github.com/users/Wentong-DST/followers","following_url":"https://api.github.com/users/Wentong-DST/following{/other_user}","gists_url":"https://api.github.com/users/Wentong-DST/gists{/gist_id}","starred_url":"https://api.github.com/users/Wentong-DST/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wentong-DST/subscriptions","organizations_url":"https://api.github.com/users/Wentong-DST/orgs","repos_url":"https://api.github.com/users/Wentong-DST/repos","events_url":"https://api.github.com/users/Wentong-DST/events{/privacy}","received_events_url":"https://api.github.com/users/Wentong-DST/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T12:48:23Z","updated_at":"2019-11-14T12:48:23Z","author_association":"CONTRIBUTOR","body":"Hi @chrishkchris , I have added test cases for these two cuda functions. Please help review! Thanks.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/553873183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/553887595","html_url":"https://github.com/apache/singa/pull/552#issuecomment-553887595","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":553887595,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzg4NzU5NQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T13:28:29Z","updated_at":"2019-11-26T02:43:29Z","author_association":"CONTRIBUTOR","body":"This is the build log. We can see the missing codes from the log.\r\nSince you put cuda::softsign(num, inPtr, outPtr, ctx->stream); in tensor_math_cuda.h, you will need to add it the header in math_kernal.h and the cuda computation part in math_kernal.cu\r\nThanks!\r\n\r\n```\r\nubuntu@ip-172-31-28-197:~/incubator-singa/build$ cmake -D CMAKE_PREFIX_PATH=\"/usr/local/cuda/lib64;/usr/local/cuda/\" -DENABLE_TEST=ON -DUSE_CUDA=ON -DUSE_PYTHON3=ON -DUSE_MKLDNN=ON ..\r\n-- The C compiler identification is GNU 5.4.0\r\n-- The CXX compiler identification is GNU 5.4.0\r\n-- Check for working C compiler: /usr/bin/cc\r\n-- Check for working C compiler: /usr/bin/cc -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /usr/bin/c++\r\n-- Check for working CXX compiler: /usr/bin/c++ -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE\r\n-- Found Protobuf: /usr/local/lib/libprotobuf.so;-lpthread (found suitable version \"3.0.0\", minimum required is \"3.0\")\r\n-- Found CBLAS: /usr/local/include\r\n-- Found GLOG: /usr/include\r\n-- Found cuda_v10.0\r\n-- Found CUDNN: /usr/local/cuda/include\r\n-- Found Cudnn_7401 at /usr/local/cuda/include /usr/local/cuda/lib64/libcudnn.so\r\n-- Found PythonInterp: /usr/bin/python3 (found suitable version \"3.5.2\", minimum required is \"3\")\r\n-- Found PythonLibs: /usr/lib/x86_64-linux-gnu/libpython3.5m.so (found suitable version \"3.5.2\", minimum required is \"3\")\r\n-- Found SWIG: /usr/local/bin/swig (found suitable version \"3.0.12\", minimum required is \"3.0.10\")\r\n-- Found MKLDNN at /usr/local/include\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /home/ubuntu/incubator-singa/build\r\nubuntu@ip-172-31-28-197:~/incubator-singa/build$ make -j4\r\nScanning dependencies of target cnmem\r\nScanning dependencies of target copy_protobuf\r\nScanning dependencies of target gtest\r\n[  1%] Creating directories for 'cnmem'\r\n[  2%] Running C++ protocol buffer compiler on /home/ubuntu/incubator-singa/src/proto/model.proto\r\n[  3%] Running C++ protocol buffer compiler on /home/ubuntu/incubator-singa/src/proto/caffe.proto\r\n[libprotobuf WARNING google/protobuf/compiler/parser.cc:547] No syntax specified for the proto file: model.proto. Please use 'syntax = \"proto2\";' or 'syntax = \"proto3\";' to specify a syntax version. (Defaulted to proto2 syntax.)\r\n[  3%] Building CXX object test/CMakeFiles/gtest.dir/gtest/gtest-all.cc.o\r\n[  3%] Performing download step (git clone) for 'cnmem'\r\nCloning into 'cnmem'...\r\n[  3%] Running C++ protocol buffer compiler on /home/ubuntu/incubator-singa/src/proto/core.proto\r\n[libprotobuf WARNING google/protobuf/compiler/parser.cc:547] No syntax specified for the proto file: core.proto. Please use 'syntax = \"proto2\";' or 'syntax = \"proto3\";' to specify a syntax version. (Defaulted to proto2 syntax.)\r\n[  4%] Running C++ protocol buffer compiler on /home/ubuntu/incubator-singa/src/proto/io.proto\r\n[libprotobuf WARNING google/protobuf/compiler/parser.cc:547] No syntax specified for the proto file: io.proto. Please use 'syntax = \"proto2\";' or 'syntax = \"proto3\";' to specify a syntax version. (Defaulted to proto2 syntax.)\r\n[  4%] Copying Protobuf headers\r\n[  4%] Built target copy_protobuf\r\n[  5%] Building NVCC (Device) object src/CMakeFiles/cuda_compile_1.dir/core/tensor/cuda_compile_1_generated_math_kernel.cu.o\r\nScanning dependencies of target singa_objects\r\n[  6%] Building CXX object src/CMakeFiles/singa_objects.dir/caffe.pb.cc.o\r\n[  7%] Building CXX object src/CMakeFiles/singa_objects.dir/core.pb.cc.o\r\nAlready on 'master'\r\nYour branch is up-to-date with 'origin/master'.\r\n[  8%] No patch step for 'cnmem'\r\n[  9%] Performing update step for 'cnmem'\r\n[  9%] Building CXX object src/CMakeFiles/singa_objects.dir/io.pb.cc.o\r\nCurrent branch master is up to date.\r\n[  9%] Performing configure step for 'cnmem'\r\n-- The C compiler identification is GNU 5.4.0\r\n-- The CXX compiler identification is GNU 5.4.0\r\n-- Check for working C compiler: /usr/bin/cc\r\n-- Check for working C compiler: /usr/bin/cc -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /usr/bin/c++\r\n-- Check for working CXX compiler: /usr/bin/c++ -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /home/ubuntu/incubator-singa/build/cnmem-prefix/src/cnmem-build\r\n[ 10%] Performing build step for 'cnmem'\r\nScanning dependencies of target cnmem\r\n[ 50%] Building CXX object CMakeFiles/cnmem.dir/src/cnmem.cpp.o\r\n[100%] Linking CXX static library libcnmem.a\r\n[100%] Built target cnmem\r\n[ 10%] Performing install step for 'cnmem'\r\n[ 11%] Building CXX object src/CMakeFiles/singa_objects.dir/model.pb.cc.o\r\n[100%] Built target cnmem\r\nInstall the project...\r\n-- Install configuration: \"\"\r\n-- Installing: /home/ubuntu/incubator-singa/build/lib/libcnmem.a\r\n-- Installing: /home/ubuntu/incubator-singa/build/include/cnmem.h\r\n[ 12%] Completed 'cnmem'\r\n[ 12%] Built target cnmem\r\n[ 13%] Building CXX object src/CMakeFiles/singa_objects.dir/utils/channel.cc.o\r\n[ 13%] Building CXX object src/CMakeFiles/singa_objects.dir/utils/logging.cc.o\r\n[ 14%] Building CXX object src/CMakeFiles/singa_objects.dir/io/binfile_reader.cc.o\r\n[ 15%] Linking CXX static library ../lib/libgtest.a\r\n[ 15%] Building CXX object src/CMakeFiles/singa_objects.dir/io/binfile_writer.cc.o\r\n[ 15%] Built target gtest\r\n[ 16%] Building CXX object src/CMakeFiles/singa_objects.dir/io/communicator.cc.o\r\n[ 17%] Building CXX object src/CMakeFiles/singa_objects.dir/io/csv_decoder.cc.o\r\n[ 17%] Building CXX object src/CMakeFiles/singa_objects.dir/io/csv_encoder.cc.o\r\n[ 18%] Building CXX object src/CMakeFiles/singa_objects.dir/io/image_transformer.cc.o\r\n[ 19%] Building CXX object src/CMakeFiles/singa_objects.dir/io/jpg_decoder.cc.o\r\n[ 19%] Building CXX object src/CMakeFiles/singa_objects.dir/io/jpg_encoder.cc.o\r\n[ 20%] Building CXX object src/CMakeFiles/singa_objects.dir/io/lmdb_reader.cc.o\r\n[ 21%] Building CXX object src/CMakeFiles/singa_objects.dir/io/lmdb_writer.cc.o\r\n[ 21%] Building CXX object src/CMakeFiles/singa_objects.dir/io/snapshot.cc.o\r\n[ 22%] Building CXX object src/CMakeFiles/singa_objects.dir/io/textfile_reader.cc.o\r\n[ 22%] Building CXX object src/CMakeFiles/singa_objects.dir/io/textfile_writer.cc.o\r\n[ 23%] Building CXX object src/CMakeFiles/singa_objects.dir/io/network/endpoint.cc.o\r\n[ 24%] Building CXX object src/CMakeFiles/singa_objects.dir/io/network/message.cc.o\r\n[ 24%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/cpp_cpu.cc.o\r\n[ 25%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/cuda_gpu.cc.o\r\n[ 26%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/device.cc.o\r\n[ 26%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/opencl_device.cc.o\r\n[ 27%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/platform.cc.o\r\n[ 27%] Building CXX object src/CMakeFiles/singa_objects.dir/core/memory/memory.cc.o\r\n[ 28%] Building CXX object src/CMakeFiles/singa_objects.dir/core/scheduler/scheduler.cc.o\r\n[ 29%] Building CXX object src/CMakeFiles/singa_objects.dir/core/tensor/sparse_tensor.cc.o\r\n[ 29%] Building CXX object src/CMakeFiles/singa_objects.dir/core/tensor/tensor.cc.o\r\n[ 30%] Building CXX object src/CMakeFiles/singa_objects.dir/model/feed_forward_net.cc.o\r\n[ 31%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/activation.cc.o\r\nIn file included from /home/ubuntu/incubator-singa/src/core/tensor/tensor.cc:22:0:\r\n/home/ubuntu/incubator-singa/src/core/tensor/./tensor_math_cuda.h: In function ‘void singa::SoftSign(const singa::Tensor&, singa::Tensor*, singa::Context*) [with DType = float; Lang = singa::lang::_Cuda; singa::Context = singa::_Context]’:\r\n/home/ubuntu/incubator-singa/src/core/tensor/./tensor_math_cuda.h:669:5: error: ‘softsign’ is not a member of ‘singa::cuda’\r\n     cuda::softsign(num, inPtr, outPtr, ctx->stream);\r\n     ^\r\n/home/ubuntu/incubator-singa/src/core/tensor/./tensor_math_cuda.h:672:5: error: ‘softsign’ is not a member of ‘singa::cuda’\r\n     cuda::softsign(num, outPtr, outPtr, ctx->stream);\r\n     ^\r\n/home/ubuntu/incubator-singa/src/core/tensor/./tensor_math_cuda.h: In function ‘void singa::SoftMax(const singa::Tensor&, singa::Tensor*, singa::Context*, int) [with DType = float; Lang = singa::lang::_Cuda; singa::Context = singa::_Context]’:\r\n/home/ubuntu/incubator-singa/src/core/tensor/./tensor_math_cuda.h:1001:21: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n   for (int i = 0; i < in.shape().size(); i++) {\r\n                     ^\r\n[ 31%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/batchnorm.cc.o\r\n[ 32%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/concat.cc.o\r\nsrc/CMakeFiles/singa_objects.dir/build.make:478: recipe for target 'src/CMakeFiles/singa_objects.dir/core/tensor/tensor.cc.o' failed\r\nmake[2]: *** [src/CMakeFiles/singa_objects.dir/core/tensor/tensor.cc.o] Error 1\r\nmake[2]: *** Waiting for unfinished jobs....\r\nCMakeFiles/Makefile2:168: recipe for target 'src/CMakeFiles/singa_objects.dir/all' failed\r\nmake[1]: *** [src/CMakeFiles/singa_objects.dir/all] Error 2\r\nMakefile:129: recipe for target 'all' failed\r\nmake: *** [all] Error 2\r\n```\r\n\r\nYou may consider add and rebuild the code, and place the test result here for reference. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/553887595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/553900186","html_url":"https://github.com/apache/singa/pull/552#issuecomment-553900186","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":553900186,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzkwMDE4Ng==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T14:00:13Z","updated_at":"2019-11-26T02:43:20Z","author_association":"CONTRIBUTOR","body":"For example, it is something like this (the following is for reference which is not tested):\r\n\r\n1. In math_kernal.h, it may be like this:\r\n\r\nvoid softsign(const size_t n, const float *in, float *out, cudaStream_t s);\r\n\r\n2. In math_kernal.cu, it may be like this:\r\n\r\n__global__ void KernelSoftsign(const size_t n, const float *in, float *out) {\r\n  for (int i = blockIdx.x * blockDim.x + threadIdx.x; i < n;\r\n       i += blockDim.x * gridDim.x) {\r\n    out[i] = in[i] / (std::fabsf(in[i]) + 1);\r\n  }\r\n}\r\n\r\nvoid softsign(const size_t n, const float *in, float *out, cudaStream_t s) {\r\n  KernelSoftsign <<<ceil(n / CU1DBLOCKF), CU1DBLOCKF, 0, s>>> (n, in, out);\r\n}\r\n\r\nMore accurately, you may try this fabsf in the cuda math api\r\nhttps://docs.nvidia.com/cuda/cuda-math-api/group__CUDA__MATH__SINGLE.html#group__CUDA__MATH__SINGLE_1gb00f8593e1bfb1985526020fbec4e0fc","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/553900186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/553999136","html_url":"https://github.com/apache/singa/pull/552#issuecomment-553999136","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":553999136,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzk5OTEzNg==","user":{"login":"Wentong-DST","id":12691166,"node_id":"MDQ6VXNlcjEyNjkxMTY2","avatar_url":"https://avatars.githubusercontent.com/u/12691166?v=4","gravatar_id":"","url":"https://api.github.com/users/Wentong-DST","html_url":"https://github.com/Wentong-DST","followers_url":"https://api.github.com/users/Wentong-DST/followers","following_url":"https://api.github.com/users/Wentong-DST/following{/other_user}","gists_url":"https://api.github.com/users/Wentong-DST/gists{/gist_id}","starred_url":"https://api.github.com/users/Wentong-DST/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wentong-DST/subscriptions","organizations_url":"https://api.github.com/users/Wentong-DST/orgs","repos_url":"https://api.github.com/users/Wentong-DST/repos","events_url":"https://api.github.com/users/Wentong-DST/events{/privacy}","received_events_url":"https://api.github.com/users/Wentong-DST/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T17:43:42Z","updated_at":"2019-11-14T17:43:42Z","author_association":"CONTRIBUTOR","body":"Hi @chrishkchris , I have added code as suggested, however, I still observe some errors while running tests. \r\nSo I paste logs here, please advise, thanks!\r\n```\r\n[ 98%] Building CXX object test/CMakeFiles/test_singa.dir/singa/test_tensor_math.cc.o\r\n[ 99%] Building CXX object test/CMakeFiles/test_singa.dir/singa/test_textfile_rw.cc.o\r\n[100%] Building CXX object test/CMakeFiles/test_singa.dir/singa/test_timer.cc.o\r\n/content/incubator-singa/test/singa/test_tensor_math.cc: In member function ‘virtual void TensorMath_SoftPlusCpp_Test::TestBody()’:\r\n/content/incubator-singa/test/singa/test_tensor_math.cc:130:14: error: ‘SoftPlus’ was not declared in this scope\r\n   Tensor p = SoftPlus(cc);\r\n              ^~~~~~~~\r\n/content/incubator-singa/test/singa/test_tensor_math.cc: In member function ‘virtual void TensorMath_SoftSignCpp_Test::TestBody()’:\r\n/content/incubator-singa/test/singa/test_tensor_math.cc:143:14: error: ‘SoftSign’ was not declared in this scope\r\n   Tensor p = SoftSign(cc);\r\n              ^~~~~~~~\r\n/content/incubator-singa/test/singa/test_tensor_math.cc:143:14: note: suggested alternative: ‘copysign’\r\n   Tensor p = SoftSign(cc);\r\n              ^~~~~~~~\r\n              copysign\r\n/content/incubator-singa/test/singa/test_tensor_math.cc: In member function ‘virtual void TensorMath_SoftPlusCuda_Test::TestBody()’:\r\n/content/incubator-singa/test/singa/test_tensor_math.cc:1238:12: error: ‘SoftPlus’ was not declared in this scope\r\n   auto y = SoftPlus(x);\r\n            ^~~~~~~~\r\n/content/incubator-singa/test/singa/test_tensor_math.cc:1242:30: error: expected primary-expression before ‘float’\r\n   const float *dptr = y.data<float>();\r\n                              ^~~~~\r\n/content/incubator-singa/test/singa/test_tensor_math.cc: In member function ‘virtual void TensorMath_SoftSignCuda_Test::TestBody()’:\r\n/content/incubator-singa/test/singa/test_tensor_math.cc:1253:12: error: ‘SoftSign’ was not declared in this scope\r\n   auto y = SoftSign(x);\r\n            ^~~~~~~~\r\n/content/incubator-singa/test/singa/test_tensor_math.cc:1253:12: note: suggested alternative: ‘copysign’\r\n   auto y = SoftSign(x);\r\n            ^~~~~~~~\r\n            copysign\r\n/content/incubator-singa/test/singa/test_tensor_math.cc:1257:30: error: expected primary-expression before ‘float’\r\n   const float *dptr = y.data<float>();\r\n                              ^~~~~\r\n```","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/553999136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/554126176","html_url":"https://github.com/apache/singa/pull/552#issuecomment-554126176","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":554126176,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDEyNjE3Ng==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T23:08:10Z","updated_at":"2019-11-26T02:44:50Z","author_association":"CONTRIBUTOR","body":"In the test case, you used the tensor function which output a tensor p with a input tensor cc, but the function cannot be found in tensor.h. You can add the function in tensor.h and tensor.cc, using the designed language switch as other functions did to switch it using either cpu or cuda functions depending on the device. You can see how other functions did (e.g. relu), from higher layer (tensor.cc) to lower layer (tensor_math_cpp.h and tensor_math_cuda.h depends on the device type).\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/554126176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/554618286","html_url":"https://github.com/apache/singa/pull/552#issuecomment-554618286","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":554618286,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDYxODI4Ng==","user":{"login":"Wentong-DST","id":12691166,"node_id":"MDQ6VXNlcjEyNjkxMTY2","avatar_url":"https://avatars.githubusercontent.com/u/12691166?v=4","gravatar_id":"","url":"https://api.github.com/users/Wentong-DST","html_url":"https://github.com/Wentong-DST","followers_url":"https://api.github.com/users/Wentong-DST/followers","following_url":"https://api.github.com/users/Wentong-DST/following{/other_user}","gists_url":"https://api.github.com/users/Wentong-DST/gists{/gist_id}","starred_url":"https://api.github.com/users/Wentong-DST/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wentong-DST/subscriptions","organizations_url":"https://api.github.com/users/Wentong-DST/orgs","repos_url":"https://api.github.com/users/Wentong-DST/repos","events_url":"https://api.github.com/users/Wentong-DST/events{/privacy}","received_events_url":"https://api.github.com/users/Wentong-DST/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-16T08:54:10Z","updated_at":"2019-11-16T08:54:10Z","author_association":"CONTRIBUTOR","body":"Hi @chrishkchris , I have added two functions to header file of tensor, built and passed the test.\r\nPlease help verify. Thanks for pointing out!","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/554618286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/554625840","html_url":"https://github.com/apache/singa/pull/552#issuecomment-554625840","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":554625840,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDYyNTg0MA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-16T10:45:43Z","updated_at":"2019-11-26T02:43:07Z","author_association":"CONTRIBUTOR","body":"This is the running result of test case:\r\n\r\n```\r\nubuntu@ip-172-31-16-93:~/incubator-singa/build/bin$ ./test_singa\r\nRunning main() from gtest_main.cc\r\n[==========] Running 242 tests from 48 test cases.\r\n[----------] Global test environment set-up.\r\n\r\n[----------] 71 tests from TensorMath\r\n.\r\n.\r\n.\r\n[ RUN      ] TensorMath.SignCpp\r\n[       OK ] TensorMath.SignCpp (0 ms)\r\n[ RUN      ] TensorMath.SoftPlusCpp\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:127: Failure\r\nThe difference between 0.0f and dptr[0] is 1, which exceeds 1e-5, where\r\n0.0f evaluates to 0,\r\ndptr[0] evaluates to 1, and\r\n1e-5 evaluates to 1.0000000000000001e-05.\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:128: Failure\r\nThe difference between 1.0f and dptr[1] is 1, which exceeds 1e-5, where\r\n1.0f evaluates to 1,\r\ndptr[1] evaluates to 2, and\r\n1e-5 evaluates to 1.0000000000000001e-05.\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:132: Failure\r\nValue of: dptr1[0]\r\n  Actual: 0.693147\r\nExpected: log(2.0f)\r\nWhich is: 0.693147\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:133: Failure\r\nValue of: dptr1[1]\r\n  Actual: 1.31326\r\nExpected: log(exp(1) + 1.0f)\r\nWhich is: 1.31326\r\n[  FAILED  ] TensorMath.SoftPlusCpp (0 ms)\r\n[ RUN      ] TensorMath.SoftSignCpp\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:140: Failure\r\nThe difference between 0.0f and dptr[0] is 1, which exceeds 1e-5, where\r\n0.0f evaluates to 0,\r\ndptr[0] evaluates to 1, and\r\n1e-5 evaluates to 1.0000000000000001e-05.\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:141: Failure\r\nThe difference between 1.0f and dptr[1] is 1, which exceeds 1e-5, where\r\n1.0f evaluates to 1,\r\ndptr[1] evaluates to 2, and\r\n1e-5 evaluates to 1.0000000000000001e-05.\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:146: Failure\r\nValue of: dptr1[1]\r\n  Actual: 0.5\r\nExpected: 1.0f / 3\r\nWhich is: 0.333333\r\n[  FAILED  ] TensorMath.SoftSignCpp (0 ms)\r\n.\r\n.\r\n.\r\n[ RUN      ] TensorMath.BroadcastCuda\r\n[       OK ] TensorMath.BroadcastCuda (6 ms)\r\n[ RUN      ] TensorMath.SoftPlusCuda\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:1243: Failure\r\nValue of: log(2.0f)\r\n  Actual: 0.693147\r\nExpected: dptr[0]\r\nWhich is: 0.693147\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:1244: Failure\r\nValue of: log(exp(1) + 1.0f)\r\n  Actual: 1.31326\r\nExpected: dptr[1]\r\nWhich is: 1.31326\r\n[  FAILED  ] TensorMath.SoftPlusCuda (5 ms)\r\n[ RUN      ] TensorMath.SoftSignCuda\r\n/home/ubuntu/incubator-singa/test/singa/test_tensor_math.cc:1259: Failure\r\nValue of: 1.0f / 3\r\n  Actual: 0.333333\r\nExpected: dptr[1]\r\nWhich is: 0.5\r\n[  FAILED  ] TensorMath.SoftSignCuda (5 ms)\r\n.\r\n.\r\n.\r\n[----------] 71 tests from TensorMath (188 ms total)\r\n.\r\n.\r\n.\r\n[----------] Global test environment tear-down\r\n[==========] 242 tests from 48 test cases ran. (59883 ms total)\r\n[  PASSED  ] 238 tests.\r\n[  FAILED  ] 4 tests, listed below:\r\n[  FAILED  ] TensorMath.SoftPlusCpp\r\n[  FAILED  ] TensorMath.SoftSignCpp\r\n[  FAILED  ] TensorMath.SoftPlusCuda\r\n[  FAILED  ] TensorMath.SoftSignCuda\r\n\r\n 4 FAILED TESTS\r\n```\r\nPlease check the complete logic of the test cases SoftPlus, SoftSign using the definition of the softplus and softsign. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/554625840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/554627773","html_url":"https://github.com/apache/singa/pull/552#issuecomment-554627773","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":554627773,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDYyNzc3Mw==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-16T11:17:20Z","updated_at":"2019-11-26T02:42:54Z","author_association":"CONTRIBUTOR","body":"For example, you can consider the logic as follows:\r\naa=a is {1.0f, 2.0f, 3.0f, 4.0f, 5.0f, 6.0f}\r\nso cc=aa-3.0f is {-2.0f, 1.0f, 0.0f, 1.0f, 2.0f, 3.0f}\r\np = SoftPlus(cc)\r\nand finally uses  EXPECT_NEAR to check if it is near log(exp(input)) + 1.0f\r\nThis is an example:\r\n```\r\nTEST_F(TensorMath, SoftPlusCpp) {\r\n  Tensor aa = a.Clone();\r\n  Tensor cc = aa - 3.0f;\r\n  const float *dptr = cc.data<float>();\r\n  EXPECT_NEAR(-2.0f, dptr[0], 1e-5);\r\n  EXPECT_NEAR(-1.0f, dptr[1], 1e-5);\r\n  EXPECT_NEAR(0.0f, dptr[2], 1e-5);\r\n\r\n  Tensor p = SoftPlus(cc);\r\n  const float *dptr1 = p.data<float>();\r\n  EXPECT_NEAR(log(exp(-2.0f) + 1.0f), dptr1[0], 1e-5);\r\n  EXPECT_NEAR(log(exp(-1.0f) + 1.0f), dptr1[1], 1e-5);\r\n  EXPECT_NEAR(log(exp(0.0f) + 1.0f), dptr1[2], 1e-5);\r\n  EXPECT_NEAR(log(exp(1.0f) + 1.0f), dptr1[3], 1e-5);\r\n  EXPECT_NEAR(log(exp(2.0f) + 1.0f), dptr1[4], 1e-5);\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/554627773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/555047048","html_url":"https://github.com/apache/singa/pull/559#issuecomment-555047048","issue_url":"https://api.github.com/repos/apache/singa/issues/559","id":555047048,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTA0NzA0OA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-18T14:48:13Z","updated_at":"2019-11-18T14:48:13Z","author_association":"CONTRIBUTOR","body":"Concerning the above comments, the following is amended in how-to-release.rst : \r\n\r\n1. Line89*:   svn add to “dist/release/singa”\r\n\r\n2. Line113*: https://dist.apache.org/repos/dist/dev/singa/apache-singa-X.Y.Z-rcN/\r\n\r\n**Notes for follow-up: Note that in https://dist.apache.org/, the directories /repos/dist/dev/singa and /repos/dist/release/singa should be create first because they do not exist now.)**\r\n\r\n3. The whole section on \"Prepare DISCLAIMER file\" is removed, and the\r\nDISCLAIMER was removed from the \"Package the release\" section.\r\n\r\n4. The whole section \"Call for a vote in Apache IPMC\" is removed. There is only one vote required in singa dev mail list.\r\n\r\n5. The statement \"He should first ask the mentor to help signing his key\" is removed.\r\n\r\n**Notes: The management ppl may further consider updating/adding the keys needed for the new releases (related to SINGA-456 or #530)** \r\n\r\nThanks a lots to @moazreyad for providing all the information.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/555047048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/555543615","html_url":"https://github.com/apache/singa/pull/557#issuecomment-555543615","issue_url":"https://api.github.com/repos/apache/singa/issues/557","id":555543615,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTU0MzYxNQ==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T14:53:58Z","updated_at":"2019-11-19T14:53:58Z","author_association":"MEMBER","body":"ready to merge","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/555543615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/555872515","html_url":"https://github.com/apache/singa/pull/541#issuecomment-555872515","issue_url":"https://api.github.com/repos/apache/singa/issues/541","id":555872515,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTg3MjUxNQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-20T07:17:57Z","updated_at":"2019-11-20T07:17:57Z","author_association":"MEMBER","body":"Hi @nudles , @joddiy , conflicts are resolved.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/555872515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/558432861","html_url":"https://github.com/apache/singa/pull/552#issuecomment-558432861","issue_url":"https://api.github.com/repos/apache/singa/issues/552","id":558432861,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODQzMjg2MQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T02:40:04Z","updated_at":"2019-11-26T02:40:04Z","author_association":"CONTRIBUTOR","body":"Thanks! I have double checked by building and running the test cases, where no problem is found. The code looks good to me (LGTM) and my review is completed. \r\n\r\n```\r\nubuntu@ip-172-31-36-70:~/incubator-singa/build/bin$ ./test_singa\r\nRunning main() from gtest_main.cc\r\n[==========] Running 242 tests from 48 test cases.\r\n[----------] Global test environment set-up.\r\n\r\n.\r\n.\r\n.\r\n\r\n[ RUN      ] TensorMath.SoftPlusCuda\r\n[       OK ] TensorMath.SoftPlusCuda (6 ms)\r\n[ RUN      ] TensorMath.SoftSignCuda\r\n[       OK ] TensorMath.SoftSignCuda (5 ms)\r\n[----------] 71 tests from TensorMath (194 ms total)\r\n\r\n.\r\n.\r\n.\r\n\r\n[----------] Global test environment tear-down\r\n[==========] 242 tests from 48 test cases ran. (60064 ms total)\r\n[  PASSED  ] 242 tests.\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/558432861/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/558742160","html_url":"https://github.com/apache/singa/pull/545#issuecomment-558742160","issue_url":"https://api.github.com/repos/apache/singa/issues/545","id":558742160,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODc0MjE2MA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T17:43:53Z","updated_at":"2019-11-26T17:43:53Z","author_association":"MEMBER","body":"@dcslin Hi, shicong, please check the singa op of Pow(both cpu and gpu) and Div(only gpu). The pow doesn't have the correct result. And for the div op of gpu, the result of a/b is different from a*(b^-1)","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/558742160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/558919970","html_url":"https://github.com/apache/singa/pull/548#issuecomment-558919970","issue_url":"https://api.github.com/repos/apache/singa/issues/548","id":558919970,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODkxOTk3MA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T04:10:32Z","updated_at":"2019-11-27T04:10:32Z","author_association":"MEMBER","body":"HI @nudles , conflicts are resolved can ready for merge.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/558919970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/559392671","html_url":"https://github.com/apache/singa/pull/545#issuecomment-559392671","issue_url":"https://api.github.com/repos/apache/singa/issues/545","id":559392671,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTM5MjY3MQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-28T08:32:54Z","updated_at":"2019-11-28T08:32:54Z","author_association":"MEMBER","body":"Hi @joddiy kindly help to review https://github.com/apache/singa/pull/565\r\nmuch appreciated.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/559392671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/559415745","html_url":"https://github.com/apache/singa/pull/565#issuecomment-559415745","issue_url":"https://api.github.com/repos/apache/singa/issues/565","id":559415745,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTQxNTc0NQ==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-28T09:33:21Z","updated_at":"2019-11-28T09:33:21Z","author_association":"MEMBER","body":"Hi, @dcslin it works fine, however, I saw a little difference between the results of numpy and singa(for pow based gpu and div based cpu).\r\n```\r\nMismatch: 10%\r\nMax absolute difference: 0.00073242\r\nMax relative difference: 5.9753495e-07\r\n x: array([[-3.58730e+01, -9.22379e+03, -1.86656e+00,  1.22574e+03,\r\n         1.13451e-01],\r\n       [ 3.81203e+00, -1.25024e+01, -1.21589e+00,  1.68196e-01,...\r\n y: array([[-3.58730e+01, -9.22379e+03, -1.86656e+00,  1.22574e+03,\r\n         1.13451e-01],\r\n       [ 3.81203e+00, -1.25024e+01, -1.21589e+00,  1.68196e-01,...\r\n```\r\nNot too big, I guess the problem is caused by floating-point precision, is that ok? @nudles ","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/559415745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/559634743","html_url":"https://github.com/apache/singa/pull/565#issuecomment-559634743","issue_url":"https://api.github.com/repos/apache/singa/issues/565","id":559634743,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTYzNDc0Mw==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-29T01:59:17Z","updated_at":"2019-11-29T01:59:17Z","author_association":"MEMBER","body":"HI @joddiy ,thanks for the info, I added cpu tests, it works for me: https://github.com/apache/singa/pull/565/commits/14ab364c046411bc40de4ce823c00f069bef2150\r\n\r\nmaybe can share your test case?","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/559634743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/559638167","html_url":"https://github.com/apache/singa/pull/565#issuecomment-559638167","issue_url":"https://api.github.com/repos/apache/singa/issues/565","id":559638167,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTYzODE2Nw==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-29T02:23:35Z","updated_at":"2019-11-29T02:24:23Z","author_association":"MEMBER","body":"For div based cpu\r\n```\r\ndev = cpu_dev\r\ncases = [\r\n    ([3, 4, 5], [5]),  # 3d vs 1d\r\n    ([3, 4, 5], [4, 5]),  # 3d vs 2d\r\n    ([3, 4, 5, 6], [5, 6]),  # 4d vs 2d\r\n    ([3, 4, 5, 6], [4, 5, 6]),  # 4d vs 3d\r\n    ([1, 4, 1, 6], [3, 1, 5, 6])  # 4d vs 4d\r\n]\r\nfor in1, in2 in cases:\r\n    x = np.random.randn(*in1).astype(np.float32)\r\n    x1 = np.random.randn(*in2).astype(np.float32) + 1.0\r\n    y = x / x1\r\n\r\n    dy = np.random.randn(*y.shape).astype(np.float32)\r\n    grad0 = np.sum(np.power(x1, -1) * dy, axis=axis_helper(y.shape, x.shape)).reshape(x.shape)\r\n    grad1 = np.sum(x * - np.power(x1, -2) * dy, axis=axis_helper(y.shape, x1.shape)).reshape(x1.shape)\r\n    \r\n    x = tensor.from_numpy(x)\r\n    x1 = tensor.from_numpy(x1)\r\n    dy = tensor.from_numpy(dy)\r\n    x.to_device(dev)\r\n    x1.to_device(dev)\r\n    dy.to_device(dev)\r\n\r\n    result = autograd.div(x,x1)\r\n    dx0,dx1 = result.creator.backward(dy.data)\r\n    np.testing.assert_array_almost_equal(tensor.to_numpy(result), y, decimal=5)\r\n    np.testing.assert_array_almost_equal(tensor.to_numpy(tensor.from_raw_tensor(dx0)), grad0, decimal=5)\r\n    np.testing.assert_array_almost_equal(tensor.to_numpy(tensor.from_raw_tensor(dx1)), grad1, decimal=5)\r\n```\r\n\r\nFor pow based gpu\r\n```\r\ndev = gpu_dev\r\ncases = [\r\n    ([3, 4, 5], [5]),  # 3d vs 1d\r\n    ([3, 4, 5], [4, 5]),  # 3d vs 2d\r\n    ([3, 4, 5, 6], [5, 6]),  # 4d vs 2d\r\n    ([3, 4, 5, 6], [4, 5, 6]),  # 4d vs 3d\r\n    ([1, 4, 1, 6], [3, 1, 5, 6])  # 4d vs 4d\r\n]\r\nfor in1, in2 in cases:\r\n    x = np.random.randint(1, 10, size=in1).astype(np.float32)\r\n    x1 = np.random.randint(1, 5, size=in2).astype(np.float32)\r\n    y = np.power(x, x1).astype(np.float32)\r\n\r\n    dy = np.random.randn(*y.shape).astype(np.float32)\r\n    grad0 = np.sum(x1 * np.power(x, x1-1) * dy, axis=axis_helper(y.shape, x.shape)).reshape(x.shape)\r\n    grad1 = np.sum(np.power(x, x1) * np.log(x) * dy, axis=axis_helper(y.shape, x1.shape)).reshape(x1.shape)\r\n    \r\n    x = tensor.from_numpy(x)\r\n    x1 = tensor.from_numpy(x1)\r\n    dy = tensor.from_numpy(dy)\r\n    x.to_device(dev)\r\n    x1.to_device(dev)\r\n    dy.to_device(dev)\r\n\r\n    result = autograd.pow(x,x1)\r\n    dx0,dx1 = result.creator.backward(dy.data)\r\n    np.testing.assert_array_almost_equal(tensor.to_numpy(result), y, decimal=5)\r\n    np.testing.assert_array_almost_equal(tensor.to_numpy(tensor.from_raw_tensor(dx0)), grad0, decimal=5)\r\n    np.testing.assert_array_almost_equal(tensor.to_numpy(tensor.from_raw_tensor(dx1)), grad1, decimal=5)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/559638167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/560368997","html_url":"https://github.com/apache/singa/pull/565#issuecomment-560368997","issue_url":"https://api.github.com/repos/apache/singa/issues/565","id":560368997,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDM2ODk5Nw==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T12:08:16Z","updated_at":"2019-12-02T12:08:16Z","author_association":"MEMBER","body":"refactored code to reuse similar structure. kudos to @chrishkchris .","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/560368997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/560370062","html_url":"https://github.com/apache/singa/pull/565#issuecomment-560370062","issue_url":"https://api.github.com/repos/apache/singa/issues/565","id":560370062,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDM3MDA2Mg==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T12:11:34Z","updated_at":"2019-12-02T12:11:34Z","author_association":"MEMBER","body":"Hi @joddiy , I tried these cases, it looks fine at my end(forward pass).. ","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/560370062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/560373413","html_url":"https://github.com/apache/singa/pull/565#issuecomment-560373413","issue_url":"https://api.github.com/repos/apache/singa/issues/565","id":560373413,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDM3MzQxMw==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-02T12:21:45Z","updated_at":"2019-12-02T12:21:45Z","author_association":"MEMBER","body":"Thanks, @dcslin, I think we can merge it firstly.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/560373413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/563935440","html_url":"https://github.com/apache/singa/pull/567#issuecomment-563935440","issue_url":"https://api.github.com/repos/apache/singa/issues/567","id":563935440,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MzkzNTQ0MA==","user":{"login":"FeynmanDNA","id":26617036,"node_id":"MDQ6VXNlcjI2NjE3MDM2","avatar_url":"https://avatars.githubusercontent.com/u/26617036?v=4","gravatar_id":"","url":"https://api.github.com/users/FeynmanDNA","html_url":"https://github.com/FeynmanDNA","followers_url":"https://api.github.com/users/FeynmanDNA/followers","following_url":"https://api.github.com/users/FeynmanDNA/following{/other_user}","gists_url":"https://api.github.com/users/FeynmanDNA/gists{/gist_id}","starred_url":"https://api.github.com/users/FeynmanDNA/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FeynmanDNA/subscriptions","organizations_url":"https://api.github.com/users/FeynmanDNA/orgs","repos_url":"https://api.github.com/users/FeynmanDNA/repos","events_url":"https://api.github.com/users/FeynmanDNA/events{/privacy}","received_events_url":"https://api.github.com/users/FeynmanDNA/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-10T09:04:01Z","updated_at":"2019-12-10T09:04:01Z","author_association":"CONTRIBUTOR","body":"@nudles i have made a few relevant updates to this PR","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/563935440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/564469576","html_url":"https://github.com/apache/singa/pull/566#issuecomment-564469576","issue_url":"https://api.github.com/repos/apache/singa/issues/566","id":564469576,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDQ2OTU3Ng==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-11T10:05:35Z","updated_at":"2019-12-11T10:05:35Z","author_association":"CONTRIBUTOR","body":"I will need more time to study it, so I close it first and reopen when it is ready. I will do more important thing first.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/564469576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/564936208","html_url":"https://github.com/apache/singa/pull/534#issuecomment-564936208","issue_url":"https://api.github.com/repos/apache/singa/issues/534","id":564936208,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDkzNjIwOA==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-12T10:01:15Z","updated_at":"2019-12-12T10:01:15Z","author_association":"MEMBER","body":"ready to merge, please help check @nudles. And I removed the test cases for example models. I'll start a new Jira for it.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/564936208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/566968225","html_url":"https://github.com/apache/singa/pull/566#issuecomment-566968225","issue_url":"https://api.github.com/repos/apache/singa/issues/566","id":566968225,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Njk2ODIyNQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-18T10:16:29Z","updated_at":"2019-12-18T10:19:03Z","author_association":"CONTRIBUTOR","body":"I have improved the code.\r\nA Resnet-50 throughput test using AWS p2.x8large up to 4 instances or 32 K80 GPUs:\r\nsgd.backward_and_spars_update(loss, spars = 0.05, topK = False, corr = True)\r\n![test](https://user-images.githubusercontent.com/38325429/71077365-3c769d80-21c2-11ea-9123-67725bebf222.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/566968225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/567420751","html_url":"https://github.com/apache/singa/pull/568#issuecomment-567420751","issue_url":"https://api.github.com/repos/apache/singa/issues/568","id":567420751,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzQyMDc1MQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-19T09:58:57Z","updated_at":"2019-12-19T09:58:57Z","author_association":"CONTRIBUTOR","body":"updated based on google python style guide http://google.github.io/styleguide/pyguide.html","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/567420751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/570031000","html_url":"https://github.com/apache/singa/pull/567#issuecomment-570031000","issue_url":"https://api.github.com/repos/apache/singa/issues/567","id":570031000,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDAzMTAwMA==","user":{"login":"nudles","id":3797447,"node_id":"MDQ6VXNlcjM3OTc0NDc=","avatar_url":"https://avatars.githubusercontent.com/u/3797447?v=4","gravatar_id":"","url":"https://api.github.com/users/nudles","html_url":"https://github.com/nudles","followers_url":"https://api.github.com/users/nudles/followers","following_url":"https://api.github.com/users/nudles/following{/other_user}","gists_url":"https://api.github.com/users/nudles/gists{/gist_id}","starred_url":"https://api.github.com/users/nudles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nudles/subscriptions","organizations_url":"https://api.github.com/users/nudles/orgs","repos_url":"https://api.github.com/users/nudles/repos","events_url":"https://api.github.com/users/nudles/events{/privacy}","received_events_url":"https://api.github.com/users/nudles/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-01T07:33:58Z","updated_at":"2020-01-01T07:33:58Z","author_association":"MEMBER","body":"@FeynmanDNA  could you submit the PR to singa-doc repo? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/570031000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/570033503","html_url":"https://github.com/apache/singa/pull/567#issuecomment-570033503","issue_url":"https://api.github.com/repos/apache/singa/issues/567","id":570033503,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDAzMzUwMw==","user":{"login":"FeynmanDNA","id":26617036,"node_id":"MDQ6VXNlcjI2NjE3MDM2","avatar_url":"https://avatars.githubusercontent.com/u/26617036?v=4","gravatar_id":"","url":"https://api.github.com/users/FeynmanDNA","html_url":"https://github.com/FeynmanDNA","followers_url":"https://api.github.com/users/FeynmanDNA/followers","following_url":"https://api.github.com/users/FeynmanDNA/following{/other_user}","gists_url":"https://api.github.com/users/FeynmanDNA/gists{/gist_id}","starred_url":"https://api.github.com/users/FeynmanDNA/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FeynmanDNA/subscriptions","organizations_url":"https://api.github.com/users/FeynmanDNA/orgs","repos_url":"https://api.github.com/users/FeynmanDNA/repos","events_url":"https://api.github.com/users/FeynmanDNA/events{/privacy}","received_events_url":"https://api.github.com/users/FeynmanDNA/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-01T08:23:18Z","updated_at":"2020-01-01T08:23:18Z","author_association":"CONTRIBUTOR","body":"@nudles hi prof, do you mean this repo https://github.com/apache/singa-doc","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/570033503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/573529987","html_url":"https://github.com/apache/singa/pull/570#issuecomment-573529987","issue_url":"https://api.github.com/repos/apache/singa/issues/570","id":573529987,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzUyOTk4Nw==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T06:50:04Z","updated_at":"2020-01-13T06:50:04Z","author_association":"MEMBER","body":"Hi @nudles, thanks for the review, this is ready for merge.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/573529987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/573563409","html_url":"https://github.com/apache/singa/pull/572#issuecomment-573563409","issue_url":"https://api.github.com/repos/apache/singa/issues/572","id":573563409,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzU2MzQwOQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T08:54:45Z","updated_at":"2020-01-13T08:54:45Z","author_association":"MEMBER","body":"Hi @chrishkchris , thank you for pointing this out. could you please help on testing at your side?","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/573563409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/573564015","html_url":"https://github.com/apache/singa/pull/572#issuecomment-573564015","issue_url":"https://api.github.com/repos/apache/singa/issues/572","id":573564015,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzU2NDAxNQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T08:56:42Z","updated_at":"2020-01-13T08:56:42Z","author_association":"CONTRIBUTOR","body":"thanks. I will test soon","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/573564015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/573575646","html_url":"https://github.com/apache/singa/pull/572#issuecomment-573575646","issue_url":"https://api.github.com/repos/apache/singa/issues/572","id":573575646,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzU3NTY0Ng==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T09:31:16Z","updated_at":"2020-01-13T09:45:10Z","author_association":"CONTRIBUTOR","body":"@dcslin  I tested the examples/autograd/mlp.py (multilayer perception) and there is such error:\r\n```\r\nubuntu@ip-172-31-26-47:~/singa/examples/autograd$ python3 mlp.py\r\ntrain_data_shape: (400, 2)\r\ntrain_label_shape: (400, 2)\r\ntraining loss =  6.682101\r\nWARNING: Logging before InitGoogleLogging() is written to STDERR\r\nF0113 09:20:05.180658 12032 tensor_math_cpp.h:357] Check failed: a > 0.f (-nan vs. 0)\r\n*** Check failure stack trace: ***\r\nAborted (core dumped)\r\n```\r\nHowever if I use softmax_cross_entropy instead of softmax + cross_entropy it will be totally okay, i.e.\r\nloss = autograd.softmax_cross_entropy(x, target)\r\n(note: softmax_cross_entropy does not use axis)\r\nThe good output will be:\r\n```\r\nubuntu@ip-172-31-26-47:~/singa/examples/autograd$ python3 mlp.py\r\ntrain_data_shape: (400, 2)\r\ntrain_label_shape: (400, 2)\r\ntraining loss =  0.6908062\r\ntraining loss =  0.5960194\r\ntraining loss =  0.57797414\r\ntraining loss =  0.55334115\r\ntraining loss =  0.48568404\r\ntraining loss =  0.38458923\r\ntraining loss =  0.30776194\r\ntraining loss =  0.24188559\r\ntraining loss =  0.18657134\r\ntraining loss =  0.15864176\r\ntraining loss =  0.13929243\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/573575646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/573585580","html_url":"https://github.com/apache/singa/pull/572#issuecomment-573585580","issue_url":"https://api.github.com/repos/apache/singa/issues/572","id":573585580,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzU4NTU4MA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T09:59:31Z","updated_at":"2020-01-13T09:59:51Z","author_association":"CONTRIBUTOR","body":"@dcslin  Another observation: in mnist_cnn.py, if I change softmax_cross_entropy to softmax + cross_entropy, it fails no matter what the axis is selected for SoftMax\r\n```\r\nubuntu@ip-172-31-26-47:~/singa/examples/autograd$ python3 mnist_cnn.py\r\nStarting Epoch 0:\r\nWARNING: Logging before InitGoogleLogging() is written to STDERR\r\nF0113 09:57:47.470569 14016 tensor_math_cpp.h:357] Check failed: a > 0.f (0 vs. 0)\r\n*** Check failure stack trace: ***\r\nAborted (core dumped)\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/573585580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/574022539","html_url":"https://github.com/apache/singa/pull/572#issuecomment-574022539","issue_url":"https://api.github.com/repos/apache/singa/issues/572","id":574022539,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDAyMjUzOQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T06:22:28Z","updated_at":"2020-01-14T06:22:28Z","author_association":"CONTRIBUTOR","body":"@dcslin \r\nI used a simple test code to compare with pytorch when the input vector is of the size [1, 5]. \r\nThe output is the same as pytorch. I suppose the difference maybe from cross_entropy.\r\n\r\n1. singa\r\nubuntu@ip-172-31-26-47:~$ python3 softmaxtest.py\r\nx = [1. 3. 5. 7. 9.]\r\ndy = [1. 3. 5. 7. 9.]\r\ny = [[2.9007587e-04 2.1433870e-03 1.5837606e-02 1.1702495e-01 8.6470395e-01]]\r\ndx = [[-0.00222993 -0.01219034 -0.05839987 -0.19747007  0.27029037]]\r\n\r\n2. pytorch\r\n(pytorch_p36) ubuntu@ip-172-31-16-63:~/pytorch_ops_test$ python softmaxtest.py\r\nx = [[1. 3. 5. 7. 9.]]\r\ndy = [[1. 3. 5. 7. 9.]]\r\ny = [2.9007587e-04 2.1433870e-03 1.5837606e-02 1.1702495e-01 8.6470395e-01]\r\ndx = [-0.00222993 -0.01219034 -0.05839989 -0.19747011  0.27029008]\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/574022539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/574032271","html_url":"https://github.com/apache/singa/pull/572#issuecomment-574032271","issue_url":"https://api.github.com/repos/apache/singa/issues/572","id":574032271,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDAzMjI3MQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T06:58:08Z","updated_at":"2020-01-14T06:58:08Z","author_association":"CONTRIBUTOR","body":"To sum up, this PR fixed the cpp SoftMax not implemented error. After checking the result with pytorch, it is okay.\r\nSo this fix is ready for merge.\r\nSome future work maybe to check cross_entropy","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/574032271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/574033048","html_url":"https://github.com/apache/singa/pull/572#issuecomment-574033048","issue_url":"https://api.github.com/repos/apache/singa/issues/572","id":574033048,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDAzMzA0OA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-14T07:00:52Z","updated_at":"2020-01-14T07:00:52Z","author_association":"MEMBER","body":"Hi @chrishkchris , thank you the fix on mlp.py","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/574033048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/576290418","html_url":"https://github.com/apache/singa/pull/575#issuecomment-576290418","issue_url":"https://api.github.com/repos/apache/singa/issues/575","id":576290418,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjI5MDQxOA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T14:09:31Z","updated_at":"2020-01-20T14:09:31Z","author_association":"MEMBER","body":"waiting for the result","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/576290418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/576306923","html_url":"https://github.com/apache/singa/pull/575#issuecomment-576306923","issue_url":"https://api.github.com/repos/apache/singa/issues/575","id":576306923,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjMwNjkyMw==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-20T14:48:32Z","updated_at":"2020-01-20T14:48:32Z","author_association":"MEMBER","body":"Build failed as expected. Next will work on adding more pylint rules, and fix the code.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/576306923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/576577786","html_url":"https://github.com/apache/singa/pull/577#issuecomment-576577786","issue_url":"https://api.github.com/repos/apache/singa/issues/577","id":576577786,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjU3Nzc4Ng==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-21T08:46:03Z","updated_at":"2020-01-21T08:46:47Z","author_association":"CONTRIBUTOR","body":"Some examples running using a T4 GPU:\r\n```\r\nubuntu@ip-172-31-17-75:~/singa/examples/autograd$ python3 mlp.py\r\ntrain_data_shape: (400, 2)\r\ntrain_label_shape: (400, 2)\r\ntraining loss =  0.6908968\r\ntraining loss =  0.59333104\r\ntraining loss =  0.5687339\r\ntraining loss =  0.5405281\r\ntraining loss =  0.46624574\r\ntraining loss =  0.35966498\r\ntraining loss =  0.28517348\r\ntraining loss =  0.23358232\r\ntraining loss =  0.19751398\r\ntraining loss =  0.17123318\r\ntraining loss =  0.15162155\r\nubuntu@ip-172-31-17-75:~/singa/examples/autograd$ python3 mnist_cnn.py\r\nStarting Epoch 0:\r\nTraining loss = 585.281616, training accuracy = 0.791572\r\nEvaluation accuracy = 0.940204, Elapsed Time = 2.901998s\r\nStarting Epoch 1:\r\nTraining loss = 234.667984, training accuracy = 0.920758\r\nEvaluation accuracy = 0.961839, Elapsed Time = 2.898471s\r\nStarting Epoch 2:\r\nTraining loss = 168.530197, training accuracy = 0.943420\r\nEvaluation accuracy = 0.970753, Elapsed Time = 2.903471s\r\nStarting Epoch 3:\r\nTraining loss = 137.636353, training accuracy = 0.953875\r\nEvaluation accuracy = 0.974860, Elapsed Time = 2.908554s\r\nStarting Epoch 4:\r\nTraining loss = 118.752136, training accuracy = 0.959779\r\nEvaluation accuracy = 0.971955, Elapsed Time = 2.916549s\r\nStarting Epoch 5:\r\nTraining loss = 105.220406, training accuracy = 0.964131\r\nEvaluation accuracy = 0.974359, Elapsed Time = 2.926336s\r\nStarting Epoch 6:\r\nTraining loss = 95.145279, training accuracy = 0.968350\r\nEvaluation accuracy = 0.980569, Elapsed Time = 2.918108s\r\nStarting Epoch 7:\r\nTraining loss = 86.757538, training accuracy = 0.971251\r\nEvaluation accuracy = 0.982572, Elapsed Time = 2.920413s\r\nStarting Epoch 8:\r\nTraining loss = 81.706383, training accuracy = 0.972252\r\nEvaluation accuracy = 0.984075, Elapsed Time = 2.924388s\r\nStarting Epoch 9:\r\nTraining loss = 77.409966, training accuracy = 0.973769\r\nEvaluation accuracy = 0.981270, Elapsed Time = 2.929271s\r\nubuntu@ip-172-31-17-75:~/singa/examples/autograd$ python3 resnet.py\r\nStart intialization............\r\n100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 100/100 [00:29<00:00,  3.45it/s]\r\nThroughput = 110.30029570709767 per second\r\nTotal=0.2901170825958252, forward=0.09263657093048096, softmax=0.0016593122482299804, backward=0.19582119941711426, sgd=0.009393131732940674\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/576577786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/576988814","html_url":"https://github.com/apache/singa/issues/576#issuecomment-576988814","issue_url":"https://api.github.com/repos/apache/singa/issues/576","id":576988814,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Njk4ODgxNA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-22T03:17:01Z","updated_at":"2020-01-22T03:19:38Z","author_association":"CONTRIBUTOR","body":"A highlight is why the reshaped tensor have different shape?\r\nsee test_reshape_gpu\r\n\r\nThen, other test failure should be due to very small numerical errors (order of 1e-5) that can be fixed by reducing the number of significant in comparison.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/576988814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/576994134","html_url":"https://github.com/apache/singa/issues/576#issuecomment-576994134","issue_url":"https://api.github.com/repos/apache/singa/issues/576","id":576994134,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Njk5NDEzNA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-22T03:42:35Z","updated_at":"2020-01-22T03:42:35Z","author_association":"MEMBER","body":"should we make travis build fail when encountering errors raised from python unit test?","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/576994134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/576994815","html_url":"https://github.com/apache/singa/issues/576#issuecomment-576994815","issue_url":"https://api.github.com/repos/apache/singa/issues/576","id":576994815,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Njk5NDgxNQ==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-22T03:46:25Z","updated_at":"2020-01-22T03:55:47Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n> should we make travis build fail when encountering errors raised from python unit test?\r\n\r\nIn my opinion, this is a very good feature. However, I am not sure if the machine that runs the test case by travis has GPU.\r\nOn the other hand, this test_operation.py is still important because it lets the developers to check whether the system has any problem after their commits.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/576994815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/577003957","html_url":"https://github.com/apache/singa/issues/576#issuecomment-577003957","issue_url":"https://api.github.com/repos/apache/singa/issues/576","id":577003957,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzAwMzk1Nw==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-22T04:38:31Z","updated_at":"2020-01-22T06:20:44Z","author_association":"CONTRIBUTOR","body":"If I am correct, the reshape is due to the error in backward:\r\n\r\n```\r\nclass Reshape(Operation):\r\n\r\n    def __init__(self,shape):\r\n        super(Reshape, self).__init__()\r\n        if isinstance(shape, tensor.Tensor):\r\n            self.shape = np.asarray(tensor.to_numpy(shape).astype(np.int32)).tolist()\r\n        else:\r\n            self.shape = list(shape)\r\n\r\n    def forward(self, x):\r\n        _shape = x.shape()\r\n        shape = self.shape\r\n        # handle the shape with 0\r\n        shape = [_shape[i] if i < len(_shape) and shape[i] == 0 else shape[i] for i in range(len(shape))]\r\n        # handle the shape with -1\r\n        hidden_shape = int(np.prod(_shape) // np.abs(np.prod(shape)))\r\n        self.cache=[s if s != -1 else hidden_shape for s in shape]\r\n        return singa.Reshape(x, self.cache)\r\n\r\n    def backward(self, dy):\r\n        return singa.Reshape(dy, self.cache)\r\n```\r\n\r\nI think the function should change to \r\n```\r\nclass Reshape(Operation):\r\n    def __init__(self,shape):\r\n        super(Reshape, self).__init__()\r\n        if isinstance(shape, tensor.Tensor):\r\n            self.shape = np.asarray(tensor.to_numpy(shape).astype(np.int32)).tolist()\r\n        else:\r\n            self.shape = list(shape)\r\n\r\n    def forward(self, x):\r\n        self._shape = x.shape()\r\n        shape = self.shape\r\n        # handle the shape with 0\r\n        shape = [self._shape[i] if i < len(self._shape) and shape[i] == 0 else shape[i] for i in range(len(shape))]\r\n        # handle the shape with -1\r\n        hidden_shape = int(np.prod(self._shape) // np.abs(np.prod(shape)))\r\n        self.cache=[s if s != -1 else hidden_shape for s in shape]\r\n\r\n        return singa.Reshape(x, self.cache)\r\n\r\n    def backward(self, dy):\r\n        return singa.Reshape(dy, self._shape)\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/577003957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/577037334","html_url":"https://github.com/apache/singa/issues/576#issuecomment-577037334","issue_url":"https://api.github.com/repos/apache/singa/issues/576","id":577037334,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzAzNzMzNA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-22T07:00:32Z","updated_at":"2020-01-22T07:00:32Z","author_association":"CONTRIBUTOR","body":"To resolve the problem completely, I opened a hotfix at PR #579 ","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/577037334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/577107886","html_url":"https://github.com/apache/singa/pull/580#issuecomment-577107886","issue_url":"https://api.github.com/repos/apache/singa/issues/580","id":577107886,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzEwNzg4Ng==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-22T10:09:51Z","updated_at":"2020-01-22T10:09:51Z","author_association":"CONTRIBUTOR","body":"```\r\nubuntu@ip-172-31-21-156:~/singa/examples/autograd$ python3 mlp3.py\r\ntrain_data_shape: (400, 2)\r\ntrain_label_shape: (400, 2)\r\nEnterEXEC\r\nEnterEXEC\r\nEnterBuffStart, 2\r\nEnterBuffExit\r\nEnterBuffStart, 1\r\nEnterBuffExit\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterBuffStart, 4\r\nEnterBuffExit\r\nEnterBuffStart, 3\r\nEnterBuffExit\r\nEnterBuffStart, 2\r\nEnterBuffExit\r\nEnterBuffStart, 1\r\nEnterBuffExit\r\nEnterEXEC\r\nEnterEXEC\r\nEnterBuffStart, 2\r\nEnterBuffExit\r\nEnterBuffStart, 1\r\nEnterBuffExit\r\n[10. 10.]\r\nEnterEXEC\r\nenter Addrow\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nenter Addrow\r\nEnterEXEC\r\nEnterEXEC\r\nEnterBuffStart, 7\r\nEnterBuffExit\r\nEnterBuffStart, 6\r\nEnterBuffExit\r\nEnterBuffStart, 5\r\nEnterBuffExit\r\nEnterBuffStart, 4\r\nEnterBuffExit\r\nEnterBuffStart, 3\r\nEnterBuffExit\r\nEnterBuffStart, 2\r\nEnterBuffExit\r\nEnterBuffStart, 1\r\nEnterBuffExit\r\nEnterEXEC\r\nEnterEXEC\r\nEnterBuffStart, 2\r\nEnterBuffExit\r\nEnterBuffStart, 1\r\nEnterBuffExit\r\n[30. 30.]\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterBuffStart, 5\r\nenter cpp softmax\r\nimmediately ops\r\nimmediately ops\r\nenter Addrcolumn\r\nimmediately ops\r\nimmediately ops\r\nimmediately ops\r\nimmediately ops\r\nimmediately ops\r\nimmediately ops\r\nimmediately ops\r\nEnterBuffExit\r\nEnterBuffStart, 4\r\nenter cpu crossentropyEnterBuffExit\r\nEnterBuffStart, 3\r\nEnterBuffExit\r\nEnterBuffStart, 2\r\nEnterBuffExit\r\nEnterBuffStart, 1\r\nEnterBuffExit\r\nEnterEXEC\r\nEnterEXEC\r\nEnterBuffStart, 2\r\nEnterBuffExit\r\nEnterBuffStart, 1\r\nEnterBuffExit\r\n0.6931472\r\nstart backward loop\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterEXEC\r\nEnterBuffStart, 16\r\nEnterBuffExit\r\nEnterBuffStart, 15\r\nSegmentation fault (core dumped)\r\n```\r\nSo now I am debugging the backward loop...","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/577107886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/577488473","html_url":"https://github.com/apache/singa/pull/579#issuecomment-577488473","issue_url":"https://api.github.com/repos/apache/singa/issues/579","id":577488473,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzQ4ODQ3Mw==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-23T03:28:39Z","updated_at":"2020-01-23T03:56:18Z","author_association":"CONTRIBUTOR","body":"Here I include three tests when using -DUSE_CUDA=OFF in cmake: (i) Build Test, (ii) Python autograd test case test_conv2d_cpu, (iii) mnist_cnn after changing to cpu device\r\n\r\n(i) Build Test with -DUSE_CUDA=OFF\r\n\r\n```\r\nubuntu@ip-172-31-24-48:~/singa/build$ cmake -D CMAKE_PREFIX_PATH=\"/usr/local/cuda/lib64;/usr/local/cuda/\" -DENABLE_TEST=OFF -DUSE_CUDA=OFF -DUSE_PYTHON3=ON -DUSE_MKLDNN=ON -DUSE_MODULES=OFF ..\r\n-- The C compiler identification is GNU 5.4.0\r\n-- The CXX compiler identification is GNU 5.4.0\r\n-- Check for working C compiler: /usr/bin/cc\r\n-- Check for working C compiler: /usr/bin/cc -- works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /usr/bin/c++\r\n-- Check for working CXX compiler: /usr/bin/c++ -- works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Looking for pthread_create\r\n-- Looking for pthread_create - not found\r\n-- Looking for pthread_create in pthreads\r\n-- Looking for pthread_create in pthreads - not found\r\n-- Looking for pthread_create in pthread\r\n-- Looking for pthread_create in pthread - found\r\n-- Found Threads: TRUE\r\n-- Found Protobuf: /usr/local/lib/libprotobuf.so;-lpthread (found suitable version \"3.0.0\", minimum required is \"3.0\")\r\n-- Found CBLAS: /usr/local/include\r\n-- Found GLOG: /usr/include\r\n-- Found PythonInterp: /usr/bin/python3 (found suitable version \"3.5.2\", minimum required is \"3\")\r\n-- Found PythonLibs: /usr/lib/x86_64-linux-gnu/libpython3.5m.so (found suitable version \"3.5.2\", minimum required is \"3\")\r\n-- Found SWIG: /usr/local/bin/swig (found suitable version \"3.0.12\", minimum required is \"3.0.10\")\r\n-- Found MKLDNN at /usr/local/include\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /home/ubuntu/singa/build\r\nubuntu@ip-172-31-24-48:~/singa/build$ make -j4\r\nScanning dependencies of target copy_protobuf\r\n[  1%] Running C++ protocol buffer compiler on /home/ubuntu/singa/src/proto/model.proto\r\n[  2%] Running C++ protocol buffer compiler on /home/ubuntu/singa/src/proto/core.proto\r\n[  3%] Running C++ protocol buffer compiler on /home/ubuntu/singa/src/proto/io.proto\r\n[  4%] Running C++ protocol buffer compiler on /home/ubuntu/singa/src/proto/caffe.proto\r\n[libprotobuf WARNING google/protobuf/compiler/parser.cc:547] No syntax specified for the proto file: model.proto. Please use 'syntax = \"proto2\";' or 'syntax = \"proto3\";' to specify a syntax version. (Defaulted to proto2 syntax.)\r\n[libprotobuf WARNING google/protobuf/compiler/parser.cc:547] No syntax specified for the proto file: core.proto. Please use 'syntax = \"proto2\";' or 'syntax = \"proto3\";' to specify a syntax version. (Defaulted to proto2 syntax.)\r\n[libprotobuf WARNING google/protobuf/compiler/parser.cc:547] No syntax specified for the proto file: io.proto. Please use 'syntax = \"proto2\";' or 'syntax = \"proto3\";' to specify a syntax version. (Defaulted to proto2 syntax.)\r\n[  5%] Copying Protobuf headers\r\n[  5%] Built target copy_protobuf\r\nScanning dependencies of target singa_objects\r\n[  6%] Building CXX object src/CMakeFiles/singa_objects.dir/caffe.pb.cc.o\r\n[  8%] Building CXX object src/CMakeFiles/singa_objects.dir/core.pb.cc.o\r\n[  9%] Building CXX object src/CMakeFiles/singa_objects.dir/model.pb.cc.o\r\n[ 10%] Building CXX object src/CMakeFiles/singa_objects.dir/io.pb.cc.o\r\n[ 11%] Building CXX object src/CMakeFiles/singa_objects.dir/utils/channel.cc.o\r\n[ 12%] Building CXX object src/CMakeFiles/singa_objects.dir/utils/logging.cc.o\r\n[ 13%] Building CXX object src/CMakeFiles/singa_objects.dir/io/binfile_reader.cc.o\r\n[ 15%] Building CXX object src/CMakeFiles/singa_objects.dir/io/binfile_writer.cc.o\r\n[ 16%] Building CXX object src/CMakeFiles/singa_objects.dir/io/communicator.cc.o\r\n[ 17%] Building CXX object src/CMakeFiles/singa_objects.dir/io/csv_decoder.cc.o\r\n[ 18%] Building CXX object src/CMakeFiles/singa_objects.dir/io/csv_encoder.cc.o\r\n[ 19%] Building CXX object src/CMakeFiles/singa_objects.dir/io/image_transformer.cc.o\r\n[ 20%] Building CXX object src/CMakeFiles/singa_objects.dir/io/jpg_decoder.cc.o\r\n[ 22%] Building CXX object src/CMakeFiles/singa_objects.dir/io/jpg_encoder.cc.o\r\n[ 23%] Building CXX object src/CMakeFiles/singa_objects.dir/io/lmdb_reader.cc.o\r\n[ 24%] Building CXX object src/CMakeFiles/singa_objects.dir/io/lmdb_writer.cc.o\r\n[ 25%] Building CXX object src/CMakeFiles/singa_objects.dir/io/snapshot.cc.o\r\n[ 26%] Building CXX object src/CMakeFiles/singa_objects.dir/io/textfile_reader.cc.o\r\n[ 27%] Building CXX object src/CMakeFiles/singa_objects.dir/io/textfile_writer.cc.o\r\n[ 29%] Building CXX object src/CMakeFiles/singa_objects.dir/io/network/endpoint.cc.o\r\n[ 30%] Building CXX object src/CMakeFiles/singa_objects.dir/io/network/message.cc.o\r\n[ 31%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/cpp_cpu.cc.o\r\n[ 32%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/cuda_gpu.cc.o\r\n[ 33%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/device.cc.o\r\n[ 34%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/opencl_device.cc.o\r\n[ 36%] Building CXX object src/CMakeFiles/singa_objects.dir/core/device/platform.cc.o\r\n[ 37%] Building CXX object src/CMakeFiles/singa_objects.dir/core/memory/memory.cc.o\r\n[ 38%] Building CXX object src/CMakeFiles/singa_objects.dir/core/scheduler/scheduler.cc.o\r\n[ 39%] Building CXX object src/CMakeFiles/singa_objects.dir/core/tensor/sparse_tensor.cc.o\r\n[ 40%] Building CXX object src/CMakeFiles/singa_objects.dir/core/tensor/tensor.cc.o\r\n[ 41%] Building CXX object src/CMakeFiles/singa_objects.dir/model/feed_forward_net.cc.o\r\n[ 43%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/activation.cc.o\r\n/home/ubuntu/singa/src/core/tensor/tensor.cc: In function ‘void singa::SoftMax(const singa::Tensor&, singa::Tensor*, int)’:\r\n/home/ubuntu/singa/src/core/tensor/tensor.cc:758:13: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n       if (i < axis)\r\n             ^\r\n[ 44%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/batchnorm.cc.o\r\n[ 45%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/concat.cc.o\r\n[ 46%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/convolution.cc.o\r\n[ 47%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/cudnn_activation.cc.o\r\n[ 48%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/cudnn_batchnorm.cc.o\r\n[ 50%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/cudnn_convolution.cc.o\r\n[ 51%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/cudnn_dropout.cc.o\r\n[ 52%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/cudnn_lrn.cc.o\r\n[ 53%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/cudnn_pooling.cc.o\r\n[ 54%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/cudnn_rnn.cc.o\r\n[ 55%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/cudnn_softmax.cc.o\r\n[ 56%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/dense.cc.o\r\n[ 58%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/dropout.cc.o\r\n[ 59%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/flatten.cc.o\r\n[ 60%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/lrn.cc.o\r\n[ 61%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/merge.cc.o\r\n[ 62%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/opencl_convolution.cc.o\r\n[ 63%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/opencl_pooling.cc.o\r\n[ 65%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/pooling.cc.o\r\n[ 66%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/prelu.cc.o\r\n[ 67%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/rnn.cc.o\r\n[ 68%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/slice.cc.o\r\n[ 69%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/softmax.cc.o\r\n[ 70%] Building CXX object src/CMakeFiles/singa_objects.dir/model/layer/split.cc.o\r\n[ 72%] Building CXX object src/CMakeFiles/singa_objects.dir/model/optimizer/adagrad.cc.o\r\n[ 73%] Building CXX object src/CMakeFiles/singa_objects.dir/model/optimizer/local_all_reduce.cc.o\r\n[ 74%] Building CXX object src/CMakeFiles/singa_objects.dir/model/optimizer/nesterov.cc.o\r\n[ 75%] Building CXX object src/CMakeFiles/singa_objects.dir/model/optimizer/optimizer.cc.o\r\n[ 76%] Building CXX object src/CMakeFiles/singa_objects.dir/model/optimizer/rmsprop.cc.o\r\n[ 77%] Building CXX object src/CMakeFiles/singa_objects.dir/model/optimizer/sgd.cc.o\r\n[ 79%] Building CXX object src/CMakeFiles/singa_objects.dir/model/loss/mse.cc.o\r\n[ 80%] Building CXX object src/CMakeFiles/singa_objects.dir/model/loss/softmax_cross_entropy.cc.o\r\n[ 81%] Building CXX object src/CMakeFiles/singa_objects.dir/model/metric/accuracy.cc.o\r\n[ 82%] Building CXX object src/CMakeFiles/singa_objects.dir/model/updater/local_updater.cc.o\r\n[ 83%] Building CXX object src/CMakeFiles/singa_objects.dir/model/updater/updater.cc.o\r\n[ 84%] Building CXX object src/CMakeFiles/singa_objects.dir/model/operation/batchnorm.cc.o\r\n[ 86%] Building CXX object src/CMakeFiles/singa_objects.dir/model/operation/convolution.cc.o\r\n[ 87%] Building CXX object src/CMakeFiles/singa_objects.dir/model/operation/pooling.cc.o\r\n[ 91%] Built target singa_objects\r\n[ 93%] Running Python protocol buffer compiler on /home/ubuntu/singa/src/proto/caffe.proto\r\n[ 94%] Running Python protocol buffer compiler on /home/ubuntu/singa/src/proto/model.proto\r\nScanning dependencies of target singa\r\n[ 95%] Running Python protocol buffer compiler on /home/ubuntu/singa/src/proto/core.proto\r\n[libprotobuf WARNING google/protobuf/compiler/parser.cc:547] No syntax specified for the proto file: model.proto. Please use 'syntax = \"proto2\";' or 'syntax = \"proto3\";' to specify a syntax version. (Defaulted to proto2 syntax.)\r\n[libprotobuf WARNING google/protobuf/compiler/parser.cc:547] No syntax specified for the proto file: core.proto. Please use 'syntax = \"proto2\";' or 'syntax = \"proto3\";' to specify a syntax version. (Defaulted to proto2 syntax.)\r\n[ 96%] Linking CXX shared library ../lib/libsinga.so\r\n[ 97%] Running Python protocol buffer compiler on /home/ubuntu/singa/src/proto/io.proto\r\n[libprotobuf WARNING google/protobuf/compiler/parser.cc:547] No syntax specified for the proto file: io.proto. Please use 'syntax = \"proto2\";' or 'syntax = \"proto3\";' to specify a syntax version. (Defaulted to proto2 syntax.)\r\nScanning dependencies of target _singa_wrap\r\n[ 98%] Building CXX object python/CMakeFiles/_singa_wrap.dir/__/src/api/singa_wrap.cxx.o\r\n[ 98%] Built target singa\r\n[100%] Linking CXX shared library singa/_singa_wrap.so\r\n[100%] Built target _singa_wrap\r\n\r\n```\r\n(ii) Test Case after removing the gpu_dev\r\n\r\n```\r\nubuntu@ip-172-31-24-48:~/singa/test/python$ python3 test_operation.py TestPythonOperation.test_conv2d_cpu\r\n.\r\n----------------------------------------------------------------------\r\nRan 1 test in 0.051s\r\n\r\nOK\r\n```\r\n\r\n(iii) mnist_cnn (i.e. a conv. netural network) after changed to \"dev = device.get_default_device()\"\r\n\r\n```\r\nubuntu@ip-172-31-24-48:~/singa/examples/autograd$ python3 mnist_cnn.py\r\nStarting Epoch 0:\r\nTraining loss = 585.431152, training accuracy = 0.791739\r\nEvaluation accuracy = 0.930088, Elapsed Time = 55.447133s\r\nStarting Epoch 1:\r\nTraining loss = 232.831589, training accuracy = 0.922158\r\nEvaluation accuracy = 0.967949, Elapsed Time = 55.337850s\r\nStarting Epoch 2:\r\nTraining loss = 166.067307, training accuracy = 0.945788\r\nEvaluation accuracy = 0.968550, Elapsed Time = 55.367847s\r\nStarting Epoch 3:\r\nTraining loss = 136.865341, training accuracy = 0.954092\r\nEvaluation accuracy = 0.973357, Elapsed Time = 55.358584s\r\nStarting Epoch 4:\r\nTraining loss = 118.813286, training accuracy = 0.960195\r\nEvaluation accuracy = 0.979567, Elapsed Time = 55.270505s\r\nStarting Epoch 5:\r\nTraining loss = 106.185112, training accuracy = 0.964481\r\nEvaluation accuracy = 0.975962, Elapsed Time = 55.281344s\r\nStarting Epoch 6:\r\nTraining loss = 94.444023, training accuracy = 0.968016\r\nEvaluation accuracy = 0.980970, Elapsed Time = 55.081426s\r\nStarting Epoch 7:\r\nTraining loss = 88.213493, training accuracy = 0.970418\r\nEvaluation accuracy = 0.982873, Elapsed Time = 54.912524s\r\nStarting Epoch 8:\r\nTraining loss = 81.126442, training accuracy = 0.972886\r\nEvaluation accuracy = 0.981470, Elapsed Time = 54.907317s\r\nStarting Epoch 9:\r\nTraining loss = 77.790993, training accuracy = 0.974236\r\nEvaluation accuracy = 0.974159, Elapsed Time = 54.915229s\r\nubuntu@ip-172-31-24-48:~/singa/examples/autograd$ python3 mnist_cnn.py\r\nStarting Epoch 0:\r\nTraining loss = 576.306396, training accuracy = 0.797442\r\nEvaluation accuracy = 0.939804, Elapsed Time = 55.127624s\r\nStarting Epoch 1:\r\nTraining loss = 233.646469, training accuracy = 0.923176\r\n Evaluation accuracy = 0.953225, Elapsed Time = 55.043428s\r\nStarting Epoch 2:\r\nTraining loss = 169.687042, training accuracy = 0.942769\r\nEvaluation accuracy = 0.967748, Elapsed Time = 55.068043s\r\nStarting Epoch 3:\r\nTraining loss = 136.673889, training accuracy = 0.955226\r\nEvaluation accuracy = 0.969451, Elapsed Time = 55.001894s\r\nStarting Epoch 4:\r\nTraining loss = 117.439735, training accuracy = 0.960629\r\nEvaluation accuracy = 0.975060, Elapsed Time = 54.999372s\r\nStarting Epoch 5:\r\nTraining loss = 104.836281, training accuracy = 0.964231\r\nEvaluation accuracy = 0.979267, Elapsed Time = 55.008163s\r\nStarting Epoch 6:\r\nTraining loss = 94.267128, training accuracy = 0.968517\r\nEvaluation accuracy = 0.980769, Elapsed Time = 55.127412s\r\nStarting Epoch 7:\r\nTraining loss = 86.187485, training accuracy = 0.970868\r\nEvaluation accuracy = 0.983874, Elapsed Time = 54.893812s\r\nStarting Epoch 8:\r\nTraining loss = 81.978813, training accuracy = 0.972485\r\nEvaluation accuracy = 0.983373, Elapsed Time = 54.941163s\r\nStarting Epoch 9:\r\nTraining loss = 77.447243, training accuracy = 0.974353\r\nEvaluation accuracy = 0.981070, Elapsed Time = 54.909815s\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/577488473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/578491364","html_url":"https://github.com/apache/singa/pull/575#issuecomment-578491364","issue_url":"https://api.github.com/repos/apache/singa/issues/575","id":578491364,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODQ5MTM2NA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-26T11:08:18Z","updated_at":"2020-01-26T11:08:18Z","author_association":"MEMBER","body":"please refer to https://github.com/apache/singa/pull/581","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/578491364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/579575835","html_url":"https://github.com/apache/singa/pull/580#issuecomment-579575835","issue_url":"https://api.github.com/repos/apache/singa/issues/580","id":579575835,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTU3NTgzNQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-29T03:29:17Z","updated_at":"2020-01-29T03:29:17Z","author_association":"MEMBER","body":"Hi, this is regarding the `SumAll` in this PR. Referring to numpy, when no axis is given, `numpy.sum` returns a scalar value. Referring to torch, `torch.sum()` always return tensor. This difference is because there is no tensor in numpy.\r\n\r\nI suppose the ideal way for singa would be deprecating `float Sum()` and keeping `Tensor Sum()`.\r\n\r\nHowever this breaks the current code.\r\n\r\nThe workaround might be extending `Tensor Sum(Tensor in, int axis)` to support arbitrary axes like `Tensor Sum(Tensor in, int[] axis)`. Then when we want `Tensor SumAll()`, we could call `Tensor Sum(in, in.shape())`, which effectively sum all (over all axes) and return a Tensor, while not breaking current code.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/579575835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/579577761","html_url":"https://github.com/apache/singa/pull/580#issuecomment-579577761","issue_url":"https://api.github.com/repos/apache/singa/issues/580","id":579577761,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTU3Nzc2MQ==","user":{"login":"nudles","id":3797447,"node_id":"MDQ6VXNlcjM3OTc0NDc=","avatar_url":"https://avatars.githubusercontent.com/u/3797447?v=4","gravatar_id":"","url":"https://api.github.com/users/nudles","html_url":"https://github.com/nudles","followers_url":"https://api.github.com/users/nudles/followers","following_url":"https://api.github.com/users/nudles/following{/other_user}","gists_url":"https://api.github.com/users/nudles/gists{/gist_id}","starred_url":"https://api.github.com/users/nudles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nudles/subscriptions","organizations_url":"https://api.github.com/users/nudles/orgs","repos_url":"https://api.github.com/users/nudles/repos","events_url":"https://api.github.com/users/nudles/events{/privacy}","received_events_url":"https://api.github.com/users/nudles/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-29T03:40:28Z","updated_at":"2020-01-29T03:40:28Z","author_association":"MEMBER","body":"1. It should be better to return a Tensor instance. To keep it compatible, we can add a new function, sum_at() (returns a tensor), and mark the original sum() as deprecated. When we release v3.0, we mark sum_at as deprecated and change the sum() to return a tensor. This is to follow the convention of the X.Y.Z version style.\r\n2. Is it more common to pass axis as an integer than an array? Do we need to do summation along multiple dimensions? ","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/579577761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/579625898","html_url":"https://github.com/apache/singa/issues/576#issuecomment-579625898","issue_url":"https://api.github.com/repos/apache/singa/issues/576","id":579625898,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTYyNTg5OA==","user":{"login":"chrishkchris","id":38325429,"node_id":"MDQ6VXNlcjM4MzI1NDI5","avatar_url":"https://avatars.githubusercontent.com/u/38325429?v=4","gravatar_id":"","url":"https://api.github.com/users/chrishkchris","html_url":"https://github.com/chrishkchris","followers_url":"https://api.github.com/users/chrishkchris/followers","following_url":"https://api.github.com/users/chrishkchris/following{/other_user}","gists_url":"https://api.github.com/users/chrishkchris/gists{/gist_id}","starred_url":"https://api.github.com/users/chrishkchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrishkchris/subscriptions","organizations_url":"https://api.github.com/users/chrishkchris/orgs","repos_url":"https://api.github.com/users/chrishkchris/repos","events_url":"https://api.github.com/users/chrishkchris/events{/privacy}","received_events_url":"https://api.github.com/users/chrishkchris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-29T07:17:35Z","updated_at":"2020-01-29T07:17:35Z","author_association":"CONTRIBUTOR","body":"the problem is resolved completely","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/579625898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/579660334","html_url":"https://github.com/apache/singa/pull/581#issuecomment-579660334","issue_url":"https://api.github.com/repos/apache/singa/issues/581","id":579660334,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTY2MDMzNA==","user":{"login":"nudles","id":3797447,"node_id":"MDQ6VXNlcjM3OTc0NDc=","avatar_url":"https://avatars.githubusercontent.com/u/3797447?v=4","gravatar_id":"","url":"https://api.github.com/users/nudles","html_url":"https://github.com/nudles","followers_url":"https://api.github.com/users/nudles/followers","following_url":"https://api.github.com/users/nudles/following{/other_user}","gists_url":"https://api.github.com/users/nudles/gists{/gist_id}","starred_url":"https://api.github.com/users/nudles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nudles/subscriptions","organizations_url":"https://api.github.com/users/nudles/orgs","repos_url":"https://api.github.com/users/nudles/repos","events_url":"https://api.github.com/users/nudles/events{/privacy}","received_events_url":"https://api.github.com/users/nudles/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-29T09:04:34Z","updated_at":"2020-01-29T09:04:34Z","author_association":"MEMBER","body":"pls send PR to the dev branch","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/579660334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/579751432","html_url":"https://github.com/apache/singa/pull/582#issuecomment-579751432","issue_url":"https://api.github.com/repos/apache/singa/issues/582","id":579751432,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTc1MTQzMg==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-29T13:19:45Z","updated_at":"2020-01-29T13:19:45Z","author_association":"MEMBER","body":"cannot merge yet, still need to add GlobalAveragePool op.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/579751432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/580165010","html_url":"https://github.com/apache/singa/pull/582#issuecomment-580165010","issue_url":"https://api.github.com/repos/apache/singa/issues/582","id":580165010,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDE2NTAxMA==","user":{"login":"nudles","id":3797447,"node_id":"MDQ6VXNlcjM3OTc0NDc=","avatar_url":"https://avatars.githubusercontent.com/u/3797447?v=4","gravatar_id":"","url":"https://api.github.com/users/nudles","html_url":"https://github.com/nudles","followers_url":"https://api.github.com/users/nudles/followers","following_url":"https://api.github.com/users/nudles/following{/other_user}","gists_url":"https://api.github.com/users/nudles/gists{/gist_id}","starred_url":"https://api.github.com/users/nudles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nudles/subscriptions","organizations_url":"https://api.github.com/users/nudles/orgs","repos_url":"https://api.github.com/users/nudles/repos","events_url":"https://api.github.com/users/nudles/events{/privacy}","received_events_url":"https://api.github.com/users/nudles/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-30T09:32:05Z","updated_at":"2020-01-30T09:32:05Z","author_association":"MEMBER","body":"you can mark it as a draft like #580 ","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/580165010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/580191954","html_url":"https://github.com/apache/singa/pull/581#issuecomment-580191954","issue_url":"https://api.github.com/repos/apache/singa/issues/581","id":580191954,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDE5MTk1NA==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-30T10:37:35Z","updated_at":"2020-01-30T10:37:35Z","author_association":"MEMBER","body":"fixed conflicts and added documentation https://github.com/apache/singa-doc/pull/3","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/580191954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/580259721","html_url":"https://github.com/apache/singa/pull/586#issuecomment-580259721","issue_url":"https://api.github.com/repos/apache/singa/issues/586","id":580259721,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDI1OTcyMQ==","user":{"login":"nudles","id":3797447,"node_id":"MDQ6VXNlcjM3OTc0NDc=","avatar_url":"https://avatars.githubusercontent.com/u/3797447?v=4","gravatar_id":"","url":"https://api.github.com/users/nudles","html_url":"https://github.com/nudles","followers_url":"https://api.github.com/users/nudles/followers","following_url":"https://api.github.com/users/nudles/following{/other_user}","gists_url":"https://api.github.com/users/nudles/gists{/gist_id}","starred_url":"https://api.github.com/users/nudles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nudles/subscriptions","organizations_url":"https://api.github.com/users/nudles/orgs","repos_url":"https://api.github.com/users/nudles/repos","events_url":"https://api.github.com/users/nudles/events{/privacy}","received_events_url":"https://api.github.com/users/nudles/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-30T13:44:57Z","updated_at":"2020-01-30T13:44:57Z","author_association":"MEMBER","body":"need to add some docstrings for the new operators.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/580259721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/580279019","html_url":"https://github.com/apache/singa/pull/581#issuecomment-580279019","issue_url":"https://api.github.com/repos/apache/singa/issues/581","id":580279019,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDI3OTAxOQ==","user":{"login":"nudles","id":3797447,"node_id":"MDQ6VXNlcjM3OTc0NDc=","avatar_url":"https://avatars.githubusercontent.com/u/3797447?v=4","gravatar_id":"","url":"https://api.github.com/users/nudles","html_url":"https://github.com/nudles","followers_url":"https://api.github.com/users/nudles/followers","following_url":"https://api.github.com/users/nudles/following{/other_user}","gists_url":"https://api.github.com/users/nudles/gists{/gist_id}","starred_url":"https://api.github.com/users/nudles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nudles/subscriptions","organizations_url":"https://api.github.com/users/nudles/orgs","repos_url":"https://api.github.com/users/nudles/repos","events_url":"https://api.github.com/users/nudles/events{/privacy}","received_events_url":"https://api.github.com/users/nudles/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-30T14:29:30Z","updated_at":"2020-01-30T14:29:30Z","author_association":"MEMBER","body":"pls exclude these files: \r\n* include/singa/io \r\n* include/singa/model/\r\n* src/io\r\n* src/model/  except src/model/operation\r\n\r\nthey will be refactored soon.","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/580279019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/580290087","html_url":"https://github.com/apache/singa/pull/586#issuecomment-580290087","issue_url":"https://api.github.com/repos/apache/singa/issues/586","id":580290087,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDI5MDA4Nw==","user":{"login":"joddiy","id":14108933,"node_id":"MDQ6VXNlcjE0MTA4OTMz","avatar_url":"https://avatars.githubusercontent.com/u/14108933?v=4","gravatar_id":"","url":"https://api.github.com/users/joddiy","html_url":"https://github.com/joddiy","followers_url":"https://api.github.com/users/joddiy/followers","following_url":"https://api.github.com/users/joddiy/following{/other_user}","gists_url":"https://api.github.com/users/joddiy/gists{/gist_id}","starred_url":"https://api.github.com/users/joddiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joddiy/subscriptions","organizations_url":"https://api.github.com/users/joddiy/orgs","repos_url":"https://api.github.com/users/joddiy/repos","events_url":"https://api.github.com/users/joddiy/events{/privacy}","received_events_url":"https://api.github.com/users/joddiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-30T14:52:55Z","updated_at":"2020-01-30T14:52:55Z","author_association":"MEMBER","body":"> need to add some docstrings for the new operators.\r\n\r\nfixed","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/580290087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/singa/issues/comments/580570939","html_url":"https://github.com/apache/singa/pull/581#issuecomment-580570939","issue_url":"https://api.github.com/repos/apache/singa/issues/581","id":580570939,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDU3MDkzOQ==","user":{"login":"dcslin","id":13751447,"node_id":"MDQ6VXNlcjEzNzUxNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/13751447?v=4","gravatar_id":"","url":"https://api.github.com/users/dcslin","html_url":"https://github.com/dcslin","followers_url":"https://api.github.com/users/dcslin/followers","following_url":"https://api.github.com/users/dcslin/following{/other_user}","gists_url":"https://api.github.com/users/dcslin/gists{/gist_id}","starred_url":"https://api.github.com/users/dcslin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcslin/subscriptions","organizations_url":"https://api.github.com/users/dcslin/orgs","repos_url":"https://api.github.com/users/dcslin/repos","events_url":"https://api.github.com/users/dcslin/events{/privacy}","received_events_url":"https://api.github.com/users/dcslin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-31T04:00:05Z","updated_at":"2020-01-31T04:00:05Z","author_association":"MEMBER","body":"> pls exclude these files:\r\n> \r\n> * include/singa/io\r\n> * include/singa/model/\r\n> * src/io\r\n> * src/model/  except src/model/operation\r\n> \r\n> they will be refactored soon.\r\n\r\nthis is rectified","reactions":{"url":"https://api.github.com/repos/apache/singa/issues/comments/580570939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]