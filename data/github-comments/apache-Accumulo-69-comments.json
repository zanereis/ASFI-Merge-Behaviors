[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/855880829","html_url":"https://github.com/apache/accumulo/issues/2137#issuecomment-855880829","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2137","id":855880829,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTg4MDgyOQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T12:24:49Z","updated_at":"2021-06-07T12:24:49Z","author_association":"CONTRIBUTOR","body":"@ctubbsii  - I believe all of the issues have been resolved.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/855880829/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/855977303","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-855977303","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":855977303,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTk3NzMwMw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T14:27:47Z","updated_at":"2021-06-07T14:27:47Z","author_association":"CONTRIBUTOR","body":"I agree that uniformity would be nice. Do you prefer `wal` or `walog`? From a quick glance, it seems we use `walog` more so probably easier to keep that naming convention. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/855977303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/855998795","html_url":"https://github.com/apache/accumulo/pull/2122#issuecomment-855998795","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2122","id":855998795,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTk5ODc5NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T14:44:39Z","updated_at":"2021-06-07T14:44:39Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @foster33 and welcome to the Apache Accumulo community! If you would like to be listed as a contributor on Accumulo's people page please make a website PR for people.md. https://github.com/apache/accumulo-website/edit/main/pages/people.md\r\n\r\nIf you intend to make more contributions, please consider subscribing to the dev list and introducing yourself. Also, you can use the dev list or slack to reach out if you have questions about anything. https://accumulo.apache.org/contact-us/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/855998795/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856001314","html_url":"https://github.com/apache/accumulo/pull/2122#issuecomment-856001314","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2122","id":856001314,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjAwMTMxNA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T14:47:55Z","updated_at":"2021-06-07T14:47:55Z","author_association":"CONTRIBUTOR","body":"@EdColeman I know you are working on a big change with the properties. Do you want me to wait and merge this change?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856001314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856003682","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-856003682","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":856003682,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjAwMzY4Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T14:50:56Z","updated_at":"2021-06-07T14:50:56Z","author_association":"CONTRIBUTOR","body":"Even though there are more properties that use the name `walog`, overall I think the term `wal` is more commonly used on the project.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856003682/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856030215","html_url":"https://github.com/apache/accumulo/pull/2122#issuecomment-856030215","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2122","id":856030215,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjAzMDIxNQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T15:22:10Z","updated_at":"2021-06-07T15:22:10Z","author_association":"CONTRIBUTOR","body":"It's okay to merge now - if it's ready.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856030215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856092440","html_url":"https://github.com/apache/accumulo/issues/2147#issuecomment-856092440","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2147","id":856092440,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjA5MjQ0MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T16:39:34Z","updated_at":"2021-06-07T16:39:34Z","author_association":"MEMBER","body":"As long as it's limited to basic functionality. The idea is that these tests should be very limited, and be a very quick sanity check to make sure that core functionality isn't broken. They should be fast to run, highly reliable and never flaky, and be able to run on meager hardware.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856092440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856126093","html_url":"https://github.com/apache/accumulo/issues/2137#issuecomment-856126093","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2137","id":856126093,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjEyNjA5Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T17:33:35Z","updated_at":"2021-06-07T17:33:35Z","author_association":"MEMBER","body":"Verified latest commit builds without these errors.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856126093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856151759","html_url":"https://github.com/apache/accumulo/pull/1971#issuecomment-856151759","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1971","id":856151759,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjE1MTc1OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T18:09:39Z","updated_at":"2021-06-07T18:09:39Z","author_association":"MEMBER","body":"I resolved the merge conflict with the main branch, but still reviewing. I found some follow on stuff that could be improved, so I'm working through some of that to help me be thorough in the review of the changes here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856151759/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856160945","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-856160945","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":856160945,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjE2MDk0NQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T18:22:51Z","updated_at":"2021-06-07T18:22:51Z","author_association":"CONTRIBUTOR","body":"Makes sense. Do you think this could be a good first issue or someone with less experience to handle? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856160945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856331126","html_url":"https://github.com/apache/accumulo/issues/2149#issuecomment-856331126","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2149","id":856331126,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjMzMTEyNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T23:41:14Z","updated_at":"2021-06-07T23:41:14Z","author_association":"MEMBER","body":"It looks like this is from the use of `Map.copyOf()` to replace populating a `TreeMap` in some places. In some places, this probably doesn't matter, but for the shell it would be nice. Unfortunately, there's no `SortedMap.copyOf()` or anything like that. The easiest fix is probably to use Guava's `ImmutableSortedMap.copyOf()` instead. There might be a few other places where TreeMap was replaced as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856331126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856334478","html_url":"https://github.com/apache/accumulo/issues/2148#issuecomment-856334478","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2148","id":856334478,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjMzNDQ3OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T23:51:41Z","updated_at":"2021-06-07T23:51:41Z","author_association":"MEMBER","body":"\"4\" in this case would have been interpreted as \"4 bytes\" since it is (presumably) `PropertyType.BYTES`. It can be hard to write general rules to detect and validate these kinds of things, because we don't know what the user had in mind, and the range of sane values is probably different for each individual property, and highly environment-specific. Additionally, special values, like \"0\" might have specific semantics (like deferring to a hard-coded default).\r\n\r\nWe could try to code in range constraints to every property that takes a numeric value... which might be tedious, and also might be unnecessarily constraining. After all, \"4 bytes\" is clearly wrong on a production system, but who is to say that \"4 bytes\" isn't a valid value for testing WAL rollover or specific failure conditions? And, what should the minimize permitted value actually be here? 1MB? Less? More? I'm not sure.\r\n\r\nHaving a good error message when the value results in a problem, might be the best option, rather than trying to determine the best range constraint... at least in the general case.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856334478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856334542","html_url":"https://github.com/apache/accumulo/issues/2149#issuecomment-856334542","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2149","id":856334542,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjMzNDU0Mg==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-07T23:51:55Z","updated_at":"2021-06-07T23:51:55Z","author_association":"CONTRIBUTOR","body":"Yep, that appears to be correct. A quick test with `ImmutableSortedMap.copyOf()` worked. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856334542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856340700","html_url":"https://github.com/apache/accumulo/issues/2148#issuecomment-856340700","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2148","id":856340700,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjM0MDcwMA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T00:03:09Z","updated_at":"2021-06-08T00:03:09Z","author_association":"CONTRIBUTOR","body":"I agree, there is a lot of nuance with this particular issue. Wal, specifically, has an exception message for when the block size is less than the minimum so in some cases that would be tracked down quickly. I am not quite sure if other properties have something like that. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856340700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856679027","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-856679027","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":856679027,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjY3OTAyNw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T11:21:54Z","updated_at":"2021-06-08T11:21:54Z","author_association":"CONTRIBUTOR","body":"> Makes sense. Do you think this could be a good first issue or someone with less experience to handle?\r\n\r\nI personally like to label issues as `Good First Issue` that are as simple as possible because there are usually other hurdles (building, environment, git) that new developers need to figure out before diving into the code. I think this change will have some upgrade code to go with it. If you know someone that has contributed but is newer to the project it might be a good issue for them to tackle.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856679027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856720201","html_url":"https://github.com/apache/accumulo/issues/2149#issuecomment-856720201","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2149","id":856720201,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjcyMDIwMQ==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T12:25:10Z","updated_at":"2021-06-08T12:25:10Z","author_association":"CONTRIBUTOR","body":"I would like to work on this if no one else is.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856720201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856788415","html_url":"https://github.com/apache/accumulo/pull/2150#issuecomment-856788415","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2150","id":856788415,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Njc4ODQxNQ==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T13:53:28Z","updated_at":"2021-06-08T13:53:28Z","author_association":"CONTRIBUTOR","body":"I noticed that there were two parts in the previously linked commit, in `Admin.java` where TreeMaps were replaced in `printNameSpaceConfiguration` and `printTableConfiguration` . I am not sure where these would be printed but maybe these would benefit from a change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856788415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856800249","html_url":"https://github.com/apache/accumulo/pull/2150#issuecomment-856800249","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2150","id":856800249,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjgwMDI0OQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T14:07:25Z","updated_at":"2021-06-08T14:07:25Z","author_association":"MEMBER","body":"Looks like the change from 4ea9bf1 in `TableOperationsHelperTest.check()` may benefit from being changed back to treemap since there is a comparison to a treemap.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856800249/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856807157","html_url":"https://github.com/apache/accumulo/pull/2150#issuecomment-856807157","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2150","id":856807157,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjgwNzE1Nw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T14:16:00Z","updated_at":"2021-06-08T14:16:00Z","author_association":"CONTRIBUTOR","body":"From my testing, `Admin.java` is fine as is. I tested both with and without the change and received the same results from the `dumpConfig` command.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856807157/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856821174","html_url":"https://github.com/apache/accumulo/pull/2150#issuecomment-856821174","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2150","id":856821174,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjgyMTE3NA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T14:32:50Z","updated_at":"2021-06-08T14:32:50Z","author_association":"CONTRIBUTOR","body":"@Manno15 - can you explain why the results would be the same?  Looking at the dump configuration command implementation there does not seem to be any sorting - could it be just an accident that they matched and with either different values or values created in a different order that they would differ?  It seems safest to assume that where a TreeMap was used there might be underlying code somewhere that was built using that assumption - unless it can be determined that is not the case.   ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856821174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856857148","html_url":"https://github.com/apache/accumulo/pull/2150#issuecomment-856857148","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2150","id":856857148,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Njg1NzE0OA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T15:11:42Z","updated_at":"2021-06-08T15:11:42Z","author_association":"CONTRIBUTOR","body":"@EdColeman I figured out where my confusion came from. I should have paid closer attention, the `printTableConfiguration` checks first to make sure it is a table property. Therefore, the entire file was correct in that everything was ordered by table (the format for dump config is different than the regular config command. It follows the format `config -t accumulo.metadata -s table.split.threshold=64M`).  Everything after the `-s` wasn't in sorted order as it was in older versions. \r\n\r\n@foster33 So yes, both of those print functions should have the same change as the `ConfigCommand`, my mistake on not catching that earlier.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856857148/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856878445","html_url":"https://github.com/apache/accumulo/pull/2150#issuecomment-856878445","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2150","id":856878445,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Njg3ODQ0NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T15:37:33Z","updated_at":"2021-06-08T15:37:51Z","author_association":"MEMBER","body":"There were a few places where #2122 changed the TreeMap to a non-sorted Map:\r\n\r\n1. NamespaceOperationsHelper - this is only used for looping to update another data structure, and the order doesn't matter, so this is fine\r\n2. TableOperationsHelper - same as NamespaceOperationsHelper; order doesn't matter, so this is fine\r\n3. TableOperationsHelperTest - does not matter, because the map equality assertion it is checking will succeed whether or not the map is sorted (it only matters that the maps contain the same mapping, regardless of order)\r\n4. Admin class - this one matters for presentation; both printTableConfiguration and printNamespaceConfiguration should use the ImmutableSortedMap.copyOf, to ensure the order is preserved\r\n5. ConfigCommand - this one matters for the shell","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856878445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856929921","html_url":"https://github.com/apache/accumulo/issues/2151#issuecomment-856929921","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2151","id":856929921,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjkyOTkyMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T16:48:44Z","updated_at":"2021-06-08T16:48:44Z","author_association":"MEMBER","body":"I'm working on this as follow on from #1971 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856929921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856936133","html_url":"https://github.com/apache/accumulo/issues/2148#issuecomment-856936133","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2148","id":856936133,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjkzNjEzMw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T16:57:51Z","updated_at":"2021-06-08T16:57:51Z","author_association":"CONTRIBUTOR","body":"After further discussion, this ticket can be closed for now as there is no actionable work to be done at this time. The specific issue referenced in the JIRA ticket does have a more clear error message now which helps with debugging. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/856936133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/857708464","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-857708464","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":857708464,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NzcwODQ2NA==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T13:46:27Z","updated_at":"2021-06-09T13:46:27Z","author_association":"CONTRIBUTOR","body":">If you know someone that has contributed but is newer to the project it might be a good issue for them to tackle.\r\n\r\nI am newer to this project and I have been looking for some bigger issues to tackle (something more than a `Good First Issue`). In regards to the potential upgrade code, what type of upgrades could you possibly expect? I understand the deprecation, but I just want to get a better understanding of this before I would dive in.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/857708464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/857774100","html_url":"https://github.com/apache/accumulo/pull/2084#issuecomment-857774100","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2084","id":857774100,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Nzc3NDEwMA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T15:03:41Z","updated_at":"2021-06-09T15:03:41Z","author_association":"CONTRIBUTOR","body":"After looking through more JIRA tickets, I ran into [ACCUMULO-1570](https://issues.apache.org/jira/projects/ACCUMULO/issues/ACCUMULO-1570?filter=allopenissues&orderby=cf%5B12310200%5D+ASC%2C+priority+DESC%2C+updated+DESC). It is kind of similar but the idea was to offline a tablet and have it marked as broken when it kept failing to minor compact due to user iterator. Could do something similar for recovery in this PR. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/857774100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/857873020","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-857873020","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":857873020,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Nzg3MzAyMA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T17:03:02Z","updated_at":"2021-06-09T17:03:02Z","author_association":"CONTRIBUTOR","body":"I am not sure of everything involved with changing property names but I know they will, at the very least, be stored in Zookeeper and config files. There has been a similar change recently where we renamed master to manager, perhaps that change could help as a guide. See https://github.com/apache/accumulo/pull/1873 \r\n\r\nHere is the upgrade code for that change where properties are updated in ZK:\r\nhttps://github.com/apache/accumulo/blob/8a636a3ba91f5dae1d8b09b095178889a7d79c1d/server/manager/src/main/java/org/apache/accumulo/manager/upgrade/Upgrader9to10.java#L237","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/857873020/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/857905355","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-857905355","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":857905355,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NzkwNTM1NQ==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T17:45:52Z","updated_at":"2021-06-09T17:45:52Z","author_association":"CONTRIBUTOR","body":"> There has been a similar change recently where we renamed master to manager, perhaps that change could help as a guide.\r\n\r\nSounds good, thank you for that information.\r\n\r\nI'm interested in working on this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/857905355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/858093989","html_url":"https://github.com/apache/accumulo/issues/1454#issuecomment-858093989","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1454","id":858093989,"node_id":"MDEyOklzc3VlQ29tbWVudDg1ODA5Mzk4OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T20:54:59Z","updated_at":"2021-06-09T20:54:59Z","author_association":"MEMBER","body":"https://issues.apache.org/jira/browse/ACCUMULO-2861 is another related issue that describes storing it in a human-readable way. After discussions with @EdColeman, who has been working on this, it seems more likely that we'll need a tool to read/update config easily, rather than rely on it being human-readable. That way, we can get some compression.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/858093989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/858247236","html_url":"https://github.com/apache/accumulo/pull/2156#issuecomment-858247236","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2156","id":858247236,"node_id":"MDEyOklzc3VlQ29tbWVudDg1ODI0NzIzNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-10T03:15:32Z","updated_at":"2021-06-10T03:15:32Z","author_association":"MEMBER","body":"I tested NamespacesIT and TableOperationsIT, so I know they work, but I'll let a full build complete before merging.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/858247236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/858838960","html_url":"https://github.com/apache/accumulo/pull/2156#issuecomment-858838960","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2156","id":858838960,"node_id":"MDEyOklzc3VlQ29tbWVudDg1ODgzODk2MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-10T17:52:00Z","updated_at":"2021-06-10T17:52:00Z","author_association":"MEMBER","body":"I tried to do a full build, but systemd-oomd killed my Jenkins because ExternalCompactionsIT flaked, but not sure if it's repeatable.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/858838960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/858878864","html_url":"https://github.com/apache/accumulo/pull/2156#issuecomment-858878864","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2156","id":858878864,"node_id":"MDEyOklzc3VlQ29tbWVudDg1ODg3ODg2NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-10T18:30:31Z","updated_at":"2021-06-10T18:30:31Z","author_association":"MEMBER","body":"I think it was a transient problem with my build environment. ExternalCompactionsIT built fine locally (although, it did take 20 minutes!)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/858878864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859041756","html_url":"https://github.com/apache/accumulo/issues/1975#issuecomment-859041756","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1975","id":859041756,"node_id":"MDEyOklzc3VlQ29tbWVudDg1OTA0MTc1Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-10T20:36:50Z","updated_at":"2021-06-10T20:36:50Z","author_association":"MEMBER","body":"@ben-manes @keith-ratcliffe @mfmettler See #2158 as a proposed fix for this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859041756/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859121634","html_url":"https://github.com/apache/accumulo/issues/1975#issuecomment-859121634","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1975","id":859121634,"node_id":"MDEyOklzc3VlQ29tbWVudDg1OTEyMTYzNA==","user":{"login":"keith-ratcliffe","id":1606834,"node_id":"MDQ6VXNlcjE2MDY4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1606834?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-ratcliffe","html_url":"https://github.com/keith-ratcliffe","followers_url":"https://api.github.com/users/keith-ratcliffe/followers","following_url":"https://api.github.com/users/keith-ratcliffe/following{/other_user}","gists_url":"https://api.github.com/users/keith-ratcliffe/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-ratcliffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-ratcliffe/subscriptions","organizations_url":"https://api.github.com/users/keith-ratcliffe/orgs","repos_url":"https://api.github.com/users/keith-ratcliffe/repos","events_url":"https://api.github.com/users/keith-ratcliffe/events{/privacy}","received_events_url":"https://api.github.com/users/keith-ratcliffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-10T22:25:45Z","updated_at":"2021-06-10T22:25:45Z","author_association":"CONTRIBUTOR","body":"Will try out this patch on our cluster soon and let you know. Thanks!\n\nOn Thu, Jun 10, 2021 at 4:27 PM Christopher Tubbs ***@***.***>\nwrote:\n\n> Would the following change solve the problem?\n>\n> --- a/core/src/main/java/org/apache/accumulo/core/file/blockfile/cache/tinylfu/TinyLfuBlockCache.java+++ b/core/src/main/java/org/apache/accumulo/core/file/blockfile/cache/tinylfu/TinyLfuBlockCache.java@@ -199,13 +199,9 @@ public final class TinyLfuBlockCache implements BlockCache {\n>      }\n>    }\n>  -  private Block load(Loader loader, Map<String,byte[]> resolvedDeps) {-    byte[] data = loader.load((int) Math.min(Integer.MAX_VALUE, policy.getMaximum()), resolvedDeps);-    if (data == null) {-      return null;-    }--    return new Block(data);+  private Block load(Loader loader, Map<String,byte[]> resolvedDeps, long policyMax) {+    byte[] data = loader.load((int) Math.min(Integer.MAX_VALUE, policyMax), resolvedDeps);+    return data == null ? null : new Block(data);\n>    }\n>\n>    private Map<String,byte[]> resolveDependencies(Map<String,Loader> deps) {@@ -233,8 +229,9 @@ public final class TinyLfuBlockCache implements BlockCache {\n>    public CacheEntry getBlock(String blockName, Loader loader) {\n>      Map<String,Loader> deps = loader.getDependencies();\n>      Block block;+    final long policyMax = policy.getMaximum();\n>      if (deps.isEmpty()) {-      block = cache.get(blockName, k -> load(loader, Collections.emptyMap()));+      block = cache.get(blockName, k -> load(loader, Collections.emptyMap(), policyMax));\n>      } else {\n>        // This code path exist to handle the case where dependencies may need to be loaded. Loading\n>        // dependencies will access the cache. Cache load functions@@ -251,7 +248,8 @@ public final class TinyLfuBlockCache implements BlockCache {\n>          // Use asMap because it will not increment stats, getIfPresent recorded a miss above. Use\n>          // computeIfAbsent because it is possible another thread loaded\n>          // the data since this thread called getIfPresent.-        block = cache.asMap().computeIfAbsent(blockName, k -> load(loader, resolvedDeps));+        block =+            cache.asMap().computeIfAbsent(blockName, k -> load(loader, resolvedDeps, policyMax));\n>        }\n>      }\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/issues/1975#issuecomment-859029202>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAMIJMXUBX7YVB4ORRBQMITTSEN4FANCNFSM4ZYENTMQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859121634/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859241448","html_url":"https://github.com/apache/accumulo/issues/1973#issuecomment-859241448","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1973","id":859241448,"node_id":"MDEyOklzc3VlQ29tbWVudDg1OTI0MTQ0OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-11T03:47:32Z","updated_at":"2021-06-14T15:11:17Z","author_association":"MEMBER","body":"I was looking into this, and I think I was wrong about the preventative measure. It looks like it is already the case that none of these properties will have an effect until the tserver is restarted anyway. The only one that could affect things is enabling or disabling the use of the cache, and that is a per-table setting that should be possible to turn on and off at runtime.\r\n\r\nLooking into the stack trace a bit more, I started wondering if the `cacheId` wasn't unique. Unfortunately, the exceptions don't include the `blockName`, which they should.\r\n\r\nAdditionally, I saw that at least in one case, `SummaryReader.load()`, there is no `cacheId` being set at all, so it should be `null`, which seems prone to error, since that's clearly not unique. The `CacheableBuilder` object looks like a builder pattern, but doesn't enforce required fields, and doesn't have any validation function to ensure it was used correctly, so `cacheId` could easily be set to `null`. However, even if that is a problem for `SummaryReader.load()` (@keith-turner implemented summaries, so he might have some insight into that), it doesn't seem like it would cause the stack trace reported in this issue, which doesn't mention summaries at all.\r\n\r\nIf the problem is the `cacheId` is not unique (`null` or otherwise), then the block name looked up could have lots of collisions for the same offset (in `CacheableBlockFile.Reader.getMetaBlock()`, the block name is determined with `String _lookup = this.cacheId + \"R\" + offset;`).\r\n\r\nThere are a few things that can/should be done:\r\n\r\n1. Improve the exception messages to include the `blockName` to make debugging this easier; @keith-ratcliffe is this issue reproducible? If so, what blockName is printed with the IllegalStateExceptions? (Edit: #2163)\r\n2. Ensure `CacheableBuilder` enforces the requirement for a non-null `cacheId` by adding a `build()` function with validation, like a true builder pattern (might not fix the problem) (Edit: #2160)\r\n3. Can document these properties as \"fixed\" properties in ZK (would help with documentation only... would not help with this bug, since the code that sets up the cache manager is only executed once at startup). (Edit: #2164)\r\n\r\nWhile digging into this, I noticed there were a few classes in the stack trace that I don't have the source to to track down further.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859241448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859510939","html_url":"https://github.com/apache/accumulo/issues/1973#issuecomment-859510939","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1973","id":859510939,"node_id":"MDEyOklzc3VlQ29tbWVudDg1OTUxMDkzOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-11T11:19:52Z","updated_at":"2021-06-11T11:19:52Z","author_association":"CONTRIBUTOR","body":"> Ensure CacheableBuilder enforces the requirement for a non-null cacheId by adding a build() function with validation, like a true builder pattern (might not fix the problem)\r\n\r\nI will look into this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859510939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859624507","html_url":"https://github.com/apache/accumulo/issues/1973#issuecomment-859624507","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1973","id":859624507,"node_id":"MDEyOklzc3VlQ29tbWVudDg1OTYyNDUwNw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-11T14:32:54Z","updated_at":"2021-06-11T14:32:54Z","author_association":"CONTRIBUTOR","body":"I added a check for null cacheId in https://github.com/apache/accumulo/pull/2160 but like you said, not sure that will fix the underlying problem.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/859624507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860740553","html_url":"https://github.com/apache/accumulo/issues/1973#issuecomment-860740553","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1973","id":860740553,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDc0MDU1Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T14:41:55Z","updated_at":"2021-06-14T14:41:55Z","author_association":"MEMBER","body":"I added the blockName to the exception message in #2163 ; it doesn't fix anything, but if this issue can be reproduced, it should help debug it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860740553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860744842","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-860744842","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":860744842,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDc0NDg0Mg==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T14:47:27Z","updated_at":"2021-06-14T14:47:27Z","author_association":"CONTRIBUTOR","body":"I seem to have ran into some trouble getting the deprecation and upgrade code to remove the properties entirely from the config command in the ashell (and presumably from other places). Does anyone know more about this process of changing and updating property names? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860744842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860762932","html_url":"https://github.com/apache/accumulo/issues/1973#issuecomment-860762932","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1973","id":860762932,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDc2MjkzMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T15:10:11Z","updated_at":"2021-06-14T15:10:11Z","author_association":"MEMBER","body":"I also created #2164 to document the cache properties that require restart to take effect.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860762932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860765622","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-860765622","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":860765622,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDc2NTYyMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T15:13:40Z","updated_at":"2021-06-14T15:13:40Z","author_association":"MEMBER","body":"> Does anyone know more about this process of changing and updating property names?\r\n\r\nSure. What's your question? Where are you having trouble?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860765622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860777067","html_url":"https://github.com/apache/accumulo/pull/2162#issuecomment-860777067","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2162","id":860777067,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDc3NzA2Nw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T15:27:54Z","updated_at":"2021-06-14T15:27:54Z","author_association":"CONTRIBUTOR","body":"I found one more file to change. I believe have found them all now","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860777067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860785311","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-860785311","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":860785311,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDc4NTMxMQ==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T15:38:49Z","updated_at":"2021-06-14T15:38:49Z","author_association":"CONTRIBUTOR","body":"> Sure. What's your question? Where are you having trouble?\r\n\r\nThank you. I was wondering about what different parts of the overall code pertain to updating and changing the property names. I know Mike had previously mentioned config files and in zookeeper. \r\n\r\nI have changed all of the references throughout the code of the old `.walog.` property names to `.wal.`, I have also made sure that all of the old properties have both the `Deprecation` and `ReplacedBy` tag.\r\n\r\nFrom there I wanted to put some upgrade code in `Upgrader9to10.java` to rename properties that are not Master/ Manager specific. I then  made changes in `DeprecatedPropertyUtil.java` to help find the replacement name for the particular deprecated property.\r\n\r\nI guess I am wondering what more / changes could I possibly need to do to have them be replaced when looking at the list of Properties in something like the accumulo shell? ... Or if that is even the goal in this. I saw in #1873 that certain things were done to change properties' names, but that was quite different since it was a Prefix type.\r\n\r\nI hope this helps elaborate on my current progress.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860785311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860842161","html_url":"https://github.com/apache/accumulo/issues/1975#issuecomment-860842161","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1975","id":860842161,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDg0MjE2MQ==","user":{"login":"keith-ratcliffe","id":1606834,"node_id":"MDQ6VXNlcjE2MDY4MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1606834?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-ratcliffe","html_url":"https://github.com/keith-ratcliffe","followers_url":"https://api.github.com/users/keith-ratcliffe/followers","following_url":"https://api.github.com/users/keith-ratcliffe/following{/other_user}","gists_url":"https://api.github.com/users/keith-ratcliffe/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-ratcliffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-ratcliffe/subscriptions","organizations_url":"https://api.github.com/users/keith-ratcliffe/orgs","repos_url":"https://api.github.com/users/keith-ratcliffe/repos","events_url":"https://api.github.com/users/keith-ratcliffe/events{/privacy}","received_events_url":"https://api.github.com/users/keith-ratcliffe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-14T17:01:47Z","updated_at":"2021-06-14T17:01:47Z","author_association":"CONTRIBUTOR","body":"@ctubbsii, this does indeed appear to be fixed. After applying your #2158 changes to accumulo-core (on rel/2.0.1), the issue has so far not resurfaced while testing DataWave on our cluster.\r\n\r\nSteps to verify:\r\n1. Patch accumulo-core-2.0.1.jar and update on all worker nodes\r\n2. Configure `tserver.cache.manager.class`, etc as described above\r\n3. Bounce Accumulo\r\n4. Execute a significant number of concurrent scans to put tservers under load for several minutes\r\n\r\nAfter 60+ minutes of testing this patch, I'm confident that this is now resolved\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/860842161/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861540936","html_url":"https://github.com/apache/accumulo/pull/2117#issuecomment-861540936","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2117","id":861540936,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTU0MDkzNg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-15T14:20:21Z","updated_at":"2021-06-15T14:20:21Z","author_association":"CONTRIBUTOR","body":"@keith-turner Did you want to take another look at these changes? I think this is ready to merge","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861540936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861544072","html_url":"https://github.com/apache/accumulo/pull/2160#issuecomment-861544072","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2160","id":861544072,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTU0NDA3Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-15T14:24:04Z","updated_at":"2021-06-15T14:24:04Z","author_association":"CONTRIBUTOR","body":"> I think I need to spend some time doing a deep dive looking into how this cacheId is used to know if the overall strategy here is correct.\r\n> \r\n> I do like the check for nonnull and the API changes to the builder to require the cacheId when the InputStream is used, but have concerns about the value of using cacheIds that aren't predictable.\r\n\r\nOK how about I just simplify this change to add the nonnull check and include the cacheId (keeping the value the same). Then you can take it and explore further.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861544072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861612631","html_url":"https://github.com/apache/accumulo/issues/2166#issuecomment-861612631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2166","id":861612631,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTYxMjYzMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-15T15:45:49Z","updated_at":"2021-06-15T15:45:49Z","author_association":"MEMBER","body":"Here's a slight variation on what @EdColeman proposed. This version correctly shows the metadata table consistency as part of checking the root table, and user table consistency as part of checking the metadata table. It also adds a blank line in between.\r\n\r\n```\r\nChecking tables whose metadata is found in: accumulo.root (+r)\r\n...All is well for accumulo.metadata (!0)\r\nNo problems found in accumulo.root (+r)\r\n\r\nChecking tables whose metadata is found in: accumulo.metadata (!0)\r\n...All is well for table accumulo.replication (+rep)\r\n...All is well for table trace (1)\r\n...All is well for table table_A (2)\r\n...All is well for table table_B (3)\r\nNo problems found in accumulo.metadata (!0)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861612631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861669679","html_url":"https://github.com/apache/accumulo/issues/2165#issuecomment-861669679","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2165","id":861669679,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTY2OTY3OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-15T16:59:13Z","updated_at":"2021-06-15T16:59:13Z","author_association":"CONTRIBUTOR","body":"Would be nice to do some perf test using DataOutputStream wrapping ByteArrayOutputStream or UnsynchronizedByteArrayOutputStream and serializing a few million different data type like key to verify that is makes a performance difference.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861669679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861670888","html_url":"https://github.com/apache/accumulo/pull/2117#issuecomment-861670888","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2117","id":861670888,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTY3MDg4OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-15T17:01:05Z","updated_at":"2021-06-15T17:01:05Z","author_association":"CONTRIBUTOR","body":"> @keith-turner Did you want to take another look at these changes? I think this is ready to merge\r\n\r\ncurrently looking at it","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861670888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861678284","html_url":"https://github.com/apache/accumulo/issues/2030#issuecomment-861678284","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2030","id":861678284,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTY3ODI4NA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-15T17:11:00Z","updated_at":"2021-06-15T17:11:00Z","author_association":"CONTRIBUTOR","body":"Maybe we should have delete call cancel compactions on the table before trying to get the write lock.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861678284/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861790721","html_url":"https://github.com/apache/accumulo/pull/2169#issuecomment-861790721","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2169","id":861790721,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTc5MDcyMQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-15T19:57:43Z","updated_at":"2021-06-15T19:57:43Z","author_association":"CONTRIBUTOR","body":"I'm going to add a test to ExternalCompactionIT to test deleting a table during a user compaction. We have a test where a table delete happens during a system compaction, but not during a user compaction","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/861790721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/862469380","html_url":"https://github.com/apache/accumulo/issues/882#issuecomment-862469380","issue_url":"https://api.github.com/repos/apache/accumulo/issues/882","id":862469380,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MjQ2OTM4MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-16T15:18:19Z","updated_at":"2021-06-16T15:18:19Z","author_association":"CONTRIBUTOR","body":"With the work done in #2117, this could be achieved by creating a dedicated RFile block cache for Recovery.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/862469380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/862676199","html_url":"https://github.com/apache/accumulo/pull/2170#issuecomment-862676199","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2170","id":862676199,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MjY3NjE5OQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-16T20:05:04Z","updated_at":"2021-06-16T20:05:04Z","author_association":"CONTRIBUTOR","body":"I will help investigate the issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/862676199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/862708577","html_url":"https://github.com/apache/accumulo/pull/2170#issuecomment-862708577","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2170","id":862708577,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MjcwODU3Nw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-16T20:41:25Z","updated_at":"2021-06-16T21:29:59Z","author_association":"CONTRIBUTOR","body":"From my testing (using your test), the issue appears to be more related to the length of the CharSequence than what is in the CharSequence. \r\n\r\n\r\nEDIT: Found from https://stackoverflow.com/questions/19472011/java-stringbuffer-to-byte-without-tostring (which is slightly different but is the same issue it seems). The issue relates to how `encoder.encode(CharBuffer.wrap(chars)).array()` returns the entire backing array, which can contain extra bytes. The solution listed there does indeed work though I am open to see what others think on the best solution here. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/862708577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/863170939","html_url":"https://github.com/apache/accumulo/pull/2170#issuecomment-863170939","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2170","id":863170939,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzE3MDkzOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T11:46:55Z","updated_at":"2021-06-17T11:46:55Z","author_association":"CONTRIBUTOR","body":"> From my testing (using your test), the issue appears to be more related to the length of the CharSequence than what is in the CharSequence.\r\n\r\nYeah it looks like 10 or more characters comes back with an extra byte. While 9 characters or less is fine.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/863170939/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/863195191","html_url":"https://github.com/apache/accumulo/pull/2170#issuecomment-863195191","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2170","id":863195191,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzE5NTE5MQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T12:26:02Z","updated_at":"2021-06-17T12:26:02Z","author_association":"CONTRIBUTOR","body":"There is a simpler way to convert from `CharSequence` to byte array that I implemented it in 9c99225. I am not sure why the Java `CharsetEncoder` was used in the first place.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/863195191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/863239227","html_url":"https://github.com/apache/accumulo/pull/2170#issuecomment-863239227","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2170","id":863239227,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzIzOTIyNw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T13:27:58Z","updated_at":"2021-06-17T13:27:58Z","author_association":"CONTRIBUTOR","body":"The original PR https://github.com/apache/accumulo/pull/145 for KeyBuilder used `CharsetEncoder` as a replacement for Text to avoid going from string->text->bytes. But I think this was an oversight as we can just go from String -> bytes and avoid the `CharBuffer` and `CharsetEncoder` expanding the byte array beyond the original size of the `CharSequence`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/863239227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/863373073","html_url":"https://github.com/apache/accumulo/issues/2146#issuecomment-863373073","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2146","id":863373073,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzM3MzA3Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T16:11:55Z","updated_at":"2021-06-17T16:12:33Z","author_association":"MEMBER","body":"The main thing is to track down all the uses of any of the properties you're changing, to ensure they use the `conf.resolve()` function to read their values from whichever key the user used. That, and the `@ReplacedBy` and `@Deprecated` annotations should be enough to deprecate them.\r\n\r\nIf we want to be more aggressive, then we can do something like #1873 to block the old property name from being persisted in ZooKeeper and modify the upgrade code to translate any existing properties in ZooKeeper. However, that's not critical. It could be done before removing the old properties entirely, but it isn't necessary as part of the deprecation step. I think the main reason we did that for #1873 is because we anticipate dropping support for the old name a bit more aggressively in that case.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/863373073/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866153859","html_url":"https://github.com/apache/accumulo/issues/2166#issuecomment-866153859","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2166","id":866153859,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjE1Mzg1OQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T16:45:20Z","updated_at":"2021-06-22T16:45:20Z","author_association":"CONTRIBUTOR","body":"Once this issue is resolved, the website should be updated to match the expected output. Similar to what was done in PR [accumulo-website#285](https://github.com/apache/accumulo-website/pull/285).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866153859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866182372","html_url":"https://github.com/apache/accumulo/issues/2166#issuecomment-866182372","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2166","id":866182372,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjE4MjM3Mg==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T17:23:40Z","updated_at":"2021-06-22T17:23:40Z","author_association":"CONTRIBUTOR","body":"I am interested in working on this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866182372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866258508","html_url":"https://github.com/apache/accumulo/issues/2174#issuecomment-866258508","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2174","id":866258508,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI1ODUwOA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T19:09:49Z","updated_at":"2021-06-22T19:09:49Z","author_association":"MEMBER","body":"I would like to be assigned to this ticket.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866258508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866381761","html_url":"https://github.com/apache/accumulo/issues/2173#issuecomment-866381761","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2173","id":866381761,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjM4MTc2MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T22:35:02Z","updated_at":"2021-06-22T23:02:25Z","author_association":"MEMBER","body":"I made some comments at https://github.com/apache/accumulo/pull/2117#pullrequestreview-690052589 and https://github.com/apache/accumulo/pull/2117#pullrequestreview-690053323 that might be related to this problem. In addition, there is some funniness casting to a `(byte)` if the value is `255`.\r\n\r\nConsider this: `byte b = (byte) 255; int x = 1 + b;`\r\nThis will result in `0`, and not the expected `256`.\r\n\r\nAlso, I see some attempts to truncate any sign-extension bits, but that's being done before it is cast to a `(byte)`, when it should be done prior to the `|` (currently `+`), because that operator will be operating on sign-extended int versions of the byte, and not the raw byte, so we'd want to remove the effects of sign extension before putting it in the bitwise operation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866381761/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866798253","html_url":"https://github.com/apache/accumulo/pull/2176#issuecomment-866798253","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2176","id":866798253,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njc5ODI1Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T12:37:14Z","updated_at":"2021-06-23T12:37:14Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I opened https://github.com/apache/accumulo/pull/2177 with the fixes I had for this from yesterday before seeing this PR. I think your changes to the byte decoding are better but I have comments and tests I added as well, which I would like to merge. I am going to merge your changes so I can resolve them with mine.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866798253/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866903904","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-866903904","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":866903904,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjkwMzkwNA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T14:48:14Z","updated_at":"2021-06-23T14:48:14Z","author_association":"CONTRIBUTOR","body":"Would you expect that `yamllint` and `yq` be prerequisites for installing Accumulo so that we could use them to validate and parse the yaml file?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866903904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866971695","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-866971695","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":866971695,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njk3MTY5NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T16:08:22Z","updated_at":"2021-06-23T16:08:22Z","author_association":"CONTRIBUTOR","body":"I have not done anything w/ yaml using command line tools.  I wonder if there are tools that would make it possible to convert the existing files to yaml in a few lines of bash.  If so the script could detect the old files and just print an error message w/ the suggested commands to run to convert them.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866971695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866979795","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-866979795","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":866979795,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Njk3OTc5NQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T16:19:25Z","updated_at":"2021-06-23T17:04:53Z","author_association":"CONTRIBUTOR","body":"Install `yamllint` and `yq`:\r\n\r\n```\r\nsudo yum install yamllint\r\nwget https://github.com/mikefarah/yq/releases/download/v4.9.6/yq_linux_amd64 -O yq\r\n```\r\n\r\nSo, for this file:\r\n```\r\n---\r\nmanagers:\r\n  - localhost1\r\n  - localhost2\r\n\r\nmonitors:\r\n  - localhost1\r\n  - localhost2\r\n\r\ntracer: # EDIT by @ctubbsii : this should be 'tracer' not 'trace', since this refers to the accumulo-tracer service.\r\n  - localhost\r\n\r\ngc:\r\n  - localhost\r\n\r\ntservers:\r\n  - localhost1\r\n  - localhost2\r\n  - localhost3\r\n  - localhost4\r\n\r\n# compaction:\r\n#   coordinators:\r\n#     - localhost1\r\n#     - localhost2\r\n#   compactors:\r\n#     - queue: q1\r\n#       hosts:\r\n#         - localhost1\r\n#         - localhost2\r\n#     - queue: q2\r\n#       hosts:\r\n#         - localhost1\r\n#         - localhost2\r\n\r\n```\r\n\r\nThese commands  work:\r\n\r\n```\r\nyamllint -s hosts.yaml      # 0 == success, anything else is error and malformed\r\nmanagers=$(yq eval '.managers | join(\",\")' hosts.yaml) \r\nmonitors=$(yq eval '.monitors | join(\",\")' hosts.yaml)\r\ngc=$(yq eval '.gc | join(\",\")' hosts.yaml)\r\ntservers=$(yq eval '.tservers | join(\",\")' hosts.yaml)\r\nyq eval '.compaction' hosts.yaml     #  null --> means its commented out\r\ncoordinators=$(yq eval '.compaction.coordinators | join(\",\")' hosts.yaml)\r\nqueues=$(yq eval '[.compaction.compactors.[].queue] | join(\",\")' hosts.yaml)\r\nqueue1_hosts=$(yq eval '.compaction.compactors.[] | select (.queue == \"q1\") | .hosts | join(\",\")' hosts.yaml)\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/866979795/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867008292","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-867008292","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":867008292,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzAwODI5Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T17:02:03Z","updated_at":"2021-06-23T17:02:03Z","author_association":"MEMBER","body":"> Would you expect that `yamllint` and `yq` be prerequisites for installing Accumulo so that we could use them to validate and parse the yaml file?\r\n\r\nI've never used these. I'm not sure what we'd use to parse. However, I don't think it'd be unreasonable to add a yaml parser dependency for the `accumulo-cluster` script. (Note: I specified that it'd be fore the `accumulo-cluster` script, because I really think of that as a separate cluster-management utility that ships alongside of Accumulo, but is not *part of* Accumulo. It's optional, and users may wish to use a completely different cluster management mechanism. These are only included in the tarball because we've trained users to expect some kind of cluster management scripts ... aka 'start-all'... from early days. My preference is that they live in a separate repo, or live under a `contrib` folder. I mention this here, only to clarify the distinction between what is \"Accumulo\" and what is \"accumulo-cluster\", so as to keep the interface between the two separate and avoid tight coupling between the two).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867008292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867015784","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-867015784","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":867015784,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzAxNTc4NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T17:13:21Z","updated_at":"2021-06-23T17:13:21Z","author_association":"MEMBER","body":"I am concerned about adding `yq` as a dependency, since it's not conveniently packaged for RPM-based distros. I wonder if `shyaml` might be better, which wraps `pyyaml`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867015784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867028267","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-867028267","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":867028267,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzAyODI2Nw==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T17:33:25Z","updated_at":"2021-06-23T17:33:25Z","author_association":"CONTRIBUTOR","body":"It looks like to install `shyaml` and `pyyaml` you need to first install `python` and `pip`. In some environments you may need to specially configure `pip`. `yq` is a single binary.  It looks like `rpm` is the only format in which it's not packaged, although I found easy instructions for doing it. It could be installed on CentOS / RHEL via Snap: https://snapcraft.io/install/yq/rhel\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867028267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867106698","html_url":"https://github.com/apache/accumulo/pull/2175#issuecomment-867106698","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2175","id":867106698,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzEwNjY5OA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T19:38:28Z","updated_at":"2021-06-23T19:38:28Z","author_association":"CONTRIBUTOR","body":"GitHub does not seem to show the files that were changed by my revert of a previous commit in commit e886e19. Interesting...","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867106698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867195057","html_url":"https://github.com/apache/accumulo/pull/2175#issuecomment-867195057","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2175","id":867195057,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzE5NTA1Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T22:13:25Z","updated_at":"2021-06-23T22:13:25Z","author_association":"MEMBER","body":"> GitHub does not seem to show the files that were changed by my revert of a previous commit in commit [e886e19](https://github.com/apache/accumulo/commit/e886e19322f9eaa76123c9b2b3533ad1a073474e). Interesting...\r\n\r\nIf GitHub isn't showing the diff between main and your PR correctly, you can probably just rebase/squash and force-push your branch to get things viewing properly again. Sometimes that can make reviews harder, but this PR has changed a lot based on the discussion, so it might help clean things up and make it easier in this case.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867195057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867268234","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-867268234","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":867268234,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzI2ODIzNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T01:43:57Z","updated_at":"2021-06-24T01:43:57Z","author_association":"MEMBER","body":"If you do `sudo dnf install shyaml`, it automatically pulls in dependencies. You don't need to install pip at all, and since dnf/yum already depends on python, it will already be installed. That said, I already use snaps for a few things, so I didn't have a problem installing the snap for `yq`. So, whatever you think would be easiest for users. If you prefer, we could also just do JSON instead of YAML, only because there's a ton of parsers already available.\r\n\r\nWe could also do something in Java. We already have commons-configuration2 on the classpath, and it supports YAML. We already call Java in the accumulo-cluster script for ZooZap. It wouldn't be hard to write something small that parses our config file for us and extracts the relevant bits.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867268234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867744305","html_url":"https://github.com/apache/accumulo/pull/2180#issuecomment-867744305","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2180","id":867744305,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzc0NDMwNQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T15:43:41Z","updated_at":"2021-06-24T15:43:41Z","author_association":"CONTRIBUTOR","body":"Can you give a sample of the output. Similar to what would be shown in the tools section on the accumulo-website.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867744305/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867763969","html_url":"https://github.com/apache/accumulo/issues/2179#issuecomment-867763969","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2179","id":867763969,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzc2Mzk2OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T16:05:39Z","updated_at":"2021-06-24T16:57:16Z","author_association":"CONTRIBUTOR","body":"I tested an upgrade in Uno from 2.0.1 to 2.1.0-SNAPSHOT with some data and sorted WAL files. I was surprised to not see any errors trying to recover the old map files. I noticed that the GC deleted the files rather quickly after the Upgrader was finished.\r\n\r\n<pre>\r\n11:04:24 {main} ~/workspace/uno$ hdfs dfs -ls -R /accumulo/recovery\r\ndrwxr-xr-x   - mike supergroup          0 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3\r\ndrwxr-xr-x   - mike supergroup          0 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3/part-r-00000\r\n-rw-r--r--   3 mike supergroup     366452 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3/part-r-00000/data\r\n-rw-r--r--   3 mike supergroup        255 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3/part-r-00000/index\r\ndrwxr-xr-x   - mike supergroup          0 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3/part-r-00001\r\n-rw-r--r--   3 mike supergroup     366592 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3/part-r-00001/data\r\n-rw-r--r--   3 mike supergroup        224 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3/part-r-00001/index\r\ndrwxr-xr-x   - mike supergroup          0 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3/part-r-00002\r\n-rw-r--r--   3 mike supergroup     366727 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3/part-r-00002/data\r\n-rw-r--r--   3 mike supergroup        224 2021-06-24 11:04 /accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3/part-r-00002/index\r\n\r\n11:49:32 {main} ~/workspace/uno/install/logs/accumulo$ grep 980ce402-07dc-4a09-b6ac-e26664db29a3 *\r\ngc_ip-10-113-12-25.log:2021-06-24T11:08:05,957 [gc.GarbageCollectWriteAheadLogs] DEBUG: Removing CLOSED WAL hdfs://localhost:8020/accumulo/wal/ip-10-113-12-25+9997/980ce402-07dc-4a09-b6ac-e26664db29a3\r\ngc_ip-10-113-12-25.log:2021-06-24T11:08:05,965 [gc.GarbageCollectWriteAheadLogs] DEBUG: Removing recovery log hdfs://localhost:8020/accumulo/recovery/980ce402-07dc-4a09-b6ac-e26664db29a3\r\ngc_ip-10-113-12-25.log:2021-06-24T11:08:05,979 [log.WalStateManager] DEBUG: Removing 980ce402-07dc-4a09-b6ac-e26664db29a3\r\n</pre>\r\n\r\nThis could have been because the sorted files were no longer referenced. I am going to try the test again but use CI to make sure there wasn't data any data loss.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867763969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867765440","html_url":"https://github.com/apache/accumulo/pull/2180#issuecomment-867765440","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2180","id":867765440,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzc2NTQ0MA==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T16:07:43Z","updated_at":"2021-06-24T16:07:43Z","author_association":"CONTRIBUTOR","body":"```\r\nThe updated output:\r\n \r\n> accumulo org.apache.accumulo.server.util.CheckForMetadataProblems -u root\r\n\r\n2021-06-24T12:03:47,299 [conf.SiteConfiguration] INFO : Found Accumulo configuration on classpath at /home/lukefoster/github/fluo-uno/install/accumulo-2.1.0-SNAPSHOT/conf/accumulo.properties\r\nChecking tables whos metadata is found in: accumulo.root (+r)\r\n...All is well for table accumulo.metadata (!0)\r\nNo problems found in accumulo.root (+r)\r\n\r\nChecking tables whos metadata is found in: accumulo.metadata (!0)\r\n...All is well for table accumulo.replication (+rep)\r\n...All is well for table trace (1)\r\nNo problems found in accumulo.metadata (!0)\r\n```\r\n\r\nThis also shows the extra log line I had mentioned in the initial comment.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867765440/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867799697","html_url":"https://github.com/apache/accumulo/issues/2179#issuecomment-867799697","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2179","id":867799697,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzc5OTY5Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T16:54:23Z","updated_at":"2021-06-24T16:54:23Z","author_association":"CONTRIBUTOR","body":"After repeating the upgrade again and using CI, I did see errors and Accumulo was unable to recover properly. \r\n<pre>\r\n2021-06-24T12:48:55,826 [log.RecoveryLogsIterator] DEBUG: Opening recovery log dir 0367b0c1-12fb-4d94-8335-061b7c9ac232\r\n2021-06-24T12:48:55,831 [tserver.AssignmentHandler] WARN : exception trying to assign tablet !0<;~ null\r\njava.lang.RuntimeException: Error recovering tablet !0<;~ from log files\r\n        at org.apache.accumulo.tserver.tablet.Tablet.<init>(Tablet.java:407) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.AssignmentHandler.run(AssignmentHandler.java:160) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.ActiveAssignmentRunnable.run(ActiveAssignmentRunnable.java:63) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.htrace.wrappers.TraceRunnable.run(TraceRunnable.java:57) ~[htrace-core-3.2.0-incubating.jar:3.2.0-incubating]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:829) [?:?]\r\nCaused by: java.io.IOException: java.lang.RuntimeException: java.io.FileNotFoundException: Path is not a file: /accumulo/recovery/0367b0c1-12fb-4d94-8335-061b7c9ac232/part-r-00000\r\n        at org.apache.hadoop.hdfs.server.namenode.INodeFile.valueOf(INodeFile.java:90)\r\n        at org.apache.hadoop.hdfs.server.namenode.INodeFile.valueOf(INodeFile.java:76)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSDirStatAndListingOp.getBlockLocations(FSDirStatAndListingOp.java:156)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:2070)\r\n        at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:770)\r\n        at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:458)\r\n        at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\r\n        at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:532)\r\n        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)\r\n        at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1020)\r\n        at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:948)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/javax.security.auth.Subject.doAs(Subject.java:423)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1845)\r\n        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2952)\r\n\r\n        at org.apache.accumulo.tserver.log.TabletServerLogger.recover(TabletServerLogger.java:540) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.TabletServer.recover(TabletServer.java:1153) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.Tablet.<init>(Tablet.java:366) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        ... 6 more\r\nCaused by: java.lang.RuntimeException: java.io.FileNotFoundException: Path is not a file: /accumulo/recovery/0367b0c1-12fb-4d94-8335-061b7c9ac232/part-r-00000\r\n        at org.apache.hadoop.hdfs.server.namenode.INodeFile.valueOf(INodeFile.java:90)\r\n        at org.apache.hadoop.hdfs.server.namenode.INodeFile.valueOf(INodeFile.java:76)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSDirStatAndListingOp.getBlockLocations(FSDirStatAndListingOp.java:156)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getBlockLocations(FSNamesystem.java:2070)\r\n        at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.getBlockLocations(NameNodeRpcServer.java:770)\r\n        at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.getBlockLocations(ClientNamenodeProtocolServerSideTranslatorPB.java:458)\r\n        at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\r\n        at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:532)\r\n        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1070)\r\n        at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1020)\r\n        at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:948)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/javax.security.auth.Subject.doAs(Subject.java:423)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1845)\r\n        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2952)\r\n\r\n        at org.apache.accumulo.core.client.rfile.RFileScanner.iterator(RFileScanner.java:398) ~[accumulo-core-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.RecoveryLogsIterator.validateFirstKey(RecoveryLogsIterator.java:156) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.RecoveryLogsIterator.<init>(RecoveryLogsIterator.java:77) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.SortedLogRecovery.findMaxTabletId(SortedLogRecovery.java:107) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.SortedLogRecovery.findLogsThatDefineTablet(SortedLogRecovery.java:147) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.SortedLogRecovery.recover(SortedLogRecovery.java:291) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.log.TabletServerLogger.recover(TabletServerLogger.java:538) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.TabletServer.recover(TabletServer.java:1153) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.Tablet.<init>(Tablet.java:366) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        ... 6 more\r\n        Suppressed: java.lang.NullPointerException\r\n                at org.apache.accumulo.core.client.rfile.RFileScannerBuilder$InputArgs.getSources(RFileScannerBuilder.java:64) ~[accumulo-core-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.core.client.rfile.RFileScanner.close(RFileScanner.java:405) ~[accumulo-core-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.log.RecoveryLogsIterator.validateFirstKey(RecoveryLogsIterator.java:153) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.log.RecoveryLogsIterator.<init>(RecoveryLogsIterator.java:77) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.log.SortedLogRecovery.findMaxTabletId(SortedLogRecovery.java:107) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.log.SortedLogRecovery.findLogsThatDefineTablet(SortedLogRecovery.java:147) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.log.SortedLogRecovery.recover(SortedLogRecovery.java:291) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.log.TabletServerLogger.recover(TabletServerLogger.java:538) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.TabletServer.recover(TabletServer.java:1153) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.tablet.Tablet.<init>(Tablet.java:366) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.AssignmentHandler.run(AssignmentHandler.java:160) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.accumulo.tserver.ActiveAssignmentRunnable.run(ActiveAssignmentRunnable.java:63) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n                at org.apache.htrace.wrappers.TraceRunnable.run(TraceRunnable.java:57) ~[htrace-core-3.2.0-incubating.jar:3.2.0-incubating]\r\n                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n                at java.lang.Thread.run(Thread.java:829) [?:?]\r\n</pre>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867799697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867816943","html_url":"https://github.com/apache/accumulo/issues/2179#issuecomment-867816943","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2179","id":867816943,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzgxNjk0Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T17:21:47Z","updated_at":"2021-06-24T17:21:47Z","author_association":"CONTRIBUTOR","body":"Once I deleted the sorted WAL files (everything in /accumulo/recovery) and restarted, Accumulo was able to recovery properly. The simplest way to handle these files would be to just delete everything in /accumulo/recovery in `Upgrader9to10`. This should be fine, since the files are intermediate and the data should still exist in the original WAL under /accumulo/wal. Another option would be to print a warning that the files exist and say that the files must be removed to proceed. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867816943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867825880","html_url":"https://github.com/apache/accumulo/issues/2179#issuecomment-867825880","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2179","id":867825880,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzgyNTg4MA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T17:36:46Z","updated_at":"2021-06-24T17:36:46Z","author_association":"CONTRIBUTOR","body":"Option 2 Seems similar to the way that FATEs are handled during an upgrade - basically if any FATEs exist, the upgrade stops with a warning.  And IIRC, that includes FATEs that have completed with a SUCCESS but not reported back to the client and cleaned-up.  So, its not just active FATEs, but any FATE, active, failed or success.  I think this is to prevent potential serialization changes between versions causing issues.\r\n\r\nIf they really intermediate and can will be auto-regenerated if needed, then the first option seems to be the most user friendly, but option 2 does have a precedent. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867825880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867928978","html_url":"https://github.com/apache/accumulo/issues/2174#issuecomment-867928978","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2174","id":867928978,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzkyODk3OA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T20:26:14Z","updated_at":"2021-06-24T20:26:14Z","author_association":"MEMBER","body":"After some investigation, it seems this feature may be harder to implement than I originally anticipated. It looks like most of the work to make this happen would need to be done to the scan command rather than the listscans command. As it stands (unless I am overlooking something, which is very possible) there is no apparent clean or easy way to display the file count for a given scan. Before continuing I wanted to see if there is still any desire for this feature or see if anyone had ideas that might make implementing this easier/better/etc.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/867928978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/868465742","html_url":"https://github.com/apache/accumulo/issues/1916#issuecomment-868465742","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1916","id":868465742,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODQ2NTc0Mg==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T12:30:20Z","updated_at":"2021-06-25T12:30:20Z","author_association":"MEMBER","body":"@ivakegg found something in the [TabletIterator](https://github.com/apache/accumulo/blob/rel/1.9.3/server/base/src/main/java/org/apache/accumulo/server/util/TabletIterator.java) that could miss a section of the metadata table during scanning.  This would cause those candidates not to be removed from the candidateMap when GC is [checking](https://github.com/apache/accumulo/blob/rel/1.9.3/server/gc/src/main/java/org/apache/accumulo/gc/GarbageCollectionAlgorithm.java#L176) and therefore still be part of the [candidateMap](https://github.com/apache/accumulo/blob/rel/1.9.3/server/gc/src/main/java/org/apache/accumulo/gc/GarbageCollectionAlgorithm.java#L311) where references are removed.  This hypothesis is consistent with what was seen several times on a large cluster.  \r\n\r\nPart of working out how this could happen is understanding how the client code handles a scan failure.  Stepping through the code, I hit this section in [ScannerIterator](https://github.com/apache/accumulo/blob/rel/1.9.3/core/src/main/java/org/apache/accumulo/core/client/impl/ScannerIterator.java#L93) which appears to swallow the errors.  The first group of exceptions is logged at TRACE, the systems where we have seen this issue log at DEBUG.   \r\n\r\nSo if what I am seeing is correct, something as simple as a scan timeout in an unfortunate metadata range in the TabletIterator would not log anything and the consistency checks would not catch issue.\r\n\r\nWorking to reproduce and prove this locally. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/868465742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/868731317","html_url":"https://github.com/apache/accumulo/issues/2172#issuecomment-868731317","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2172","id":868731317,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODczMTMxNw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T17:45:21Z","updated_at":"2021-06-25T18:24:19Z","author_association":"CONTRIBUTOR","body":"I currently have a workable solution for the first half of the ticket (still needs some revision) but I am currently looking into the second part. It appears the Log File Header is incorrect or at least not something `DfsLogger.getDecryptingStream` expects. I am still investigating but if someone has an idea on a possible solution, I am all ears. \r\n\r\nEDIT: MagicBuffer doesn't equal either magic4 or magic3 inside `DfsLogger.getDecryptingStream`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/868731317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/868773347","html_url":"https://github.com/apache/accumulo/issues/2154#issuecomment-868773347","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2154","id":868773347,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODc3MzM0Nw==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T19:03:44Z","updated_at":"2021-06-28T16:56:14Z","author_association":"MEMBER","body":"> Seems like it wold be better to return nothing in the case where the prev end rows do not match\r\n\r\n@keith-turner Do you think it would be best to just check that the prevEndRows match before it is returned (in AmpleImpl.readTablet), or only return metadata whose prevEndRows match from the TabletsMetadata.builder? Either route seems doable.\r\n\r\n> If a changes is made, would also need to change the new method from #2152.\r\n\r\nWhich portion of #2152 do you think would need to be changed?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/868773347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869657285","html_url":"https://github.com/apache/accumulo/issues/2172#issuecomment-869657285","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2172","id":869657285,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTY1NzI4NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-28T12:51:41Z","updated_at":"2021-06-28T12:51:41Z","author_association":"CONTRIBUTOR","body":"> I currently have a workable solution for the first half of the ticket (still needs some revision) but I am currently looking into the second part. It appears the Log File Header is incorrect or at least not something `DfsLogger.getDecryptingStream` expects. I am still investigating but if someone has an idea on a possible solution, I am all ears.\r\n\r\nThe `DfsLogger` class won't be able to read the sorted recovery RFiles, it can only read the original WALs. One solution I was thinking was to just refactor `LogReader` to use `RecoveryLogsIterator` to read the sorted recovery RFiles if that is what the user passes as a parameter.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869657285/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869692365","html_url":"https://github.com/apache/accumulo/issues/2179#issuecomment-869692365","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2179","id":869692365,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTY5MjM2NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-28T13:37:19Z","updated_at":"2021-06-28T13:37:19Z","author_association":"CONTRIBUTOR","body":"> Option 2 Seems similar to the way that FATEs are handled during an upgrade - basically if any FATEs exist, the upgrade stops with a warning. And IIRC, that includes FATEs that have completed with a SUCCESS but not reported back to the client and cleaned-up. So, its not just active FATEs, but any FATE, active, failed or success. I think this is to prevent potential serialization changes between versions causing issues.\r\n\r\nIt seems like we have a good reason to handle FATE operations that way. I can't think of a reason why we would need to keep around an intermediate sorted WAL. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869692365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869700675","html_url":"https://github.com/apache/accumulo/issues/2174#issuecomment-869700675","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2174","id":869700675,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTcwMDY3NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-28T13:48:25Z","updated_at":"2021-06-28T13:48:25Z","author_association":"CONTRIBUTOR","body":"You could add a new method to `ActiveScan` class and use it to get the number of files. This [class](https://github.com/apache/accumulo/blob/3fd5cad92f9b63ac19e4466f3f2d5237b905262c/core/src/main/java/org/apache/accumulo/core/client/admin/ActiveScan.java) is returned by the getActiveScans() method on the `InstaceOperations` API. This would probably also require adding another value on the thrift endpoint as well in [tabletserver.thrift](https://github.com/apache/accumulo/blob/cd2dfa12943a1fce279c8399c68e1b7f4f752958/core/src/main/thrift/tabletserver.thrift#L83)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869700675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869750066","html_url":"https://github.com/apache/accumulo/issues/1916#issuecomment-869750066","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1916","id":869750066,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTc1MDA2Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-28T14:49:43Z","updated_at":"2021-06-28T14:49:43Z","author_association":"CONTRIBUTOR","body":"FYI it looks like the code in question in `ScannerIterator` changed significantly in 2.0. The Queue that was holding the exceptions was replaced by a class in `ScannerImpl` called `Reporter`. Most of the changes took place in https://github.com/apache/accumulo/pull/905","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869750066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869811909","html_url":"https://github.com/apache/accumulo/issues/2174#issuecomment-869811909","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2174","id":869811909,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTgxMTkwOQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-28T16:06:12Z","updated_at":"2021-06-28T16:06:12Z","author_association":"MEMBER","body":"@milleruntime The problem is getting the file count. It seems like the file count is something that would need to be measured as the scan itself is taking place. I'm not sure of a way to determine which files were scanned given the info available from an activescan.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/869811909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870139146","html_url":"https://github.com/apache/accumulo/issues/1953#issuecomment-870139146","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1953","id":870139146,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDEzOTE0Ng==","user":{"login":"Akshit6828","id":57808363,"node_id":"MDQ6VXNlcjU3ODA4MzYz","avatar_url":"https://avatars.githubusercontent.com/u/57808363?v=4","gravatar_id":"","url":"https://api.github.com/users/Akshit6828","html_url":"https://github.com/Akshit6828","followers_url":"https://api.github.com/users/Akshit6828/followers","following_url":"https://api.github.com/users/Akshit6828/following{/other_user}","gists_url":"https://api.github.com/users/Akshit6828/gists{/gist_id}","starred_url":"https://api.github.com/users/Akshit6828/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Akshit6828/subscriptions","organizations_url":"https://api.github.com/users/Akshit6828/orgs","repos_url":"https://api.github.com/users/Akshit6828/repos","events_url":"https://api.github.com/users/Akshit6828/events{/privacy}","received_events_url":"https://api.github.com/users/Akshit6828/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T00:32:47Z","updated_at":"2021-06-29T00:32:47Z","author_association":"CONTRIBUTOR","body":"Hi @EdColeman. I am looking forward to working more on this project. Please let me know if any new contributions would be needed. For my skills and ability, please visit my profile and let me know if can contribute.\r\nI would ❤️  to contribute more.\r\nThank you 😄 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870139146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870551811","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-870551811","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":870551811,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDU1MTgxMQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T12:21:35Z","updated_at":"2021-06-29T12:21:35Z","author_association":"CONTRIBUTOR","body":"> If you prefer, we could also just do JSON instead of YAML, only because there's a ton of parsers already available.\r\n\r\nJson would work too. Unfortunately json does not allow for comments in files. So you would need two different types of files depending on whether or not you are using external compactions. The examples below are with and without external compactions.\r\n\r\n```\r\n{\r\n  \"managers\": [\r\n    \"localhost1\",\r\n    \"localhost2\"\r\n    ],\r\n  \"monitors\": [\r\n    \"localhost1\",\r\n    \"localhost2\"\r\n    ],\r\n  \"tracers\": [\r\n    \"localhost1\"\r\n    ],\r\n  \"gc\": [\r\n    \"localhost1\"\r\n    ],\r\n  \"tservers\": [\r\n    \"localhost1\",\r\n    \"localhost2\",\r\n    \"localhost3\",\r\n    \"localhost4\"\r\n    ],\r\n  \"compaction\": {\r\n    \"coordinators\": [\r\n      \"localhost1\",\r\n      \"localhost2\"\r\n      ],\r\n    \"compactors\": [\r\n      {\r\n        \"queue\": \"q1\",\r\n        \"hosts\": [\r\n          \"localhost1\",\r\n          \"localhost2\"\r\n          ]\r\n      },\r\n      {\r\n        \"queue\": \"q2\",\r\n        \"hosts\": [\r\n          \"localhost1\",\r\n          \"localhost2\"\r\n          ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n```\r\n{\r\n  \"managers\": [\r\n    \"localhost1\",\r\n    \"localhost2\"\r\n    ],\r\n  \"monitors\": [\r\n    \"localhost1\",\r\n    \"localhost2\"\r\n    ],\r\n  \"tracers\": [\r\n    \"localhost1\"\r\n    ],\r\n  \"gc\": [\r\n    \"localhost1\"\r\n    ],\r\n  \"tservers\": [\r\n    \"localhost1\",\r\n    \"localhost2\",\r\n    \"localhost3\",\r\n    \"localhost4\"\r\n    ]\r\n}\r\n```\r\n\r\n `yq` is an extension of `jq` [link](https://stedolan.github.io/jq/) and I believe that `jq` packages are more widely available ( see https://stedolan.github.io/jq/download/).  The following commands using `jq` work (very similar to the `yq` examples above):\r\n \r\n ```\r\n managers=$(jq '.managers | join(\",\")' hosts.json)\r\nmonitors=$(jq '.monitors | join(\",\")' hosts.json)\r\ngc=$(jq '.gc | join(\",\")' hosts.json)\r\ntracers=$(jq '.tracers | join(\",\")' hosts.json)\r\ntserver=$(jq '.tservers | join(\",\")' hosts.json)\r\njq '.compaction' hosts.json  # null means it does not exist\r\ncoordinators=$(jq '.compaction.coordinators | join(\",\")' hosts-compaction.json)\r\nqueues=$(jq '.compaction.compactors | [.[].queue] | join(\",\")' hosts-compaction.json)\r\nqueue1_hosts=$(jq '.compaction.compactors | .[] | select(.queue == \"q1\") | .hosts | join(\",\")' hosts-compaction.json)\r\n ```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870551811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870756297","html_url":"https://github.com/apache/accumulo/issues/2174#issuecomment-870756297","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2174","id":870756297,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDc1NjI5Nw==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T16:47:31Z","updated_at":"2021-07-06T22:07:09Z","author_association":"CONTRIBUTOR","body":"If the file count needs to be added, it might make sense to also publish those as some sort of metric. Just raising this as a question - I'm not sure if this would be a useful metric or not  - but it might be worth checking.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870756297/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870878410","html_url":"https://github.com/apache/accumulo/issues/1809#issuecomment-870878410","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1809","id":870878410,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDg3ODQxMA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T20:04:43Z","updated_at":"2021-06-29T20:10:22Z","author_association":"CONTRIBUTOR","body":"Do we have a utility that uses ZKUtil.visitSubTreeDFS() to traverse the `tables` in ZK and for those that don't exist delete the watches in the callback?\r\n\r\nEdit: Looks like `visitSubTreeDFS` doesn't exist in ZooKeeper 3.4.14, but `listSubTreeBFS()` does. Also, there is no way to remove the watches in 3.4.14. I'm not sure how you fix this in 1.10.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870878410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870948270","html_url":"https://github.com/apache/accumulo/issues/1953#issuecomment-870948270","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1953","id":870948270,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDk0ODI3MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T22:01:40Z","updated_at":"2021-06-29T22:01:40Z","author_association":"MEMBER","body":"This was fixed in #2156 and #1971","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870948270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870954204","html_url":"https://github.com/apache/accumulo/issues/1809#issuecomment-870954204","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1809","id":870954204,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDk1NDIwNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T22:13:41Z","updated_at":"2021-06-29T22:13:41Z","author_association":"MEMBER","body":"@dlmarion I don't anticipate us shipping a fix for 1.10, since doing so would likely break forward-compatibility with other 1.10 releases in the way things are persisted to ZK. This has been a constraint for a long time in 1.x, and I don't think it would be super urgent to fix for 1.10. There are some workarounds... such as creating watched missing entries and deleting them, so the delete causes the watches to trigger, or bouncing tservers with excessive watchers. This issue is assigned to @EdColeman  and I believe he is making progress in his fork on a more robust solution for 2.1 that, among other changes, involves using significantly fewer ZK nodes to store config.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870954204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870957594","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-870957594","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":870957594,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDk1NzU5NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T22:20:44Z","updated_at":"2021-06-29T22:20:44Z","author_association":"MEMBER","body":"JSON is uglier, but more ubiquitous. Ultimately, I think I'd prefer YAML, but if there are things we can do to make it depend on less (such as having a bit of java code using one of our existing dependencies) to make the bar lower, that would be nice. If not, I think I'd still rather users get `yq` or `shyaml` themselves than force the ugliness of JSON on them.\r\n\r\nCould also do simple properties files as well, but the schema would be a little bit frustrating. Commons-configuration2 could easily manage it, though... but if we're going that route, it'd be better to just use YAML, since commons-configuration2 can handle that too.\r\n\r\n```\r\nmanager.hosts=managerhost1,managerhost2\r\n...\r\ncompaction.coordinator.1=server1\r\ncompaction.coordinator.2=server2\r\ncompaction.queues.q1.compactors=server3,server4\r\ncompaction.queues.q2.compactors=server5,server6\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870957594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870961440","html_url":"https://github.com/apache/accumulo/issues/1809#issuecomment-870961440","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1809","id":870961440,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDk2MTQ0MA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T22:29:55Z","updated_at":"2021-06-29T22:29:55Z","author_association":"CONTRIBUTOR","body":"One of the issues that blocks this as a specific fix is that currently, watchers are created with the expectation that the node might appear - and then code will receive notification on node creation.  If the property never set, the node never comes into existence and the watcher that was set remains even when the table is deleted.  To clear the watcher, it would be necessary to create the \"missing\" nodes and then delete them to trigger the watcher, which hopefully would not them be reset - while this might be a solution, the rework of the properties in 2.1 will make this unnecessary. \r\n\r\nI explored a stand-alone utility that can gather the watchers using a zk four-letter work command (either wchp or wchc work) and then create / delete the nodes with watchers when a corresponding table id does not exist.  The four-letter commands can be disruptive and there was no interest in the utility.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870961440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870970227","html_url":"https://github.com/apache/accumulo/issues/1809#issuecomment-870970227","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1809","id":870970227,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDk3MDIyNw==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T22:53:08Z","updated_at":"2021-06-29T22:53:08Z","author_association":"CONTRIBUTOR","body":"Should we remove this from the 1.10.2 project then?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870970227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870976336","html_url":"https://github.com/apache/accumulo/issues/1809#issuecomment-870976336","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1809","id":870976336,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDk3NjMzNg==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T23:08:54Z","updated_at":"2021-06-29T23:08:54Z","author_association":"CONTRIBUTOR","body":"If were seemed likely to release a 1.10.2, then if might be possible to add some mitigations as @ctubbsii mentioned - I need to finish the 2.1 approach first.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/870976336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/871383637","html_url":"https://github.com/apache/accumulo/issues/1916#issuecomment-871383637","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1916","id":871383637,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTM4MzYzNw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T13:01:13Z","updated_at":"2021-06-30T13:01:13Z","author_association":"CONTRIBUTOR","body":"I noticed in `TabletIterator` that the boolean `returnPrevEndRow` gets set to false for the GC but is true the other times it gets used in the code. This results in a strange call to remove in the `next()` method.\r\nhttps://github.com/apache/accumulo/blob/f4f43febbc3e68013d8a1bcd46d8b44275e2e55e/server/base/src/main/java/org/apache/accumulo/server/util/TabletIterator.java#L177-L180","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/871383637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/871625604","html_url":"https://github.com/apache/accumulo/pull/2181#issuecomment-871625604","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2181","id":871625604,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTYyNTYwNA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T18:16:27Z","updated_at":"2021-06-30T18:16:27Z","author_association":"CONTRIBUTOR","body":"After some discussion, the goals of this PR shifted away from keeping backwards compatibility. It has also moved to require the user pass in the directory rather than allow specific files to be passed in. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/871625604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872111773","html_url":"https://github.com/apache/accumulo/issues/1117#issuecomment-872111773","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1117","id":872111773,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjExMTc3Mw==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T10:11:29Z","updated_at":"2021-07-01T10:11:29Z","author_association":"CONTRIBUTOR","body":"Is this still a desired addition? I was looking at potential issues to do and came by this one.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872111773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]