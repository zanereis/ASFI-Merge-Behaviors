[{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518607362","html_url":"https://github.com/openzipkin/zipkin/pull/2736#issuecomment-518607362","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2736","id":518607362,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODYwNzM2Mg==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T10:15:05Z","updated_at":"2019-08-06T10:15:05Z","author_association":"MEMBER","body":"#### Current State\r\n\r\n* Add TimeMarker\r\n* Add expand/collapse button\r\n* Add dummy buttons\r\n\r\n<img width=\"1440\" alt=\"Screenshot 2019-08-06 19 08 38\" src=\"https://user-images.githubusercontent.com/19551419/62531941-66b46800-b87e-11e9-988c-db3b863d2eb2.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518607362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518618935","html_url":"https://github.com/openzipkin/zipkin/pull/2713#issuecomment-518618935","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2713","id":518618935,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODYxODkzNQ==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T10:51:27Z","updated_at":"2019-08-06T10:55:52Z","author_association":"MEMBER","body":"Oops!!\r\nI accidentally deleted the branch ... 😭 \r\nSorry!!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518618935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518620027","html_url":"https://github.com/openzipkin/zipkin/issues/2565#issuecomment-518620027","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2565","id":518620027,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODYyMDAyNw==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T10:54:56Z","updated_at":"2019-08-06T10:54:56Z","author_association":"CONTRIBUTOR","body":"Will do next week when back from holidays!\n\nOp di 6 aug. 2019 13:13 schreef Tommy Ludwig <notifications@github.com>:\n\n> @jorgheymans <https://github.com/jorgheymans> could you recheck this when\n> you get a chance?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2565?email_source=notifications&email_token=AABPKAETT3FCWDQNGGP64ODQDFFEZA5CNFSM4HLIDNOKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3UU7SI#issuecomment-518606793>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AABPKACRED6XNTPHXASTSW3QDFFEZANCNFSM4HLIDNOA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518620027/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518681907","html_url":"https://github.com/openzipkin/zipkin/pull/2736#issuecomment-518681907","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2736","id":518681907,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODY4MTkwNw==","user":{"login":"devinsba","id":139938,"node_id":"MDQ6VXNlcjEzOTkzOA==","avatar_url":"https://avatars.githubusercontent.com/u/139938?v=4","gravatar_id":"","url":"https://api.github.com/users/devinsba","html_url":"https://github.com/devinsba","followers_url":"https://api.github.com/users/devinsba/followers","following_url":"https://api.github.com/users/devinsba/following{/other_user}","gists_url":"https://api.github.com/users/devinsba/gists{/gist_id}","starred_url":"https://api.github.com/users/devinsba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devinsba/subscriptions","organizations_url":"https://api.github.com/users/devinsba/orgs","repos_url":"https://api.github.com/users/devinsba/repos","events_url":"https://api.github.com/users/devinsba/events{/privacy}","received_events_url":"https://api.github.com/users/devinsba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T14:00:14Z","updated_at":"2019-08-06T14:00:14Z","author_association":"MEMBER","body":"I like it, I'd love to see what it looks like with some of the more extreme example data. Like the depth > 10 data or 1000+ spans","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518681907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518886411","html_url":"https://github.com/openzipkin/zipkin/pull/2736#issuecomment-518886411","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2736","id":518886411,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODg4NjQxMQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-06T23:58:48Z","updated_at":"2019-08-06T23:58:48Z","author_association":"MEMBER","body":"Thanks for starting this effort. it is daring work!\r\n\r\nI have an image with feedback. I think this is also a good time to add \"site tags\" at a stable place in the view as discussed before, though not necessarily in this change.\r\n\r\n<img width=\"816\" alt=\"Screenshot 2019-08-07 at 9 45 36 AM\" src=\"https://user-images.githubusercontent.com/64215/62584895-901ad580-b90a-11e9-9faf-cdfb7604fa33.png\">\r\n\r\ncc @openzipkin/ui ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518886411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518895340","html_url":"https://github.com/openzipkin/zipkin/pull/2713#issuecomment-518895340","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2713","id":518895340,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODg5NTM0MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T00:47:48Z","updated_at":"2019-08-07T00:47:48Z","author_association":"MEMBER","body":"heh yikes","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518895340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518919835","html_url":"https://github.com/openzipkin/zipkin/issues/2737#issuecomment-518919835","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2737","id":518919835,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODkxOTgzNQ==","user":{"login":"making","id":106908,"node_id":"MDQ6VXNlcjEwNjkwOA==","avatar_url":"https://avatars.githubusercontent.com/u/106908?v=4","gravatar_id":"","url":"https://api.github.com/users/making","html_url":"https://github.com/making","followers_url":"https://api.github.com/users/making/followers","following_url":"https://api.github.com/users/making/following{/other_user}","gists_url":"https://api.github.com/users/making/gists{/gist_id}","starred_url":"https://api.github.com/users/making/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/making/subscriptions","organizations_url":"https://api.github.com/users/making/orgs","repos_url":"https://api.github.com/users/making/repos","events_url":"https://api.github.com/users/making/events{/privacy}","received_events_url":"https://api.github.com/users/making/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T02:59:21Z","updated_at":"2019-08-07T02:59:21Z","author_association":"MEMBER","body":"I'll contribute banner.txt ;)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518919835/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518973886","html_url":"https://github.com/openzipkin/zipkin/issues/2739#issuecomment-518973886","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2739","id":518973886,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk3Mzg4Ng==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T07:20:54Z","updated_at":"2019-08-07T07:20:54Z","author_association":"MEMBER","body":"Via Google translate:\r\n\r\n> The new UI interface of zipkin server 2.15.0 has a bug. When searching for the first time, the endTs parameter will be added to the url (for example: endTs=1565158903330). When you click search again, the endTs parameter will not change, resulting in each subsequent When the search button is clicked, no new data can be found. The endTs parameter must be manually removed from the URL to query the new data.\r\n\r\nI thought there was a GitHub issue regarding this already, but I couldn't find it.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/518973886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519096681","html_url":"https://github.com/openzipkin/zipkin/pull/2738#issuecomment-519096681","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2738","id":519096681,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTA5NjY4MQ==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T13:27:44Z","updated_at":"2019-08-07T13:27:44Z","author_association":"MEMBER","body":"We might want to wait on merging this for the outcome of the discussion on openzipkin vs zipkin in the logo.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519096681/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519309989","html_url":"https://github.com/openzipkin/zipkin/pull/2738#issuecomment-519309989","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2738","id":519309989,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTMwOTk4OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-07T23:55:37Z","updated_at":"2019-08-07T23:55:37Z","author_association":"MEMBER","body":"actually definitely the server should just be zipkin. I think it would be\ncertainly incorrect here.\n\nOn Wed, Aug 7, 2019, 9:27 PM Tommy Ludwig <notifications@github.com> wrote:\n\n> We might want to wait on merging this for the outcome of the discussion on\n> openzipkin vs zipkin in the logo.\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2738?email_source=notifications&email_token=AAAPVVZMLA6HBVHF2SGIZOLQDLEVFA5CNFSM4IJ4PBA2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3YMS2I#issuecomment-519096681>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV6F7ZWRBOBGTDWJ6TLQDLEVFANCNFSM4IJ4PBAQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519309989/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519332913","html_url":"https://github.com/openzipkin/zipkin/issues/2739#issuecomment-519332913","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2739","id":519332913,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTMzMjkxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T02:00:47Z","updated_at":"2019-08-08T02:00:47Z","author_association":"MEMBER","body":"yes this is fixed, but I think it was released after 2.15..\n\ncan you try snapshot?\n\nOn Wed, Aug 7, 2019 at 7:20 PM Tommy Ludwig <notifications@github.com>\nwrote:\n\n> Via Google translate:\n>\n> The new UI interface of zipkin server 2.15.0 has a bug. When searching for\n> the first time, the endTs parameter will be added to the url (for example:\n> endTs=1565158903330). When you click search again, the endTs parameter will\n> not change, resulting in each subsequent When the search button is clicked,\n> no new data can be found. The endTs parameter must be manually removed from\n> the URL to query the new data.\n>\n> I thought there was a GitHub issue regarding this already, but I couldn't\n> find it.\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2739?email_source=notifications&email_token=AAAPVV5CONH7TIXFWLADS3LQDJZVRA5CNFSM4IJ4Z6C2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD3XOTPQ#issuecomment-518973886>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV2IQWW6WJ4JGY7DCPTQDJZVRANCNFSM4IJ4Z6CQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519332913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519350497","html_url":"https://github.com/openzipkin/zipkin/issues/2739#issuecomment-519350497","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2739","id":519350497,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM1MDQ5Nw==","user":{"login":"ltlwill","id":16695334,"node_id":"MDQ6VXNlcjE2Njk1MzM0","avatar_url":"https://avatars.githubusercontent.com/u/16695334?v=4","gravatar_id":"","url":"https://api.github.com/users/ltlwill","html_url":"https://github.com/ltlwill","followers_url":"https://api.github.com/users/ltlwill/followers","following_url":"https://api.github.com/users/ltlwill/following{/other_user}","gists_url":"https://api.github.com/users/ltlwill/gists{/gist_id}","starred_url":"https://api.github.com/users/ltlwill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltlwill/subscriptions","organizations_url":"https://api.github.com/users/ltlwill/orgs","repos_url":"https://api.github.com/users/ltlwill/repos","events_url":"https://api.github.com/users/ltlwill/events{/privacy}","received_events_url":"https://api.github.com/users/ltlwill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T03:41:38Z","updated_at":"2019-08-08T03:41:38Z","author_association":"NONE","body":"thank you !\r\nI will use the old version first.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519350497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519367843","html_url":"https://github.com/openzipkin/zipkin/pull/2738#issuecomment-519367843","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2738","id":519367843,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM2Nzg0Mw==","user":{"login":"making","id":106908,"node_id":"MDQ6VXNlcjEwNjkwOA==","avatar_url":"https://avatars.githubusercontent.com/u/106908?v=4","gravatar_id":"","url":"https://api.github.com/users/making","html_url":"https://github.com/making","followers_url":"https://api.github.com/users/making/followers","following_url":"https://api.github.com/users/making/following{/other_user}","gists_url":"https://api.github.com/users/making/gists{/gist_id}","starred_url":"https://api.github.com/users/making/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/making/subscriptions","organizations_url":"https://api.github.com/users/making/orgs","repos_url":"https://api.github.com/users/making/repos","events_url":"https://api.github.com/users/making/events{/privacy}","received_events_url":"https://api.github.com/users/making/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T05:18:07Z","updated_at":"2019-08-08T05:18:07Z","author_association":"MEMBER","body":"Updated\r\n\r\n![image](https://user-images.githubusercontent.com/106908/62676909-4fdd5500-b9e7-11e9-946d-9a50acf593e6.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519367843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519368541","html_url":"https://github.com/openzipkin/zipkin/pull/2738#issuecomment-519368541","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2738","id":519368541,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM2ODU0MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T05:21:49Z","updated_at":"2019-08-08T05:21:49Z","author_association":"MEMBER","body":"ahead of the curve huh? :D <img width=\"140\" alt=\"Screenshot 2019-08-08 at 1 21 31 PM\" src=\"https://user-images.githubusercontent.com/64215/62677056-fd109700-ba00-11e9-8465-74581f2329f9.png\">\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519368541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519369040","html_url":"https://github.com/openzipkin/zipkin/pull/2738#issuecomment-519369040","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2738","id":519369040,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM2OTA0MA==","user":{"login":"making","id":106908,"node_id":"MDQ6VXNlcjEwNjkwOA==","avatar_url":"https://avatars.githubusercontent.com/u/106908?v=4","gravatar_id":"","url":"https://api.github.com/users/making","html_url":"https://github.com/making","followers_url":"https://api.github.com/users/making/followers","following_url":"https://api.github.com/users/making/following{/other_user}","gists_url":"https://api.github.com/users/making/gists{/gist_id}","starred_url":"https://api.github.com/users/making/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/making/subscriptions","organizations_url":"https://api.github.com/users/making/orgs","repos_url":"https://api.github.com/users/making/repos","events_url":"https://api.github.com/users/making/events{/privacy}","received_events_url":"https://api.github.com/users/making/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T05:24:02Z","updated_at":"2019-08-08T05:24:02Z","author_association":"MEMBER","body":"I tested `banner.txt` in a latest spring boot app.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519369040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519381144","html_url":"https://github.com/openzipkin/zipkin/pull/2742#issuecomment-519381144","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2742","id":519381144,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM4MTE0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T06:14:21Z","updated_at":"2019-08-08T06:14:21Z","author_association":"MEMBER","body":"I guess my intent was that there is only one place the exception originates\nfrom, and its presence isnt impacted based on what the call path to it is..\nhence the stack being uninteresting and certainly not interesting enough to\nmake lots of logs when you try to look what's happening.\n\notoh maybe it isnt important enough to devise such an explanation ;)\n\nOn Thu, Aug 8, 2019, 2:09 PM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> *@anuraaga* approved this pull request.\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/throttle/ThrottledCall.java\n> <https://github.com/openzipkin/zipkin/pull/2742#discussion_r311867891>:\n>\n> > @@ -38,6 +40,13 @@\n>   * @see ThrottledStorageComponent\n>   */\n>  final class ThrottledCall extends Call.Base<Void> {\n> +  /**\n> +   * Rather than flooding when concurrency reached, return the same instance. The path to this is\n>\n> I'm not sure what flooding means here, so the comment takes much longer to\n> parse. Is it more like Reduce allocations when concurrency reached by\n> always returning the same instance. This is only thrown in one location so\n> the stack trace isn't useful and we clear it to keep logs down.?\n> ------------------------------\n>\n> In\n> zipkin-server/src/main/java/zipkin2/server/internal/throttle/ThrottledCall.java\n> <https://github.com/openzipkin/zipkin/pull/2742#discussion_r311868538>:\n>\n> > @@ -38,6 +40,13 @@\n>   * @see ThrottledStorageComponent\n>   */\n>  final class ThrottledCall extends Call.Base<Void> {\n> +  /**\n> +   * Rather than flooding when concurrency reached, return the same instance. The path to this is\n> +   * unimportant, so we clear the trace.\n> +   */\n> +  static final RejectedExecutionException STORAGE_THROTTLE_MAX_CONCURRENCY =\n> +    clearTrace(new RejectedExecutionException(\"STORAGE_THROTTLE_MAX_CONCURRENCY reached\"));\n>\n> Maybe we can add a link to a javadoc or something to these trace-cleared\n> exceptions to give users something to check if they've never seen the\n> exception before.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2742?email_source=notifications&email_token=AAAPVV5UG2EH5NYYY2CH733QDO2C7A5CNFSM4IKGVFUKYY3PNVWWK3TUL52HS4DFWFIHK3DMKJSXC5LFON2FEZLWNFSXPKTDN5WW2ZLOORPWSZGOCA55WNQ#pullrequestreview-272358198>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV3SB7NKXVUO3LKUG4LQDO2C7ANCNFSM4IKGVFUA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519381144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519383748","html_url":"https://github.com/openzipkin/zipkin/pull/2742#issuecomment-519383748","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2742","id":519383748,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM4Mzc0OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T06:24:02Z","updated_at":"2019-08-08T06:24:02Z","author_association":"MEMBER","body":"here's the impact. Notably in the throttled case, there's an order of magnitude less allocation due to the exception sharing.\r\n\r\nbefore\r\nThrottledCallBenchmarks.execute_throttled:·gc.alloc.rate.norm               sample      15    792.430 ±   0.169    B/op\r\n\r\nafter\r\nThrottledCallBenchmarks.execute_throttled:·gc.alloc.rate.norm              sample      15    72.005 ±   0.001    B/op\r\n\r\nwhole thing below:\r\n\r\nbefore:\r\n\r\n```\r\nBenchmark                                                                     Mode     Cnt      Score     Error   Units\r\nThrottledCallBenchmarks.execute                                             sample  553318     15.337 ±   0.050   us/op\r\nThrottledCallBenchmarks.execute:execute·p0.00                               sample              8.352             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.50                               sample             13.696             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.90                               sample             20.224             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.95                               sample             23.808             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.99                               sample             35.584             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.999                              sample             66.816             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.9999                             sample            117.632             us/op\r\nThrottledCallBenchmarks.execute:execute·p1.00                               sample           3846.144             us/op\r\nThrottledCallBenchmarks.execute:·gc.alloc.rate                              sample      15     34.036 ±   6.975  MB/sec\r\nThrottledCallBenchmarks.execute:·gc.alloc.rate.norm                         sample      15    399.731 ±  60.318    B/op\r\nThrottledCallBenchmarks.execute:·gc.churn.G1_Eden_Space                     sample      15     32.786 ±  51.311  MB/sec\r\nThrottledCallBenchmarks.execute:·gc.churn.G1_Eden_Space.norm                sample      15    376.350 ± 593.194    B/op\r\nThrottledCallBenchmarks.execute:·gc.churn.G1_Old_Gen                        sample      15      0.042 ±   0.093  MB/sec\r\nThrottledCallBenchmarks.execute:·gc.churn.G1_Old_Gen.norm                   sample      15      0.506 ±   1.162    B/op\r\nThrottledCallBenchmarks.execute:·gc.count                                   sample      15      5.000            counts\r\nThrottledCallBenchmarks.execute:·gc.time                                    sample      15     12.000                ms\r\nThrottledCallBenchmarks.execute_overCapacity                                sample  569158     15.863 ±   0.166   us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.00     sample              6.856             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.50     sample             13.776             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.90     sample             20.544             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.95     sample             27.008             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.99     sample             45.184             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.999    sample             71.424             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.9999   sample            203.415             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p1.00     sample          19333.120             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.alloc.rate                 sample      15     32.967 ±   5.845  MB/sec\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.alloc.rate.norm            sample      15    399.932 ±  60.440    B/op\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.churn.G1_Eden_Space        sample      15     39.279 ±  53.240  MB/sec\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.churn.G1_Eden_Space.norm   sample      15    490.696 ± 670.245    B/op\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.churn.G1_Old_Gen           sample      15      0.054 ±   0.156  MB/sec\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.churn.G1_Old_Gen.norm      sample      15      0.656 ±   1.915    B/op\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.count                      sample      15      6.000            counts\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.time                       sample      15     32.000                ms\r\nThrottledCallBenchmarks.execute_throttled                                   sample  697600      1.982 ±   0.481   us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.00           sample              1.052             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.50           sample              1.464             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.90           sample              1.744             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.95           sample              2.964             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.99           sample              5.552             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.999          sample             22.477             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.9999         sample             89.815             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p1.00           sample          84803.584             us/op\r\nThrottledCallBenchmarks.execute_throttled:·gc.alloc.rate                    sample      15    638.903 ±  78.012  MB/sec\r\nThrottledCallBenchmarks.execute_throttled:·gc.alloc.rate.norm               sample      15    792.430 ±   0.169    B/op\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Eden_Space           sample      15    644.752 ±  93.017  MB/sec\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Eden_Space.norm      sample      15    801.844 ±  87.342    B/op\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Old_Gen              sample      15      0.096 ±   0.196  MB/sec\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Old_Gen.norm         sample      15      0.126 ±   0.273    B/op\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Survivor_Space       sample      15      0.177 ±   0.324  MB/sec\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Survivor_Space.norm  sample      15      0.221 ±   0.411    B/op\r\nThrottledCallBenchmarks.execute_throttled:·gc.count                         sample      15     76.000            counts\r\nThrottledCallBenchmarks.execute_throttled:·gc.time                          sample      15     64.000                ms\r\n```\r\n\r\nafter:\r\n\r\n```\r\nBenchmark                                                                    Mode     Cnt     Score     Error   Units\r\nThrottledCallBenchmarks.execute                                            sample  584455    16.308 ±   0.085   us/op\r\nThrottledCallBenchmarks.execute:execute·p0.00                              sample             8.016             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.50                              sample            14.000             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.90                              sample            22.592             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.95                              sample            26.912             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.99                              sample            39.040             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.999                             sample            78.475             us/op\r\nThrottledCallBenchmarks.execute:execute·p0.9999                            sample           482.182             us/op\r\nThrottledCallBenchmarks.execute:execute·p1.00                              sample          3874.816             us/op\r\nThrottledCallBenchmarks.execute:·gc.alloc.rate                             sample      15    32.418 ±   6.469  MB/sec\r\nThrottledCallBenchmarks.execute:·gc.alloc.rate.norm                        sample      15   400.573 ±  60.184    B/op\r\nThrottledCallBenchmarks.execute:·gc.churn.G1_Eden_Space                    sample      15    32.288 ±  50.541  MB/sec\r\nThrottledCallBenchmarks.execute:·gc.churn.G1_Eden_Space.norm               sample      15   412.093 ± 650.973    B/op\r\nThrottledCallBenchmarks.execute:·gc.churn.G1_Old_Gen                       sample      15     0.046 ±   0.107  MB/sec\r\nThrottledCallBenchmarks.execute:·gc.churn.G1_Old_Gen.norm                  sample      15     0.584 ±   1.324    B/op\r\nThrottledCallBenchmarks.execute:·gc.count                                  sample      15     5.000            counts\r\nThrottledCallBenchmarks.execute:·gc.time                                   sample      15    44.000                ms\r\nThrottledCallBenchmarks.execute_overCapacity                               sample  479241    15.658 ±   0.051   us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.00    sample             7.216             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.50    sample            14.000             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.90    sample            19.872             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.95    sample            24.096             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.99    sample            41.152             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.999   sample            78.049             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p0.9999  sample           136.487             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:execute_overCapacity·p1.00    sample          2756.608             us/op\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.alloc.rate                sample      15    32.762 ±   5.522  MB/sec\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.alloc.rate.norm           sample      15   400.054 ±  60.163    B/op\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.churn.G1_Eden_Space       sample      15    39.179 ±  53.105  MB/sec\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.churn.G1_Eden_Space.norm  sample      15   482.943 ± 655.319    B/op\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.churn.G1_Old_Gen          sample      15     0.061 ±   0.146  MB/sec\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.churn.G1_Old_Gen.norm     sample      15     0.760 ±   1.820    B/op\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.count                     sample      15     6.000            counts\r\nThrottledCallBenchmarks.execute_overCapacity:·gc.time                      sample      15    17.000                ms\r\nThrottledCallBenchmarks.execute_throttled                                  sample  853877     0.114 ±   0.004   us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.00          sample             0.001             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.50          sample             0.088             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.90          sample             0.117             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.95          sample             0.160             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.99          sample             0.438             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.999         sample             3.505             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p0.9999        sample            13.930             us/op\r\nThrottledCallBenchmarks.execute_throttled:execute_throttled·p1.00          sample          1001.472             us/op\r\nThrottledCallBenchmarks.execute_throttled:·gc.alloc.rate                   sample      15  3724.791 ± 185.890  MB/sec\r\nThrottledCallBenchmarks.execute_throttled:·gc.alloc.rate.norm              sample      15    72.005 ±   0.001    B/op\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Eden_Space          sample      15  3738.655 ± 230.096  MB/sec\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Eden_Space.norm     sample      15    72.269 ±   2.414    B/op\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Old_Gen             sample      15     0.011 ±   0.005  MB/sec\r\nThrottledCallBenchmarks.execute_throttled:·gc.churn.G1_Old_Gen.norm        sample      15    ≈ 10⁻⁴              B/op\r\nThrottledCallBenchmarks.execute_throttled:·gc.count                        sample      15   208.000            counts\r\nThrottledCallBenchmarks.execute_throttled:·gc.time                         sample      15   162.000                ms\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519383748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519386606","html_url":"https://github.com/openzipkin/zipkin/pull/2742#issuecomment-519386606","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2742","id":519386606,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTM4NjYwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T06:34:23Z","updated_at":"2019-08-08T06:34:23Z","author_association":"MEMBER","body":"@anuraaga PTAL at the new javadoc.. it is hard to splain succinctly why <clinit> isn't that useful in a trace, but I tried :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519386606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519413281","html_url":"https://github.com/openzipkin/zipkin/pull/2742#issuecomment-519413281","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2742","id":519413281,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTQxMzI4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T08:02:25Z","updated_at":"2019-08-08T08:02:25Z","author_association":"MEMBER","body":"bad build day due to maven central returning unauthorized sporadically","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519413281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519540429","html_url":"https://github.com/openzipkin/zipkin/pull/2740#issuecomment-519540429","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2740","id":519540429,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU0MDQyOQ==","user":{"login":"Logic-32","id":25107222,"node_id":"MDQ6VXNlcjI1MTA3MjIy","avatar_url":"https://avatars.githubusercontent.com/u/25107222?v=4","gravatar_id":"","url":"https://api.github.com/users/Logic-32","html_url":"https://github.com/Logic-32","followers_url":"https://api.github.com/users/Logic-32/followers","following_url":"https://api.github.com/users/Logic-32/following{/other_user}","gists_url":"https://api.github.com/users/Logic-32/gists{/gist_id}","starred_url":"https://api.github.com/users/Logic-32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Logic-32/subscriptions","organizations_url":"https://api.github.com/users/Logic-32/orgs","repos_url":"https://api.github.com/users/Logic-32/repos","events_url":"https://api.github.com/users/Logic-32/events{/privacy}","received_events_url":"https://api.github.com/users/Logic-32/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T14:23:45Z","updated_at":"2019-08-08T14:23:45Z","author_association":"CONTRIBUTOR","body":"Per some of my comments/concerns in the review, you may want to un-merge this for just a minute while we hash some things out :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519540429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519541504","html_url":"https://github.com/openzipkin/zipkin/pull/2740#issuecomment-519541504","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2740","id":519541504,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU0MTUwNA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T14:26:13Z","updated_at":"2019-08-08T14:26:13Z","author_association":"MEMBER","body":"feel free to raise a different pr to improve but please use jmh or other\nobjective way to measure whatever it is you are concerned about\n\nOn Thu, Aug 8, 2019, 10:23 PM Logic-32 <notifications@github.com> wrote:\n\n> Per some of my comments/concerns in the review, you may want to un-merge\n> this for just a minute while we hash some things out :)\n>\n> —\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/pull/2740?email_source=notifications&email_token=AAAPVV6XVERLILATDJSTX2DQDQT7HA5CNFSM4IKA2BF2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD33Y5TI#issuecomment-519540429>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV5U5AYGJHM5R2UVNTDQDQT7HANCNFSM4IKA2BFQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519541504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519565738","html_url":"https://github.com/openzipkin/zipkin/pull/2744#issuecomment-519565738","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2744","id":519565738,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU2NTczOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T15:23:34Z","updated_at":"2019-08-08T15:23:34Z","author_association":"MEMBER","body":"warning I'm out of time on the throttled code, which has gotten a massive amount of my time lately. The last changes I did were mainly to prove I could understand the code, which I didn't at first. I wanted to follow-up because I was stuck on a flight with no internet and had some focus time to look deeply. Right now, though I really can't sink another week into saving a few hundred more bytes, but we certainly have saved a good bit here in a provable way.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519565738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519566977","html_url":"https://github.com/openzipkin/zipkin/pull/2744#issuecomment-519566977","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2744","id":519566977,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTU2Njk3Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-08T15:26:42Z","updated_at":"2019-08-08T15:26:42Z","author_association":"MEMBER","body":"folks really interested in the overall performance, I dare to look at the elasticsearch part of this :) we're looking at the tip of the iceberg considering this code is only used for storage and there is so much that happens besides what we've been gazing at.\r\n\r\nluckily @anuraaga started focusing on that by recently introducing `BulkRequestBenchmarks`. IOTW, I'd recommend saving an order of magnitude more bytes with the same time by placing effort in a file that hasn't been looked at yet vs casting doubt on one we've really poured over.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519566977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519737044","html_url":"https://github.com/openzipkin/zipkin/pull/2744#issuecomment-519737044","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2744","id":519737044,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTczNzA0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T00:47:25Z","updated_at":"2019-08-09T00:47:25Z","author_association":"MEMBER","body":"before the type was generic, that was one change, also it didn't have the same metrics, that was the other thing api affecting (granted this is a hidden api). The biggest thing on this code path was that in the recent code, we reuse the \"enqueue\" path even for \"execute\"\r\n\r\nIntuitively, that might imply performance worse due to being less direct. I was most worried about hurting perf in this move.\r\n\r\nThe main reason for moving the code around was about it being easier to see what's going on, less copy/paste and less entrypoints to scrutinize. Now, the code has a single entry for the more concerning paths, which really helps testing as we can borrow the same unit tests and metrics for any path through. Basically, I think the goal of making this file as boring as possible is mostly there. \r\n\r\nNot this release, but I think after the next ideally we can pull the \"experimental status\" from the throttling code. We do have some backlog prior.. we can ignore mysql, but we've not looked at if this helps with cassandra at all, and also certainly we should try this with GCP as any SaaS should be throttled I think. Anyway, this brain dump is here because soon everything in my mind will dump to make room for the UI work that's next :)\r\n\r\nThanks again @Logic-32 and @anuraaga ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519737044/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519748146","html_url":"https://github.com/openzipkin/zipkin/pull/2741#issuecomment-519748146","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2741","id":519748146,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc0ODE0Ng==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T01:55:23Z","updated_at":"2019-08-09T01:55:23Z","author_association":"MEMBER","body":"is there some way to quiet the advertising here?\r\n\r\n```\r\n[INFO] > node scripts/postinstall || echo \"ignore\"\r\n[INFO] \r\n[INFO] Thank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!\r\n[INFO] \r\n[INFO] The project needs your help! Please consider supporting of core-js on Open Collective or Patreon: \r\n[INFO] > https://opencollective.com/core-js \r\n[INFO] > https://www.patreon.com/zloirock \r\n[INFO] \r\n[INFO] Also, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)\r\n[INFO] \r\n[INFO] \r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519748146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519749225","html_url":"https://github.com/openzipkin/zipkin/pull/2741#issuecomment-519749225","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2741","id":519749225,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc0OTIyNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T02:01:51Z","updated_at":"2019-08-09T02:01:51Z","author_association":"MEMBER","body":"can you add instructions to get coverage report to the README? Also, a separate change, but we should have debugger instructions like we do in zipkin-js also","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519749225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519754397","html_url":"https://github.com/openzipkin/zipkin/pull/2741#issuecomment-519754397","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2741","id":519754397,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc1NDM5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T02:32:02Z","updated_at":"2019-08-09T02:32:02Z","author_association":"MEMBER","body":"ps not a big deal as many of the integration tests we have take forever, but I noticed this which seems long for a javascript test\r\n\r\n```\r\n PASS  src/components/App/App.test.js (7.643s)\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519754397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519772042","html_url":"https://github.com/openzipkin/zipkin/pull/2743#issuecomment-519772042","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2743","id":519772042,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc3MjA0Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T04:24:35Z","updated_at":"2019-08-09T04:24:35Z","author_association":"MEMBER","body":"one glitch to hunt:\r\n\r\n```\r\n2019-08-09 12:12:01.727  WARN 2638 --- [throttle-pool-2] .a.c.b.RequestContextCurrentTraceContext : Attempted to propagate trace context, but no request context available. Did you forget to use RequestContext.contextAwareExecutor() or RequestContext.makeContextAware()?\r\n\r\ncom.linecorp.armeria.common.brave.RequestContextCurrentTraceContext$LogRequestContextWarningOnce$NoRequestContextException: null\r\n\tat com.linecorp.armeria.common.brave.RequestContextCurrentTraceContext$LogRequestContextWarningOnce$ClassLoaderHack.<clinit>(RequestContextCurrentTraceContext.java:272) [armeria-brave-master-armeria-0.27.0.Final-g91bbcf2-1258.jar!/:?]\r\n\tat com.linecorp.armeria.common.brave.RequestContextCurrentTraceContext$LogRequestContextWarningOnce.get(RequestContextCurrentTraceContext.java:260) [armeria-brave-master-armeria-0.27.0.Final-g91bbcf2-1258.jar!/:?]\r\n\tat com.linecorp.armeria.common.brave.RequestContextCurrentTraceContext$LogRequestContextWarningOnce.get(RequestContextCurrentTraceContext.java:250) [armeria-brave-master-armeria-0.27.0.Final-g91bbcf2-1258.jar!/:?]\r\n\tat com.linecorp.armeria.common.RequestContext.mapCurrent(RequestContext.java:108) [armeria-master-armeria-0.27.0.Final-g91bbcf2-1258.jar!/:?]\r\n\tat com.linecorp.armeria.common.brave.RequestContextCurrentTraceContext.getRequestContextOrWarnOnce(RequestContextCurrentTraceContext.java:235) [armeria-brave-master-armeria-0.27.0.Final-g91bbcf2-1258.jar!/:?]\r\n\tat com.linecorp.armeria.common.brave.RequestContextCurrentTraceContext.get(RequestContextCurrentTraceContext.java:148) [armeria-brave-master-armeria-0.27.0.Final-g91bbcf2-1258.jar!/:?]\r\n\tat brave.Tracer.nextSpan(Tracer.java:472) [brave-5.6.9.jar!/:?]\r\n\tat zipkin2.server.internal.brave.TracedCall.enqueue(TracedCall.java:47) [classes!/:?]\r\n\tat zipkin2.server.internal.throttle.ThrottledCall$EnqueueAndAwait.run(ThrottledCall.java:149) [classes!/:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519772042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519781280","html_url":"https://github.com/openzipkin/zipkin/pull/2743#issuecomment-519781280","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2743","id":519781280,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTc4MTI4MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T05:16:15Z","updated_at":"2019-08-09T05:16:15Z","author_association":"MEMBER","body":"last step I am doing is testing from zipkin-aws https://github.com/openzipkin/zipkin-aws/pull/135","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519781280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519823878","html_url":"https://github.com/openzipkin/zipkin/pull/2741#issuecomment-519823878","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2741","id":519823878,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTgyMzg3OA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T08:06:48Z","updated_at":"2019-08-09T08:06:48Z","author_association":"MEMBER","body":"Thank you for your review!\r\nI'll update test code.\r\nJust a moment, please 🙇 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519823878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519875696","html_url":"https://github.com/openzipkin/zipkin/issues/2477#issuecomment-519875696","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2477","id":519875696,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTg3NTY5Ng==","user":{"login":"jcchavezs","id":3075074,"node_id":"MDQ6VXNlcjMwNzUwNzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3075074?v=4","gravatar_id":"","url":"https://api.github.com/users/jcchavezs","html_url":"https://github.com/jcchavezs","followers_url":"https://api.github.com/users/jcchavezs/followers","following_url":"https://api.github.com/users/jcchavezs/following{/other_user}","gists_url":"https://api.github.com/users/jcchavezs/gists{/gist_id}","starred_url":"https://api.github.com/users/jcchavezs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcchavezs/subscriptions","organizations_url":"https://api.github.com/users/jcchavezs/orgs","repos_url":"https://api.github.com/users/jcchavezs/repos","events_url":"https://api.github.com/users/jcchavezs/events{/privacy}","received_events_url":"https://api.github.com/users/jcchavezs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-09T10:54:38Z","updated_at":"2019-08-09T10:54:38Z","author_association":"CONTRIBUTOR","body":"Closing as https://github.com/openzipkin/zipkin/pull/2501","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/519875696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520110618","html_url":"https://github.com/openzipkin/zipkin/pull/2746#issuecomment-520110618","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2746","id":520110618,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDExMDYxOA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T02:28:21Z","updated_at":"2019-08-10T02:28:21Z","author_association":"CONTRIBUTOR","body":"Is this a good time to remove this wrapping?\r\n\r\nhttps://github.com/openzipkin/zipkin/blob/master/zipkin-storage/elasticsearch/src/main/java/zipkin2/elasticsearch/internal/client/HttpCall.java#L165","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520110618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520111072","html_url":"https://github.com/openzipkin/zipkin/pull/2743#issuecomment-520111072","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2743","id":520111072,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDExMTA3Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T02:37:30Z","updated_at":"2019-08-10T02:37:30Z","author_association":"MEMBER","body":"epic! thanks @anuraaga and @trustin (for the work behind the curtain!)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520111072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520111381","html_url":"https://github.com/openzipkin/zipkin/pull/2746#issuecomment-520111381","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2746","id":520111381,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDExMTM4MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T02:42:53Z","updated_at":"2019-08-10T02:42:53Z","author_association":"MEMBER","body":"the re-wrapping has the secondary effect of trimming the cause back. so, as long as we are ok with that, we can leave it and then classify the unprocessed exception naturally. wdyt?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520111381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520111479","html_url":"https://github.com/openzipkin/zipkin/pull/2746#issuecomment-520111479","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2746","id":520111479,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDExMTQ3OQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T02:44:46Z","updated_at":"2019-08-10T02:44:46Z","author_association":"CONTRIBUTOR","body":"Makes sense let's leave it as is","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520111479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520111679","html_url":"https://github.com/openzipkin/zipkin/pull/2747#issuecomment-520111679","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2747","id":520111679,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDExMTY3OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T02:48:28Z","updated_at":"2019-08-10T02:48:28Z","author_association":"MEMBER","body":"I double-checked the fallback to local still works (ex turn off docker, but elasticsearch is running otherwise)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520111679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520113432","html_url":"https://github.com/openzipkin/zipkin/pull/2747#issuecomment-520113432","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2747","id":520113432,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDExMzQzMg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T03:17:40Z","updated_at":"2019-08-10T03:17:40Z","author_association":"MEMBER","body":"I messed up something somewhere, but this is a low-priority thing I will sort out later.\r\n\r\n```\r\norg.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\r\nCaused by: java.lang.IllegalStateException: Could not send request, session is closed\r\n\tat com.datastax.driver.core.SessionManager.execute(SessionManager.java:693)\r\n\tat com.datastax.driver.core.SessionManager.executeAsync(SessionManager.java:143)\r\n\tat zipkin2.storage.cassandra.InsertSpan.newFuture(InsertSpan.java:213)\r\n\tat zipkin2.storage.cassandra.InsertSpan.newFuture(InsertSpan.java:37)\r\n\t... 81 more\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520113432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520116606","html_url":"https://github.com/openzipkin/zipkin/issues/2748#issuecomment-520116606","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2748","id":520116606,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDExNjYwNg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T04:21:23Z","updated_at":"2019-08-10T04:21:23Z","author_association":"MEMBER","body":"dupe https://github.com/openzipkin/zipkin/issues/1232","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520116606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520123792","html_url":"https://github.com/openzipkin/zipkin/pull/2750#issuecomment-520123792","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2750","id":520123792,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDEyMzc5Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T06:48:42Z","updated_at":"2019-08-10T06:48:42Z","author_association":"MEMBER","body":"added commit from https://github.com/openzipkin/zipkin/pull/2751 as the underlying syntax glitch isn't worth messing with","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520123792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520125956","html_url":"https://github.com/openzipkin/zipkin/pull/2751#issuecomment-520125956","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2751","id":520125956,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDEyNTk1Ng==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T07:17:43Z","updated_at":"2019-08-10T07:17:43Z","author_association":"MEMBER","body":"We probably will want to mention in the README that the project requires JDK 11 to build now.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520125956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520126131","html_url":"https://github.com/openzipkin/zipkin/pull/2751#issuecomment-520126131","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2751","id":520126131,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDEyNjEzMQ==","user":{"login":"shakuzen","id":8924140,"node_id":"MDQ6VXNlcjg5MjQxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8924140?v=4","gravatar_id":"","url":"https://api.github.com/users/shakuzen","html_url":"https://github.com/shakuzen","followers_url":"https://api.github.com/users/shakuzen/followers","following_url":"https://api.github.com/users/shakuzen/following{/other_user}","gists_url":"https://api.github.com/users/shakuzen/gists{/gist_id}","starred_url":"https://api.github.com/users/shakuzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shakuzen/subscriptions","organizations_url":"https://api.github.com/users/shakuzen/orgs","repos_url":"https://api.github.com/users/shakuzen/repos","events_url":"https://api.github.com/users/shakuzen/events{/privacy}","received_events_url":"https://api.github.com/users/shakuzen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T07:20:46Z","updated_at":"2019-08-10T07:21:28Z","author_association":"MEMBER","body":"Also, I know we use animalsniffer, but upgrading to JDK9+ presents the opportunity to use the new `release` compiler arg instead, where the compiler can enforce that Java API is not used beyond the specified version. This doesn't need to happen in this pull request, though.\r\nref: http://openjdk.java.net/jeps/247","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520126131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520126385","html_url":"https://github.com/openzipkin/zipkin/pull/2751#issuecomment-520126385","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2751","id":520126385,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDEyNjM4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T07:25:16Z","updated_at":"2019-08-10T07:25:16Z","author_association":"MEMBER","body":"https://github.com/openzipkin/zipkin/issues/2752 on the --release thingy thanks","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520126385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520126494","html_url":"https://github.com/openzipkin/zipkin/pull/2751#issuecomment-520126494","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2751","id":520126494,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDEyNjQ5NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T07:27:34Z","updated_at":"2019-08-10T07:27:34Z","author_association":"MEMBER","body":"good catch on the README @shakuzen ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520126494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520127591","html_url":"https://github.com/openzipkin/zipkin/pull/2751#issuecomment-520127591","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2751","id":520127591,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDEyNzU5MQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T07:46:29Z","updated_at":"2019-08-10T07:46:29Z","author_association":"MEMBER","body":"merging as the only change after a green was to README and the build takes ages.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520127591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520130603","html_url":"https://github.com/openzipkin/zipkin/issues/2699#issuecomment-520130603","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2699","id":520130603,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDEzMDYwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T08:33:30Z","updated_at":"2019-08-10T08:33:30Z","author_association":"MEMBER","body":"I think this is currently ok","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520130603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520130615","html_url":"https://github.com/openzipkin/zipkin/issues/2683#issuecomment-520130615","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2683","id":520130615,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDEzMDYxNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-10T08:33:47Z","updated_at":"2019-08-10T08:33:47Z","author_association":"MEMBER","body":"sorted","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520130615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520198985","html_url":"https://github.com/openzipkin/zipkin/issues/1611#issuecomment-520198985","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1611","id":520198985,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDE5ODk4NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-11T04:18:44Z","updated_at":"2019-08-11T04:18:44Z","author_association":"MEMBER","body":"This is obviated because now we are using armeria for the client layer of elasticsearch. This is a lot more sophisticated internally with client-side health checking etc, and makes sense in this server as we are already using armeria inbound. you can try multiple TLS endpoints now on zipkin 2.16+\r\n\r\nThis doesn't change my love for okhttp: you can imagine this was mixed feelings for me as okhttp really changed my relationship with oss permanently. However, this decision was bigger than me, and armeria folks are are really capable and hearty bunch, too. We are lucky to be in a position where tech decisions are so hard. Anyway rambling over.. multiple TLS works out-of-box now.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520198985/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520199055","html_url":"https://github.com/openzipkin/zipkin/issues/1611#issuecomment-520199055","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/1611","id":520199055,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDE5OTA1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-11T04:21:00Z","updated_at":"2019-08-11T04:21:00Z","author_association":"MEMBER","body":"@gquintana  PS the problem you mentioned about log levels, while unrelated to this issue, is recently sorted in zipkin-reporter where we settled on a warn-once pattern","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520199055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520683220","html_url":"https://github.com/openzipkin/zipkin/pull/2741#issuecomment-520683220","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2741","id":520683220,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDY4MzIyMA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T04:22:47Z","updated_at":"2019-08-13T04:22:47Z","author_association":"MEMBER","body":"PTAL 🙇 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520683220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520777500","html_url":"https://github.com/openzipkin/zipkin/pull/2741#issuecomment-520777500","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2741","id":520777500,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDc3NzUwMA==","user":{"login":"tacigar","id":19551419,"node_id":"MDQ6VXNlcjE5NTUxNDE5","avatar_url":"https://avatars.githubusercontent.com/u/19551419?v=4","gravatar_id":"","url":"https://api.github.com/users/tacigar","html_url":"https://github.com/tacigar","followers_url":"https://api.github.com/users/tacigar/followers","following_url":"https://api.github.com/users/tacigar/following{/other_user}","gists_url":"https://api.github.com/users/tacigar/gists{/gist_id}","starred_url":"https://api.github.com/users/tacigar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tacigar/subscriptions","organizations_url":"https://api.github.com/users/tacigar/orgs","repos_url":"https://api.github.com/users/tacigar/repos","events_url":"https://api.github.com/users/tacigar/events{/privacy}","received_events_url":"https://api.github.com/users/tacigar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-13T10:18:26Z","updated_at":"2019-08-13T10:18:26Z","author_association":"MEMBER","body":"Thank you for your feedback!!\r\nPTAL 🙇 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/520777500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521103189","html_url":"https://github.com/openzipkin/zipkin/issues/2739#issuecomment-521103189","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2739","id":521103189,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTEwMzE4OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T05:08:01Z","updated_at":"2019-08-14T05:08:01Z","author_association":"MEMBER","body":"can you try 2.16.0 please? we will re-open if still problem","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521103189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521103872","html_url":"https://github.com/openzipkin/zipkin/pull/2747#issuecomment-521103872","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2747","id":521103872,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTEwMzg3Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T05:12:22Z","updated_at":"2019-08-14T05:12:22Z","author_association":"MEMBER","body":"just rebased for the sake of rebasing still death spiral","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521103872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521115879","html_url":"https://github.com/openzipkin/zipkin/issues/2739#issuecomment-521115879","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2739","id":521115879,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTExNTg3OQ==","user":{"login":"ltlwill","id":16695334,"node_id":"MDQ6VXNlcjE2Njk1MzM0","avatar_url":"https://avatars.githubusercontent.com/u/16695334?v=4","gravatar_id":"","url":"https://api.github.com/users/ltlwill","html_url":"https://github.com/ltlwill","followers_url":"https://api.github.com/users/ltlwill/followers","following_url":"https://api.github.com/users/ltlwill/following{/other_user}","gists_url":"https://api.github.com/users/ltlwill/gists{/gist_id}","starred_url":"https://api.github.com/users/ltlwill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltlwill/subscriptions","organizations_url":"https://api.github.com/users/ltlwill/orgs","repos_url":"https://api.github.com/users/ltlwill/repos","events_url":"https://api.github.com/users/ltlwill/events{/privacy}","received_events_url":"https://api.github.com/users/ltlwill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T06:15:20Z","updated_at":"2019-08-14T08:06:51Z","author_association":"NONE","body":"> can you try 2.16.0 please? we will re-open if still problem\r\n\r\nThis problem is no longer in version 2.16.0.   Thanks!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521115879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521278007","html_url":"https://github.com/openzipkin/zipkin/issues/2753#issuecomment-521278007","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2753","id":521278007,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTI3ODAwNw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T14:47:50Z","updated_at":"2019-08-14T14:47:50Z","author_association":"CONTRIBUTOR","body":"@trustin Anything off the top of your head for what makes method=UNKNOWN metrics?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521278007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521462003","html_url":"https://github.com/openzipkin/zipkin/issues/2754#issuecomment-521462003","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2754","id":521462003,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTQ2MjAwMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-14T23:56:34Z","updated_at":"2019-08-14T23:56:34Z","author_association":"MEMBER","body":"we use armeria and spring boot underneath. Please use gitter next time for questions as we don't use issues as you notice in the issue description you pasted.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-configure-ssl","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521462003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521912136","html_url":"https://github.com/openzipkin/zipkin/issues/2754#issuecomment-521912136","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2754","id":521912136,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTkxMjEzNg==","user":{"login":"mvbjoshi","id":54111284,"node_id":"MDQ6VXNlcjU0MTExMjg0","avatar_url":"https://avatars.githubusercontent.com/u/54111284?v=4","gravatar_id":"","url":"https://api.github.com/users/mvbjoshi","html_url":"https://github.com/mvbjoshi","followers_url":"https://api.github.com/users/mvbjoshi/followers","following_url":"https://api.github.com/users/mvbjoshi/following{/other_user}","gists_url":"https://api.github.com/users/mvbjoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/mvbjoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvbjoshi/subscriptions","organizations_url":"https://api.github.com/users/mvbjoshi/orgs","repos_url":"https://api.github.com/users/mvbjoshi/repos","events_url":"https://api.github.com/users/mvbjoshi/events{/privacy}","received_events_url":"https://api.github.com/users/mvbjoshi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T07:16:24Z","updated_at":"2019-08-16T07:16:24Z","author_association":"NONE","body":"@adriancole  I am using zipkin-server jar version 2.12.6 and have gone through with readme doc at https://github.com/openzipkin/zipkin/blob/master/zipkin-server/README.md but there is no mention of which params to use for https based url. So my question was do we have that functionality in that zipkin executable jar and if yes then which all params, like for kafka we have overrides that we can set during jar launching.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521912136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521919435","html_url":"https://github.com/openzipkin/zipkin/issues/2754#issuecomment-521919435","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2754","id":521919435,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTkxOTQzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T07:44:50Z","updated_at":"2019-08-16T07:44:50Z","author_association":"MEMBER","body":"you are very behind (latest is 2.16.1). please update before asking more\nquestions about config. we can chat more here\nhttps://gitter.im/openzipkin/zipkin\n\nOn Fri, Aug 16, 2019 at 3:16 PM mvbjoshi <notifications@github.com> wrote:\n\n> @adriancole <https://github.com/adriancole> I am using zipkin-server jar\n> version 2.12.6 and have gone through with readme doc at\n> https://github.com/openzipkin/zipkin/blob/master/zipkin-server/README.md\n> but there is no mention of which params to use for https based url. So my\n> question was do we have that functionality in that zipkin executable jar\n> and if yes then which all params, like for kafka we have overrides that we\n> can set during jar launching.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2754?email_source=notifications&email_token=AAAPVV3S6J5Y4AM7ZXVDOK3QEZH4VA5CNFSM4ILVWRN2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD4N36SA#issuecomment-521912136>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV75HVVR3ANW3DYMFT3QEZH4VANCNFSM4ILVWRNQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521919435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521975534","html_url":"https://github.com/openzipkin/zipkin/pull/2736#issuecomment-521975534","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2736","id":521975534,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTk3NTUzNA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-16T11:17:00Z","updated_at":"2019-08-16T11:17:00Z","author_association":"CONTRIBUTOR","body":"I haven't been looking at lens prs much but noticed this commit\r\n\r\nmakeStyles -> withStyles\r\n\r\nAny reason to go from hooks back to HoC? I've been migrating in the opposite direction so just curious :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/521975534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522233119","html_url":"https://github.com/openzipkin/zipkin/issues/2756#issuecomment-522233119","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2756","id":522233119,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzMzExOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T12:37:22Z","updated_at":"2019-08-17T12:37:22Z","author_association":"MEMBER","body":"FWIW the way the old okhttp logger worked was that in the logger it would show if there was a timeout.\r\n\r\nex. like this:\r\n```\r\nzipkin                      | 2019-08-17 12:36:26.032  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : --> POST http://elasticsearch:9200/_bulk http/1.1 (-1-byte body)\r\nzipkin                      | 2019-08-17 12:36:27.622  INFO 1 --- [search:9200/...] z.e.ElasticsearchStorage                 : <-- HTTP FAILED: java.net.SocketTimeoutException: timeout\r\n```\r\n\r\nwhat was nice about this is that you have context. also, you can use the same logging category for any kind of http failure, regardless of if that was status or timeout.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522233119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522233418","html_url":"https://github.com/openzipkin/zipkin/issues/2756#issuecomment-522233418","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2756","id":522233418,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzMzQxOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T12:42:35Z","updated_at":"2019-08-17T12:42:35Z","author_association":"MEMBER","body":"Now, what happens is we have (with the same config) a summary message plus also the WARN. The thing to pay attention to when deciding if this is ok or not is that this is request-scoped and WARN level will always be in console unless we turn it off. In an overload situation you can be filling up logs. however, if they aren't stored anywhere, like shipped to elasticsearch, getting a WARN line every few milliseconds may not be a problem.\r\n\r\nHere's the current log with BASIC on.\r\n```\r\nzipkin                      | 2019-08-17 12:39:20.000  INFO 1 --- [orker-epoll-2-4] c.l.a.c.l.LoggingClient                  : Request: {startTime=2019-08-17T12:39:19.994Z(1566045559994257), length=4970KiB(5089733B), duration=6198?s(6198300ns), scheme=none+h1c, headers=[]}\r\nzipkin                      | 2019-08-17 12:39:20.117  WARN 1 --- [orker-epoll-2-4] c.l.a.c.l.LoggingClient                  : Response: {startTime=2019-08-17T12:39:20.117Z(1566045560117742), length=0B, duration=0ns, cause=com.linecorp.armeria.client.ResponseTimeoutException, headers=[]}\r\nzipkin                      | \r\nzipkin                      | com.linecorp.armeria.client.ResponseTimeoutException: null\r\n```\r\n\r\nYou'll notice that while the info has enough data to describe what the timeout is about the WARN one does not. it just says a timeout occurred. We can guess that it was ES falling over though.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522233418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522233706","html_url":"https://github.com/openzipkin/zipkin/issues/2756#issuecomment-522233706","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2756","id":522233706,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzMzcwNg==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T12:47:36Z","updated_at":"2019-08-17T12:47:36Z","author_association":"CONTRIBUTOR","body":"Filed https://github.com/line/armeria/issues/2000 since I think it's just a bug","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522233706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522234035","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522234035","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522234035,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzNDAzNQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T12:52:37Z","updated_at":"2019-08-17T12:52:37Z","author_association":"MEMBER","body":"I'm going to run a comparison before (2.15.0) and after (2.16.1) to see if the memory usage is different. It is probably not a huge deal to OOM if things are timing out anyway, but better to hunt now before we announce, in case it is something small.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522234035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522234660","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522234660","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522234660,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzNDY2MA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T13:01:09Z","updated_at":"2019-08-17T13:01:09Z","author_association":"MEMBER","body":"here's some charts for a 100s run of brave-webmvc-example against latest docker with 2.16.1 and ES 7 (ES_HTTP_LOGGING=basic)\r\n\r\n![Screenshot 2019-08-17 at 8 59 26 PM](https://user-images.githubusercontent.com/64215/63212072-14066600-c132-11e9-87e3-00560e58addd.png)\r\n![Screenshot 2019-08-17 at 8 59 44 PM](https://user-images.githubusercontent.com/64215/63212074-1668c000-c132-11e9-8e16-124d3d164f03.png)\r\n![Screenshot 2019-08-17 at 8 59 58 PM](https://user-images.githubusercontent.com/64215/63212076-18328380-c132-11e9-9fff-b1620dc4d31a.png)\r\n![Screenshot 2019-08-17 at 9 00 15 PM](https://user-images.githubusercontent.com/64215/63212078-19fc4700-c132-11e9-838e-91b0033f547d.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522234660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522235152","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522235152","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522235152,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzNTE1Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T13:07:49Z","updated_at":"2019-08-17T13:07:49Z","author_association":"MEMBER","body":"here's the same run, I only changed the image of zipkin to 2.15.0 leaving the ES image etc exactly the same.\r\n\r\n![Screenshot 2019-08-17 at 9 06 31 PM](https://user-images.githubusercontent.com/64215/63212180-08676f00-c133-11e9-8d08-1ec85fd5cc1f.png)\r\n![Screenshot 2019-08-17 at 9 06 56 PM](https://user-images.githubusercontent.com/64215/63212181-0a313280-c133-11e9-82e9-0e0173b6a643.png)\r\n![Screenshot 2019-08-17 at 9 07 05 PM](https://user-images.githubusercontent.com/64215/63212184-0bfaf600-c133-11e9-9bf9-e6f1dca3580e.png)\r\n![Screenshot 2019-08-17 at 9 07 20 PM](https://user-images.githubusercontent.com/64215/63212185-0dc4b980-c133-11e9-8eea-9852d720d824.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522235152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522235227","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522235227","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522235227,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzNTIyNw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T13:08:55Z","updated_at":"2019-08-17T13:08:55Z","author_association":"MEMBER","body":"I will now do the same without basic on, just in case something about basic logging is using a lot of memory","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522235227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522235784","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522235784","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522235784,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzNTc4NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T13:17:32Z","updated_at":"2019-08-17T13:17:32Z","author_association":"MEMBER","body":"this is 2.16.1 with complete defaults, no ES logging.\r\n\r\n![Screenshot 2019-08-17 at 9 15 49 PM](https://user-images.githubusercontent.com/64215/63212263-5630a700-c134-11e9-9794-80f890a5d63f.png)\r\n![Screenshot 2019-08-17 at 9 16 07 PM](https://user-images.githubusercontent.com/64215/63212266-58930100-c134-11e9-8986-8c3f40b46621.png)\r\n![Screenshot 2019-08-17 at 9 16 20 PM](https://user-images.githubusercontent.com/64215/63212267-5af55b00-c134-11e9-9c65-f8b971d97d73.png)\r\n![Screenshot 2019-08-17 at 9 16 56 PM](https://user-images.githubusercontent.com/64215/63212269-5fba0f00-c134-11e9-8522-ff5fc411de0f.png)\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522235784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522235945","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522235945","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522235945,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzNTk0NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T13:20:35Z","updated_at":"2019-08-17T13:20:35Z","author_association":"MEMBER","body":"@anuraaga @trustin can I leave this one to you to look into? I don't want us to do a release announcement saying we did all this stuff to make things efficient with results that seem much worse. It wouldn't be a good reflection on armeria. Probably there's something we are doing that ends up less efficient and slower than before. Since we were using a very late version of okhttp, they had a long time to find all the bugs. Armeria and especially our use of it is quite new. Probably some opportunity to figure out what's up.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522235945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522236338","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522236338","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522236338,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzNjMzOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T13:26:36Z","updated_at":"2019-08-17T13:26:36Z","author_association":"MEMBER","body":"and btw in both cases we were using armeria server. the main thing we did was change the elasticsearch client to use armeria vs okhttp. It ended up a lot of work because we also switched things like json codecs from using moshi/okio which shares buffers with okhttp underneath, and also changed a lot of the async behavior. I don't think health check has anything to do with it, but if necessary I could run something with it turned off.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522236338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522239292","html_url":"https://github.com/openzipkin/zipkin/issues/2756#issuecomment-522239292","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2756","id":522239292,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjIzOTI5Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T13:55:52Z","updated_at":"2019-08-17T13:55:52Z","author_association":"MEMBER","body":"we can also consider putting tracing alway-on, but in no-op mode so at least we get trace/span IDs in logs. Not sure it will cover this exception, but it might help validate if timeouts are working properly, or firing too soon, or something else. right now, obviously we cannot correlate","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522239292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522242701","html_url":"https://github.com/openzipkin/zipkin/issues/2758#issuecomment-522242701","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2758","id":522242701,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI0MjcwMQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T14:34:41Z","updated_at":"2019-08-17T17:50:57Z","author_association":"CONTRIBUTOR","body":"I think the code version is something like\r\n\r\n```java\r\nif (initialized)\r\n  run();\r\nelse\r\n  blockingExecutor.execute(() -> {\r\n    run();\r\n    initialized = true\r\n}\r\n```\r\n\r\nI would be worried though if at some point that initialized does not reflect reality and something later blocks. If the server codebase enforced a practice of\r\n\r\n1) Blocking I/O methods do not take callbacks\r\n2) Callbacks passed to methods do not do blocking I/O\r\n\r\nthen it would be safe but without that, it would be quite realistic to accidentally add back a block. Don't think it's worth trying that until a potential zipkin 3 - we discussed a major version would probably be needed to codify blocking guidelines on APIs.\r\n\r\nEven better would be to not ever do blocking I/O - not blocking does not imply not ordering. Composition of CompletableFuture can ensure ordering, caching of futures can ensure synchronization. But it makes the codebase much more complex so it might be too much of a shift.\r\n\r\nJust a memo of my thoughts","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522242701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522243147","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522243147","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522243147,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI0MzE0Nw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T14:38:18Z","updated_at":"2019-08-17T14:38:18Z","author_association":"CONTRIBUTOR","body":"Going to take a look at this. Assuming the graphs are from the normal wrk command against brave-springmvc?\r\n\r\nAlso just wondering, do you startup both a prometheus and a grafana to get those graphs? Wish it was easier to get graphs when just running locally 😅 ","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522243147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522244039","html_url":"https://github.com/openzipkin/zipkin/issues/2756#issuecomment-522244039","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2756","id":522244039,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI0NDAzOQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T14:47:25Z","updated_at":"2019-08-17T14:47:25Z","author_association":"CONTRIBUTOR","body":"Also filed https://github.com/line/armeria/issues/2001 I think it's better if armeria generated a request ID for logs to not have to tweak trace sampling just to associate logs.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522244039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522253233","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522253233","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522253233,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI1MzIzMw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T16:52:39Z","updated_at":"2019-08-17T16:52:39Z","author_association":"CONTRIBUTOR","body":"Looked a bit, haven't seen any OOM on my computer yet (probably not as limited memory as the container).\r\n\r\nOne finding is when running 2.15.0 with throttling disabled for comparison, meaning setting ` ES_MAX_REQUESTS=1000000000`, I could reproduce all requests becoming timeouts right away, with a similar spike in latency (viewing /internal/metrics instead of using Grafana to avoid the steps which would be more precise, I may be misreading the numbers but don't think so).\r\n\r\nWill try in the coming days with less extreme loads to see what happens.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522253233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522254833","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522254833","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522254833,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI1NDgzMw==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T17:16:30Z","updated_at":"2019-08-17T17:16:30Z","author_association":"CONTRIBUTOR","body":"Actually, did the opposite - mocking out elasticsearch with an Armeria mock server that just returns a fixed 200 response, okhttp is definitely much faster\r\n\r\nokhttp\r\n```\r\n# TYPE http_server_requests_seconds histogram\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.001\",} 67.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.001048576\",} 68.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.001398101\",} 74.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.001747626\",} 79.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.002097151\",} 86.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.002446676\",} 89.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.002796201\",} 90.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.003145726\",} 95.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.003495251\",} 95.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.003844776\",} 96.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.004194304\",} 96.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.005592405\",} 100.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.006990506\",} 103.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.008388607\",} 104.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.009786708\",} 104.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.011184809\",} 105.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.01258291\",} 105.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.013981011\",} 105.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.015379112\",} 105.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.016777216\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.022369621\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.027962026\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.033554431\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.039146836\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.044739241\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.050331646\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.055924051\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.061516456\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.067108864\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.089478485\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.111848106\",} 106.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.134217727\",} 107.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.156587348\",} 107.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.178956969\",} 107.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.20132659\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.223696211\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.246065832\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.268435456\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.357913941\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.447392426\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.536870911\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.626349396\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.715827881\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.805306366\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.894784851\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.984263336\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"1.073741824\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"1.431655765\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"1.789569706\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"2.147483647\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"2.505397588\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"2.863311529\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"3.22122547\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"3.579139411\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"3.937053352\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"4.294967296\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"5.726623061\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"7.158278826\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"8.589934591\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"10.021590356\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"11.453246121\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"12.884901886\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"14.316557651\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"15.748213416\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"17.179869184\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"22.906492245\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"28.633115306\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"30.0\",} 108.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"+Inf\",} 108.0\r\nhttp_server_requests_seconds_count{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",} 108.0\r\nhttp_server_requests_seconds_sum{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",} 0.4687505\r\n```\r\n\r\narmeria\r\n```\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.001\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.001048576\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.001398101\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.001747626\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.002097151\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.002446676\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.002796201\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.003145726\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.003495251\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.003844776\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.004194304\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.005592405\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.006990506\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.008388607\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.009786708\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.011184809\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.01258291\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.013981011\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.015379112\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.016777216\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.022369621\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.027962026\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.033554431\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.039146836\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.044739241\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.050331646\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.055924051\",} 0.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.061516456\",} 1.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.067108864\",} 1.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.089478485\",} 2.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.111848106\",} 4.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.134217727\",} 5.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.156587348\",} 5.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.178956969\",} 5.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.20132659\",} 9.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.223696211\",} 13.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.246065832\",} 21.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.268435456\",} 36.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.357913941\",} 90.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.447392426\",} 99.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.536870911\",} 100.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.626349396\",} 100.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.715827881\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.805306366\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.894784851\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"0.984263336\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"1.073741824\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"1.431655765\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"1.789569706\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"2.147483647\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"2.505397588\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"2.863311529\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"3.22122547\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"3.579139411\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"3.937053352\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"4.294967296\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"5.726623061\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"7.158278826\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"8.589934591\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"10.021590356\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"11.453246121\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"12.884901886\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"14.316557651\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"15.748213416\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"17.179869184\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"22.906492245\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"28.633115306\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"30.0\",} 101.0\r\nhttp_server_requests_seconds_bucket{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",le=\"+Inf\",} 101.0\r\nhttp_server_requests_seconds_count{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",} 101.0\r\nhttp_server_requests_seconds_sum{method=\"POST\",status=\"202\",uri=\"/api/v2/spans\",} 29.0299599\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522254833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522275889","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522275889","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522275889,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI3NTg4OQ==","user":{"login":"trustin","id":173918,"node_id":"MDQ6VXNlcjE3MzkxOA==","avatar_url":"https://avatars.githubusercontent.com/u/173918?v=4","gravatar_id":"","url":"https://api.github.com/users/trustin","html_url":"https://github.com/trustin","followers_url":"https://api.github.com/users/trustin/followers","following_url":"https://api.github.com/users/trustin/following{/other_user}","gists_url":"https://api.github.com/users/trustin/gists{/gist_id}","starred_url":"https://api.github.com/users/trustin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trustin/subscriptions","organizations_url":"https://api.github.com/users/trustin/orgs","repos_url":"https://api.github.com/users/trustin/repos","events_url":"https://api.github.com/users/trustin/events{/privacy}","received_events_url":"https://api.github.com/users/trustin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T22:42:29Z","updated_at":"2019-08-17T22:42:29Z","author_association":"NONE","body":"Thanks @adriancole and @anuraaga.\r\nI will also take a look once I'm back from Taiwan mid next week.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522275889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522277991","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522277991","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522277991,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI3Nzk5MQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-17T23:28:03Z","updated_at":"2019-08-17T23:28:25Z","author_association":"CONTRIBUTOR","body":"Quick update from my investigation, it seems that `handleAsync(..., ctx.contextAwareExecutor())` adds tens of milliseconds. changing back to `handle` made the numbers look much more sane.\r\n\r\nhttps://github.com/openzipkin/zipkin/blob/master/zipkin-server/src/main/java/zipkin2/server/internal/ZipkinHttpCollector.java#L116\r\n\r\nThis does not make that much sense to me based on my expectations of how `handleAsync` would work, but perhaps we need to tweak this to run callbacks inline when on the event loop thread \r\n\r\nhttps://github.com/line/armeria/blob/master/core/src/main/java/com/linecorp/armeria/common/RequestContextAwareEventLoop.java\r\n\r\nWill verify self tracing before sending out a change to sync handle.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522277991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522279478","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522279478","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522279478,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI3OTQ3OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-18T00:05:56Z","updated_at":"2019-08-18T00:05:56Z","author_association":"MEMBER","body":"ok thanks. this seems like great progress. also that's right about before\nwe had a semaphore which would have dropped immediately.\n\nwrt the callbacks, if we need to temporarily remove self-tracing that's not\na big deal as few use it. since the cat is already out-of-the bag (we've\nalready released eventhough not notified with notes etc), any low-hanging\nfruit to make sure people have a good experience is much more important\nthan self-tracing.\n\nOn Sun, Aug 18, 2019 at 7:28 AM Anuraag Agrawal <notifications@github.com>\nwrote:\n\n> Quick update from my investigation, it seems that handleAsync(...,\n> ctx.contextAwareExecutor()) adds tens of milliseconds. changing back to\n> handle made the numbers look much more sane.\n>\n>\n> https://github.com/openzipkin/zipkin/blob/master/zipkin-server/src/main/java/zipkin2/server/internal/ZipkinHttpCollector.java#L116\n>\n> This does not make that much sense to me based on my expectations of how\n> handleAsync would work, but perhaps we need to tweak this to run\n> callbacks inline when on the event loop thread\n>\n>\n> https://github.com/line/armeria/blob/master/core/src/main/java/com/linecorp/armeria/common/RequestContextAwareEventLoop.java\n>\n> Will verify self tracing before sending out a change\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/openzipkin/zipkin/issues/2757?email_source=notifications&email_token=AAAPVVYLCQ7ZIIVONMPCHITQFCCQLA5CNFSM4IMPKAJ2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD4QVIZY#issuecomment-522277991>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAAPVV3AVWTLPNRK3PCE3BTQFCCQLANCNFSM4IMPKAJQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522279478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522280395","html_url":"https://github.com/openzipkin/zipkin/issues/2758#issuecomment-522280395","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2758","id":522280395,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI4MDM5NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-18T00:29:07Z","updated_at":"2019-08-18T00:29:07Z","author_association":"MEMBER","body":"interesting.. I was thinking about really like a proxy an in-memory proxy/barrier which intercepts the http traffic, but blocks callers on a configuration gate. somehow, this proxy/interceptor is removed. he other code actually stays the same except it could rely on no ordering or initialization proxy.\r\n\r\nIt seems a lot simpler without a rewrite which I don't think anyone has time for right now. It would be very easy to get the blocking ordering part (which does the most suprising I/O) off the main line.\r\n\r\nThis doesn't mean the ideas you have for zipkin 3 aren't cool, I like them, just I was wondering about a tactical change as I don't think at the moment we'd require having time resources and desire to do a full rewrite for an optimization like this. I think we can make a Zipkin 3 wishlist with what you've mentioned regardless. I think in Brave for example, we have // BRAVE 6 notes scattered around in relevant places which identify trouble spots.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522280395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522281509","html_url":"https://github.com/openzipkin/zipkin/issues/2758#issuecomment-522281509","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2758","id":522281509,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjI4MTUwOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-18T00:52:46Z","updated_at":"2019-08-18T00:52:46Z","author_association":"MEMBER","body":"@anuraaga Just opened a zipkin3 also and assigned you as the lead but this is not implying sending you to coal mine :) just to what degree you are interested and have time on more strategic things, please note or progress what you can https://github.com/openzipkin/zipkin/issues/2759\r\n\r\nWe put a lot of time into refactoring the server and deserve to benefit from that. For example we've had significant work done since march and this has impacted users not always in good ways. We have a brand of being the stable option and we should live up to that.\r\n\r\nI think you get it, I'm just trying to find a way of being objective about duty and how we could. Ex. we have been in process of armeria transition on and off the last 5 months. We deserve a break at some point, and users do too. Having 3 if not 6 months of stability before the next huge refactor seems reasonable. Since we're not out of the woods, yet, on this one.. I was looking for tactical ways to get things stable, but understand this idea could be misplaced. take it as a grain of salt if it isn't helpful.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522281509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522312766","html_url":"https://github.com/openzipkin/zipkin/issues/2758#issuecomment-522312766","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2758","id":522312766,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjMxMjc2Ng==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-18T11:17:56Z","updated_at":"2019-08-18T11:17:56Z","author_association":"CONTRIBUTOR","body":"Yeah I agree we shouldn't do any big rework any time soon, just ideas for how to get to safe async. I think for now, we're already where we need to be - running calls on the blocking executor since our logic we can never assume to be fully async. Without assurances on the blocking properties of business logic, I think we would always be nervous about accidentally blocking an event loop but now it's basically not possible (well, that does assume we don't add a redis layer or something to our span decoders, currently the only significant business logic run on the event loop ;) )\r\n\r\nThe performance impact of the switch is marginal, I'd guess at max a couple ms in a very worst case - for the other issue I didn't see any visible impact from removing it unlike the weirdness of handleAsync. Hopefully we can look at getting that back, in a couple of years or something :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522312766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522371868","html_url":"https://github.com/openzipkin/zipkin/issues/2758#issuecomment-522371868","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2758","id":522371868,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjM3MTg2OA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T00:17:31Z","updated_at":"2019-08-19T00:17:31Z","author_association":"MEMBER","body":"works for me, @anuraaga, let's reserve effort towards other things in the air and eventually a zipkin3!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522371868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522374764","html_url":"https://github.com/openzipkin/zipkin/pull/2760#issuecomment-522374764","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2760","id":522374764,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjM3NDc2NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T00:47:07Z","updated_at":"2019-08-19T00:47:07Z","author_association":"MEMBER","body":"Ack that when I instrumented for the tracing to work, I didn't understand the implications of the choices here. In other words, I am the chaos monkey of instrumentation!\r\n\r\nWill test here locally and also layered with zipkin-aws. Thanks for the weekend help, @anuraaga!","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522374764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522394059","html_url":"https://github.com/openzipkin/zipkin/issues/2697#issuecomment-522394059","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2697","id":522394059,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjM5NDA1OQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T03:01:15Z","updated_at":"2019-08-19T03:01:15Z","author_association":"MEMBER","body":"@openzipkin/armeria I'm going to ask a question here because I think it is important to know.\r\n\r\nin #2760, we changed to do this as opposed to what we did before..\r\n\r\n```java\r\nreq.aggregateWithPooledObjects(ctx.contextAwareEventLoop(), ctx.alloc()).handle((msg, t) -> {\r\n```\r\n\r\nthe \"handle\" lambda does some work that will take a little time, including decompression and json parsing. It was that reason that I formerly used `handleAsync` as I was afraid that this decompression etc would block the event loop and cause a problem.\r\n\r\nIf someone has a good phrasing of why `handleAsync` was the wrong choice and why `handle` is the right one for this, please reply! I want to not make errors next time.\r\n\r\nHere's the current code: https://github.com/openzipkin/zipkin/blob/b84bb3261d8402507a2d54f3b55e017484c50a85/zipkin-server/src/main/java/zipkin2/server/internal/ZipkinHttpCollector.java#L116","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522394059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522395797","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522395797","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522395797,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjM5NTc5Nw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T03:13:51Z","updated_at":"2019-08-19T03:13:51Z","author_association":"MEMBER","body":"Thanks for the progress, @anuraaga. cc also @trustin Here's the current master vs 2.15.0 on the same burst of 100s in the same docker etc everything. It is much much better than before, as it doesn't end up blocking clients for seconds which could really mess up things.\r\n\r\nWe should admit our current evolution is still significantly more heap usage, more and longer gcs, and an order magnitude higher p90 response time now vs 2.15 (okhttp based) for the same load. This doesn't mean we enter a pit of work, but I do think we need to at least acknowledge this.\r\n\r\nUsing zipkin 2.15.0\r\n\r\n![Screenshot 2019-08-19 at 10 54 27 AM](https://user-images.githubusercontent.com/64215/63236645-30f58300-c271-11e9-9307-ce32ae13382c.png)\r\n![Screenshot 2019-08-19 at 10 54 46 AM](https://user-images.githubusercontent.com/64215/63236648-33f07380-c271-11e9-84f3-8fff1818bb29.png)\r\n\r\nUsing the last commit (verified the actual commit ID from the /info endpoint)\r\n![Screenshot 2019-08-19 at 10 02 00 AM](https://user-images.githubusercontent.com/64215/63236671-45d21680-c271-11e9-8def-82268e237ce4.png)\r\n![Screenshot 2019-08-19 at 10 02 35 AM](https://user-images.githubusercontent.com/64215/63236674-48347080-c271-11e9-8663-91ec852d462c.png)\r\n\r\nTL;DR; we should probably continue this investigation, or not mention efficiency as a rationale for upgrading during release notes. There are other wins such as load balancing or platform coherency we can still mention, and I know many will be happy to have these features as they were directly requested.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522395797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522397313","html_url":"https://github.com/openzipkin/zipkin/issues/2757#issuecomment-522397313","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2757","id":522397313,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjM5NzMxMw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T03:24:28Z","updated_at":"2019-08-19T03:24:28Z","author_association":"MEMBER","body":"I created an issue to make troubleshooting easier though it isn't hard to start frontend/backend and smack it with wrk (agreed current approach doesn't help in cloud but we aren't using cloud here either) https://github.com/openzipkin/sleuth-webmvc-example/issues/27","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522397313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522407120","html_url":"https://github.com/openzipkin/zipkin/pull/2736#issuecomment-522407120","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2736","id":522407120,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjQwNzEyMA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T04:29:04Z","updated_at":"2019-08-19T04:29:04Z","author_association":"MEMBER","body":"@anuraaga @dvkndn very appreciate you having a look! It helps @tacigar feel less alone (also good for the code) :D","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522407120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522533870","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-522533870","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":522533870,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjUzMzg3MA==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T11:43:13Z","updated_at":"2019-08-19T11:44:31Z","author_association":"CONTRIBUTOR","body":"Sorry this was just put together stream of thought, I agree the API is junk. Was hoping either you, or me once I finish moving preparations, first benchmark the difference before cleaning it up since the abstractions won't affect the performance :)","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522533870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522534644","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-522534644","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":522534644,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjUzNDY0NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T11:45:43Z","updated_at":"2019-08-19T11:45:43Z","author_association":"MEMBER","body":"ah ok I get it now. yeah makes sense. sure I can fire up the engine and see","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522534644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522535921","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-522535921","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":522535921,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjUzNTkyMQ==","user":{"login":"anuraaga","id":198344,"node_id":"MDQ6VXNlcjE5ODM0NA==","avatar_url":"https://avatars.githubusercontent.com/u/198344?v=4","gravatar_id":"","url":"https://api.github.com/users/anuraaga","html_url":"https://github.com/anuraaga","followers_url":"https://api.github.com/users/anuraaga/followers","following_url":"https://api.github.com/users/anuraaga/following{/other_user}","gists_url":"https://api.github.com/users/anuraaga/gists{/gist_id}","starred_url":"https://api.github.com/users/anuraaga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuraaga/subscriptions","organizations_url":"https://api.github.com/users/anuraaga/orgs","repos_url":"https://api.github.com/users/anuraaga/repos","events_url":"https://api.github.com/users/anuraaga/events{/privacy}","received_events_url":"https://api.github.com/users/anuraaga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T11:50:07Z","updated_at":"2019-08-19T11:50:07Z","author_association":"CONTRIBUTOR","body":"Thanks! Realized I forgot to mark this as WIP which added confusion","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522535921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522546118","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-522546118","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":522546118,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjU0NjExOA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T12:20:14Z","updated_at":"2019-08-19T12:20:14Z","author_association":"MEMBER","body":"I did a quick run just to check. I can't see a significant drop in memory usage, but then again I assume the prometheus endpoint is troubled as in the last two runs each lost metrics during peak load (gaps in the graph)\r\n\r\n```bash\r\ncurl -s localhost:9411/actuator/info\r\n{\"zipkin\":{\"version\":\"2.16.2-SNAPSHOT\",\"commit\":\"2ea9c0a\"}}\r\n```\r\n\r\nI'm gonna try to sort out something else unrelated tonight","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522546118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522547154","html_url":"https://github.com/openzipkin/zipkin/pull/2761#issuecomment-522547154","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2761","id":522547154,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjU0NzE1NA==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T12:22:58Z","updated_at":"2019-08-19T12:22:58Z","author_association":"MEMBER","body":"ps I use the jitpack branch of docker-zipkin repo then start like..\r\n\r\n```\r\ndocker-compose -f docker-compose.yml -f docker-compose-elasticsearch.yml build\r\ndocker-compose -f docker-compose.yml -f docker-compose-elasticsearch.yml up\r\n```\r\n\r\nthen the `wrk -t4 -c128 -d100s http://localhost:8081 --latency` against it\r\n\r\nthe other thing as mentioned offline, is that now we are able to kill ES 7 :P not sure if that's because of load or more memory displacement or what.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522547154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522731775","html_url":"https://github.com/openzipkin/zipkin/issues/2759#issuecomment-522731775","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2759","id":522731775,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjczMTc3NQ==","user":{"login":"jcarres-mdsol","id":1803073,"node_id":"MDQ6VXNlcjE4MDMwNzM=","avatar_url":"https://avatars.githubusercontent.com/u/1803073?v=4","gravatar_id":"","url":"https://api.github.com/users/jcarres-mdsol","html_url":"https://github.com/jcarres-mdsol","followers_url":"https://api.github.com/users/jcarres-mdsol/followers","following_url":"https://api.github.com/users/jcarres-mdsol/following{/other_user}","gists_url":"https://api.github.com/users/jcarres-mdsol/gists{/gist_id}","starred_url":"https://api.github.com/users/jcarres-mdsol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcarres-mdsol/subscriptions","organizations_url":"https://api.github.com/users/jcarres-mdsol/orgs","repos_url":"https://api.github.com/users/jcarres-mdsol/repos","events_url":"https://api.github.com/users/jcarres-mdsol/events{/privacy}","received_events_url":"https://api.github.com/users/jcarres-mdsol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-19T20:02:19Z","updated_at":"2019-08-19T20:02:19Z","author_association":"CONTRIBUTOR","body":"I think you have been quite good at bringing features without breaking changes. Do you really want a V3?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522731775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522799039","html_url":"https://github.com/openzipkin/zipkin/issues/2759#issuecomment-522799039","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2759","id":522799039,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjc5OTAzOQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T00:02:00Z","updated_at":"2019-08-20T00:02:00Z","author_association":"MEMBER","body":"@jcarres-mdsol haha this is a parking lot at the moment. As long as zipkin keeps going, we can eventually expect a v3.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522799039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522799183","html_url":"https://github.com/openzipkin/zipkin/issues/2762#issuecomment-522799183","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2762","id":522799183,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjc5OTE4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T00:02:40Z","updated_at":"2019-08-20T00:02:40Z","author_association":"MEMBER","body":"makes sense","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/522799183/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523002486","html_url":"https://github.com/openzipkin/zipkin/issues/2763#issuecomment-523002486","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2763","id":523002486,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzAwMjQ4Ng==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T12:58:56Z","updated_at":"2019-08-20T12:58:56Z","author_association":"CONTRIBUTOR","body":"Using IP addresses instead of hostnames fixes the issue.","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523002486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523003182","html_url":"https://github.com/openzipkin/zipkin/issues/2763#issuecomment-523003182","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2763","id":523003182,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzAwMzE4Mg==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T13:00:38Z","updated_at":"2019-08-20T13:00:38Z","author_association":"MEMBER","body":"@anuraaga I guess we could make the \"no endpoints\" message more precise if at the end of the day dns is not resolvable, huh?","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523003182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523004983","html_url":"https://github.com/openzipkin/zipkin/issues/2763#issuecomment-523004983","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2763","id":523004983,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzAwNDk4Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T13:04:59Z","updated_at":"2019-08-20T13:04:59Z","author_association":"MEMBER","body":"meanwhile I asked @jorgheymans to try JRE 11 as eventhough I don't recall all the reasons, I do remember always avoiding JRE 9 :P","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523004983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523006770","html_url":"https://github.com/openzipkin/zipkin/issues/2763#issuecomment-523006770","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2763","id":523006770,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzAwNjc3MA==","user":{"login":"jorgheymans","id":193792,"node_id":"MDQ6VXNlcjE5Mzc5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/193792?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgheymans","html_url":"https://github.com/jorgheymans","followers_url":"https://api.github.com/users/jorgheymans/followers","following_url":"https://api.github.com/users/jorgheymans/following{/other_user}","gists_url":"https://api.github.com/users/jorgheymans/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgheymans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgheymans/subscriptions","organizations_url":"https://api.github.com/users/jorgheymans/orgs","repos_url":"https://api.github.com/users/jorgheymans/repos","events_url":"https://api.github.com/users/jorgheymans/events{/privacy}","received_events_url":"https://api.github.com/users/jorgheymans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T13:09:27Z","updated_at":"2019-08-20T13:10:50Z","author_association":"CONTRIBUTOR","body":"on jdk11, starting with `--zipkin.storage.elasticsearch.health-check.enabled=false` in addition i get this straight away when accessing the UI:\r\n\r\n```\r\n2019-08-20 15:07:33.783  WARN 13472 --- [cking-tasks-1-1] c.l.a.i.a.DefaultExceptionHandler        : [id: 0xcbcf74ac, L:/0:0:0:0:0:0:0:1:9411 - R:/0:0:0:0:0:0:0:1:55523][h1c://d02aoeua456iddiu:9411/zipkin/api/v2/services#GET] Unhandled exception from an annotated service:\r\n\r\njava.util.concurrent.RejectedExecutionException: Rejected execution: zipkin2.server.internal.elasticsearch.InitialEndpointSupplier$CompositeEndpointGroup@7f2fa739 is empty\r\n        at zipkin2.elasticsearch.internal.client.HttpCall.lambda$sendRequest$3(HttpCall.java:173) ~[zipkin-storage-elasticsearch-2.16.1.jar!/:?]\r\n        at java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986) ~[?:?]\r\n        at java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970) ~[?:?]\r\n        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506) ~[?:?]\r\n        at java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088) ~[?:?]\r\n        at com.linecorp.armeria.common.HttpMessageAggregator.fail(HttpMessageAggregator.java:146) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.HttpMessageAggregator.onError(HttpMessageAggregator.java:60) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.stream.AbstractStreamMessage$CloseEvent.notifySubscriber(AbstractStreamMessage.java:370) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.stream.DefaultStreamMessage.notifySubscriberOfCloseEvent(DefaultStreamMessage.java:194) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.stream.DefaultStreamMessage.handleCloseEvent(DefaultStreamMessage.java:363) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.stream.DefaultStreamMessage.notifySubscriber0(DefaultStreamMessage.java:306) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.stream.DefaultStreamMessage.doRequest(DefaultStreamMessage.java:181) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.stream.DefaultStreamMessage.request(DefaultStreamMessage.java:166) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.stream.AbstractStreamMessage$SubscriptionImpl.request(AbstractStreamMessage.java:309) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.HttpMessageAggregator.onSubscribe(HttpMessageAggregator.java:55) ~[armeria-0.90.2.jar!/:?]\r\n        at com.linecorp.armeria.common.stream.DefaultStreamMessage.lambda$subscribe$0(DefaultStreamMessage.java:124) ~[armeria-0.90.2.jar!/:?]\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163) ~[netty-common-4.1.39.Final.jar!/:4.1.39.Final]\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:416) ~[netty-common-4.1.39.Final.jar!/:4.1.39.Final]\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:515) ~[netty-transport-4.1.39.Final.jar!/:4.1.39.Final]\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918) ~[netty-common-4.1.39.Final.jar!/:4.1.39.Final]\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.39.Final.jar!/:4.1.39.Final]\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.39.Final.jar!/:4.1.39.Final]\r\n        at java.lang.Thread.run(Thread.java:834) [?:?]\r\nCaused by: com.linecorp.armeria.client.endpoint.EndpointGroupException: zipkin2.server.internal.elasticsearch.InitialEndpointSupplier$CompositeEndpointGroup@7f2fa739 is empty\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523006770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523008343","html_url":"https://github.com/openzipkin/zipkin/issues/2763#issuecomment-523008343","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2763","id":523008343,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzAwODM0Mw==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T13:13:16Z","updated_at":"2019-08-20T13:13:16Z","author_association":"MEMBER","body":"I presume this is still dns.\r\n\r\ndoes this show anything for you?\r\n```bash\r\n$ curl -s localhost:9411/actuator/prometheus|grep ^armeria_client_endpointGroup\r\narmeria_client_endpointGroup_healthy{authority=\"elasticsearch:9200\",ip=\"172.18.0.2\",name=\"elasticsearch\",} 1.0\r\narmeria_client_endpointGroup_count{name=\"elasticsearch\",state=\"unhealthy\",} 0.0\r\narmeria_client_endpointGroup_count{name=\"elasticsearch\",state=\"healthy\",} 1.0\r\n```","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523008343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523010255","html_url":"https://github.com/openzipkin/zipkin/issues/2763#issuecomment-523010255","issue_url":"https://api.github.com/repos/openzipkin/zipkin/issues/2763","id":523010255,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzAxMDI1NQ==","user":{"login":"codefromthecrypt","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/codefromthecrypt","html_url":"https://github.com/codefromthecrypt","followers_url":"https://api.github.com/users/codefromthecrypt/followers","following_url":"https://api.github.com/users/codefromthecrypt/following{/other_user}","gists_url":"https://api.github.com/users/codefromthecrypt/gists{/gist_id}","starred_url":"https://api.github.com/users/codefromthecrypt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codefromthecrypt/subscriptions","organizations_url":"https://api.github.com/users/codefromthecrypt/orgs","repos_url":"https://api.github.com/users/codefromthecrypt/repos","events_url":"https://api.github.com/users/codefromthecrypt/events{/privacy}","received_events_url":"https://api.github.com/users/codefromthecrypt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-08-20T13:17:51Z","updated_at":"2019-08-20T13:17:51Z","author_association":"MEMBER","body":"So if I understand correctly.. the following work\r\n* multiple IP addresses\r\n* single hostname\r\n\r\nWhat doesn't work are multiple hostnames and the result is an empty endpoint group","reactions":{"url":"https://api.github.com/repos/openzipkin/zipkin/issues/comments/523010255/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]