[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279603253","html_url":"https://github.com/apache/pinot/pull/9420#issuecomment-1279603253","issue_url":"https://api.github.com/repos/apache/pinot/issues/9420","id":1279603253,"node_id":"IC_kwDOATCU_c5MRTI1","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T00:05:32Z","updated_at":"2022-10-15T00:05:32Z","author_association":"CONTRIBUTOR","body":"User docs - https://docs.pinot.apache.org/operators/tutorials/performance-optimization-configurations?q=andoperator","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279603253/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279624263","html_url":"https://github.com/apache/pinot/pull/9578#issuecomment-1279624263","issue_url":"https://api.github.com/repos/apache/pinot/issues/9578","id":1279624263,"node_id":"IC_kwDOATCU_c5MRYRH","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T01:24:35Z","updated_at":"2022-10-15T01:24:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9578?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9578](https://codecov.io/gh/apache/pinot/pull/9578?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4ed1c5d) into [master](https://codecov.io/gh/apache/pinot/commit/e813867985746e916c8e898a530002551b661496?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e813867) will **increase** coverage by `0.01%`.\n> The diff coverage is `77.77%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9578      +/-   ##\n============================================\n+ Coverage     70.00%   70.01%   +0.01%     \n+ Complexity     4912     4873      -39     \n============================================\n  Files          1932     1937       +5     \n  Lines        103261   103497     +236     \n  Branches      15693    15715      +22     \n============================================\n+ Hits          72290    72467     +177     \n- Misses        25877    25927      +50     \n- Partials       5094     5103       +9     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.93% <77.77%> (-0.11%)` | :arrow_down: |\n| integration2 | `24.62% <77.77%> (+0.08%)` | :arrow_up: |\n| unittests1 | `67.44% <10.52%> (+0.02%)` | :arrow_up: |\n| unittests2 | `15.57% <16.00%> (-0.05%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9578?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../org/apache/pinot/common/version/PinotVersion.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdmVyc2lvbi9QaW5vdFZlcnNpb24uamF2YQ==) | `60.00% <60.00%> (ø)` | |\n| [...e/pinot/broker/broker/helix/BaseBrokerStarter.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jhc2VCcm9rZXJTdGFydGVyLmphdmE=) | `79.35% <100.00%> (+0.09%)` | :arrow_up: |\n| [...a/org/apache/pinot/common/metrics/BrokerGauge.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJHYXVnZS5qYXZh) | `94.44% <100.00%> (+0.32%)` | :arrow_up: |\n| [...g/apache/pinot/common/metrics/ControllerGauge.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyR2F1Z2UuamF2YQ==) | `97.95% <100.00%> (+0.04%)` | :arrow_up: |\n| [...a/org/apache/pinot/common/metrics/MinionGauge.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25HYXVnZS5qYXZh) | `90.90% <100.00%> (+0.90%)` | :arrow_up: |\n| [...a/org/apache/pinot/common/metrics/ServerGauge.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9TZXJ2ZXJHYXVnZS5qYXZh) | `96.15% <100.00%> (+0.15%)` | :arrow_up: |\n| [...apache/pinot/controller/BaseControllerStarter.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9CYXNlQ29udHJvbGxlclN0YXJ0ZXIuamF2YQ==) | `82.31% <100.00%> (+0.05%)` | :arrow_up: |\n| [...ava/org/apache/pinot/minion/BaseMinionStarter.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vQmFzZU1pbmlvblN0YXJ0ZXIuamF2YQ==) | `74.10% <100.00%> (+0.18%)` | :arrow_up: |\n| [...rg/apache/pinot/server/starter/ServerInstance.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9TZXJ2ZXJJbnN0YW5jZS5qYXZh) | `85.91% <100.00%> (+0.09%)` | :arrow_up: |\n| [.../pinot/server/starter/helix/BaseServerStarter.java](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9CYXNlU2VydmVyU3RhcnRlci5qYXZh) | `56.35% <100.00%> (ø)` | |\n| ... and [56 more](https://codecov.io/gh/apache/pinot/pull/9578/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279624263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279687424","html_url":"https://github.com/apache/pinot/pull/9604#issuecomment-1279687424","issue_url":"https://api.github.com/repos/apache/pinot/issues/9604","id":1279687424,"node_id":"IC_kwDOATCU_c5MRnsA","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T07:45:41Z","updated_at":"2022-10-18T21:41:46Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9604?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9604](https://codecov.io/gh/apache/pinot/pull/9604?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (62319db) into [master](https://codecov.io/gh/apache/pinot/commit/d580bbcaec42281c7bc0667c4db228354b56a889?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d580bbc) will **increase** coverage by `1.94%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9604      +/-   ##\n============================================\n+ Coverage     35.02%   36.96%   +1.94%     \n- Complexity      189      198       +9     \n============================================\n  Files          1943     1941       -2     \n  Lines        103817   103733      -84     \n  Branches      15743    15727      -16     \n============================================\n+ Hits          36361    38350    +1989     \n+ Misses        64369    62182    -2187     \n- Partials       3087     3201     +114     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.81% <0.00%> (-0.03%)` | :arrow_down: |\n| integration2 | `24.52% <0.00%> (?)` | |\n| unittests2 | `15.66% <0.00%> (+0.03%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9604?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ata/manager/offline/DimensionTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvb2ZmbGluZS9EaW1lbnNpb25UYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...l/indexsegment/immutable/ImmutableSegmentImpl.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pbmRleHNlZ21lbnQvaW1tdXRhYmxlL0ltbXV0YWJsZVNlZ21lbnRJbXBsLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...ocal/indexsegment/mutable/IntermediateSegment.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pbmRleHNlZ21lbnQvbXV0YWJsZS9JbnRlcm1lZGlhdGVTZWdtZW50LmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...local/indexsegment/mutable/MutableSegmentImpl.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pbmRleHNlZ21lbnQvbXV0YWJsZS9NdXRhYmxlU2VnbWVudEltcGwuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...t/creator/impl/SegmentIndexCreationDriverImpl.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50SW5kZXhDcmVhdGlvbkRyaXZlckltcGwuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ocal/segment/readers/PinotSegmentColumnReader.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3JlYWRlcnMvUGlub3RTZWdtZW50Q29sdW1uUmVhZGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...ocal/segment/readers/PinotSegmentRecordReader.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zZWdtZW50L3JlYWRlcnMvUGlub3RTZWdtZW50UmVjb3JkUmVhZGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...cal/upsert/BasePartitionUpsertMetadataManager.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQmFzZVBhcnRpdGlvblVwc2VydE1ldGFkYXRhTWFuYWdlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...t/ConcurrentMapPartitionUpsertMetadataManager.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvQ29uY3VycmVudE1hcFBhcnRpdGlvblVwc2VydE1ldGFkYXRhTWFuYWdlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...apache/pinot/segment/local/upsert/UpsertUtils.java](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC91cHNlcnQvVXBzZXJ0VXRpbHMuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| ... and [200 more](https://codecov.io/gh/apache/pinot/pull/9604/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279687424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279829191","html_url":"https://github.com/apache/pinot/issues/5650#issuecomment-1279829191","issue_url":"https://api.github.com/repos/apache/pinot/issues/5650","id":1279829191,"node_id":"IC_kwDOATCU_c5MSKTH","user":{"login":"jpohanka","id":17990081,"node_id":"MDQ6VXNlcjE3OTkwMDgx","avatar_url":"https://avatars.githubusercontent.com/u/17990081?v=4","gravatar_id":"","url":"https://api.github.com/users/jpohanka","html_url":"https://github.com/jpohanka","followers_url":"https://api.github.com/users/jpohanka/followers","following_url":"https://api.github.com/users/jpohanka/following{/other_user}","gists_url":"https://api.github.com/users/jpohanka/gists{/gist_id}","starred_url":"https://api.github.com/users/jpohanka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpohanka/subscriptions","organizations_url":"https://api.github.com/users/jpohanka/orgs","repos_url":"https://api.github.com/users/jpohanka/repos","events_url":"https://api.github.com/users/jpohanka/events{/privacy}","received_events_url":"https://api.github.com/users/jpohanka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T20:45:21Z","updated_at":"2022-10-15T20:54:50Z","author_association":"NONE","body":"@npawar Is there any progress with this feature?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279829191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279833066","html_url":"https://github.com/apache/pinot/issues/9589#issuecomment-1279833066","issue_url":"https://api.github.com/repos/apache/pinot/issues/9589","id":1279833066,"node_id":"IC_kwDOATCU_c5MSLPq","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T21:11:50Z","updated_at":"2022-10-15T21:11:50Z","author_association":"CONTRIBUTOR","body":"Is this for multi-stage (v2) engine or also apply to v1? I believe v1 has the correct behavior.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279833066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279837806","html_url":"https://github.com/apache/pinot/pull/9605#issuecomment-1279837806","issue_url":"https://api.github.com/repos/apache/pinot/issues/9605","id":1279837806,"node_id":"IC_kwDOATCU_c5MSMZu","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-15T21:47:11Z","updated_at":"2022-10-17T19:41:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9605?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9605](https://codecov.io/gh/apache/pinot/pull/9605?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2d6080d) into [master](https://codecov.io/gh/apache/pinot/commit/0a442b90a337b6dd777a1d55a4361e9654e7e91d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0a442b9) will **decrease** coverage by `0.04%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9605      +/-   ##\n============================================\n- Coverage     70.03%   69.99%   -0.05%     \n+ Complexity     5288     4871     -417     \n============================================\n  Files          1937     1937              \n  Lines        103498   103499       +1     \n  Branches      15715    15715              \n============================================\n- Hits          72487    72439      -48     \n- Misses        25907    25962      +55     \n+ Partials       5104     5098       -6     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.79% <83.33%> (-0.25%)` | :arrow_down: |\n| integration2 | `24.66% <83.33%> (-0.02%)` | :arrow_down: |\n| unittests1 | `67.40% <100.00%> (-0.01%)` | :arrow_down: |\n| unittests2 | `15.59% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9605?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../NonAggregationGroupByToDistinctQueryRewriter.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9yZXdyaXRlci9Ob25BZ2dyZWdhdGlvbkdyb3VwQnlUb0Rpc3RpbmN0UXVlcnlSZXdyaXRlci5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...g/apache/pinot/server/api/resources/ErrorInfo.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9FcnJvckluZm8uamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...t/server/api/resources/DefaultExceptionMapper.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9EZWZhdWx0RXhjZXB0aW9uTWFwcGVyLmphdmE=) | `0.00% <0.00%> (-75.00%)` | :arrow_down: |\n| [.../pinot/server/api/resources/TableSizeResource.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9UYWJsZVNpemVSZXNvdXJjZS5qYXZh) | `80.00% <0.00%> (-8.00%)` | :arrow_down: |\n| [...n/java/org/apache/pinot/common/utils/URIUtils.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVVJJVXRpbHMuamF2YQ==) | `66.66% <0.00%> (-7.41%)` | :arrow_down: |\n| [...elix/core/periodictask/ControllerPeriodicTask.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3BlcmlvZGljdGFzay9Db250cm9sbGVyUGVyaW9kaWNUYXNrLmphdmE=) | `66.07% <0.00%> (-5.36%)` | :arrow_down: |\n| [.../filter/predicate/InPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0luUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `69.92% <0.00%> (-4.52%)` | :arrow_down: |\n| [.../predicate/NotEqualsPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL05vdEVxdWFsc1ByZWRpY2F0ZUV2YWx1YXRvckZhY3RvcnkuamF2YQ==) | `68.75% <0.00%> (-4.47%)` | :arrow_down: |\n| [...pinot/core/query/request/context/TimerContext.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZXF1ZXN0L2NvbnRleHQvVGltZXJDb250ZXh0LmphdmE=) | `91.66% <0.00%> (-4.17%)` | :arrow_down: |\n| [...pache/pinot/core/query/optimizer/filter/Range.java](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9vcHRpbWl6ZXIvZmlsdGVyL1JhbmdlLmphdmE=) | `87.75% <0.00%> (-4.09%)` | :arrow_down: |\n| ... and [26 more](https://codecov.io/gh/apache/pinot/pull/9605/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279837806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279857045","html_url":"https://github.com/apache/pinot/issues/9575#issuecomment-1279857045","issue_url":"https://api.github.com/repos/apache/pinot/issues/9575","id":1279857045,"node_id":"IC_kwDOATCU_c5MSRGV","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T00:17:05Z","updated_at":"2022-10-16T00:17:05Z","author_association":"CONTRIBUTOR","body":"Actually, in PrestoDB, there is a config to infer `DATE` type based on Pinot Schema: `pinot.infer-date-type-in-schema`.\r\nhttps://prestodb.io/docs/current/connector/pinot.html#map-pinot-schema-to-presto-schema\r\n\r\nI feel maybe we can implement this in Trino as a temporary workaround before this type is supported in Pinot.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279857045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279869694","html_url":"https://github.com/apache/pinot/issues/9575#issuecomment-1279869694","issue_url":"https://api.github.com/repos/apache/pinot/issues/9575","id":1279869694,"node_id":"IC_kwDOATCU_c5MSUL-","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T01:48:09Z","updated_at":"2022-10-16T01:48:09Z","author_association":"MEMBER","body":"+1 to add date as a first class data type. Will be useful as we integrate with tools other than presto/Trino ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279869694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279872441","html_url":"https://github.com/apache/pinot/issues/9183#issuecomment-1279872441","issue_url":"https://api.github.com/repos/apache/pinot/issues/9183","id":1279872441,"node_id":"IC_kwDOATCU_c5MSU25","user":{"login":"pjpringle","id":22993010,"node_id":"MDQ6VXNlcjIyOTkzMDEw","avatar_url":"https://avatars.githubusercontent.com/u/22993010?v=4","gravatar_id":"","url":"https://api.github.com/users/pjpringle","html_url":"https://github.com/pjpringle","followers_url":"https://api.github.com/users/pjpringle/followers","following_url":"https://api.github.com/users/pjpringle/following{/other_user}","gists_url":"https://api.github.com/users/pjpringle/gists{/gist_id}","starred_url":"https://api.github.com/users/pjpringle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjpringle/subscriptions","organizations_url":"https://api.github.com/users/pjpringle/orgs","repos_url":"https://api.github.com/users/pjpringle/repos","events_url":"https://api.github.com/users/pjpringle/events{/privacy}","received_events_url":"https://api.github.com/users/pjpringle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T02:11:40Z","updated_at":"2022-10-16T02:11:40Z","author_association":"NONE","body":"I didn't think pinot should be using Kafka consumer group offset management nor auto.commit as pinot manages it own consumer partition assignment and offsets. Using a group id results in a subset of partitions getting assigned to each instance and stops the replica count from working.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279872441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279874075","html_url":"https://github.com/apache/pinot/pull/9260#issuecomment-1279874075","issue_url":"https://api.github.com/repos/apache/pinot/issues/9260","id":1279874075,"node_id":"IC_kwDOATCU_c5MSVQb","user":{"login":"pjpringle","id":22993010,"node_id":"MDQ6VXNlcjIyOTkzMDEw","avatar_url":"https://avatars.githubusercontent.com/u/22993010?v=4","gravatar_id":"","url":"https://api.github.com/users/pjpringle","html_url":"https://github.com/pjpringle","followers_url":"https://api.github.com/users/pjpringle/followers","following_url":"https://api.github.com/users/pjpringle/following{/other_user}","gists_url":"https://api.github.com/users/pjpringle/gists{/gist_id}","starred_url":"https://api.github.com/users/pjpringle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjpringle/subscriptions","organizations_url":"https://api.github.com/users/pjpringle/orgs","repos_url":"https://api.github.com/users/pjpringle/repos","events_url":"https://api.github.com/users/pjpringle/events{/privacy}","received_events_url":"https://api.github.com/users/pjpringle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T02:19:14Z","updated_at":"2022-10-16T02:19:14Z","author_association":"NONE","body":"I think this change will break the current topic partition assignment and replication behaviour by defaulting back to the Kafka clients implementation instead of Pinot's implementation.\n\nKafka client will assign partitions across consumer instances and stops a partition from being consumed by 2 or more processes if the group id is the same.\n\nPlease test a multi partition topic with replication enabled.\n\nIf the issue here is monitoring lags I believe there is a rest endpoint in swagger to give the consumer offsets as well as the last consuming time stamp in the query results.\n\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279874075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279894031","html_url":"https://github.com/apache/pinot/pull/9573#issuecomment-1279894031","issue_url":"https://api.github.com/repos/apache/pinot/issues/9573","id":1279894031,"node_id":"IC_kwDOATCU_c5MSaIP","user":{"login":"bitmasks","id":14037884,"node_id":"MDQ6VXNlcjE0MDM3ODg0","avatar_url":"https://avatars.githubusercontent.com/u/14037884?v=4","gravatar_id":"","url":"https://api.github.com/users/bitmasks","html_url":"https://github.com/bitmasks","followers_url":"https://api.github.com/users/bitmasks/followers","following_url":"https://api.github.com/users/bitmasks/following{/other_user}","gists_url":"https://api.github.com/users/bitmasks/gists{/gist_id}","starred_url":"https://api.github.com/users/bitmasks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitmasks/subscriptions","organizations_url":"https://api.github.com/users/bitmasks/orgs","repos_url":"https://api.github.com/users/bitmasks/repos","events_url":"https://api.github.com/users/bitmasks/events{/privacy}","received_events_url":"https://api.github.com/users/bitmasks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T05:12:33Z","updated_at":"2022-10-16T05:12:33Z","author_association":"NONE","body":"close","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1279894031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280042964","html_url":"https://github.com/apache/pinot/issues/9575#issuecomment-1280042964","issue_url":"https://api.github.com/repos/apache/pinot/issues/9575","id":1280042964,"node_id":"IC_kwDOATCU_c5MS-fU","user":{"login":"jatin5251","id":20943645,"node_id":"MDQ6VXNlcjIwOTQzNjQ1","avatar_url":"https://avatars.githubusercontent.com/u/20943645?v=4","gravatar_id":"","url":"https://api.github.com/users/jatin5251","html_url":"https://github.com/jatin5251","followers_url":"https://api.github.com/users/jatin5251/followers","following_url":"https://api.github.com/users/jatin5251/following{/other_user}","gists_url":"https://api.github.com/users/jatin5251/gists{/gist_id}","starred_url":"https://api.github.com/users/jatin5251/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jatin5251/subscriptions","organizations_url":"https://api.github.com/users/jatin5251/orgs","repos_url":"https://api.github.com/users/jatin5251/repos","events_url":"https://api.github.com/users/jatin5251/events{/privacy}","received_events_url":"https://api.github.com/users/jatin5251/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T19:50:09Z","updated_at":"2022-10-16T19:50:09Z","author_association":"CONTRIBUTOR","body":"@xiangfu0 we are inserting data through trino and reading directly from superset. i think this property will not help much in this case but thanks to your suggestion.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280042964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280092617","html_url":"https://github.com/apache/pinot/pull/9607#issuecomment-1280092617","issue_url":"https://api.github.com/repos/apache/pinot/issues/9607","id":1280092617,"node_id":"IC_kwDOATCU_c5MTKnJ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-16T23:26:54Z","updated_at":"2022-10-16T23:32:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9607?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9607](https://codecov.io/gh/apache/pinot/pull/9607?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fdf14dc) into [master](https://codecov.io/gh/apache/pinot/commit/a8d95f234a85e2aab10cb9090bb766c08eb7edb7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a8d95f2) will **decrease** coverage by `6.09%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9607      +/-   ##\n============================================\n- Coverage     69.95%   63.85%   -6.10%     \n+ Complexity     4946     4922      -24     \n============================================\n  Files          1936     1881      -55     \n  Lines        103474   101116    -2358     \n  Branches      15714    15437     -277     \n============================================\n- Hits          72383    64568    -7815     \n- Misses        25984    31814    +5830     \n+ Partials       5107     4734     -373     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `?` | |\n| unittests1 | `67.37% <ø> (-0.05%)` | :arrow_down: |\n| unittests2 | `15.60% <ø> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9607?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...va/org/apache/pinot/core/routing/RoutingTable.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yb3V0aW5nL1JvdXRpbmdUYWJsZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...va/org/apache/pinot/common/config/NettyConfig.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL05ldHR5Q29uZmlnLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/metrics/MinionMeter.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25NZXRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...g/apache/pinot/common/metrics/ControllerMeter.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/BrokerQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJRdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/MinionQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25RdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ache/pinot/server/access/AccessControlFactory.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL2FjY2Vzcy9BY2Nlc3NDb250cm9sRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/messages/SegmentReloadMessage.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvU2VnbWVudFJlbG9hZE1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/messages/TableDeletionMessage.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvVGFibGVEZWxldGlvbk1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...pinot/core/data/manager/realtime/TimerService.java](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvVGltZXJTZXJ2aWNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [431 more](https://codecov.io/gh/apache/pinot/pull/9607/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280092617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280388848","html_url":"https://github.com/apache/pinot/issues/9558#issuecomment-1280388848","issue_url":"https://api.github.com/repos/apache/pinot/issues/9558","id":1280388848,"node_id":"IC_kwDOATCU_c5MUS7w","user":{"login":"antwigambrah","id":12635930,"node_id":"MDQ6VXNlcjEyNjM1OTMw","avatar_url":"https://avatars.githubusercontent.com/u/12635930?v=4","gravatar_id":"","url":"https://api.github.com/users/antwigambrah","html_url":"https://github.com/antwigambrah","followers_url":"https://api.github.com/users/antwigambrah/followers","following_url":"https://api.github.com/users/antwigambrah/following{/other_user}","gists_url":"https://api.github.com/users/antwigambrah/gists{/gist_id}","starred_url":"https://api.github.com/users/antwigambrah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antwigambrah/subscriptions","organizations_url":"https://api.github.com/users/antwigambrah/orgs","repos_url":"https://api.github.com/users/antwigambrah/repos","events_url":"https://api.github.com/users/antwigambrah/events{/privacy}","received_events_url":"https://api.github.com/users/antwigambrah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T07:08:57Z","updated_at":"2022-10-17T07:08:57Z","author_association":"CONTRIBUTOR","body":"Hi @Jackie-Jiang please assign this to me . By the way , per the discussions  above running rebalance  returns IN_PROGRESS for the first time , when you run again in dry-mode=false , it should return no-op and when the idealstate=external view the status should be returned as done . ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280388848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280428317","html_url":"https://github.com/apache/pinot/pull/9599#issuecomment-1280428317","issue_url":"https://api.github.com/repos/apache/pinot/issues/9599","id":1280428317,"node_id":"IC_kwDOATCU_c5MUckd","user":{"login":"KKcorps","id":5559703,"node_id":"MDQ6VXNlcjU1NTk3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/5559703?v=4","gravatar_id":"","url":"https://api.github.com/users/KKcorps","html_url":"https://github.com/KKcorps","followers_url":"https://api.github.com/users/KKcorps/followers","following_url":"https://api.github.com/users/KKcorps/following{/other_user}","gists_url":"https://api.github.com/users/KKcorps/gists{/gist_id}","starred_url":"https://api.github.com/users/KKcorps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KKcorps/subscriptions","organizations_url":"https://api.github.com/users/KKcorps/orgs","repos_url":"https://api.github.com/users/KKcorps/repos","events_url":"https://api.github.com/users/KKcorps/events{/privacy}","received_events_url":"https://api.github.com/users/KKcorps/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T07:44:09Z","updated_at":"2022-10-17T07:44:09Z","author_association":"CONTRIBUTOR","body":"Closing this PR. The fix proposed in PR #9604 is better and works for more use-cases.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280428317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280510554","html_url":"https://github.com/apache/pinot/pull/9260#issuecomment-1280510554","issue_url":"https://api.github.com/repos/apache/pinot/issues/9260","id":1280510554,"node_id":"IC_kwDOATCU_c5MUwpa","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T08:52:07Z","updated_at":"2022-10-17T08:52:07Z","author_association":"CONTRIBUTOR","body":"@tanmesh sorry about the delay. I was able to verify your patch locally and the integration tests seem to pass now. I think it was some transient failure. \r\n\r\nI think your PR looks good. But its not clear why this change would work with high level consumer implementation. if there is >1 replica, wouldn't we need 3 different group ids ? Which is what happens in pinot controller's `PinotTableIdealStateBuilder.getGroupIdFromRealtimeDataTable()` which attaches the replica id to the group id. So, I am not convinced that this patch will fix the issue with monitoring. Thoughts? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280510554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280515023","html_url":"https://github.com/apache/pinot/pull/9260#issuecomment-1280515023","issue_url":"https://api.github.com/repos/apache/pinot/issues/9260","id":1280515023,"node_id":"IC_kwDOATCU_c5MUxvP","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T08:55:53Z","updated_at":"2022-10-17T08:55:53Z","author_association":"CONTRIBUTOR","body":">Please test a multi partition topic with replication enabled.\r\n\r\nyeah. this patch will break with replication. But what I am unsure about is how this was working before for the monitoring tools? Whether the `group.id` is `null` or `empty`, as long as it doesn't include the replica id, it will not be accurate. \r\n\r\n> If the issue here is monitoring lags I believe there is a rest endpoint in swagger to give the consumer offsets as well as the last consuming time stamp in the query results.\r\n\r\nPinot doesn't have a good abstraction for input partitioning/partition grouping. Once we have that, I think we can customize the connector to use Pinot's grouping model and not the connector's model. Thoughts? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280515023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280566675","html_url":"https://github.com/apache/pinot/pull/9515#issuecomment-1280566675","issue_url":"https://api.github.com/repos/apache/pinot/issues/9515","id":1280566675,"node_id":"IC_kwDOATCU_c5MU-WT","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T09:34:00Z","updated_at":"2022-10-17T09:34:00Z","author_association":"CONTRIBUTOR","body":"> lgtm! we need to mark this backward incompat because of the partitionToOffset map being removed? should we keep it around and deprecate it first?\r\n\r\nStrictly speaking, this is considered backward incompat. But how do you \"deprecate\" an API response alone? \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280566675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280588946","html_url":"https://github.com/apache/pinot/pull/9609#issuecomment-1280588946","issue_url":"https://api.github.com/repos/apache/pinot/issues/9609","id":1280588946,"node_id":"IC_kwDOATCU_c5MVDyS","user":{"login":"saurabhd336","id":7672118,"node_id":"MDQ6VXNlcjc2NzIxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7672118?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhd336","html_url":"https://github.com/saurabhd336","followers_url":"https://api.github.com/users/saurabhd336/followers","following_url":"https://api.github.com/users/saurabhd336/following{/other_user}","gists_url":"https://api.github.com/users/saurabhd336/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhd336/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhd336/subscriptions","organizations_url":"https://api.github.com/users/saurabhd336/orgs","repos_url":"https://api.github.com/users/saurabhd336/repos","events_url":"https://api.github.com/users/saurabhd336/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhd336/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T09:47:47Z","updated_at":"2022-10-17T09:47:47Z","author_association":"CONTRIBUTOR","body":"@npawar @jayeshchoudhary ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1280588946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281135955","html_url":"https://github.com/apache/pinot/pull/9570#issuecomment-1281135955","issue_url":"https://api.github.com/repos/apache/pinot/issues/9570","id":1281135955,"node_id":"IC_kwDOATCU_c5MXJVT","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T16:25:47Z","updated_at":"2022-10-17T16:25:47Z","author_association":"CONTRIBUTOR","body":"closing this in favor of #9582 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281135955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281153336","html_url":"https://github.com/apache/pinot/pull/9601#issuecomment-1281153336","issue_url":"https://api.github.com/repos/apache/pinot/issues/9601","id":1281153336,"node_id":"IC_kwDOATCU_c5MXNk4","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T16:40:04Z","updated_at":"2022-10-17T16:40:04Z","author_association":"CONTRIBUTOR","body":"I investigated this as part of https://github.com/apache/pinot/issues/9592 - we shouldn't add this precondition without the fixing underlying issue as it will cause things to fail. \r\n\r\nThis happens in nested loop joins when the plan will generate a broadcast on one side and a singleton on another side but the plan gets executed on every node, which means some nodes (the singleton ones) will not expect to receive any data from the other singleton nodes.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281153336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281156173","html_url":"https://github.com/apache/pinot/pull/9609#issuecomment-1281156173","issue_url":"https://api.github.com/repos/apache/pinot/issues/9609","id":1281156173,"node_id":"IC_kwDOATCU_c5MXORN","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T16:42:41Z","updated_at":"2022-10-17T16:42:41Z","author_association":"CONTRIBUTOR","body":"Thanks @saurabhd336! As a Pinot newbie trying to understand how things work better this will be really helpful, can you paste a sample output in the PR description?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281156173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281157867","html_url":"https://github.com/apache/pinot/issues/9592#issuecomment-1281157867","issue_url":"https://api.github.com/repos/apache/pinot/issues/9592","id":1281157867,"node_id":"IC_kwDOATCU_c5MXOrr","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T16:44:23Z","updated_at":"2022-10-17T16:44:23Z","author_association":"CONTRIBUTOR","body":"this should be mitigated by https://github.com/apache/pinot/pull/9582#discussion_r996227427 and should eventually be fixed systematically by addressing this issue: https://github.com/apache/pinot/issues/9611","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281157867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281201061","html_url":"https://github.com/apache/pinot/pull/9311#issuecomment-1281201061","issue_url":"https://api.github.com/repos/apache/pinot/issues/9311","id":1281201061,"node_id":"IC_kwDOATCU_c5MXZOl","user":{"login":"vvivekiyer","id":21298365,"node_id":"MDQ6VXNlcjIxMjk4MzY1","avatar_url":"https://avatars.githubusercontent.com/u/21298365?v=4","gravatar_id":"","url":"https://api.github.com/users/vvivekiyer","html_url":"https://github.com/vvivekiyer","followers_url":"https://api.github.com/users/vvivekiyer/followers","following_url":"https://api.github.com/users/vvivekiyer/following{/other_user}","gists_url":"https://api.github.com/users/vvivekiyer/gists{/gist_id}","starred_url":"https://api.github.com/users/vvivekiyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvivekiyer/subscriptions","organizations_url":"https://api.github.com/users/vvivekiyer/orgs","repos_url":"https://api.github.com/users/vvivekiyer/repos","events_url":"https://api.github.com/users/vvivekiyer/events{/privacy}","received_events_url":"https://api.github.com/users/vvivekiyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T17:22:31Z","updated_at":"2022-10-17T17:22:31Z","author_association":"CONTRIBUTOR","body":"Merged user docs - https://docs.pinot.apache.org/operators/operating-pinot/tuning/query-routing-using-adaptive-server-selection ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281201061/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281261483","html_url":"https://github.com/apache/pinot/pull/9515#issuecomment-1281261483","issue_url":"https://api.github.com/repos/apache/pinot/issues/9515","id":1281261483,"node_id":"IC_kwDOATCU_c5MXn-r","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T18:03:02Z","updated_at":"2022-10-17T18:03:02Z","author_association":"CONTRIBUTOR","body":"> > lgtm! we need to mark this backward incompat because of the partitionToOffset map being removed? should we keep it around and deprecate it first?\r\n> \r\n> Strictly speaking, this is considered backward incompat. But how do you \"deprecate\" an API response alone?\r\n\r\nall we can do is just mark it deprecated in the java class for devs, and callout in release notes for users in next release. and in release after that we can remove it. we could also add it as API notes so it appears in swagger?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281261483/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281321414","html_url":"https://github.com/apache/pinot/pull/9484#issuecomment-1281321414","issue_url":"https://api.github.com/repos/apache/pinot/issues/9484","id":1281321414,"node_id":"IC_kwDOATCU_c5MX2nG","user":{"login":"ankitsultana","id":8644710,"node_id":"MDQ6VXNlcjg2NDQ3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/8644710?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitsultana","html_url":"https://github.com/ankitsultana","followers_url":"https://api.github.com/users/ankitsultana/followers","following_url":"https://api.github.com/users/ankitsultana/following{/other_user}","gists_url":"https://api.github.com/users/ankitsultana/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitsultana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitsultana/subscriptions","organizations_url":"https://api.github.com/users/ankitsultana/orgs","repos_url":"https://api.github.com/users/ankitsultana/repos","events_url":"https://api.github.com/users/ankitsultana/events{/privacy}","received_events_url":"https://api.github.com/users/ankitsultana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T18:46:31Z","updated_at":"2022-10-17T18:46:31Z","author_association":"CONTRIBUTOR","body":"@walterddr : Removed `InMemoryChannel`. I agree using a Queue directly is better. I am using `isEndOfStreamBlock` to determine when the receiving mailbox is done receiving now. Can you take a look again?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281321414/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281377735","html_url":"https://github.com/apache/pinot/pull/9484#issuecomment-1281377735","issue_url":"https://api.github.com/repos/apache/pinot/issues/9484","id":1281377735,"node_id":"IC_kwDOATCU_c5MYEXH","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T19:35:52Z","updated_at":"2022-10-19T02:04:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9484?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9484](https://codecov.io/gh/apache/pinot/pull/9484?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e345e4b) into [master](https://codecov.io/gh/apache/pinot/commit/209c060191812dd3f026da07e0cdd6dd639f8f5e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (209c060) will **increase** coverage by `0.02%`.\n> The diff coverage is `88.07%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9484      +/-   ##\n============================================\n+ Coverage     60.33%   60.35%   +0.02%     \n- Complexity     5148     5161      +13     \n============================================\n  Files          1926     1931       +5     \n  Lines        103209   103450     +241     \n  Branches      15670    15691      +21     \n============================================\n+ Hits          62266    62442     +176     \n- Misses        36271    36321      +50     \n- Partials       4672     4687      +15     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration2 | `24.56% <0.00%> (+0.03%)` | :arrow_up: |\n| unittests1 | `67.27% <88.88%> (-0.03%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9484?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...requesthandler/MultiStageBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvTXVsdGlTdGFnZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...e/pinot/query/mailbox/StringMailboxIdentifier.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9TdHJpbmdNYWlsYm94SWRlbnRpZmllci5qYXZh) | `76.66% <0.00%> (-2.65%)` | :arrow_down: |\n| [...ot/query/runtime/executor/PhysicalPlanVisitor.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9leGVjdXRvci9QaHlzaWNhbFBsYW5WaXNpdG9yLmphdmE=) | `97.29% <ø> (ø)` | |\n| [...ot/query/runtime/executor/WorkerQueryExecutor.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9leGVjdXRvci9Xb3JrZXJRdWVyeUV4ZWN1dG9yLmphdmE=) | `100.00% <ø> (ø)` | |\n| [...rg/apache/pinot/query/service/QueryDispatcher.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvc2VydmljZS9RdWVyeURpc3BhdGNoZXIuamF2YQ==) | `81.00% <ø> (-3.00%)` | :arrow_down: |\n| [...he/pinot/query/mailbox/InMemorySendingMailbox.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Jbk1lbW9yeVNlbmRpbmdNYWlsYm94LmphdmE=) | `58.33% <58.33%> (ø)` | |\n| [...apache/pinot/query/mailbox/GrpcSendingMailbox.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9HcnBjU2VuZGluZ01haWxib3guamF2YQ==) | `90.90% <75.00%> (-5.10%)` | :arrow_down: |\n| [.../pinot/query/mailbox/InMemoryReceivingMailbox.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9Jbk1lbW9yeVJlY2VpdmluZ01haWxib3guamF2YQ==) | `78.57% <78.57%> (ø)` | |\n| [...ache/pinot/query/mailbox/GrpcReceivingMailbox.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9HcnBjUmVjZWl2aW5nTWFpbGJveC5qYXZh) | `93.10% <92.30%> (-2.14%)` | :arrow_down: |\n| [...apache/pinot/query/mailbox/GrpcMailboxService.java](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvbWFpbGJveC9HcnBjTWFpbGJveFNlcnZpY2UuamF2YQ==) | `94.11% <100.00%> (ø)` | |\n| ... and [101 more](https://codecov.io/gh/apache/pinot/pull/9484/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281377735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281455178","html_url":"https://github.com/apache/pinot/pull/9610#issuecomment-1281455178","issue_url":"https://api.github.com/repos/apache/pinot/issues/9610","id":1281455178,"node_id":"IC_kwDOATCU_c5MYXRK","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T20:30:06Z","updated_at":"2022-10-17T20:30:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9610?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9610](https://codecov.io/gh/apache/pinot/pull/9610?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3e33485) into [master](https://codecov.io/gh/apache/pinot/commit/d22b4678f5e4a0436f03ff7b0927ecaeaa7dc2c1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d22b467) will **increase** coverage by `42.72%`.\n> The diff coverage is `93.33%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9610       +/-   ##\n=============================================\n+ Coverage     26.00%   68.72%   +42.72%     \n- Complexity       44     4937     +4893     \n=============================================\n  Files          1922     1938       +16     \n  Lines        102957   103511      +554     \n  Branches      15657    15717       +60     \n=============================================\n+ Hits          26772    71137    +44365     \n+ Misses        73509    27291    -46218     \n- Partials       2676     5083     +2407     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.89% <13.33%> (-0.12%)` | :arrow_down: |\n| unittests1 | `67.43% <93.33%> (?)` | |\n| unittests2 | `15.59% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9610?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...erator/transform/function/InTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSW5UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `55.55% <80.00%> (+55.55%)` | :arrow_up: |\n| [...e/pinot/common/function/TransformFunctionType.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25UeXBlLmphdmE=) | `100.00% <100.00%> (+11.47%)` | :arrow_up: |\n| [...tor/transform/function/NotInTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vTm90SW5UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...r/transform/function/TransformFunctionFactory.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVHJhbnNmb3JtRnVuY3Rpb25GYWN0b3J5LmphdmE=) | `89.86% <100.00%> (+1.42%)` | :arrow_up: |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-80.00%)` | :arrow_down: |\n| [...ntroller/helix/core/minion/TaskMetricsEmitter.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9UYXNrTWV0cmljc0VtaXR0ZXIuamF2YQ==) | `18.60% <0.00%> (-67.45%)` | :arrow_down: |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `75.00% <0.00%> (-25.00%)` | :arrow_down: |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `43.56% <0.00%> (-18.82%)` | :arrow_down: |\n| [...data/manager/realtime/SegmentCommitterFactory.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudENvbW1pdHRlckZhY3RvcnkuamF2YQ==) | `70.58% <0.00%> (-11.77%)` | :arrow_down: |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `51.88% <0.00%> (-6.61%)` | :arrow_down: |\n| ... and [1362 more](https://codecov.io/gh/apache/pinot/pull/9610/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281455178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281535042","html_url":"https://github.com/apache/pinot/pull/9612#issuecomment-1281535042","issue_url":"https://api.github.com/repos/apache/pinot/issues/9612","id":1281535042,"node_id":"IC_kwDOATCU_c5MYqxC","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T21:45:51Z","updated_at":"2022-10-18T19:43:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9612?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9612](https://codecov.io/gh/apache/pinot/pull/9612?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ccfdba0) into [master](https://codecov.io/gh/apache/pinot/commit/edf0c01be06158c920f4803f16b41df1c531f786?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (edf0c01) will **increase** coverage by `33.00%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9612       +/-   ##\n=============================================\n+ Coverage     37.00%   70.00%   +33.00%     \n- Complexity      198     5325     +5127     \n=============================================\n  Files          1941     1939        -2     \n  Lines        103572   103671       +99     \n  Branches      15703    15727       +24     \n=============================================\n+ Hits          38331    72580    +34249     \n+ Misses        62048    25992    -36056     \n- Partials       3193     5099     +1906     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.85% <ø> (-0.01%)` | :arrow_down: |\n| integration2 | `24.56% <ø> (-0.01%)` | :arrow_down: |\n| unittests1 | `67.35% <ø> (?)` | |\n| unittests2 | `15.60% <ø> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9612?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ache/pinot/core/operator/docidsets/OrDocIdSet.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JEb2NJZFNldC5qYXZh) | `86.36% <0.00%> (-13.64%)` | :arrow_down: |\n| [...nction/DistinctCountBitmapAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50Qml0bWFwQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `47.15% <0.00%> (-8.30%)` | :arrow_down: |\n| [...query/runtime/operator/MailboxReceiveOperator.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9vcGVyYXRvci9NYWlsYm94UmVjZWl2ZU9wZXJhdG9yLmphdmE=) | `76.66% <0.00%> (-2.65%)` | :arrow_down: |\n| [...ces/PinotSegmentUploadDownloadRestletResource.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90U2VnbWVudFVwbG9hZERvd25sb2FkUmVzdGxldFJlc291cmNlLmphdmE=) | `53.94% <0.00%> (-0.83%)` | :arrow_down: |\n| [...che/pinot/broker/routing/BrokerRoutingManager.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9Ccm9rZXJSb3V0aW5nTWFuYWdlci5qYXZh) | `85.51% <0.00%> (-0.56%)` | :arrow_down: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `71.79% <0.00%> (-0.24%)` | :arrow_down: |\n| [...pache/pinot/core/query/utils/idset/EmptyIdSet.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9pZHNldC9FbXB0eUlkU2V0LmphdmE=) | `25.00% <0.00%> (ø)` | |\n| [...anager/realtime/SegmentBuildTimeLeaseExtender.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudEJ1aWxkVGltZUxlYXNlRXh0ZW5kZXIuamF2YQ==) | `63.23% <0.00%> (ø)` | |\n| [...ocessing/transformer/RecordTransformerFactory.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvdHJhbnNmb3JtZXIvUmVjb3JkVHJhbnNmb3JtZXJGYWN0b3J5LmphdmE=) | | |\n| [...segment/processing/filter/RecordFilterFactory.java](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3Byb2Nlc3NpbmcvZmlsdGVyL1JlY29yZEZpbHRlckZhY3RvcnkuamF2YQ==) | | |\n| ... and [1017 more](https://codecov.io/gh/apache/pinot/pull/9612/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281535042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281543027","html_url":"https://github.com/apache/pinot/issues/7978#issuecomment-1281543027","issue_url":"https://api.github.com/repos/apache/pinot/issues/7978","id":1281543027,"node_id":"IC_kwDOATCU_c5MYstz","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T21:55:29Z","updated_at":"2022-10-17T21:55:29Z","author_association":"CONTRIBUTOR","body":"It is very smart. There are some extra cares need to be taken:\r\n- There should be only one main record for each id, or it might cross match other records, and get unexpected result\r\n- To resolve `IN_PARTITIONED_SUBQUERY` (`IN_ID_SET` after resolving `IdSet`), we need to scan all the ids because inverted index won't be applied for `IN_ID_SET`. When there are very few matching ids, this could be slower than sending 2 queries, where the second query is constructed using the ids from first query in an `IN` clause.\r\n\r\nIdeally we can build this natively to handle these inefficiencies. The subquery can happen at segment level instead of partition level (`IN_PARTITIONeD_SUBQUERY`) or table level (`IN_SUBQUERY`)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281543027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281574089","html_url":"https://github.com/apache/pinot/pull/9546#issuecomment-1281574089","issue_url":"https://api.github.com/repos/apache/pinot/issues/9546","id":1281574089,"node_id":"IC_kwDOATCU_c5MY0TJ","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T22:28:17Z","updated_at":"2022-10-17T22:28:17Z","author_association":"CONTRIBUTOR","body":"This is a great feature! I'd suggest starting a high level design on all the date and time related types, and their behaviors so that we are on the same page when implementing other types.\r\n\r\nOne main thing I want to discuss is whether to carry the time zone info with the value. Seems [PostgreSQL](https://www.postgresql.org/docs/current/datatype-datetime.html) doesn't carry time zone in `timestamp with time zone`, but does carry time zone in `time with time zone` which is quite confusing. [Presto](https://prestodb.io/docs/current/language/types.html?highlight=date#date-and-time) does carry the time zone with the value.\r\n\r\nOne benefit of carrying the time zone with the value is that we can re-construct the same value using the data_time_format and preserve the time zone info from the original input value, so I'm leaning towards the Presto convention.\r\n\r\ncc @kishoreg @xiangfu0 @walterddr @siddharthteotia for further discussion","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281574089/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281616682","html_url":"https://github.com/apache/pinot/pull/9603#issuecomment-1281616682","issue_url":"https://api.github.com/repos/apache/pinot/issues/9603","id":1281616682,"node_id":"IC_kwDOATCU_c5MY-sq","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T23:15:28Z","updated_at":"2022-10-17T23:15:28Z","author_association":"CONTRIBUTOR","body":"Seems we have tests on this wrong behavior.. Can you please take a look?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281616682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281619812","html_url":"https://github.com/apache/pinot/pull/9510#issuecomment-1281619812","issue_url":"https://api.github.com/repos/apache/pinot/issues/9510","id":1281619812,"node_id":"IC_kwDOATCU_c5MY_dk","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T23:19:54Z","updated_at":"2022-10-17T23:19:54Z","author_association":"CONTRIBUTOR","body":"I don't have concern merging it given the added tests","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281619812/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281622350","html_url":"https://github.com/apache/pinot/issues/9606#issuecomment-1281622350","issue_url":"https://api.github.com/repos/apache/pinot/issues/9606","id":1281622350,"node_id":"IC_kwDOATCU_c5MZAFO","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T23:23:21Z","updated_at":"2022-10-17T23:23:21Z","author_association":"CONTRIBUTOR","body":"Thanks for reporting the issue and proposing the fix. Could you help create a PR and contribute this fix?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281622350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281625759","html_url":"https://github.com/apache/pinot/issues/9348#issuecomment-1281625759","issue_url":"https://api.github.com/repos/apache/pinot/issues/9348","id":1281625759,"node_id":"IC_kwDOATCU_c5MZA6f","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T23:27:47Z","updated_at":"2022-10-17T23:29:01Z","author_association":"CONTRIBUTOR","body":"Support for changing compression type has been merged in PRs https://github.com/apache/pinot/pull/9454 and https://github.com/apache/pinot/pull/9510\r\n\r\nNext step is to do the same for dictionary creation / deletion. cc @Jackie-Jiang @vvivekiyer ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281625759/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281646350","html_url":"https://github.com/apache/pinot/pull/9586#issuecomment-1281646350","issue_url":"https://api.github.com/repos/apache/pinot/issues/9586","id":1281646350,"node_id":"IC_kwDOATCU_c5MZF8O","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T00:04:05Z","updated_at":"2022-10-18T00:04:05Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9586?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9586](https://codecov.io/gh/apache/pinot/pull/9586?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d09abcc) into [master](https://codecov.io/gh/apache/pinot/commit/cea282c3682001e3af18a1e97627f2a7c5ddfcf4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (cea282c) will **decrease** coverage by `45.31%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9586       +/-   ##\n=============================================\n- Coverage     69.99%   24.68%   -45.32%     \n+ Complexity     5261       53     -5208     \n=============================================\n  Files          1934     1922       -12     \n  Lines        103303   102950      -353     \n  Branches      15694    15656       -38     \n=============================================\n- Hits          72306    25411    -46895     \n- Misses        25896    74946    +49050     \n+ Partials       5101     2593     -2508     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `24.68% <ø> (-0.05%)` | :arrow_down: |\n| unittests1 | `?` | |\n| unittests2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9586?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...in/java/org/apache/pinot/spi/utils/BytesUtils.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQnl0ZXNVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/BaseRecording.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvQmFzZVJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/NoOpRecording.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvTm9PcFJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/table/FSTType.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0ZTVFR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/user/RoleType.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3VzZXIvUm9sZVR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/data/MetricFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9NZXRyaWNGaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/stream/StreamMessage.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbU1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/common/tier/TierFactory.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdGllci9UaWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/spi/config/table/TableType.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1RhYmxlVHlwZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/pinot/spi/data/DimensionFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9EaW1lbnNpb25GaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1408 more](https://codecov.io/gh/apache/pinot/pull/9586/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281646350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281653061","html_url":"https://github.com/apache/pinot/pull/9501#issuecomment-1281653061","issue_url":"https://api.github.com/repos/apache/pinot/issues/9501","id":1281653061,"node_id":"IC_kwDOATCU_c5MZHlF","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T00:16:06Z","updated_at":"2022-10-18T00:16:06Z","author_association":"CONTRIBUTOR","body":"Based on @kkrugler 's suggestion to explore library, I had asked @SabrinaZhaozyf  to do some investigation along the following lines.\r\n\r\n- Do we think library will offer comprehensive IP processing functionality besides `subnet_contains` (which is the current focus of your PR but we want to add more more in future) ?\r\n\r\n- Suggest taking a look at IP related functions supported by Kusto / Presto / Snowflake / Postgres  to get an idea of IP processing landscape\r\n\r\n- Do we think our impl can be simplified by using the library and be less error prone ?\r\n\r\n- Probably not a good idea to use the library if it only supports specific functionality.\r\n\r\n- Some systems support IP address as a data type (NETWORK_ADDRESS IIRC ). We don't want to go there (yet) but good to check once if using the library will force us down a particular approach\r\n\r\n@SabrinaZhaozyf , you may want to share any of your findings here for reference / discussion.\r\n\r\n@Jackie-Jiang  @walterddr @xiangfu0 - both approaches are implemented here. Can we get consensus on how we move forward ? One thing is that we will have to overload this for different types. Have you seen a similar requirement ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281653061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281656419","html_url":"https://github.com/apache/pinot/issues/9575#issuecomment-1281656419","issue_url":"https://api.github.com/repos/apache/pinot/issues/9575","id":1281656419,"node_id":"IC_kwDOATCU_c5MZIZj","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T00:22:17Z","updated_at":"2022-10-18T00:22:17Z","author_association":"CONTRIBUTOR","body":"Related to #9546 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281656419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281658329","html_url":"https://github.com/apache/pinot/pull/9612#issuecomment-1281658329","issue_url":"https://api.github.com/repos/apache/pinot/issues/9612","id":1281658329,"node_id":"IC_kwDOATCU_c5MZI3Z","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T00:25:27Z","updated_at":"2022-10-18T00:25:27Z","author_association":"CONTRIBUTOR","body":"FYI @walterddr @Jackie-Jiang ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281658329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281659683","html_url":"https://github.com/apache/pinot/issues/9558#issuecomment-1281659683","issue_url":"https://api.github.com/repos/apache/pinot/issues/9558","id":1281659683,"node_id":"IC_kwDOATCU_c5MZJMj","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T00:27:43Z","updated_at":"2022-10-18T00:27:43Z","author_association":"CONTRIBUTOR","body":"Thank @antwigambrah for volunteering. We should not run the rebalance in regular (non-dry) mode again when a previous one is in progress. If you run the dry-run mode again, it should return no-op when the rebalance already reach the end state.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281659683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281674770","html_url":"https://github.com/apache/pinot/pull/9614#issuecomment-1281674770","issue_url":"https://api.github.com/repos/apache/pinot/issues/9614","id":1281674770,"node_id":"IC_kwDOATCU_c5MZM4S","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T00:54:17Z","updated_at":"2022-10-18T01:05:14Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9614?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9614](https://codecov.io/gh/apache/pinot/pull/9614?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0921218) into [master](https://codecov.io/gh/apache/pinot/commit/209c060191812dd3f026da07e0cdd6dd639f8f5e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (209c060) will **decrease** coverage by `25.34%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9614       +/-   ##\n=============================================\n- Coverage     60.33%   34.98%   -25.35%     \n+ Complexity     5148      189     -4959     \n=============================================\n  Files          1926     1938       +12     \n  Lines        103209   103675      +466     \n  Branches      15670    15729       +59     \n=============================================\n- Hits          62266    36270    -25996     \n- Misses        36271    64312    +28041     \n+ Partials       4672     3093     -1579     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.84% <ø> (?)` | |\n| integration2 | `?` | |\n| unittests1 | `?` | |\n| unittests2 | `15.61% <ø> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9614?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...in/java/org/apache/pinot/spi/utils/BytesUtils.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQnl0ZXNVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/BaseRecording.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvQmFzZVJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/spi/trace/NoOpRecording.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdHJhY2UvTm9PcFJlY29yZGluZy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/table/FSTType.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL0ZTVFR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/config/user/RoleType.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3VzZXIvUm9sZVR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/data/MetricFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9NZXRyaWNGaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/spi/stream/StreamMessage.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1N0cmVhbU1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...java/org/apache/pinot/common/tier/TierFactory.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdGllci9UaWVyRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/spi/config/table/TableType.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvY29uZmlnL3RhYmxlL1RhYmxlVHlwZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/pinot/spi/data/DimensionFieldSpec.java](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvZGF0YS9EaW1lbnNpb25GaWVsZFNwZWMuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [1382 more](https://codecov.io/gh/apache/pinot/pull/9614/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281674770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281681008","html_url":"https://github.com/apache/pinot/pull/9607#issuecomment-1281681008","issue_url":"https://api.github.com/repos/apache/pinot/issues/9607","id":1281681008,"node_id":"IC_kwDOATCU_c5MZOZw","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T01:07:12Z","updated_at":"2022-10-18T01:07:12Z","author_association":"CONTRIBUTOR","body":"We should also remove the `RecordFilter` interface and implementations?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281681008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281693011","html_url":"https://github.com/apache/pinot/pull/9616#issuecomment-1281693011","issue_url":"https://api.github.com/repos/apache/pinot/issues/9616","id":1281693011,"node_id":"IC_kwDOATCU_c5MZRVT","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T01:29:24Z","updated_at":"2022-10-18T01:44:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9616?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9616](https://codecov.io/gh/apache/pinot/pull/9616?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f351c49) into [master](https://codecov.io/gh/apache/pinot/commit/ae93ce74e7dbff2efba0ed0c39eb458495e67e1a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ae93ce7) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9616      +/-   ##\n============================================\n- Coverage     69.91%   69.90%   -0.02%     \n- Complexity     4981     5323     +342     \n============================================\n  Files          1938     1938              \n  Lines        103675   103675              \n  Branches      15729    15729              \n============================================\n- Hits          72485    72469      -16     \n- Misses        26087    26101      +14     \n- Partials       5103     5105       +2     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.81% <ø> (+0.01%)` | :arrow_up: |\n| integration2 | `24.48% <ø> (ø)` | |\n| unittests1 | `67.32% <ø> (-0.04%)` | :arrow_down: |\n| unittests2 | `15.59% <ø> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9616?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../NonAggregationGroupByToDistinctQueryRewriter.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcWwvcGFyc2Vycy9yZXdyaXRlci9Ob25BZ2dyZWdhdGlvbkdyb3VwQnlUb0Rpc3RpbmN0UXVlcnlSZXdyaXRlci5qYXZh) | `100.00% <ø> (ø)` | |\n| [...g/apache/pinot/server/api/resources/ErrorInfo.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9FcnJvckluZm8uamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...t/server/api/resources/DefaultExceptionMapper.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9EZWZhdWx0RXhjZXB0aW9uTWFwcGVyLmphdmE=) | `0.00% <0.00%> (-75.00%)` | :arrow_down: |\n| [...nt/local/startree/v2/store/StarTreeDataSource.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9zdGFydHJlZS92Mi9zdG9yZS9TdGFyVHJlZURhdGFTb3VyY2UuamF2YQ==) | `37.50% <0.00%> (-18.75%)` | :arrow_down: |\n| [...ore/query/scheduler/resources/ResourceManager.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `84.00% <0.00%> (-12.00%)` | :arrow_down: |\n| [...nction/DistinctCountBitmapAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50Qml0bWFwQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `47.66% <0.00%> (-9.33%)` | :arrow_down: |\n| [.../pinot/server/api/resources/TableSizeResource.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9UYWJsZVNpemVSZXNvdXJjZS5qYXZh) | `80.00% <0.00%> (-8.00%)` | :arrow_down: |\n| [...core/startree/operator/StarTreeFilterOperator.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS9vcGVyYXRvci9TdGFyVHJlZUZpbHRlck9wZXJhdG9yLmphdmE=) | `85.91% <0.00%> (-7.75%)` | :arrow_down: |\n| [...mmon/request/context/predicate/NotEqPredicate.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9jb250ZXh0L3ByZWRpY2F0ZS9Ob3RFcVByZWRpY2F0ZS5qYXZh) | `76.92% <0.00%> (-7.70%)` | :arrow_down: |\n| [...transform/function/IsNotNullTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSXNOb3ROdWxsVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `65.51% <0.00%> (-6.90%)` | :arrow_down: |\n| ... and [24 more](https://codecov.io/gh/apache/pinot/pull/9616/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281693011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281699418","html_url":"https://github.com/apache/pinot/pull/9617#issuecomment-1281699418","issue_url":"https://api.github.com/repos/apache/pinot/issues/9617","id":1281699418,"node_id":"IC_kwDOATCU_c5MZS5a","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T01:40:37Z","updated_at":"2022-10-18T01:58:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9617?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9617](https://codecov.io/gh/apache/pinot/pull/9617?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2056981) into [master](https://codecov.io/gh/apache/pinot/commit/d396b973a44b1b363113d487d1d83e81a6302e5d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d396b97) will **increase** coverage by `41.96%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9617       +/-   ##\n=============================================\n+ Coverage     28.01%   69.98%   +41.96%     \n- Complexity       53     5322     +5269     \n=============================================\n  Files          1926     1938       +12     \n  Lines        103305   103662      +357     \n  Branches      15688    15727       +39     \n=============================================\n+ Hits          28945    72550    +43605     \n+ Misses        71514    26003    -45511     \n- Partials       2846     5109     +2263     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.84% <0.00%> (-0.01%)` | :arrow_down: |\n| integration2 | `24.49% <0.00%> (-0.12%)` | :arrow_down: |\n| unittests1 | `67.31% <ø> (?)` | |\n| unittests2 | `15.61% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9617?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...roker/requesthandler/BaseBrokerRequestHandler.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `69.67% <0.00%> (+10.55%)` | :arrow_up: |\n| [...core/operator/dociditerators/NotDocIdIterator.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Ob3REb2NJZEl0ZXJhdG9yLmphdmE=) | `95.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...pache/pinot/core/query/utils/idset/EmptyIdSet.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS91dGlscy9pZHNldC9FbXB0eUlkU2V0LmphdmE=) | `25.00% <0.00%> (ø)` | |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `75.26% <0.00%> (ø)` | |\n| [...ot/common/function/scalar/ComparisonFunctions.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vc2NhbGFyL0NvbXBhcmlzb25GdW5jdGlvbnMuamF2YQ==) | `50.00% <0.00%> (ø)` | |\n| [...anager/realtime/SegmentBuildTimeLeaseExtender.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudEJ1aWxkVGltZUxlYXNlRXh0ZW5kZXIuamF2YQ==) | `63.23% <0.00%> (ø)` | |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `74.32% <0.00%> (ø)` | |\n| [...org/apache/pinot/ingestion/utils/PushLocation.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1iYXRjaC1pbmdlc3Rpb24vdjBfZGVwcmVjYXRlZC9waW5vdC1pbmdlc3Rpb24tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9pbmdlc3Rpb24vdXRpbHMvUHVzaExvY2F0aW9uLmphdmE=) | `72.72% <0.00%> (ø)` | |\n| [...apache/pinot/ingestion/jobs/SegmentUriPushJob.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1iYXRjaC1pbmdlc3Rpb24vdjBfZGVwcmVjYXRlZC9waW5vdC1pbmdlc3Rpb24tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9pbmdlc3Rpb24vam9icy9TZWdtZW50VXJpUHVzaEpvYi5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...pache/pinot/core/api/AutoLoadedServiceForTest.java](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtaW50ZWdyYXRpb24tdGVzdHMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L2NvcmUvYXBpL0F1dG9Mb2FkZWRTZXJ2aWNlRm9yVGVzdC5qYXZh) | `0.00% <0.00%> (ø)` | |\n| ... and [1315 more](https://codecov.io/gh/apache/pinot/pull/9617/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281699418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281783137","html_url":"https://github.com/apache/pinot/issues/9615#issuecomment-1281783137","issue_url":"https://api.github.com/repos/apache/pinot/issues/9615","id":1281783137,"node_id":"IC_kwDOATCU_c5MZnVh","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T04:00:16Z","updated_at":"2022-10-18T04:00:16Z","author_association":"CONTRIBUTOR","body":"I think we should consider our thread utilization end-to-end. Specifically, in our multistage engine if we consider all the operators between a `MailboxReceiveOperator` and a `MailboxSendOperator` as a single \"stage\" we need to make sure that the stage only runs when there's work to be done and that the threads that are doing that work are efficiently shared between potentially many concurrent queries.\r\n\r\nWhile investigating #9563 I discovered that in order to really get non-blocking behavior we need the entire stage to be non-blocking (e.g. the entire stage should be deferred while there's no work to do, so that the thread pool running it can be freed up to schedule another task)\r\n\r\nIdeally, I'd suggest something like:\r\n\r\n![image](https://user-images.githubusercontent.com/3172405/196330399-4edaf31c-8de7-45f0-8a72-3d5814ffd440.png)\r\n\r\n\r\nThis gives us a few improvements over the existing architecture.\r\n1. the obvious advantage is that it's reactive and will only stage execution when there's work to be done (we don't block threads/work pools unless work is being done)\r\n2. it allows us to control memory and thread utilization across multiple queries that are running on a single node, while [applying backpressure](https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/manualflowcontrol/ManualFlowControlServer.java) on servers if we aren't able to keep up (e.g. we're doing some complex aggregation on the intermediate stage nodes)\r\n3. I'm not totally sure this is possible with GRPC the way it's written today, but if we could figure out a way to reuse byte buffers from incoming `MailboxContent` we could likely be more efficient in terms of GC\r\n4. Debug-ability and observability are pretty awesome if this is done correctly because you can easily introspect each part of the pipeline (data was received, a task was scheduled, a task completed the data that was passed to it, a task is idle)\r\n\r\nWe could certainly do this in stages - commenting on your specific considerations:\r\n\r\n> consolidate multiple ArrayBlockingQueue in each observer into just sharing a single queue thus the mailbox receive operator waits for signals from the blocking queue offer\r\n\r\nI think this is exactly right - I'd suggest we even consolidate it across queries (and then use a simple in-memory scheduler to forward the right data to the right tasks) but that's probably a bigger change.\r\n\r\n> create a signaling mechanism to info mailbox receive operator thread to start reading directly from the notifying observer\r\n\r\nalso +1, but the subtle difference with what I suggest here is that it doesn't signal to the mailbox receive operator specifically, but rather the executor that schedules the receiver operator in first place. basically, there would be no mailbox receive operator thread allocated unless there's work to be done.\r\n\r\nHappy to start prototyping some of this stuff up :)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281783137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281791353","html_url":"https://github.com/apache/pinot/issues/9563#issuecomment-1281791353","issue_url":"https://api.github.com/repos/apache/pinot/issues/9563","id":1281791353,"node_id":"IC_kwDOATCU_c5MZpV5","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T04:13:47Z","updated_at":"2022-10-18T04:13:54Z","author_association":"CONTRIBUTOR","body":"This is caused because there's a shared thread pool that's sized using the number of available cores and is used for both remote and local execution. Specifically, if there's more `MailboxReceiveOperator` tasks than there are threads in the pool it will block all threads (as the operator is a blocking call).\r\n\r\nSee #9615 as a potential solution.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281791353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281976979","html_url":"https://github.com/apache/pinot/issues/9606#issuecomment-1281976979","issue_url":"https://api.github.com/repos/apache/pinot/issues/9606","id":1281976979,"node_id":"IC_kwDOATCU_c5MaWqT","user":{"login":"jnorinder","id":22277997,"node_id":"MDQ6VXNlcjIyMjc3OTk3","avatar_url":"https://avatars.githubusercontent.com/u/22277997?v=4","gravatar_id":"","url":"https://api.github.com/users/jnorinder","html_url":"https://github.com/jnorinder","followers_url":"https://api.github.com/users/jnorinder/followers","following_url":"https://api.github.com/users/jnorinder/following{/other_user}","gists_url":"https://api.github.com/users/jnorinder/gists{/gist_id}","starred_url":"https://api.github.com/users/jnorinder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnorinder/subscriptions","organizations_url":"https://api.github.com/users/jnorinder/orgs","repos_url":"https://api.github.com/users/jnorinder/repos","events_url":"https://api.github.com/users/jnorinder/events{/privacy}","received_events_url":"https://api.github.com/users/jnorinder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T08:05:04Z","updated_at":"2022-10-18T08:05:04Z","author_association":"CONTRIBUTOR","body":"Hi,\n\nSure! I can give it a try.\n\nRegards,\nJulius\n________________________________\nFrån: Xiaotian (Jackie) Jiang ***@***.***>\nSkickat: den 18 oktober 2022 01:23\nTill: apache/pinot ***@***.***>\nKopia: Julius Norinder ***@***.***>; Author ***@***.***>\nÄmne: Re: [apache/pinot] Missing information in pinot-realtime-quickstart.yml (Issue #9606)\n\n\nThanks for reporting the issue and proposing the fix. Could you help create a PR and contribute this fix?\n\n—\nReply to this email directly, view it on GitHub<https://nam12.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fapache%2Fpinot%2Fissues%2F9606%23issuecomment-1281622350&data=05%7C01%7C%7Ccfe60bc945884c1ab37b08dab0969b06%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C638016458148537223%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=%2BIjC4kHKDCKDgRyIUDvB4M4tUoOQ%2FSQuGecNk69yfiE%3D&reserved=0>, or unsubscribe<https://nam12.safelinks.protection.outlook.com/?url=https%3A%2F%2Fgithub.com%2Fnotifications%2Funsubscribe-auth%2FAFJ663NYQQTQPEWRD2PMNZ3WDXNXHANCNFSM6AAAAAARGNU7O4&data=05%7C01%7C%7Ccfe60bc945884c1ab37b08dab0969b06%7C84df9e7fe9f640afb435aaaaaaaaaaaa%7C1%7C0%7C638016458148537223%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=swKDTtkFtS5PzVhAI6vyTZ3d7ghTU9NytBIyXigGTk8%3D&reserved=0>.\nYou are receiving this because you authored the thread.Message ID: ***@***.***>\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1281976979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282136113","html_url":"https://github.com/apache/pinot/pull/9471#issuecomment-1282136113","issue_url":"https://api.github.com/repos/apache/pinot/issues/9471","id":1282136113,"node_id":"IC_kwDOATCU_c5Ma9gx","user":{"login":"rino-kadijk","id":106676047,"node_id":"U_kgDOBlu_Tw","avatar_url":"https://avatars.githubusercontent.com/u/106676047?v=4","gravatar_id":"","url":"https://api.github.com/users/rino-kadijk","html_url":"https://github.com/rino-kadijk","followers_url":"https://api.github.com/users/rino-kadijk/followers","following_url":"https://api.github.com/users/rino-kadijk/following{/other_user}","gists_url":"https://api.github.com/users/rino-kadijk/gists{/gist_id}","starred_url":"https://api.github.com/users/rino-kadijk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rino-kadijk/subscriptions","organizations_url":"https://api.github.com/users/rino-kadijk/orgs","repos_url":"https://api.github.com/users/rino-kadijk/repos","events_url":"https://api.github.com/users/rino-kadijk/events{/privacy}","received_events_url":"https://api.github.com/users/rino-kadijk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T09:58:10Z","updated_at":"2022-10-18T10:00:13Z","author_association":"CONTRIBUTOR","body":"> Please take a look at the failed tests\r\n\r\nI don't see anything related to this failure in this PR:\r\n\r\n```\r\njava.lang.NullPointerException\r\n[20596](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20597)\r\n\tat org.apache.pinot.segment.local.io.readerwriter.RealtimeIndexOffHeapMemoryManager.close(RealtimeIndexOffHeapMemoryManager.java:109)\r\n[20597](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20598)\r\n\tat org.apache.pinot.segment.local.indexsegment.mutable.MutableSegmentImpl.destroy(MutableSegmentImpl.java:1187)\r\n[20598](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20599)\r\n\tat org.apache.pinot.core.data.manager.realtime.LLRealtimeSegmentDataManager.destroy(LLRealtimeSegmentDataManager.java:1213)\r\n[20599](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20600)\r\n\tat org.apache.pinot.core.data.manager.realtime.RealtimeTableDataManager.doShutdown(RealtimeTableDataManager.java:210)\r\n[20600](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20601)\r\n\tat org.apache.pinot.core.data.manager.BaseTableDataManager.shutDown(BaseTableDataManager.java:190)\r\n[20601](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20602)\r\n\tat org.apache.pinot.server.starter.helix.HelixInstanceDataManager.shutDown(HelixInstanceDataManager.java:155)\r\n[20602](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20603)\r\n\tat org.apache.pinot.server.starter.ServerInstance.shutDown(ServerInstance.java:261)\r\n[20603](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20604)\r\n\tat org.apache.pinot.server.starter.helix.BaseServerStarter.stop(BaseServerStarter.java:624)\r\n[20604](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20605)\r\n\tat org.apache.pinot.integration.tests.ClusterTest.stopServer(ClusterTest.java:276)\r\n[20605](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370354908#step:5:20606)\r\n\tat org.apache.pinot.integration.tests.UrlAuthRealtimeIntegrationTest.tearDown(UrlAuthRealtimeIntegrationTest.java:91)\r\n```\r\n\r\nnor this codepath:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Cannot replace segment with different name for table: {}, old segment: {}, new segment: {} [testTable_REALTIME, testTable__0__1__20221017T1608Z, testTable__0__1__20221017T1609Z]\r\n[6065](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370356271#step:5:6066)\r\n\tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:399)\r\n[6066](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370356271#step:5:6067)\r\n\tat org.apache.pinot.segment.local.upsert.BasePartitionUpsertMetadataManager.replaceSegment(BasePartitionUpsertMetadataManager.java:164)\r\n[6067](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370356271#step:5:6068)\r\n\tat org.apache.pinot.segment.local.upsert.ConcurrentMapPartitionUpsertMetadataManagerTest.verifyAddReplaceRemoveSegment(ConcurrentMapPartitionUpsertMetadataManagerTest.java:147)\r\n[6068](https://github.com/apache/pinot/actions/runs/3266516098/jobs/5370356271#step:5:6069)\r\n\tat org.apache.pinot.segment.local.upsert.ConcurrentMapPartitionUpsertMetadataManagerTest.testAddReplaceRemoveSegment(ConcurrentMapPartitionUpsertMetadataManagerTest.java:60)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282136113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282188016","html_url":"https://github.com/apache/pinot/issues/9418#issuecomment-1282188016","issue_url":"https://api.github.com/repos/apache/pinot/issues/9418","id":1282188016,"node_id":"IC_kwDOATCU_c5MbKLw","user":{"login":"ddcprg","id":7541790,"node_id":"MDQ6VXNlcjc1NDE3OTA=","avatar_url":"https://avatars.githubusercontent.com/u/7541790?v=4","gravatar_id":"","url":"https://api.github.com/users/ddcprg","html_url":"https://github.com/ddcprg","followers_url":"https://api.github.com/users/ddcprg/followers","following_url":"https://api.github.com/users/ddcprg/following{/other_user}","gists_url":"https://api.github.com/users/ddcprg/gists{/gist_id}","starred_url":"https://api.github.com/users/ddcprg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddcprg/subscriptions","organizations_url":"https://api.github.com/users/ddcprg/orgs","repos_url":"https://api.github.com/users/ddcprg/repos","events_url":"https://api.github.com/users/ddcprg/events{/privacy}","received_events_url":"https://api.github.com/users/ddcprg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T10:43:46Z","updated_at":"2022-10-18T10:43:46Z","author_association":"CONTRIBUTOR","body":"hey @Jackie-Jiang is someone working on this issue? I could pick this if no one is on it ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282188016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282498435","html_url":"https://github.com/apache/pinot/issues/9575#issuecomment-1282498435","issue_url":"https://api.github.com/repos/apache/pinot/issues/9575","id":1282498435,"node_id":"IC_kwDOATCU_c5McV-D","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T14:35:29Z","updated_at":"2022-10-18T14:53:46Z","author_association":"CONTRIBUTOR","body":"is this a duplicate of https://github.com/apache/pinot/issues/8045 or do we expect more / different from a DateTime type?\r\n\r\nspecifically is it the binary compatibility with Hive's date datatype that we desire here?\r\n\r\nsome of the observation, i can offer by unifying the 2 issues and the timezone PR based on: https://www.postgresql.org/docs/current/datatype-datetime.html\r\n\r\n1. byte format: \r\n    - 8 bytes are generally used for `timestamp` type, storing \"both date and time\"; \r\n    - 4 bytes used for `date` type, storing: \"date but no time of day\";\r\n    - i am not sure what's the best byte format for `time` type, as storing: \"time of day, no date\";\r\n    - hive [date / time](https://sparkbyexamples.com/apache-hive/hive-data-types-primitive-complex/) didn't specify the byte format of the underlying storage.\r\n\r\n2. timezone:\r\n    - postgres timestamp doesn't save timezone info; but some other system like presto/trino does save timezone;\r\n    - timezone info can be stored as either a timezone string or the offset from UTC; however the format provides more info, see: [tz_database](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)\r\n\r\n3. output format:\r\n    - postgres always store data in UTC timezone with the precision following the byte format, it doesn't store date format info, most other systems also follow the same - require users to provide what's the expected stringify format for the output\r\n\r\nwe might want to ask the question on what to support in each of the 3 categories, but my intuition is to follow postgresQL as they are the most documented","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282498435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282529739","html_url":"https://github.com/apache/pinot/pull/9618#issuecomment-1282529739","issue_url":"https://api.github.com/repos/apache/pinot/issues/9618","id":1282529739,"node_id":"IC_kwDOATCU_c5McdnL","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T14:56:31Z","updated_at":"2022-10-18T14:56:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9618?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9618](https://codecov.io/gh/apache/pinot/pull/9618?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9955292) into [master](https://codecov.io/gh/apache/pinot/commit/209c060191812dd3f026da07e0cdd6dd639f8f5e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (209c060) will **increase** coverage by `7.03%`.\n> The diff coverage is `97.26%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9618      +/-   ##\n============================================\n+ Coverage     60.33%   67.36%   +7.03%     \n+ Complexity     5148     5125      -23     \n============================================\n  Files          1926     1437     -489     \n  Lines        103209    75347   -27862     \n  Branches      15670    12028    -3642     \n============================================\n- Hits          62266    50761   -11505     \n+ Misses        36271    20940   -15331     \n+ Partials       4672     3646    -1026     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration2 | `?` | |\n| unittests1 | `67.36% <97.26%> (+0.06%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9618?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../apache/pinot/common/datablock/DataBlockUtils.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YWJsb2NrL0RhdGFCbG9ja1V0aWxzLmphdmE=) | `85.98% <83.33%> (-0.89%)` | :arrow_down: |\n| [.../pinot/core/common/datablock/DataBlockBuilder.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9jb21tb24vZGF0YWJsb2NrL0RhdGFCbG9ja0J1aWxkZXIuamF2YQ==) | `72.98% <100.00%> (+0.01%)` | :arrow_up: |\n| [...ava/org/apache/pinot/spi/utils/ArrayCopyUtils.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvdXRpbHMvQXJyYXlDb3B5VXRpbHMuamF2YQ==) | `67.42% <100.00%> (+0.64%)` | :arrow_up: |\n| [...va/org/apache/pinot/core/routing/RoutingTable.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yb3V0aW5nL1JvdXRpbmdUYWJsZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...va/org/apache/pinot/common/config/NettyConfig.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL05ldHR5Q29uZmlnLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/metrics/MinionMeter.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25NZXRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...g/apache/pinot/common/metrics/ControllerMeter.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/BrokerQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJRdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/MinionQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25RdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ache/pinot/server/access/AccessControlFactory.java](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL2FjY2Vzcy9BY2Nlc3NDb250cm9sRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [715 more](https://codecov.io/gh/apache/pinot/pull/9618/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282529739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282532520","html_url":"https://github.com/apache/pinot/issues/9615#issuecomment-1282532520","issue_url":"https://api.github.com/repos/apache/pinot/issues/9615","id":1282532520,"node_id":"IC_kwDOATCU_c5MceSo","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T14:58:32Z","updated_at":"2022-10-18T14:58:32Z","author_association":"CONTRIBUTOR","body":"May be this is also a good time / opportunity to rethink from the operator level. Here are some thoughts...\r\n\r\n- Think of operator chain as a pipeline and data can be pumped up / down in / out of operators. \r\n- Some operators can produce / output data (technically data blocks / record batches) upon input / consume. Example PROJECT.\r\n- Some operators need to consume everything before produce / output data. Example GROUP BY\r\n\r\nOperators have a state machine something along the lines .....\r\n\r\n- SETUP / INIT\r\n- CAN_CONSUME\r\n- CAN_CONSUME_FROM_LEFT\r\n- CAN_CONSUME_FROM_RIGHT\r\n- CAN_PRODUCE\r\n- BLOCKED\r\n- DONE\r\n\r\nOperator abstraction with sub-interfaces\r\n\r\n- Producer (e.g API produceData, outputData)\r\n- SingleConsumer (e.g API consumeData, noMoreToConsume). Can also be a Producer\r\n- DualConsumer (e.g HashJoin). Can also be a Producer\r\n\r\nPipe:\r\n\r\n- An abstraction representing a collection of operators to enable pumping data between operators\r\n- provides method pump()\r\n- Works with source / sink concept for upstream / downstream\r\n- pump() can return \r\n-- DONE essentially also setting noMoreToConsume on sink because upstream is done producing\r\n-- PUMPED / IN_PROGRESS (upstream / source has output batch for downstream / sink to consume)\r\n-- UPSTREAM_NOT_READY if sink is CAN_CONSUME, but source is not ready to produce\r\n-- DOWNSTREAM_NOT_READY if sink itself is blocked or is holding batches that it is yet to produce / output and thus can't consume more (yet) from upstream\r\n\r\nDuring execution planning when physical operators are created is when we setup the Pipeline.\r\n\r\n> we need to make sure that the stage only runs when there's work to be done and that the threads that are doing that work are efficiently shared between potentially many concurrent queries\r\n\r\n+1\r\n\r\n- Yes, I think we need executors at the inner stage level to execute the pipelines inside the Stage. \r\n- Each such executor will execute a pipeline inside a single thread. It calls pump() on the pipeline (described above).\r\n- It has the capability to be scheduled, rescheduled, yield etc. \r\n- Through the state machine, we need to know when work is available \r\n- We need to wake up this executor when work is available to be done for the pipeline\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282532520/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":2,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282565758","html_url":"https://github.com/apache/pinot/pull/9546#issuecomment-1282565758","issue_url":"https://api.github.com/repos/apache/pinot/issues/9546","id":1282565758,"node_id":"IC_kwDOATCU_c5McmZ-","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T15:17:53Z","updated_at":"2022-10-18T15:18:55Z","author_association":"CONTRIBUTOR","body":"> This is a great feature! I'd suggest starting a high level design on all the date and time related types, and their behaviors so that we are on the same page when implementing other types.\r\n\r\nmy vote is to follow postgres ([date/time](https://www.postgresql.org/docs/current/datatype-datetime.html))\r\n\r\n> \r\n> One main thing I want to discuss is whether to carry the time zone info with the value. Seems [PostgreSQL](https://www.postgresql.org/docs/current/datatype-datetime.html) doesn't carry time zone in `timestamp with time zone`, but does carry time zone in `time with time zone` which is quite confusing. [Presto](https://prestodb.io/docs/current/language/types.html?highlight=date#date-and-time) does carry the time zone with the value.\r\n> \r\n\r\nthe above observation is incorrect\r\n- postgres doesn't STORE timezone info, neither `timestamp` nor `time` type. it always stored as UTC.\r\n- however postgres does carry timezone while PROCESSING. this depends on:\r\n  - with `AT TIME ZONE` and `WITH TIME ZONE` the result will be converted to the desired timezone\r\n  - if no timezone is used in query, query engine wide configuration can be used to set for whether to convert all timestamp to local time, or without conversion and use timestamp at UTC as is.\r\n\r\n> One benefit of carrying the time zone with the value is that we can re-construct the same value using the data_time_format and preserve the time zone info from the original input value, so I'm leaning towards the Presto convention.\r\n\r\nlet's clarify on what the intent of \"carrying\" the timezone means, especially do we wan to support at storage time or compute time.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282565758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282582666","html_url":"https://github.com/apache/pinot/pull/9619#issuecomment-1282582666","issue_url":"https://api.github.com/repos/apache/pinot/issues/9619","id":1282582666,"node_id":"IC_kwDOATCU_c5McqiK","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T15:29:38Z","updated_at":"2022-10-18T21:49:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9619?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9619](https://codecov.io/gh/apache/pinot/pull/9619?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (1a51b55) into [master](https://codecov.io/gh/apache/pinot/commit/209c060191812dd3f026da07e0cdd6dd639f8f5e?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (209c060) will **increase** coverage by `3.47%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9619      +/-   ##\n============================================\n+ Coverage     60.33%   63.80%   +3.47%     \n- Complexity     5148     5299     +151     \n============================================\n  Files          1926     1890      -36     \n  Lines        103209   101451    -1758     \n  Branches      15670    15467     -203     \n============================================\n+ Hits          62266    64733    +2467     \n+ Misses        36271    31983    -4288     \n- Partials       4672     4735      +63     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration2 | `?` | |\n| unittests1 | `67.32% <100.00%> (+0.02%)` | :arrow_up: |\n| unittests2 | `15.63% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9619?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...java/org/apache/pinot/common/utils/DataSchema.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRGF0YVNjaGVtYS5qYXZh) | `72.80% <100.00%> (-3.72%)` | :arrow_down: |\n| [...t/core/query/reduce/SelectionDataTableReducer.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvU2VsZWN0aW9uRGF0YVRhYmxlUmVkdWNlci5qYXZh) | `69.04% <100.00%> (-2.39%)` | :arrow_down: |\n| [...va/org/apache/pinot/core/routing/RoutingTable.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yb3V0aW5nL1JvdXRpbmdUYWJsZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...va/org/apache/pinot/common/config/NettyConfig.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL05ldHR5Q29uZmlnLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/metrics/MinionMeter.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25NZXRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...g/apache/pinot/common/metrics/ControllerMeter.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/BrokerQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJRdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/MinionQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25RdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ache/pinot/server/access/AccessControlFactory.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL2FjY2Vzcy9BY2Nlc3NDb250cm9sRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/messages/SegmentReloadMessage.java](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvU2VnbWVudFJlbG9hZE1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [603 more](https://codecov.io/gh/apache/pinot/pull/9619/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282582666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282597471","html_url":"https://github.com/apache/pinot/issues/9615#issuecomment-1282597471","issue_url":"https://api.github.com/repos/apache/pinot/issues/9615","id":1282597471,"node_id":"IC_kwDOATCU_c5McuJf","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T15:39:20Z","updated_at":"2022-10-18T15:39:20Z","author_association":"CONTRIBUTOR","body":"I like the idea to make operator a state machine. It is more extensible. If an operator needs to be retried, timed out or checkpoint in the future, we can easily extend that. \r\n\r\nSince we are thinking about the architecture point of view, we should consider isolation/priority in the thread pool. Otherwise, it will easily exhaust the server resources.\r\n\r\nThis sounds like a fit for actor model? :)  ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282597471/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282607832","html_url":"https://github.com/apache/pinot/pull/9607#issuecomment-1282607832","issue_url":"https://api.github.com/repos/apache/pinot/issues/9607","id":1282607832,"node_id":"IC_kwDOATCU_c5McwrY","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T15:45:35Z","updated_at":"2022-10-18T15:45:35Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang - didn't realize that was part of it :) i'll open a new PR for that","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282607832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282679948","html_url":"https://github.com/apache/pinot/pull/9620#issuecomment-1282679948","issue_url":"https://api.github.com/repos/apache/pinot/issues/9620","id":1282679948,"node_id":"IC_kwDOATCU_c5MdCSM","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T16:34:25Z","updated_at":"2022-10-18T16:47:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9620?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9620](https://codecov.io/gh/apache/pinot/pull/9620?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7fba076) into [master](https://codecov.io/gh/apache/pinot/commit/63c6438d3cd3f31983edc8324325a0e268332f37?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (63c6438) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9620      +/-   ##\n============================================\n- Coverage     68.71%   68.69%   -0.02%     \n+ Complexity     4971     4897      -74     \n============================================\n  Files          1939     1937       -2     \n  Lines        103671   103666       -5     \n  Branches      15727    15728       +1     \n============================================\n- Hits          71242    71218      -24     \n- Misses        27350    27370      +20     \n+ Partials       5079     5078       -1     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.83% <ø> (+0.04%)` | :arrow_up: |\n| unittests1 | `67.39% <ø> (+0.02%)` | :arrow_up: |\n| unittests2 | `15.59% <ø> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9620?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-80.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/core/operator/BaseOperator.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9CYXNlT3BlcmF0b3IuamF2YQ==) | `60.00% <0.00%> (-40.00%)` | :arrow_down: |\n| [...er/api/resources/LLCSegmentCompletionHandlers.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0xMQ1NlZ21lbnRDb21wbGV0aW9uSGFuZGxlcnMuamF2YQ==) | `43.56% <0.00%> (-18.82%)` | :arrow_down: |\n| [...ache/pinot/core/operator/docidsets/OrDocIdSet.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JEb2NJZFNldC5qYXZh) | `86.36% <0.00%> (-13.64%)` | :arrow_down: |\n| [...data/manager/realtime/SegmentCommitterFactory.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudENvbW1pdHRlckZhY3RvcnkuamF2YQ==) | `70.58% <0.00%> (-11.77%)` | :arrow_down: |\n| [...altime/ServerSegmentCompletionProtocolHandler.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL3JlYWx0aW1lL1NlcnZlclNlZ21lbnRDb21wbGV0aW9uUHJvdG9jb2xIYW5kbGVyLmphdmE=) | `51.88% <0.00%> (-6.61%)` | :arrow_down: |\n| [.../predicate/NotEqualsPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL05vdEVxdWFsc1ByZWRpY2F0ZUV2YWx1YXRvckZhY3RvcnkuamF2YQ==) | `68.75% <0.00%> (-5.36%)` | :arrow_down: |\n| [.../filter/predicate/InPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0luUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `69.92% <0.00%> (-4.52%)` | :arrow_down: |\n| [.../pinot/query/runtime/blocks/TransferableBlock.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcXVlcnktcnVudGltZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcXVlcnkvcnVudGltZS9ibG9ja3MvVHJhbnNmZXJhYmxlQmxvY2suamF2YQ==) | `69.56% <0.00%> (-4.35%)` | :arrow_down: |\n| [...core/operator/docvalsets/TransformBlockValSet.java](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2N2YWxzZXRzL1RyYW5zZm9ybUJsb2NrVmFsU2V0LmphdmE=) | `59.43% <0.00%> (-2.84%)` | :arrow_down: |\n| ... and [24 more](https://codecov.io/gh/apache/pinot/pull/9620/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282679948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282845692","html_url":"https://github.com/apache/pinot/pull/9546#issuecomment-1282845692","issue_url":"https://api.github.com/repos/apache/pinot/issues/9546","id":1282845692,"node_id":"IC_kwDOATCU_c5Mdqv8","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T18:36:52Z","updated_at":"2022-10-18T18:36:52Z","author_association":"CONTRIBUTOR","body":"@walterddr @Jackie-Jiang I did a survey of other systems and put the results in this doc: https://docs.google.com/document/d/1Dvz7NJ2eliIFm6O1Ra4Azs_WFWR98kHOyDCznIwaXow/edit#\r\n\r\nMy vote is also to follow the Postgres standard, though @Jackie-Jiang is right about the way that `time with time zone` is handled (the time zone is actually stored alongside the data).\r\n\r\nI'll loop in others on the doc and we can continue the discussion there.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282845692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282909846","html_url":"https://github.com/apache/pinot/pull/9621#issuecomment-1282909846","issue_url":"https://api.github.com/repos/apache/pinot/issues/9621","id":1282909846,"node_id":"IC_kwDOATCU_c5Md6aW","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T19:37:06Z","updated_at":"2022-10-18T19:39:34Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9621?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9621](https://codecov.io/gh/apache/pinot/pull/9621?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b13c20f) into [master](https://codecov.io/gh/apache/pinot/commit/d580bbcaec42281c7bc0667c4db228354b56a889?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d580bbc) will **decrease** coverage by `0.07%`.\n> The diff coverage is `13.20%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9621      +/-   ##\n============================================\n- Coverage     35.02%   34.95%   -0.08%     \n  Complexity      189      189              \n============================================\n  Files          1943     1943              \n  Lines        103817   103841      +24     \n  Branches      15743    15744       +1     \n============================================\n- Hits          36361    36293      -68     \n- Misses        64369    64448      +79     \n- Partials       3087     3100      +13     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.80% <5.66%> (-0.04%)` | :arrow_down: |\n| unittests2 | `15.66% <10.52%> (+0.02%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9621?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../common/restlet/resources/SegmentConsumerInfo.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzdGxldC9yZXNvdXJjZXMvU2VnbWVudENvbnN1bWVySW5mby5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...ugin/stream/kafka20/KafkaConsumerPartitionLag.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1zdHJlYW0taW5nZXN0aW9uL3Bpbm90LWthZmthLTIuMC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL3N0cmVhbS9rYWZrYTIwL0thZmthQ29uc3VtZXJQYXJ0aXRpb25MYWcuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...in/stream/kafka20/KafkaStreamMetadataProvider.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1zdHJlYW0taW5nZXN0aW9uL3Bpbm90LWthZmthLTIuMC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL3N0cmVhbS9rYWZrYTIwL0thZmthU3RyZWFtTWV0YWRhdGFQcm92aWRlci5qYXZh) | `48.38% <0.00%> (-6.16%)` | :arrow_down: |\n| [...lugin/stream/kafka20/server/KafkaDataProducer.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1zdHJlYW0taW5nZXN0aW9uL3Bpbm90LWthZmthLTIuMC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL3N0cmVhbS9rYWZrYTIwL3NlcnZlci9LYWZrYURhdGFQcm9kdWNlci5qYXZh) | `32.60% <0.00%> (-0.73%)` | :arrow_down: |\n| [...ache/pinot/server/api/resources/DebugResource.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9EZWJ1Z1Jlc291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...che/pinot/server/api/resources/TablesResource.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9UYWJsZXNSZXNvdXJjZS5qYXZh) | `27.31% <0.00%> (-0.25%)` | :arrow_down: |\n| [...pache/pinot/spi/stream/ConsumerPartitionState.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL0NvbnN1bWVyUGFydGl0aW9uU3RhdGUuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...org/apache/pinot/spi/stream/PartitionLagState.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc3BpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zcGkvc3RyZWFtL1BhcnRpdGlvbkxhZ1N0YXRlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...manager/realtime/LLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvTExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `58.10% <60.00%> (+2.66%)` | :arrow_up: |\n| [...ot/controller/util/ConsumingSegmentInfoReader.java](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL0NvbnN1bWluZ1NlZ21lbnRJbmZvUmVhZGVyLmphdmE=) | `89.36% <100.00%> (+0.23%)` | :arrow_up: |\n| ... and [44 more](https://codecov.io/gh/apache/pinot/pull/9621/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282909846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282911839","html_url":"https://github.com/apache/pinot/issues/9615#issuecomment-1282911839","issue_url":"https://api.github.com/repos/apache/pinot/issues/9615","id":1282911839,"node_id":"IC_kwDOATCU_c5Md65f","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T19:39:01Z","updated_at":"2022-10-19T16:40:03Z","author_association":"CONTRIBUTOR","body":"Had some a quick discussion with @walterddr and wanted to jot down those thoughts here so I don't forget:\r\n\r\n- there's two orthogonal design considerations: there's parallelism within a pipe/stage and there's scheduling across different pipe/stages (potentially across queries as well). The comment that I had posted is mostly regarding the latter. I think @siddharthteotia's comment is mostly about the former (though it has good thoughts on both).\r\n- implementing backpressure via GRPC on a per-mailbox level is possible, but we need to take care to make sure that the backpressure is piped all the way back to the leaf server execution itself. If you look at `QueryRunner`, there's currently no way to apply backpressure as it executes the entire leaf node requests before creating/sending data in the `MailboxSendOperator`. This is possible, but just requires some work\r\n- \"Some operators need to consume everything before produce / output data. Example GROUP BY\", for now I'll refer to these operators as stateful as opposed to stateless operators (SORT and the broadcast part of HASH_JOIN fall into this category as well).\r\n- I think it's important that all pipes/stages support partial execution - basically you can schedule an op chain and it will do all the work that it can do and then terminate, even if it doesn't see an EOS block or produce any data (in the case of stateful operators, stateless ones will always produce data). The partial state is maintained so that when it is rescheduled (when another block is available) it can continue when it left off.\r\n\r\nSome thoughts on @siddharthteotia's comments specifically:\r\n\r\n> Yes, I think we need executors at the inner stage level to execute the pipelines inside the Stage.\r\n\r\nI'm a bit confused about the terminology here. Perhaps we can standardize on \"operator\" as a single unit of work, \"operator chain\" as the smallest schedule-able set of operators and \"stage\" as a complete remote-receive-to-remote-send set of pipelines. Today \"operator chain\" is always equivalent to a stage. I _think_ that was how you were using that terminology.\r\n\r\nWith these definitions, I think we want executors to be independent of the number of stages/chains that are currently running on a multistage intermediate server. That might make QoS (quality of service) and thread pool management a little difficult - IMO one fixed thread pool and a priority-aware scheduler can get us pretty far so long as each pipeline can be scheduled independently and we have (see below) a mechanism to split chains.\r\n\r\n> Operators have a state machine something along the lines\r\n\r\nI really like this idea, this will also help us in the case where we want to split stages into additional local stages - and we can leverage the work @ankitsultana was working on in #9484 to increase parallelism without needing to introduce a parallel processing framework _within_ a single stage/task. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282911839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282966848","html_url":"https://github.com/apache/pinot/pull/9501#issuecomment-1282966848","issue_url":"https://api.github.com/repos/apache/pinot/issues/9501","id":1282966848,"node_id":"IC_kwDOATCU_c5MeIVA","user":{"login":"SabrinaZhaozyf","id":43769022,"node_id":"MDQ6VXNlcjQzNzY5MDIy","avatar_url":"https://avatars.githubusercontent.com/u/43769022?v=4","gravatar_id":"","url":"https://api.github.com/users/SabrinaZhaozyf","html_url":"https://github.com/SabrinaZhaozyf","followers_url":"https://api.github.com/users/SabrinaZhaozyf/followers","following_url":"https://api.github.com/users/SabrinaZhaozyf/following{/other_user}","gists_url":"https://api.github.com/users/SabrinaZhaozyf/gists{/gist_id}","starred_url":"https://api.github.com/users/SabrinaZhaozyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SabrinaZhaozyf/subscriptions","organizations_url":"https://api.github.com/users/SabrinaZhaozyf/orgs","repos_url":"https://api.github.com/users/SabrinaZhaozyf/repos","events_url":"https://api.github.com/users/SabrinaZhaozyf/events{/privacy}","received_events_url":"https://api.github.com/users/SabrinaZhaozyf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T20:29:42Z","updated_at":"2022-10-18T20:29:42Z","author_association":"CONTRIBUTOR","body":"> Based on @kkrugler 's suggestion to explore library, I had asked @SabrinaZhaozyf to do some investigation along the following lines.\r\n> \r\n> * Do we think library will offer comprehensive IP processing functionality besides `subnet_contains` (which is the current focus of your PR but we want to add more more in future) ?\r\n> * Suggest taking a look at IP related functions supported by Kusto / Presto / Snowflake / Postgres  to get an idea of IP processing landscape\r\n> * Do we think our impl can be simplified by using the library and be less error prone ?\r\n> * Probably not a good idea to use the library if it only supports specific functionality.\r\n> * Some systems support IP address as a data type (NETWORK_ADDRESS IIRC ). We don't want to go there (yet) but good to check once if using the library will force us down a particular approach\r\n> \r\n> @SabrinaZhaozyf , you may want to share any of your findings here for reference / discussion.\r\n> \r\n> @Jackie-Jiang @walterddr @xiangfu0 - both approaches are implemented here. Can we get consensus on how we move forward ? One thing is that we will have to overload this for different types. Have you seen a similar requirement ?\r\n\r\nI have summarized my research on IP processing functions in other systems and the library in this doc: https://docs.google.com/document/d/1SS04jQCojcvCrrIGJX_aHocUEXXy8rpX0uUhwAren4k/edit?usp=sharing\r\n\r\nPlease feel free to provide feedback / comments and let's get consensus on how we want to proceed from here. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1282966848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283051726","html_url":"https://github.com/apache/pinot/pull/9546#issuecomment-1283051726","issue_url":"https://api.github.com/repos/apache/pinot/issues/9546","id":1283051726,"node_id":"IC_kwDOATCU_c5MedDO","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T21:56:54Z","updated_at":"2022-10-18T21:57:26Z","author_association":"CONTRIBUTOR","body":"> @walterddr @Jackie-Jiang I did a survey of other systems and put the results in this doc: https://docs.google.com/document/d/1Dvz7NJ2eliIFm6O1Ra4Azs_WFWR98kHOyDCznIwaXow/edit#\r\n> \r\n> My vote is also to follow the Postgres standard, though @Jackie-Jiang is right about the way that `time with time zone` is handled (the time zone is actually stored alongside the data).\r\n> \r\n> I'll loop in others on the doc and we can continue the discussion there.\r\n\r\ndiscussed offline and yet @Jackie-Jiang and @agavra is right. postgres doesn't carry timezone info during computation either, continuing discussion in https://github.com/apache/pinot/issues/9622","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283051726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283052699","html_url":"https://github.com/apache/pinot/issues/9622#issuecomment-1283052699","issue_url":"https://api.github.com/repos/apache/pinot/issues/9622","id":1283052699,"node_id":"IC_kwDOATCU_c5MedSb","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T21:58:01Z","updated_at":"2022-10-18T21:58:01Z","author_association":"CONTRIBUTOR","body":"CC @nizarhejazi @siddharthteotia ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283052699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283063943","html_url":"https://github.com/apache/pinot/issues/9622#issuecomment-1283063943","issue_url":"https://api.github.com/repos/apache/pinot/issues/9622","id":1283063943,"node_id":"IC_kwDOATCU_c5MegCH","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T22:09:09Z","updated_at":"2022-10-18T22:09:09Z","author_association":"CONTRIBUTOR","body":"Thanks for starting this. \r\n\r\n@walterddr @agavra  - Do we also want to use this opportunity to get some consensus on what is our end state w.r.t everything about date/datetime/timestamp related support as first class types.\r\n\r\nExample - @vvivekiyer also created issue regarding INTERVAL / TIMESPAN support. Are we considering this as part of discussion ? \r\n\r\nI am not saying fold everything into one but may be useful to have discussion at the same time with all the necessary context to see what are the missing ones, what we want to add support for, what we don't want to etc\r\n\r\nhttps://github.com/apache/pinot/issues/9577","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283063943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283066007","html_url":"https://github.com/apache/pinot/issues/9625#issuecomment-1283066007","issue_url":"https://api.github.com/repos/apache/pinot/issues/9625","id":1283066007,"node_id":"IC_kwDOATCU_c5MegiX","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T22:11:29Z","updated_at":"2022-10-18T22:11:29Z","author_association":"CONTRIBUTOR","body":"duplicate of https://github.com/apache/pinot/issues/9625. added more context there","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283066007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283069538","html_url":"https://github.com/apache/pinot/issues/9622#issuecomment-1283069538","issue_url":"https://api.github.com/repos/apache/pinot/issues/9622","id":1283069538,"node_id":"IC_kwDOATCU_c5MehZi","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T22:15:47Z","updated_at":"2022-10-18T22:15:47Z","author_association":"CONTRIBUTOR","body":"@siddharthteotia @vvivekiyer Yes, we want to use this opportunity to discuss the overall handling of all date/time related types. Once we all agree on the high level direction (the convention to follow), the remaining tasks are just implementing each of them.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283069538/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283071276","html_url":"https://github.com/apache/pinot/issues/9622#issuecomment-1283071276","issue_url":"https://api.github.com/repos/apache/pinot/issues/9622","id":1283071276,"node_id":"IC_kwDOATCU_c5Meh0s","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T22:17:16Z","updated_at":"2022-10-18T22:17:16Z","author_association":"CONTRIBUTOR","body":"> @siddharthteotia @vvivekiyer Yes, we want to use this opportunity to discuss the overall handling of all date/time related types. Once we all agree on the high level direction (the convention to follow), the remaining tasks are just implementing each of them.\r\n\r\nPerfect. Thanks \r\ncc @vvivekiyer ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283071276/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283080810","html_url":"https://github.com/apache/pinot/pull/9624#issuecomment-1283080810","issue_url":"https://api.github.com/repos/apache/pinot/issues/9624","id":1283080810,"node_id":"IC_kwDOATCU_c5MekJq","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T22:29:04Z","updated_at":"2022-10-25T18:04:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9624?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9624](https://codecov.io/gh/apache/pinot/pull/9624?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (7609a9c) into [master](https://codecov.io/gh/apache/pinot/commit/77fa36d06ff9ed10d5b4a4b2cdf166abd38417fb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (77fa36d) will **decrease** coverage by `2.19%`.\n> The diff coverage is `16.66%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9624      +/-   ##\n============================================\n- Coverage     28.09%   25.89%   -2.20%     \n+ Complexity       53       44       -9     \n============================================\n  Files          1935     1934       -1     \n  Lines        103815   103917     +102     \n  Branches      15758    15770      +12     \n============================================\n- Hits          29162    26913    -2249     \n- Misses        71780    74297    +2517     \n+ Partials       2873     2707     -166     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.89% <16.66%> (-0.01%)` | :arrow_down: |\n| integration2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9624?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../local/loader/TierBasedSegmentDirectoryLoader.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9sb2FkZXIvVGllckJhc2VkU2VnbWVudERpcmVjdG9yeUxvYWRlci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...roller/helix/core/relocation/SegmentRelocator.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vU2VnbWVudFJlbG9jYXRvci5qYXZh) | `26.42% <10.47%> (-46.55%)` | :arrow_down: |\n| [...server/starter/helix/HelixInstanceDataManager.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeEluc3RhbmNlRGF0YU1hbmFnZXIuamF2YQ==) | `66.25% <20.00%> (-9.09%)` | :arrow_down: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `39.98% <33.33%> (-3.04%)` | :arrow_down: |\n| [...er/starter/helix/SegmentMessageHandlerFactory.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50TWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `59.55% <40.00%> (-6.34%)` | :arrow_down: |\n| [...he/pinot/common/messages/SegmentReloadMessage.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvU2VnbWVudFJlbG9hZE1lc3NhZ2UuamF2YQ==) | `83.33% <50.00%> (-16.67%)` | :arrow_down: |\n| [...apache/pinot/controller/BaseControllerStarter.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9CYXNlQ29udHJvbGxlclN0YXJ0ZXIuamF2YQ==) | `76.06% <100.00%> (-1.52%)` | :arrow_down: |\n| [...va/org/apache/pinot/controller/ControllerConf.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyQ29uZi5qYXZh) | `49.23% <100.00%> (-2.29%)` | :arrow_down: |\n| [.../pinot/core/data/manager/BaseTableDataManager.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvQmFzZVRhYmxlRGF0YU1hbmFnZXIuamF2YQ==) | `60.00% <100.00%> (-1.27%)` | :arrow_down: |\n| [.../apache/pinot/server/access/RequesterIdentity.java](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL2FjY2Vzcy9SZXF1ZXN0ZXJJZGVudGl0eS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [218 more](https://codecov.io/gh/apache/pinot/pull/9624/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283080810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283154881","html_url":"https://github.com/apache/pinot/pull/9624#issuecomment-1283154881","issue_url":"https://api.github.com/repos/apache/pinot/issues/9624","id":1283154881,"node_id":"IC_kwDOATCU_c5Me2PB","user":{"login":"klsince","id":61892277,"node_id":"MDQ6VXNlcjYxODkyMjc3","avatar_url":"https://avatars.githubusercontent.com/u/61892277?v=4","gravatar_id":"","url":"https://api.github.com/users/klsince","html_url":"https://github.com/klsince","followers_url":"https://api.github.com/users/klsince/followers","following_url":"https://api.github.com/users/klsince/following{/other_user}","gists_url":"https://api.github.com/users/klsince/gists{/gist_id}","starred_url":"https://api.github.com/users/klsince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klsince/subscriptions","organizations_url":"https://api.github.com/users/klsince/orgs","repos_url":"https://api.github.com/users/klsince/repos","events_url":"https://api.github.com/users/klsince/events{/privacy}","received_events_url":"https://api.github.com/users/klsince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T23:59:30Z","updated_at":"2022-10-18T23:59:30Z","author_association":"CONTRIBUTOR","body":"> High level question: why is the logic implemented in the table rebalancer? IMO it should be part of the tier assigner\r\n\r\nThe design decision was made to extend SegmentRelocator (not Assigner either to separate responsibilities). I extended TableRebalancer (used by SegmentRelocator) to check on a condition i.e. \r\n```\r\nif (currentAssignment.equals(targetAssignment)) {\r\n      LOGGER.info(\"Table: {} is already balanced\", tableNameWithType);\r\n...\r\n```\r\nBut looks like I can check on `RebalanceResult.Status.DONE` anyway, to move tier migration logic into SegmentRelocator to be clear.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283154881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283309800","html_url":"https://github.com/apache/pinot/pull/9618#issuecomment-1283309800","issue_url":"https://api.github.com/repos/apache/pinot/issues/9618","id":1283309800,"node_id":"IC_kwDOATCU_c5MfcDo","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T02:25:19Z","updated_at":"2022-10-19T02:25:19Z","author_association":"CONTRIBUTOR","body":"> I am guessing this is just limited to blocks sent between executors in multi-stage engine and will not affect the `DataTable` schema sent back by leaf layer to the broker in the current engine. It will continue to carry the schema type as `storedType` ?\r\n\r\nYes exactly. That's the point of only changing the block utils and builder which are not used on the data table impl code path ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283309800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283692055","html_url":"https://github.com/apache/pinot/pull/9621#issuecomment-1283692055","issue_url":"https://api.github.com/repos/apache/pinot/issues/9621","id":1283692055,"node_id":"IC_kwDOATCU_c5Mg5YX","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T09:18:51Z","updated_at":"2022-10-19T09:18:51Z","author_association":"CONTRIBUTOR","body":"@npawar / @KKcorps Please review! \r\n\r\nI seem to have added [docs](https://app.gitbook.com/o/-LtRX9NwSr7Ga7zA4piL/s/-LtH6nl58DdnZnelPdTc-887967055/~/changes/T80vSbcXHeWkuMl9KzaN/) before merging the code :))","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283692055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283696074","html_url":"https://github.com/apache/pinot/pull/8280#issuecomment-1283696074","issue_url":"https://api.github.com/repos/apache/pinot/issues/8280","id":1283696074,"node_id":"IC_kwDOATCU_c5Mg6XK","user":{"login":"navina","id":1909480,"node_id":"MDQ6VXNlcjE5MDk0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1909480?v=4","gravatar_id":"","url":"https://api.github.com/users/navina","html_url":"https://github.com/navina","followers_url":"https://api.github.com/users/navina/followers","following_url":"https://api.github.com/users/navina/following{/other_user}","gists_url":"https://api.github.com/users/navina/gists{/gist_id}","starred_url":"https://api.github.com/users/navina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navina/subscriptions","organizations_url":"https://api.github.com/users/navina/orgs","repos_url":"https://api.github.com/users/navina/repos","events_url":"https://api.github.com/users/navina/events{/privacy}","received_events_url":"https://api.github.com/users/navina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T09:22:00Z","updated_at":"2022-10-19T09:22:00Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of https://github.com/apache/pinot/pull/9515 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1283696074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284106925","html_url":"https://github.com/apache/pinot/issues/9555#issuecomment-1284106925","issue_url":"https://api.github.com/repos/apache/pinot/issues/9555","id":1284106925,"node_id":"IC_kwDOATCU_c5Mieqt","user":{"login":"lfernandez93","id":4583946,"node_id":"MDQ6VXNlcjQ1ODM5NDY=","avatar_url":"https://avatars.githubusercontent.com/u/4583946?v=4","gravatar_id":"","url":"https://api.github.com/users/lfernandez93","html_url":"https://github.com/lfernandez93","followers_url":"https://api.github.com/users/lfernandez93/followers","following_url":"https://api.github.com/users/lfernandez93/following{/other_user}","gists_url":"https://api.github.com/users/lfernandez93/gists{/gist_id}","starred_url":"https://api.github.com/users/lfernandez93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lfernandez93/subscriptions","organizations_url":"https://api.github.com/users/lfernandez93/orgs","repos_url":"https://api.github.com/users/lfernandez93/repos","events_url":"https://api.github.com/users/lfernandez93/events{/privacy}","received_events_url":"https://api.github.com/users/lfernandez93/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T14:27:02Z","updated_at":"2022-10-19T14:27:02Z","author_association":"CONTRIBUTOR","body":"@xiangfu0 this has been merged ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284106925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284347711","html_url":"https://github.com/apache/pinot/issues/9615#issuecomment-1284347711","issue_url":"https://api.github.com/repos/apache/pinot/issues/9615","id":1284347711,"node_id":"IC_kwDOATCU_c5MjZc_","user":{"login":"agavra","id":3172405,"node_id":"MDQ6VXNlcjMxNzI0MDU=","avatar_url":"https://avatars.githubusercontent.com/u/3172405?v=4","gravatar_id":"","url":"https://api.github.com/users/agavra","html_url":"https://github.com/agavra","followers_url":"https://api.github.com/users/agavra/followers","following_url":"https://api.github.com/users/agavra/following{/other_user}","gists_url":"https://api.github.com/users/agavra/gists{/gist_id}","starred_url":"https://api.github.com/users/agavra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agavra/subscriptions","organizations_url":"https://api.github.com/users/agavra/orgs","repos_url":"https://api.github.com/users/agavra/repos","events_url":"https://api.github.com/users/agavra/events{/privacy}","received_events_url":"https://api.github.com/users/agavra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T17:28:31Z","updated_at":"2022-10-19T17:28:31Z","author_association":"CONTRIBUTOR","body":"Adding notes from offline discussion with @walterddr @61yao @siddharthteotia. Feel free to add additional details if I missed anything.\r\n\r\nDesign notes:\r\n1. the shared buffer itself should have a notion of fairness to make sure that it doesn't fill up with data all from a single query\r\n2. the operator chain task pool should wake up on either (a) new incoming data for the corresponding mailbox or (b) a new operator chain is registered for execution to make sure that there is no race between registering a new operator chain and receiving data from an upstream sending node\r\n3. the shared buffer should have configurable limits, ideally on both data size as well as number of blocks\r\n\r\nDiscussion around out-of-scope considerations: \r\n1. retrying failed operator chains/queries (note: cascading a failure is in scope and should leverage [Query Preemption](https://docs.google.com/document/d/1Z9DYAfKznHQI9Wn8BjTWZYTcNRVGiPP0B8aEP3w_1jQ/edit?pli=1))\r\n2. implementing parallelism within an operator-chain\r\n3. implementing pipelining or partition-level parallelism of operator chains\r\n4. for v1, the operator chain scheduler will be round-robin. it should be pluggable to support priority scheduling that can ensure fairness but those implementations are out of scope\r\n\r\nNext steps, @agavra to come up with a PEP document with more implementation and design details after some prototyping. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284347711/reactions","total_count":7,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":3,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284459633","html_url":"https://github.com/apache/pinot/issues/9629#issuecomment-1284459633","issue_url":"https://api.github.com/repos/apache/pinot/issues/9629","id":1284459633,"node_id":"IC_kwDOATCU_c5Mj0xx","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T19:13:41Z","updated_at":"2022-10-19T19:13:41Z","author_association":"CONTRIBUTOR","body":"cc: @61yao ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284459633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284661603","html_url":"https://github.com/apache/pinot/issues/9418#issuecomment-1284661603","issue_url":"https://api.github.com/repos/apache/pinot/issues/9418","id":1284661603,"node_id":"IC_kwDOATCU_c5MkmFj","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T23:01:14Z","updated_at":"2022-10-19T23:01:14Z","author_association":"CONTRIBUTOR","body":"@ddcprg Thanks for volunteering, assigned to you","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284661603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284692062","html_url":"https://github.com/apache/pinot/issues/9563#issuecomment-1284692062","issue_url":"https://api.github.com/repos/apache/pinot/issues/9563","id":1284692062,"node_id":"IC_kwDOATCU_c5Mkthe","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T23:19:00Z","updated_at":"2022-10-19T23:19:00Z","author_association":"CONTRIBUTOR","body":"i think this can be closed and merged with #9615 . we've already identified the issue and also we already saw the TODO has been added. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284692062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284695996","html_url":"https://github.com/apache/pinot/pull/9624#issuecomment-1284695996","issue_url":"https://api.github.com/repos/apache/pinot/issues/9624","id":1284695996,"node_id":"IC_kwDOATCU_c5Mkue8","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T23:24:42Z","updated_at":"2022-10-19T23:24:42Z","author_association":"CONTRIBUTOR","body":"But why do we want to use a separate periodic task to trigger the reload? We should just trigger the reload in `SegmentTierAssigner` which modify the tier for the segment. Once the `SegmentTierAssigner` changes the target tier for a segment, the new loaded segment will already be moved, and we want the already loaded segment to have the same behavior to be consistent.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284695996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284707605","html_url":"https://github.com/apache/pinot/pull/9624#issuecomment-1284707605","issue_url":"https://api.github.com/repos/apache/pinot/issues/9624","id":1284707605,"node_id":"IC_kwDOATCU_c5MkxUV","user":{"login":"klsince","id":61892277,"node_id":"MDQ6VXNlcjYxODkyMjc3","avatar_url":"https://avatars.githubusercontent.com/u/61892277?v=4","gravatar_id":"","url":"https://api.github.com/users/klsince","html_url":"https://github.com/klsince","followers_url":"https://api.github.com/users/klsince/followers","following_url":"https://api.github.com/users/klsince/following{/other_user}","gists_url":"https://api.github.com/users/klsince/gists{/gist_id}","starred_url":"https://api.github.com/users/klsince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klsince/subscriptions","organizations_url":"https://api.github.com/users/klsince/orgs","repos_url":"https://api.github.com/users/klsince/repos","events_url":"https://api.github.com/users/klsince/events{/privacy}","received_events_url":"https://api.github.com/users/klsince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T23:42:42Z","updated_at":"2022-10-19T23:42:42Z","author_association":"CONTRIBUTOR","body":"A new target tier can lead to two reactions: \r\n1) segment needs to go to a new server (when the target tier is only defined for a specific pool of servers as identified via `serverTag` in the tierConfig); \r\n2) segment is already on the right server, but still needs to go to a new tier, backed by a different datadir. \r\n\r\nAction 1 is handled by TableRebalancer; Action 2 is handled by SegmentReloadMessage. Extending SegmentRelocator, it's easy to control the sequence of those two actions, to do Action 2 after Action 1 is completed. So that, we don't send SegmentReloadMessage to a server that's not the ideal server for the segment yet, and it reloads the segment unnecessarily.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284707605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284716044","html_url":"https://github.com/apache/pinot/issues/9589#issuecomment-1284716044","issue_url":"https://api.github.com/repos/apache/pinot/issues/9589","id":1284716044,"node_id":"IC_kwDOATCU_c5MkzYM","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T23:56:39Z","updated_at":"2022-10-19T23:56:39Z","author_association":"CONTRIBUTOR","body":"This is for multi-stage only. Let me update the issue title","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284716044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284728993","html_url":"https://github.com/apache/pinot/pull/9630#issuecomment-1284728993","issue_url":"https://api.github.com/repos/apache/pinot/issues/9630","id":1284728993,"node_id":"IC_kwDOATCU_c5Mk2ih","user":{"login":"61yao","id":111319704,"node_id":"U_kgDOBqKamA","avatar_url":"https://avatars.githubusercontent.com/u/111319704?v=4","gravatar_id":"","url":"https://api.github.com/users/61yao","html_url":"https://github.com/61yao","followers_url":"https://api.github.com/users/61yao/followers","following_url":"https://api.github.com/users/61yao/following{/other_user}","gists_url":"https://api.github.com/users/61yao/gists{/gist_id}","starred_url":"https://api.github.com/users/61yao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/61yao/subscriptions","organizations_url":"https://api.github.com/users/61yao/orgs","repos_url":"https://api.github.com/users/61yao/repos","events_url":"https://api.github.com/users/61yao/events{/privacy}","received_events_url":"https://api.github.com/users/61yao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T00:17:41Z","updated_at":"2022-10-20T00:17:41Z","author_association":"CONTRIBUTOR","body":"@agavra","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284728993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284729633","html_url":"https://github.com/apache/pinot/pull/9624#issuecomment-1284729633","issue_url":"https://api.github.com/repos/apache/pinot/issues/9624","id":1284729633,"node_id":"IC_kwDOATCU_c5Mk2sh","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T00:18:50Z","updated_at":"2022-10-20T00:18:50Z","author_association":"CONTRIBUTOR","body":"It is okay to do it within the `SegmentRelocator`, but we should also move the logic in `SegmentTierAssigner` into it. We don't want to use 2 periodic tasks to perform the same operation. Basically after assigning the tier, we should trigger the reload immediately, instead of relying on another periodic task to trigger it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284729633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284799901","html_url":"https://github.com/apache/pinot/pull/9631#issuecomment-1284799901","issue_url":"https://api.github.com/repos/apache/pinot/issues/9631","id":1284799901,"node_id":"IC_kwDOATCU_c5MlH2d","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T01:54:51Z","updated_at":"2022-10-20T02:02:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9631?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9631](https://codecov.io/gh/apache/pinot/pull/9631?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c665140) into [master](https://codecov.io/gh/apache/pinot/commit/3e1aba37deee21ccb2e764afce789e463098246f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3e1aba3) will **decrease** coverage by `1.23%`.\n> The diff coverage is `48.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9631      +/-   ##\n============================================\n- Coverage     69.92%   68.68%   -1.24%     \n+ Complexity     4930     4924       -6     \n============================================\n  Files          1943     1943              \n  Lines        103907   103926      +19     \n  Branches      15745    15750       +5     \n============================================\n- Hits          72653    71381    -1272     \n- Misses        26153    27456    +1303     \n+ Partials       5101     5089      -12     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.84% <16.00%> (+0.06%)` | :arrow_up: |\n| integration2 | `?` | |\n| unittests1 | `67.34% <0.00%> (+0.04%)` | :arrow_up: |\n| unittests2 | `15.70% <48.00%> (+0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9631?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `65.74% <0.00%> (-2.04%)` | :arrow_down: |\n| [.../controller/helix/core/SegmentDeletionManager.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1NlZ21lbnREZWxldGlvbk1hbmFnZXIuamF2YQ==) | `73.75% <ø> (ø)` | |\n| [...apache/pinot/controller/api/upload/ZKOperator.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1pLT3BlcmF0b3IuamF2YQ==) | `68.67% <47.82%> (-3.14%)` | :arrow_down: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `69.85% <100.00%> (-2.18%)` | :arrow_down: |\n| [...t/core/plan/StreamingInstanceResponsePlanNode.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1N0cmVhbWluZ0luc3RhbmNlUmVzcG9uc2VQbGFuTm9kZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ore/operator/streaming/StreamingResponseUtils.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9zdHJlYW1pbmcvU3RyZWFtaW5nUmVzcG9uc2VVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...server/starter/helix/SegmentReloadStatusValue.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50UmVsb2FkU3RhdHVzVmFsdWUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ager/realtime/PeerSchemeSplitSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUGVlclNjaGVtZVNwbGl0U2VnbWVudENvbW1pdHRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...urces/ServerReloadControllerJobStatusResponse.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1NlcnZlclJlbG9hZENvbnRyb2xsZXJKb2JTdGF0dXNSZXNwb25zZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/utils/grpc/GrpcRequestBuilder.java](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZ3JwYy9HcnBjUmVxdWVzdEJ1aWxkZXIuamF2YQ==) | `0.00% <0.00%> (-90.91%)` | :arrow_down: |\n| ... and [141 more](https://codecov.io/gh/apache/pinot/pull/9631/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1284799901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285040079","html_url":"https://github.com/apache/pinot/pull/8979#issuecomment-1285040079","issue_url":"https://api.github.com/repos/apache/pinot/issues/8979","id":1285040079,"node_id":"IC_kwDOATCU_c5MmCfP","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T07:00:21Z","updated_at":"2022-10-20T07:00:21Z","author_association":"CONTRIBUTOR","body":"I like most of the changes introduced by Jackie, and the ones I don't are mostly cosmetic and subjective, so I'm fine with that. :+1: ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285040079/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285057850","html_url":"https://github.com/apache/pinot/pull/9609#issuecomment-1285057850","issue_url":"https://api.github.com/repos/apache/pinot/issues/9609","id":1285057850,"node_id":"IC_kwDOATCU_c5MmG06","user":{"login":"saurabhd336","id":7672118,"node_id":"MDQ6VXNlcjc2NzIxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7672118?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhd336","html_url":"https://github.com/saurabhd336","followers_url":"https://api.github.com/users/saurabhd336/followers","following_url":"https://api.github.com/users/saurabhd336/following{/other_user}","gists_url":"https://api.github.com/users/saurabhd336/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhd336/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhd336/subscriptions","organizations_url":"https://api.github.com/users/saurabhd336/orgs","repos_url":"https://api.github.com/users/saurabhd336/repos","events_url":"https://api.github.com/users/saurabhd336/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhd336/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T07:17:59Z","updated_at":"2022-10-20T07:17:59Z","author_association":"CONTRIBUTOR","body":"@agavra Added a sample response!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285057850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285147565","html_url":"https://github.com/apache/pinot/pull/9609#issuecomment-1285147565","issue_url":"https://api.github.com/repos/apache/pinot/issues/9609","id":1285147565,"node_id":"IC_kwDOATCU_c5Mmcut","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T08:36:10Z","updated_at":"2022-10-20T08:42:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9609?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9609](https://codecov.io/gh/apache/pinot/pull/9609?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2f103db) into [master](https://codecov.io/gh/apache/pinot/commit/3e1aba37deee21ccb2e764afce789e463098246f?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3e1aba3) will **decrease** coverage by `0.04%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9609      +/-   ##\n============================================\n- Coverage     69.92%   69.87%   -0.05%     \n+ Complexity     4930     4853      -77     \n============================================\n  Files          1943     1943              \n  Lines        103907   103960      +53     \n  Branches      15745    15753       +8     \n============================================\n- Hits          72653    72640      -13     \n- Misses        26153    26212      +59     \n- Partials       5101     5108       +7     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.79% <0.00%> (+<0.01%)` | :arrow_up: |\n| integration2 | `24.45% <0.00%> (-0.11%)` | :arrow_down: |\n| unittests1 | `67.30% <ø> (ø)` | |\n| unittests2 | `15.68% <0.00%> (-0.01%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9609?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../pinot/controller/api/resources/DebugResource.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL0RlYnVnUmVzb3VyY2UuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ache/pinot/server/api/resources/DebugResource.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvYXBpL3Jlc291cmNlcy9EZWJ1Z1Jlc291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...ntroller/helix/core/minion/TaskMetricsEmitter.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9UYXNrTWV0cmljc0VtaXR0ZXIuamF2YQ==) | `34.88% <0.00%> (-55.82%)` | :arrow_down: |\n| [...n/java/org/apache/pinot/common/utils/URIUtils.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvVVJJVXRpbHMuamF2YQ==) | `66.66% <0.00%> (-7.41%)` | :arrow_down: |\n| [...elix/core/periodictask/ControllerPeriodicTask.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3BlcmlvZGljdGFzay9Db250cm9sbGVyUGVyaW9kaWNUYXNrLmphdmE=) | `66.07% <0.00%> (-5.36%)` | :arrow_down: |\n| [...pache/pinot/core/query/optimizer/filter/Range.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9vcHRpbWl6ZXIvZmlsdGVyL1JhbmdlLmphdmE=) | `87.75% <0.00%> (-4.09%)` | :arrow_down: |\n| [...core/operator/docvalsets/TransformBlockValSet.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2N2YWxzZXRzL1RyYW5zZm9ybUJsb2NrVmFsU2V0LmphdmE=) | `59.43% <0.00%> (-2.84%)` | :arrow_down: |\n| [...lix/core/minion/PinotHelixTaskResourceManager.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9QaW5vdEhlbGl4VGFza1Jlc291cmNlTWFuYWdlci5qYXZh) | `40.70% <0.00%> (-2.27%)` | :arrow_down: |\n| [...e/pinot/segment/local/io/util/PinotDataBitSet.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VnbWVudC1sb2NhbC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VnbWVudC9sb2NhbC9pby91dGlsL1Bpbm90RGF0YUJpdFNldC5qYXZh) | `95.62% <0.00%> (-1.46%)` | :arrow_down: |\n| [...ery/optimizer/filter/MergeEqInFilterOptimizer.java](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9vcHRpbWl6ZXIvZmlsdGVyL01lcmdlRXFJbkZpbHRlck9wdGltaXplci5qYXZh) | `92.59% <0.00%> (-1.24%)` | :arrow_down: |\n| ... and [22 more](https://codecov.io/gh/apache/pinot/pull/9609/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285147565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285924794","html_url":"https://github.com/apache/pinot/pull/9633#issuecomment-1285924794","issue_url":"https://api.github.com/repos/apache/pinot/issues/9633","id":1285924794,"node_id":"IC_kwDOATCU_c5Mpae6","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T17:44:45Z","updated_at":"2022-10-20T17:44:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9633?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9633](https://codecov.io/gh/apache/pinot/pull/9633?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (68b8ac0) into [master](https://codecov.io/gh/apache/pinot/commit/bf70071bc1d488e7b2ad7aeeb832b1e5da230e0c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (bf70071) will **decrease** coverage by `2.26%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9633      +/-   ##\n============================================\n- Coverage     28.01%   25.75%   -2.27%     \n+ Complexity       53       44       -9     \n============================================\n  Files          1931     1931              \n  Lines        103532   103554      +22     \n  Branches      15705    15707       +2     \n============================================\n- Hits          29004    26666    -2338     \n- Misses        71688    74198    +2510     \n+ Partials       2840     2690     -150     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.75% <ø> (-0.07%)` | :arrow_down: |\n| integration2 | `?` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9633?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/pinot/common/utils/DateTimeUtils.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvRGF0ZVRpbWVVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/server/access/RequesterIdentity.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL2FjY2Vzcy9SZXF1ZXN0ZXJJZGVudGl0eS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...t/core/plan/StreamingInstanceResponsePlanNode.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1N0cmVhbWluZ0luc3RhbmNlUmVzcG9uc2VQbGFuTm9kZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ore/operator/streaming/StreamingResponseUtils.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9zdHJlYW1pbmcvU3RyZWFtaW5nUmVzcG9uc2VVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...server/starter/helix/SegmentReloadStatusValue.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50UmVsb2FkU3RhdHVzVmFsdWUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ager/realtime/PeerSchemeSplitSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUGVlclNjaGVtZVNwbGl0U2VnbWVudENvbW1pdHRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...form/function/IsDistinctFromTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSXNEaXN0aW5jdEZyb21UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...m/function/IsNotDistinctFromTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSXNOb3REaXN0aW5jdEZyb21UcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...urces/ServerReloadControllerJobStatusResponse.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1NlcnZlclJlbG9hZENvbnRyb2xsZXJKb2JTdGF0dXNSZXNwb25zZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...t/plugin/minion/tasks/purge/PurgeTaskExecutor.java](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvcHVyZ2UvUHVyZ2VUYXNrRXhlY3V0b3IuamF2YQ==) | `0.00% <0.00%> (-91.31%)` | :arrow_down: |\n| ... and [208 more](https://codecov.io/gh/apache/pinot/pull/9633/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285924794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285963981","html_url":"https://github.com/apache/pinot/pull/9624#issuecomment-1285963981","issue_url":"https://api.github.com/repos/apache/pinot/issues/9624","id":1285963981,"node_id":"IC_kwDOATCU_c5MpkDN","user":{"login":"klsince","id":61892277,"node_id":"MDQ6VXNlcjYxODkyMjc3","avatar_url":"https://avatars.githubusercontent.com/u/61892277?v=4","gravatar_id":"","url":"https://api.github.com/users/klsince","html_url":"https://github.com/klsince","followers_url":"https://api.github.com/users/klsince/followers","following_url":"https://api.github.com/users/klsince/following{/other_user}","gists_url":"https://api.github.com/users/klsince/gists{/gist_id}","starred_url":"https://api.github.com/users/klsince/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/klsince/subscriptions","organizations_url":"https://api.github.com/users/klsince/orgs","repos_url":"https://api.github.com/users/klsince/repos","events_url":"https://api.github.com/users/klsince/events{/privacy}","received_events_url":"https://api.github.com/users/klsince/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T18:21:12Z","updated_at":"2022-10-20T18:21:12Z","author_association":"CONTRIBUTOR","body":"> ... Basically after assigning the tier, we should trigger the reload immediately, instead of relying on another periodic task to trigger it.\r\n\r\nI think there may be use cases to separate the two: 1) keep SegmentTierAssigner running to calculate target tier continuously; 2) but not run SegmentRelocator task, instead do table rebalance and tier migration manually as planned maintenance based on prod env, like when cluster does not get queries. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1285963981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286007942","html_url":"https://github.com/apache/pinot/issues/7978#issuecomment-1286007942","issue_url":"https://api.github.com/repos/apache/pinot/issues/7978","id":1286007942,"node_id":"IC_kwDOATCU_c5MpuyG","user":{"login":"egalpin","id":7582748,"node_id":"MDQ6VXNlcjc1ODI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/7582748?v=4","gravatar_id":"","url":"https://api.github.com/users/egalpin","html_url":"https://github.com/egalpin","followers_url":"https://api.github.com/users/egalpin/followers","following_url":"https://api.github.com/users/egalpin/following{/other_user}","gists_url":"https://api.github.com/users/egalpin/gists{/gist_id}","starred_url":"https://api.github.com/users/egalpin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egalpin/subscriptions","organizations_url":"https://api.github.com/users/egalpin/orgs","repos_url":"https://api.github.com/users/egalpin/repos","events_url":"https://api.github.com/users/egalpin/events{/privacy}","received_events_url":"https://api.github.com/users/egalpin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T19:02:58Z","updated_at":"2022-10-20T19:02:58Z","author_association":"MEMBER","body":"Got it, thanks for the insights!\r\n\r\nDo you imagine that–hypothetically–if this were implemented natively, the ability to write the nested records out-of-band could be maintained?  I think this would be a very enticing feature, because it could potentially replace partial upserts for some cases (ex. for the use case where upsert is used to allow latent data to be added to an existing row at some later time).\r\n\r\nJust to clarify what I mean, imagine that for a Realtime/streaming table, the following two messages are received 5 minutes apart:\r\n\r\n```\r\n{\r\n  \"id\": 1,\r\n  \"name\": \"adam\",\r\n  \"age\": 30,\r\n  \"country\": \"us\"\r\n}\r\n```\r\n\r\n... 5 min later ...\r\n\r\n```\r\n{\r\n  \"parent_id\": 1,\r\n  \"addresses\":\r\n  [\r\n    {\r\n      \"number\" : 112,\r\n      \"street\" : \"main st\",\r\n      \"country\" : \"us\"\r\n    },\r\n    {\r\n      \"number\" : 2,\r\n      \"street\" : \"second st\",\r\n      \"country\" : \"us\"\r\n    },\r\n    {\r\n      \"number\" : 3,\r\n      \"street\" : \"third st\",\r\n      \"country\" : \"ca\"\r\n    }\r\n  ]\r\n}\r\n  ```\r\n  \r\nThis would only work if there was a primary key, as opposed to using the `$docId`.  Seems challenging to pull off, but if it's at all possible it would be a unique and powerful feature.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286007942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286315830","html_url":"https://github.com/apache/pinot/pull/9635#issuecomment-1286315830","issue_url":"https://api.github.com/repos/apache/pinot/issues/9635","id":1286315830,"node_id":"IC_kwDOATCU_c5Mq582","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T00:41:05Z","updated_at":"2022-10-21T00:49:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9635?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9635](https://codecov.io/gh/apache/pinot/pull/9635?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (839e096) into [master](https://codecov.io/gh/apache/pinot/commit/273e1de43036bdb780c945c0cbe5fc6d6c0b8149?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (273e1de) will **decrease** coverage by `4.61%`.\n> The diff coverage is `75.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9635      +/-   ##\n============================================\n- Coverage     68.43%   63.81%   -4.62%     \n+ Complexity     4929     4907      -22     \n============================================\n  Files          1947     1894      -53     \n  Lines        104165   101786    -2379     \n  Branches      15794    15518     -276     \n============================================\n- Hits          71283    64953    -6330     \n- Misses        27824    32076    +4252     \n+ Partials       5058     4757     -301     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration2 | `?` | |\n| unittests1 | `67.37% <ø> (+0.03%)` | :arrow_up: |\n| unittests2 | `15.66% <75.00%> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9635?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../controller/api/resources/PinotClusterConfigs.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90Q2x1c3RlckNvbmZpZ3MuamF2YQ==) | `36.58% <75.00%> (+2.37%)` | :arrow_up: |\n| [...va/org/apache/pinot/core/routing/RoutingTable.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yb3V0aW5nL1JvdXRpbmdUYWJsZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...va/org/apache/pinot/common/config/NettyConfig.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL05ldHR5Q29uZmlnLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/pinot/common/metrics/MinionMeter.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25NZXRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...g/apache/pinot/common/metrics/ControllerMeter.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyTWV0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/BrokerQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJRdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../apache/pinot/common/metrics/MinionQueryPhase.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NaW5pb25RdWVyeVBoYXNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ache/pinot/server/access/AccessControlFactory.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL2FjY2Vzcy9BY2Nlc3NDb250cm9sRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/messages/SegmentReloadMessage.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvU2VnbWVudFJlbG9hZE1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/messages/TableDeletionMessage.java](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvVGFibGVEZWxldGlvbk1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [381 more](https://codecov.io/gh/apache/pinot/pull/9635/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286315830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286316469","html_url":"https://github.com/apache/pinot/pull/9634#issuecomment-1286316469","issue_url":"https://api.github.com/repos/apache/pinot/issues/9634","id":1286316469,"node_id":"IC_kwDOATCU_c5Mq6G1","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T00:42:20Z","updated_at":"2022-10-21T00:42:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9634?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9634](https://codecov.io/gh/apache/pinot/pull/9634?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (49f8f44) into [master](https://codecov.io/gh/apache/pinot/commit/273e1de43036bdb780c945c0cbe5fc6d6c0b8149?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (273e1de) will **decrease** coverage by `0.03%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##             master    #9634      +/-   ##\n============================================\n- Coverage     68.43%   68.40%   -0.04%     \n- Complexity     4929     5308     +379     \n============================================\n  Files          1947     1947              \n  Lines        104165   104165              \n  Branches      15794    15794              \n============================================\n- Hits          71283    71249      -34     \n- Misses        27824    27857      +33     \n- Partials       5058     5059       +1     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration2 | `24.57% <ø> (-0.06%)` | :arrow_down: |\n| unittests1 | `67.32% <ø> (-0.02%)` | :arrow_down: |\n| unittests2 | `15.66% <ø> (+<0.01%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9634?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ore/query/scheduler/resources/ResourceManager.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `84.00% <0.00%> (-12.00%)` | :arrow_down: |\n| [...tream/kafka20/server/KafkaDataServerStartable.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1zdHJlYW0taW5nZXN0aW9uL3Bpbm90LWthZmthLTIuMC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL3N0cmVhbS9rYWZrYTIwL3NlcnZlci9LYWZrYURhdGFTZXJ2ZXJTdGFydGFibGUuamF2YQ==) | `72.91% <0.00%> (-6.25%)` | :arrow_down: |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `75.26% <0.00%> (-5.38%)` | :arrow_down: |\n| [.../filter/predicate/InPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL0luUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `74.43% <0.00%> (-4.52%)` | :arrow_down: |\n| [...lter/predicate/NotInPredicateEvaluatorFactory.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9maWx0ZXIvcHJlZGljYXRlL05vdEluUHJlZGljYXRlRXZhbHVhdG9yRmFjdG9yeS5qYXZh) | `69.01% <0.00%> (-4.23%)` | :arrow_down: |\n| [...ion/function/DistinctCountAggregationFunction.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `50.22% <0.00%> (-4.04%)` | :arrow_down: |\n| [...or/transform/function/IsNullTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vSXNOdWxsVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `75.86% <0.00%> (-3.45%)` | :arrow_down: |\n| [...nsform/function/DistinctFromTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vRGlzdGluY3RGcm9tVHJhbnNmb3JtRnVuY3Rpb24uamF2YQ==) | `87.09% <0.00%> (-3.23%)` | :arrow_down: |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `76.43% <0.00%> (-3.15%)` | :arrow_down: |\n| [.../pinot/core/query/scheduler/PriorityScheduler.java](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvUHJpb3JpdHlTY2hlZHVsZXIuamF2YQ==) | `77.77% <0.00%> (-2.78%)` | :arrow_down: |\n| ... and [12 more](https://codecov.io/gh/apache/pinot/pull/9634/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286316469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286491360","html_url":"https://github.com/apache/pinot/issues/9622#issuecomment-1286491360","issue_url":"https://api.github.com/repos/apache/pinot/issues/9622","id":1286491360,"node_id":"IC_kwDOATCU_c5Mrkzg","user":{"login":"gortiz","id":1913993,"node_id":"MDQ6VXNlcjE5MTM5OTM=","avatar_url":"https://avatars.githubusercontent.com/u/1913993?v=4","gravatar_id":"","url":"https://api.github.com/users/gortiz","html_url":"https://github.com/gortiz","followers_url":"https://api.github.com/users/gortiz/followers","following_url":"https://api.github.com/users/gortiz/following{/other_user}","gists_url":"https://api.github.com/users/gortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/gortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gortiz/subscriptions","organizations_url":"https://api.github.com/users/gortiz/orgs","repos_url":"https://api.github.com/users/gortiz/repos","events_url":"https://api.github.com/users/gortiz/events{/privacy}","received_events_url":"https://api.github.com/users/gortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T05:50:23Z","updated_at":"2022-10-21T05:50:23Z","author_association":"CONTRIBUTOR","body":"As usual, following the Postgres design looks like a good idea","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286491360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286497452","html_url":"https://github.com/apache/pinot/issues/9622#issuecomment-1286497452","issue_url":"https://api.github.com/repos/apache/pinot/issues/9622","id":1286497452,"node_id":"IC_kwDOATCU_c5MrmSs","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T06:00:34Z","updated_at":"2022-10-21T06:00:34Z","author_association":"MEMBER","body":"+1000 on moving towards postgres.  ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286497452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286518791","html_url":"https://github.com/apache/pinot/pull/9636#issuecomment-1286518791","issue_url":"https://api.github.com/repos/apache/pinot/issues/9636","id":1286518791,"node_id":"IC_kwDOATCU_c5MrrgH","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T06:31:35Z","updated_at":"2022-10-25T00:58:27Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9636?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9636](https://codecov.io/gh/apache/pinot/pull/9636?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (41edf22) into [master](https://codecov.io/gh/apache/pinot/commit/fafb518f757cdfeb198c3b4accd0c72b97e9d72c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fafb518) will **increase** coverage by `40.55%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9636       +/-   ##\n=============================================\n+ Coverage     28.06%   68.61%   +40.55%     \n- Complexity       53     4848     +4795     \n=============================================\n  Files          1935     1947       +12     \n  Lines        103815   104182      +367     \n  Branches      15757    15798       +41     \n=============================================\n+ Hits          29134    71486    +42352     \n+ Misses        71808    27589    -44219     \n- Partials       2873     5107     +2234     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.86% <0.00%> (-0.05%)` | :arrow_down: |\n| integration2 | `?` | |\n| unittests1 | `67.35% <0.00%> (?)` | |\n| unittests2 | `15.71% <0.00%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9636?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...broker/broker/ZkBasicAuthAccessControlFactory.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL1prQmFzaWNBdXRoQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...common/config/provider/AccessControlUserCache.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL3Byb3ZpZGVyL0FjY2Vzc0NvbnRyb2xVc2VyQ2FjaGUuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...ava/org/apache/pinot/common/utils/BcryptUtils.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQmNyeXB0VXRpbHMuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [.../pinot/server/access/ZkBasicAuthAccessFactory.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3Qvc2VydmVyL2FjY2Vzcy9aa0Jhc2ljQXV0aEFjY2Vzc0ZhY3RvcnkuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...t/core/plan/StreamingInstanceResponsePlanNode.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL1N0cmVhbWluZ0luc3RhbmNlUmVzcG9uc2VQbGFuTm9kZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ore/operator/streaming/StreamingResponseUtils.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9zdHJlYW1pbmcvU3RyZWFtaW5nUmVzcG9uc2VVdGlscy5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...server/starter/helix/SegmentReloadStatusValue.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50UmVsb2FkU3RhdHVzVmFsdWUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...ager/realtime/PeerSchemeSplitSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUGVlclNjaGVtZVNwbGl0U2VnbWVudENvbW1pdHRlci5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...urces/ServerReloadControllerJobStatusResponse.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1NlcnZlclJlbG9hZENvbnRyb2xsZXJKb2JTdGF0dXNSZXNwb25zZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...he/pinot/common/utils/grpc/GrpcRequestBuilder.java](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvZ3JwYy9HcnBjUmVxdWVzdEJ1aWxkZXIuamF2YQ==) | `0.00% <0.00%> (-90.91%)` | :arrow_down: |\n| ... and [1396 more](https://codecov.io/gh/apache/pinot/pull/9636/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286518791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286837949","html_url":"https://github.com/apache/pinot/pull/9608#issuecomment-1286837949","issue_url":"https://api.github.com/repos/apache/pinot/issues/9608","id":1286837949,"node_id":"IC_kwDOATCU_c5Ms5a9","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T11:34:24Z","updated_at":"2022-10-21T11:34:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9608?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9608](https://codecov.io/gh/apache/pinot/pull/9608?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8646c95) into [master](https://codecov.io/gh/apache/pinot/commit/fafb518f757cdfeb198c3b4accd0c72b97e9d72c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fafb518) will **increase** coverage by `34.74%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9608       +/-   ##\n=============================================\n+ Coverage     28.06%   62.81%   +34.74%     \n- Complexity       53     4707     +4654     \n=============================================\n  Files          1935     1935               \n  Lines        103815   103815               \n  Branches      15757    15757               \n=============================================\n+ Hits          29134    65207    +36073     \n+ Misses        71808    33729    -38079     \n- Partials       2873     4879     +2006     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `25.86% <ø> (-0.04%)` | :arrow_down: |\n| integration2 | `24.54% <ø> (-0.02%)` | :arrow_down: |\n| unittests1 | `67.34% <ø> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9608?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ntroller/helix/core/minion/TaskMetricsEmitter.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9UYXNrTWV0cmljc0VtaXR0ZXIuamF2YQ==) | `34.88% <0.00%> (-51.17%)` | :arrow_down: |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `55.40% <0.00%> (-18.92%)` | :arrow_down: |\n| [.../controller/helix/core/SegmentDeletionManager.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1NlZ21lbnREZWxldGlvbk1hbmFnZXIuamF2YQ==) | `52.50% <0.00%> (-9.38%)` | :arrow_down: |\n| [...roller/helix/core/relocation/SegmentRelocator.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vU2VnbWVudFJlbG9jYXRvci5qYXZh) | `72.97% <0.00%> (-5.41%)` | :arrow_down: |\n| [...e/pinot/controller/helix/SegmentStatusChecker.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9TZWdtZW50U3RhdHVzQ2hlY2tlci5qYXZh) | `72.15% <0.00%> (-4.55%)` | :arrow_down: |\n| [...lix/core/minion/PinotHelixTaskResourceManager.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9QaW5vdEhlbGl4VGFza1Jlc291cmNlTWFuYWdlci5qYXZh) | `29.64% <0.00%> (-2.27%)` | :arrow_down: |\n| [...r/helix/SegmentOnlineOfflineStateModelFactory.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50T25saW5lT2ZmbGluZVN0YXRlTW9kZWxGYWN0b3J5LmphdmE=) | `56.43% <0.00%> (-1.99%)` | :arrow_down: |\n| [.../apache/pinot/controller/util/TableSizeReader.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1RhYmxlU2l6ZVJlYWRlci5qYXZh) | `76.22% <0.00%> (-1.64%)` | :arrow_down: |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `71.20% <0.00%> (-1.05%)` | :arrow_down: |\n| [.../core/realtime/PinotLLCRealtimeSegmentManager.java](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90TExDUmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `57.20% <0.00%> (-0.76%)` | :arrow_down: |\n| ... and [1084 more](https://codecov.io/gh/apache/pinot/pull/9608/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1286837949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287323841","html_url":"https://github.com/apache/pinot/pull/9638#issuecomment-1287323841","issue_url":"https://api.github.com/repos/apache/pinot/issues/9638","id":1287323841,"node_id":"IC_kwDOATCU_c5MuwDB","user":{"login":"GSharayu","id":21273286,"node_id":"MDQ6VXNlcjIxMjczMjg2","avatar_url":"https://avatars.githubusercontent.com/u/21273286?v=4","gravatar_id":"","url":"https://api.github.com/users/GSharayu","html_url":"https://github.com/GSharayu","followers_url":"https://api.github.com/users/GSharayu/followers","following_url":"https://api.github.com/users/GSharayu/following{/other_user}","gists_url":"https://api.github.com/users/GSharayu/gists{/gist_id}","starred_url":"https://api.github.com/users/GSharayu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GSharayu/subscriptions","organizations_url":"https://api.github.com/users/GSharayu/orgs","repos_url":"https://api.github.com/users/GSharayu/repos","events_url":"https://api.github.com/users/GSharayu/events{/privacy}","received_events_url":"https://api.github.com/users/GSharayu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T18:48:32Z","updated_at":"2022-10-21T18:48:32Z","author_association":"CONTRIBUTOR","body":"Thanks for the fix!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287323841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287366504","html_url":"https://github.com/apache/pinot/pull/9638#issuecomment-1287366504","issue_url":"https://api.github.com/repos/apache/pinot/issues/9638","id":1287366504,"node_id":"IC_kwDOATCU_c5Mu6do","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T19:40:52Z","updated_at":"2022-10-21T19:40:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/pinot/pull/9638?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#9638](https://codecov.io/gh/apache/pinot/pull/9638?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0f4b53b) into [master](https://codecov.io/gh/apache/pinot/commit/fafb518f757cdfeb198c3b4accd0c72b97e9d72c?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fafb518) will **increase** coverage by `40.40%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@              Coverage Diff              @@\n##             master    #9638       +/-   ##\n=============================================\n+ Coverage     28.06%   68.47%   +40.40%     \n- Complexity       53     5307     +5254     \n=============================================\n  Files          1935     1947       +12     \n  Lines        103815   104168      +353     \n  Branches      15757    15795       +38     \n=============================================\n+ Hits          29134    71327    +42193     \n+ Misses        71808    27779    -44029     \n- Partials       2873     5062     +2189     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| integration1 | `?` | |\n| integration2 | `24.57% <ø> (+0.01%)` | :arrow_up: |\n| unittests1 | `67.34% <ø> (?)` | |\n| unittests2 | `15.68% <ø> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/pinot/pull/9638?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...oller/api/resources/PinotTableRestletResource.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvcmVzb3VyY2VzL1Bpbm90VGFibGVSZXN0bGV0UmVzb3VyY2UuamF2YQ==) | `55.17% <ø> (+31.83%)` | :arrow_up: |\n| [...pinot/minion/exception/TaskCancelledException.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vZXhjZXB0aW9uL1Rhc2tDYW5jZWxsZWRFeGNlcHRpb24uamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...nverttorawindex/ConvertToRawIndexTaskExecutor.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvY29udmVydHRvcmF3aW5kZXgvQ29udmVydFRvUmF3SW5kZXhUYXNrRXhlY3V0b3IuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...e/pinot/common/minion/MergeRollupTaskMetadata.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWluaW9uL01lcmdlUm9sbHVwVGFza01ldGFkYXRhLmphdmE=) | `0.00% <0.00%> (-94.74%)` | :arrow_down: |\n| [...plugin/segmentuploader/SegmentUploaderDefault.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1zZWdtZW50LXVwbG9hZGVyL3Bpbm90LXNlZ21lbnQtdXBsb2FkZXItZGVmYXVsdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvcGx1Z2luL3NlZ21lbnR1cGxvYWRlci9TZWdtZW50VXBsb2FkZXJEZWZhdWx0LmphdmE=) | `0.00% <0.00%> (-87.10%)` | :arrow_down: |\n| [.../transform/function/MapValueTransformFunction.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vTWFwVmFsdWVUcmFuc2Zvcm1GdW5jdGlvbi5qYXZh) | `0.00% <0.00%> (-85.30%)` | :arrow_down: |\n| [...ot/common/messages/RoutingTableRebuildMessage.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWVzc2FnZXMvUm91dGluZ1RhYmxlUmVidWlsZE1lc3NhZ2UuamF2YQ==) | `0.00% <0.00%> (-81.82%)` | :arrow_down: |\n| [...data/manager/realtime/DefaultSegmentCommitter.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvRGVmYXVsdFNlZ21lbnRDb21taXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-80.00%)` | :arrow_down: |\n| [...verttorawindex/ConvertToRawIndexTaskGenerator.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtcGx1Z2lucy9waW5vdC1taW5pb24tdGFza3MvcGlub3QtbWluaW9uLWJ1aWx0aW4tdGFza3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3Bpbm90L3BsdWdpbi9taW5pb24vdGFza3MvY29udmVydHRvcmF3aW5kZXgvQ29udmVydFRvUmF3SW5kZXhUYXNrR2VuZXJhdG9yLmphdmE=) | `5.45% <0.00%> (-80.00%)` | :arrow_down: |\n| [...ache/pinot/common/lineage/SegmentLineageUtils.java](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbGluZWFnZS9TZWdtZW50TGluZWFnZVV0aWxzLmphdmE=) | `22.22% <0.00%> (-77.78%)` | :arrow_down: |\n| ... and [1388 more](https://codecov.io/gh/apache/pinot/pull/9638/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287366504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287458739","html_url":"https://github.com/apache/pinot/issues/9204#issuecomment-1287458739","issue_url":"https://api.github.com/repos/apache/pinot/issues/9204","id":1287458739,"node_id":"IC_kwDOATCU_c5MvQ-z","user":{"login":"nizarhejazi","id":96436550,"node_id":"U_kgDOBb-BRg","avatar_url":"https://avatars.githubusercontent.com/u/96436550?v=4","gravatar_id":"","url":"https://api.github.com/users/nizarhejazi","html_url":"https://github.com/nizarhejazi","followers_url":"https://api.github.com/users/nizarhejazi/followers","following_url":"https://api.github.com/users/nizarhejazi/following{/other_user}","gists_url":"https://api.github.com/users/nizarhejazi/gists{/gist_id}","starred_url":"https://api.github.com/users/nizarhejazi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nizarhejazi/subscriptions","organizations_url":"https://api.github.com/users/nizarhejazi/orgs","repos_url":"https://api.github.com/users/nizarhejazi/repos","events_url":"https://api.github.com/users/nizarhejazi/events{/privacy}","received_events_url":"https://api.github.com/users/nizarhejazi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-21T21:34:44Z","updated_at":"2022-10-21T21:34:44Z","author_association":"CONTRIBUTOR","body":"@walterddr @Jackie-Jiang Is there any way we can support a Split function in Pinot that splits a text based on a delimiter and returns an array/MV?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287458739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287654395","html_url":"https://github.com/apache/pinot/issues/9204#issuecomment-1287654395","issue_url":"https://api.github.com/repos/apache/pinot/issues/9204","id":1287654395,"node_id":"IC_kwDOATCU_c5MwAv7","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T07:03:17Z","updated_at":"2022-10-22T07:03:17Z","author_association":"CONTRIBUTOR","body":"@nizarhejazi I think it is already supported as a scalar function `split`. See `StringFunctions.split()`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287654395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287946215","html_url":"https://github.com/apache/pinot/pull/9501#issuecomment-1287946215","issue_url":"https://api.github.com/repos/apache/pinot/issues/9501","id":1287946215,"node_id":"IC_kwDOATCU_c5MxH_n","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-22T23:25:59Z","updated_at":"2022-10-22T23:25:59Z","author_association":"MEMBER","body":"I was about to suggest the same as Rong. Given that we are going toward s postgres with joins, let's emulate the functions as well.\n\nhttps://www.postgresql.org/docs/current/functions-net.html","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/1287946215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]