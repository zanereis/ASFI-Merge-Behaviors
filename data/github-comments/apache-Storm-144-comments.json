[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683015","html_url":"https://github.com/apache/storm/issues/5200#issuecomment-2612683015","issue_url":"https://api.github.com/repos/apache/storm/issues/5200","id":2612683015,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODMwMTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T17:32:08Z","updated_at":"2025-01-24T14:37:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user ashnazg opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/918\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/918</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1365\" title=\"Small improvements in Travis scripts\" class=\"issue-link\" data-issue-key=\"STORM-1365\"><del>STORM-1365</del></a>:  Small improvements in Travis scripts</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/ashnazg/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/ashnazg/storm</a> travisImprov</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/918.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/918.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #918</p>\n\n<hr />\n<p>commit 365c340f655d7f20a533e5198df7e85bc737fbbf<br/>\nAuthor: Chuck Burgess <cburgess@progressrail.com><br/>\nDate:   2015-12-03T17:22:33Z</p>\n\n<p>    only show relevant tool versions for install step;</p>\n\n<p>commit 4e585389281916dc9ac2bf00aa2fd5800b3de414<br/>\nAuthor: Chuck Burgess <cburgess@progressrail.com><br/>\nDate:   2015-12-03T17:22:59Z</p>\n\n<p>    simplify tool version echoes;</p>\n\n<p>commit 0f922df8068ccf5209f28edfc046dbef4418e773<br/>\nAuthor: Chuck Burgess <cburgess@progressrail.com><br/>\nDate:   2015-12-03T17:23:55Z</p>\n\n<p>    RAT checks already happen in install step, thus here they are dead code;</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612632999","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612632999","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612632999,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzI5OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T17:41:20Z","updated_at":"2025-01-24T14:14:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user fhussonnois commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#discussion_r46584477\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#discussion_r46584477</a></p>\n\n<p>    &#8212; Diff: external/storm-cassandra/src/main/java/org/apache/storm/cassandra/trident/state/CassandraState.java &#8212;<br/>\n    @@ -0,0 +1,149 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.cassandra.trident.state;<br/>\n    +<br/>\n    +import backtype.storm.task.IMetricsContext;<br/>\n    +import backtype.storm.topology.FailedException;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import com.datastax.driver.core.BatchStatement;<br/>\n    +import com.datastax.driver.core.Session;<br/>\n    +import com.datastax.driver.core.Statement;<br/>\n    +import com.google.common.base.Preconditions;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClient;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClientProvider;<br/>\n    +import org.apache.storm.cassandra.query.CQLResultSetValuesMapper;<br/>\n    +import org.apache.storm.cassandra.query.CQLStatementTupleMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import storm.trident.operation.TridentCollector;<br/>\n    +import storm.trident.state.State;<br/>\n    +import storm.trident.tuple.TridentTuple;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + *<br/>\n    + */<br/>\n    +public class CassandraState implements State {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(CassandraState.class);<br/>\n    +<br/>\n    +    private final Map conf;<br/>\n    +    private final Options options;<br/>\n    +<br/>\n    +    private Session session;<br/>\n    +    private SimpleClient client;<br/>\n    +<br/>\n    +    public CassandraState(Map conf, IMetricsContext metrics, int partitionIndex, int numPartitions, Options options) </p>\n{\n    +this.conf = conf;\n    +this.options = options;\n    +    }\n<p>    +<br/>\n    +    public static final class Options implements Serializable {<br/>\n    +private final SimpleClientProvider clientProvider;<br/>\n    +private CQLStatementTupleMapper cqlStatementTupleMapper;<br/>\n    +private CQLResultSetValuesMapper cqlResultSetValuesMapper;<br/>\n    +private BatchStatement.Type batchingType = BatchStatement.Type.LOGGED;<br/>\n    +<br/>\n    +<br/>\n    +public Options(SimpleClientProvider clientProvider) </p>\n{\n    +    this.clientProvider = clientProvider;\n    +}\n<p>    +<br/>\n    +public Options withCQLStatementTupleMapper(CQLStatementTupleMapper cqlStatementTupleMapper) </p>\n{\n    +    this.cqlStatementTupleMapper = cqlStatementTupleMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withCQLResultSetValuesMapper(CQLResultSetValuesMapper cqlResultSetValuesMapper) </p>\n{\n    +    this.cqlResultSetValuesMapper = cqlResultSetValuesMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withBatching(BatchStatement.Type batchingType) </p>\n{\n    +    this.batchingType = batchingType;\n    +    return this;\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) </p>\n{\n    +LOG.debug(\"beginCommit is noop\");\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void commit(Long txid) </p>\n{\n    +LOG.debug(\"commit is noop\");\n    +    }\n<p>    +<br/>\n    +    public void prepare() </p>\n{\n    +Preconditions.checkNotNull(options.cqlStatementTupleMapper, \"CassandraState.Options should have cqlStatementTupleMapper\");\n    +\n    +client = options.clientProvider.getClient(conf);\n    +session = client.connect();\n    +    }\n<p>    +<br/>\n    +    public void cleanup() </p>\n{\n    +session.close();\n    +client.close();\n    +    }\n<p>    +<br/>\n    +    public void updateState(List<TridentTuple> tuples, final TridentCollector collector) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I think async writes should be used to update state. In cassandra batch statements must not be used to improved write performance. In addition, Cassandra will warn if the batch size is too large and this may lead to an overloading of the cluster. Batches must only be used to make few writes atomic.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612632999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161728319","html_url":"https://github.com/apache/storm/pull/916#issuecomment-161728319","issue_url":"https://api.github.com/repos/apache/storm/issues/916","id":161728319,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTcyODMxOQ==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T17:45:56Z","updated_at":"2015-12-03T17:45:56Z","author_association":"NONE","body":"```\ntestPollWhileThereAreNoDataAvailable(backtype.storm.utils.ShellBoltMessageQueueTest)  Time elapsed: 1.005 sec  <<< FAILURE!\njunit.framework.AssertionFailedError: null\n    at junit.framework.Assert.fail(Assert.java:55)\n    at junit.framework.Assert.assertTrue(Assert.java:22)\n    at junit.framework.Assert.assertTrue(Assert.java:31)\n    at junit.framework.TestCase.assertTrue(TestCase.java:201)\n    at backtype.storm.utils.ShellBoltMessageQueueTest.testPollWhileThereAreNoDataAvailable(ShellBoltMessageQueueTest.java:55)\n```\n\nThis is the test I see failing both in this pull request and also on my travis\nci setup.\n\nIt does not seem related to my changes, but it is causing the overall check to\nfail for storm-core, and that causes the other modules not to be tested.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161728319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682852","html_url":"https://github.com/apache/storm/issues/5199#issuecomment-2612682852","issue_url":"https://api.github.com/repos/apache/storm/issues/5199","id":2612682852,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODI4NTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T17:45:56Z","updated_at":"2025-01-24T14:37:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/916#issuecomment-161728319\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916#issuecomment-161728319</a></p>\n\n<p>    ```<br/>\n    testPollWhileThereAreNoDataAvailable(backtype.storm.utils.ShellBoltMessageQueueTest)  Time elapsed: 1.005 sec  <<< FAILURE!<br/>\n    junit.framework.AssertionFailedError: null<br/>\n    \tat junit.framework.Assert.fail(Assert.java:55)<br/>\n    \tat junit.framework.Assert.assertTrue(Assert.java:22)<br/>\n    \tat junit.framework.Assert.assertTrue(Assert.java:31)<br/>\n    \tat junit.framework.TestCase.assertTrue(TestCase.java:201)<br/>\n    \tat backtype.storm.utils.ShellBoltMessageQueueTest.testPollWhileThereAreNoDataAvailable(ShellBoltMessageQueueTest.java:55)<br/>\n    ```</p>\n\n<p>    This is the test I see failing both in this pull request and also on my travis<br/>\n    ci setup.</p>\n\n<p>    It does not seem related to my changes, but it is causing the overall check to<br/>\n    fail for storm-core, and that causes the other modules not to be tested.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612631551","html_url":"https://github.com/apache/storm/issues/5039#issuecomment-2612631551","issue_url":"https://api.github.com/repos/apache/storm/issues/5039","id":2612631551,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzE1NTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:11:31Z","updated_at":"2025-01-24T14:14:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user haohui closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/910\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/910</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612631551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161735759","html_url":"https://github.com/apache/storm/pull/910#issuecomment-161735759","issue_url":"https://api.github.com/repos/apache/storm/issues/910","id":161735759,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTczNTc1OQ==","user":{"login":"haohui","id":1192828,"node_id":"MDQ6VXNlcjExOTI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1192828?v=4","gravatar_id":"","url":"https://api.github.com/users/haohui","html_url":"https://github.com/haohui","followers_url":"https://api.github.com/users/haohui/followers","following_url":"https://api.github.com/users/haohui/following{/other_user}","gists_url":"https://api.github.com/users/haohui/gists{/gist_id}","starred_url":"https://api.github.com/users/haohui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haohui/subscriptions","organizations_url":"https://api.github.com/users/haohui/orgs","repos_url":"https://api.github.com/users/haohui/repos","events_url":"https://api.github.com/users/haohui/events{/privacy}","received_events_url":"https://api.github.com/users/haohui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:12:12Z","updated_at":"2015-12-03T18:12:12Z","author_association":"NONE","body":"The effort has been folded in #914 \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161735759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612631557","html_url":"https://github.com/apache/storm/issues/5039#issuecomment-2612631557","issue_url":"https://api.github.com/repos/apache/storm/issues/5039","id":2612631557,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzE1NTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:12:14Z","updated_at":"2025-01-24T14:14:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user haohui commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/910#issuecomment-161735759\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/910#issuecomment-161735759</a></p>\n\n<p>    The effort has been folded in #914 </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612631557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161735900","html_url":"https://github.com/apache/storm/pull/906#issuecomment-161735900","issue_url":"https://api.github.com/repos/apache/storm/issues/906","id":161735900,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTczNTkwMA==","user":{"login":"haohui","id":1192828,"node_id":"MDQ6VXNlcjExOTI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1192828?v=4","gravatar_id":"","url":"https://api.github.com/users/haohui","html_url":"https://github.com/haohui","followers_url":"https://api.github.com/users/haohui/followers","following_url":"https://api.github.com/users/haohui/following{/other_user}","gists_url":"https://api.github.com/users/haohui/gists{/gist_id}","starred_url":"https://api.github.com/users/haohui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haohui/subscriptions","organizations_url":"https://api.github.com/users/haohui/orgs","repos_url":"https://api.github.com/users/haohui/repos","events_url":"https://api.github.com/users/haohui/events{/privacy}","received_events_url":"https://api.github.com/users/haohui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:12:52Z","updated_at":"2015-12-03T18:12:52Z","author_association":"NONE","body":"The effort has been folded into #914 \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161735900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612681820","html_url":"https://github.com/apache/storm/issues/5192#issuecomment-2612681820","issue_url":"https://api.github.com/repos/apache/storm/issues/5192","id":2612681820,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODE4MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:12:54Z","updated_at":"2025-01-24T14:36:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user haohui commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/906#issuecomment-161735900\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/906#issuecomment-161735900</a></p>\n\n<p>    The effort has been folded into #914 </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612681820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612681828","html_url":"https://github.com/apache/storm/issues/5192#issuecomment-2612681828","issue_url":"https://api.github.com/repos/apache/storm/issues/5192","id":2612681828,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODE4Mjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:12:55Z","updated_at":"2025-01-24T14:36:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user haohui closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/906\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/906</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612681828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633005","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612633005","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612633005,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzMwMDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:13:08Z","updated_at":"2025-01-24T14:14:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#discussion_r46588452\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#discussion_r46588452</a></p>\n\n<p>    &#8212; Diff: external/storm-cassandra/src/main/java/org/apache/storm/cassandra/trident/state/CassandraState.java &#8212;<br/>\n    @@ -0,0 +1,149 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.cassandra.trident.state;<br/>\n    +<br/>\n    +import backtype.storm.task.IMetricsContext;<br/>\n    +import backtype.storm.topology.FailedException;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import com.datastax.driver.core.BatchStatement;<br/>\n    +import com.datastax.driver.core.Session;<br/>\n    +import com.datastax.driver.core.Statement;<br/>\n    +import com.google.common.base.Preconditions;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClient;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClientProvider;<br/>\n    +import org.apache.storm.cassandra.query.CQLResultSetValuesMapper;<br/>\n    +import org.apache.storm.cassandra.query.CQLStatementTupleMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import storm.trident.operation.TridentCollector;<br/>\n    +import storm.trident.state.State;<br/>\n    +import storm.trident.tuple.TridentTuple;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + *<br/>\n    + */<br/>\n    +public class CassandraState implements State {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(CassandraState.class);<br/>\n    +<br/>\n    +    private final Map conf;<br/>\n    +    private final Options options;<br/>\n    +<br/>\n    +    private Session session;<br/>\n    +    private SimpleClient client;<br/>\n    +<br/>\n    +    public CassandraState(Map conf, IMetricsContext metrics, int partitionIndex, int numPartitions, Options options) </p>\n{\n    +this.conf = conf;\n    +this.options = options;\n    +    }\n<p>    +<br/>\n    +    public static final class Options implements Serializable {<br/>\n    +private final SimpleClientProvider clientProvider;<br/>\n    +private CQLStatementTupleMapper cqlStatementTupleMapper;<br/>\n    +private CQLResultSetValuesMapper cqlResultSetValuesMapper;<br/>\n    +private BatchStatement.Type batchingType = BatchStatement.Type.LOGGED;<br/>\n    +<br/>\n    +<br/>\n    +public Options(SimpleClientProvider clientProvider) </p>\n{\n    +    this.clientProvider = clientProvider;\n    +}\n<p>    +<br/>\n    +public Options withCQLStatementTupleMapper(CQLStatementTupleMapper cqlStatementTupleMapper) </p>\n{\n    +    this.cqlStatementTupleMapper = cqlStatementTupleMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withCQLResultSetValuesMapper(CQLResultSetValuesMapper cqlResultSetValuesMapper) </p>\n{\n    +    this.cqlResultSetValuesMapper = cqlResultSetValuesMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withBatching(BatchStatement.Type batchingType) </p>\n{\n    +    this.batchingType = batchingType;\n    +    return this;\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) </p>\n{\n    +LOG.debug(\"beginCommit is noop\");\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void commit(Long txid) </p>\n{\n    +LOG.debug(\"commit is noop\");\n    +    }\n<p>    +<br/>\n    +    public void prepare() </p>\n{\n    +Preconditions.checkNotNull(options.cqlStatementTupleMapper, \"CassandraState.Options should have cqlStatementTupleMapper\");\n    +\n    +client = options.clientProvider.getClient(conf);\n    +session = client.connect();\n    +    }\n<p>    +<br/>\n    +    public void cleanup() </p>\n{\n    +session.close();\n    +client.close();\n    +    }\n<p>    +<br/>\n    +    public void updateState(List<TridentTuple> tuples, final TridentCollector collector) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    The reason for using sync write is if it fails we want these Exceptions to be thrown back and retried like the way JDBC connector does. If we do not do batching then update could be partial when some of those statements fail to execute.</p>\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612598992","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612598992","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612598992,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTg5OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:14:33Z","updated_at":"2025-01-24T14:00:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user haohui closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/914\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/914</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612598992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161736488","html_url":"https://github.com/apache/storm/pull/845#issuecomment-161736488","issue_url":"https://api.github.com/repos/apache/storm/issues/845","id":161736488,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTczNjQ4OA==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:15:33Z","updated_at":"2015-12-03T18:15:33Z","author_association":"MEMBER","body":"@redsanket First of all thank you for contributing this and making it through the most epic code review we've had to date. :)\n\nI'm +1 for merging this as is, but I'd like to see two follow up tasks (can be handled as separate JIRAs):\n1. Merge the contents of the DISTCACHE.md and design document attached to the JIRA and add them to Storm's documentation.\n2. Add an example topology to storm-starter (e.g. one with a bolt that uses the blobstore to lookup values from a sample file, etc. that may change over time).\n\nWe should probably address those 2 items before a 1.0 release.\n\nThis is a big addition. I'd encourage other committers to review this as well, if for no other reason than to familiarize yourself with the functionality that's being added.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161736488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612598996","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612598996","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612598996,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTg5OTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:18:59Z","updated_at":"2025-01-24T14:00:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user haohui opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/919\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/919</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1040\" title=\"SQL support for Storm Phase I - Supporting filtering and projection SQL queries\" class=\"issue-link\" data-issue-key=\"STORM-1040\"><del>STORM-1040</del></a>. SQL support for Storm</p>\n\n<p>    This is a duplicate of #914.</p>\n\n<p>    This PR rebases all the changes in the <a href=\"https://issues.apache.org/jira/browse/STORM-1040\" title=\"SQL support for Storm Phase I - Supporting filtering and projection SQL queries\" class=\"issue-link\" data-issue-key=\"STORM-1040\"><del>STORM-1040</del></a> branch towards the latest master.</p>\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/haohui/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/haohui/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1040\" title=\"SQL support for Storm Phase I - Supporting filtering and projection SQL queries\" class=\"issue-link\" data-issue-key=\"STORM-1040\"><del>STORM-1040</del></a>-merge</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/919.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/919.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #919</p>\n\n<hr />\n<p>commit 0be362cfcd23abfc8479421126f0301f3909f5e5<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-09-15T16:30:50Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1045\" title=\"Parse CREATE TABLE statements\" class=\"issue-link\" data-issue-key=\"STORM-1045\"><del>STORM-1045</del></a>. Parse CREATE TABLE statements.</p>\n\n<p>commit ba1ee14fdf8901f9bbcbc1331e0006e874f6f036<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-09-22T23:12:12Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1060\" title=\"Serialize Calcite plans into JSON format\" class=\"issue-link\" data-issue-key=\"STORM-1060\"><del>STORM-1060</del></a>. Implement PostOrderRelNodeVisitor.</p>\n\n<p>commit 58614ea127522e072effe39d328abb5a79fec14f<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-10-22T23:42:24Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> Implement compiler for expressions.</p>\n\n<p>commit 372885322d954196c7e4dde0a6b213c5d19f0933<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-10-22T23:45:20Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> Implement compiler for relation nodes.</p>\n\n<p>commit 4ca6b76303d43846a2ceae35a72629df61b0183a<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-10-22T23:52:59Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> Compile logical plans to Java code.</p>\n\n<p>commit 0442c5f003ba83fb780df128d72a8137a5d93c77<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-10-27T00:29:20Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1130\" title=\"Support AND, OR and NOT operators in StormSQL\" class=\"issue-link\" data-issue-key=\"STORM-1130\"><del>STORM-1130</del></a>. Support AND, OR, NOT operators in StormSQL.</p>\n\n<p>commit 8720d15df2de167d0fbf96a92e93f68338219fd1<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-02T23:35:29Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1149\" title=\"Support pluggable data sources in CREATE TABLE\" class=\"issue-link\" data-issue-key=\"STORM-1149\"><del>STORM-1149</del></a>. Support pluggable data sources in CREATE TABLE.</p>\n\n<p>commit c33ec160886fc20da0198d4f99eb7a4d661e3569<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-03T23:06:22Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> Implement IS operators in StormSQL.</p>\n\n<p>commit 97119b6ec416cc1b9571f701e1ec58c5e788f74f<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-04T17:24:32Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> Implement nullable semantics for AND, OR and NOT operators.</p>\n\n<p>commit 864e3c1f158d8a3f6e927c824be5a63753328de9<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-04T23:51:11Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1173\" title=\"Support string operations in StormSQL\" class=\"issue-link\" data-issue-key=\"STORM-1173\"><del>STORM-1173</del></a>. Support string operations in StormSQL.</p>\n\n<p>commit 4103680f34ccf5ceb3f0c87813e7ccc894fe12bb<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-05T02:36:59Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1159\" title=\"Support nullable operations in StormSQL\" class=\"issue-link\" data-issue-key=\"STORM-1159\"><del>STORM-1159</del></a>. Support nullable operations in StormSQL.</p>\n\n<p>commit 8bb689b99ac3d6b1d0b66775316f52e0adba5697<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-06T23:50:31Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> Refactor to support compiling StormSQL to Trident topology.</p>\n\n<p>commit 779b0c9f58a2e664aff042e880a17a9308c45c94<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-11T18:03:07Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> Allow deserializing Java class with custom classloaders in tests.</p>\n\n<p>commit ebc28bacdd001df2178e1ff09e80e7f678702d05<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-11T22:23:14Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1200\" title=\"Support collations of primary keys\" class=\"issue-link\" data-issue-key=\"STORM-1200\"><del>STORM-1200</del></a>. Support collations of primary keys.</p>\n\n<p>commit 304820aa41da8f6e111512981286e1a43222b697<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-16T22:48:43Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1181\" title=\"Compile SQLs into Tridient topology and execute them in LocalCluster\" class=\"issue-link\" data-issue-key=\"STORM-1181\"><del>STORM-1181</del></a>. Compile SQLs into Tridient topology and execute them in LocalCluster.</p>\n\n<p>commit c00b49860a9e634e836ebd56eb0819e9b7e6279b<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-11-19T22:09:26Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1222\" title=\"Support Kafka as external tables in StormSQL\" class=\"issue-link\" data-issue-key=\"STORM-1222\"><del>STORM-1222</del></a>. Support Kafka as external tables in StormSQL.</p>\n\n<p>commit 8e58b5f1c97ceac24e8ed3f205bd28e39212dfb8<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-12-01T02:58:29Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1357\" title=\"Support writing to Kafka streams in Storm SQL\" class=\"issue-link\" data-issue-key=\"STORM-1357\"><del>STORM-1357</del></a>. Support writing to Kafka streams in Storm SQL.</p>\n\n<p>commit 0df1e4505d6d6be2e1fda3a94f1582fe5a52ae6b<br/>\nAuthor: Haohui Mai <wheat9@apache.org><br/>\nDate:   2015-12-02T09:02:28Z</p>\n\n<p>    <span class=\"error\">&#91;StormSQL&#93;</span> <a href=\"https://issues.apache.org/jira/browse/STORM-1201\" title=\"Support distributed deployment in StormSQL\" class=\"issue-link\" data-issue-key=\"STORM-1201\"><del>STORM-1201</del></a>. Support distributed deployment in StormSQL.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612598996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161738187","html_url":"https://github.com/apache/storm/pull/914#issuecomment-161738187","issue_url":"https://api.github.com/repos/apache/storm/issues/914","id":161738187,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTczODE4Nw==","user":{"login":"haohui","id":1192828,"node_id":"MDQ6VXNlcjExOTI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1192828?v=4","gravatar_id":"","url":"https://api.github.com/users/haohui","html_url":"https://github.com/haohui","followers_url":"https://api.github.com/users/haohui/followers","following_url":"https://api.github.com/users/haohui/following{/other_user}","gists_url":"https://api.github.com/users/haohui/gists{/gist_id}","starred_url":"https://api.github.com/users/haohui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haohui/subscriptions","organizations_url":"https://api.github.com/users/haohui/orgs","repos_url":"https://api.github.com/users/haohui/repos","events_url":"https://api.github.com/users/haohui/events{/privacy}","received_events_url":"https://api.github.com/users/haohui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:22:11Z","updated_at":"2015-12-03T18:22:11Z","author_association":"NONE","body":"For some reasons I can't reopen this PR now. Created #919 as a duplicate for this PR.\n\nThanks everybody for the comments. I have addressed them in the latest PR.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161738187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599001","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612599001","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612599001,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTkwMDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:22:12Z","updated_at":"2025-01-24T14:00:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user haohui commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/914#issuecomment-161738187\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/914#issuecomment-161738187</a></p>\n\n<p>    For some reasons I can't reopen this PR now. Created #919 as a duplicate for this PR.</p>\n\n<p>    Thanks everybody for the comments. I have addressed them in the latest PR.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161738212","html_url":"https://github.com/apache/storm/pull/897#issuecomment-161738212","issue_url":"https://api.github.com/repos/apache/storm/issues/897","id":161738212,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTczODIxMg==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:22:17Z","updated_at":"2015-12-03T18:22:17Z","author_association":"NONE","body":"@HeartSaVioR , @revans2 \n\nI am seeing repeatable test errors like [this one](https://github.com/apache/storm/pull/916#issuecomment-161728319) happening in the TravisCI environment after this was merged.  I tested master branch with these changes reverted, and [the test passed on the first try](https://travis-ci.org/d2r/storm/builds/94696264).\n\nIf we can confirm this is happening for others, I would be in favor of reverting this change until we can fix the test that is causing problems.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161738212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537816","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537816","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537816,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:22:18Z","updated_at":"2025-01-24T13:30:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/897#issuecomment-161738212\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/897#issuecomment-161738212</a></p>\n\n<p>    @HeartSaVioR , @revans2 </p>\n\n<p>    I am seeing repeatable test errors like <span class=\"error\">&#91;this one&#93;</span>(<a href=\"https://github.com/apache/storm/pull/916#issuecomment-161728319\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916#issuecomment-161728319</a>) happening in the TravisCI environment after this was merged.  I tested master branch with these changes reverted, and <span class=\"error\">&#91;the test passed on the first try&#93;</span>(<a href=\"https://travis-ci.org/d2r/storm/builds/94696264\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://travis-ci.org/d2r/storm/builds/94696264</a>).</p>\n\n<p>    If we can confirm this is happening for others, I would be in favor of reverting this change until we can fix the test that is causing problems.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161738550","html_url":"https://github.com/apache/storm/pull/914#issuecomment-161738550","issue_url":"https://api.github.com/repos/apache/storm/issues/914","id":161738550,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTczODU1MA==","user":{"login":"haohui","id":1192828,"node_id":"MDQ6VXNlcjExOTI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1192828?v=4","gravatar_id":"","url":"https://api.github.com/users/haohui","html_url":"https://github.com/haohui","followers_url":"https://api.github.com/users/haohui/followers","following_url":"https://api.github.com/users/haohui/following{/other_user}","gists_url":"https://api.github.com/users/haohui/gists{/gist_id}","starred_url":"https://api.github.com/users/haohui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haohui/subscriptions","organizations_url":"https://api.github.com/users/haohui/orgs","repos_url":"https://api.github.com/users/haohui/repos","events_url":"https://api.github.com/users/haohui/events{/privacy}","received_events_url":"https://api.github.com/users/haohui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:23:34Z","updated_at":"2015-12-03T18:23:34Z","author_association":"NONE","body":"Currently the implementation does not support any aggregation (i.e., count, sum, max) yet. It will be added once StormSQL supports windowing.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161738550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599007","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612599007","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612599007,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTkwMDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:23:35Z","updated_at":"2025-01-24T14:00:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user haohui commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/914#issuecomment-161738550\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/914#issuecomment-161738550</a></p>\n\n<p>    Currently the implementation does not support any aggregation (i.e., count, sum, max) yet. It will be added once StormSQL supports windowing.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161739455","html_url":"https://github.com/apache/storm/pull/919#issuecomment-161739455","issue_url":"https://api.github.com/repos/apache/storm/issues/919","id":161739455,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTczOTQ1NQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:27:14Z","updated_at":"2015-12-03T18:27:14Z","author_association":"CONTRIBUTOR","body":"still +1 from me.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161739455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599012","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612599012","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612599012,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTkwMTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T18:27:16Z","updated_at":"2025-01-24T14:00:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/919#issuecomment-161739455\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/919#issuecomment-161739455</a></p>\n\n<p>    still +1 from me.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161749191","html_url":"https://github.com/apache/storm/pull/897#issuecomment-161749191","issue_url":"https://api.github.com/repos/apache/storm/issues/897","id":161749191,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc0OTE5MQ==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T19:05:45Z","updated_at":"2015-12-03T19:05:45Z","author_association":"NONE","body":"Found this also happened in #918, so it is probably affecting all test runs on pull requests going to master. I am -1 on this PR and will revert shortly.  We can merge it again once the tests are fixed.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161749191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537819","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537819","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537819,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4MTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T19:05:46Z","updated_at":"2025-01-24T13:30:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/897#issuecomment-161749191\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/897#issuecomment-161749191</a></p>\n\n<p>    Found this also happened in #918, so it is probably affecting all test runs on pull requests going to master. I am -1 on this PR and will revert shortly.  We can merge it again once the tests are fixed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683028","html_url":"https://github.com/apache/storm/issues/5200#issuecomment-2612683028","issue_url":"https://api.github.com/repos/apache/storm/issues/5200","id":2612683028,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODMwMjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T19:10:48Z","updated_at":"2025-01-24T14:37:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/918#discussion_r46596000\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/918#discussion_r46596000</a></p>\n\n<p>    &#8212; Diff: dev-tools/travis/travis-script.sh &#8212;<br/>\n    @@ -31,7 +25,6 @@ cd ${STORM_SRC_ROOT_DIR}</p>\n<ol>\n\t<li>We should be concerned that Travis CI could be very slow because it uses VM<br/>\n     export STORM_TEST_TIMEOUT_MS=150000</li>\n</ol>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>\n\t<ol>\n\t\t<li>We now lean on Travis CI's implicit behavior, ```mvn clean install -DskipTests``` before running script\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ol>\n\t</li>\n</ul>\n\n\n<p>    Was this comment incorrect or unhelpful?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537821","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537821","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537821,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T19:22:47Z","updated_at":"2025-01-24T13:30:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagit\">dagit</a>:</i>\n<p>Reopening since the original change had to be reverted.  We just need to fix the failing test, and then it can go back in.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161755488","html_url":"https://github.com/apache/storm/pull/918#issuecomment-161755488","issue_url":"https://api.github.com/repos/apache/storm/issues/918","id":161755488,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc1NTQ4OA==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T19:31:11Z","updated_at":"2015-12-03T19:31:11Z","author_association":"NONE","body":"Seems OK to me.  I think the test failure was unrelated.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161755488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683039","html_url":"https://github.com/apache/storm/issues/5200#issuecomment-2612683039","issue_url":"https://api.github.com/repos/apache/storm/issues/5200","id":2612683039,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODMwMzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T19:31:12Z","updated_at":"2025-01-24T14:37:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/918#issuecomment-161755488\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/918#issuecomment-161755488</a></p>\n\n<p>    Seems OK to me.  I think the test failure was unrelated.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161767472","html_url":"https://github.com/apache/storm/pull/915#issuecomment-161767472","issue_url":"https://api.github.com/repos/apache/storm/issues/915","id":161767472,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc2NzQ3Mg==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T20:04:22Z","updated_at":"2015-12-03T20:04:22Z","author_association":"CONTRIBUTOR","body":"You need to provide a `MapState` implementation as well for this to be used with `groupby`. Most of the other connectors have a MapState implementation.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161767472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633014","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612633014","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612633014,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzMwMTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T20:04:23Z","updated_at":"2025-01-24T14:14:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#issuecomment-161767472\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#issuecomment-161767472</a></p>\n\n<p>    You need to provide a `MapState` implementation as well for this to be used with `groupby`. Most of the other connectors have a MapState implementation.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633017","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612633017","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612633017,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzMwMTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T20:09:17Z","updated_at":"2025-01-24T14:14:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#discussion_r46604353\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#discussion_r46604353</a></p>\n\n<p>    &#8212; Diff: external/storm-cassandra/src/main/java/org/apache/storm/cassandra/trident/state/CassandraState.java &#8212;<br/>\n    @@ -0,0 +1,154 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.cassandra.trident.state;<br/>\n    +<br/>\n    +import backtype.storm.task.IMetricsContext;<br/>\n    +import backtype.storm.topology.FailedException;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import com.datastax.driver.core.BatchStatement;<br/>\n    +import com.datastax.driver.core.Session;<br/>\n    +import com.datastax.driver.core.Statement;<br/>\n    +import com.google.common.base.Preconditions;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClient;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClientProvider;<br/>\n    +import org.apache.storm.cassandra.query.CQLResultSetValuesMapper;<br/>\n    +import org.apache.storm.cassandra.query.CQLStatementTupleMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import storm.trident.operation.TridentCollector;<br/>\n    +import storm.trident.state.State;<br/>\n    +import storm.trident.tuple.TridentTuple;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + *<br/>\n    + */<br/>\n    +public class CassandraState implements State {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(CassandraState.class);<br/>\n    +<br/>\n    +    private final Map conf;<br/>\n    +    private final Options options;<br/>\n    +<br/>\n    +    private Session session;<br/>\n    +    private SimpleClient client;<br/>\n    +<br/>\n    +    public CassandraState(Map conf, IMetricsContext metrics, int partitionIndex, int numPartitions, Options options) </p>\n{\n    +this.conf = conf;\n    +this.options = options;\n    +    }\n<p>    +<br/>\n    +    public static final class Options implements Serializable {<br/>\n    +private final SimpleClientProvider clientProvider;<br/>\n    +private CQLStatementTupleMapper cqlStatementTupleMapper;<br/>\n    +private CQLResultSetValuesMapper cqlResultSetValuesMapper;<br/>\n    +private BatchStatement.Type batchingType = BatchStatement.Type.LOGGED;<br/>\n    +<br/>\n    +<br/>\n    +public Options(SimpleClientProvider clientProvider) </p>\n{\n    +    this.clientProvider = clientProvider;\n    +}\n<p>    +<br/>\n    +public Options withCQLStatementTupleMapper(CQLStatementTupleMapper cqlStatementTupleMapper) </p>\n{\n    +    this.cqlStatementTupleMapper = cqlStatementTupleMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withCQLResultSetValuesMapper(CQLResultSetValuesMapper cqlResultSetValuesMapper) </p>\n{\n    +    this.cqlResultSetValuesMapper = cqlResultSetValuesMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withBatching(BatchStatement.Type batchingType) </p>\n{\n    +    this.batchingType = batchingType;\n    +    return this;\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) </p>\n{\n    +LOG.debug(\"beginCommit is noop\");\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void commit(Long txid) {<br/>\n    +LOG.debug(\"commit is noop\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    If you ignore beginCommit and commit it will not provide exactly once semantics and may end up with duplicate records in the db.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161782690","html_url":"https://github.com/apache/storm/pull/916#issuecomment-161782690","issue_url":"https://api.github.com/repos/apache/storm/issues/916","id":161782690,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc4MjY5MA==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T20:58:37Z","updated_at":"2015-12-03T20:58:37Z","author_association":"NONE","body":"closing/reopening to trigger another ci build\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161782690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682860","html_url":"https://github.com/apache/storm/issues/5199#issuecomment-2612682860","issue_url":"https://api.github.com/repos/apache/storm/issues/5199","id":2612682860,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODI4NjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T20:58:44Z","updated_at":"2025-01-24T14:37:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/916#issuecomment-161782690\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916#issuecomment-161782690</a></p>\n\n<p>    closing/reopening to trigger another ci build</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682864","html_url":"https://github.com/apache/storm/issues/5199#issuecomment-2612682864","issue_url":"https://api.github.com/repos/apache/storm/issues/5199","id":2612682864,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODI4NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T20:58:46Z","updated_at":"2025-01-24T14:37:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/916\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682869","html_url":"https://github.com/apache/storm/issues/5199#issuecomment-2612682869","issue_url":"https://api.github.com/repos/apache/storm/issues/5199","id":2612682869,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODI4Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T20:58:53Z","updated_at":"2025-01-24T14:37:20Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user d2r reopened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/916\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1364\" title=\"Log storm version on daemon start\" class=\"issue-link\" data-issue-key=\"STORM-1364\"><del>STORM-1364</del></a> logs the storm version when starting</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/d2r/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/d2r/storm</a> storm-1364-deamons-log-version-on-start</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/916.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #916</p>\n\n<hr />\n<p>commit b52988ab1d6c3ef853769ebb272e27caaf55ec38<br/>\nAuthor: Derek Dagit <derekd@yahoo-inc.com><br/>\nDate:   2015-12-03T15:55:26Z</p>\n\n<p>    logs the storm version when starting</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161784128","html_url":"https://github.com/apache/storm/pull/916#issuecomment-161784128","issue_url":"https://api.github.com/repos/apache/storm/issues/916","id":161784128,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc4NDEyOA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:04:58Z","updated_at":"2015-12-03T21:04:58Z","author_association":"CONTRIBUTOR","body":"+1 looks good to me.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161784128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682873","html_url":"https://github.com/apache/storm/issues/5199#issuecomment-2612682873","issue_url":"https://api.github.com/repos/apache/storm/issues/5199","id":2612682873,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODI4NzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:05:00Z","updated_at":"2025-01-24T14:37:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/916#issuecomment-161784128\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916#issuecomment-161784128</a></p>\n\n<p>    +1 looks good to me.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683045","html_url":"https://github.com/apache/storm/issues/5200#issuecomment-2612683045","issue_url":"https://api.github.com/repos/apache/storm/issues/5200","id":2612683045,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODMwNDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:07:35Z","updated_at":"2025-01-24T14:37:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/918#discussion_r46611961\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/918#discussion_r46611961</a></p>\n\n<p>    &#8212; Diff: dev-tools/travis/travis-script.sh &#8212;<br/>\n    @@ -31,7 +25,6 @@ cd ${STORM_SRC_ROOT_DIR}</p>\n<ol>\n\t<li>We should be concerned that Travis CI could be very slow because it uses VM<br/>\n     export STORM_TEST_TIMEOUT_MS=150000</li>\n</ol>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>\n\t<ol>\n\t\t<li>We now lean on Travis CI's implicit behavior, ```mvn clean install -DskipTests``` before running script\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ol>\n\t</li>\n</ul>\n\n\n<p>    It is incorrect, because we don't do that any more.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161785410","html_url":"https://github.com/apache/storm/pull/918#issuecomment-161785410","issue_url":"https://api.github.com/repos/apache/storm/issues/918","id":161785410,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc4NTQxMA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:09:09Z","updated_at":"2015-12-03T21:09:09Z","author_association":"CONTRIBUTOR","body":"+1 looks good to me. @ashnazg you might want to rebase on master I think @d2r pulled out something that went in that was causing test failures, so you might get a clean run in travis now.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161785410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683052","html_url":"https://github.com/apache/storm/issues/5200#issuecomment-2612683052","issue_url":"https://api.github.com/repos/apache/storm/issues/5200","id":2612683052,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODMwNTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:09:11Z","updated_at":"2025-01-24T14:37:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/918#issuecomment-161785410\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/918#issuecomment-161785410</a></p>\n\n<p>    +1 looks good to me. @ashnazg you might want to rebase on master I think @d2r pulled out something that went in that was causing test failures, so you might get a clean run in travis now.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161786050","html_url":"https://github.com/apache/storm/pull/918#issuecomment-161786050","issue_url":"https://api.github.com/repos/apache/storm/issues/918","id":161786050,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc4NjA1MA==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:11:43Z","updated_at":"2015-12-03T21:11:43Z","author_association":"NONE","body":"+1 pending CI\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161786050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683058","html_url":"https://github.com/apache/storm/issues/5200#issuecomment-2612683058","issue_url":"https://api.github.com/repos/apache/storm/issues/5200","id":2612683058,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODMwNTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:11:45Z","updated_at":"2025-01-24T14:37:24Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/918#issuecomment-161786050\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/918#issuecomment-161786050</a></p>\n\n<p>    +1 pending CI</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683068","html_url":"https://github.com/apache/storm/issues/5200#issuecomment-2612683068","issue_url":"https://api.github.com/repos/apache/storm/issues/5200","id":2612683068,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODMwNjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:12:01Z","updated_at":"2025-01-24T14:37:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/918#discussion_r46612484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/918#discussion_r46612484</a></p>\n\n<p>    &#8212; Diff: dev-tools/travis/travis-script.sh &#8212;<br/>\n    @@ -31,7 +25,6 @@ cd ${STORM_SRC_ROOT_DIR}</p>\n<ol>\n\t<li>We should be concerned that Travis CI could be very slow because it uses VM<br/>\n     export STORM_TEST_TIMEOUT_MS=150000</li>\n</ol>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>\n\t<ol>\n\t\t<li>We now lean on Travis CI's implicit behavior, ```mvn clean install -DskipTests``` before running script\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ol>\n\t</li>\n</ul>\n\n\n<p>    Sounds good.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161795108","html_url":"https://github.com/apache/storm/pull/897#issuecomment-161795108","issue_url":"https://api.github.com/repos/apache/storm/issues/897","id":161795108,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc5NTEwOA==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:49:49Z","updated_at":"2015-12-03T21:49:49Z","author_association":"MEMBER","body":"@d2r I was able to build master before the revert without any problem. Or is what you are seeing only manifest in the TravisCI environment?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161795108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537826","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537826","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537826,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4MjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:49:50Z","updated_at":"2025-01-24T13:30:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/897#issuecomment-161795108\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/897#issuecomment-161795108</a></p>\n\n<p>    @d2r I was able to build master before the revert without any problem. Or is what you are seeing only manifest in the TravisCI environment?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161798173","html_url":"https://github.com/apache/storm/pull/845#issuecomment-161798173","issue_url":"https://api.github.com/repos/apache/storm/issues/845","id":161798173,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc5ODE3Mw==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T21:59:27Z","updated_at":"2015-12-03T21:59:27Z","author_association":"CONTRIBUTOR","body":"@ptgoetz Thanks for the review.  I agree with the follow on items.  Because this is such a big change and @redsanket has been upmerging this regularly I would like to see this merged in sooner rather then later.  I'll try and merge this in tomorrow assuming no one else has any issues with it between now and then.  The other work can be done in follow on JIRA and I will update the 1.0 wiki to include the new JIRA once they are filed.\n\nThank you everyone for your help with getting this in. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161798173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161798493","html_url":"https://github.com/apache/storm/pull/897#issuecomment-161798493","issue_url":"https://api.github.com/repos/apache/storm/issues/897","id":161798493,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc5ODQ5Mw==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T22:00:51Z","updated_at":"2015-12-03T22:00:51Z","author_association":"NONE","body":"> @d2r I was able to build master before the revert without any problem. Or is what you are seeing only manifest in the TravisCI environment?\n\nYeah, TravisCI env.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161798493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537831","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537831","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537831,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4MzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T22:00:54Z","updated_at":"2025-01-24T13:30:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/897#issuecomment-161798493\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/897#issuecomment-161798493</a></p>\n\n<p>    > @d2r I was able to build master before the revert without any problem. Or is what you are seeing only manifest in the TravisCI environment?</p>\n\n<p>    Yeah, TravisCI env.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161800044","html_url":"https://github.com/apache/storm/pull/916#issuecomment-161800044","issue_url":"https://api.github.com/repos/apache/storm/issues/916","id":161800044,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTgwMDA0NA==","user":{"login":"knusbaum","id":1819836,"node_id":"MDQ6VXNlcjE4MTk4MzY=","avatar_url":"https://avatars.githubusercontent.com/u/1819836?v=4","gravatar_id":"","url":"https://api.github.com/users/knusbaum","html_url":"https://github.com/knusbaum","followers_url":"https://api.github.com/users/knusbaum/followers","following_url":"https://api.github.com/users/knusbaum/following{/other_user}","gists_url":"https://api.github.com/users/knusbaum/gists{/gist_id}","starred_url":"https://api.github.com/users/knusbaum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knusbaum/subscriptions","organizations_url":"https://api.github.com/users/knusbaum/orgs","repos_url":"https://api.github.com/users/knusbaum/repos","events_url":"https://api.github.com/users/knusbaum/events{/privacy}","received_events_url":"https://api.github.com/users/knusbaum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T22:07:07Z","updated_at":"2015-12-03T22:07:07Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161800044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682879","html_url":"https://github.com/apache/storm/issues/5199#issuecomment-2612682879","issue_url":"https://api.github.com/repos/apache/storm/issues/5199","id":2612682879,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODI4Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T22:07:08Z","updated_at":"2025-01-24T14:37:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/916#issuecomment-161800044\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916#issuecomment-161800044</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633028","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612633028","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612633028,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzMwMjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T22:09:05Z","updated_at":"2025-01-24T14:14:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user fhussonnois commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#discussion_r46620267\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#discussion_r46620267</a></p>\n\n<p>    &#8212; Diff: external/storm-cassandra/src/main/java/org/apache/storm/cassandra/trident/state/CassandraState.java &#8212;<br/>\n    @@ -0,0 +1,149 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.cassandra.trident.state;<br/>\n    +<br/>\n    +import backtype.storm.task.IMetricsContext;<br/>\n    +import backtype.storm.topology.FailedException;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import com.datastax.driver.core.BatchStatement;<br/>\n    +import com.datastax.driver.core.Session;<br/>\n    +import com.datastax.driver.core.Statement;<br/>\n    +import com.google.common.base.Preconditions;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClient;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClientProvider;<br/>\n    +import org.apache.storm.cassandra.query.CQLResultSetValuesMapper;<br/>\n    +import org.apache.storm.cassandra.query.CQLStatementTupleMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import storm.trident.operation.TridentCollector;<br/>\n    +import storm.trident.state.State;<br/>\n    +import storm.trident.tuple.TridentTuple;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + *<br/>\n    + */<br/>\n    +public class CassandraState implements State {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(CassandraState.class);<br/>\n    +<br/>\n    +    private final Map conf;<br/>\n    +    private final Options options;<br/>\n    +<br/>\n    +    private Session session;<br/>\n    +    private SimpleClient client;<br/>\n    +<br/>\n    +    public CassandraState(Map conf, IMetricsContext metrics, int partitionIndex, int numPartitions, Options options) </p>\n{\n    +this.conf = conf;\n    +this.options = options;\n    +    }\n<p>    +<br/>\n    +    public static final class Options implements Serializable {<br/>\n    +private final SimpleClientProvider clientProvider;<br/>\n    +private CQLStatementTupleMapper cqlStatementTupleMapper;<br/>\n    +private CQLResultSetValuesMapper cqlResultSetValuesMapper;<br/>\n    +private BatchStatement.Type batchingType = BatchStatement.Type.LOGGED;<br/>\n    +<br/>\n    +<br/>\n    +public Options(SimpleClientProvider clientProvider) </p>\n{\n    +    this.clientProvider = clientProvider;\n    +}\n<p>    +<br/>\n    +public Options withCQLStatementTupleMapper(CQLStatementTupleMapper cqlStatementTupleMapper) </p>\n{\n    +    this.cqlStatementTupleMapper = cqlStatementTupleMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withCQLResultSetValuesMapper(CQLResultSetValuesMapper cqlResultSetValuesMapper) </p>\n{\n    +    this.cqlResultSetValuesMapper = cqlResultSetValuesMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withBatching(BatchStatement.Type batchingType) </p>\n{\n    +    this.batchingType = batchingType;\n    +    return this;\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) </p>\n{\n    +LOG.debug(\"beginCommit is noop\");\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void commit(Long txid) </p>\n{\n    +LOG.debug(\"commit is noop\");\n    +    }\n<p>    +<br/>\n    +    public void prepare() </p>\n{\n    +Preconditions.checkNotNull(options.cqlStatementTupleMapper, \"CassandraState.Options should have cqlStatementTupleMapper\");\n    +\n    +client = options.clientProvider.getClient(conf);\n    +session = client.connect();\n    +    }\n<p>    +<br/>\n    +    public void cleanup() </p>\n{\n    +session.close();\n    +client.close();\n    +    }\n<p>    +<br/>\n    +    public void updateState(List<TridentTuple> tuples, final TridentCollector collector) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Ok I understand your point but this may lead to some issues at scale. Usually writes are idempotent in cassandra. So even if a write fail you could resend all tuples. Could we imagine two strategies to update the state ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537836","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537836","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537836,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4MzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T00:01:17Z","updated_at":"2025-01-24T13:30:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/920\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/920</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-756\" title=\"[multilang] Introduce overflow control mechanism\" class=\"issue-link\" data-issue-key=\"STORM-756\"><del>STORM-756</del></a> Handle taskids response as soon as possible (with fixing unit test)</p>\n\n<p>    This PR fixes unit test which is included via #897 <br/>\n    I've run the test from Travis CI 3 times and ShellBoltMessageQueueTest always succeed.</p>\n\n<p>    @d2r @revans2 Please check it again. Thanks!</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-756\" title=\"[multilang] Introduce overflow control mechanism\" class=\"issue-link\" data-issue-key=\"STORM-756\"><del>STORM-756</del></a>-v2-retry-1</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/920.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/920.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #920</p>\n\n<hr />\n<p>commit 87f8fa1c559b8764715fd6f82f8524565d8398aa<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2015-12-03T23:03:46Z</p>\n\n<p>    Revert \"Merge branch 'revert-storm-756'\"</p>\n\n<p>    This reverts commit ce2d49b924b6690d7704eccbb91ebbbea0a601bb, reversing<br/>\n    changes made to 18f68f7a967f7173b9c7c7444bedd53b13ad65fb.</p>\n\n<p>commit f9890817884fa3c3592ee09e085c0cc58dc52149<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2015-12-03T23:16:31Z</p>\n\n<p>    fix test: wait duration could be exactly 1000 ms</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161842746","html_url":"https://github.com/apache/storm/pull/897#issuecomment-161842746","issue_url":"https://api.github.com/repos/apache/storm/issues/897","id":161842746,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTg0Mjc0Ng==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T01:10:55Z","updated_at":"2015-12-04T01:10:55Z","author_association":"CONTRIBUTOR","body":"@revans2 @d2r @ptgoetz I can also see random test failure, and fixed it. Let's move on #920.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161842746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537840","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537840","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537840,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4NDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T01:10:57Z","updated_at":"2025-01-24T13:30:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/897#issuecomment-161842746\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/897#issuecomment-161842746</a></p>\n\n<p>    @revans2 @d2r @ptgoetz I can also see random test failure, and fixed it. Let's move on #920.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537848","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537848","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537848,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T01:17:33Z","updated_at":"2025-01-24T13:30:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/920#discussion_r46637732\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/920#discussion_r46637732</a></p>\n\n<p>    &#8212; Diff: storm-core/test/jvm/backtype/storm/utils/ShellBoltMessageQueueTest.java &#8212;<br/>\n    @@ -0,0 +1,85 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.utils;<br/>\n    +<br/>\n    +import backtype.storm.multilang.BoltMsg;<br/>\n    +import com.google.common.collect.Lists;<br/>\n    +import junit.framework.TestCase;<br/>\n    +import org.junit.Test;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +public class ShellBoltMessageQueueTest extends TestCase {<br/>\n    +    @Test<br/>\n    +    public void testPollTaskIdsFirst() throws InterruptedException </p>\n{\n    +ShellBoltMessageQueue queue = new ShellBoltMessageQueue();\n    +\n    +// put bolt message first, then put task ids\n    +queue.putBoltMsg(new BoltMsg());\n    +ArrayList<Integer> taskIds = Lists.newArrayList(1, 2, 3);\n    +queue.putTaskIds(taskIds);\n    +\n    +Object msg = queue.poll(10, TimeUnit.SECONDS);\n    +\n    +// task ids should be pulled first\n    +assertTrue(msg instanceof List<?>);\n    +assertEquals(msg, taskIds);\n    +    }\n<p>    +<br/>\n    +    @Test<br/>\n    +    public void testPollWhileThereAreNoDataAvailable() throws InterruptedException {<br/>\n    +ShellBoltMessageQueue queue = new ShellBoltMessageQueue();<br/>\n    +<br/>\n    +long start = System.currentTimeMillis();<br/>\n    +Object msg = queue.poll(1, TimeUnit.SECONDS);<br/>\n    +long finish = System.currentTimeMillis();<br/>\n    +long waitDuration = finish - start;<br/>\n    +<br/>\n    +assertNull(msg);<br/>\n    +assertTrue(\"wait duration should be equal or greater than 1000, current: \" + waitDuration, waitDuration >= 1000);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    The difference between #897 and #920 is just this line.<br/>\n    I was checking (finish - start) > 1000, which was not accurate because its difference could be 1000.xxx milliseconds, which makes waitDuration to 1000.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161851976","html_url":"https://github.com/apache/storm/pull/916#issuecomment-161851976","issue_url":"https://api.github.com/repos/apache/storm/issues/916","id":161851976,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTg1MTk3Ng==","user":{"login":"wuchong","id":5378924,"node_id":"MDQ6VXNlcjUzNzg5MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5378924?v=4","gravatar_id":"","url":"https://api.github.com/users/wuchong","html_url":"https://github.com/wuchong","followers_url":"https://api.github.com/users/wuchong/followers","following_url":"https://api.github.com/users/wuchong/following{/other_user}","gists_url":"https://api.github.com/users/wuchong/gists{/gist_id}","starred_url":"https://api.github.com/users/wuchong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuchong/subscriptions","organizations_url":"https://api.github.com/users/wuchong/orgs","repos_url":"https://api.github.com/users/wuchong/repos","events_url":"https://api.github.com/users/wuchong/events{/privacy}","received_events_url":"https://api.github.com/users/wuchong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T02:18:51Z","updated_at":"2015-12-04T02:18:51Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161851976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682884","html_url":"https://github.com/apache/storm/issues/5199#issuecomment-2612682884","issue_url":"https://api.github.com/repos/apache/storm/issues/5199","id":2612682884,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODI4ODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T02:18:52Z","updated_at":"2025-01-24T14:37:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user wuchong commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/916#issuecomment-161851976\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916#issuecomment-161851976</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161852522","html_url":"https://github.com/apache/storm/pull/919#issuecomment-161852522","issue_url":"https://api.github.com/repos/apache/storm/issues/919","id":161852522,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTg1MjUyMg==","user":{"login":"darionyaphet","id":4414314,"node_id":"MDQ6VXNlcjQ0MTQzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4414314?v=4","gravatar_id":"","url":"https://api.github.com/users/darionyaphet","html_url":"https://github.com/darionyaphet","followers_url":"https://api.github.com/users/darionyaphet/followers","following_url":"https://api.github.com/users/darionyaphet/following{/other_user}","gists_url":"https://api.github.com/users/darionyaphet/gists{/gist_id}","starred_url":"https://api.github.com/users/darionyaphet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darionyaphet/subscriptions","organizations_url":"https://api.github.com/users/darionyaphet/orgs","repos_url":"https://api.github.com/users/darionyaphet/repos","events_url":"https://api.github.com/users/darionyaphet/events{/privacy}","received_events_url":"https://api.github.com/users/darionyaphet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T02:23:03Z","updated_at":"2015-12-04T02:23:03Z","author_association":"CONTRIBUTOR","body":"+1 \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161852522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599017","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612599017","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612599017,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTkwMTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T02:23:04Z","updated_at":"2025-01-24T14:00:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user darionyaphet commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/919#issuecomment-161852522\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/919#issuecomment-161852522</a></p>\n\n<p>    +1 </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633033","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612633033","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612633033,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzMwMzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T02:36:48Z","updated_at":"2025-01-24T14:14:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#discussion_r46643209\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#discussion_r46643209</a></p>\n\n<p>    &#8212; Diff: external/storm-cassandra/src/main/java/org/apache/storm/cassandra/trident/state/CassandraState.java &#8212;<br/>\n    @@ -0,0 +1,154 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.cassandra.trident.state;<br/>\n    +<br/>\n    +import backtype.storm.task.IMetricsContext;<br/>\n    +import backtype.storm.topology.FailedException;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import com.datastax.driver.core.BatchStatement;<br/>\n    +import com.datastax.driver.core.Session;<br/>\n    +import com.datastax.driver.core.Statement;<br/>\n    +import com.google.common.base.Preconditions;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClient;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClientProvider;<br/>\n    +import org.apache.storm.cassandra.query.CQLResultSetValuesMapper;<br/>\n    +import org.apache.storm.cassandra.query.CQLStatementTupleMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import storm.trident.operation.TridentCollector;<br/>\n    +import storm.trident.state.State;<br/>\n    +import storm.trident.tuple.TridentTuple;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + *<br/>\n    + */<br/>\n    +public class CassandraState implements State {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(CassandraState.class);<br/>\n    +<br/>\n    +    private final Map conf;<br/>\n    +    private final Options options;<br/>\n    +<br/>\n    +    private Session session;<br/>\n    +    private SimpleClient client;<br/>\n    +<br/>\n    +    public CassandraState(Map conf, IMetricsContext metrics, int partitionIndex, int numPartitions, Options options) </p>\n{\n    +this.conf = conf;\n    +this.options = options;\n    +    }\n<p>    +<br/>\n    +    public static final class Options implements Serializable {<br/>\n    +private final SimpleClientProvider clientProvider;<br/>\n    +private CQLStatementTupleMapper cqlStatementTupleMapper;<br/>\n    +private CQLResultSetValuesMapper cqlResultSetValuesMapper;<br/>\n    +private BatchStatement.Type batchingType = BatchStatement.Type.LOGGED;<br/>\n    +<br/>\n    +<br/>\n    +public Options(SimpleClientProvider clientProvider) </p>\n{\n    +    this.clientProvider = clientProvider;\n    +}\n<p>    +<br/>\n    +public Options withCQLStatementTupleMapper(CQLStatementTupleMapper cqlStatementTupleMapper) </p>\n{\n    +    this.cqlStatementTupleMapper = cqlStatementTupleMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withCQLResultSetValuesMapper(CQLResultSetValuesMapper cqlResultSetValuesMapper) </p>\n{\n    +    this.cqlResultSetValuesMapper = cqlResultSetValuesMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withBatching(BatchStatement.Type batchingType) </p>\n{\n    +    this.batchingType = batchingType;\n    +    return this;\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) </p>\n{\n    +LOG.debug(\"beginCommit is noop\");\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void commit(Long txid) {<br/>\n    +LOG.debug(\"commit is noop\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It supports atleastonce for now. Most of the connectors do not support exactlyonce except HDFS. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161856907","html_url":"https://github.com/apache/storm/pull/915#issuecomment-161856907","issue_url":"https://api.github.com/repos/apache/storm/issues/915","id":161856907,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTg1NjkwNw==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T02:46:40Z","updated_at":"2015-12-04T02:55:30Z","author_association":"MEMBER","body":"It seems only redis and HBase have MapState implementations. Filed https://issues.apache.org/jira/browse/STORM-1369 for implementing MapState for Cassandra. This PR is about developing Update and Query support.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161856907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633036","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612633036","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612633036,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzMwMzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T02:46:41Z","updated_at":"2025-01-24T14:14:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#issuecomment-161856907\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#issuecomment-161856907</a></p>\n\n<p>    Filed <a href=\"https://issues.apache.org/jira/browse/STORM-1369\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1369</a> for implementing MapState for Cassandra. This PR is about making Update and Query support.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633038","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612633038","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612633038,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzMwMzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T04:27:52Z","updated_at":"2025-01-24T14:14:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#discussion_r46648269\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#discussion_r46648269</a></p>\n\n<p>    &#8212; Diff: external/storm-cassandra/src/main/java/org/apache/storm/cassandra/trident/state/CassandraState.java &#8212;<br/>\n    @@ -0,0 +1,149 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.cassandra.trident.state;<br/>\n    +<br/>\n    +import backtype.storm.task.IMetricsContext;<br/>\n    +import backtype.storm.topology.FailedException;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import com.datastax.driver.core.BatchStatement;<br/>\n    +import com.datastax.driver.core.Session;<br/>\n    +import com.datastax.driver.core.Statement;<br/>\n    +import com.google.common.base.Preconditions;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClient;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClientProvider;<br/>\n    +import org.apache.storm.cassandra.query.CQLResultSetValuesMapper;<br/>\n    +import org.apache.storm.cassandra.query.CQLStatementTupleMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import storm.trident.operation.TridentCollector;<br/>\n    +import storm.trident.state.State;<br/>\n    +import storm.trident.tuple.TridentTuple;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + *<br/>\n    + */<br/>\n    +public class CassandraState implements State {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(CassandraState.class);<br/>\n    +<br/>\n    +    private final Map conf;<br/>\n    +    private final Options options;<br/>\n    +<br/>\n    +    private Session session;<br/>\n    +    private SimpleClient client;<br/>\n    +<br/>\n    +    public CassandraState(Map conf, IMetricsContext metrics, int partitionIndex, int numPartitions, Options options) </p>\n{\n    +this.conf = conf;\n    +this.options = options;\n    +    }\n<p>    +<br/>\n    +    public static final class Options implements Serializable {<br/>\n    +private final SimpleClientProvider clientProvider;<br/>\n    +private CQLStatementTupleMapper cqlStatementTupleMapper;<br/>\n    +private CQLResultSetValuesMapper cqlResultSetValuesMapper;<br/>\n    +private BatchStatement.Type batchingType = BatchStatement.Type.LOGGED;<br/>\n    +<br/>\n    +<br/>\n    +public Options(SimpleClientProvider clientProvider) </p>\n{\n    +    this.clientProvider = clientProvider;\n    +}\n<p>    +<br/>\n    +public Options withCQLStatementTupleMapper(CQLStatementTupleMapper cqlStatementTupleMapper) </p>\n{\n    +    this.cqlStatementTupleMapper = cqlStatementTupleMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withCQLResultSetValuesMapper(CQLResultSetValuesMapper cqlResultSetValuesMapper) </p>\n{\n    +    this.cqlResultSetValuesMapper = cqlResultSetValuesMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withBatching(BatchStatement.Type batchingType) </p>\n{\n    +    this.batchingType = batchingType;\n    +    return this;\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) </p>\n{\n    +LOG.debug(\"beginCommit is noop\");\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void commit(Long txid) </p>\n{\n    +LOG.debug(\"commit is noop\");\n    +    }\n<p>    +<br/>\n    +    public void prepare() </p>\n{\n    +Preconditions.checkNotNull(options.cqlStatementTupleMapper, \"CassandraState.Options should have cqlStatementTupleMapper\");\n    +\n    +client = options.clientProvider.getClient(conf);\n    +session = client.connect();\n    +    }\n<p>    +<br/>\n    +    public void cleanup() </p>\n{\n    +session.close();\n    +client.close();\n    +    }\n<p>    +<br/>\n    +    public void updateState(List<TridentTuple> tuples, final TridentCollector collector) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    OK. I agree to have an option for not to use batching. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633045","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612633045","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612633045,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzMwNDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T04:56:45Z","updated_at":"2025-01-24T14:14:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#discussion_r46649298\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#discussion_r46649298</a></p>\n\n<p>    &#8212; Diff: external/storm-cassandra/src/main/java/org/apache/storm/cassandra/trident/state/CassandraState.java &#8212;<br/>\n    @@ -0,0 +1,154 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.cassandra.trident.state;<br/>\n    +<br/>\n    +import backtype.storm.task.IMetricsContext;<br/>\n    +import backtype.storm.topology.FailedException;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import com.datastax.driver.core.BatchStatement;<br/>\n    +import com.datastax.driver.core.Session;<br/>\n    +import com.datastax.driver.core.Statement;<br/>\n    +import com.google.common.base.Preconditions;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClient;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClientProvider;<br/>\n    +import org.apache.storm.cassandra.query.CQLResultSetValuesMapper;<br/>\n    +import org.apache.storm.cassandra.query.CQLStatementTupleMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import storm.trident.operation.TridentCollector;<br/>\n    +import storm.trident.state.State;<br/>\n    +import storm.trident.tuple.TridentTuple;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + *<br/>\n    + */<br/>\n    +public class CassandraState implements State {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(CassandraState.class);<br/>\n    +<br/>\n    +    private final Map conf;<br/>\n    +    private final Options options;<br/>\n    +<br/>\n    +    private Session session;<br/>\n    +    private SimpleClient client;<br/>\n    +<br/>\n    +    public CassandraState(Map conf, IMetricsContext metrics, int partitionIndex, int numPartitions, Options options) </p>\n{\n    +this.conf = conf;\n    +this.options = options;\n    +    }\n<p>    +<br/>\n    +    public static final class Options implements Serializable {<br/>\n    +private final SimpleClientProvider clientProvider;<br/>\n    +private CQLStatementTupleMapper cqlStatementTupleMapper;<br/>\n    +private CQLResultSetValuesMapper cqlResultSetValuesMapper;<br/>\n    +private BatchStatement.Type batchingType = BatchStatement.Type.LOGGED;<br/>\n    +<br/>\n    +<br/>\n    +public Options(SimpleClientProvider clientProvider) </p>\n{\n    +    this.clientProvider = clientProvider;\n    +}\n<p>    +<br/>\n    +public Options withCQLStatementTupleMapper(CQLStatementTupleMapper cqlStatementTupleMapper) </p>\n{\n    +    this.cqlStatementTupleMapper = cqlStatementTupleMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withCQLResultSetValuesMapper(CQLResultSetValuesMapper cqlResultSetValuesMapper) </p>\n{\n    +    this.cqlResultSetValuesMapper = cqlResultSetValuesMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withBatching(BatchStatement.Type batchingType) </p>\n{\n    +    this.batchingType = batchingType;\n    +    return this;\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) </p>\n{\n    +LOG.debug(\"beginCommit is noop\");\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void commit(Long txid) {<br/>\n    +LOG.debug(\"commit is noop\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    The other connectors also provide a Mapstate implementation which gives exactly once. I am not sure why the other connectors ignore the beginCommit and commit in their `State` implementation for trident and if its desirable. May be that should also get fixed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599021","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612599021","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612599021,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTkwMjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T05:04:54Z","updated_at":"2025-01-24T14:00:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/919#discussion_r46649590\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/919#discussion_r46649590</a></p>\n\n<p>    &#8212; Diff: external/sql/README.md &#8212;<br/>\n    @@ -0,0 +1,101 @@<br/>\n    +# Storm SQL<br/>\n    +<br/>\n    +Compile SQL queries to Storm topologies.<br/>\n    +<br/>\n    +## Usage<br/>\n    +<br/>\n    +Run the ``storm sql`` command to compile SQL statements into Trident topology, and submit it to the Storm cluster<br/>\n    +<br/>\n    +```<br/>\n    +$ bin/storm sql <topo-name> <sql-file><br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    minor: can you have `topo-name` as the last argument to be in sync with the `storm jar` command where topology name is the last argument?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161882261","html_url":"https://github.com/apache/storm/pull/921#issuecomment-161882261","issue_url":"https://api.github.com/repos/apache/storm/issues/921","id":161882261,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTg4MjI2MQ==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T05:45:02Z","updated_at":"2015-12-04T05:45:02Z","author_association":"CONTRIBUTOR","body":"unrelated test failure only for storm-core java 8 build\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161882261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633051","html_url":"https://github.com/apache/storm/issues/5049#issuecomment-2612633051","issue_url":"https://api.github.com/repos/apache/storm/issues/5049","id":2612633051,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MzMwNTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T06:02:56Z","updated_at":"2025-01-24T14:14:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/915#discussion_r46651795\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/915#discussion_r46651795</a></p>\n\n<p>    &#8212; Diff: external/storm-cassandra/src/main/java/org/apache/storm/cassandra/trident/state/CassandraState.java &#8212;<br/>\n    @@ -0,0 +1,154 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.cassandra.trident.state;<br/>\n    +<br/>\n    +import backtype.storm.task.IMetricsContext;<br/>\n    +import backtype.storm.topology.FailedException;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import com.datastax.driver.core.BatchStatement;<br/>\n    +import com.datastax.driver.core.Session;<br/>\n    +import com.datastax.driver.core.Statement;<br/>\n    +import com.google.common.base.Preconditions;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClient;<br/>\n    +import org.apache.storm.cassandra.client.SimpleClientProvider;<br/>\n    +import org.apache.storm.cassandra.query.CQLResultSetValuesMapper;<br/>\n    +import org.apache.storm.cassandra.query.CQLStatementTupleMapper;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import storm.trident.operation.TridentCollector;<br/>\n    +import storm.trident.state.State;<br/>\n    +import storm.trident.tuple.TridentTuple;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + *<br/>\n    + */<br/>\n    +public class CassandraState implements State {<br/>\n    +<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(CassandraState.class);<br/>\n    +<br/>\n    +    private final Map conf;<br/>\n    +    private final Options options;<br/>\n    +<br/>\n    +    private Session session;<br/>\n    +    private SimpleClient client;<br/>\n    +<br/>\n    +    public CassandraState(Map conf, IMetricsContext metrics, int partitionIndex, int numPartitions, Options options) </p>\n{\n    +this.conf = conf;\n    +this.options = options;\n    +    }\n<p>    +<br/>\n    +    public static final class Options implements Serializable {<br/>\n    +private final SimpleClientProvider clientProvider;<br/>\n    +private CQLStatementTupleMapper cqlStatementTupleMapper;<br/>\n    +private CQLResultSetValuesMapper cqlResultSetValuesMapper;<br/>\n    +private BatchStatement.Type batchingType = BatchStatement.Type.LOGGED;<br/>\n    +<br/>\n    +<br/>\n    +public Options(SimpleClientProvider clientProvider) </p>\n{\n    +    this.clientProvider = clientProvider;\n    +}\n<p>    +<br/>\n    +public Options withCQLStatementTupleMapper(CQLStatementTupleMapper cqlStatementTupleMapper) </p>\n{\n    +    this.cqlStatementTupleMapper = cqlStatementTupleMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withCQLResultSetValuesMapper(CQLResultSetValuesMapper cqlResultSetValuesMapper) </p>\n{\n    +    this.cqlResultSetValuesMapper = cqlResultSetValuesMapper;\n    +    return this;\n    +}\n<p>    +<br/>\n    +public Options withBatching(BatchStatement.Type batchingType) </p>\n{\n    +    this.batchingType = batchingType;\n    +    return this;\n    +}\n<p>    +<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) </p>\n{\n    +LOG.debug(\"beginCommit is noop\");\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void commit(Long txid) {<br/>\n    +LOG.debug(\"commit is noop\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It seems storm.trident.state.map.TransactionalMap provides the semantics.  IBackingMap implementation can be wrapped into that. HBase and Redis use these APIs for having transactional semantics.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612633051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612679974","html_url":"https://github.com/apache/storm/issues/5180#issuecomment-2612679974","issue_url":"https://api.github.com/repos/apache/storm/issues/5180","id":2612679974,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2Nzk5NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T06:14:49Z","updated_at":"2025-01-24T14:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user Parth-Brahmbhatt opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/922\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/922</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1345\" title=\"Thrift, nimbus ,zookeeper, supervisor and worker changes to support update topology.\" class=\"issue-link\" data-issue-key=\"STORM-1345\"><del>STORM-1345</del></a>: UpdateTopology API and implementation.</p>\n\n<p>    No unit tests added. Update will allow to update config, jar (if some dependency is updated without the topology changing in any way), or the topology change it self. </p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/Parth-Brahmbhatt/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/Parth-Brahmbhatt/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1345\" title=\"Thrift, nimbus ,zookeeper, supervisor and worker changes to support update topology.\" class=\"issue-link\" data-issue-key=\"STORM-1345\"><del>STORM-1345</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/922.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/922.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #922</p>\n\n<hr />\n<p>commit 23e961a34ce500a2a101ef72499991fa006b6d29<br/>\nAuthor: Parth Brahmbhatt <brahmbhatt.parth@gmail.com><br/>\nDate:   2015-12-04T06:08:02Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1345\" title=\"Thrift, nimbus ,zookeeper, supervisor and worker changes to support update topology.\" class=\"issue-link\" data-issue-key=\"STORM-1345\"><del>STORM-1345</del></a>: UpdateTopology API and implementation.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612679974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680122","html_url":"https://github.com/apache/storm/issues/5181#issuecomment-2612680122","issue_url":"https://api.github.com/repos/apache/storm/issues/5181","id":2612680122,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODAxMjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T06:16:55Z","updated_at":"2025-01-24T14:36:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=parth.brahmbhatt\">parth.brahmbhatt</a>:</i>\n<p>Code available in <a href=\"https://github.com/Parth-Brahmbhatt/incubator-storm/tree/STORM-1346\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/Parth-Brahmbhatt/incubator-storm/tree/STORM-1346</a> but is blocked until <a href=\"https://github.com/apache/storm/pull/922\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/922</a> gets merged.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612680122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161934250","html_url":"https://github.com/apache/storm/pull/922#issuecomment-161934250","issue_url":"https://api.github.com/repos/apache/storm/issues/922","id":161934250,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTkzNDI1MA==","user":{"login":"unsleepy22","id":631361,"node_id":"MDQ6VXNlcjYzMTM2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/631361?v=4","gravatar_id":"","url":"https://api.github.com/users/unsleepy22","html_url":"https://github.com/unsleepy22","followers_url":"https://api.github.com/users/unsleepy22/followers","following_url":"https://api.github.com/users/unsleepy22/following{/other_user}","gists_url":"https://api.github.com/users/unsleepy22/gists{/gist_id}","starred_url":"https://api.github.com/users/unsleepy22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unsleepy22/subscriptions","organizations_url":"https://api.github.com/users/unsleepy22/orgs","repos_url":"https://api.github.com/users/unsleepy22/repos","events_url":"https://api.github.com/users/unsleepy22/events{/privacy}","received_events_url":"https://api.github.com/users/unsleepy22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T10:41:19Z","updated_at":"2015-12-04T10:41:19Z","author_association":"NONE","body":"I have one question, since all worker must be restarted, what's the point of 'update'?\nI suggest there should be at least two kinds of 'update':\n1. update application's config dynamically without restarting the topology, which is what JStorm has done.\n2. update topology's config, which requires restarting.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161934250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612679980","html_url":"https://github.com/apache/storm/issues/5180#issuecomment-2612679980","issue_url":"https://api.github.com/repos/apache/storm/issues/5180","id":2612679980,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2Nzk5ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T10:41:21Z","updated_at":"2025-01-24T14:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/922#issuecomment-161934250\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/922#issuecomment-161934250</a></p>\n\n<p>    I have one question, since all worker must be restarted, what's the point of 'update'?<br/>\n    I suggest there should be at least two kinds of 'update':<br/>\n    1. update application's config dynamically without restarting the topology, which is what JStorm has done.<br/>\n    2. update topology's config, which requires restarting.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612679980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161949861","html_url":"https://github.com/apache/storm/pull/919#issuecomment-161949861","issue_url":"https://api.github.com/repos/apache/storm/issues/919","id":161949861,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTk0OTg2MQ==","user":{"login":"unsleepy22","id":631361,"node_id":"MDQ6VXNlcjYzMTM2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/631361?v=4","gravatar_id":"","url":"https://api.github.com/users/unsleepy22","html_url":"https://github.com/unsleepy22","followers_url":"https://api.github.com/users/unsleepy22/followers","following_url":"https://api.github.com/users/unsleepy22/following{/other_user}","gists_url":"https://api.github.com/users/unsleepy22/gists{/gist_id}","starred_url":"https://api.github.com/users/unsleepy22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unsleepy22/subscriptions","organizations_url":"https://api.github.com/users/unsleepy22/orgs","repos_url":"https://api.github.com/users/unsleepy22/repos","events_url":"https://api.github.com/users/unsleepy22/events{/privacy}","received_events_url":"https://api.github.com/users/unsleepy22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T11:54:23Z","updated_at":"2015-12-04T11:54:23Z","author_association":"NONE","body":"LGTM +1, good work!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161949861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599023","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612599023","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612599023,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTkwMjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T11:54:24Z","updated_at":"2025-01-24T14:00:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/919#issuecomment-161949861\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/919#issuecomment-161949861</a></p>\n\n<p>    LGTM +1, good work!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161979869","html_url":"https://github.com/apache/storm/pull/918#issuecomment-161979869","issue_url":"https://api.github.com/repos/apache/storm/issues/918","id":161979869,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTk3OTg2OQ==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T14:26:46Z","updated_at":"2015-12-04T14:26:46Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161979869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683078","html_url":"https://github.com/apache/storm/issues/5200#issuecomment-2612683078","issue_url":"https://api.github.com/repos/apache/storm/issues/5200","id":2612683078,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODMwNzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T14:26:47Z","updated_at":"2025-01-24T14:37:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/918#issuecomment-161979869\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/918#issuecomment-161979869</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612683078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161985154","html_url":"https://github.com/apache/storm/pull/922#issuecomment-161985154","issue_url":"https://api.github.com/repos/apache/storm/issues/922","id":161985154,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTk4NTE1NA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T14:52:34Z","updated_at":"2015-12-04T14:52:34Z","author_association":"CONTRIBUTOR","body":"@Parth-Brahmbhatt how far along is this patch with testing/work?  I see a lot of commented out code in the pull request and I am having a little bit of difficulty understanding why.  There is also at least one big TODO in the code.  Could you please either remove the unneeded code or explain what the next steps are to use it and to deal with the TODO?\n\nAlso could you give a brief overview of the design of this.  From looking at the code, including the commented out sections, it appears that the intentions is to upload a new jar, config, and/or topology layout.  Then rebalance the topology to have it rescheduled.  The supervisors also now look at a new topology version field to see if they should kill/restart the worker or not.  Is that correct? \n\nThe blob store feature moves the conf, topology, and topology-jar into the blob store which also supports doing dynamic updates within the supervisor.  I think it would be a lot cleaner if we could try and leverage this functionality.\n\nI also agree with @unsleepy22 that there are several types of updates, and going off of your TODO in the code I think there are several different ways we want to potentially update a topology.  There are changes that require a restart of the worker and ones that do not (but may require changes to the system/user code to allow this).  There are also changes that should be done as a rolling upgrade, one worker at a time, to allow for minimal impact, but there are others that are so big that you are killing off the topology and just restarting it again, but keeping the ID for some reason.\n\nI am fine with this being a first step where we only support a single type of update, which is the most generic of them.  You can change anything and we will restart the entire topology as quickly as possible.  But I would like to understand you view about where this feature ultimately ends up.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161985154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612679983","html_url":"https://github.com/apache/storm/issues/5180#issuecomment-2612679983","issue_url":"https://api.github.com/repos/apache/storm/issues/5180","id":2612679983,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2Nzk5ODM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T14:52:35Z","updated_at":"2025-01-24T14:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/922#issuecomment-161985154\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/922#issuecomment-161985154</a></p>\n\n<p>    @Parth-Brahmbhatt how far along is this patch with testing/work?  I see a lot of commented out code in the pull request and I am having a little bit of difficulty understanding why.  There is also at least one big TODO in the code.  Could you please either remove the unneeded code or explain what the next steps are to use it and to deal with the TODO?</p>\n\n<p>    Also could you give a brief overview of the design of this.  From looking at the code, including the commented out sections, it appears that the intentions is to upload a new jar, config, and/or topology layout.  Then rebalance the topology to have it rescheduled.  The supervisors also now look at a new topology version field to see if they should kill/restart the worker or not.  Is that correct? </p>\n\n<p>    The blob store feature moves the conf, topology, and topology-jar into the blob store which also supports doing dynamic updates within the supervisor.  I think it would be a lot cleaner if we could try and leverage this functionality.</p>\n\n<p>    I also agree with @unsleepy22 that there are several types of updates, and going off of your TODO in the code I think there are several different ways we want to potentially update a topology.  There are changes that require a restart of the worker and ones that do not (but may require changes to the system/user code to allow this).  There are also changes that should be done as a rolling upgrade, one worker at a time, to allow for minimal impact, but there are others that are so big that you are killing off the topology and just restarting it again, but keeping the ID for some reason.</p>\n\n<p>    I am fine with this being a first step where we only support a single type of update, which is the most generic of them.  You can change anything and we will restart the entire topology as quickly as possible.  But I would like to understand you view about where this feature ultimately ends up.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612679983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161991711","html_url":"https://github.com/apache/storm/pull/921#issuecomment-161991711","issue_url":"https://api.github.com/repos/apache/storm/issues/921","id":161991711,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTk5MTcxMQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T15:18:38Z","updated_at":"2015-12-04T15:18:38Z","author_association":"CONTRIBUTOR","body":"Two big comments to start out with.\n\n1) could you rebase?  We just merged in the blob store and there is a conflict now.\n2) The design doc looks great, but there is no documentation with this patch.  Could you update the docs to include information similar to the design, but also explaining how to configure and use these features?\n\nGoing to start looking through the code now.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161991711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161991874","html_url":"https://github.com/apache/storm/pull/921#issuecomment-161991874","issue_url":"https://api.github.com/repos/apache/storm/issues/921","id":161991874,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTk5MTg3NA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T15:19:13Z","updated_at":"2015-12-04T15:19:13Z","author_association":"CONTRIBUTOR","body":"Also 21 commits seems like a lot, could you squash the commits either now, or before we merge it in?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161991874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/161999062","html_url":"https://github.com/apache/storm/pull/916#issuecomment-161999062","issue_url":"https://api.github.com/repos/apache/storm/issues/916","id":161999062,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTk5OTA2Mg==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T15:40:17Z","updated_at":"2015-12-04T15:40:17Z","author_association":"NONE","body":"3 failures in nimbus-auth-test for storm-core on jdk8 only.  Need to look at why it happened.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/161999062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682889","html_url":"https://github.com/apache/storm/issues/5199#issuecomment-2612682889","issue_url":"https://api.github.com/repos/apache/storm/issues/5199","id":2612682889,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODI4ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T15:40:19Z","updated_at":"2025-01-24T14:37:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/916#issuecomment-161999062\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/916#issuecomment-161999062</a></p>\n\n<p>    3 failures in nimbus-auth-test for storm-core on jdk8 only.  Need to look at why it happened.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612682889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612684713","html_url":"https://github.com/apache/storm/issues/5205#issuecomment-2612684713","issue_url":"https://api.github.com/repos/apache/storm/issues/5205","id":2612684713,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODQ3MTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T16:24:15Z","updated_at":"2025-01-24T14:37:45Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user jerrypeng opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/923\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/923</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1370\" title=\"Bug fixes for MultitenantScheduler\" class=\"issue-link\" data-issue-key=\"STORM-1370\"><del>STORM-1370</del></a> - Bug fixes for MultitenantScheduler</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/jerrypeng/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/jerrypeng/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1370\" title=\"Bug fixes for MultitenantScheduler\" class=\"issue-link\" data-issue-key=\"STORM-1370\"><del>STORM-1370</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/923.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/923.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #923</p>\n\n<hr />\n<p>commit 82f9d969446898bc6bdbdb03f2b927a55174f97c<br/>\nAuthor: Boyang Jerry Peng <jerrypeng@yahoo-inc.com><br/>\nDate:   2015-12-04T16:23:10Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1370\" title=\"Bug fixes for MultitenantScheduler\" class=\"issue-link\" data-issue-key=\"STORM-1370\"><del>STORM-1370</del></a> - Bug fixes for MultitenantScheduler</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612684713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/162010840","html_url":"https://github.com/apache/storm/pull/923#issuecomment-162010840","issue_url":"https://api.github.com/repos/apache/storm/issues/923","id":162010840,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjAxMDg0MA==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T16:24:34Z","updated_at":"2015-12-04T16:24:34Z","author_association":"CONTRIBUTOR","body":"@d2r can you take a look thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/162010840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612684716","html_url":"https://github.com/apache/storm/issues/5205#issuecomment-2612684716","issue_url":"https://api.github.com/repos/apache/storm/issues/5205","id":2612684716,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODQ3MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T16:24:35Z","updated_at":"2025-01-24T14:37:45Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/923#issuecomment-162010840\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/923#issuecomment-162010840</a></p>\n\n<p>    @d2r can you take a look thanks!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612684716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612684723","html_url":"https://github.com/apache/storm/issues/5205#issuecomment-2612684723","issue_url":"https://api.github.com/repos/apache/storm/issues/5205","id":2612684723,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODQ3MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T16:33:48Z","updated_at":"2025-01-24T14:37:45Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/923#discussion_r46701044\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/923#discussion_r46701044</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/scheduler/multitenant/Node.java &#8212;<br/>\n    @@ -334,7 +334,7 @@ public static int countTotalSlotsAlive(Collection<Node> nodes) {<br/>\n       public static final Comparator<Node> FREE_NODE_COMPARATOR_DEC = new Comparator<Node>() {<br/>\n @Override<br/>\n public int compare(Node o1, Node o2) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>return o2.totalSlotsFree() - o1.totalSlotsFree();<br/>\n    +      return o1.totalSlotsUsed() - o2.totalSlotsUsed();\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Yes, this was the fix for spreading components on isolated nodes when certain workers are having trouble coming up.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612684723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/162014757","html_url":"https://github.com/apache/storm/pull/923#issuecomment-162014757","issue_url":"https://api.github.com/repos/apache/storm/issues/923","id":162014757,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjAxNDc1Nw==","user":{"login":"jerrypeng","id":3613359,"node_id":"MDQ6VXNlcjM2MTMzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3613359?v=4","gravatar_id":"","url":"https://api.github.com/users/jerrypeng","html_url":"https://github.com/jerrypeng","followers_url":"https://api.github.com/users/jerrypeng/followers","following_url":"https://api.github.com/users/jerrypeng/following{/other_user}","gists_url":"https://api.github.com/users/jerrypeng/gists{/gist_id}","starred_url":"https://api.github.com/users/jerrypeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerrypeng/subscriptions","organizations_url":"https://api.github.com/users/jerrypeng/orgs","repos_url":"https://api.github.com/users/jerrypeng/repos","events_url":"https://api.github.com/users/jerrypeng/events{/privacy}","received_events_url":"https://api.github.com/users/jerrypeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T16:38:51Z","updated_at":"2015-12-04T16:38:51Z","author_association":"CONTRIBUTOR","body":"unrelated travis failure only for java 8 storm-core build\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/162014757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612684727","html_url":"https://github.com/apache/storm/issues/5205#issuecomment-2612684727","issue_url":"https://api.github.com/repos/apache/storm/issues/5205","id":2612684727,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2ODQ3Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T16:38:52Z","updated_at":"2025-01-24T14:37:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jerrypeng commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/923#issuecomment-162014757\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/923#issuecomment-162014757</a></p>\n\n<p>    unrelated travis failure only for java 8 storm-core build</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612684727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537856","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537856","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537856,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T16:44:33Z","updated_at":"2025-01-24T13:30:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/920#discussion_r46702377\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/920#discussion_r46702377</a></p>\n\n<p>    &#8212; Diff: storm-core/test/jvm/backtype/storm/utils/ShellBoltMessageQueueTest.java &#8212;<br/>\n    @@ -0,0 +1,85 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package backtype.storm.utils;<br/>\n    +<br/>\n    +import backtype.storm.multilang.BoltMsg;<br/>\n    +import com.google.common.collect.Lists;<br/>\n    +import junit.framework.TestCase;<br/>\n    +import org.junit.Test;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.List;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +public class ShellBoltMessageQueueTest extends TestCase {<br/>\n    +    @Test<br/>\n    +    public void testPollTaskIdsFirst() throws InterruptedException </p>\n{\n    +ShellBoltMessageQueue queue = new ShellBoltMessageQueue();\n    +\n    +// put bolt message first, then put task ids\n    +queue.putBoltMsg(new BoltMsg());\n    +ArrayList<Integer> taskIds = Lists.newArrayList(1, 2, 3);\n    +queue.putTaskIds(taskIds);\n    +\n    +Object msg = queue.poll(10, TimeUnit.SECONDS);\n    +\n    +// task ids should be pulled first\n    +assertTrue(msg instanceof List<?>);\n    +assertEquals(msg, taskIds);\n    +    }\n<p>    +<br/>\n    +    @Test<br/>\n    +    public void testPollWhileThereAreNoDataAvailable() throws InterruptedException {<br/>\n    +ShellBoltMessageQueue queue = new ShellBoltMessageQueue();<br/>\n    +<br/>\n    +long start = System.currentTimeMillis();<br/>\n    +Object msg = queue.poll(1, TimeUnit.SECONDS);<br/>\n    +long finish = System.currentTimeMillis();<br/>\n    +long waitDuration = finish - start;<br/>\n    +<br/>\n    +assertNull(msg);<br/>\n    +assertTrue(\"wait duration should be equal or greater than 1000, current: \" + waitDuration, waitDuration >= 1000);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Aha!  Makes sense.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/162016462","html_url":"https://github.com/apache/storm/pull/920#issuecomment-162016462","issue_url":"https://api.github.com/repos/apache/storm/issues/920","id":162016462,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjAxNjQ2Mg==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T16:45:05Z","updated_at":"2015-12-04T16:45:05Z","author_association":"NONE","body":"@HeartSaVioR ,\n\nAny chance this is related to the change?\n\n```\ntestTimeBasedWindow(backtype.storm.windowing.WindowManagerTest)  Time elapsed: 0.176 sec  <<< FAILURE!\n\njava.lang.AssertionError: expected:<100> but was:<0>\n\n    at org.junit.Assert.fail(Assert.java:88)\n\n    at org.junit.Assert.failNotEquals(Assert.java:743)\n\n    at org.junit.Assert.assertEquals(Assert.java:118)\n\n    at org.junit.Assert.assertEquals(Assert.java:555)\n\n    at org.junit.Assert.assertEquals(Assert.java:542)\n\n    at backtype.storm.windowing.WindowManagerTest.testTimeBasedWindow(WindowManagerTest.java:163)\n\ntestTimeBasedWindowExpiry(backtype.storm.windowing.WindowManagerTest)  Time elapsed: 0.16 sec  <<< FAILURE!\n\njava.lang.AssertionError: expected:<[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]> but was:<[]>\n\n    at org.junit.Assert.fail(Assert.java:88)\n\n    at org.junit.Assert.failNotEquals(Assert.java:743)\n\n    at org.junit.Assert.assertEquals(Assert.java:118)\n\n    at org.junit.Assert.assertEquals(Assert.java:144)\n\n    at backtype.storm.windowing.WindowManagerTest.testTimeBasedWindowExpiry(WindowManagerTest.java:199)\n```\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/162016462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537860","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537860","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537860,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4NjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T16:45:06Z","updated_at":"2025-01-24T13:30:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/920#issuecomment-162016462\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/920#issuecomment-162016462</a></p>\n\n<p>    @HeartSaVioR ,</p>\n\n<p>    Any chance this is related to the change?</p>\n\n<p>    ```<br/>\n    testTimeBasedWindow(backtype.storm.windowing.WindowManagerTest)  Time elapsed: 0.176 sec  <<< FAILURE!</p>\n\n<p>    java.lang.AssertionError: expected:<100> but was:<0></p>\n\n<p>    \tat org.junit.Assert.fail(Assert.java:88)</p>\n\n<p>    \tat org.junit.Assert.failNotEquals(Assert.java:743)</p>\n\n<p>    \tat org.junit.Assert.assertEquals(Assert.java:118)</p>\n\n<p>    \tat org.junit.Assert.assertEquals(Assert.java:555)</p>\n\n<p>    \tat org.junit.Assert.assertEquals(Assert.java:542)</p>\n\n<p>    \tat backtype.storm.windowing.WindowManagerTest.testTimeBasedWindow(WindowManagerTest.java:163)</p>\n\n<p>    testTimeBasedWindowExpiry(backtype.storm.windowing.WindowManagerTest)  Time elapsed: 0.16 sec  <<< FAILURE!</p>\n\n<p>    java.lang.AssertionError: expected:<<span class=\"error\">&#91;1, 2, 3, 4, 5, 6, 7, 8, 9, 10&#93;</span>> but was:<[]></p>\n\n<p>    \tat org.junit.Assert.fail(Assert.java:88)</p>\n\n<p>    \tat org.junit.Assert.failNotEquals(Assert.java:743)</p>\n\n<p>    \tat org.junit.Assert.assertEquals(Assert.java:118)</p>\n\n<p>    \tat org.junit.Assert.assertEquals(Assert.java:144)</p>\n\n<p>    \tat backtype.storm.windowing.WindowManagerTest.testTimeBasedWindowExpiry(WindowManagerTest.java:199)<br/>\n    ```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612628609","html_url":"https://github.com/apache/storm/issues/5025#issuecomment-2612628609","issue_url":"https://api.github.com/repos/apache/storm/issues/5025","id":2612628609,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2Mjg2MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T17:02:16Z","updated_at":"2025-01-24T14:13:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user rfarivar commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/900#discussion_r46704537\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/900#discussion_r46704537</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/windowing/TimeEvictionPolicy.java &#8212;<br/>\n    @@ -21,21 +21,30 @@</p>\n<ul>\n\t<li>Eviction policy that evicts events based on time duration.<br/>\n      */<br/>\n     public class TimeEvictionPolicy<T> implements EvictionPolicy<T> {</li>\n</ul>\n<ul class=\"alternate\" type=\"square\">\n\t<li>private final long duration;<br/>\n    +    private final int windowLength;<br/>\n    +    protected Long currentTs;\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    What does currentTs represent? May I suggest renaming to something more representative?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612628609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/162045010","html_url":"https://github.com/apache/storm/pull/921#issuecomment-162045010","issue_url":"https://api.github.com/repos/apache/storm/issues/921","id":162045010,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjA0NTAxMA==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T18:34:48Z","updated_at":"2015-12-04T18:34:48Z","author_association":"CONTRIBUTOR","body":"Done with my first pass through the code.  It looks good.  Just a few minor comments.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/162045010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/162062822","html_url":"https://github.com/apache/storm/pull/913#issuecomment-162062822","issue_url":"https://api.github.com/repos/apache/storm/issues/913","id":162062822,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjA2MjgyMg==","user":{"login":"dossett","id":7207582,"node_id":"MDQ6VXNlcjcyMDc1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/7207582?v=4","gravatar_id":"","url":"https://api.github.com/users/dossett","html_url":"https://github.com/dossett","followers_url":"https://api.github.com/users/dossett/followers","following_url":"https://api.github.com/users/dossett/following{/other_user}","gists_url":"https://api.github.com/users/dossett/gists{/gist_id}","starred_url":"https://api.github.com/users/dossett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dossett/subscriptions","organizations_url":"https://api.github.com/users/dossett/orgs","repos_url":"https://api.github.com/users/dossett/repos","events_url":"https://api.github.com/users/dossett/events{/privacy}","received_events_url":"https://api.github.com/users/dossett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T19:41:02Z","updated_at":"2015-12-04T19:41:12Z","author_association":"CONTRIBUTOR","body":"Closing this and opening a new PR.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/162062822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612574468","html_url":"https://github.com/apache/storm/issues/4742#issuecomment-2612574468","issue_url":"https://api.github.com/repos/apache/storm/issues/4742","id":2612574468,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzQ0Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T19:41:04Z","updated_at":"2025-01-24T13:49:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dossett closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/913\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/913</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612574468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/162069596","html_url":"https://github.com/apache/storm/pull/922#issuecomment-162069596","issue_url":"https://api.github.com/repos/apache/storm/issues/922","id":162069596,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjA2OTU5Ng==","user":{"login":"Parth-Brahmbhatt","id":6914358,"node_id":"MDQ6VXNlcjY5MTQzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6914358?v=4","gravatar_id":"","url":"https://api.github.com/users/Parth-Brahmbhatt","html_url":"https://github.com/Parth-Brahmbhatt","followers_url":"https://api.github.com/users/Parth-Brahmbhatt/followers","following_url":"https://api.github.com/users/Parth-Brahmbhatt/following{/other_user}","gists_url":"https://api.github.com/users/Parth-Brahmbhatt/gists{/gist_id}","starred_url":"https://api.github.com/users/Parth-Brahmbhatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Parth-Brahmbhatt/subscriptions","organizations_url":"https://api.github.com/users/Parth-Brahmbhatt/orgs","repos_url":"https://api.github.com/users/Parth-Brahmbhatt/repos","events_url":"https://api.github.com/users/Parth-Brahmbhatt/events{/privacy}","received_events_url":"https://api.github.com/users/Parth-Brahmbhatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T20:10:17Z","updated_at":"2015-12-04T20:10:17Z","author_association":"CONTRIBUTOR","body":"@revans2 @unsleepy22 I did not know Jstorm has it and hasn't had a chance to look at the dist cache. \n\nMy goal was to allow users to update topology or config or jar and support workers being restarted in a rolling fashion, When the topology it self is changed we can still do rolling restart and that is the part where I have a TODO that I need to finish. \n\nI thought all of those required workers to bounce, I am not sure which parts can work without bouncing the worker. \n\nThe code I have commented is about making update a state just like rebalance/kill/activate and I am still not convinced that it needs to be a state of its own.\n\nI am fine with waiting till we are done with JStorm integration as long as JStorm achieves the same goals.   If others think that this is an important enough feature that we should include in the release before we do a feature lockdown, I can upmerge with dist cache and use it as @revans2  suggested.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/162069596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612679992","html_url":"https://github.com/apache/storm/issues/5180#issuecomment-2612679992","issue_url":"https://api.github.com/repos/apache/storm/issues/5180","id":2612679992,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2Nzk5OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T20:10:18Z","updated_at":"2025-01-24T14:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/922#issuecomment-162069596\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/922#issuecomment-162069596</a></p>\n\n<p>    @revans2 @unsleepy22 I did not know Jstorm has it and hasn't had a chance to look at the dist cache. </p>\n\n<p>    My goal was to allow users to update topology or config or jar and support workers being restarted in a rolling fashion, When the topology it self is changed we can still do rolling restart and that is the part where I have a TODO that I need to finish. </p>\n\n<p>    I thought all of those required workers to bounce, I am not sure which parts can work without bouncing the worker. </p>\n\n<p>    The code I have commented is about making update a state just like rebalance/kill/activate and I am still not convinced that it needs to be a state of its own.</p>\n\n<p>    I am fine with waiting till we are done with JStorm integration as long as JStorm achieves the same goals.   If others think that this is an important enough feature that we should include in the release before we do a feature lockdown, I can upmerge with dist cache and use it as @revans2  suggested.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612679992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/162082605","html_url":"https://github.com/apache/storm/pull/919#issuecomment-162082605","issue_url":"https://api.github.com/repos/apache/storm/issues/919","id":162082605,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjA4MjYwNQ==","user":{"login":"Parth-Brahmbhatt","id":6914358,"node_id":"MDQ6VXNlcjY5MTQzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6914358?v=4","gravatar_id":"","url":"https://api.github.com/users/Parth-Brahmbhatt","html_url":"https://github.com/Parth-Brahmbhatt","followers_url":"https://api.github.com/users/Parth-Brahmbhatt/followers","following_url":"https://api.github.com/users/Parth-Brahmbhatt/following{/other_user}","gists_url":"https://api.github.com/users/Parth-Brahmbhatt/gists{/gist_id}","starred_url":"https://api.github.com/users/Parth-Brahmbhatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Parth-Brahmbhatt/subscriptions","organizations_url":"https://api.github.com/users/Parth-Brahmbhatt/orgs","repos_url":"https://api.github.com/users/Parth-Brahmbhatt/repos","events_url":"https://api.github.com/users/Parth-Brahmbhatt/events{/privacy}","received_events_url":"https://api.github.com/users/Parth-Brahmbhatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T21:09:54Z","updated_at":"2015-12-04T21:09:54Z","author_association":"CONTRIBUTOR","body":"+1.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/162082605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599030","html_url":"https://github.com/apache/storm/issues/4878#issuecomment-2612599030","issue_url":"https://api.github.com/repos/apache/storm/issues/4878","id":2612599030,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1OTkwMzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T21:09:55Z","updated_at":"2025-01-24T14:00:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/919#issuecomment-162082605\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/919#issuecomment-162082605</a></p>\n\n<p>    +1.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612599030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/162093714","html_url":"https://github.com/apache/storm/pull/920#issuecomment-162093714","issue_url":"https://api.github.com/repos/apache/storm/issues/920","id":162093714,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjA5MzcxNA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T22:01:01Z","updated_at":"2015-12-04T22:01:20Z","author_association":"CONTRIBUTOR","body":"@d2r \nI believe that is random failure related to WindowManagerTest. (Not related to PR.)\nActually I didn't see the codes related to windowing, but at a glance I suspect there's a condition which makes test failed.\nI'll file a jira issue.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/162093714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537866","html_url":"https://github.com/apache/storm/issues/4597#issuecomment-2612537866","issue_url":"https://api.github.com/repos/apache/storm/issues/4597","id":2612537866,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Mzc4NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-04T22:01:03Z","updated_at":"2025-01-24T13:30:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/920#issuecomment-162093714\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/920#issuecomment-162093714</a></p>\n\n<p>    @d2r <br/>\n    I believe that is random failure related to WindowManagerTest. <br/>\n    Actually I didn't see the codes related to windowing, but at a glance I suspect there's a condition which makes test failed.<br/>\n    I'll file a jira issue.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612537866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]