[{"url":"https://api.github.com/repos/apache/druid/issues/comments/282807617","html_url":"https://github.com/apache/druid/issues/3978#issuecomment-282807617","issue_url":"https://api.github.com/repos/apache/druid/issues/3978","id":282807617,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjgwNzYxNw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T18:32:26Z","updated_at":"2017-02-27T18:32:26Z","author_association":"CONTRIBUTOR","body":"Yes, but if its failing because of a deadlock the deadlock needs fixed.\r\n\r\nIf it is failing because it just takes longer then it can be fixed to take less time.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282807617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282807786","html_url":"https://github.com/apache/druid/issues/3978#issuecomment-282807786","issue_url":"https://api.github.com/repos/apache/druid/issues/3978","id":282807786,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjgwNzc4Ng==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T18:32:59Z","updated_at":"2017-02-27T18:32:59Z","author_association":"CONTRIBUTOR","body":"agree. that test initially had a timeout of 10 secs and then @nishantmonu51 upped to 60secs with https://github.com/druid-io/druid/pull/3224 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282807786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282811017","html_url":"https://github.com/apache/druid/pull/3855#issuecomment-282811017","issue_url":"https://api.github.com/repos/apache/druid/issues/3855","id":282811017,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjgxMTAxNw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T18:44:35Z","updated_at":"2017-02-27T19:12:56Z","author_association":"CONTRIBUTOR","body":"@fjy @leventov major reason for this PR to be in 0.10.0 are following...\r\n\r\n1) coordinator HTTP endpoint API changes\r\n2) on upgrade, it is required that all coordinators are brought down and then started with new version. \"rolling\" upgrade should not be done for coordinators.\r\n\r\ngiven that QTL is considered experimental feature and if we are fine with above in 0.10.1 then, we can move this .","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282811017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282814161","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-282814161","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":282814161,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjgxNDE2MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T18:55:42Z","updated_at":"2017-02-27T18:55:42Z","author_association":"CONTRIBUTOR","body":"@gianm any more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282814161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282822431","html_url":"https://github.com/apache/druid/issues/3978#issuecomment-282822431","issue_url":"https://api.github.com/repos/apache/druid/issues/3978","id":282822431,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjgyMjQzMQ==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T19:21:10Z","updated_at":"2017-02-27T19:33:33Z","author_association":"CONTRIBUTOR","body":"@drcrallen  @kaijianding the test doesn't fail for me locally. tried executing on IDE as well as via mvn.\r\n\r\nI'm investigating why it takes so long.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282822431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282840926","html_url":"https://github.com/apache/druid/issues/3978#issuecomment-282840926","issue_url":"https://api.github.com/repos/apache/druid/issues/3978","id":282840926,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg0MDkyNg==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T20:20:24Z","updated_at":"2017-02-27T20:20:40Z","author_association":"CONTRIBUTOR","body":"ok. i can confirm that the something with #3850 has slowed loading of the class significantly.\r\nThis test took 5secs for 1000 iterations before the merge. Now its taking over 5secs for 10 iterations. investigating....","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282840926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282877184","html_url":"https://github.com/apache/druid/pull/3979#issuecomment-282877184","issue_url":"https://api.github.com/repos/apache/druid/issues/3979","id":282877184,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg3NzE4NA==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T22:27:34Z","updated_at":"2017-02-27T22:27:34Z","author_association":"CONTRIBUTOR","body":"@drcrallen @kaijianding  fixed this unit test.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282877184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282878352","html_url":"https://github.com/apache/druid/issues/3978#issuecomment-282878352","issue_url":"https://api.github.com/repos/apache/druid/issues/3978","id":282878352,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjg3ODM1Mg==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-27T22:31:46Z","updated_at":"2017-02-27T22:31:46Z","author_association":"CONTRIBUTOR","body":"@drcrallen the issue has been fixed. please review the pr. \r\n\r\nThe reason it took so long was b/c all the predefined granularities were also being initialized each time. So i followed the same trick as before, moved the static fields to a separate `Granularities` file and moved the check for `PREDEFINED_GRANULARITIES` inline instead of maintaining a separate list.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282878352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282902613","html_url":"https://github.com/apache/druid/pull/3966#issuecomment-282902613","issue_url":"https://api.github.com/repos/apache/druid/issues/3966","id":282902613,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjkwMjYxMw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T00:29:34Z","updated_at":"2017-02-28T00:29:41Z","author_association":"CONTRIBUTOR","body":"@gianm \r\nRe: your comment on makeColumnValueSelector\r\n\r\nthanks, I missed that, I added a couple of tests, one in GroupBy and one in TopN that have aggregations on numeric columns ingested as dimensions, these trigger the float->long and long->float cases you mentioned in IncrementalIndexStorageAdapter\r\n\r\nI added something to makeLong/FloatColumnSelector to create wrapping selectors that cast the values returned by the base selector from the indexer if necessary","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282902613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282912787","html_url":"https://github.com/apache/druid/pull/3928#issuecomment-282912787","issue_url":"https://api.github.com/repos/apache/druid/issues/3928","id":282912787,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjkxMjc4Nw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T01:28:29Z","updated_at":"2017-02-28T01:28:29Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer it's an issue with the tests that comes up sometimes, I just closed/re-opened to re-run the tests","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282912787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282938839","html_url":"https://github.com/apache/druid/pull/3889#issuecomment-282938839","issue_url":"https://api.github.com/repos/apache/druid/issues/3889","id":282938839,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjkzODgzOQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T04:27:24Z","updated_at":"2017-02-28T04:27:24Z","author_association":"MEMBER","body":"@jon-wei thanks for review","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282938839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282943111","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-282943111","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":282943111,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjk0MzExMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T05:03:01Z","updated_at":"2017-02-28T05:03:19Z","author_association":"MEMBER","body":"@leerho \r\n\r\n> So I'd like to keep the boolean readOnly as a backup check, in the hopes that at some point they at least run their code with assertions enabled. There is no cost at run-time.\r\n\r\nOk.\r\n\r\nOne thing that wasn't discussed and designed yet, is how do we support big-endian writes and reads, to support legacy formats.\r\n\r\nOptions:\r\n - Explicit `putXxxBigEndian(offset, v)/getXxxBigEndian(offset)` or `putXxx(offset, v, ByteOrder order)` methods in the main interface. (This approach is taken in Argona's buffers)\r\n - A separate implementation, with own factory methods like `mapFile(f, ByteOrder order)`, or a conversion method `Memory.asBigEndian()`\r\n - No support, need to convert and use `ByteBuffer` to be able to read and write legacy formats.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282943111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/282945211","html_url":"https://github.com/apache/druid/pull/3979#issuecomment-282945211","issue_url":"https://api.github.com/repos/apache/druid/issues/3979","id":282945211,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mjk0NTIxMQ==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T05:20:45Z","updated_at":"2017-02-28T05:20:45Z","author_association":"CONTRIBUTOR","body":"@fjy @drcrallen I need two thumbs up to merge this. @leventov is already looking. \r\nCan someone else volunteer?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/282945211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283106987","html_url":"https://github.com/apache/druid/pull/3979#issuecomment-283106987","issue_url":"https://api.github.com/repos/apache/druid/issues/3979","id":283106987,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEwNjk4Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T17:26:16Z","updated_at":"2017-02-28T17:26:16Z","author_association":"CONTRIBUTOR","body":"Should this be part of 0.10.0?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283106987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283107390","html_url":"https://github.com/apache/druid/pull/3669#issuecomment-283107390","issue_url":"https://api.github.com/repos/apache/druid/issues/3669","id":283107390,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEwNzM5MA==","user":{"login":"sata","id":226054,"node_id":"MDQ6VXNlcjIyNjA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/226054?v=4","gravatar_id":"","url":"https://api.github.com/users/sata","html_url":"https://github.com/sata","followers_url":"https://api.github.com/users/sata/followers","following_url":"https://api.github.com/users/sata/following{/other_user}","gists_url":"https://api.github.com/users/sata/gists{/gist_id}","starred_url":"https://api.github.com/users/sata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sata/subscriptions","organizations_url":"https://api.github.com/users/sata/orgs","repos_url":"https://api.github.com/users/sata/repos","events_url":"https://api.github.com/users/sata/events{/privacy}","received_events_url":"https://api.github.com/users/sata/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T17:27:38Z","updated_at":"2017-02-28T17:27:38Z","author_association":"NONE","body":"I tried this fix by backporting it myself and I'm finding the solution not to be working for the scenario I'm seeing. \r\n\r\nHostedGraphite seems to have very aggressive timeouts in longer periods where they close their end roughly after a minute and a few seconds. Our interval window is sending each minute - if we have enough metrics to send.\r\n\r\nThe metric library which the extension uses, drops the metrics if it cannot write to the socket. If this happens regularly then we loose metrics. I have seen this happening for a full day on several occasions.\r\n\r\nIt seems this issue isn't new either[1]. \r\n\r\nI tried to leverage TCP keep alives on the socket[2] in conjunction with these kernel settings:\r\n\r\n> net.ipv4.tcp_keepalive_time=20\r\n> net.ipv4.tcp_keepalive_probes=3\r\n> net.ipv4.tcp_keepalive_intvl=5\r\n\r\nAnd it didn't help. Since I don't know how HostedGraphite firewallls look like it's quite hard to reason about it. One thing didn't investigate is to see if our probes actually were acknowledge or not.\r\n\r\nThe approach I tried with first which did work but less elegant was to send a garbage byte as payload to the end point. [3].\r\n\r\nThis does the job but it isn't pretty. Preferably an application layer keep alive would be better but that would require a change to Carbon. \r\n\r\nHas anyone else encountered this problem with HostedGraphite?\r\n\r\nI would preferably avoid maintaining a fork if that's possible.\r\n\r\n[1] https://github.com/dropwizard/metrics/issues/669\r\n[2] https://github.com/GameAnalytics/metrics/commit/abedd44e65145f45d11bce927d35571f2010c278 \r\n[3] https://github.com/GameAnalytics/metrics/commit/312e5b5332d41fcbecbe8d333d14eb5e1c314c15","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283107390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283107485","html_url":"https://github.com/apache/druid/pull/3979#issuecomment-283107485","issue_url":"https://api.github.com/repos/apache/druid/issues/3979","id":283107485,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEwNzQ4NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T17:27:58Z","updated_at":"2017-02-28T17:27:58Z","author_association":"CONTRIBUTOR","body":"@gianm it's messing up builds against `master`. If the prior granularity PR is in 0.10.0 I think \"make the tests work more than fail\" should also be there.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283107485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283107769","html_url":"https://github.com/apache/druid/pull/3979#issuecomment-283107769","issue_url":"https://api.github.com/repos/apache/druid/issues/3979","id":283107769,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEwNzc2OQ==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T17:28:55Z","updated_at":"2017-02-28T17:30:59Z","author_association":"CONTRIBUTOR","body":"@gianm yes pls\r\n\r\n@drcrallen this class was never a singleton (prior to CR feedback on the previous PR. so i removed it b/c we shouldn't restrict the class itself and Granularities was introduced which had static initializers) so if Granularities.ALL is invoked then the same instance will be used.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283107769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283107822","html_url":"https://github.com/apache/druid/pull/3979#issuecomment-283107822","issue_url":"https://api.github.com/repos/apache/druid/issues/3979","id":283107822,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEwNzgyMg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T17:29:06Z","updated_at":"2017-02-28T17:29:06Z","author_association":"CONTRIBUTOR","body":"@praveev If I get this right the singletons are in `Granularities`? if so I'm good","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283107822/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283108547","html_url":"https://github.com/apache/druid/pull/3979#issuecomment-283108547","issue_url":"https://api.github.com/repos/apache/druid/issues/3979","id":283108547,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEwODU0Nw==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T17:31:32Z","updated_at":"2017-02-28T17:31:32Z","author_association":"CONTRIBUTOR","body":"@leventov anything else? if not, can you pls merge?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283108547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283114642","html_url":"https://github.com/apache/druid/pull/3966#issuecomment-283114642","issue_url":"https://api.github.com/repos/apache/druid/issues/3966","id":283114642,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzExNDY0Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T17:54:55Z","updated_at":"2017-02-28T17:54:55Z","author_association":"CONTRIBUTOR","body":"@jon-wei The wrapping stuff in IISA feels a bit weird -- I think it'd be nicer for the DimensionIndexers to handle that on their own. So, that means replacing makeColumnValueSelector with makeObjectColumnSelector, makeLongColumnSelector, makeFloatColumnSelector, and makeDimensionSelector, giving full control over behavior to the type handler.\r\n\r\nThe long/float handlers should probably return NullDimensionSelector for makeDimensionSelector since QISA behaves like that too.\r\n\r\nThe string handler should probably return Zero-selectors for long/float since, again, QISA behaves like that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283114642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283115161","html_url":"https://github.com/apache/druid/pull/3966#issuecomment-283115161","issue_url":"https://api.github.com/repos/apache/druid/issues/3966","id":283115161,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzExNTE2MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T17:56:51Z","updated_at":"2017-02-28T17:56:58Z","author_association":"CONTRIBUTOR","body":"Also, the current code in your patch throws UnsupportedOperationExceptions in some cases, but I think we should avoid those and return null/zero selectors instead (like QISA).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283115161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283116380","html_url":"https://github.com/apache/druid/pull/3980#issuecomment-283116380","issue_url":"https://api.github.com/repos/apache/druid/issues/3980","id":283116380,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzExNjM4MA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:01:56Z","updated_at":"2017-02-28T18:01:56Z","author_association":"CONTRIBUTOR","body":"👍 @hzy001  Can you sign http://druid.io/community/cla.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283116380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283117099","html_url":"https://github.com/apache/druid/pull/2524#issuecomment-283117099","issue_url":"https://api.github.com/repos/apache/druid/issues/2524","id":283117099,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzExNzA5OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:04:43Z","updated_at":"2017-02-28T18:04:43Z","author_association":"CONTRIBUTOR","body":"Moving to 0.10.1 as review is not complete. @sirpkt please let us know if you're still interested and we will endeavor to take another look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283117099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283118547","html_url":"https://github.com/apache/druid/pull/2767#issuecomment-283118547","issue_url":"https://api.github.com/repos/apache/druid/issues/2767","id":283118547,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzExODU0Nw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:10:30Z","updated_at":"2017-02-28T18:10:30Z","author_association":"CONTRIBUTOR","body":"@gianm 👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283118547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283120779","html_url":"https://github.com/apache/druid/pull/3855#issuecomment-283120779","issue_url":"https://api.github.com/repos/apache/druid/issues/3855","id":283120779,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEyMDc3OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:19:46Z","updated_at":"2017-02-28T18:19:46Z","author_association":"CONTRIBUTOR","body":"Pushing to 0.10.1 as discussed in the dev sync","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283120779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283121820","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-283121820","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":283121820,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEyMTgyMA==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:24:12Z","updated_at":"2017-02-28T18:24:12Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\nSupporting BE/LE is messy.  We need to consider dual-mode cases: e.g., reading TCP/IP packets where the protocol fields are BE, and the payload could be LE.  Not that I want to write packet handlers, but I could believe that careless use of ByteBuffer (without always specifying endianness) could lead to horrible mixed endianness data!\r\n\r\nI also don't want to encourage the propagation of BE data when it is clearly unnecessary and a significant performance hit.  \r\n\r\n- **Explicit:** `putXBigEndian(offset, v)` ... would double the already large number of methods, and becomes a slippery slope WRT how we implement the other variants (positional). I'm not really keen on this one.  \r\n\r\n- **Per call:** `putX(offset, v, ByteOrder order)` incurs a cost with every put/get whether BE or LE. So I'm definitely opposed to this unless it is a totally separate implementation.\r\n\r\n- **Totally separate implementation:**  All put/get methods would be of the form `putX(offset, v, ByteOrder order)`.   This has the advantage of covering the horrible mixed endianness cases.  The specific factory  `mapFile(f, offset, capacity)` would not have to specify endianness as this is an option on every `put/get` that the mapping class extends.   However, wrapping ByteBuffer, with its internal endianness state, properly (and maintain sanity) may take a little more thought. E.g., do we keep the endianness state of BB in our state and make it visible?  How easy would it be for a developer to accidentally end up with double byte-swaps?  \r\n\r\nA separate implementations is a lot of work, and, IMHO, provides little incentive for developers to fix the fundamental underlying problem. Keeping these separate implementations in sync with changes to the basic implementation could be a maintenance headache.  \r\n\r\n- **No support:**  I kinda like this one as it would really encourage developers to go back and regenerate their data using LE (if at all possible) or at least somehow mark the data as \"deprecated\" to be eventually replaced with the LE form. One option would require developers to explicitly call byte swappers for every put/get call.   We could provide efficient byte swapper methods (only 3), but that would be the extent of it.\r\n\r\n- **Separate Library**  Another possibility is a totally separate package, possibly in the Druid domain, that implements these variants (which, at this point, could be based on true interfaces) and underneath calls or extends the Memory package, which will always be Native-Endianness and non-positional.  \r\n\r\nWhatever we recommend here needs to be in context with however we decide to support other variants (e.g., positional put/gets, thread-safe?, ...).  Is the positional approach also a totally separate implementation? Or should we ask developers to write their own positional logic that wraps the calls they need? (We could provide example code on how to do that.)\r\n\r\nWith all the potential separate implementation variants (basic, endianness, positional, thread-safe, etc), we are talking about a huge amount of code, and way beyond what I originally envisioned as a small, fast library that simply extends Unsafe.  And, BTW, NONE of these other implementations will have the speed of the basic implementation (and where I start losing interest).\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283121820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283123504","html_url":"https://github.com/apache/druid/pull/3979#issuecomment-283123504","issue_url":"https://api.github.com/repos/apache/druid/issues/3979","id":283123504,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEyMzUwNA==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:31:28Z","updated_at":"2017-02-28T18:31:28Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283123504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283123626","html_url":"https://github.com/apache/druid/pull/3855#issuecomment-283123626","issue_url":"https://api.github.com/repos/apache/druid/issues/3855","id":283123626,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEyMzYyNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:32:00Z","updated_at":"2017-03-01T15:46:18Z","author_association":"CONTRIBUTOR","body":"we decided to move this PR to 0.10.1 , given the experimental nature of lookup , coordinator API backward incompatibility is fine","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283123626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283123915","html_url":"https://github.com/apache/druid/pull/3860#issuecomment-283123915","issue_url":"https://api.github.com/repos/apache/druid/issues/3860","id":283123915,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEyMzkxNQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:33:23Z","updated_at":"2017-02-28T18:36:20Z","author_association":"MEMBER","body":"@dkhwangbo Once https://github.com/druid-io/druid/pull/3860/files#r103521383 is resolved I am good to get this merged 👍  also I would suggest that you run the latest code on your druid setup  (just in case some issue comes up you can do follow up PRs)\r\nthanks @dkhwangbo for resolving the outstanding issues quickly","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283123915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283124121","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-283124121","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":283124121,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEyNDEyMQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:34:20Z","updated_at":"2017-02-28T18:34:20Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\nBTW, so far, these other variants will not be able to leverage the stateless base classes Memory and WritableMemory that we have in the current design.  This calls into question the value of these stateless classes and makes them more like bloat.  I am seriously considering removing one or both of them.  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283124121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283128283","html_url":"https://github.com/apache/druid/pull/3979#issuecomment-283128283","issue_url":"https://api.github.com/repos/apache/druid/issues/3979","id":283128283,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEyODI4Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T18:51:33Z","updated_at":"2017-02-28T18:51:33Z","author_association":"MEMBER","body":"Ok the last change is a doc-only change, the previous build passed, but now it is not starting. Merging","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283128283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283131764","html_url":"https://github.com/apache/druid/pull/3964#issuecomment-283131764","issue_url":"https://api.github.com/repos/apache/druid/issues/3964","id":283131764,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzEzMTc2NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T19:04:00Z","updated_at":"2017-02-28T19:04:00Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283131764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283140979","html_url":"https://github.com/apache/druid/pull/3628#issuecomment-283140979","issue_url":"https://api.github.com/repos/apache/druid/issues/3628","id":283140979,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE0MDk3OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T19:39:45Z","updated_at":"2017-02-28T19:39:45Z","author_association":"CONTRIBUTOR","body":"@himanshug what did you want included in the release notes for this? (you tagged it \"Release Notes\")","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283140979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283143973","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283143973","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283143973,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE0Mzk3Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T19:52:41Z","updated_at":"2017-02-28T19:52:41Z","author_association":"CONTRIBUTOR","body":"Updated the release notes with blurbs or at least TODO references to all issues tagged \"Incompatible\", \"Release Notes\", or \"Performance\" — except for #3628 since I wasn't sure what to write about that one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283143973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283145044","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283145044","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283145044,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE0NTA0NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T19:57:20Z","updated_at":"2017-02-28T19:57:39Z","author_association":"CONTRIBUTOR","body":"@b-slim, @nishantmonu51 could you please write a blurb for \"Improved Kerberos support\" as a comment on this issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283145044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283145129","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283145129","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283145129,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE0NTEyOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T19:57:43Z","updated_at":"2017-02-28T19:57:43Z","author_association":"CONTRIBUTOR","body":"@dclim could you please write a blurb for \"Index task revamp\" as a comment on this issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283145129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283145264","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283145264","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283145264,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE0NTI2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T19:58:20Z","updated_at":"2017-02-28T19:58:20Z","author_association":"CONTRIBUTOR","body":"@himanshug could you please write a blurb for \"Coordinator/Overlord combination option\" as a comment on this issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283145264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283147804","html_url":"https://github.com/apache/druid/pull/3964#issuecomment-283147804","issue_url":"https://api.github.com/repos/apache/druid/issues/3964","id":283147804,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE0NzgwNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T20:09:58Z","updated_at":"2017-02-28T20:09:58Z","author_association":"MEMBER","body":"@b-slim @nishantmonu51 any comments on recent additions?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283147804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283154542","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283154542","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283154542,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE1NDU0Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T20:41:58Z","updated_at":"2017-02-28T20:41:58Z","author_association":"CONTRIBUTOR","body":"@gianm @jon-wei have you guys seen something similar in 0.9.2 and if there was a bug that got fixed in 0.10.0 ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283154542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283156457","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283156457","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283156457,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE1NjQ1Nw==","user":{"login":"pavanab4u","id":26097447,"node_id":"MDQ6VXNlcjI2MDk3NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/26097447?v=4","gravatar_id":"","url":"https://api.github.com/users/pavanab4u","html_url":"https://github.com/pavanab4u","followers_url":"https://api.github.com/users/pavanab4u/followers","following_url":"https://api.github.com/users/pavanab4u/following{/other_user}","gists_url":"https://api.github.com/users/pavanab4u/gists{/gist_id}","starred_url":"https://api.github.com/users/pavanab4u/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavanab4u/subscriptions","organizations_url":"https://api.github.com/users/pavanab4u/orgs","repos_url":"https://api.github.com/users/pavanab4u/repos","events_url":"https://api.github.com/users/pavanab4u/events{/privacy}","received_events_url":"https://api.github.com/users/pavanab4u/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T20:50:18Z","updated_at":"2017-02-28T20:50:18Z","author_association":"NONE","body":"### result with v2 where month is totally wrong\r\n```\r\n[\r\n    {\r\n        \"version\": \"v1\",\r\n        \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n        \"event\": {\r\n            \"Month\": \"000001\",\r\n            \"xx\": 14,\r\n            \"yy\": \"D\"\r\n        }\r\n    },\r\n    {\r\n        \"version\": \"v1\",\r\n        \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n        \"event\": {\r\n            \"Month\": \"201604\",\r\n            \"xx\": 1,\r\n            \"yy\": \"S\"\r\n        }\r\n    },\r\n    {\r\n        \"version\": \"v1\",\r\n        \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n        \"event\": {\r\n            \"Month\": \"471301\",\r\n            \"xx\": 1,\r\n            \"yy\": \"S\"\r\n        }\r\n    },\r\n    {\r\n        \"version\": \"v1\",\r\n        \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n        \"event\": {\r\n            \"Month\": \"471301\",\r\n            \"xx\": 1,\r\n            \"yy\": \"T\"\r\n        }\r\n    }\r\n]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283156457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283156656","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283156656","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283156656,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE1NjY1Ng==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T20:51:15Z","updated_at":"2017-02-28T20:51:15Z","author_association":"CONTRIBUTOR","body":"@gianm added it directly by editing the initial comment","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283156656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283163054","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283163054","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283163054,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE2MzA1NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T21:17:11Z","updated_at":"2017-02-28T21:17:11Z","author_association":"CONTRIBUTOR","body":"thanks, although a new comment is easier to work with than editing the initial comment, since GitHub doesn't have good tools for resolving conflicts on issue comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283163054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283169635","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-283169635","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":283169635,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE2OTYzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T21:45:12Z","updated_at":"2017-02-28T21:45:12Z","author_association":"CONTRIBUTOR","body":"@fjy looking again now","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283169635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283169764","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283169764","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283169764,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE2OTc2NA==","user":{"login":"patelh","id":297178,"node_id":"MDQ6VXNlcjI5NzE3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297178?v=4","gravatar_id":"","url":"https://api.github.com/users/patelh","html_url":"https://github.com/patelh","followers_url":"https://api.github.com/users/patelh/followers","following_url":"https://api.github.com/users/patelh/following{/other_user}","gists_url":"https://api.github.com/users/patelh/gists{/gist_id}","starred_url":"https://api.github.com/users/patelh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patelh/subscriptions","organizations_url":"https://api.github.com/users/patelh/orgs","repos_url":"https://api.github.com/users/patelh/repos","events_url":"https://api.github.com/users/patelh/events{/privacy}","received_events_url":"https://api.github.com/users/patelh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T21:45:37Z","updated_at":"2017-02-28T21:45:37Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283169764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283171664","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283171664","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283171664,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE3MTY2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T21:51:07Z","updated_at":"2017-02-28T21:51:07Z","author_association":"CONTRIBUTOR","body":"@himanshug when you say \"sometimes correct and sometimes not\" what is the correct result and what is the incorrect result you get? How many segments are you querying over? Is caching enabled anywhere?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283171664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283171816","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283171816","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283171816,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE3MTgxNg==","user":{"login":"patelh","id":297178,"node_id":"MDQ6VXNlcjI5NzE3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297178?v=4","gravatar_id":"","url":"https://api.github.com/users/patelh","html_url":"https://github.com/patelh","followers_url":"https://api.github.com/users/patelh/followers","following_url":"https://api.github.com/users/patelh/following{/other_user}","gists_url":"https://api.github.com/users/patelh/gists{/gist_id}","starred_url":"https://api.github.com/users/patelh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patelh/subscriptions","organizations_url":"https://api.github.com/users/patelh/orgs","repos_url":"https://api.github.com/users/patelh/repos","events_url":"https://api.github.com/users/patelh/events{/privacy}","received_events_url":"https://api.github.com/users/patelh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T21:51:37Z","updated_at":"2017-02-28T21:51:37Z","author_association":"CONTRIBUTOR","body":"I hope #3983 was already fixed before making v2 group by as default.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283171816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283172287","html_url":"https://github.com/apache/druid/pull/3628#issuecomment-283172287","issue_url":"https://api.github.com/repos/apache/druid/issues/3628","id":283172287,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE3MjI4Nw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T21:53:10Z","updated_at":"2017-02-28T21:53:10Z","author_association":"CONTRIBUTOR","body":"@gianm i wanted to mention just a note that don't set `druid.processing.numThreads` and `druid.processing.buffer.sizeBytes` to arbitrarily large values or historical/peon startup might fail to start.\r\n\r\nadded it under \"Other Notes\"","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283172287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283173065","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283173065","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283173065,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE3MzA2NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T21:55:25Z","updated_at":"2017-02-28T21:56:54Z","author_association":"CONTRIBUTOR","body":"correct ans looks like...\r\n\r\n```\r\n\r\n\r\n    [\r\n        {\r\n            \"version\": \"v1\",\r\n            \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n            \"event\":\r\n            {\r\n                \"Month\": \"201603\",\r\n                \"Searches\": 4,\r\n                \"Device\": \"DESKTOP\"\r\n            }\r\n        },\r\n        {\r\n            \"version\": \"v1\",\r\n            \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n            \"event\":\r\n            {\r\n                \"Month\": \"201603\",\r\n                \"Searches\": 1,\r\n                \"Device\": \"SMARTPHONE\"\r\n            }\r\n        },\r\n        {\r\n            \"version\": \"v1\",\r\n            \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n            \"event\":\r\n            {\r\n                \"Month\": \"201604\",\r\n                \"Searches\": 5,\r\n                \"Device\": \"DESKTOP\"\r\n            }\r\n        },\r\n        {\r\n            \"version\": \"v1\",\r\n            \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n            \"event\":\r\n            {\r\n                \"Month\": \"201604\",\r\n                \"Searches\": 1,\r\n                \"Device\": \"SMARTPHONE\"\r\n            }\r\n        },\r\n        {\r\n            \"version\": \"v1\",\r\n            \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n            \"event\":\r\n            {\r\n                \"Month\": \"201605\",\r\n                \"Searches\": 5,\r\n                \"Device\": \"DESKTOP\"\r\n            }\r\n        },\r\n        {\r\n            \"version\": \"v1\",\r\n            \"timestamp\": \"2016-03-01T00:00:00.000Z\",\r\n            \"event\":\r\n            {\r\n                \"Month\": \"201605\",\r\n                \"Searches\": 1,\r\n                \"Device\": \"TABLET\"\r\n            }\r\n        }\r\n    ]\r\n\r\n```\r\n\r\ni'm sure broker caching is not enabled and all data is from historical nodes.\r\n\r\n@pavanab4u can you further answer @gianm questions ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283173065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283174258","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283174258","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283174258,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE3NDI1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T21:58:38Z","updated_at":"2017-02-28T21:58:38Z","author_association":"CONTRIBUTOR","body":"SimpleDateFormat is used by TimeDimExtractionFn but is not thread-safe according to http://www.icu-project.org/apiref/icu4j/com/ibm/icu/text/SimpleDateFormat.html. groupBy v2 definitely applies this extractionFn from different threads since extractionFns are generally assumed to be thread safe. Maybe this is the problem.\r\n\r\nI'm not sure why groupBy v1 doesn't exhibit this problem, maybe for some reason it's less likely to apply extraction functions concurrently.\r\n\r\nCould you try hacking up a build that synchronizes `apply` on TimeDimExtractionFn? If that fixes it then that confirms this is the problem.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283174258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283174337","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283174337","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283174337,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE3NDMzNw==","user":{"login":"patelh","id":297178,"node_id":"MDQ6VXNlcjI5NzE3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297178?v=4","gravatar_id":"","url":"https://api.github.com/users/patelh","html_url":"https://github.com/patelh","followers_url":"https://api.github.com/users/patelh/followers","following_url":"https://api.github.com/users/patelh/following{/other_user}","gists_url":"https://api.github.com/users/patelh/gists{/gist_id}","starred_url":"https://api.github.com/users/patelh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patelh/subscriptions","organizations_url":"https://api.github.com/users/patelh/orgs","repos_url":"https://api.github.com/users/patelh/repos","events_url":"https://api.github.com/users/patelh/events{/privacy}","received_events_url":"https://api.github.com/users/patelh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T21:58:51Z","updated_at":"2017-02-28T21:59:12Z","author_association":"CONTRIBUTOR","body":"```\r\n\"dimensions\": [{\r\n    \"type\": \"extraction\",\r\n    \"dimension\": \"myDate\",\r\n    \"outputName\": \"Month\",\r\n    \"extractionFn\": {\r\n      \"type\": \"time\",\r\n      \"timeFormat\": \"yyyyMMdd\",\r\n      \"resultFormat\": \"yyyyMM\"\r\n    }\r\n  }\r\n```\r\n\r\nFor the above, the correct result would be the result of the field with timeFormat yyyyMMdd converted to yyyyMM.  e.g. 20170228 to 201702 , and with v1 the result is already as expected, with v2, randomly we see corrupted result, e.g. values such as 000001 or 471301 and etc...","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283174337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283177426","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283177426","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283177426,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE3NzQyNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T22:10:36Z","updated_at":"2017-02-28T22:10:36Z","author_association":"CONTRIBUTOR","body":"@gianm that theory might be correct . I notice that they're using `\"groupByIsSingleThreaded\": true` which means v1 query would not do merging in parallel but v2 ignores that flag.\r\nlet me see if it can be reproduced locally first... deploying custom release on user's production cluster is kinda hard.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283177426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283179887","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283179887","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283179887,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE3OTg4Nw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T22:20:28Z","updated_at":"2017-02-28T22:21:09Z","author_association":"CONTRIBUTOR","body":"@gianm ok once I set `\"groupByIsSingleThreaded\": false` , then even v1 groupBy starts producing funny looking results, so most likely TimeExtractionFunction concurrency bug is the issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283179887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283183049","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283183049","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283183049,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE4MzA0OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T22:33:48Z","updated_at":"2017-02-28T22:33:48Z","author_association":"CONTRIBUTOR","body":"https://github.com/druid-io/druid/pull/3984 should probably fix this, will need to further deploy it on user cluster to be somewhat sure.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283183049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283183149","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283183149","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283183149,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE4MzE0OQ==","user":{"login":"patelh","id":297178,"node_id":"MDQ6VXNlcjI5NzE3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297178?v=4","gravatar_id":"","url":"https://api.github.com/users/patelh","html_url":"https://github.com/patelh","followers_url":"https://api.github.com/users/patelh/followers","following_url":"https://api.github.com/users/patelh/following{/other_user}","gists_url":"https://api.github.com/users/patelh/gists{/gist_id}","starred_url":"https://api.github.com/users/patelh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patelh/subscriptions","organizations_url":"https://api.github.com/users/patelh/orgs","repos_url":"https://api.github.com/users/patelh/repos","events_url":"https://api.github.com/users/patelh/events{/privacy}","received_events_url":"https://api.github.com/users/patelh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T22:34:14Z","updated_at":"2017-02-28T22:34:14Z","author_association":"CONTRIBUTOR","body":"OMG, so groupByIsSingleThreaded is no longer supported by v2 ?  This will impact # of concurrent user queries.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283183149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283183631","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283183631","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283183631,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE4MzYzMQ==","user":{"login":"patelh","id":297178,"node_id":"MDQ6VXNlcjI5NzE3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297178?v=4","gravatar_id":"","url":"https://api.github.com/users/patelh","html_url":"https://github.com/patelh","followers_url":"https://api.github.com/users/patelh/followers","following_url":"https://api.github.com/users/patelh/following{/other_user}","gists_url":"https://api.github.com/users/patelh/gists{/gist_id}","starred_url":"https://api.github.com/users/patelh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patelh/subscriptions","organizations_url":"https://api.github.com/users/patelh/orgs","repos_url":"https://api.github.com/users/patelh/repos","events_url":"https://api.github.com/users/patelh/events{/privacy}","received_events_url":"https://api.github.com/users/patelh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T22:36:15Z","updated_at":"2017-02-28T22:36:15Z","author_association":"CONTRIBUTOR","body":"What about priority ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283183631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283184441","html_url":"https://github.com/apache/druid/pull/3984#issuecomment-283184441","issue_url":"https://api.github.com/repos/apache/druid/issues/3984","id":283184441,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE4NDQ0MQ==","user":{"login":"patelh","id":297178,"node_id":"MDQ6VXNlcjI5NzE3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297178?v=4","gravatar_id":"","url":"https://api.github.com/users/patelh","html_url":"https://github.com/patelh","followers_url":"https://api.github.com/users/patelh/followers","following_url":"https://api.github.com/users/patelh/following{/other_user}","gists_url":"https://api.github.com/users/patelh/gists{/gist_id}","starred_url":"https://api.github.com/users/patelh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patelh/subscriptions","organizations_url":"https://api.github.com/users/patelh/orgs","repos_url":"https://api.github.com/users/patelh/repos","events_url":"https://api.github.com/users/patelh/events{/privacy}","received_events_url":"https://api.github.com/users/patelh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T22:39:32Z","updated_at":"2017-02-28T22:39:32Z","author_association":"CONTRIBUTOR","body":"Why not migrate to joda time?  Deprecate and add new one using joda time formatter which is thread safe.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283184441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283184716","html_url":"https://github.com/apache/druid/pull/3984#issuecomment-283184716","issue_url":"https://api.github.com/repos/apache/druid/issues/3984","id":283184716,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE4NDcxNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T22:40:36Z","updated_at":"2017-02-28T22:40:36Z","author_association":"CONTRIBUTOR","body":"@patelh this is only a test patch for verification, not mergeable in druid just yet.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283184716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283189047","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283189047","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283189047,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE4OTA0Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T22:58:48Z","updated_at":"2017-02-28T22:58:48Z","author_association":"CONTRIBUTOR","body":"Priority is supported by all query types including groupBy v2.\r\n\r\nSingle threaded merging isn't supported by groupBy v2. Could you expand on how that will affect you? I didn't implement single threaded merging in v2 because I guessed multithreaded merging would generally be better than single threaded with the new engine.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283189047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283194635","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283194635","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283194635,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE5NDYzNQ==","user":{"login":"patelh","id":297178,"node_id":"MDQ6VXNlcjI5NzE3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297178?v=4","gravatar_id":"","url":"https://api.github.com/users/patelh","html_url":"https://github.com/patelh","followers_url":"https://api.github.com/users/patelh/followers","following_url":"https://api.github.com/users/patelh/following{/other_user}","gists_url":"https://api.github.com/users/patelh/gists{/gist_id}","starred_url":"https://api.github.com/users/patelh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patelh/subscriptions","organizations_url":"https://api.github.com/users/patelh/orgs","repos_url":"https://api.github.com/users/patelh/repos","events_url":"https://api.github.com/users/patelh/events{/privacy}","received_events_url":"https://api.github.com/users/patelh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T23:26:11Z","updated_at":"2017-02-28T23:26:38Z","author_association":"CONTRIBUTOR","body":"Yes it would be better.  But if I need to have higher QPS, where the # of segments scanned are arbitrary for every query, the # of requests that can be processed would go down.  By guaranteeing only a single thread is used, I can control the kind of queries I want to use more than a single thread.  This allows for better control of resources across use cases / customers where the SLA may be different across those use cases.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283194635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283197313","html_url":"https://github.com/apache/druid/pull/3984#issuecomment-283197313","issue_url":"https://api.github.com/repos/apache/druid/issues/3984","id":283197313,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE5NzMxMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T23:40:28Z","updated_at":"2017-02-28T23:40:28Z","author_association":"CONTRIBUTOR","body":"@patelh a new one using Joda would be nice, but this one should still be fixed.\r\n\r\n@himanshug I added this to 0.10.0 since it's a bug that seems straightforward and nice to fix.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283197313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283199008","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283199008","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283199008,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzE5OTAwOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-28T23:49:34Z","updated_at":"2017-02-28T23:49:34Z","author_association":"CONTRIBUTOR","body":"Thanks, that makes sense. Query priorities should be able to accomplish something similar (they'll let a higher priority query take over the processing thread pool). The only downside of priorities should be if each individual segment scan takes a long time, which would mean it might take too long for a higher priority query to take over. In that case it does make sense to limit the number of threads used by lower priority groupBy queries. (or make the segment scans take less time…)\r\n\r\nIf query priorities aren't enough and thread # control is essential, you could set your groupBy engine back to v1 through config, or you could do a patch giving groupBy v2 the ability to limit thread use too.\r\n\r\nWith either engine please keep in mind that memory use can still be an issue -- if you have a lot of thread-count-limited groupBy queries then even though they won't be taking up too many threads, they may be taking up a lot of memory. groupBy v2 controls this through numMergeBuffers which ends up being the max number of queries you can run concurrently.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283199008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283201687","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283201687","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283201687,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIwMTY4Nw==","user":{"login":"patelh","id":297178,"node_id":"MDQ6VXNlcjI5NzE3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297178?v=4","gravatar_id":"","url":"https://api.github.com/users/patelh","html_url":"https://github.com/patelh","followers_url":"https://api.github.com/users/patelh/followers","following_url":"https://api.github.com/users/patelh/following{/other_user}","gists_url":"https://api.github.com/users/patelh/gists{/gist_id}","starred_url":"https://api.github.com/users/patelh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patelh/subscriptions","organizations_url":"https://api.github.com/users/patelh/orgs","repos_url":"https://api.github.com/users/patelh/repos","events_url":"https://api.github.com/users/patelh/events{/privacy}","received_events_url":"https://api.github.com/users/patelh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T00:05:01Z","updated_at":"2017-03-01T00:05:01Z","author_association":"CONTRIBUTOR","body":"Yea priority would be one way to do something similar.  But in the case where I have multiple queries at the same priority, there is no way to guarantee resources to each of those queries since they'd be processed in order (IIRC), where as if we could control the number of threads for each, we may be able to process them concurrently.\r\n\r\n@himanshug can we please add this to our list to add groupBySingleThreaded to v2.\r\n\r\nWe'll continue to use v1 until we have groupBySingleThreaded in v2 for those use cases where we currently use groupBySingleThreaded.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283201687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283203906","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283203906","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283203906,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIwMzkwNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T00:18:16Z","updated_at":"2017-03-01T00:18:16Z","author_association":"CONTRIBUTOR","body":"@patelh I think the root cause of that issue is lack of thread safety on the \"time\" extraction fn, and if so then #3984 should fix it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283203906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283207408","html_url":"https://github.com/apache/druid/pull/2767#issuecomment-283207408","issue_url":"https://api.github.com/repos/apache/druid/issues/2767","id":283207408,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIwNzQwOA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T00:37:51Z","updated_at":"2017-03-01T00:37:51Z","author_association":"CONTRIBUTOR","body":"Closing this, discussion can continue at https://github.com/druid-io/druid/pull/3986","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283207408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283211974","html_url":"https://github.com/apache/druid/pull/3962#issuecomment-283211974","issue_url":"https://api.github.com/repos/apache/druid/issues/3962","id":283211974,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIxMTk3NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T01:03:11Z","updated_at":"2017-03-01T01:03:11Z","author_association":"CONTRIBUTOR","body":"@gianm this patch looks good to me, but it looks gone to stale. The compiler complains about ```QueryGranularities.ALL``` in CalciteQueryTest. Please fix it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283211974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283219701","html_url":"https://github.com/apache/druid/pull/3987#issuecomment-283219701","issue_url":"https://api.github.com/repos/apache/druid/issues/3987","id":283219701,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIxOTcwMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T01:47:41Z","updated_at":"2017-03-01T01:47:41Z","author_association":"CONTRIBUTOR","body":"This seems like something that should be 0.10.0 to complete the \"large columns\" stuff… @akashdw should we add it to the milestone?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283219701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283220177","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283220177","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283220177,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIyMDE3Nw==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T01:50:44Z","updated_at":"2017-03-01T01:50:44Z","author_association":"CONTRIBUTOR","body":"@gianm On large column support,Generic Indexed V2 is disabled by default for custom extensions and can be enabled by overriding https://github.com/druid-io/druid/blob/master/processing/src/main/java/io/druid/segment/serde/ComplexMetricSerde.java#L113.\r\nCreated a small pr to enable it for druid-io complex metrics. https://github.com/druid-io/druid/pull/3987 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283220177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283220554","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283220554","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283220554,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIyMDU1NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T01:53:18Z","updated_at":"2017-03-01T01:53:18Z","author_association":"CONTRIBUTOR","body":"Thanks @akashdw, I updated the notes","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283220554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283220923","html_url":"https://github.com/apache/druid/pull/3987#issuecomment-283220923","issue_url":"https://api.github.com/repos/apache/druid/issues/3987","id":283220923,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIyMDkyMw==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T01:55:30Z","updated_at":"2017-03-01T01:57:25Z","author_association":"CONTRIBUTOR","body":"@gianm Yes, we need this to complete the large column stuff. I was going through the release notes and realized its disabled by default including druid-io managed complex metrics. I left a note in release notes on how to enable it. https://github.com/druid-io/druid/issues/3944#issuecomment-283220177\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283220923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283221328","html_url":"https://github.com/apache/druid/pull/3987#issuecomment-283221328","issue_url":"https://api.github.com/repos/apache/druid/issues/3987","id":283221328,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIyMTMyOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T01:57:55Z","updated_at":"2017-03-01T01:57:55Z","author_association":"CONTRIBUTOR","body":"Okay cool, I added this to the milestone.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283221328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283226264","html_url":"https://github.com/apache/druid/pull/3984#issuecomment-283226264","issue_url":"https://api.github.com/repos/apache/druid/issues/3984","id":283226264,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIyNjI2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T02:28:55Z","updated_at":"2017-03-01T02:28:55Z","author_association":"CONTRIBUTOR","body":"@himanshug is this ready for merging or do you need to do more testing?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283226264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283231259","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283231259","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283231259,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIzMTI1OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T03:02:28Z","updated_at":"2017-03-01T03:02:28Z","author_association":"CONTRIBUTOR","body":"@jon-wei could you please write a blurb for \"Numeric dimensions\" as a comment on this issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283231259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283231559","html_url":"https://github.com/apache/druid/pull/3966#issuecomment-283231559","issue_url":"https://api.github.com/repos/apache/druid/issues/3966","id":283231559,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIzMTU1OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T03:04:38Z","updated_at":"2017-03-01T03:04:38Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283231559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283234082","html_url":"https://github.com/apache/druid/pull/3984#issuecomment-283234082","issue_url":"https://api.github.com/repos/apache/druid/issues/3984","id":283234082,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIzNDA4Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T03:24:10Z","updated_at":"2017-03-01T03:24:10Z","author_association":"CONTRIBUTOR","body":"@gian i'm working to get this deployed on the user cluster and confirm that it fixes the issue. it most likely does from the local analysis so far. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283234082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283234247","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283234247","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283234247,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIzNDI0Nw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T03:25:26Z","updated_at":"2017-03-01T03:25:26Z","author_association":"CONTRIBUTOR","body":"@gianm @patelh given that users depend on singleThreaded flag to manage the resources , we'll restore that flag for groupBy v2 .","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283234247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283235262","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283235262","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283235262,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIzNTI2Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T03:33:27Z","updated_at":"2017-03-01T03:33:27Z","author_association":"CONTRIBUTOR","body":"@gianm numeric dims comment\r\n\r\nDruid now supports ingestion and queries with numeric dimensions. Users can ingest long and float columns as dimensions (i.e., treating the numeric columns as part of the ingestion-time grouping key instead of as aggregators, if rollup is enabled). Additionally, Druid queries can now accept any long or float column as a dimension (including columns ingested as metrics). \r\n\r\nFor example, a user can now filter on values in long/float columns and include numeric columns in the grouping columns for GroupBy queries.\r\n\r\nSee http://druid.io/docs/0.10.0-rc1/ingestion/schema-design.html#numeric-dimensions for ingestion documentation\r\nSee http://druid.io/docs/0.10.0-rc1/querying/dimensionspecs.html for query documentation","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283235262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283235738","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-283235738","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":283235738,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzIzNTczOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T03:37:11Z","updated_at":"2017-03-01T03:37:11Z","author_association":"CONTRIBUTOR","body":"Thanks @jon-wei, I shortened it a bit and included it in the notes","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283235738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283241977","html_url":"https://github.com/apache/druid/pull/3988#issuecomment-283241977","issue_url":"https://api.github.com/repos/apache/druid/issues/3988","id":283241977,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI0MTk3Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T04:30:17Z","updated_at":"2017-03-01T04:30:17Z","author_association":"CONTRIBUTOR","body":"I love tabs, but if you love it you have to let it go. If it never comes back, it was never yours to begin with.\r\n\r\n👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283241977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283243231","html_url":"https://github.com/apache/druid/pull/3988#issuecomment-283243231","issue_url":"https://api.github.com/repos/apache/druid/issues/3988","id":283243231,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI0MzIzMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T04:41:39Z","updated_at":"2017-03-01T04:41:57Z","author_association":"CONTRIBUTOR","body":"+1 for spaces, and looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283243231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283246666","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-283246666","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":283246666,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI0NjY2Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T05:11:54Z","updated_at":"2017-03-01T05:11:54Z","author_association":"CONTRIBUTOR","body":"@himanshug @nishantmonu51 are you still ok after the recent changes? Go ahead and merge if so.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283246666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283246936","html_url":"https://github.com/apache/druid/pull/3962#issuecomment-283246936","issue_url":"https://api.github.com/repos/apache/druid/issues/3962","id":283246936,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI0NjkzNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T05:14:03Z","updated_at":"2017-03-01T05:14:03Z","author_association":"CONTRIBUTOR","body":"@jihoonson thanks for looking, I just fixed the conflicts.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283246936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283248051","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-283248051","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":283248051,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI0ODA1MQ==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T05:23:27Z","updated_at":"2017-03-01T05:24:53Z","author_association":"CONTRIBUTOR","body":"@gianm I was going through the changes and found `maprfs` recently got added in jobHelper.  https://github.com/druid-io/druid/blob/master/indexing-hadoop/src/main/java/io/druid/indexer/JobHelper.java#L422. Making a small change here https://github.com/druid-io/druid/pull/3877/files#diff-2f6961baa5178a54edc5289685bbcb0fR581,  to include `maprfs`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283248051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283253573","html_url":"https://github.com/apache/druid/pull/3987#issuecomment-283253573","issue_url":"https://api.github.com/repos/apache/druid/issues/3987","id":283253573,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI1MzU3Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T06:06:52Z","updated_at":"2017-03-01T06:06:52Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283253573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283260276","html_url":"https://github.com/apache/druid/issues/3983#issuecomment-283260276","issue_url":"https://api.github.com/repos/apache/druid/issues/3983","id":283260276,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI2MDI3Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T06:53:14Z","updated_at":"2017-03-01T06:53:14Z","author_association":"CONTRIBUTOR","body":"> But in the case where I have multiple queries at the same priority, there is no way to guarantee resources to each of those queries since they'd be processed in order (IIRC), where as if we could control the number of threads for each, we may be able to process them concurrently.\r\n\r\nBy default the query processing runs in no particular order, but you can set `druid.processing.fifo` to do queries in fifo order (see also https://metamarkets.com/2016/impact-on-query-speed-from-forced-processing-ordering-in-druid/).\r\n\r\nIf you want to run all active queries of the same priority concurrently rather than fifo, you could probably do that by adding an option like `druid.processing.fifo` that does some different behavior.\r\n\r\nThis is just as an FYI in case you want to explore this path. But if you think your needs are satisfied by just making groupBys single threaded, then that works too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283260276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283262644","html_url":"https://github.com/apache/druid/pull/3980#issuecomment-283262644","issue_url":"https://api.github.com/repos/apache/druid/issues/3980","id":283262644,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI2MjY0NA==","user":{"login":"hzy001","id":9567254,"node_id":"MDQ6VXNlcjk1NjcyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9567254?v=4","gravatar_id":"","url":"https://api.github.com/users/hzy001","html_url":"https://github.com/hzy001","followers_url":"https://api.github.com/users/hzy001/followers","following_url":"https://api.github.com/users/hzy001/following{/other_user}","gists_url":"https://api.github.com/users/hzy001/gists{/gist_id}","starred_url":"https://api.github.com/users/hzy001/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hzy001/subscriptions","organizations_url":"https://api.github.com/users/hzy001/orgs","repos_url":"https://api.github.com/users/hzy001/repos","events_url":"https://api.github.com/users/hzy001/events{/privacy}","received_events_url":"https://api.github.com/users/hzy001/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T07:08:30Z","updated_at":"2017-03-01T07:08:30Z","author_association":"CONTRIBUTOR","body":"@fjy done","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283262644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283265839","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-283265839","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":283265839,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI2NTgzOQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T07:28:37Z","updated_at":"2017-03-01T07:35:50Z","author_association":"MEMBER","body":"@leerho \r\n\r\n> `putXBigEndian(offset, v)\r\n\r\nAgree, it's bad. Also it looks more noisy and makes easy to make a mistake, forgetting \"BigEndian\" suffix somewhere.\r\n\r\n> `putX(offset, v, ByteOrder order)`\r\n\r\nThe same, and also noisy and even simpler to make (and harder to spot) mistakes, forgetting the third argument.\r\n\r\n> Totally separate implementation: All put/get methods would be of the form putX(offset, v, ByteOrder order).\r\n\r\nDidn't understand how it's different from the previous.\r\n\r\n> This has the advantage of covering the horrible mixed endianness cases.\r\n\r\nThere shouldn't be such cases, at least I can speak for Druid. Either we need to support legacy file/network/cache-key formats which are big-endian only, or use native endian for new formats, and for non-persistent computational buffers, which live only within the JVM.\r\n\r\n> A separate implementations is a lot of work, and, IMHO, provides little incentive for developers to fix the fundamental underlying problem. Keeping these separate implementations in sync with changes to the basic implementation could be a maintenance headache.\r\n\r\n_Let's keep in mind very clearly, that we develop a library not for abstract \"developers\", we develop it for ourselves._ Big-endian poisoned the Druid codebase for two reasons:\r\n - All ByteBuffer factory methods return big-endian ByteBuffer, and changing it to native order: `order(ByteOrder.nativeOrder())` is very verbose.\r\n - `asReadOnlyBuffer()`, `slice()`, `duplicate()` return big-endian buffer regardless of the order of the parent, shame.\r\n\r\nBy merely making Memory's static factory methods to return native-ordered `Memory` by default, and ensure order inheritance on transformations, we fix the problem for all new code/new formats. On the other hand, Druid has to support old big-endian formats _forever_, so it's pointless to make it \"painful\" to use big-endian in order to \"provide incentive\" for ourselves to \"move\" to native order. It's just making our own live harder for nothing.\r\n\r\n**My suggestion**\r\nWe can make a \"NonNativeWritableMemoryImpl\" class extending `WritableMemoryImpl`, and overriding 12 methods (6 getXxx and 6 putXxx) with delegation to `super` and swapping bytes. It's a burden, but IMO it's not _that bad_ to maintain those 12 methods + 12 similar methods for Positioned. Also keep in mind that Memory is supposed to be changed very rarely, after initially developed, unlike Druid/Datasketches code.\r\n\r\nThe advantage or this approach is that the implementation code could be fully shared for legacy formats (big-endian) and new formats (native-ordered), if nothing is changed except the byte order. If the matter of providing `Memory` with different byte order as the input for format reading/ output for format writing.\r\n\r\nFactories: `Memory.map(file)` has counterpart, which accepts `ByteOrder` as an additional parameter: `Memory.map(file, ByteOrder order)`. Factory code internally decides what to return: `WritableMemoryImpl` or \"NonNativeWritableMemoryImpl\", depending on the native platform byte order and the given byte order.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283265839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283266882","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-283266882","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":283266882,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI2Njg4Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T07:35:12Z","updated_at":"2017-03-01T07:35:12Z","author_association":"MEMBER","body":"@leerho \r\n\r\nThread-safe Memory is not needed.\r\n\r\nPositionedMemory could be made pretty fast IMO, if instead of wrapping `Memory` and keeping a separate \"position\" field, it's made very similar to `WritableMemoryImpl`, with the difference that `cumulativeOffset` is not a `final` field, and updated on each operation.\r\n\r\n> BTW, so far, these other variants will not be able to leverage the stateless base classes Memory and WritableMemory that we have in the current design. This calls into question the value of these stateless classes and makes them more like bloat. I am seriously considering removing one or both of them.\r\n\r\nI believe in stateless and separation of stateless hierarchy (Memory) and Positioned. Let's made initial API with them separate, and if in the process/after the migration of Druid and Datasketches code it is be proven that separation is not needed, they could be merged. This extra refactoring pass, based on the actual migration experience will be needed anyway.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283266882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283269654","html_url":"https://github.com/apache/druid/pull/3877#issuecomment-283269654","issue_url":"https://api.github.com/repos/apache/druid/issues/3877","id":283269654,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI2OTY1NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T07:51:23Z","updated_at":"2017-03-01T07:51:23Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283269654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283295577","html_url":"https://github.com/apache/druid/pull/3860#issuecomment-283295577","issue_url":"https://api.github.com/repos/apache/druid/issues/3860","id":283295577,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzI5NTU3Nw==","user":{"login":"dkhwangbo","id":13585249,"node_id":"MDQ6VXNlcjEzNTg1MjQ5","avatar_url":"https://avatars.githubusercontent.com/u/13585249?v=4","gravatar_id":"","url":"https://api.github.com/users/dkhwangbo","html_url":"https://github.com/dkhwangbo","followers_url":"https://api.github.com/users/dkhwangbo/followers","following_url":"https://api.github.com/users/dkhwangbo/following{/other_user}","gists_url":"https://api.github.com/users/dkhwangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/dkhwangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkhwangbo/subscriptions","organizations_url":"https://api.github.com/users/dkhwangbo/orgs","repos_url":"https://api.github.com/users/dkhwangbo/repos","events_url":"https://api.github.com/users/dkhwangbo/events{/privacy}","received_events_url":"https://api.github.com/users/dkhwangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T09:55:47Z","updated_at":"2017-03-01T09:55:47Z","author_association":"CONTRIBUTOR","body":"@pjain1 I apply your last suggestion and also version up kafka-clients to latest. I tested last commit of this implementation on my cluster and all the functionality going well. Thanks for your every helpful explanation on here.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283295577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283380489","html_url":"https://github.com/apache/druid/pull/3855#issuecomment-283380489","issue_url":"https://api.github.com/repos/apache/druid/issues/3855","id":283380489,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzM4MDQ4OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T15:56:12Z","updated_at":"2017-03-01T15:56:12Z","author_association":"CONTRIBUTOR","body":"@drcrallen also added support to roll back historical nodes without worrying about snapshots stored ... 0.9.2 code will now be able to read the snapshots stored by 0.10.0 code","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283380489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283411251","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-283411251","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":283411251,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQxMTI1MQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T17:34:04Z","updated_at":"2017-03-01T17:34:04Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\n> 12 methods (6 getXxx and 6 putXxx) \r\n\r\nLets count just the ones impacted by byte-order: 24 primitive puts/gets + 6 atomic = 30:\r\n\r\n```\r\ngetChar, getCharArray, getShort, getShortArray, getInt, getIntArray, getLong, getLongArray,\r\ngetFloat, getFloatArray, getDouble, getDoubleArray, putChar, putCharArray, putShort,\r\nputShortArray, putInt, putIntArray, putLong, putLongArray, putFloat, putFloatArray, putDouble,\r\nputDoubleArray, getAndAddInt, getAndAddLong, compareAndSwapInt, compareAndSwapLong,\r\ngetAndSetInt, getAndSetLong\r\n```\r\n\r\n> Thread-safe Memory is not needed.\r\n\r\nI'm not convinced. Let's look at Druid's [SynchronizedUnion](https://github.com/druid-io/druid/blob/master/extensions-core/datasketches/src/main/java/io/druid/query/aggregation/datasketches/theta/SynchronizedUnion.java):\r\n\r\nThis came about in a real-time query application where data was continuously being ingested into sketches in Druid and the same sketches were being accessed by multiple query threads. In order to solve the concurrency problem quickly, the entire Union object was wrapped with a brute-force `synchronized` approach on all the methods, which is unnecessarily slow.  What we actually could use in the Druid case is a single-writer, multiple reader read/write locks, or even better, optimistic locking. I have some folks investigating this now.  In order to do this with off-heap data structures the Java locking mechanisms will not work.  We will at least require the use of the unsafe atomic methods mentioned above and likely modification of the put/get calls as well.  I don't have the full answer on this yet.\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283411251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283416171","html_url":"https://github.com/apache/druid/pull/3915#issuecomment-283416171","issue_url":"https://api.github.com/repos/apache/druid/issues/3915","id":283416171,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQxNjE3MQ==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T17:52:05Z","updated_at":"2017-03-01T18:16:00Z","author_association":"CONTRIBUTOR","body":"@cheddar @leventov @gianm  @fjy @leerho @akashdw  Part 2 of the ByteBuffer -> Memory changes. There are only a few more changes left and we should have a version that will be compatible with already persisted segments. I will be posting Part 3 later this week, which should be the final one (sans code review refactoring)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283416171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283437355","html_url":"https://github.com/apache/druid/pull/3915#issuecomment-283437355","issue_url":"https://api.github.com/repos/apache/druid/issues/3915","id":283437355,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQzNzM1NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T19:07:12Z","updated_at":"2017-03-01T19:07:12Z","author_association":"MEMBER","body":"@niketh what's the point of doing this with the old API?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283437355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283442776","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-283442776","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":283442776,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ0Mjc3Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T19:26:31Z","updated_at":"2017-03-01T19:26:31Z","author_association":"MEMBER","body":"@leerho ok, I was wrong. 30 + 30 = 60 similar methods is a big burden, but I still think it's feasible to write them once, with almost no attention required later. Also many methods may delegate to each other on `WritableMemoryImpl` level: `float` methods delegate to `int` methods, `double` to `long`, `char` to `short` or vice-versa. Such methods don't need to overridden in \"NonNativeWritableMemoryImpl\".\r\n\r\n> This came about in a real-time query application where data was continuously being ingested into sketches in Druid and the same sketches were being accessed by multiple query threads. In order to solve the concurrency problem quickly, the entire Union object was wrapped with a brute-force synchronized approach on all the methods, which is unnecessarily slow. What we actually could use in the Druid case is a single-writer, multiple reader read/write locks, or even better, optimistic locking. I have some folks investigating this now. In order to do this with off-heap data structures the Java locking mechanisms will not work. We will at least require the use of the unsafe atomic methods mentioned above and likely modification of the put/get calls as well. I don't have the full answer on this yet.\r\n\r\nEither int or long memory \"fields\" + compareAndSwap operations on them + may need to add `getIntVolatile, putIntVolatile, putIntOrdered, getLongVolatile, putLongVolatile, putLongOrdered` could be used for implementing lightweight spin locks. Or some synchronization mechanisms used, external to `Memory` objects. \"ThreadSafeMemory\" is not a solution.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283442776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283454171","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-283454171","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":283454171,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ1NDE3MQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T20:06:55Z","updated_at":"2017-03-01T20:06:55Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\nI think we are close to agreement.  I haven't added the volatile and ordered methods yet until I see what our whole approach for the concurrent sketches will actually require.  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283454171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283458423","html_url":"https://github.com/apache/druid/pull/3984#issuecomment-283458423","issue_url":"https://api.github.com/repos/apache/druid/issues/3984","id":283458423,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ1ODQyMw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T20:22:43Z","updated_at":"2017-03-01T20:22:43Z","author_association":"CONTRIBUTOR","body":"@gianm ok, this fixes the problem on real usage.\r\n\r\nI updated ExtractionFn doc also to mention Thread safety expectation.\r\n\r\nI also tried to write an UT for concurrency, but it never failed even without this fix .. so the UT is unreliable and hence not added in this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283458423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283459720","html_url":"https://github.com/apache/druid/pull/3984#issuecomment-283459720","issue_url":"https://api.github.com/repos/apache/druid/issues/3984","id":283459720,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ1OTcyMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T20:27:45Z","updated_at":"2017-03-01T20:27:45Z","author_association":"CONTRIBUTOR","body":"thanks @himanshug, this looks good to me 👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283459720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283461928","html_url":"https://github.com/apache/druid/pull/3928#issuecomment-283461928","issue_url":"https://api.github.com/repos/apache/druid/issues/3928","id":283461928,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ2MTkyOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T20:36:21Z","updated_at":"2017-03-01T20:36:21Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer, I'm going to target this for 0.10.1, assuming you have time to finish working on it. I think this should be good to go if the filter is split out and has docs added for multi-value behavior.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283461928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283469597","html_url":"https://github.com/apache/druid/pull/3982#issuecomment-283469597","issue_url":"https://api.github.com/repos/apache/druid/issues/3982","id":283469597,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ2OTU5Nw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T21:04:59Z","updated_at":"2017-03-01T21:04:59Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283469597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/283479151","html_url":"https://github.com/apache/druid/pull/3986#issuecomment-283479151","issue_url":"https://api.github.com/repos/apache/druid/issues/3986","id":283479151,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzQ3OTE1MQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-01T21:40:13Z","updated_at":"2017-03-01T21:40:13Z","author_association":"CONTRIBUTOR","body":"@gianm I reverted the boolean-related changes in PagingSpec; the changes where I create a SelectQueryConfig supplier in the various unit test suites and SelectQueryToolChest were related to the older patch where I resolved fromNext later and not in the constructor, but I decided to leave these in, I think they could be useful if we add more select config options later on, and I feel like they do no harm there","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/283479151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]