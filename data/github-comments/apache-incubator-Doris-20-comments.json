[{"url":"https://api.github.com/repos/apache/doris/issues/comments/610149078","html_url":"https://github.com/apache/doris/pull/2184#issuecomment-610149078","issue_url":"https://api.github.com/repos/apache/doris/issues/2184","id":610149078,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDE0OTA3OA==","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T03:13:04Z","updated_at":"2020-04-07T03:13:04Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610149078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610151031","html_url":"https://github.com/apache/doris/pull/3264#issuecomment-610151031","issue_url":"https://api.github.com/repos/apache/doris/issues/3264","id":610151031,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDE1MTAzMQ==","user":{"login":"acelyc111","id":10775040,"node_id":"MDQ6VXNlcjEwNzc1MDQw","avatar_url":"https://avatars.githubusercontent.com/u/10775040?v=4","gravatar_id":"","url":"https://api.github.com/users/acelyc111","html_url":"https://github.com/acelyc111","followers_url":"https://api.github.com/users/acelyc111/followers","following_url":"https://api.github.com/users/acelyc111/following{/other_user}","gists_url":"https://api.github.com/users/acelyc111/gists{/gist_id}","starred_url":"https://api.github.com/users/acelyc111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acelyc111/subscriptions","organizations_url":"https://api.github.com/users/acelyc111/orgs","repos_url":"https://api.github.com/users/acelyc111/repos","events_url":"https://api.github.com/users/acelyc111/events{/privacy}","received_events_url":"https://api.github.com/users/acelyc111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T03:20:45Z","updated_at":"2020-04-07T03:20:45Z","author_association":"MEMBER","body":"> @acelyc111 This is a wonderful job, could you please to create an issue to track this feature and relate this PR to it?\r\n\r\nOK, https://github.com/apache/incubator-doris/issues/3268","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610151031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610151446","html_url":"https://github.com/apache/doris/issues/3263#issuecomment-610151446","issue_url":"https://api.github.com/repos/apache/doris/issues/3263","id":610151446,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDE1MTQ0Ng==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T03:22:27Z","updated_at":"2020-04-07T03:22:27Z","author_association":"CONTRIBUTOR","body":"OK","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610151446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610160975","html_url":"https://github.com/apache/doris/pull/3246#issuecomment-610160975","issue_url":"https://api.github.com/repos/apache/doris/issues/3246","id":610160975,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDE2MDk3NQ==","user":{"login":"acelyc111","id":10775040,"node_id":"MDQ6VXNlcjEwNzc1MDQw","avatar_url":"https://avatars.githubusercontent.com/u/10775040?v=4","gravatar_id":"","url":"https://api.github.com/users/acelyc111","html_url":"https://github.com/acelyc111","followers_url":"https://api.github.com/users/acelyc111/followers","following_url":"https://api.github.com/users/acelyc111/following{/other_user}","gists_url":"https://api.github.com/users/acelyc111/gists{/gist_id}","starred_url":"https://api.github.com/users/acelyc111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acelyc111/subscriptions","organizations_url":"https://api.github.com/users/acelyc111/orgs","repos_url":"https://api.github.com/users/acelyc111/repos","events_url":"https://api.github.com/users/acelyc111/events{/privacy}","received_events_url":"https://api.github.com/users/acelyc111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T04:03:59Z","updated_at":"2020-04-07T04:04:33Z","author_association":"MEMBER","body":"> I have a question about dynamic collect the metric.\r\n> If people can remember so many metrics and use http server to get it?\r\n> Why not add it into DorisMetric instead?\r\n\r\nYes, I register all of these metrics to DorisMetric, via a new added macro in be/src/util/doris_metrics.h., and user can visit '/metrics' to obtain all metrics.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610160975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610223198","html_url":"https://github.com/apache/doris/pull/3269#issuecomment-610223198","issue_url":"https://api.github.com/repos/apache/doris/issues/3269","id":610223198,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDIyMzE5OA==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T07:26:30Z","updated_at":"2020-04-07T07:26:42Z","author_association":"CONTRIBUTOR","body":"> By the way, could you please add some label to this PR, like performance and storage engine?\r\n\r\nSure, added.\r\n\r\n> And do you have any improvement data resulted from this PR?\r\n\r\nNot yet. The background for this PR is that we independently found and solved the issue of #2214 which could decrease the tablet report time from 30s to 1s. When submitting the PR, I found that it's already addressed by #2215. So I compared our patch with that PR and found that our version which use vector instead of set may be better.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610223198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610233316","html_url":"https://github.com/apache/doris/issues/3131#issuecomment-610233316","issue_url":"https://api.github.com/repos/apache/doris/issues/3131","id":610233316,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDIzMzMxNg==","user":{"login":"ighack","id":6670377,"node_id":"MDQ6VXNlcjY2NzAzNzc=","avatar_url":"https://avatars.githubusercontent.com/u/6670377?v=4","gravatar_id":"","url":"https://api.github.com/users/ighack","html_url":"https://github.com/ighack","followers_url":"https://api.github.com/users/ighack/followers","following_url":"https://api.github.com/users/ighack/following{/other_user}","gists_url":"https://api.github.com/users/ighack/gists{/gist_id}","starred_url":"https://api.github.com/users/ighack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ighack/subscriptions","organizations_url":"https://api.github.com/users/ighack/orgs","repos_url":"https://api.github.com/users/ighack/repos","events_url":"https://api.github.com/users/ighack/events{/privacy}","received_events_url":"https://api.github.com/users/ighack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T07:49:11Z","updated_at":"2020-04-07T07:49:11Z","author_association":"NONE","body":"I just build it again,it works\r\nI don't know why.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610233316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610241476","html_url":"https://github.com/apache/doris/issues/3270#issuecomment-610241476","issue_url":"https://api.github.com/repos/apache/doris/issues/3270","id":610241476,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI0MTQ3Ng==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T08:06:56Z","updated_at":"2020-04-07T08:06:56Z","author_association":"CONTRIBUTOR","body":"We had the same problem #2962 ，also because be load too much","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610241476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610245714","html_url":"https://github.com/apache/doris/issues/3270#issuecomment-610245714","issue_url":"https://api.github.com/repos/apache/doris/issues/3270","id":610245714,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI0NTcxNA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T08:15:56Z","updated_at":"2020-04-07T08:15:56Z","author_association":"CONTRIBUTOR","body":"Good analysis. Do you have a good idea to solve this problem?\r\nBy the way, it is too long to analysis a query in 4 seconds, do you know why?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610245714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610250711","html_url":"https://github.com/apache/doris/issues/3270#issuecomment-610250711","issue_url":"https://api.github.com/repos/apache/doris/issues/3270","id":610250711,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI1MDcxMQ==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T08:26:27Z","updated_at":"2020-04-07T08:26:27Z","author_association":"CONTRIBUTOR","body":"We use a straightforward approach to avoid compacting recently added version, which works well in practice.\r\n\r\n> By the way, it is too long to analysis a query in 4 seconds, do you know why?\r\n\r\nIn our case, the query in trouble is a fairly complicated \"insert into\" query which scans dozens of tables, some of them without partition pruning.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610250711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610266750","html_url":"https://github.com/apache/doris/issues/2466#issuecomment-610266750","issue_url":"https://api.github.com/repos/apache/doris/issues/2466","id":610266750,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI2Njc1MA==","user":{"login":"hxianshun","id":34292183,"node_id":"MDQ6VXNlcjM0MjkyMTgz","avatar_url":"https://avatars.githubusercontent.com/u/34292183?v=4","gravatar_id":"","url":"https://api.github.com/users/hxianshun","html_url":"https://github.com/hxianshun","followers_url":"https://api.github.com/users/hxianshun/followers","following_url":"https://api.github.com/users/hxianshun/following{/other_user}","gists_url":"https://api.github.com/users/hxianshun/gists{/gist_id}","starred_url":"https://api.github.com/users/hxianshun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hxianshun/subscriptions","organizations_url":"https://api.github.com/users/hxianshun/orgs","repos_url":"https://api.github.com/users/hxianshun/repos","events_url":"https://api.github.com/users/hxianshun/events{/privacy}","received_events_url":"https://api.github.com/users/hxianshun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T08:59:41Z","updated_at":"2020-04-07T08:59:41Z","author_association":"CONTRIBUTOR","body":"@gaodayue Hi, have you found where the problem is?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610266750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610268734","html_url":"https://github.com/apache/doris/issues/2466#issuecomment-610268734","issue_url":"https://api.github.com/repos/apache/doris/issues/2466","id":610268734,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI2ODczNA==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T09:03:57Z","updated_at":"2020-04-07T09:03:57Z","author_association":"CONTRIBUTOR","body":"Not yet.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610268734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610274100","html_url":"https://github.com/apache/doris/issues/3273#issuecomment-610274100","issue_url":"https://api.github.com/repos/apache/doris/issues/3273","id":610274100,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI3NDEwMA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T09:15:23Z","updated_at":"2020-04-07T09:15:23Z","author_association":"CONTRIBUTOR","body":"@vagetablechicken \r\nI'm not sure what is your mean by \"the top level is needed\". Could you please explain more carefully?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610274100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610278510","html_url":"https://github.com/apache/doris/issues/3270#issuecomment-610278510","issue_url":"https://api.github.com/repos/apache/doris/issues/3270","id":610278510,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI3ODUxMA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T09:24:44Z","updated_at":"2020-04-07T09:24:44Z","author_association":"CONTRIBUTOR","body":"> We use a straightforward approach to avoid compacting recently added version, which works well in practice.\r\n\r\nThis sounds good for me. And actually, Doris keeps a hard link for recent loaded delta to do an incremental clone. However, these delta is not used when doing scan, it will be better if Doris can use them.\r\n\r\n> In our case, the query in trouble is a fairly complicated \"insert into\" query which scans dozens of tables, some of them without partition pruning.\r\n\r\nAnyway, 4 seconds seems too long. You can create another issue to track it if it is convenient to provide the insert SQL.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610278510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610717223","html_url":"https://github.com/apache/doris/issues/3273#issuecomment-610717223","issue_url":"https://api.github.com/repos/apache/doris/issues/3273","id":610717223,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDcxNzIyMw==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T02:30:28Z","updated_at":"2020-04-08T02:30:28Z","author_association":"CONTRIBUTOR","body":"> @vagetablechicken\r\n> I'm not sure what is your mean by \"the top level is needed\". Could you please explain more carefully?\r\n\r\nOK. We can regard mem trackers as nodes. \r\n_There are many trees, cause we may create a mem tracker as a no-parent node. But we don't need to pay attention on them._ \r\n\r\nFocus on one plan fragment, \r\nthe root mem tracker is exec_env_mem_tracker(level 0), and\r\nthe query_mem_tracker &  fragment_mem_tracker are the root node's children(level 1). These can be called top-level nodes.\r\nAnd the low-level nodes, such as scan node's mem_tracker, sink node's mem_tracker...(level >=2)\r\n\r\nLow-level mem trackers will be destroyed when plan finished. And the top-level mem trackers will be destroyed too. \r\nFor example, the fragment_mem_tracker, we don't need to worry about dangling pointers(child trackers) in it, because it will be destroyed when plan fragment finished,\r\nBut the fragment_mem_tracker's pointer in exec_env_mem_tracker is never delete. If we use exec_env_mem_tracker and visit its children, we may access the deallocated memory.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610717223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610719149","html_url":"https://github.com/apache/doris/issues/2466#issuecomment-610719149","issue_url":"https://api.github.com/repos/apache/doris/issues/2466","id":610719149,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDcxOTE0OQ==","user":{"login":"hxianshun","id":34292183,"node_id":"MDQ6VXNlcjM0MjkyMTgz","avatar_url":"https://avatars.githubusercontent.com/u/34292183?v=4","gravatar_id":"","url":"https://api.github.com/users/hxianshun","html_url":"https://github.com/hxianshun","followers_url":"https://api.github.com/users/hxianshun/followers","following_url":"https://api.github.com/users/hxianshun/following{/other_user}","gists_url":"https://api.github.com/users/hxianshun/gists{/gist_id}","starred_url":"https://api.github.com/users/hxianshun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hxianshun/subscriptions","organizations_url":"https://api.github.com/users/hxianshun/orgs","repos_url":"https://api.github.com/users/hxianshun/repos","events_url":"https://api.github.com/users/hxianshun/events{/privacy}","received_events_url":"https://api.github.com/users/hxianshun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T02:37:58Z","updated_at":"2020-04-08T02:37:58Z","author_association":"CONTRIBUTOR","body":"> Not yet.\r\n\r\n@gaodayue Does this problem occured frequently in your cluster? Our cluster may occur this problem once a day.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610719149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610723230","html_url":"https://github.com/apache/doris/issues/3073#issuecomment-610723230","issue_url":"https://api.github.com/repos/apache/doris/issues/3073","id":610723230,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDcyMzIzMA==","user":{"login":"hxianshun","id":34292183,"node_id":"MDQ6VXNlcjM0MjkyMTgz","avatar_url":"https://avatars.githubusercontent.com/u/34292183?v=4","gravatar_id":"","url":"https://api.github.com/users/hxianshun","html_url":"https://github.com/hxianshun","followers_url":"https://api.github.com/users/hxianshun/followers","following_url":"https://api.github.com/users/hxianshun/following{/other_user}","gists_url":"https://api.github.com/users/hxianshun/gists{/gist_id}","starred_url":"https://api.github.com/users/hxianshun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hxianshun/subscriptions","organizations_url":"https://api.github.com/users/hxianshun/orgs","repos_url":"https://api.github.com/users/hxianshun/repos","events_url":"https://api.github.com/users/hxianshun/events{/privacy}","received_events_url":"https://api.github.com/users/hxianshun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T02:53:49Z","updated_at":"2020-04-08T02:53:49Z","author_association":"CONTRIBUTOR","body":"Similar to this issue: https://github.com/apache/incubator-doris/issues/2466","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610723230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610726619","html_url":"https://github.com/apache/doris/issues/3273#issuecomment-610726619","issue_url":"https://api.github.com/repos/apache/doris/issues/3273","id":610726619,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDcyNjYxOQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T03:07:35Z","updated_at":"2020-04-08T03:07:35Z","author_association":"CONTRIBUTOR","body":"@vagetablechicken \r\nThanks for you careful explain, I see now.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610726619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610729740","html_url":"https://github.com/apache/doris/pull/3271#issuecomment-610729740","issue_url":"https://api.github.com/repos/apache/doris/issues/3271","id":610729740,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDcyOTc0MA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T03:20:11Z","updated_at":"2020-04-08T03:20:11Z","author_association":"CONTRIBUTOR","body":"Hi, @gaodayue \r\nAfter #3264 is merged, backend's configure can be changed without restart. Better to make cumulative_compaction_skip_window_seconds modifiable.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610729740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610730176","html_url":"https://github.com/apache/doris/pull/3271#issuecomment-610730176","issue_url":"https://api.github.com/repos/apache/doris/issues/3271","id":610730176,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDczMDE3Ng==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T03:21:49Z","updated_at":"2020-04-08T03:21:49Z","author_association":"CONTRIBUTOR","body":"@imay that's great, let me rebase","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610730176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610742201","html_url":"https://github.com/apache/doris/issues/2466#issuecomment-610742201","issue_url":"https://api.github.com/repos/apache/doris/issues/2466","id":610742201,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDc0MjIwMQ==","user":{"login":"gaodayue","id":1198446,"node_id":"MDQ6VXNlcjExOTg0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1198446?v=4","gravatar_id":"","url":"https://api.github.com/users/gaodayue","html_url":"https://github.com/gaodayue","followers_url":"https://api.github.com/users/gaodayue/followers","following_url":"https://api.github.com/users/gaodayue/following{/other_user}","gists_url":"https://api.github.com/users/gaodayue/gists{/gist_id}","starred_url":"https://api.github.com/users/gaodayue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaodayue/subscriptions","organizations_url":"https://api.github.com/users/gaodayue/orgs","repos_url":"https://api.github.com/users/gaodayue/repos","events_url":"https://api.github.com/users/gaodayue/events{/privacy}","received_events_url":"https://api.github.com/users/gaodayue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T04:16:58Z","updated_at":"2020-04-08T04:16:58Z","author_association":"CONTRIBUTOR","body":"Not as high as yours, we run into this problem about once a week","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610742201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610743384","html_url":"https://github.com/apache/doris/issues/2466#issuecomment-610743384","issue_url":"https://api.github.com/repos/apache/doris/issues/2466","id":610743384,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDc0MzM4NA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T04:22:30Z","updated_at":"2020-04-08T04:22:30Z","author_association":"CONTRIBUTOR","body":"I double that memory is written dirty, you can can ASAN sanitizer to found the problem.\r\nYou can replace one node to found the problem because ASAN will consume much memory.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610743384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610766177","html_url":"https://github.com/apache/doris/issues/2466#issuecomment-610766177","issue_url":"https://api.github.com/repos/apache/doris/issues/2466","id":610766177,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDc2NjE3Nw==","user":{"login":"hxianshun","id":34292183,"node_id":"MDQ6VXNlcjM0MjkyMTgz","avatar_url":"https://avatars.githubusercontent.com/u/34292183?v=4","gravatar_id":"","url":"https://api.github.com/users/hxianshun","html_url":"https://github.com/hxianshun","followers_url":"https://api.github.com/users/hxianshun/followers","following_url":"https://api.github.com/users/hxianshun/following{/other_user}","gists_url":"https://api.github.com/users/hxianshun/gists{/gist_id}","starred_url":"https://api.github.com/users/hxianshun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hxianshun/subscriptions","organizations_url":"https://api.github.com/users/hxianshun/orgs","repos_url":"https://api.github.com/users/hxianshun/repos","events_url":"https://api.github.com/users/hxianshun/events{/privacy}","received_events_url":"https://api.github.com/users/hxianshun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T05:55:08Z","updated_at":"2020-04-08T05:55:08Z","author_association":"CONTRIBUTOR","body":"The resource of our cluster is very nervous, so I can't use ASAN to analysis this problem. If the memory in your cluster is ample, hope u can help to find the problem. Thanks very much!","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610766177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610819596","html_url":"https://github.com/apache/doris/issues/3273#issuecomment-610819596","issue_url":"https://api.github.com/repos/apache/doris/issues/3273","id":610819596,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDgxOTU5Ng==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T08:16:04Z","updated_at":"2020-04-08T08:21:48Z","author_association":"CONTRIBUTOR","body":"So, I will just add `_mem_tracker->unregister_from_parent()` in `PlanFragmentExecutor::close()`, to unregister the fragment mem tracker from exec_env_mem_tracker.\r\nWe should be careful about any access to child trackers. So we need add recursive depth for LogUsage(), ref impala\r\nhttps://github.com/apache/impala/blob/d877dbc572e95f086b37142e1d41231d5b6b7f9f/be/src/runtime/mem-tracker.cc#L300\r\nIt will be safe to call `exec_env_mem_tracker.LogUsage(1)` anytime. But if we want to log the low-level mem tracker, we must ensure the children are still alive.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610819596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610833875","html_url":"https://github.com/apache/doris/issues/3273#issuecomment-610833875","issue_url":"https://api.github.com/repos/apache/doris/issues/3273","id":610833875,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDgzMzg3NQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T08:46:05Z","updated_at":"2020-04-08T08:46:05Z","author_association":"CONTRIBUTOR","body":"> So, I will just add `_mem_tracker->unregister_from_parent()` in `PlanFragmentExecutor::close()`, to unregister the fragment mem tracker from exec_env_mem_tracker.\r\n\r\nLooking forward to your PR.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610833875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610891375","html_url":"https://github.com/apache/doris/pull/3271#issuecomment-610891375","issue_url":"https://api.github.com/repos/apache/doris/issues/3271","id":610891375,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDg5MTM3NQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T10:57:47Z","updated_at":"2020-04-08T10:57:47Z","author_association":"CONTRIBUTOR","body":"I have run this UT manually, and it is successful.\r\n![image](https://user-images.githubusercontent.com/1249159/78776647-cabd9c00-79ca-11ea-98a1-c5893c7ceb3d.png)\r\nSo, I will merge this PR.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610891375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610900391","html_url":"https://github.com/apache/doris/pull/3277#issuecomment-610900391","issue_url":"https://api.github.com/repos/apache/doris/issues/3277","id":610900391,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDkwMDM5MQ==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T11:20:00Z","updated_at":"2020-04-08T11:20:00Z","author_association":"MEMBER","body":"@imay OK. please check again.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610900391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/610948248","html_url":"https://github.com/apache/doris/pull/3277#issuecomment-610948248","issue_url":"https://api.github.com/repos/apache/doris/issues/3277","id":610948248,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDk0ODI0OA==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T13:06:47Z","updated_at":"2020-04-08T13:06:47Z","author_association":"MEMBER","body":"https://github.com/apache/incubator-doris/issues/3249","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/610948248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611314836","html_url":"https://github.com/apache/doris/issues/3282#issuecomment-611314836","issue_url":"https://api.github.com/repos/apache/doris/issues/3282","id":611314836,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMxNDgzNg==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T03:59:35Z","updated_at":"2020-04-09T03:59:35Z","author_association":"CONTRIBUTOR","body":"I prefer option 1, it seems simple. Because the master branch has bug, hope that you can fix it ASAP.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611314836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611315512","html_url":"https://github.com/apache/doris/issues/3282#issuecomment-611315512","issue_url":"https://api.github.com/repos/apache/doris/issues/3282","id":611315512,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMxNTUxMg==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T04:02:50Z","updated_at":"2020-04-09T04:02:50Z","author_association":"CONTRIBUTOR","body":"> I prefer option 1, it seems simple. Because the master branch has bug, hope that you can fix it ASAP.\r\n\r\nOK, it is my primary task today.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611315512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611326231","html_url":"https://github.com/apache/doris/pull/3283#issuecomment-611326231","issue_url":"https://api.github.com/repos/apache/doris/issues/3283","id":611326231,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMyNjIzMQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T04:49:37Z","updated_at":"2020-04-09T04:49:37Z","author_association":"CONTRIBUTOR","body":"@caiconghui \r\nBetter to create an issue to track this feature.\r\nAnd let others discuss about it.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611326231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611328049","html_url":"https://github.com/apache/doris/pull/3283#issuecomment-611328049","issue_url":"https://api.github.com/repos/apache/doris/issues/3283","id":611328049,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMyODA0OQ==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T04:56:51Z","updated_at":"2020-04-09T04:56:51Z","author_association":"CONTRIBUTOR","body":"@imay OK for #3285 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611328049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611334648","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611334648","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611334648,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMzNDY0OA==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T05:22:54Z","updated_at":"2020-04-09T05:22:54Z","author_association":"CONTRIBUTOR","body":"you also need to set this options\r\n![image](https://user-images.githubusercontent.com/44767902/78860591-2e94a300-7a65-11ea-8e84-987a7e148661.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611334648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611360261","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611360261","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611360261,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM2MDI2MQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T06:47:00Z","updated_at":"2020-04-09T06:47:00Z","author_association":"CONTRIBUTOR","body":"@chaoyli \r\nOnly the committers has the privilege to change this. You can do it for others next time.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611360261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611363759","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611363759","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611363759,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM2Mzc1OQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T06:56:15Z","updated_at":"2020-04-09T06:56:15Z","author_association":"CONTRIBUTOR","body":"@caiconghui \r\n\r\nThis is a good feature. I have some question about it.\r\n\r\n1. ReplicaSize -> Number of Replica\r\n2. How will this statistics be collected, and when the limit will be checked? You can explain it more carefully. \r\n3. If number of replica reach the limit, is there any method leave for user to handle this situation? Besides giving them more replica limit, Doris should give them more options to handle this situation. For example, merge multiple partition to one partition, merge multiple tablet in one partition etc. And this can be following issues for this issue","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611363759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611378683","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611378683","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611378683,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM3ODY4Mw==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T07:34:35Z","updated_at":"2020-04-09T07:38:14Z","author_association":"CONTRIBUTOR","body":"en, \r\n1. Because there is replication_num property for table or partition create setting, which mean one tablet has \"replication_num\" replica, I use replicaSize instead of replica_num to  separate replica_num from replication_num clearly, and maybe replica_num is more accurate for the original meaning\r\n2. the replica statistics is collected by db->table -> partition -> MaterializedIndex -> tablet->replica \r\nhierarchy，include all replicas with all replicaState in table, and we check it when create table, alter table, if current num of replica in db not exceed the replica quota in db，we doesn't prohibit the operation.\r\n3. at the moment ,we just limit the quota, I think it is a good idea to give user more options to optimize the usage of the replica, such as resize tablets of one partition when user doesn't need to reload the data, merge multiple partition to one partition, and we can also monitor the replica data size in every table, if serval replica data size are under low water level value for long time，then should remind user of  optimizing the setting for partition ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611378683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611382201","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611382201","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611382201,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM4MjIwMQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T07:42:46Z","updated_at":"2020-04-09T07:42:46Z","author_association":"CONTRIBUTOR","body":"> en,\r\n> \r\n> 1. Because there is replication_num property for table or partition create setting, which mean one tablet has \"replication_num\" replica, I use replicaSize instead of replica_num to  separate replica_num from replication_num clearly, and maybe replica_num is more accurate for the original meaning\r\n\r\nIs ReplicaCount better?\r\n\r\n> 2. the replica statistics is collected by db->table -> partition -> MaterializedIndex -> tablet->replica\r\n>    hierarchy，include all replicas with all replicaState in table\r\n\r\nHow often do you want to collect it? Or it will be collected through event?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611382201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611384163","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611384163","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611384163,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM4NDE2Mw==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T07:47:12Z","updated_at":"2020-04-09T07:47:32Z","author_association":"CONTRIBUTOR","body":"@imay \r\nat the moment, replica quota will be checked when create table or alter table then the replica count would be collected , or when we execute \"show data\" command or other show proc command can trigger the replica statistics collect operation.\r\n  ReplicaCount  is more clear, I will modify it ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611384163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611386458","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611386458","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611386458,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM4NjQ1OA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T07:52:58Z","updated_at":"2020-04-09T07:52:58Z","author_association":"CONTRIBUTOR","body":"> at the moment, replica quota will be checked when create table or alter table then the replica count would be collected , or when we execute \"show data\" command or other show proc command can trigger the replica statistics collect operation.\r\n\r\nThis will traverse all the metadata of a database, I don't think this is a good idea. It may hold the database lock for a long time.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611386458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611388841","html_url":"https://github.com/apache/doris/issues/3289#issuecomment-611388841","issue_url":"https://api.github.com/repos/apache/doris/issues/3289","id":611388841,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM4ODg0MQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T07:58:21Z","updated_at":"2020-04-09T07:59:49Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/44767902/78871981-1def2780-7a7b-11ea-9834-ab3603a55d47.png)\r\n\r\nThe result:\r\n![image](https://user-images.githubusercontent.com/44767902/78871792-d2d51480-7a7a-11ea-983e-5a0ed737ea0e.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611388841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611389566","html_url":"https://github.com/apache/doris/pull/3288#issuecomment-611389566","issue_url":"https://api.github.com/repos/apache/doris/issues/3288","id":611389566,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM4OTU2Ng==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T08:00:06Z","updated_at":"2020-04-09T08:00:06Z","author_association":"CONTRIBUTOR","body":"#3289 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611389566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611391552","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611391552","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611391552,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM5MTU1Mg==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T08:04:32Z","updated_at":"2020-04-09T08:06:54Z","author_association":"CONTRIBUTOR","body":"the time cost is almost same with the getDataSize, we now use the db level lock to get the meta info, about 0.26s cost for about 2500 tables for getDataSize on our production environment, maybe table level lock would be better? ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611391552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611396794","html_url":"https://github.com/apache/doris/pull/3288#issuecomment-611396794","issue_url":"https://api.github.com/repos/apache/doris/issues/3288","id":611396794,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM5Njc5NA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T08:16:23Z","updated_at":"2020-04-09T08:16:23Z","author_association":"CONTRIBUTOR","body":"If this optimization is removed, some query will suffer a performance degradation.\r\nWhen the scanned value column type is all REPLACE, it seems that this optimization can be applied.\r\nCan you leave this optimization for this case?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611396794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611403744","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611403744","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611403744,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTQwMzc0NA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T08:31:09Z","updated_at":"2020-04-09T08:31:09Z","author_association":"CONTRIBUTOR","body":"Why not maintain a counter in Database object like data size of the database?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611403744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611406948","html_url":"https://github.com/apache/doris/pull/3143#issuecomment-611406948","issue_url":"https://api.github.com/repos/apache/doris/issues/3143","id":611406948,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTQwNjk0OA==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T08:38:09Z","updated_at":"2020-04-09T08:39:02Z","author_association":"CONTRIBUTOR","body":"@imay @morningman \r\nSorry about my change is a bit late.\r\nI've changed  yeild() to sleep(). And the default interval time is 10ms.\r\nWhy 10ms, it's calculated through the avg time of add batch RPCs.\r\n\r\nIf the case is large, it get faster obviously, so I focus on little cases this time.\r\nI tested two little cases, and got the logs about add batch time. e.g.\r\n`node add batch time(ms)/wait lock time(ms)/num: {10003:(76703)(0)(4336)} {10002:(87961)(0)(4921)} {10006:(80490)(0)(4570)} {10005:(71098)(0)(3984)} {10004:(87736)(0)(4686)}`\r\n\r\nSo `avg time` = `add batch time` / `num`. And if you think the network time delay is not negligible, you can add it.\r\nIn my tests, the avg times are tens of milliseconds. So for the faster sink, I set it to 10ms.\r\n\r\nAnd the test result(interval=10ms) is\r\n| test sample | origin ver(avg) | nonblocking ver(avg) |\r\n|-|-|-|\r\n| {\"ScannedRows\":28582315,\"TaskNumber\":1,\"FileNumber\":3,\"FileSize\":569042681} | 4min37s | 3min27s |\r\n|{\"ScannedRows\":100967318,\"TaskNumber\":1,\"FileNumber\":9,\"FileSize\":3096583144} | 12min27s | 8min27s |\r\n \r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611406948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611415866","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611415866","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611415866,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTQxNTg2Ng==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T08:57:42Z","updated_at":"2020-04-09T08:57:50Z","author_association":"CONTRIBUTOR","body":" en， if the traverse cost is really bad, it will be a better implementation, let me make a experiment test first","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611415866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611419945","html_url":"https://github.com/apache/doris/pull/3288#issuecomment-611419945","issue_url":"https://api.github.com/repos/apache/doris/issues/3288","id":611419945,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTQxOTk0NQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T09:06:51Z","updated_at":"2020-04-09T09:06:51Z","author_association":"CONTRIBUTOR","body":"> If this optimization is removed, some query will suffer a performance degradation.\r\n> When the scanned value column type is all REPLACE, it seems that this optimization can be applied.\r\n> Can you leave this optimization for this case?\r\n\r\nI think it's a very corner case to select all columns on REPLACE and will waste much resource.\r\n1. Only base rowset(version starts with zero) can use it, all other rowsets have to save ZoneMap/BloomFilter for REPLACE columns, which is non-sense.\r\n2. REPLACE is value column, the ZoneMap is not very useful because of sorted column is key column.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611419945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611468986","html_url":"https://github.com/apache/doris/pull/3288#issuecomment-611468986","issue_url":"https://api.github.com/repos/apache/doris/issues/3288","id":611468986,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTQ2ODk4Ng==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T11:04:43Z","updated_at":"2020-04-09T11:04:43Z","author_association":"CONTRIBUTOR","body":"> > If this optimization is removed, some query will suffer a performance degradation.\r\n> > When the scanned value column type is all REPLACE, it seems that this optimization can be applied.\r\n> > Can you leave this optimization for this case?\r\n> \r\n> I think it's a very corner case to select all columns on REPLACE and will waste much resource.\r\n> \r\n> 1. Only base rowset(version starts with zero) can use it, all other rowsets have to save ZoneMap/BloomFilter for REPLACE columns, which is non-sense.\r\n> 2. REPLACE is value column, the ZoneMap is not very useful because of sorted column is key column.\r\n\r\nBeside ZoneMap/BloomFilter, input filter will be applied before rowset streams are merged, this will cause this problem too. And in most cases, base rowset has the most rows, and filtering data before merging will reduce merge operation dramatically. It will result in a good performance.\r\nSo I think ZoneMap and BloomFilter is not useful for REPLACE column, however filtering before merging worths it.  ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611468986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611512766","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611512766","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611512766,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTUxMjc2Ng==","user":{"login":"caiconghui","id":55968745,"node_id":"MDQ6VXNlcjU1OTY4NzQ1","avatar_url":"https://avatars.githubusercontent.com/u/55968745?v=4","gravatar_id":"","url":"https://api.github.com/users/caiconghui","html_url":"https://github.com/caiconghui","followers_url":"https://api.github.com/users/caiconghui/followers","following_url":"https://api.github.com/users/caiconghui/following{/other_user}","gists_url":"https://api.github.com/users/caiconghui/gists{/gist_id}","starred_url":"https://api.github.com/users/caiconghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caiconghui/subscriptions","organizations_url":"https://api.github.com/users/caiconghui/orgs","repos_url":"https://api.github.com/users/caiconghui/repos","events_url":"https://api.github.com/users/caiconghui/events{/privacy}","received_events_url":"https://api.github.com/users/caiconghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T12:56:47Z","updated_at":"2020-04-09T12:56:47Z","author_association":"CONTRIBUTOR","body":"I test show data with the total 800 tables in one db with 448852 replicas which cost  about only 20ms\r\n  \r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611512766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611533083","html_url":"https://github.com/apache/doris/pull/3288#issuecomment-611533083","issue_url":"https://api.github.com/repos/apache/doris/issues/3288","id":611533083,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTUzMzA4Mw==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T13:38:34Z","updated_at":"2020-04-09T13:38:34Z","author_association":"CONTRIBUTOR","body":"> > > If this optimization is removed, some query will suffer a performance degradation.\r\n> > > When the scanned value column type is all REPLACE, it seems that this optimization can be applied.\r\n> > > Can you leave this optimization for this case?\r\n> > \r\n> > \r\n> > I think it's a very corner case to select all columns on REPLACE and will waste much resource.\r\n> > \r\n> > 1. Only base rowset(version starts with zero) can use it, all other rowsets have to save ZoneMap/BloomFilter for REPLACE columns, which is non-sense.\r\n> > 2. REPLACE is value column, the ZoneMap is not very useful because of sorted column is key column.\r\n> \r\n> Beside ZoneMap/BloomFilter, input filter will be applied before rowset streams are merged, this will cause this problem too. And in most cases, base rowset has the most rows, and filtering data before merging will reduce merge operation dramatically. It will result in a good performance.\r\n> So I think ZoneMap and BloomFilter is not useful for REPLACE column, however filtering before merging worths it.\r\n\r\nYear, filter not use it now, predicate only in Key column can be used to filtered. REPLACE column can be used ZoneMap and BloomFilter to filter base rowset.\r\nFor the above reasons, I think can remove it. ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611533083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611563419","html_url":"https://github.com/apache/doris/pull/3246#issuecomment-611563419","issue_url":"https://api.github.com/repos/apache/doris/issues/3246","id":611563419,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTU2MzQxOQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T14:37:39Z","updated_at":"2020-04-09T14:37:39Z","author_association":"CONTRIBUTOR","body":"LGTM \r\n@acelyc111, Hi could you please resolve the conflicts?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611563419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611588452","html_url":"https://github.com/apache/doris/pull/3246#issuecomment-611588452","issue_url":"https://api.github.com/repos/apache/doris/issues/3246","id":611588452,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTU4ODQ1Mg==","user":{"login":"acelyc111","id":10775040,"node_id":"MDQ6VXNlcjEwNzc1MDQw","avatar_url":"https://avatars.githubusercontent.com/u/10775040?v=4","gravatar_id":"","url":"https://api.github.com/users/acelyc111","html_url":"https://github.com/acelyc111","followers_url":"https://api.github.com/users/acelyc111/followers","following_url":"https://api.github.com/users/acelyc111/following{/other_user}","gists_url":"https://api.github.com/users/acelyc111/gists{/gist_id}","starred_url":"https://api.github.com/users/acelyc111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acelyc111/subscriptions","organizations_url":"https://api.github.com/users/acelyc111/orgs","repos_url":"https://api.github.com/users/acelyc111/repos","events_url":"https://api.github.com/users/acelyc111/events{/privacy}","received_events_url":"https://api.github.com/users/acelyc111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T15:23:22Z","updated_at":"2020-04-09T15:23:22Z","author_association":"MEMBER","body":"> LGTM\r\n> @acelyc111, Hi could you please resolve the conflicts?\r\n\r\nResolved.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611588452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611606848","html_url":"https://github.com/apache/doris/issues/3285#issuecomment-611606848","issue_url":"https://api.github.com/repos/apache/doris/issues/3285","id":611606848,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTYwNjg0OA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T15:57:54Z","updated_at":"2020-04-09T15:57:54Z","author_association":"CONTRIBUTOR","body":"> I test show data with the total 800 tables in one db with 448852 replicas which cost about only 20ms\r\n\r\nThat seems acceptable.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611606848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611607869","html_url":"https://github.com/apache/doris/pull/3291#issuecomment-611607869","issue_url":"https://api.github.com/repos/apache/doris/issues/3291","id":611607869,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTYwNzg2OQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T15:59:46Z","updated_at":"2020-04-09T16:04:04Z","author_association":"CONTRIBUTOR","body":"> Forbidden subquery in having clause when no aggregation in stmt.\r\n\r\nCan you explain why do you want to do this? And as a committer, you should give this issue some label, and if you want to handle this, you can assign this issue to yourself.\r\n\r\nSorry for that I think this is the issue. However it's a good idea to write a detailed commit message, which will help other to know about this commit through git log.\r\nPlease label and assign the issue.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611607869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611611537","html_url":"https://github.com/apache/doris/pull/3288#issuecomment-611611537","issue_url":"https://api.github.com/repos/apache/doris/issues/3288","id":611611537,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTYxMTUzNw==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T16:06:29Z","updated_at":"2020-04-09T16:06:29Z","author_association":"CONTRIBUTOR","body":"> Year, filter not use it now, predicate only in Key column can be used to filtered. REPLACE column can be used ZoneMap and BloomFilter to filter base rowset.\r\n> For the above reasons, I think can remove it.\r\n\r\nThanks for your reply, I see. After this CL, performance won't be influenced.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611611537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611624078","html_url":"https://github.com/apache/doris/pull/3276#issuecomment-611624078","issue_url":"https://api.github.com/repos/apache/doris/issues/3276","id":611624078,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTYyNDA3OA==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T16:31:57Z","updated_at":"2020-04-09T16:31:57Z","author_association":"CONTRIBUTOR","body":"The UT is successful.\r\n![image](https://user-images.githubusercontent.com/1249159/78918226-a93fdb80-7ac2-11ea-9105-e80a9aedcc3a.png)\r\nI will merge this PR","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611624078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611874492","html_url":"https://github.com/apache/doris/pull/3291#issuecomment-611874492","issue_url":"https://api.github.com/repos/apache/doris/issues/3291","id":611874492,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTg3NDQ5Mg==","user":{"login":"EmmyMiao87","id":25147274,"node_id":"MDQ6VXNlcjI1MTQ3Mjc0","avatar_url":"https://avatars.githubusercontent.com/u/25147274?v=4","gravatar_id":"","url":"https://api.github.com/users/EmmyMiao87","html_url":"https://github.com/EmmyMiao87","followers_url":"https://api.github.com/users/EmmyMiao87/followers","following_url":"https://api.github.com/users/EmmyMiao87/following{/other_user}","gists_url":"https://api.github.com/users/EmmyMiao87/gists{/gist_id}","starred_url":"https://api.github.com/users/EmmyMiao87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EmmyMiao87/subscriptions","organizations_url":"https://api.github.com/users/EmmyMiao87/orgs","repos_url":"https://api.github.com/users/EmmyMiao87/repos","events_url":"https://api.github.com/users/EmmyMiao87/events{/privacy}","received_events_url":"https://api.github.com/users/EmmyMiao87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T04:40:16Z","updated_at":"2020-04-10T04:45:30Z","author_association":"CONTRIBUTOR","body":"> > Forbidden subquery in having clause when no aggregation in stmt.\r\n> \r\n> Can you explain why do you want to do this? And as a committer, you should give this issue some label, and if you want to handle this, you can assign this issue to yourself.\r\n> \r\n> Sorry for that I think this is the issue. However it's a good idea to write a detailed commit message, which will help other to know about this commit through git log.\r\n> Please label and assign the issue.\r\n\r\nThe label has been added.\r\n\r\nMultiple subqueries in the having statement need to be rewritten into multiple tables for join. The current rewriting rules need to be transformed.\r\nAnd this writing is not common, and there is no strong requirement from the business side.\r\nThis function will be added later if it is required.\r\n\r\nThe commit msg has been changed.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611874492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611901121","html_url":"https://github.com/apache/doris/pull/3293#issuecomment-611901121","issue_url":"https://api.github.com/repos/apache/doris/issues/3293","id":611901121,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTkwMTEyMQ==","user":{"login":"WingsGo","id":22497357,"node_id":"MDQ6VXNlcjIyNDk3MzU3","avatar_url":"https://avatars.githubusercontent.com/u/22497357?v=4","gravatar_id":"","url":"https://api.github.com/users/WingsGo","html_url":"https://github.com/WingsGo","followers_url":"https://api.github.com/users/WingsGo/followers","following_url":"https://api.github.com/users/WingsGo/following{/other_user}","gists_url":"https://api.github.com/users/WingsGo/gists{/gist_id}","starred_url":"https://api.github.com/users/WingsGo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WingsGo/subscriptions","organizations_url":"https://api.github.com/users/WingsGo/orgs","repos_url":"https://api.github.com/users/WingsGo/repos","events_url":"https://api.github.com/users/WingsGo/events{/privacy}","received_events_url":"https://api.github.com/users/WingsGo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T06:34:53Z","updated_at":"2020-04-10T06:34:53Z","author_association":"CONTRIBUTOR","body":"For #3292 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611901121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611930999","html_url":"https://github.com/apache/doris/pull/3294#issuecomment-611930999","issue_url":"https://api.github.com/repos/apache/doris/issues/3294","id":611930999,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTkzMDk5OQ==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T08:13:16Z","updated_at":"2020-04-10T08:13:16Z","author_association":"CONTRIBUTOR","body":"@liutang123 Please add a issue for this PR.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611930999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611932036","html_url":"https://github.com/apache/doris/pull/3294#issuecomment-611932036","issue_url":"https://api.github.com/repos/apache/doris/issues/3294","id":611932036,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTkzMjAzNg==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T08:16:01Z","updated_at":"2020-04-10T08:16:01Z","author_association":"CONTRIBUTOR","body":"> By add logs, we found that `TabletManager::start_trash_sweep` will take write lock for a long time.\r\n\r\nHow long? And after this PR applied, how long will it be?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611932036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/611934466","html_url":"https://github.com/apache/doris/pull/3246#issuecomment-611934466","issue_url":"https://api.github.com/repos/apache/doris/issues/3246","id":611934466,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTkzNDQ2Ng==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T08:22:48Z","updated_at":"2020-04-10T08:22:48Z","author_association":"CONTRIBUTOR","body":"@acelyc111 Hi, Would better add a doc to list all new metrics and  describe the metrics meaning. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/611934466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612041189","html_url":"https://github.com/apache/doris/pull/3294#issuecomment-612041189","issue_url":"https://api.github.com/repos/apache/doris/issues/3294","id":612041189,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjA0MTE4OQ==","user":{"login":"liutang123","id":17537020,"node_id":"MDQ6VXNlcjE3NTM3MDIw","avatar_url":"https://avatars.githubusercontent.com/u/17537020?v=4","gravatar_id":"","url":"https://api.github.com/users/liutang123","html_url":"https://github.com/liutang123","followers_url":"https://api.github.com/users/liutang123/followers","following_url":"https://api.github.com/users/liutang123/following{/other_user}","gists_url":"https://api.github.com/users/liutang123/gists{/gist_id}","starred_url":"https://api.github.com/users/liutang123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liutang123/subscriptions","organizations_url":"https://api.github.com/users/liutang123/orgs","repos_url":"https://api.github.com/users/liutang123/repos","events_url":"https://api.github.com/users/liutang123/events{/privacy}","received_events_url":"https://api.github.com/users/liutang123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T14:01:19Z","updated_at":"2020-04-10T14:05:26Z","author_association":"CONTRIBUTOR","body":"> > By add logs, we found that `TabletManager::start_trash_sweep` will take write lock for a long time.\r\n> \r\n> How long? And after this PR applied, how long will it be?\r\n\r\nWe set `tablet_map_shard_size` to 16, this function will holds each map lock about more than 1 second.\r\nAfter this PR, this function holds write lock less than 100 ms.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612041189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612068757","html_url":"https://github.com/apache/doris/pull/3300#issuecomment-612068757","issue_url":"https://api.github.com/repos/apache/doris/issues/3300","id":612068757,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjA2ODc1Nw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T15:03:53Z","updated_at":"2020-04-10T15:03:53Z","author_association":"CONTRIBUTOR","body":"We have to update the thirdparty dependency of our CI environment, or the compilation will be failed.\r\nI will update them next week.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612068757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612070999","html_url":"https://github.com/apache/doris/pull/3298#issuecomment-612070999","issue_url":"https://api.github.com/repos/apache/doris/issues/3298","id":612070999,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjA3MDk5OQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T15:09:28Z","updated_at":"2020-04-10T15:09:28Z","author_association":"CONTRIBUTOR","body":"If emtpy table, count(1) = 0, which will results?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612070999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612102266","html_url":"https://github.com/apache/doris/pull/3298#issuecomment-612102266","issue_url":"https://api.github.com/repos/apache/doris/issues/3298","id":612102266,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjEwMjI2Ng==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T16:15:16Z","updated_at":"2020-04-10T16:15:16Z","author_association":"CONTRIBUTOR","body":"I made a mistake in my thinking，I temporarily shut down the PR","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612102266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612282382","html_url":"https://github.com/apache/doris/pull/3246#issuecomment-612282382","issue_url":"https://api.github.com/repos/apache/doris/issues/3246","id":612282382,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjI4MjM4Mg==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T00:44:07Z","updated_at":"2020-04-11T00:44:07Z","author_association":"CONTRIBUTOR","body":"> > I have a question about dynamic collect the metric.\r\n> > If people can remember so many metrics and use http server to get it?\r\n> > Why not add it into DorisMetric instead?\r\n> \r\n> Yes, I register all of these metrics to DorisMetric, via a new added macro in be/src/util/doris_metrics.h., and user can visit '/metrics' to obtain all metrics.\r\n\r\nI mean you can write the variable in doris_metrics.h, it's can be a unified entrance.\r\nThe followers can easy know metrics in doris through reading doris_metris.h.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612282382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612349756","html_url":"https://github.com/apache/doris/pull/3300#issuecomment-612349756","issue_url":"https://api.github.com/repos/apache/doris/issues/3300","id":612349756,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjM0OTc1Ng==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T07:00:40Z","updated_at":"2020-04-11T07:00:40Z","author_association":"CONTRIBUTOR","body":"> We have to update the thirdparty dependency of our CI environment, or the compilation will be failed.\r\n> I will update them next week.\r\n\r\nOK","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612349756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612378738","html_url":"https://github.com/apache/doris/issues/3303#issuecomment-612378738","issue_url":"https://api.github.com/repos/apache/doris/issues/3303","id":612378738,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjM3ODczOA==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T09:35:42Z","updated_at":"2020-04-11T09:35:42Z","author_association":"CONTRIBUTOR","body":"你的导入文件是什么类型？","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612378738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612381195","html_url":"https://github.com/apache/doris/issues/3303#issuecomment-612381195","issue_url":"https://api.github.com/repos/apache/doris/issues/3303","id":612381195,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjM4MTE5NQ==","user":{"login":"zougengwei","id":38029304,"node_id":"MDQ6VXNlcjM4MDI5MzA0","avatar_url":"https://avatars.githubusercontent.com/u/38029304?v=4","gravatar_id":"","url":"https://api.github.com/users/zougengwei","html_url":"https://github.com/zougengwei","followers_url":"https://api.github.com/users/zougengwei/followers","following_url":"https://api.github.com/users/zougengwei/following{/other_user}","gists_url":"https://api.github.com/users/zougengwei/gists{/gist_id}","starred_url":"https://api.github.com/users/zougengwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zougengwei/subscriptions","organizations_url":"https://api.github.com/users/zougengwei/orgs","repos_url":"https://api.github.com/users/zougengwei/repos","events_url":"https://api.github.com/users/zougengwei/events{/privacy}","received_events_url":"https://api.github.com/users/zougengwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T09:49:48Z","updated_at":"2020-04-11T09:49:48Z","author_association":"NONE","body":"导入的是orc","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612381195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612382192","html_url":"https://github.com/apache/doris/issues/3303#issuecomment-612382192","issue_url":"https://api.github.com/repos/apache/doris/issues/3303","id":612382192,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjM4MjE5Mg==","user":{"login":"HangyuanLiu","id":12147090,"node_id":"MDQ6VXNlcjEyMTQ3MDkw","avatar_url":"https://avatars.githubusercontent.com/u/12147090?v=4","gravatar_id":"","url":"https://api.github.com/users/HangyuanLiu","html_url":"https://github.com/HangyuanLiu","followers_url":"https://api.github.com/users/HangyuanLiu/followers","following_url":"https://api.github.com/users/HangyuanLiu/following{/other_user}","gists_url":"https://api.github.com/users/HangyuanLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HangyuanLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HangyuanLiu/subscriptions","organizations_url":"https://api.github.com/users/HangyuanLiu/orgs","repos_url":"https://api.github.com/users/HangyuanLiu/repos","events_url":"https://api.github.com/users/HangyuanLiu/events{/privacy}","received_events_url":"https://api.github.com/users/HangyuanLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T09:55:27Z","updated_at":"2020-04-11T09:55:27Z","author_association":"CONTRIBUTOR","body":"这个功能，在目前你不改变orc数值类型的前提下，是无法支持的。\r\n但是这个功能是可以支持的，只不过目前被另一个PR阻塞住了，可能需要下周才能支持。","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612382192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612390154","html_url":"https://github.com/apache/doris/issues/3306#issuecomment-612390154","issue_url":"https://api.github.com/repos/apache/doris/issues/3306","id":612390154,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjM5MDE1NA==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T10:41:28Z","updated_at":"2020-04-11T10:41:28Z","author_association":"MEMBER","body":"https://github.com/apache/incubator-doris/issues/3249","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612390154/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612393825","html_url":"https://github.com/apache/doris/issues/3306#issuecomment-612393825","issue_url":"https://api.github.com/repos/apache/doris/issues/3306","id":612393825,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjM5MzgyNQ==","user":{"login":"BabySid","id":6658943,"node_id":"MDQ6VXNlcjY2NTg5NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6658943?v=4","gravatar_id":"","url":"https://api.github.com/users/BabySid","html_url":"https://github.com/BabySid","followers_url":"https://api.github.com/users/BabySid/followers","following_url":"https://api.github.com/users/BabySid/following{/other_user}","gists_url":"https://api.github.com/users/BabySid/gists{/gist_id}","starred_url":"https://api.github.com/users/BabySid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BabySid/subscriptions","organizations_url":"https://api.github.com/users/BabySid/orgs","repos_url":"https://api.github.com/users/BabySid/repos","events_url":"https://api.github.com/users/BabySid/events{/privacy}","received_events_url":"https://api.github.com/users/BabySid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T11:02:17Z","updated_at":"2020-04-11T11:02:17Z","author_association":"CONTRIBUTOR","body":"简直就是业务线同学福音！！！！！\r\n非常期待这些feature的上线。也希望有机会一起开发。","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612393825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612418725","html_url":"https://github.com/apache/doris/pull/3305#issuecomment-612418725","issue_url":"https://api.github.com/repos/apache/doris/issues/3305","id":612418725,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjQxODcyNQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T13:14:20Z","updated_at":"2020-04-11T13:14:20Z","author_association":"CONTRIBUTOR","body":"> #3304\r\n> \r\n> 这个方案其实是一个过度的解决方案，最佳的解决方案应该是将对EsScanNode的谓词转换在FE中完成，BE只负责扫描，这样将对查询的处理和执行完全分开。\r\n> \r\n> 建表时增加一个 `enable_keyword_sniff ` 配置，默认是 \"true\", 会对分词字段进行探测获取`keyword`类型字段的`json path`.\r\n> \r\n> ```\r\n> \r\n> CREATE EXTERNAL TABLE `test` (\r\n>   `k1` varchar(20) COMMENT \"\",\r\n>   `create_time` datetime COMMENT \"\"\r\n> ) ENGINE=ELASTICSEARCH\r\n> PROPERTIES (\r\n> \"hosts\" = \"http://10.74.167.16:8200\",\r\n> \"user\" = \"root\",\r\n> \"password\" = \"root\",\r\n> \"index\" = \"test\",\r\n> \"type\" = \"doc\",\r\n> \"enable_keyword_sniff\" = \"true\"\r\n> );\r\n> ```\r\n> \r\n> 其中 `enable_keyword_sniff` 默认就是true\r\n> \r\n> 效果：\r\n> \r\n> ```\r\n> select * from test where k1 = \"wu yun feng\"\r\n> ```\r\n> \r\n> 输出：\r\n> \r\n> ```\r\n> {\"term\":{\"k1.keyword\":\"wu yun feng\"}}\r\n> ```\r\n> \r\n> 在这个PR中，我暂时把对ES的version检测移除了\r\n> \r\n> 未来几个月将会将谓词的转换全部上移到FE中，处理这种就变得非常简单了。\r\n\r\nBetter in English","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612418725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612443072","html_url":"https://github.com/apache/doris/issues/3306#issuecomment-612443072","issue_url":"https://api.github.com/repos/apache/doris/issues/3306","id":612443072,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjQ0MzA3Mg==","user":{"login":"stalary","id":24592373,"node_id":"MDQ6VXNlcjI0NTkyMzcz","avatar_url":"https://avatars.githubusercontent.com/u/24592373?v=4","gravatar_id":"","url":"https://api.github.com/users/stalary","html_url":"https://github.com/stalary","followers_url":"https://api.github.com/users/stalary/followers","following_url":"https://api.github.com/users/stalary/following{/other_user}","gists_url":"https://api.github.com/users/stalary/gists{/gist_id}","starred_url":"https://api.github.com/users/stalary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stalary/subscriptions","organizations_url":"https://api.github.com/users/stalary/orgs","repos_url":"https://api.github.com/users/stalary/repos","events_url":"https://api.github.com/users/stalary/events{/privacy}","received_events_url":"https://api.github.com/users/stalary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T15:13:20Z","updated_at":"2020-04-11T15:13:20Z","author_association":"CONTRIBUTOR","body":"`index mapping和shard location的检测分成两个阶段`\r\n这个我来搞下","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612443072/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612444094","html_url":"https://github.com/apache/doris/issues/3306#issuecomment-612444094","issue_url":"https://api.github.com/repos/apache/doris/issues/3306","id":612444094,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjQ0NDA5NA==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-11T15:17:10Z","updated_at":"2020-04-11T15:17:10Z","author_association":"MEMBER","body":"@stalary OK","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612444094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612574756","html_url":"https://github.com/apache/doris/pull/3246#issuecomment-612574756","issue_url":"https://api.github.com/repos/apache/doris/issues/3246","id":612574756,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjU3NDc1Ng==","user":{"login":"acelyc111","id":10775040,"node_id":"MDQ6VXNlcjEwNzc1MDQw","avatar_url":"https://avatars.githubusercontent.com/u/10775040?v=4","gravatar_id":"","url":"https://api.github.com/users/acelyc111","html_url":"https://github.com/acelyc111","followers_url":"https://api.github.com/users/acelyc111/followers","following_url":"https://api.github.com/users/acelyc111/following{/other_user}","gists_url":"https://api.github.com/users/acelyc111/gists{/gist_id}","starred_url":"https://api.github.com/users/acelyc111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acelyc111/subscriptions","organizations_url":"https://api.github.com/users/acelyc111/orgs","repos_url":"https://api.github.com/users/acelyc111/repos","events_url":"https://api.github.com/users/acelyc111/events{/privacy}","received_events_url":"https://api.github.com/users/acelyc111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T07:14:26Z","updated_at":"2020-04-12T07:15:02Z","author_association":"MEMBER","body":"> @acelyc111 Hi, Would better add a doc to list all new metrics and describe the metrics meaning. Thanks.\r\n\r\n@kangkaisen \r\nOK! And I want to know that is there a doc describing all the exsited metrics? If not, I think we could provide a way, for example CLI, to dump all metrics, with their description which has been well written when the related metric is defined/registered, then we only need to maintain the code, without an independent doc.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612574756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612606111","html_url":"https://github.com/apache/doris/pull/3246#issuecomment-612606111","issue_url":"https://api.github.com/repos/apache/doris/issues/3246","id":612606111,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjYwNjExMQ==","user":{"login":"acelyc111","id":10775040,"node_id":"MDQ6VXNlcjEwNzc1MDQw","avatar_url":"https://avatars.githubusercontent.com/u/10775040?v=4","gravatar_id":"","url":"https://api.github.com/users/acelyc111","html_url":"https://github.com/acelyc111","followers_url":"https://api.github.com/users/acelyc111/followers","following_url":"https://api.github.com/users/acelyc111/following{/other_user}","gists_url":"https://api.github.com/users/acelyc111/gists{/gist_id}","starred_url":"https://api.github.com/users/acelyc111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acelyc111/subscriptions","organizations_url":"https://api.github.com/users/acelyc111/orgs","repos_url":"https://api.github.com/users/acelyc111/repos","events_url":"https://api.github.com/users/acelyc111/events{/privacy}","received_events_url":"https://api.github.com/users/acelyc111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T12:21:11Z","updated_at":"2020-04-12T12:22:10Z","author_association":"MEMBER","body":"> > > I have a question about dynamic collect the metric.\r\n> > > If people can remember so many metrics and use http server to get it?\r\n> > > Why not add it into DorisMetric instead?\r\n> > \r\n> > \r\n> > Yes, I register all of these metrics to DorisMetric, via a new added macro in be/src/util/doris_metrics.h., and user can visit '/metrics' to obtain all metrics.\r\n> \r\n> I mean you can write the variable in doris_metrics.h, it's can be a unified entrance.\r\n> The followers can easy know metrics in doris through reading doris_metris.h.\r\n\r\n@chaoyli  Good advice, done.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612606111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612624616","html_url":"https://github.com/apache/doris/pull/1292#issuecomment-612624616","issue_url":"https://api.github.com/repos/apache/doris/issues/1292","id":612624616,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjYyNDYxNg==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T14:32:03Z","updated_at":"2020-04-12T14:32:03Z","author_association":"CONTRIBUTOR","body":"This feature is done by another PR, close this.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612624616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612625122","html_url":"https://github.com/apache/doris/pull/3246#issuecomment-612625122","issue_url":"https://api.github.com/repos/apache/doris/issues/3246","id":612625122,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjYyNTEyMg==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-12T14:35:03Z","updated_at":"2020-04-12T14:36:21Z","author_association":"CONTRIBUTOR","body":"> OK! And I want to know that is there a doc describing all the exsited metrics? If not, I think we could provide a way, for example CLI, to dump all metrics, with their description which has been well written when the related metric is defined/registered, then we only need to maintain the code, without an independent doc.\r\n\r\nIt's OK to not add doc in this PR. Currently we do not have a doc for these metrics. We can add this doc in another PR later.\r\n\r\nBut it's better to list the new metrics you added in this PR in your commit log and make a brief description of them.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612625122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612729982","html_url":"https://github.com/apache/doris/pull/3294#issuecomment-612729982","issue_url":"https://api.github.com/repos/apache/doris/issues/3294","id":612729982,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjcyOTk4Mg==","user":{"login":"liutang123","id":17537020,"node_id":"MDQ6VXNlcjE3NTM3MDIw","avatar_url":"https://avatars.githubusercontent.com/u/17537020?v=4","gravatar_id":"","url":"https://api.github.com/users/liutang123","html_url":"https://github.com/liutang123","followers_url":"https://api.github.com/users/liutang123/followers","following_url":"https://api.github.com/users/liutang123/following{/other_user}","gists_url":"https://api.github.com/users/liutang123/gists{/gist_id}","starred_url":"https://api.github.com/users/liutang123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liutang123/subscriptions","organizations_url":"https://api.github.com/users/liutang123/orgs","repos_url":"https://api.github.com/users/liutang123/repos","events_url":"https://api.github.com/users/liutang123/events{/privacy}","received_events_url":"https://api.github.com/users/liutang123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T03:16:43Z","updated_at":"2020-04-13T03:16:43Z","author_association":"CONTRIBUTOR","body":"@chaoyli Hi, do you have time to see this PR again.\r\nThis PR has been online in our cluster for two days.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612729982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612760776","html_url":"https://github.com/apache/doris/pull/3305#issuecomment-612760776","issue_url":"https://api.github.com/repos/apache/doris/issues/3305","id":612760776,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjc2MDc3Ng==","user":{"login":"stalary","id":24592373,"node_id":"MDQ6VXNlcjI0NTkyMzcz","avatar_url":"https://avatars.githubusercontent.com/u/24592373?v=4","gravatar_id":"","url":"https://api.github.com/users/stalary","html_url":"https://github.com/stalary","followers_url":"https://api.github.com/users/stalary/followers","following_url":"https://api.github.com/users/stalary/following{/other_user}","gists_url":"https://api.github.com/users/stalary/gists{/gist_id}","starred_url":"https://api.github.com/users/stalary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stalary/subscriptions","organizations_url":"https://api.github.com/users/stalary/orgs","repos_url":"https://api.github.com/users/stalary/repos","events_url":"https://api.github.com/users/stalary/events{/privacy}","received_events_url":"https://api.github.com/users/stalary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T05:44:03Z","updated_at":"2020-04-13T05:44:03Z","author_association":"CONTRIBUTOR","body":"How is the review going? I need this feature. @morningman ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612760776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612850706","html_url":"https://github.com/apache/doris/issues/3307#issuecomment-612850706","issue_url":"https://api.github.com/repos/apache/doris/issues/3307","id":612850706,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjg1MDcwNg==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T10:48:14Z","updated_at":"2020-04-13T10:48:14Z","author_association":"CONTRIBUTOR","body":"How to use bitmap to store rowset_ids?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612850706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612945803","html_url":"https://github.com/apache/doris/pull/3310#issuecomment-612945803","issue_url":"https://api.github.com/repos/apache/doris/issues/3310","id":612945803,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk0NTgwMw==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T15:22:29Z","updated_at":"2020-04-13T15:22:29Z","author_association":"CONTRIBUTOR","body":"@morningman \r\nI think we should replace all `==` compare with `equals`.  `==` returns true only when the two sides refer the same object. I think all the type compare means to test if they are the same type, not the same object.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612945803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612947145","html_url":"https://github.com/apache/doris/pull/3310#issuecomment-612947145","issue_url":"https://api.github.com/repos/apache/doris/issues/3310","id":612947145,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk0NzE0NQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T15:25:28Z","updated_at":"2020-04-13T15:25:28Z","author_association":"CONTRIBUTOR","body":"> @morningman\r\n> I think we should replace all `==` compare with `equals`. `==` returns true only when the two sides refer the same object. I think all the type compare means to test if they are the same type, not the same object.\r\n\r\nI agree. I am just puzzled why they are not the same object. I think they should be....","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612947145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612949806","html_url":"https://github.com/apache/doris/pull/3310#issuecomment-612949806","issue_url":"https://api.github.com/repos/apache/doris/issues/3310","id":612949806,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk0OTgwNg==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T15:31:37Z","updated_at":"2020-04-13T15:31:37Z","author_association":"CONTRIBUTOR","body":"> I agree. I am just puzzled why they are not the same object. I think they should be....\r\n\r\nWithout knowing why, we can still make Doris work in the right way.\r\nSo we can move it to another issue to investigate later on.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612949806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612950274","html_url":"https://github.com/apache/doris/pull/3310#issuecomment-612950274","issue_url":"https://api.github.com/repos/apache/doris/issues/3310","id":612950274,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk1MDI3NA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T15:32:44Z","updated_at":"2020-04-13T15:32:44Z","author_association":"CONTRIBUTOR","body":"> > I agree. I am just puzzled why they are not the same object. I think they should be....\r\n> \r\n> Without knowing why, we can still make Doris work in the right way.\r\n> So we can move it to another issue to investigate later on.\r\n\r\nOK, I will try to find out all `==` and change them to `equals()`","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612950274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/612954531","html_url":"https://github.com/apache/doris/issues/3306#issuecomment-612954531","issue_url":"https://api.github.com/repos/apache/doris/issues/3306","id":612954531,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjk1NDUzMQ==","user":{"login":"imay","id":1249159,"node_id":"MDQ6VXNlcjEyNDkxNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1249159?v=4","gravatar_id":"","url":"https://api.github.com/users/imay","html_url":"https://github.com/imay","followers_url":"https://api.github.com/users/imay/followers","following_url":"https://api.github.com/users/imay/following{/other_user}","gists_url":"https://api.github.com/users/imay/gists{/gist_id}","starred_url":"https://api.github.com/users/imay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imay/subscriptions","organizations_url":"https://api.github.com/users/imay/orgs","repos_url":"https://api.github.com/users/imay/repos","events_url":"https://api.github.com/users/imay/events{/privacy}","received_events_url":"https://api.github.com/users/imay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T15:42:43Z","updated_at":"2020-04-13T15:42:43Z","author_association":"CONTRIBUTOR","body":"> `index mapping和shard location的检测分成两个阶段`\r\n> 这个我来搞下\r\n\r\n@stalary \r\nYou can create another issue to track it","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/612954531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613198701","html_url":"https://github.com/apache/doris/issues/3307#issuecomment-613198701","issue_url":"https://api.github.com/repos/apache/doris/issues/3307","id":613198701,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzE5ODcwMQ==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T02:55:19Z","updated_at":"2020-04-14T05:49:16Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-doris/blob/cc31bf9cf96ec0bef2ce55553b247df7bbe598e3/be/src/olap/rowset/unique_rowset_id_generator.cpp#L31\r\nrowset_id is combined of version, inc_id, be_uid hi, be_uid lo. And the version and be_uid would never change. **So a inc_id(or rowset.hi) corresponds to a RowsetId.**\r\nWe can use a bitmap to store inc_id(or rowset.hi).\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613198701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613218665","html_url":"https://github.com/apache/doris/pull/3313#issuecomment-613218665","issue_url":"https://api.github.com/repos/apache/doris/issues/3313","id":613218665,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzIxODY2NQ==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T04:24:51Z","updated_at":"2020-04-14T04:24:51Z","author_association":"CONTRIBUTOR","body":"Could you point out what is `previous bug`?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613218665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613222420","html_url":"https://github.com/apache/doris/issues/3307#issuecomment-613222420","issue_url":"https://api.github.com/repos/apache/doris/issues/3307","id":613222420,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzIyMjQyMA==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T04:41:45Z","updated_at":"2020-04-14T05:49:28Z","author_association":"CONTRIBUTOR","body":"If you worry about the waste memory of unused rowset. e.g. we released rowset_id(_inc_id==1), then we never use it. But it's in the bitset.\r\n ### For memory-conserving\r\n we can use a map of bitset\r\n```\r\nstd::map<int, bitset<SIZE>> bitsets;\r\n```\r\nSo `bitsets[id/SIZE][id%SIZE]` is the rowset_id bit.\r\nAnd if one bitset is all 0, we can delete it.(may need generate a gc task)\r\n\r\n### For cleaner code\r\njust use a set of inc_id(or rowset.hi) to store valid rowset. We can save 17/25 of memory,  more than 2/ 3.\r\n","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613222420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613229333","html_url":"https://github.com/apache/doris/issues/3314#issuecomment-613229333","issue_url":"https://api.github.com/repos/apache/doris/issues/3314","id":613229333,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzIyOTMzMw==","user":{"login":"kangkaisen","id":9894906,"node_id":"MDQ6VXNlcjk4OTQ5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9894906?v=4","gravatar_id":"","url":"https://api.github.com/users/kangkaisen","html_url":"https://github.com/kangkaisen","followers_url":"https://api.github.com/users/kangkaisen/followers","following_url":"https://api.github.com/users/kangkaisen/following{/other_user}","gists_url":"https://api.github.com/users/kangkaisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kangkaisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangkaisen/subscriptions","organizations_url":"https://api.github.com/users/kangkaisen/orgs","repos_url":"https://api.github.com/users/kangkaisen/repos","events_url":"https://api.github.com/users/kangkaisen/events{/privacy}","received_events_url":"https://api.github.com/users/kangkaisen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T05:10:56Z","updated_at":"2020-04-14T05:10:56Z","author_association":"CONTRIBUTOR","body":"It's a great work!","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613229333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613247465","html_url":"https://github.com/apache/doris/pull/3313#issuecomment-613247465","issue_url":"https://api.github.com/repos/apache/doris/issues/3313","id":613247465,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzI0NzQ2NQ==","user":{"login":"Youngwb","id":9495145,"node_id":"MDQ6VXNlcjk0OTUxNDU=","avatar_url":"https://avatars.githubusercontent.com/u/9495145?v=4","gravatar_id":"","url":"https://api.github.com/users/Youngwb","html_url":"https://github.com/Youngwb","followers_url":"https://api.github.com/users/Youngwb/followers","following_url":"https://api.github.com/users/Youngwb/following{/other_user}","gists_url":"https://api.github.com/users/Youngwb/gists{/gist_id}","starred_url":"https://api.github.com/users/Youngwb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Youngwb/subscriptions","organizations_url":"https://api.github.com/users/Youngwb/orgs","repos_url":"https://api.github.com/users/Youngwb/repos","events_url":"https://api.github.com/users/Youngwb/events{/privacy}","received_events_url":"https://api.github.com/users/Youngwb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T06:16:57Z","updated_at":"2020-04-14T06:16:57Z","author_association":"CONTRIBUTOR","body":"sorry, I don't known the exact bug，and I just got this information from @chaoyli ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613247465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613250009","html_url":"https://github.com/apache/doris/pull/3310#issuecomment-613250009","issue_url":"https://api.github.com/repos/apache/doris/issues/3310","id":613250009,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzI1MDAwOQ==","user":{"login":"kangpinghuang","id":40422952,"node_id":"MDQ6VXNlcjQwNDIyOTUy","avatar_url":"https://avatars.githubusercontent.com/u/40422952?v=4","gravatar_id":"","url":"https://api.github.com/users/kangpinghuang","html_url":"https://github.com/kangpinghuang","followers_url":"https://api.github.com/users/kangpinghuang/followers","following_url":"https://api.github.com/users/kangpinghuang/following{/other_user}","gists_url":"https://api.github.com/users/kangpinghuang/gists{/gist_id}","starred_url":"https://api.github.com/users/kangpinghuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kangpinghuang/subscriptions","organizations_url":"https://api.github.com/users/kangpinghuang/orgs","repos_url":"https://api.github.com/users/kangpinghuang/repos","events_url":"https://api.github.com/users/kangpinghuang/events{/privacy}","received_events_url":"https://api.github.com/users/kangpinghuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T06:25:03Z","updated_at":"2020-04-14T06:25:03Z","author_association":"CONTRIBUTOR","body":"I think we should add some unit tests.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613250009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613256415","html_url":"https://github.com/apache/doris/issues/3307#issuecomment-613256415","issue_url":"https://api.github.com/repos/apache/doris/issues/3307","id":613256415,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzI1NjQxNQ==","user":{"login":"chaoyli","id":44767902,"node_id":"MDQ6VXNlcjQ0NzY3OTAy","avatar_url":"https://avatars.githubusercontent.com/u/44767902?v=4","gravatar_id":"","url":"https://api.github.com/users/chaoyli","html_url":"https://github.com/chaoyli","followers_url":"https://api.github.com/users/chaoyli/followers","following_url":"https://api.github.com/users/chaoyli/following{/other_user}","gists_url":"https://api.github.com/users/chaoyli/gists{/gist_id}","starred_url":"https://api.github.com/users/chaoyli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaoyli/subscriptions","organizations_url":"https://api.github.com/users/chaoyli/orgs","repos_url":"https://api.github.com/users/chaoyli/repos","events_url":"https://api.github.com/users/chaoyli/events{/privacy}","received_events_url":"https://api.github.com/users/chaoyli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T06:44:44Z","updated_at":"2020-04-14T06:44:44Z","author_association":"CONTRIBUTOR","body":"I think you store only inc_id is OK, and store _version and _backend_uid once is enough.\r\nI am not understand that std::map<int, bitset<SIZE>> bitsets is for what?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613256415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613265363","html_url":"https://github.com/apache/doris/issues/3287#issuecomment-613265363","issue_url":"https://api.github.com/repos/apache/doris/issues/3287","id":613265363,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzI2NTM2Mw==","user":{"login":"BabySid","id":6658943,"node_id":"MDQ6VXNlcjY2NTg5NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6658943?v=4","gravatar_id":"","url":"https://api.github.com/users/BabySid","html_url":"https://github.com/BabySid","followers_url":"https://api.github.com/users/BabySid/followers","following_url":"https://api.github.com/users/BabySid/following{/other_user}","gists_url":"https://api.github.com/users/BabySid/gists{/gist_id}","starred_url":"https://api.github.com/users/BabySid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BabySid/subscriptions","organizations_url":"https://api.github.com/users/BabySid/orgs","repos_url":"https://api.github.com/users/BabySid/repos","events_url":"https://api.github.com/users/BabySid/events{/privacy}","received_events_url":"https://api.github.com/users/BabySid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T07:09:04Z","updated_at":"2020-04-14T07:09:04Z","author_association":"CONTRIBUTOR","body":"关于后续doris on es的字段类型的初步考虑：\r\n1、原则上字段类型需要一致。这样对于维护以及做自动化的同步工具都非常关键（如alter table时的新增字段，类型一致则可以自动化去做）\r\n\r\n\r\n对于一些场景。如为了使用ES的索引性能，对于整数在ES中存储为keyword（string），使用原则1，则doris中的表类型也需为VARCHAR。这样在使用sum等函数的时候在sql中使用cast转换即可。而这种场景下，大多数的请求是在做term查询，因此在sql中使用cast的频率相对也不会太高。如果在ES中类型为long，那么doris中类型一般是bigint，此处不需要在sql中做cast，这个时候的场景，多是用ES在范围扫描，点查询相对不多。因此不论何种方式，均会牺牲掉一些特性，这里考虑到场景下的多数情况，采用了上述原则1的方式。\r\n\r\nrefer @wuyunfeng 欢迎补充","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613265363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613273616","html_url":"https://github.com/apache/doris/issues/3241#issuecomment-613273616","issue_url":"https://api.github.com/repos/apache/doris/issues/3241","id":613273616,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzI3MzYxNg==","user":{"login":"gengjun-git","id":54172532,"node_id":"MDQ6VXNlcjU0MTcyNTMy","avatar_url":"https://avatars.githubusercontent.com/u/54172532?v=4","gravatar_id":"","url":"https://api.github.com/users/gengjun-git","html_url":"https://github.com/gengjun-git","followers_url":"https://api.github.com/users/gengjun-git/followers","following_url":"https://api.github.com/users/gengjun-git/following{/other_user}","gists_url":"https://api.github.com/users/gengjun-git/gists{/gist_id}","starred_url":"https://api.github.com/users/gengjun-git/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gengjun-git/subscriptions","organizations_url":"https://api.github.com/users/gengjun-git/orgs","repos_url":"https://api.github.com/users/gengjun-git/repos","events_url":"https://api.github.com/users/gengjun-git/events{/privacy}","received_events_url":"https://api.github.com/users/gengjun-git/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T07:28:47Z","updated_at":"2020-04-14T07:28:47Z","author_association":"CONTRIBUTOR","body":"@zzr1000 hello, can you show us the version of doris and presto you are using. I have tested querying data from doris through presto, and no errors ocurred.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613273616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613275090","html_url":"https://github.com/apache/doris/issues/3307#issuecomment-613275090","issue_url":"https://api.github.com/repos/apache/doris/issues/3307","id":613275090,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzI3NTA5MA==","user":{"login":"vagetablechicken","id":24697960,"node_id":"MDQ6VXNlcjI0Njk3OTYw","avatar_url":"https://avatars.githubusercontent.com/u/24697960?v=4","gravatar_id":"","url":"https://api.github.com/users/vagetablechicken","html_url":"https://github.com/vagetablechicken","followers_url":"https://api.github.com/users/vagetablechicken/followers","following_url":"https://api.github.com/users/vagetablechicken/following{/other_user}","gists_url":"https://api.github.com/users/vagetablechicken/gists{/gist_id}","starred_url":"https://api.github.com/users/vagetablechicken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vagetablechicken/subscriptions","organizations_url":"https://api.github.com/users/vagetablechicken/orgs","repos_url":"https://api.github.com/users/vagetablechicken/repos","events_url":"https://api.github.com/users/vagetablechicken/events{/privacy}","received_events_url":"https://api.github.com/users/vagetablechicken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T07:32:23Z","updated_at":"2020-04-14T07:32:23Z","author_association":"CONTRIBUTOR","body":"> I think you store only inc_id is OK, and store _version and _backend_uid once is enough.\r\n> I am not understand that std::map<int, bitset> bitsets is for what?\r\n\r\nFor minimum memory usage, but may has the worst case. So forget about it.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613275090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613279004","html_url":"https://github.com/apache/doris/issues/1103#issuecomment-613279004","issue_url":"https://api.github.com/repos/apache/doris/issues/1103","id":613279004,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzI3OTAwNA==","user":{"login":"cleverpig","id":580435,"node_id":"MDQ6VXNlcjU4MDQzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/580435?v=4","gravatar_id":"","url":"https://api.github.com/users/cleverpig","html_url":"https://github.com/cleverpig","followers_url":"https://api.github.com/users/cleverpig/followers","following_url":"https://api.github.com/users/cleverpig/following{/other_user}","gists_url":"https://api.github.com/users/cleverpig/gists{/gist_id}","starred_url":"https://api.github.com/users/cleverpig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cleverpig/subscriptions","organizations_url":"https://api.github.com/users/cleverpig/orgs","repos_url":"https://api.github.com/users/cleverpig/repos","events_url":"https://api.github.com/users/cleverpig/events{/privacy}","received_events_url":"https://api.github.com/users/cleverpig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T07:41:38Z","updated_at":"2020-04-14T07:41:38Z","author_association":"NONE","body":"> > > > > If you build `thirdparty` successfully there will be a directory here.\r\n> > > > > and can you execute `find thirdparty/installed/include -name \"json2pb\"` to see if there is one?\r\n> > > > \r\n> > > > \r\n> > > > I'm sure there is no such folder\r\n> > > > I downloaded the master package, and running the build. sh command, the result is such\r\n> > > > how can I fix it?\r\n> > > \r\n> > > \r\n> > > It seems that your thirdparty didn't produce successfully. Do you have `thirdparty/installed/include/brpc`?\r\n> > \r\n> > \r\n> > I deleted all these folders and tried to recompile\r\n> > Where can I find the compiled package?\r\n> \r\n> You have two options\r\n> \r\n> 1. you can build Doris use Docker image, [here](https://github.com/apache/incubator-doris#4-compile-and-install) is the guide\r\n> 2. you can use Baidu's release which is maintained by Baidu doris's user. [here](https://github.com/baidu-doris/incubator-doris/releases/download/DORIS-0.9.11-release/DORIS-0.9.11-release-output.tar.gz) is a compiled package\r\n\r\n@imay This does not effect for the question.","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613279004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613313448","html_url":"https://github.com/apache/doris/issues/3287#issuecomment-613313448","issue_url":"https://api.github.com/repos/apache/doris/issues/3287","id":613313448,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzMxMzQ0OA==","user":{"login":"wuyunfeng","id":5183061,"node_id":"MDQ6VXNlcjUxODMwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5183061?v=4","gravatar_id":"","url":"https://api.github.com/users/wuyunfeng","html_url":"https://github.com/wuyunfeng","followers_url":"https://api.github.com/users/wuyunfeng/followers","following_url":"https://api.github.com/users/wuyunfeng/following{/other_user}","gists_url":"https://api.github.com/users/wuyunfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wuyunfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuyunfeng/subscriptions","organizations_url":"https://api.github.com/users/wuyunfeng/orgs","repos_url":"https://api.github.com/users/wuyunfeng/repos","events_url":"https://api.github.com/users/wuyunfeng/events{/privacy}","received_events_url":"https://api.github.com/users/wuyunfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T08:53:54Z","updated_at":"2020-04-14T08:53:54Z","author_association":"MEMBER","body":"agree","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613313448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613385117","html_url":"https://github.com/apache/doris/pull/3310#issuecomment-613385117","issue_url":"https://api.github.com/repos/apache/doris/issues/3310","id":613385117,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzM4NTExNw==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T11:26:06Z","updated_at":"2020-04-14T11:26:06Z","author_association":"CONTRIBUTOR","body":"> I think we should add some unit tests.\r\n\r\nOK, I added a case described in #3309 ","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613385117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/doris/issues/comments/613398660","html_url":"https://github.com/apache/doris/pull/3313#issuecomment-613398660","issue_url":"https://api.github.com/repos/apache/doris/issues/3313","id":613398660,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzM5ODY2MA==","user":{"login":"morningman","id":2899462,"node_id":"MDQ6VXNlcjI4OTk0NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2899462?v=4","gravatar_id":"","url":"https://api.github.com/users/morningman","html_url":"https://github.com/morningman","followers_url":"https://api.github.com/users/morningman/followers","following_url":"https://api.github.com/users/morningman/following{/other_user}","gists_url":"https://api.github.com/users/morningman/gists{/gist_id}","starred_url":"https://api.github.com/users/morningman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/morningman/subscriptions","organizations_url":"https://api.github.com/users/morningman/orgs","repos_url":"https://api.github.com/users/morningman/repos","events_url":"https://api.github.com/users/morningman/events{/privacy}","received_events_url":"https://api.github.com/users/morningman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-14T11:55:09Z","updated_at":"2020-04-14T11:55:09Z","author_association":"CONTRIBUTOR","body":"@chaoyli Could you please review this PR?","reactions":{"url":"https://api.github.com/repos/apache/doris/issues/comments/613398660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]