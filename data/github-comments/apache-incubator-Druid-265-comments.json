[{"url":"https://api.github.com/repos/apache/druid/issues/comments/513972679","html_url":"https://github.com/apache/druid/issues/8125#issuecomment-513972679","issue_url":"https://api.github.com/repos/apache/druid/issues/8125","id":513972679,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk3MjY3OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T22:04:41Z","updated_at":"2019-07-22T22:04:41Z","author_association":"CONTRIBUTOR","body":"By the way, after writing the above comment, now I'm starting to wonder if the design of the background populator makes sense. In particular, is it really a good idea to try to compute cache entries asynchronously _and in parallel_? And is it a good idea to have background cache population be a generic thing at all? What if we only had foreground population and left it up to the individual Cache impls to do background pushing to remote cache servers if they want to?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513972679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513984452","html_url":"https://github.com/apache/druid/issues/6472#issuecomment-513984452","issue_url":"https://api.github.com/repos/apache/druid/issues/6472","id":513984452,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk4NDQ1Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T22:51:02Z","updated_at":"2019-07-22T22:51:02Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513984452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513987633","html_url":"https://github.com/apache/druid/issues/7962#issuecomment-513987633","issue_url":"https://api.github.com/repos/apache/druid/issues/7962","id":513987633,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk4NzYzMw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T23:04:41Z","updated_at":"2019-07-22T23:04:48Z","author_association":"CONTRIBUTOR","body":"@ankit0811 \r\n\r\nCool, thanks for checking. I had tested with a tiny dataset (the wikipedia tutorial data), so based on your report, I was likely hitting case 4 most of the time.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513987633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514000258","html_url":"https://github.com/apache/druid/issues/8123#issuecomment-514000258","issue_url":"https://api.github.com/repos/apache/druid/issues/8123","id":514000258,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDAwMDI1OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T00:06:14Z","updated_at":"2019-07-23T00:06:14Z","author_association":"CONTRIBUTOR","body":"I think the issue in your query is that it can not build a query plan on an aggregate.\r\n\r\nI just tested this:\r\n\r\n```sql\r\nselect * from \"wikipedia\"\r\nwhere \"__time\" IN (\r\n  select \"__time\"\r\n  from \"wikipedia\"\r\n  WHERE \"__time\" >= CURRENT_TIMESTAMP - INTERVAL '1' HOUR\r\n  GROUP BY 1\r\n  ORDER BY \"__time\"\r\n  DESC LIMIT 1\r\n)\r\n```\r\n\r\nAnd it seems to work. \r\n\r\n![image](https://user-images.githubusercontent.com/177816/61673029-c3225f80-aca2-11e9-9bb0-4d753878ff4f.png)\r\n\r\nA couple of notes / thoughts:\r\n\r\n1. I am not sure `x = (sub query)` is legal in SQL at all, I know `IN` is fine and that also makes more sense to me, I mean the sub query will be a set right?\r\n2. Notice the filter on the inner query, filters make Druid super duper fast, scanning over all the data is not a good use of your servers. Any kind of dynamic filter that you can add to the inner query will do wonders to the speed.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514000258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514000859","html_url":"https://github.com/apache/druid/issues/8130#issuecomment-514000859","issue_url":"https://api.github.com/repos/apache/druid/issues/8130","id":514000859,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDAwMDg1OQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T00:09:06Z","updated_at":"2019-07-23T00:09:06Z","author_association":"CONTRIBUTOR","body":"Yes! Search https://druid.apache.org/docs/latest/querying/sql.html for `EXPLAIN`\r\n\r\nOr in the console:\r\n\r\n![image](https://user-images.githubusercontent.com/177816/61673178-4e035a00-aca3-11e9-84b8-707fb2d835e2.png)\r\n\r\nTo see:\r\n\r\n![image](https://user-images.githubusercontent.com/177816/61673197-5bb8df80-aca3-11e9-85f6-b22283279535.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514000859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514004618","html_url":"https://github.com/apache/druid/issues/8130#issuecomment-514004618","issue_url":"https://api.github.com/repos/apache/druid/issues/8130","id":514004618,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDAwNDYxOA==","user":{"login":"vikramarsid","id":8534419,"node_id":"MDQ6VXNlcjg1MzQ0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/8534419?v=4","gravatar_id":"","url":"https://api.github.com/users/vikramarsid","html_url":"https://github.com/vikramarsid","followers_url":"https://api.github.com/users/vikramarsid/followers","following_url":"https://api.github.com/users/vikramarsid/following{/other_user}","gists_url":"https://api.github.com/users/vikramarsid/gists{/gist_id}","starred_url":"https://api.github.com/users/vikramarsid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vikramarsid/subscriptions","organizations_url":"https://api.github.com/users/vikramarsid/orgs","repos_url":"https://api.github.com/users/vikramarsid/repos","events_url":"https://api.github.com/users/vikramarsid/events{/privacy}","received_events_url":"https://api.github.com/users/vikramarsid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T00:26:29Z","updated_at":"2019-07-23T00:26:53Z","author_association":"NONE","body":"@vogievetsky  Thank you, appreciate your quick response. I have tried  `EXPLAIN PLAN FOR` for the SQL statement and I get back below text which is not a valid native query json.\r\nDo you have any thoughts here?\r\nTIA\r\n```\r\nDruidNestedGroupBy(queryBuilder=[DruidQueryBuilder{filter=null, selectProjection=null, grouping=Grouping{dimensions=[DimensionExpression{outputName='d0', expression=DruidExpression{simpleExtraction=d0, expression='\"d0\"'}, outputType=STRING}, DimensionExpression{outputName='d1', expression=DruidExpression{simpleExtraction=d2, expression='\"d2\"'}, outputType=STRING}, DimensionExpression{outputName='d2', expression=DruidExpression{simpleExtraction=d3, expression='\"d3\"'}, outputType=STRING}], aggregations=[Aggregation{virtualColumns=[], aggregatorFactories=[FilteredAggregatorFactory{delegate=CountAggregatorFactory{name='a0'}, filter=!d1 = null}], postAggregator=null}, Aggregation{virtualColumns=[], aggregatorFactories=[LongSumAggregatorFactory{fieldName='a0', expression='null', name='a1'}], postAggregator=null}, Aggregation{virtualColumns=[], aggregatorFactories=[LongMinAggregatorFactory{fieldName='a2', expression='null', name='a2'}], postAggregator=null}, Aggregation{virtualColumns=[], aggregatorFactories=[LongMaxAggregatorFactory{fieldName='a2', expression='null', name='a3'}], postAggregator=null}]}, having=a0 as numeric < 5, limitSpec=null, rowType=RecordType(VARCHAR signature_name, VARCHAR signature_id, VARCHAR appliance_type, BIGINT total_customer_hits, BIGINT total_hits, TIMESTAMP(0) first_seen, TIMESTAMP(0) last_seen), outputRowSignature=RowSignature{d2:STRING, d1:STRING, d0:STRING, a0:LONG, a1:LONG, a2:LONG, a3:LONG}}])\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514004618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514067508","html_url":"https://github.com/apache/druid/issues/7597#issuecomment-514067508","issue_url":"https://api.github.com/repos/apache/druid/issues/7597","id":514067508,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDA2NzUwOA==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T06:07:16Z","updated_at":"2019-07-23T09:27:43Z","author_association":"NONE","body":"I have this error again. One interval contains `3,130 segments` and the generated specification is huge.\r\n\r\n```\r\n/opt/druid/current/log/druid.log:2019-07-22T13:16:23,702 ERROR [MaterializedViewSupervisor-mv_some-ds] org.apache.druid.java.util.emitter.core.HttpPostEmitter - Event too large to emit (340,420,078 > 1,047,552): {\"feed\":\"alerts\",\"timestamp\":\"2019-07-22T13:16:22.627Z\",\"service\":\"druid/overlord\",\"host\":\"ec2-34-240-16-186.eu-west-1.compute.amazonaws.com:8090\",\"version\":\"0.13.0-incubating\",\"severity\":\"component-failure\",\"description\":\"uncaught exception in MaterializedViewSupervisor-mv_some-ds.\",\"data\":{\"class\":\"org.apache.druid.indexing.materializedview.MaterializedViewSupervisor\",\"exceptionType\":\"java.lang.RuntimeException\",\"exceptionMessage\":\"java.lang.RuntimeException: org.skife.jdbi.v2.exceptions.CallbackFailedException: org.skife.jdbi.v2.exceptions.UnableToExecuteStatementException: com.mysql.jdbc.PacketTooBigException: Packet for query is too large (29397252 > 16384000). You can change this value on the server by setting the max_allowed_packet' variable. [statement:\\\"INSERT INTO druid_tasks (id, created_date, datasource, payload, active, status_payload) VALUES (:id, :created_date, :datasource, :payload, :active, :status_payload)\\\", located:\\\"INSERT INTO druid_tasks (id, created_date, ...\r\n```\r\n\r\nI am going to increase the value of `maxZnodeBytes` to `32MB` but I don't think that this is the best solution.\r\n\r\nWhy don't you compress the spec or maybe, even better, store it in DB (instead of sending it to ZK)?\r\n\r\nThank you!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514067508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514075232","html_url":"https://github.com/apache/druid/issues/8130#issuecomment-514075232","issue_url":"https://api.github.com/repos/apache/druid/issues/8130","id":514075232,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDA3NTIzMg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T06:39:53Z","updated_at":"2019-07-23T06:39:53Z","author_association":"CONTRIBUTOR","body":"Oh yeah, some (more complex) queries it can not output as a JSON plan... this might be a good enhancement request.\r\nCould you please share the query that generated that plan?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514075232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514131881","html_url":"https://github.com/apache/druid/issues/7597#issuecomment-514131881","issue_url":"https://api.github.com/repos/apache/druid/issues/7597","id":514131881,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEzMTg4MQ==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T09:31:33Z","updated_at":"2019-07-23T09:31:33Z","author_association":"NONE","body":"Also, what if the segment's number will drastically increase and I will be constrained to use `64MB` for `maxZnodeBytes`? Is this still OK?\r\n\r\n@zhangxinyu1, may I have your point of view, please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514131881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514139870","html_url":"https://github.com/apache/druid/pull/8116#issuecomment-514139870","issue_url":"https://api.github.com/repos/apache/druid/issues/8116","id":514139870,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDEzOTg3MA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T09:53:35Z","updated_at":"2019-07-23T09:53:35Z","author_association":"MEMBER","body":"I have not had a chance to setup benchmarks for cache population to compare the before and after, but sampling a query locally with the same tool the original report was collected with does produce a nicer looking results with regards to the `ForegroundCachePopulator`. \r\n\r\nI only had the example wiki data handy, so test was done with the same query repeated 3 times over a 5 second window with `\"useCache\":false` and `\"populateCache\":true` and the flame graph definitely looks a bit more chill to me\r\n\r\nbefore:\r\n<img width=\"1650\" alt=\"Screen Shot 2019-07-23 at 2 36 03 AM\" src=\"https://user-images.githubusercontent.com/1577461/61701366-e37a0a80-acf2-11e9-9934-14f9d6150db3.png\">\r\n\r\nafter:\r\n<img width=\"1650\" alt=\"Screen Shot 2019-07-23 at 2 36 29 AM\" src=\"https://user-images.githubusercontent.com/1577461/61701386-ebd24580-acf2-11e9-84f2-d9daa47a1973.png\">\r\n\r\nI do think that having benchmarks in place for cache population sounds useful, so hopefully I can carve out some time to add those in a future PR or something.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514139870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514143624","html_url":"https://github.com/apache/druid/pull/8090#issuecomment-514143624","issue_url":"https://api.github.com/repos/apache/druid/issues/8090","id":514143624,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDE0MzYyNA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T10:03:13Z","updated_at":"2019-07-23T10:03:13Z","author_association":"CONTRIBUTOR","body":"the dialog has default value of `70` for decomissioning percent.\r\nhowever that value is not propogated to the coordinator.\r\nonly if the value is manually modified, is it propogated","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514143624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514187941","html_url":"https://github.com/apache/druid/issues/8063#issuecomment-514187941","issue_url":"https://api.github.com/repos/apache/druid/issues/8063","id":514187941,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDE4Nzk0MQ==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T12:27:18Z","updated_at":"2019-07-23T12:27:18Z","author_association":"NONE","body":"I'm closing this issue because it has been solved by using the mentioned JVM parameters but it would be nice to have some info in the log file, in order to know the reason.\r\n\r\n@jihoonson: is it doable?\r\n\r\nThank you!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514187941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514217702","html_url":"https://github.com/apache/druid/pull/8073#issuecomment-514217702","issue_url":"https://api.github.com/repos/apache/druid/issues/8073","id":514217702,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDIxNzcwMg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T13:48:12Z","updated_at":"2019-07-23T13:48:12Z","author_association":"CONTRIBUTOR","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514217702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514217820","html_url":"https://github.com/apache/druid/pull/8129#issuecomment-514217820","issue_url":"https://api.github.com/repos/apache/druid/issues/8129","id":514217820,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDIxNzgyMA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T13:48:30Z","updated_at":"2019-07-23T13:48:30Z","author_association":"CONTRIBUTOR","body":"Works on my CI: https://travis-ci.org/Fokko/druid/builds/562448511","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514217820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514225492","html_url":"https://github.com/apache/druid/issues/8130#issuecomment-514225492","issue_url":"https://api.github.com/repos/apache/druid/issues/8130","id":514225492,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDIyNTQ5Mg==","user":{"login":"vikramarsid","id":8534419,"node_id":"MDQ6VXNlcjg1MzQ0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/8534419?v=4","gravatar_id":"","url":"https://api.github.com/users/vikramarsid","html_url":"https://github.com/vikramarsid","followers_url":"https://api.github.com/users/vikramarsid/followers","following_url":"https://api.github.com/users/vikramarsid/following{/other_user}","gists_url":"https://api.github.com/users/vikramarsid/gists{/gist_id}","starred_url":"https://api.github.com/users/vikramarsid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vikramarsid/subscriptions","organizations_url":"https://api.github.com/users/vikramarsid/orgs","repos_url":"https://api.github.com/users/vikramarsid/repos","events_url":"https://api.github.com/users/vikramarsid/events{/privacy}","received_events_url":"https://api.github.com/users/vikramarsid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T14:07:13Z","updated_at":"2019-07-23T14:07:13Z","author_association":"NONE","body":"@vogievetsky Thank you for confirming for a new feature request. Meanwhile, is there a way I can get the JSON native query from broker logs? TIA\r\n\r\nHere are the complex query and plan\r\n\r\nSQL Statement:\r\n```\r\nSELECT s_name, s_id, a_type, sum(\"hits\") as total_hits, count(DISTINCT company_name) as unique_companies, min(__time) as first_seen, max(__time) as last_seen \r\nFROM wikipedia\r\nWHERE lower(s_name) LIKE '%roger%'\r\nGROUP BY s_name, s_id, a_type\r\nHAVING count(DISTINCT company_name) < 5\r\n```\r\n\r\nPlan:\r\n```\r\nDruidNestedGroupBy(queryBuilder=[DruidQueryBuilder{filter=null, selectProjection=null, grouping=Grouping{dimensions=[DimensionExpression{outputName='d0', expression=DruidExpression{simpleExtraction=d0, expression='\"d0\"'}, outputType=STRING}, DimensionExpression{outputName='d1', expression=DruidExpression{simpleExtraction=d2, expression='\"d2\"'}, outputType=STRING}, DimensionExpression{outputName='d2', expression=DruidExpression{simpleExtraction=d3, expression='\"d3\"'}, outputType=STRING}], aggregations=[Aggregation{virtualColumns=[], aggregatorFactories=[FilteredAggregatorFactory{delegate=CountAggregatorFactory{name='a0'}, filter=!d1 = null}], postAggregator=null}, Aggregation{virtualColumns=[], aggregatorFactories=[LongSumAggregatorFactory{fieldName='a0', expression='null', name='a1'}], postAggregator=null}, Aggregation{virtualColumns=[], aggregatorFactories=[LongMinAggregatorFactory{fieldName='a2', expression='null', name='a2'}], postAggregator=null}, Aggregation{virtualColumns=[], aggregatorFactories=[LongMaxAggregatorFactory{fieldName='a2', expression='null', name='a3'}], postAggregator=null}]}, having=a0 as numeric < 5, limitSpec=null, rowType=RecordType(VARCHAR signature_name, VARCHAR signature_id, VARCHAR appliance_type, BIGINT total_customer_hits, BIGINT total_hits, TIMESTAMP(0) first_seen, TIMESTAMP(0) last_seen), outputRowSignature=RowSignature{d2:STRING, d1:STRING, d0:STRING, a0:LONG, a1:LONG, a2:LONG, a3:LONG}}])\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514225492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514266917","html_url":"https://github.com/apache/druid/issues/8126#issuecomment-514266917","issue_url":"https://api.github.com/repos/apache/druid/issues/8126","id":514266917,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDI2NjkxNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T15:42:25Z","updated_at":"2019-07-23T15:42:25Z","author_association":"MEMBER","body":"Related: https://github.com/apache/incubator-druid/pull/5335#issuecomment-365107146 and https://github.com/apache/incubator-druid/pull/5335#issuecomment-365274611","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514266917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514267788","html_url":"https://github.com/apache/druid/issues/8125#issuecomment-514267788","issue_url":"https://api.github.com/repos/apache/druid/issues/8125","id":514267788,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDI2Nzc4OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T15:44:30Z","updated_at":"2019-07-23T15:44:30Z","author_association":"MEMBER","body":"> And is it a good idea to have background cache population be a generic thing at all? What if we only had foreground population and left it up to the individual Cache impls to do background pushing to remote cache servers if they want to?\r\n\r\nThis is very similar to the automatic sync/async choice that I suggested. It makes sense to me, too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514267788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514286871","html_url":"https://github.com/apache/druid/pull/8073#issuecomment-514286871","issue_url":"https://api.github.com/repos/apache/druid/issues/8073","id":514286871,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDI4Njg3MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T16:33:18Z","updated_at":"2019-07-23T16:33:18Z","author_association":"MEMBER","body":"This PR might have caused Travis failures: #8135","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514286871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514288675","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514288675","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514288675,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDI4ODY3NQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T16:38:11Z","updated_at":"2019-07-23T16:38:11Z","author_association":"CONTRIBUTOR","body":"Thanks for letting me know. I can fix this in a hour, I'm currently traveling. Feel free to revert the commit as well. I can open a new PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514288675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514302728","html_url":"https://github.com/apache/druid/pull/8128#issuecomment-514302728","issue_url":"https://api.github.com/repos/apache/druid/issues/8128","id":514302728,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMwMjcyOA==","user":{"login":"ccaominh","id":9208416,"node_id":"MDQ6VXNlcjkyMDg0MTY=","avatar_url":"https://avatars.githubusercontent.com/u/9208416?v=4","gravatar_id":"","url":"https://api.github.com/users/ccaominh","html_url":"https://github.com/ccaominh","followers_url":"https://api.github.com/users/ccaominh/followers","following_url":"https://api.github.com/users/ccaominh/following{/other_user}","gists_url":"https://api.github.com/users/ccaominh/gists{/gist_id}","starred_url":"https://api.github.com/users/ccaominh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccaominh/subscriptions","organizations_url":"https://api.github.com/users/ccaominh/orgs","repos_url":"https://api.github.com/users/ccaominh/repos","events_url":"https://api.github.com/users/ccaominh/events{/privacy}","received_events_url":"https://api.github.com/users/ccaominh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T17:16:47Z","updated_at":"2019-07-23T17:16:47Z","author_association":"CONTRIBUTOR","body":"Seeing flaky OutOfMemoryError in BufferHashGrouperTest (same as https://github.com/apache/incubator-druid/issues/8134)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514302728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514323332","html_url":"https://github.com/apache/druid/pull/8116#issuecomment-514323332","issue_url":"https://api.github.com/repos/apache/druid/issues/8116","id":514323332,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMyMzMzMg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:13:28Z","updated_at":"2019-07-23T18:13:28Z","author_association":"MEMBER","body":"Thanks for review all!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514323332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514327001","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514327001","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514327001,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMyNzAwMQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:23:41Z","updated_at":"2019-07-23T18:23:41Z","author_association":"CONTRIBUTOR","body":"seems this could be related to #3362","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514327001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514330295","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514330295","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514330295,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzMDI5NQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:32:39Z","updated_at":"2019-07-23T18:32:39Z","author_association":"CONTRIBUTOR","body":"is there any workaround for this?\r\nrestarting things didnt help","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514330295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514330905","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514330905","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514330905,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzMDkwNQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:34:14Z","updated_at":"2019-07-23T18:34:14Z","author_association":"CONTRIBUTOR","body":"Here we go https://github.com/apache/incubator-druid/pull/8138","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514330905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514332857","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514332857","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514332857,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzMjg1Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:39:54Z","updated_at":"2019-07-23T18:39:54Z","author_association":"CONTRIBUTOR","body":"Hi @pdeva, it looks like a bug, but I have no clue how it could happen. Would you please give some more context? Are you using the `supervisor` script provided in the druid binary? And, is your ZooKeeper cluster fine? \r\n\r\nThe error means the executorService is terminated when `loadSegment()` is called, and the executorService is managed by the coordinator lifecycle which means, the executorService is supposed to terminate when the coordinator stops. I'm not sure how this bug could be related to #3362. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514332857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514334203","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514334203","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514334203,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzNDIwMw==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:43:32Z","updated_at":"2019-07-23T18:43:32Z","author_association":"CONTRIBUTOR","body":"the reason for #3362 reference is because of the msg \"Replicant create queue stuck after 15+ runs\".\r\n\r\nso literally nothing in my cluster has changed. zookeeper is perfectly fine. \r\nwe had decomissioned  2 historical nodes (out of 4) earlier and increased the replication throttle, maxsegments to move, mergeSegmentsLimit.\r\nthings were going fine. in fact, we were 90% of the way there to the nodes being decomissioned, when we start seeing this error prop up ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514334203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514334535","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514334535","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514334535,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzNDUzNQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:44:29Z","updated_at":"2019-07-23T18:44:29Z","author_association":"CONTRIBUTOR","body":"and no i am not using the supervisor script. just starting via\r\n`/opt/druid/bin/coordinator.sh start`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514334535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514335537","html_url":"https://github.com/apache/druid/pull/8085#issuecomment-514335537","issue_url":"https://api.github.com/repos/apache/druid/issues/8085","id":514335537,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzNTUzNw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:47:18Z","updated_at":"2019-07-23T18:47:18Z","author_association":"MEMBER","body":"Thanks for review :+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514335537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514337890","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514337890","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514337890,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzNzg5MA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:54:03Z","updated_at":"2019-07-23T18:54:03Z","author_association":"CONTRIBUTOR","body":"here is another more detailed exception:\r\n\r\n\r\n```\r\n2019-07-23 18:33:15,490 ERROR o.a.d.s.c.DruidCoordinator [Coordinator-Exec--0] Exception moving segment kube-metrics-second_2019-06-20T11:00:00.000Z_2019-06-20T12:00:00.000Z_2019-06-20T11:00:00.093Z_1: {class=org.apache.druid.server.coordinator.DruidCoordinator, exceptionType=class java.lang.RuntimeException, exceptionMessage=java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@65bf8472 rejected from java.util.concurrent.ScheduledThreadPoolExecutor@63faa5b[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 570]}\r\njava.lang.RuntimeException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@65bf8472 rejected from java.util.concurrent.ScheduledThreadPoolExecutor@63faa5b[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 570]\r\n\tat org.apache.druid.server.coordinator.DruidCoordinator.moveSegment(DruidCoordinator.java:480) ~[druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat org.apache.druid.server.coordinator.helper.DruidCoordinatorBalancer.moveSegment(DruidCoordinatorBalancer.java:271) ~[druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat org.apache.druid.server.coordinator.helper.DruidCoordinatorBalancer.balanceServers(DruidCoordinatorBalancer.java:222) ~[druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat org.apache.druid.server.coordinator.helper.DruidCoordinatorBalancer.balanceTier(DruidCoordinatorBalancer.java:161) ~[druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat org.apache.druid.server.coordinator.helper.DruidCoordinatorBalancer.lambda$run$0(DruidCoordinatorBalancer.java:84) ~[druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat java.util.HashMap.forEach(HashMap.java:1289) [?:1.8.0_181]\r\n\tat org.apache.druid.server.coordinator.helper.DruidCoordinatorBalancer.run(DruidCoordinatorBalancer.java:83) [druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat org.apache.druid.server.coordinator.DruidCoordinator$CoordinatorRunnable.run(DruidCoordinator.java:716) [druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat org.apache.druid.server.coordinator.DruidCoordinator$2.call(DruidCoordinator.java:601) [druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat org.apache.druid.server.coordinator.DruidCoordinator$2.call(DruidCoordinator.java:594) [druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat org.apache.druid.java.util.common.concurrent.ScheduledExecutors$2.run(ScheduledExecutors.java:92) [druid-core-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]\r\nCaused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@65bf8472 rejected from java.util.concurrent.ScheduledThreadPoolExecutor@63faa5b[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 570]\r\n\tat java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063) ~[?:1.8.0_181]\r\n\tat java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830) ~[?:1.8.0_181]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:326) ~[?:1.8.0_181]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[?:1.8.0_181]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor.submit(ScheduledThreadPoolExecutor.java:632) ~[?:1.8.0_181]\r\n\tat org.apache.druid.server.coordinator.CuratorLoadQueuePeon.loadSegment(CuratorLoadQueuePeon.java:181) ~[druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\tat org.apache.druid.server.coordinator.DruidCoordinator.moveSegment(DruidCoordinator.java:460) ~[druid-server-0.15.0-incubating-iap2.jar:0.15.0-incubating-iap2]\r\n\t... 17 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514337890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514338311","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514338311","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514338311,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzODMxMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:55:11Z","updated_at":"2019-07-23T18:55:11Z","author_association":"CONTRIBUTOR","body":"I noticed that it could happen once the coordinator loses leadership and gets it back. Do you see this kind of behavior from the coordinator logs?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514338311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514338556","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514338556","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514338556,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzODU1Ng==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:55:54Z","updated_at":"2019-07-23T18:55:54Z","author_association":"CONTRIBUTOR","body":"we only have 1 coordinator node","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514338556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514339074","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514339074","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514339074,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDMzOTA3NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T18:57:19Z","updated_at":"2019-07-23T18:57:19Z","author_association":"CONTRIBUTOR","body":"Oh, now I notice it can also happen if one of historical has gone.. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514339074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514340431","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514340431","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514340431,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDM0MDQzMQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T19:01:12Z","updated_at":"2019-07-23T19:01:12Z","author_association":"CONTRIBUTOR","body":"i restarted the coordinator (previously just the historicals were restarted) and it seems to be loading again... for now..","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514340431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514347796","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514347796","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514347796,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDM0Nzc5Ng==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T19:21:50Z","updated_at":"2019-07-23T19:21:50Z","author_association":"MEMBER","body":"I am able to replicate this issue by running a coordinator and killing historical servers. This looks related to #7088, where some executors are getting shutdown by the load queue peons, but the peons don't own the executors. Investigating a fix.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514347796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514349995","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514349995","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514349995,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDM0OTk5NQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T19:28:13Z","updated_at":"2019-07-23T19:28:13Z","author_association":"CONTRIBUTOR","body":"i am also begining to see this msg. not sure if related. should i open a different bug for this:\r\n\r\n```\r\n2019-07-23 19:26:13,086 ERROR o.a.d.m.IndexerSQLMetadataStorageCoordinator [qtp2120404899-84] Not updating metadata, existing state[KafkaDataSourceMetadata{SeekableStreamStartSequenceNumbers=SeekableStreamEndSequenceNumbers{stream='infraserver', partitionSequenceNumberMap={0=28736041678}}}] in metadata store doesn't match to the new start state[KafkaDataSourceMetadata{SeekableStreamStartSequenceNumbers=SeekableStreamStartSequenceNumbers{stream='infraserver', partitionSequenceNumberMap={0=28730133985}, exclusivePartitions=[]}}].\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514349995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514350919","html_url":"https://github.com/apache/druid/issues/8137#issuecomment-514350919","issue_url":"https://api.github.com/repos/apache/druid/issues/8137","id":514350919,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDM1MDkxOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T19:30:29Z","updated_at":"2019-07-23T19:30:29Z","author_association":"CONTRIBUTOR","body":"Not sure how come it could be related to this issue yet, so yes. Please open another issue for it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514350919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514410491","html_url":"https://github.com/apache/druid/pull/8124#issuecomment-514410491","issue_url":"https://api.github.com/repos/apache/druid/issues/8124","id":514410491,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQxMDQ5MQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T22:43:40Z","updated_at":"2019-07-23T22:43:40Z","author_association":"CONTRIBUTOR","body":"You need to consider the case when lookups are not initialized in Druid (on first startup), run through the quickstart to see what I mean.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514410491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514420497","html_url":"https://github.com/apache/druid/pull/8109#issuecomment-514420497","issue_url":"https://api.github.com/repos/apache/druid/issues/8109","id":514420497,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQyMDQ5Nw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T23:31:01Z","updated_at":"2019-07-23T23:31:01Z","author_association":"CONTRIBUTOR","body":"strict build is broken due to https://github.com/apache/incubator-druid/pull/8138","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514420497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514420526","html_url":"https://github.com/apache/druid/pull/8060#issuecomment-514420526","issue_url":"https://api.github.com/repos/apache/druid/issues/8060","id":514420526,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQyMDUyNg==","user":{"login":"SandishKumarHN","id":3078999,"node_id":"MDQ6VXNlcjMwNzg5OTk=","avatar_url":"https://avatars.githubusercontent.com/u/3078999?v=4","gravatar_id":"","url":"https://api.github.com/users/SandishKumarHN","html_url":"https://github.com/SandishKumarHN","followers_url":"https://api.github.com/users/SandishKumarHN/followers","following_url":"https://api.github.com/users/SandishKumarHN/following{/other_user}","gists_url":"https://api.github.com/users/SandishKumarHN/gists{/gist_id}","starred_url":"https://api.github.com/users/SandishKumarHN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SandishKumarHN/subscriptions","organizations_url":"https://api.github.com/users/SandishKumarHN/orgs","repos_url":"https://api.github.com/users/SandishKumarHN/repos","events_url":"https://api.github.com/users/SandishKumarHN/events{/privacy}","received_events_url":"https://api.github.com/users/SandishKumarHN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T23:31:11Z","updated_at":"2019-07-23T23:31:11Z","author_association":"CONTRIBUTOR","body":"@leventov Sorry, I was working on my fork branch which was effecting here!\r\nnow gone through twice by comparing my changes with the master! hope it should be okay now!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514420526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514421392","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514421392","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514421392,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQyMTM5Mg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T23:35:15Z","updated_at":"2019-07-23T23:35:15Z","author_association":"MEMBER","body":"Since #8138 seems to be failing with the same issue, I think we should consider reverting  #8073 and then maybe could repurpose #8138 to trying to enable this again so we can unblock CI.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514421392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514421963","html_url":"https://github.com/apache/druid/pull/8112#issuecomment-514421963","issue_url":"https://api.github.com/repos/apache/druid/issues/8112","id":514421963,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQyMTk2Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T23:38:14Z","updated_at":"2019-07-23T23:38:14Z","author_association":"CONTRIBUTOR","body":"@abossert to me, it looks easier to add unit tests to `KafkaRecordSupplierTest`. I guess perhaps you could parameterize that class to test both byte array serde and a simple custom serde. This custom serde doesn't have to be the one you're using. It can be any custom serde. Alternatively, you can add a new test class to only verify that the custom serde works with `KafkaRecordSupplier`. \r\n\r\nI prefer the former one because we can test both default and custom serdes in a single place. But, if it's not feasible or too complex, then I'm ok with adding a new test class.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514421963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514425389","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514425389","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514425389,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQyNTM4OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-23T23:55:14Z","updated_at":"2019-07-23T23:55:14Z","author_association":"CONTRIBUTOR","body":"@clintropolis Reverting #8073 sounds good","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514425389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514429791","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514429791","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514429791,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQyOTc5MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T00:17:47Z","updated_at":"2019-07-24T00:17:47Z","author_association":"CONTRIBUTOR","body":"Raised https://github.com/apache/incubator-druid/pull/8143. Tested it locally.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514429791/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514430345","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514430345","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514430345,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQzMDM0NQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T00:21:00Z","updated_at":"2019-07-24T00:21:35Z","author_association":"MEMBER","body":">Raised https://github.com/apache/incubator-druid/pull/8143. Tested it locally.\r\n\r\nIn that case we can skip reverting #8073 I think","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514430345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514436123","html_url":"https://github.com/apache/druid/pull/8143#issuecomment-514436123","issue_url":"https://api.github.com/repos/apache/druid/issues/8143","id":514436123,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQzNjEyMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T00:53:41Z","updated_at":"2019-07-24T00:53:41Z","author_association":"CONTRIBUTOR","body":"Hmm, this looks not working. Not sure why it worked before.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514436123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514436296","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514436296","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514436296,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQzNjI5Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T00:54:28Z","updated_at":"2019-07-24T00:54:28Z","author_association":"CONTRIBUTOR","body":"Sorry, there was some mistakes I think. #8143 doesn't work. +1 for reverting #8073.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514436296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514443746","html_url":"https://github.com/apache/druid/issues/6468#issuecomment-514443746","issue_url":"https://api.github.com/repos/apache/druid/issues/6468","id":514443746,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQ0Mzc0Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T01:34:47Z","updated_at":"2019-07-24T01:34:47Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514443746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514455322","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514455322","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514455322,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQ1NTMyMg==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T02:34:59Z","updated_at":"2019-07-24T02:38:57Z","author_association":"MEMBER","body":"Perhaps adding `@SuppressFBWarnings(value = \"SS_SHOULD_BE_STATIC\")` annotations to `WorkerConfig` can solve this problem. After opening a new spotbugs check in the future, we should rebase the latest master branch and ensure that CI can pass.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514455322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514456831","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514456831","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514456831,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQ1NjgzMQ==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T02:43:11Z","updated_at":"2019-07-24T02:43:11Z","author_association":"MEMBER","body":"@Fokko In #8138, the `@SuppressWarnings` annotation used will not work and should be replaced with `@SuppressFBWarnings`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514456831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514458442","html_url":"https://github.com/apache/druid/pull/8143#issuecomment-514458442","issue_url":"https://api.github.com/repos/apache/druid/issues/8143","id":514458442,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQ1ODQ0Mg==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T02:52:11Z","updated_at":"2019-07-24T02:52:11Z","author_association":"MEMBER","body":"> Hmm, this looks not working. Not sure why it worked before.\r\n\r\n@jihoonson Adding `@SuppressFBWarnings(value = \"SS_SHOULD_BE_STATIC\")` annotations to `WorkerConfig` can pass the CI test. I think it worked before because missed the `spotbugs:check` parameter.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514458442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514469359","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514469359","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514469359,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQ2OTM1OQ==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T03:55:37Z","updated_at":"2019-07-24T03:55:37Z","author_association":"MEMBER","body":"> Despite our best efforts, the FSF has never considered the Apache License to be compatible with GPL version 2, ...\r\n\r\nOops.. Using `@SuppressFBWarnings` from `com.google.code.findbugs:annotations` or `com.github.spotbugs:spotbugs-annotations` will result in a license conflict issue, even if the latter has LGPL 2.1 license. More details: https://www.apache.org/licenses/GPL-compatibility.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514469359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514496119","html_url":"https://github.com/apache/druid/pull/8107#issuecomment-514496119","issue_url":"https://api.github.com/repos/apache/druid/issues/8107","id":514496119,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDQ5NjExOQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T06:18:29Z","updated_at":"2019-07-24T06:18:29Z","author_association":"MEMBER","body":"I did some more testing with this on my laptop with a setup of 1 of each broker, router, coordinator, overlord, and 2 indexer and historicals\r\n\r\n<img width=\"1669\" alt=\"Screen Shot 2019-07-23 at 6 20 58 PM\" src=\"https://user-images.githubusercontent.com/1577461/61769231-6906c480-ad9e-11e9-8f73-a9cf7c34083f.png\">\r\n\r\nDoing small scale some kafka indexing testing to make sure realtime queries and handoff were functioning\r\n\r\n<img width=\"1674\" alt=\"Screen Shot 2019-07-23 at 6 43 32 PM\" src=\"https://user-images.githubusercontent.com/1577461/61769298-a2d7cb00-ad9e-11e9-8b85-7c2230674167.png\">\r\n\r\nOverall things are working nicely. I did run into an issue when trying to stop an indexer node (`SIGTERM`), I believe the issue lies with the order of lifecycle shutdown, in that the tasks are gracefully stopped _after_ jetty is stopped. This causes the lifecycle stop on the indexer to hang during graceful task stop, because the task is waiting to hear from the overlord a message it will never be able to hear without a running jetty. \r\n\r\nThe supervisor on the overlord is then forever stuck in a loop, performing an action it can never complete because the indexer has stopped listening.\r\n\r\n```2019-07-24T01:58:21,268 INFO [KafkaSupervisor-wikipedia] org.apache.druid.indexing.seekablestream.supervisor.SeekableStreamSupervisor - [wikipedia] supervisor is running.\r\n2019-07-24T01:58:21,268 INFO [KafkaSupervisor-wikipedia] org.apache.druid.indexing.seekablestream.supervisor.SeekableStreamSupervisor - {id='wikipedia', generationTime=2019-07-24T01:58:21.268Z, payload=KafkaSupervisorReportPayload{dataSource='wikipedia', topic='wikipedia', partitions=1, replicas=2, durationSeconds=600, active=[{id='index_kafka_wikipedia_ed020815fc3c3f4_bebmfiod', startTime=2019-07-24T01:55:50.422Z, remainingSeconds=449}, {id='index_kafka_wikipedia_ed020815fc3c3f4_cfcibngo', startTime=2019-07-24T01:55:50.525Z, remainingSeconds=449}], publishing=[], suspended=false, healthy=true, state=RUNNING, detailedState=RUNNING, recentErrors=[]}}\r\n2019-07-24T01:58:36,268 INFO [IndexTaskClient-wikipedia-0] org.apache.druid.indexing.common.IndexTaskClient - submitRequest failed for [http://localhost:8092/druid/worker/v1/chat/index_kafka_wikipedia_ed020815fc3c3f4_bebmfiod/offsets/current], with message [Connection refused (Connection refused)]\r\n```\r\n\r\nThe indexer eventually gives up after 5 minute timeout and ungracefully stops, but the supervisor/overlord appears to remain stuck until either the indexer comes back on the same host/port or the overlord is restarted. This also jams up what the web ui displays as the task status, where the task of the stuck indexer remains in the 'running' state until the same condition of the indexer returning or the overlord is restarting is met.\r\n\r\nThis issue aside, I'm still +1 on this if you'd rather fix this in a follow-up PR, since this is currently an undocumented feature anyway.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514496119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514508227","html_url":"https://github.com/apache/druid/issues/8147#issuecomment-514508227","issue_url":"https://api.github.com/repos/apache/druid/issues/8147","id":514508227,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDUwODIyNw==","user":{"login":"ighack","id":6670377,"node_id":"MDQ6VXNlcjY2NzAzNzc=","avatar_url":"https://avatars.githubusercontent.com/u/6670377?v=4","gravatar_id":"","url":"https://api.github.com/users/ighack","html_url":"https://github.com/ighack","followers_url":"https://api.github.com/users/ighack/followers","following_url":"https://api.github.com/users/ighack/following{/other_user}","gists_url":"https://api.github.com/users/ighack/gists{/gist_id}","starred_url":"https://api.github.com/users/ighack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ighack/subscriptions","organizations_url":"https://api.github.com/users/ighack/orgs","repos_url":"https://api.github.com/users/ighack/repos","events_url":"https://api.github.com/users/ighack/events{/privacy}","received_events_url":"https://api.github.com/users/ighack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T07:05:44Z","updated_at":"2019-07-24T07:08:11Z","author_association":"NONE","body":"```\r\n\"metricsSpec\": [\r\n{\"name\": \"views\", \"type\": \"count\"},\r\n{\"name\": \"latencyMs_SUM\", \"type\": \"doubleSum\", \"fieldName\": \"latencyMs\"}\r\n]\r\n```\r\n\r\nselect sum(latencyMs) from mytable\r\nor\r\nselect latencyMs_SUM from mytable\r\n\r\nwhice one is right?\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514508227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514534791","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514534791","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514534791,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDUzNDc5MQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T08:31:19Z","updated_at":"2019-07-24T08:31:19Z","author_association":"CONTRIBUTOR","body":"@asdf2014 Yes, we cannot bundle the annotations with Druid, since the license is incompatible with Apache. Running the maven plugin is fine afaik, but making it part of the software itself is not allowed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514534791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514563101","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514563101","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514563101,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDU2MzEwMQ==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T09:48:52Z","updated_at":"2019-07-24T09:48:52Z","author_association":"MEMBER","body":"> @asdf2014 Yes, we cannot bundle the annotations with Druid, since the license is incompatible with Apache. Running the maven plugin is fine afaik, but making it part of the software itself is not allowed.\r\n\r\n![](https://i.loli.net/2019/07/24/5d382947aa7f716781.jpg)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514563101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514576709","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514576709","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514576709,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDU3NjcwOQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T10:30:02Z","updated_at":"2019-07-24T10:30:02Z","author_association":"CONTRIBUTOR","body":"?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514576709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514599259","html_url":"https://github.com/apache/druid/issues/8135#issuecomment-514599259","issue_url":"https://api.github.com/repos/apache/druid/issues/8135","id":514599259,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDU5OTI1OQ==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T11:48:37Z","updated_at":"2019-07-24T11:48:37Z","author_association":"MEMBER","body":"@Fokko Nothing, just that I feel very helpless. :sweat_smile:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514599259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514660097","html_url":"https://github.com/apache/druid/issues/7741#issuecomment-514660097","issue_url":"https://api.github.com/repos/apache/druid/issues/7741","id":514660097,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDY2MDA5Nw==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T14:38:38Z","updated_at":"2019-07-24T14:38:38Z","author_association":"CONTRIBUTOR","body":"@AlexanderSaydakov Found out that this issue is not limited to reindexing. Indexing the source data with reduced dimensions also produces sketch values which are different from their equivalent  sketches in the base datasource. Comparing and testing changes between 0.12.3 and 0.13.0, I could see that this issue started happening after #5335 \r\n@leventov Do you have any thoughts regarding this behaviour?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514660097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514679521","html_url":"https://github.com/apache/druid/issues/8071#issuecomment-514679521","issue_url":"https://api.github.com/repos/apache/druid/issues/8071","id":514679521,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDY3OTUyMQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T15:24:40Z","updated_at":"2019-07-24T15:25:07Z","author_association":"CONTRIBUTOR","body":"I ran following benchmark on an idle `t3.medium` EC2 instance.\r\n\r\n```\r\n@State(Scope.Benchmark)\r\n@Fork(1)\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Warmup(iterations = 5)\r\n@Measurement(iterations = 5)\r\npublic class MeanAggregationBenchmark\r\n{\r\n  @Param({\"10\", \"100\", \"1000\", \"10000\", \"100000\", \"1000000\"})\r\n  private int n;\r\n\r\n  @Benchmark\r\n  public void sumcountalgo(Blackhole blackhole)\r\n  {\r\n    double sum = 0;\r\n    long count = 0;\r\n\r\n    for (int i = 1; i <= n; i++) {\r\n      count++;\r\n      sum += i;\r\n    }\r\n\r\n    double mean = sum/count;\r\n    blackhole.consume(mean);\r\n  }\r\n\r\n  @Benchmark\r\n  public void divbasedalgo(Blackhole blackhole)\r\n  {\r\n    double mean = 0;\r\n    long count = 0;\r\n\r\n    for (int i = 1; i <= n; i++) {\r\n      count++;\r\n      mean = mean + (i - mean)/count;\r\n    }\r\n\r\n    blackhole.consume(mean);\r\n  }\r\n}\r\n```\r\n\r\nthat produced\r\n\r\n```\r\nBenchmark                                  (n)  Mode  Cnt        Score       Error  Units\r\nMeanAggregationBenchmark.divbasedalgo       10  avgt    5       30.601      0.123  ns/op\r\nMeanAggregationBenchmark.divbasedalgo      100  avgt    5      613.996      4.428  ns/op\r\nMeanAggregationBenchmark.divbasedalgo     1000  avgt    5     7130.145     90.105  ns/op\r\nMeanAggregationBenchmark.divbasedalgo    10000  avgt    5    71296.475    627.211  ns/op\r\nMeanAggregationBenchmark.divbasedalgo   100000  avgt    5   712208.125   5066.485  ns/op\r\nMeanAggregationBenchmark.divbasedalgo  1000000  avgt    5  7117593.058  78224.014  ns/op\r\nMeanAggregationBenchmark.sumcountalgo       10  avgt    5        8.600      0.106  ns/op\r\nMeanAggregationBenchmark.sumcountalgo      100  avgt    5       99.377      1.028  ns/op\r\nMeanAggregationBenchmark.sumcountalgo     1000  avgt    5     1282.228     29.673  ns/op\r\nMeanAggregationBenchmark.sumcountalgo    10000  avgt    5    12790.421    127.669  ns/op\r\nMeanAggregationBenchmark.sumcountalgo   100000  avgt    5   128994.367   2068.910  ns/op\r\nMeanAggregationBenchmark.sumcountalgo  1000000  avgt    5  1281204.111  12692.807  ns/op\r\n```\r\n\r\nFrom that it is clear that \"div based\" algo is about 6 times slower compared to \"sum based\"  . With div based algo, it is about ~7ms for 1mn aggregations compared to ~1ms for sum based , and that might make a difference for some users but not most.\r\nI think, for the mean aggregator introduced here, we can have both algos be present in the code with `div based` being the default but ability to switch to `sum based` if need be.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514679521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514683461","html_url":"https://github.com/apache/druid/issues/688#issuecomment-514683461","issue_url":"https://api.github.com/repos/apache/druid/issues/688","id":514683461,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDY4MzQ2MQ==","user":{"login":"reemasaluja","id":25986210,"node_id":"MDQ6VXNlcjI1OTg2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/25986210?v=4","gravatar_id":"","url":"https://api.github.com/users/reemasaluja","html_url":"https://github.com/reemasaluja","followers_url":"https://api.github.com/users/reemasaluja/followers","following_url":"https://api.github.com/users/reemasaluja/following{/other_user}","gists_url":"https://api.github.com/users/reemasaluja/gists{/gist_id}","starred_url":"https://api.github.com/users/reemasaluja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reemasaluja/subscriptions","organizations_url":"https://api.github.com/users/reemasaluja/orgs","repos_url":"https://api.github.com/users/reemasaluja/repos","events_url":"https://api.github.com/users/reemasaluja/events{/privacy}","received_events_url":"https://api.github.com/users/reemasaluja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T15:34:13Z","updated_at":"2019-07-24T15:34:13Z","author_association":"NONE","body":"Hello Team! \r\nCould any body confirm if this issue is resolved , and if yes then what is the solution","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514683461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514685089","html_url":"https://github.com/apache/druid/issues/95#issuecomment-514685089","issue_url":"https://api.github.com/repos/apache/druid/issues/95","id":514685089,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDY4NTA4OQ==","user":{"login":"reemasaluja","id":25986210,"node_id":"MDQ6VXNlcjI1OTg2MjEw","avatar_url":"https://avatars.githubusercontent.com/u/25986210?v=4","gravatar_id":"","url":"https://api.github.com/users/reemasaluja","html_url":"https://github.com/reemasaluja","followers_url":"https://api.github.com/users/reemasaluja/followers","following_url":"https://api.github.com/users/reemasaluja/following{/other_user}","gists_url":"https://api.github.com/users/reemasaluja/gists{/gist_id}","starred_url":"https://api.github.com/users/reemasaluja/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reemasaluja/subscriptions","organizations_url":"https://api.github.com/users/reemasaluja/orgs","repos_url":"https://api.github.com/users/reemasaluja/repos","events_url":"https://api.github.com/users/reemasaluja/events{/privacy}","received_events_url":"https://api.github.com/users/reemasaluja/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T15:38:14Z","updated_at":"2019-07-24T15:38:14Z","author_association":"NONE","body":"@vogievetsky , any update on this ticket?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514685089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514696164","html_url":"https://github.com/apache/druid/issues/688#issuecomment-514696164","issue_url":"https://api.github.com/repos/apache/druid/issues/688","id":514696164,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDY5NjE2NA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T16:06:13Z","updated_at":"2019-07-24T16:06:13Z","author_association":"CONTRIBUTOR","body":"This is effectively solved by DruidSQL where you can select which columns you want back","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514696164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514723348","html_url":"https://github.com/apache/druid/pull/6923#issuecomment-514723348","issue_url":"https://api.github.com/repos/apache/druid/issues/6923","id":514723348,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDcyMzM0OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T17:22:19Z","updated_at":"2019-07-24T17:22:19Z","author_association":"MEMBER","body":"@vogievetsky do you plan to work on part (2) - allowing to access the unified console on Coordinator?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514723348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514725156","html_url":"https://github.com/apache/druid/pull/6923#issuecomment-514725156","issue_url":"https://api.github.com/repos/apache/druid/issues/6923","id":514725156,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDcyNTE1Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T17:27:17Z","updated_at":"2019-07-24T17:27:17Z","author_association":"MEMBER","body":"Opened #8150 to track this.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514725156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514755772","html_url":"https://github.com/apache/druid/pull/8124#issuecomment-514755772","issue_url":"https://api.github.com/repos/apache/druid/issues/8124","id":514755772,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDc1NTc3Mg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T18:52:46Z","updated_at":"2019-07-24T18:52:46Z","author_association":"CONTRIBUTOR","body":"This is awesome, thank you for addressing my feedback so quickly!  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514755772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514790202","html_url":"https://github.com/apache/druid/pull/8128#issuecomment-514790202","issue_url":"https://api.github.com/repos/apache/druid/issues/8128","id":514790202,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDc5MDIwMg==","user":{"login":"ccaominh","id":9208416,"node_id":"MDQ6VXNlcjkyMDg0MTY=","avatar_url":"https://avatars.githubusercontent.com/u/9208416?v=4","gravatar_id":"","url":"https://api.github.com/users/ccaominh","html_url":"https://github.com/ccaominh","followers_url":"https://api.github.com/users/ccaominh/followers","following_url":"https://api.github.com/users/ccaominh/following{/other_user}","gists_url":"https://api.github.com/users/ccaominh/gists{/gist_id}","starred_url":"https://api.github.com/users/ccaominh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccaominh/subscriptions","organizations_url":"https://api.github.com/users/ccaominh/orgs","repos_url":"https://api.github.com/users/ccaominh/repos","events_url":"https://api.github.com/users/ccaominh/events{/privacy}","received_events_url":"https://api.github.com/users/ccaominh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T20:36:25Z","updated_at":"2019-07-24T20:37:42Z","author_association":"CONTRIBUTOR","body":"The SS_SHOULD_BE_STATIC failures for the \"strict compilation\" job are the same as https://github.com/apache/incubator-druid/issues/8135.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514790202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514829668","html_url":"https://github.com/apache/druid/issues/5475#issuecomment-514829668","issue_url":"https://api.github.com/repos/apache/druid/issues/5475","id":514829668,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDgyOTY2OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T22:57:57Z","updated_at":"2019-07-24T22:57:57Z","author_association":"CONTRIBUTOR","body":"curious... would there be any practical advantage/reason for doing that ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514829668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514832272","html_url":"https://github.com/apache/druid/pull/8107#issuecomment-514832272","issue_url":"https://api.github.com/repos/apache/druid/issues/8107","id":514832272,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDgzMjI3Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T23:10:51Z","updated_at":"2019-07-24T23:10:51Z","author_association":"CONTRIBUTOR","body":"@clintropolis \r\n\r\nI observed the Jetty server shutdown before task shutdown in a Peon too, that may be worth looking into as a separate issue.\r\n\r\nThe hanging you observed was due to SeekableStreamIndexTask not doing any shutdown actions if `druid.indexer.task.restoreTasksOnRestart=false`, so the indexer just waited for the graceful shutdown timeout before interrupting the task thread.\r\n\r\nI've updated the patch to have the stopGracefully() methods on the tasks interrupt their run method","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514832272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514832696","html_url":"https://github.com/apache/druid/issues/8130#issuecomment-514832696","issue_url":"https://api.github.com/repos/apache/druid/issues/8130","id":514832696,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDgzMjY5Ng==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T23:12:41Z","updated_at":"2019-07-24T23:12:41Z","author_association":"CONTRIBUTOR","body":"@vikramarsid Brokers optionally log queries to \"request log\" (see https://druid.apache.org/docs/latest/configuration/index.html#request-logging ) , you might get it from there .","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514832696/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514834543","html_url":"https://github.com/apache/druid/pull/8076#issuecomment-514834543","issue_url":"https://api.github.com/repos/apache/druid/issues/8076","id":514834543,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDgzNDU0Mw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T23:21:18Z","updated_at":"2019-07-24T23:21:18Z","author_association":"CONTRIBUTOR","body":"@Fokko please remove the pre-filled template from PR . descriptions , that is to guide contributors towards what to add in PR description. \r\nKeeping all of it in the PR is confusing. For example, this PR description should have been...\r\n\r\n ---------\r\n\r\n\r\n\r\n### Description\r\nSuspicious reference comparison of Boolean values, Spotbugs rule RC_REF_COMPARISON_BAD_PRACTICE_BOOLEAN\r\n\r\nThis method compares two Boolean values using the == or != operator. Normally, there are only two Boolean values (Boolean.TRUE and Boolean.FALSE), but it is possible to create other Boolean objects using the new Boolean(b) constructor. It is best to avoid such objects, but if they do exist, then checking Boolean objects for equality using == or != will give results than are different than you would get using .equals(...)\r\n\r\n<hr> \r\nThis PR has:\r\n\r\n  [x] been self-reviewed.\r\n ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514834543/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514837303","html_url":"https://github.com/apache/druid/pull/8151#issuecomment-514837303","issue_url":"https://api.github.com/repos/apache/druid/issues/8151","id":514837303,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDgzNzMwMw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T23:33:55Z","updated_at":"2019-07-24T23:33:55Z","author_association":"MEMBER","body":"teamcity seems to be failing with the same unrelated errors for these backports to 0.15.1","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514837303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514837508","html_url":"https://github.com/apache/druid/issues/8125#issuecomment-514837508","issue_url":"https://api.github.com/repos/apache/druid/issues/8125","id":514837508,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDgzNzUwOA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-24T23:34:52Z","updated_at":"2019-07-24T23:34:52Z","author_association":"CONTRIBUTOR","body":"> is it really a good idea to try to compute cache entries asynchronously and in parallel?\r\n\r\nI think, no . it is ok to compute the entry in the same thread reading sequence.\r\n\r\n> is it a good idea to have background cache population be a generic thing at all? What if we only had foreground population and left it up to the individual Cache impls to do background pushing to remote cache servers if they want to?\r\n\r\nit makes sense to leave that choice to cache impl instead of user, but all remote caches would need to do it in the background and would end up writing same type of code. it will be useful for that common code to be made available in druid core so that remote cache extensions could just use it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514837508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514843282","html_url":"https://github.com/apache/druid/pull/8038#issuecomment-514843282","issue_url":"https://api.github.com/repos/apache/druid/issues/8038","id":514843282,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDg0MzI4Mg==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T00:03:53Z","updated_at":"2019-07-25T00:03:53Z","author_association":"CONTRIBUTOR","body":"hey @sashidhar - your proposal mentioned:\r\n\r\n> This PR introduces an optional new Historical runtime property druid.segmentCache.locationSelectorStrategy to make the segment cache location selection strategy configurable. Possible values for the above property - round-robin, least-bytes-used.\r\n\r\nBut I don't see that implemented (I only see the round-robin implementation). Am I missing something? You also said:\r\n\r\n>  It makes sense for the Least-Bytes-Used to be the default for the write and read throughput reasons mentioned.\r\n\r\nWhich I agree with. Apologies if you were waiting on further confirmation before implementing the Least-Bytes-Used strategy. Between round-robin and Least-Bytes-Used, I would be okay if you just implemented the latter, as I think it would be the right option in the majority of cases, but I would also be okay if you implemented both and had a configuration parameter to select the strategy.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514843282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514849170","html_url":"https://github.com/apache/druid/pull/7547#issuecomment-514849170","issue_url":"https://api.github.com/repos/apache/druid/issues/7547","id":514849170,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDg0OTE3MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T00:35:59Z","updated_at":"2019-07-25T00:35:59Z","author_association":"CONTRIBUTOR","body":"@jon-wei @clintropolis thank you for the review!!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514849170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514849400","html_url":"https://github.com/apache/druid/pull/8153#issuecomment-514849400","issue_url":"https://api.github.com/repos/apache/druid/issues/8153","id":514849400,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDg0OTQwMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T00:37:11Z","updated_at":"2019-07-25T00:37:11Z","author_association":"CONTRIBUTOR","body":"This is a doc change and I believe CI failures are not legit. Will merge this shortly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514849400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514881236","html_url":"https://github.com/apache/druid/pull/8038#issuecomment-514881236","issue_url":"https://api.github.com/repos/apache/druid/issues/8038","id":514881236,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDg4MTIzNg==","user":{"login":"sashidhar","id":287761,"node_id":"MDQ6VXNlcjI4Nzc2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/287761?v=4","gravatar_id":"","url":"https://api.github.com/users/sashidhar","html_url":"https://github.com/sashidhar","followers_url":"https://api.github.com/users/sashidhar/followers","following_url":"https://api.github.com/users/sashidhar/following{/other_user}","gists_url":"https://api.github.com/users/sashidhar/gists{/gist_id}","starred_url":"https://api.github.com/users/sashidhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sashidhar/subscriptions","organizations_url":"https://api.github.com/users/sashidhar/orgs","repos_url":"https://api.github.com/users/sashidhar/repos","events_url":"https://api.github.com/users/sashidhar/events{/privacy}","received_events_url":"https://api.github.com/users/sashidhar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T03:30:22Z","updated_at":"2019-07-25T03:30:22Z","author_association":"CONTRIBUTOR","body":"Hi David,\n\nSorry for the unclear wording. It should have been \"This PR will\nintroduce...\". I was waiting for the design approval before implementing\nLeast-Bytes-Used strategy. I would like to implement both and make the\nstrategy configurable default being Least-Bytes-Used. I'll\nresume working on the implementation.\n\nThanks,\nSashi\n\n\n\nOn Thu, Jul 25, 2019, 5:34 AM David Lim <notifications@github.com> wrote:\n\n> hey @sashidhar <https://github.com/sashidhar> - your proposal mentioned:\n>\n> This PR introduces an optional new Historical runtime property\n> druid.segmentCache.locationSelectorStrategy to make the segment cache\n> location selection strategy configurable. Possible values for the above\n> property - round-robin, least-bytes-used.\n>\n> But I don't see that implemented (I only see the round-robin\n> implementation). Am I missing something? You also said:\n>\n> It makes sense for the Least-Bytes-Used to be the default for the write\n> and read throughput reasons mentioned.\n>\n> Which I agree with. Apologies if you were waiting on further confirmation\n> before implementing the Least-Bytes-Used strategy. Between round-robin and\n> Least-Bytes-Used, I would be okay if you just implemented the latter, as I\n> think it would be the right option in the majority of cases, but I would\n> also be okay if you implemented both and had a configuration parameter to\n> select the strategy.\n>\n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-druid/pull/8038?email_source=notifications&email_token=AACGIEKI3L6FN7K5Q5EFSDDQBDUY3A5CNFSM4H6T5OQ2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2X6FEQ#issuecomment-514843282>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AACGIELQDFBIGA3NCQLR3HLQBDUY3ANCNFSM4H6T5OQQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514881236/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514917428","html_url":"https://github.com/apache/druid/issues/8063#issuecomment-514917428","issue_url":"https://api.github.com/repos/apache/druid/issues/8063","id":514917428,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDkxNzQyOA==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T06:38:27Z","updated_at":"2019-07-25T06:45:53Z","author_association":"NONE","body":"Another compaction task has just failed (after 16 hours of running). Again, no errors in its log or in the overlord's log. This time I'm using `Druid 0.13.0`.\r\n\r\nThe last lines from the compaction's log:\r\n\r\n```\r\n2019-07-25T03:46:08,296 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[1] in 1 millis.\r\n2019-07-25T03:46:08,298 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[2] in 1 millis.\r\n2019-07-25T03:46:08,299 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,299 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,300 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[1] in 1 millis.\r\n2019-07-25T03:46:08,301 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 1 millis.\r\n2019-07-25T03:46:08,301 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,301 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[1] in 0 millis.\r\n2019-07-25T03:46:08,302 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 1 millis.\r\n2019-07-25T03:46:08,302 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,302 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,302 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,302 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,302 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[1] in 0 millis.\r\n2019-07-25T03:46:08,303 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,303 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,303 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,303 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,303 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,303 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,303 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,303 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,303 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,304 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[3] in 1 millis.\r\n2019-07-25T03:46:08,305 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,305 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,306 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[1] in 1 millis.\r\n2019-07-25T03:46:08,306 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,306 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,306 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,306 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,306 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,306 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,306 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,306 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,307 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 1 millis.\r\n2019-07-25T03:46:08,307 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,307 INFO [some-ds-incremental-persist] org.apache.druid.segment.StringDimensionMergerV9 - Completed dim[SOME_DIM] inverted with cardinality[0] in 0 millis.\r\n2019-07-25T03:46:08,307 INFO [some-ds-incremental-persist] org.apache.druid.segment.IndexMergerV9 - Completed index.drd in 0 millis.\r\n2019-07-25T03:46:08,307 INFO [some-ds-incremental-persist] org.apache.druid.java.util.common.io.smoosh.FileSmoosher - Created smoosh file [/mnt/druid/persistent/task/compact_some-ds_2019-07-24T11:44:40.947Z/work/persist/some-ds_2018-10-01T00:00:00.000Z_2018-11-01T00:00:00.000Z_2019-07-24T11:44:40.976Z_1423/0/00000.smoosh] of size [59994686] bytes.\r\n57688.578: [GC pause (G1 Evacuation Pause) (young), 0.1909283 secs]\r\n   [Parallel Time: 183.8 ms, GC Workers: 8]\r\n      [GC Worker Start (ms): Min: 57688577.9, Avg: 57688578.0, Max: 57688578.1, Diff: 0.2]\r\n      [Ext Root Scanning (ms): Min: 0.9, Avg: 4.3, Max: 11.8, Diff: 10.9, Sum: 34.4]\r\n      [Update RS (ms): Min: 17.6, Avg: 22.9, Max: 33.7, Diff: 16.1, Sum: 183.0]\r\n         [Processed Buffers: Min: 7, Avg: 39.4, Max: 63, Diff: 56, Sum: 315]\r\n      [Scan RS (ms): Min: 37.5, Avg: 47.9, Max: 53.3, Diff: 15.8, Sum: 383.2]\r\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n      [Object Copy (ms): Min: 79.6, Avg: 95.7, Max: 108.6, Diff: 29.0, Sum: 765.7]\r\n      [Termination (ms): Min: 0.0, Avg: 10.0, Max: 12.4, Diff: 12.4, Sum: 80.2]\r\n         [Termination Attempts: Min: 1, Avg: 761.1, Max: 1306, Diff: 1305, Sum: 6089]\r\n      [GC Worker Other (ms): Min: 0.0, Avg: 1.1, Max: 2.9, Diff: 2.9, Sum: 8.7]\r\n      [GC Worker Total (ms): Min: 180.7, Avg: 181.9, Max: 183.7, Diff: 2.9, Sum: 1455.2]\r\n      [GC Worker End (ms): Min: 57688758.8, Avg: 57688759.9, Max: 57688761.7, Diff: 2.9]\r\n   [Code Root Fixup: 0.0 ms]\r\n   [Code Root Purge: 0.0 ms]\r\n   [Clear CT: 0.7 ms]\r\n   [Other: 6.4 ms]\r\n      [Choose CSet: 0.0 ms]\r\n      [Ref Proc: 4.1 ms]\r\n      [Ref Enq: 0.0 ms]\r\n      [Redirty Cards: 1.0 ms]\r\n      [Humongous Register: 0.1 ms]\r\n      [Humongous Reclaim: 0.2 ms]\r\n      [Free CSet: 0.6 ms]\r\n   [Eden: 294.0M(294.0M)->0.0B(474.0M) Survivors: 166.0M->30.0M Heap: 4307.0M(9216.0M)->4041.0M(9216.0M)]\r\n [Times: user=0.83 sys=0.00, real=0.19 secs] \r\n57719.479: [GC pause (G1 Evacuation Pause) (young) (initial-mark), 0.1198657 secs]\r\n   [Parallel Time: 115.9 ms, GC Workers: 8]\r\n      [GC Worker Start (ms): Min: 57719479.6, Avg: 57719481.8, Max: 57719482.6, Diff: 3.0]\r\n      [Ext Root Scanning (ms): Min: 0.1, Avg: 12.3, Max: 22.1, Diff: 22.0, Sum: 98.1]\r\n      [Update RS (ms): Min: 0.0, Avg: 17.6, Max: 52.1, Diff: 52.1, Sum: 140.9]\r\n         [Processed Buffers: Min: 0, Avg: 22.0, Max: 45, Diff: 45, Sum: 176]\r\n      [Scan RS (ms): Min: 0.0, Avg: 6.2, Max: 16.9, Diff: 16.9, Sum: 49.9]\r\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n      [Object Copy (ms): Min: 49.6, Avg: 67.5, Max: 76.0, Diff: 26.3, Sum: 539.7]\r\n      [Termination (ms): Min: 0.0, Avg: 6.7, Max: 10.2, Diff: 10.2, Sum: 53.6]\r\n         [Termination Attempts: Min: 1, Avg: 1.4, Max: 3, Diff: 2, Sum: 11]\r\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n      [GC Worker Total (ms): Min: 108.8, Avg: 110.3, Max: 114.1, Diff: 5.3, Sum: 882.4]\r\n      [GC Worker End (ms): Min: 57719591.4, Avg: 57719592.1, Max: 57719594.6, Diff: 3.3]\r\n   [Code Root Fixup: 0.0 ms]\r\n   [Code Root Purge: 0.0 ms]\r\n   [Clear CT: 0.5 ms]\r\n   [Other: 3.4 ms]\r\n      [Choose CSet: 0.0 ms]\r\n      [Ref Proc: 0.7 ms]\r\n      [Ref Enq: 0.0 ms]\r\n      [Redirty Cards: 0.4 ms]\r\n      [Humongous Register: 0.1 ms]\r\n      [Humongous Reclaim: 0.1 ms]\r\n      [Free CSet: 0.5 ms]\r\n   [Eden: 474.0M(474.0M)->0.0B(396.0M) Survivors: 30.0M->64.0M Heap: 4515.0M(9216.0M)->4123.0M(9216.0M)]\r\n [Times: user=0.34 sys=0.00, real=0.12 secs] \r\n57719.599: [GC concurrent-root-region-scan-start]\r\n57719.654: [GC concurrent-root-region-scan-end, 0.0549703 secs]\r\n57719.654: [GC concurrent-mark-start]\r\n57719.924: [GC concurrent-mark-end, 0.2701431 secs]\r\n57720.062: [GC remark 57720.062: [Finalize Marking, 0.0006635 secs] 57720.062: [GC ref-proc, 0.0007011 secs] 57720.063: [Unloading, 0.0149653 secs], 0.0196835 secs]\r\n [Times: user=0.06 sys=0.00, real=0.02 secs] \r\n57720.082: [GC cleanup 4127M->902M(9216M), 0.0081479 secs]\r\n [Times: user=0.03 sys=0.00, real=0.00 secs] \r\n57720.091: [GC concurrent-cleanup-start]\r\n57720.096: [GC concurrent-cleanup-end, 0.0053799 secs]\r\n```\r\n\r\nThe spec:\r\n\r\n```\r\n{\r\n    \"type\": \"compact\",\r\n    \"dataSource\": \"some-ds\",\r\n    \"interval\": \"2018-10-01/2018-11-01\",\r\n    \"keepSegmentGranularity\": false,\r\n    \"segmentGranularity\": \"month\",\r\n    \"queryGranularity\": \"day\",\r\n    \"targetCompactionSizeBytes\": 80000000,\r\n\t\"tuningConfig\": {\r\n\t\t\"type\": \"index\",\r\n\t\t\"maxRowsInMemory\": 25000,\r\n\t\t\"maxBytesInMemory\": 2147483647,\r\n\t\t\"forceExtendableShardSpecs\": true\r\n\t}\r\n}\r\n```\r\n\r\nThe intervals:\r\n\r\n```\r\n2018-10-29T00 | 67 | 55 GB (67 segments (55 GB) for 2018-10-29T00 to 2018-11-05T00)\r\n2018-10-01T00 | 31 | 147 GB (31 segments (147 GB) for 2018-10-01T00 to 2018-11-01T00\r\n```\r\n\r\nI've also added these JVM params to the Peons:\r\n\r\n```\r\n-Xmx9g -XX:MaxDirectMemorySize=12g\r\n```\r\n\r\nIs there anything that I can do in order to find the error cause?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514917428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514935755","html_url":"https://github.com/apache/druid/issues/8150#issuecomment-514935755","issue_url":"https://api.github.com/repos/apache/druid/issues/8150","id":514935755,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDkzNTc1NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T07:44:25Z","updated_at":"2019-07-25T07:44:25Z","author_association":"CONTRIBUTOR","body":"I think this came up in the discussion, but it might also make sense on the Broker.\r\n\r\nOne thing I was thinking of proposing along those lines is folding the Router functionality into the Broker in general, even beyond the unified console. The rationale would be that the Router is a really thin process type, and its functionality would fit in well on the Broker and would make the Broker able to serve all your interactions with Druid. (In addition to serving queries it could also serve the web console and proxy to coordinator/overlord like the Router does today.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514935755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514954395","html_url":"https://github.com/apache/druid/issues/5475#issuecomment-514954395","issue_url":"https://api.github.com/repos/apache/druid/issues/5475","id":514954395,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDk1NDM5NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T08:41:07Z","updated_at":"2019-07-25T08:41:07Z","author_association":"MEMBER","body":"I think it's better to focus on this issue: #7287 for \"Stable API\" instead of cosmetically make `AggregatorFactory` an interface. The two other interfaces which will be the result of #7287 can be interfaces (rather than abstract classes) because there are just no reasons to make them abstract classes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514954395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/514955504","html_url":"https://github.com/apache/druid/issues/8150#issuecomment-514955504","issue_url":"https://api.github.com/repos/apache/druid/issues/8150","id":514955504,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDk1NTUwNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T08:44:12Z","updated_at":"2019-07-25T08:44:12Z","author_association":"MEMBER","body":"A reason to make it available on Coordinator (rather than Router or Broker) is to separate Druid query interfaces and \"management\" interfaces on different nodes for some security purposes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/514955504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515076126","html_url":"https://github.com/apache/druid/issues/8130#issuecomment-515076126","issue_url":"https://api.github.com/repos/apache/druid/issues/8130","id":515076126,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTA3NjEyNg==","user":{"login":"vikramarsid","id":8534419,"node_id":"MDQ6VXNlcjg1MzQ0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/8534419?v=4","gravatar_id":"","url":"https://api.github.com/users/vikramarsid","html_url":"https://github.com/vikramarsid","followers_url":"https://api.github.com/users/vikramarsid/followers","following_url":"https://api.github.com/users/vikramarsid/following{/other_user}","gists_url":"https://api.github.com/users/vikramarsid/gists{/gist_id}","starred_url":"https://api.github.com/users/vikramarsid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vikramarsid/subscriptions","organizations_url":"https://api.github.com/users/vikramarsid/orgs","repos_url":"https://api.github.com/users/vikramarsid/repos","events_url":"https://api.github.com/users/vikramarsid/events{/privacy}","received_events_url":"https://api.github.com/users/vikramarsid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T14:51:21Z","updated_at":"2019-07-25T14:51:21Z","author_association":"NONE","body":"@himanshug  Thank you! I can see native JSON queries for SQL queries in the request logs. \r\nQuick question: For some queries, I see intervals = \"-146136543-09-08T08:23:32.096Z/146140482-04-24T15:36:27.903Z\"\r\nI don't think it is a valid ISO 8601 but still query work, do you know if that interval has any significance?\r\n\r\nI found few references in druid sql tests\r\n\r\nhttps://github.com/apache/incubator-druid/blob/7baa33049cde3c3751037f014f468db4beb41a4c/sql/src/test/java/org/apache/druid/sql/calcite/http/SqlResourceTest.java#L610\r\n\r\nhttps://github.com/apache/incubator-druid/blob/ea4bad783691da2b8530eb8ad3daf6a0ad2d0a37/sql/src/test/java/org/apache/druid/sql/calcite/CalciteQueryTest.java#L4407\r\n\r\nhttps://github.com/apache/incubator-druid/blob/ea4bad783691da2b8530eb8ad3daf6a0ad2d0a37/sql/src/test/java/org/apache/druid/sql/avatica/DruidAvaticaHandlerTest.java#L349","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515076126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515101615","html_url":"https://github.com/apache/druid/issues/8150#issuecomment-515101615","issue_url":"https://api.github.com/repos/apache/druid/issues/8150","id":515101615,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTEwMTYxNQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T15:56:21Z","updated_at":"2019-07-25T15:56:21Z","author_association":"CONTRIBUTOR","body":"@leventov are you picturing the coordinator version of the unified console would be a 'lite' version of the console without reliance on the DruidSQL route?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515101615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515109896","html_url":"https://github.com/apache/druid/pull/8157#issuecomment-515109896","issue_url":"https://api.github.com/repos/apache/druid/issues/8157","id":515109896,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTEwOTg5Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T16:19:15Z","updated_at":"2019-07-25T16:19:15Z","author_association":"MEMBER","body":"Labelled `ResponseContext` because this PR heavily affects `ResponseContext`, a `@PublicApi` class.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515109896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515141121","html_url":"https://github.com/apache/druid/issues/8130#issuecomment-515141121","issue_url":"https://api.github.com/repos/apache/druid/issues/8130","id":515141121,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTE0MTEyMQ==","user":{"login":"sashidhar","id":287761,"node_id":"MDQ6VXNlcjI4Nzc2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/287761?v=4","gravatar_id":"","url":"https://api.github.com/users/sashidhar","html_url":"https://github.com/sashidhar","followers_url":"https://api.github.com/users/sashidhar/followers","following_url":"https://api.github.com/users/sashidhar/following{/other_user}","gists_url":"https://api.github.com/users/sashidhar/gists{/gist_id}","starred_url":"https://api.github.com/users/sashidhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sashidhar/subscriptions","organizations_url":"https://api.github.com/users/sashidhar/orgs","repos_url":"https://api.github.com/users/sashidhar/repos","events_url":"https://api.github.com/users/sashidhar/events{/privacy}","received_events_url":"https://api.github.com/users/sashidhar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T17:38:35Z","updated_at":"2019-07-25T17:38:35Z","author_association":"CONTRIBUTOR","body":"@vikramarsid , as far as I understand this means there is no filter on the timestamp dimension, generating an interval covering the time range (,+).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515141121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515145103","html_url":"https://github.com/apache/druid/pull/8124#issuecomment-515145103","issue_url":"https://api.github.com/repos/apache/druid/issues/8124","id":515145103,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTE0NTEwMw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T17:48:02Z","updated_at":"2019-07-25T17:48:02Z","author_association":"CONTRIBUTOR","body":"Great, thank you.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515145103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515148189","html_url":"https://github.com/apache/druid/issues/4771#issuecomment-515148189","issue_url":"https://api.github.com/repos/apache/druid/issues/4771","id":515148189,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTE0ODE4OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T17:55:11Z","updated_at":"2019-07-25T17:55:11Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515148189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515150679","html_url":"https://github.com/apache/druid/issues/8150#issuecomment-515150679","issue_url":"https://api.github.com/repos/apache/druid/issues/8150","id":515150679,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTE1MDY3OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T18:00:58Z","updated_at":"2019-07-25T18:00:58Z","author_association":"MEMBER","body":"What do you mean by \"reliance on the DruidSQL route\"?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515150679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515160833","html_url":"https://github.com/apache/druid/issues/8150#issuecomment-515160833","issue_url":"https://api.github.com/repos/apache/druid/issues/8150","id":515160833,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTE2MDgzMw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T18:27:14Z","updated_at":"2019-07-25T18:27:14Z","author_association":"CONTRIBUTOR","body":"Right now the console primarily uses the /druid/v2/sql route to query the `sys.*` tables via DruidSQL. Also that what the query view uses. The console has a mode where it runs with no SQL but it would still have the Query view that would let you run the native queries. Are you picturing a light mode of the console that never issues Druid SQL / native queries or are you thinking that the coordinator will route those queries to the broker?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515160833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515179768","html_url":"https://github.com/apache/druid/issues/8150#issuecomment-515179768","issue_url":"https://api.github.com/repos/apache/druid/issues/8150","id":515179768,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTE3OTc2OA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T19:21:12Z","updated_at":"2019-07-25T19:21:12Z","author_association":"MEMBER","body":"> Are you picturing a light mode of the console that never issues Druid SQL / native queries\r\n\r\nI can't speak for @leventov, [but that is what I am hoping for in the long run](https://github.com/apache/incubator-druid/pull/6923#pullrequestreview-197999793); basically replacements for the legacy coordinator and overlord consoles using views from the unified console. Then we can \r\n\r\n* remove all of the old consoles from the codebase\r\n* have more opportunity for visibility when the cluster is in a degraded state\r\n\r\nI think the former is important to me from a development/code hygiene/maintenance standpoint, and Druid itself would seem much more coherent if it didn't have a bunch of random old web interfaces that look nothing like the new one scattered everywhere.\r\n\r\nThe latter feels important for large clusters, as the current console is sort of a happy path console. It does have some graceful degradation, but it still requires _multiple_ nodes to be functioning for it to work. I think there is value in being able to still load the traditionally coordinator views directly from the coordinator, or the indexing views from the overlord, in cases where other parts of the cluster are down.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515179768/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515226198","html_url":"https://github.com/apache/druid/pull/8144#issuecomment-515226198","issue_url":"https://api.github.com/repos/apache/druid/issues/8144","id":515226198,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTIyNjE5OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-25T21:44:13Z","updated_at":"2019-07-25T21:44:13Z","author_association":"CONTRIBUTOR","body":"Thank you for the fixes!  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515226198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515321136","html_url":"https://github.com/apache/druid/pull/8152#issuecomment-515321136","issue_url":"https://api.github.com/repos/apache/druid/issues/8152","id":515321136,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTMyMTEzNg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T06:02:10Z","updated_at":"2019-07-26T06:02:41Z","author_association":"MEMBER","body":"The integration test and teamcity keep failing for this. The other backport PR, #8151, made it past \"integration test 1\" [with 14 seconds to spare](https://travis-ci.org/apache/incubator-druid/builds/563224640?utm_source=github_status&utm_medium=notification), so I suspect it will pass, it's just running out of time. I'm going to run the integration tests locally on this branch and go ahead and merge if they do pass.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515321136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515374778","html_url":"https://github.com/apache/druid/pull/8076#issuecomment-515374778","issue_url":"https://api.github.com/repos/apache/druid/issues/8076","id":515374778,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTM3NDc3OA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T09:14:36Z","updated_at":"2019-07-26T09:14:36Z","author_association":"CONTRIBUTOR","body":"@himanshug Done! ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515374778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515434856","html_url":"https://github.com/apache/druid/pull/8005#issuecomment-515434856","issue_url":"https://api.github.com/repos/apache/druid/issues/8005","id":515434856,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTQzNDg1Ng==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T12:40:03Z","updated_at":"2019-07-26T12:40:03Z","author_association":"CONTRIBUTOR","body":"Rebased onto master\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515434856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515464627","html_url":"https://github.com/apache/druid/pull/8129#issuecomment-515464627","issue_url":"https://api.github.com/repos/apache/druid/issues/8129","id":515464627,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTQ2NDYyNw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T13:59:32Z","updated_at":"2019-07-26T13:59:32Z","author_association":"CONTRIBUTOR","body":"Fixed conflicts","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515464627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515521715","html_url":"https://github.com/apache/druid/issues/8168#issuecomment-515521715","issue_url":"https://api.github.com/repos/apache/druid/issues/8168","id":515521715,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTUyMTcxNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T16:41:48Z","updated_at":"2019-07-26T16:41:48Z","author_association":"CONTRIBUTOR","body":"Thanks, I'll take a look probably next week.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515521715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515521914","html_url":"https://github.com/apache/druid/pull/8114#issuecomment-515521914","issue_url":"https://api.github.com/repos/apache/druid/issues/8114","id":515521914,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTUyMTkxNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T16:42:23Z","updated_at":"2019-07-26T16:42:23Z","author_association":"CONTRIBUTOR","body":"@leventov do you have more comments on this pr?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515521914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515538594","html_url":"https://github.com/apache/druid/issues/4617#issuecomment-515538594","issue_url":"https://api.github.com/repos/apache/druid/issues/4617","id":515538594,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTUzODU5NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T17:37:05Z","updated_at":"2019-07-26T17:37:05Z","author_association":"MEMBER","body":"Related: #7160","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515538594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515539143","html_url":"https://github.com/apache/druid/issues/4349#issuecomment-515539143","issue_url":"https://api.github.com/repos/apache/druid/issues/4349","id":515539143,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTUzOTE0Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T17:38:52Z","updated_at":"2019-07-26T17:38:52Z","author_association":"MEMBER","body":"Reopening because this is not a completely finished project.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515539143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515541030","html_url":"https://github.com/apache/druid/issues/4450#issuecomment-515541030","issue_url":"https://api.github.com/repos/apache/druid/issues/4450","id":515541030,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTU0MTAzMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T17:44:52Z","updated_at":"2019-07-26T17:44:52Z","author_association":"MEMBER","body":"This issue was mentioned here: #7087, \"Fault tolerance\" section.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515541030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/515562719","html_url":"https://github.com/apache/druid/issues/8069#issuecomment-515562719","issue_url":"https://api.github.com/repos/apache/druid/issues/8069","id":515562719,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTU2MjcxOQ==","user":{"login":"ankur-bambharoliya","id":9466760,"node_id":"MDQ6VXNlcjk0NjY3NjA=","avatar_url":"https://avatars.githubusercontent.com/u/9466760?v=4","gravatar_id":"","url":"https://api.github.com/users/ankur-bambharoliya","html_url":"https://github.com/ankur-bambharoliya","followers_url":"https://api.github.com/users/ankur-bambharoliya/followers","following_url":"https://api.github.com/users/ankur-bambharoliya/following{/other_user}","gists_url":"https://api.github.com/users/ankur-bambharoliya/gists{/gist_id}","starred_url":"https://api.github.com/users/ankur-bambharoliya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankur-bambharoliya/subscriptions","organizations_url":"https://api.github.com/users/ankur-bambharoliya/orgs","repos_url":"https://api.github.com/users/ankur-bambharoliya/repos","events_url":"https://api.github.com/users/ankur-bambharoliya/events{/privacy}","received_events_url":"https://api.github.com/users/ankur-bambharoliya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-26T18:54:38Z","updated_at":"2019-07-26T18:54:38Z","author_association":"NONE","body":"@leventov I new to the community, so feel free to point out any mistake. I am trying to do something like \r\n\r\n```\r\n    Interval endPoint = interval.withStartMillis(interval.getEndMillis());\r\n    NavigableMap<Interval, TimelineEntry> timeline = ((incompleteOk)\r\n                                                     ? incompletePartitionsTimeline\r\n                                                     : completePartitionsTimeline).headMap(endPoint, true);\r\n\r\n```\r\n\r\nThis way we can ignore the part of the timeline where start-time is bigger than end-time of the `interval`. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/515562719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]