[{"url":"https://api.github.com/repos/apache/druid/issues/comments/289284877","html_url":"https://github.com/apache/druid/issues/4058#issuecomment-289284877","issue_url":"https://api.github.com/repos/apache/druid/issues/4058","id":289284877,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTI4NDg3Nw==","user":{"login":"zhxiaom5","id":10976459,"node_id":"MDQ6VXNlcjEwOTc2NDU5","avatar_url":"https://avatars.githubusercontent.com/u/10976459?v=4","gravatar_id":"","url":"https://api.github.com/users/zhxiaom5","html_url":"https://github.com/zhxiaom5","followers_url":"https://api.github.com/users/zhxiaom5/followers","following_url":"https://api.github.com/users/zhxiaom5/following{/other_user}","gists_url":"https://api.github.com/users/zhxiaom5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhxiaom5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhxiaom5/subscriptions","organizations_url":"https://api.github.com/users/zhxiaom5/orgs","repos_url":"https://api.github.com/users/zhxiaom5/repos","events_url":"https://api.github.com/users/zhxiaom5/events{/privacy}","received_events_url":"https://api.github.com/users/zhxiaom5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-26T13:33:32Z","updated_at":"2017-03-26T13:33:42Z","author_association":"NONE","body":"finally，i found this\r\n1.my timezone config not right，some service use UTC and some use UTC+0800\r\n2.historical config,maxsize seems cant be zero,so i change it below\r\n\r\ndruid.segmentCache.locations=[{\"path\":\"var/druid/segment-cache\",\"maxSize\"\\:30000000000}]\r\ndruid.server.maxSize=30000000000\r\n\r\n3.hisorical load segment seems take too long,so i change blow\r\ndruid.segmentCache.numLoadingThreads=4\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289284877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289290459","html_url":"https://github.com/apache/druid/pull/4092#issuecomment-289290459","issue_url":"https://api.github.com/repos/apache/druid/issues/4092","id":289290459,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTI5MDQ1OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-26T15:12:05Z","updated_at":"2017-03-26T15:12:05Z","author_association":"CONTRIBUTOR","body":"@asdf2014 without evidence of performance improvements please retract the claim of performance improvements. Refactoring code in ways that makes sense *regardless* of performance impact is fine. But claiming performance improvements without evidence is not.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289290459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289290484","html_url":"https://github.com/apache/druid/pull/4092#issuecomment-289290484","issue_url":"https://api.github.com/repos/apache/druid/issues/4092","id":289290484,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTI5MDQ4NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-26T15:12:34Z","updated_at":"2017-03-26T15:14:24Z","author_association":"CONTRIBUTOR","body":"The suspected improvements can be left as-is, I'm just asking the claim in the PR title (and thus the squash-merged commit message that will be in master) be changed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289290484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289293367","html_url":"https://github.com/apache/druid/pull/4092#issuecomment-289293367","issue_url":"https://api.github.com/repos/apache/druid/issues/4092","id":289293367,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTI5MzM2Nw==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-26T16:00:36Z","updated_at":"2017-03-26T16:00:36Z","author_association":"MEMBER","body":"Okey, i got it. Sorry for that. You can change the `squash-merge commit message` into a reasonable description, for example `Some code refactor in Avro-Extension` etc.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289293367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289320617","html_url":"https://github.com/apache/druid/issues/4119#issuecomment-289320617","issue_url":"https://api.github.com/repos/apache/druid/issues/4119","id":289320617,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTMyMDYxNw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-26T22:12:36Z","updated_at":"2017-03-26T22:12:49Z","author_association":"CONTRIBUTOR","body":"The input file was line-delimited JSON. And this was during the MAP phase","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289320617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289350404","html_url":"https://github.com/apache/druid/pull/3860#issuecomment-289350404","issue_url":"https://api.github.com/repos/apache/druid/issues/3860","id":289350404,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTM1MDQwNA==","user":{"login":"dkhwangbo","id":13585249,"node_id":"MDQ6VXNlcjEzNTg1MjQ5","avatar_url":"https://avatars.githubusercontent.com/u/13585249?v=4","gravatar_id":"","url":"https://api.github.com/users/dkhwangbo","html_url":"https://github.com/dkhwangbo","followers_url":"https://api.github.com/users/dkhwangbo/followers","following_url":"https://api.github.com/users/dkhwangbo/following{/other_user}","gists_url":"https://api.github.com/users/dkhwangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/dkhwangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkhwangbo/subscriptions","organizations_url":"https://api.github.com/users/dkhwangbo/orgs","repos_url":"https://api.github.com/users/dkhwangbo/repos","events_url":"https://api.github.com/users/dkhwangbo/events{/privacy}","received_events_url":"https://api.github.com/users/dkhwangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T04:17:26Z","updated_at":"2017-03-27T04:17:26Z","author_association":"CONTRIBUTOR","body":"@gianm Hi! Thanks for your reply. I addressed your comment, also I apply code formatting rule. Furthermore, I use lambda a little bit to the right place.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289350404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289357451","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-289357451","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":289357451,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTM1NzQ1MQ==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T05:30:39Z","updated_at":"2017-03-27T05:30:39Z","author_association":"NONE","body":"@jihoonson  I have read the code of this part PR . The 'BroadcastDistributionRule' is a really good way to express DataSource distribution for the join target . \r\n\r\nBut  another thing needs to be care about is `DruidCoordinatorBalancer`. As I ever mentioned , Druid now hard code using `CostBalancerStrategy` . When the `DruidCoordinatorBalancer`  runs periodically, it may breaks the `DataSource` distribution specified by the broadcast or LocalJoin load rule. \r\n\r\nMy solution is to rewrite the `CostBalancerStrategy` to use my specific BalancerStrategy first to pick a segment to move . Then check the segment DataSource again to enforce it's movement not to break the distribution rule.  A little indirect but not extensible . I wonder whether you have thought about this and anyone else has a good solution ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289357451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289380748","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-289380748","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":289380748,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTM4MDc0OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T07:58:41Z","updated_at":"2017-03-27T07:58:41Z","author_association":"CONTRIBUTOR","body":"@gianm thanks. Addressed your comments. I'll document soon.\r\n@weijietong I haven't thought about that yet, but your idea sounds to make sense to me. I'll think about that too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289380748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289390049","html_url":"https://github.com/apache/druid/pull/4118#issuecomment-289390049","issue_url":"https://api.github.com/repos/apache/druid/issues/4118","id":289390049,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTM5MDA0OQ==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T08:41:36Z","updated_at":"2017-03-27T08:42:01Z","author_association":"NONE","body":"It's good to define a  `SingleSourceBaseQuery` and let `Query` interface support multiple DataSources !","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289390049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289473631","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-289473631","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":289473631,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTQ3MzYzMQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T14:38:19Z","updated_at":"2017-03-27T14:38:19Z","author_association":"CONTRIBUTOR","body":"OK, I will modify this PR to do that.@gianm","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289473631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289508292","html_url":"https://github.com/apache/druid/pull/3951#issuecomment-289508292","issue_url":"https://api.github.com/repos/apache/druid/issues/3951","id":289508292,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTUwODI5Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T16:31:04Z","updated_at":"2017-03-27T16:31:04Z","author_association":"CONTRIBUTOR","body":"@leventov I will get back to this sometime today","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289508292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289525457","html_url":"https://github.com/apache/druid/pull/4111#issuecomment-289525457","issue_url":"https://api.github.com/repos/apache/druid/issues/4111","id":289525457,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTUyNTQ1Nw==","user":{"login":"Jdban","id":490005,"node_id":"MDQ6VXNlcjQ5MDAwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/490005?v=4","gravatar_id":"","url":"https://api.github.com/users/Jdban","html_url":"https://github.com/Jdban","followers_url":"https://api.github.com/users/Jdban/followers","following_url":"https://api.github.com/users/Jdban/following{/other_user}","gists_url":"https://api.github.com/users/Jdban/gists{/gist_id}","starred_url":"https://api.github.com/users/Jdban/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jdban/subscriptions","organizations_url":"https://api.github.com/users/Jdban/orgs","repos_url":"https://api.github.com/users/Jdban/repos","events_url":"https://api.github.com/users/Jdban/events{/privacy}","received_events_url":"https://api.github.com/users/Jdban/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T17:31:36Z","updated_at":"2017-03-27T17:31:36Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 - Awesome. I have submitted the CLA.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289525457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289567121","html_url":"https://github.com/apache/druid/issues/4113#issuecomment-289567121","issue_url":"https://api.github.com/repos/apache/druid/issues/4113","id":289567121,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTU2NzEyMQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T19:57:23Z","updated_at":"2017-03-27T19:57:23Z","author_association":"CONTRIBUTOR","body":"#3803 definitely needs to be fixed \r\n\r\nresponseContext has very lightweight usage. one option is to change to `QueryRunner.run(Query query, ResponseContext context)` and ResponseContext class takes care of concurrency where necessary, this might be more straightforward than having \r\n\r\n```\r\nQueryResult {\r\n   ImmutableMap preContext;\r\n   Sequence result;\r\n   Future<ImmutableMap> postContext;\r\n}\r\n```\r\n\r\n\r\n@gianm I have tried to do the \"profiling\" stuff in https://github.com/druid-io/druid/pull/3371 \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289567121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289625735","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-289625735","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":289625735,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTYyNTczNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T00:27:06Z","updated_at":"2017-03-28T00:27:06Z","author_association":"CONTRIBUTOR","body":"@gianm documented broadcast rules. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289625735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289633858","html_url":"https://github.com/apache/druid/issues/4108#issuecomment-289633858","issue_url":"https://api.github.com/repos/apache/druid/issues/4108","id":289633858,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTYzMzg1OA==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T01:19:34Z","updated_at":"2017-03-28T01:19:34Z","author_association":"MEMBER","body":"@gianm `Tranquility` is totally fine after i add those patches [AVRO-813](https://issues.apache.org/jira/browse/AVRO-813) and https://github.com/druid-io/druid/pull/4092 to fix the `EOFException` problem.\r\n\r\njstat -gcutil -t 27545 1000\r\n```\r\nTimestamp         S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT   \r\n        55082.4  56.52   0.00  25.88  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55083.4  56.52   0.00  25.90  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55084.4  56.52   0.00  25.90  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55085.4  56.52   0.00  25.90  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55086.4  56.52   0.00  25.96  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55087.4  56.52   0.00  27.00  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55088.4  56.52   0.00  32.46  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55089.4  56.52   0.00  36.39  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55090.4  56.52   0.00  37.92  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55091.4  56.52   0.00  52.91  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55092.4  56.52   0.00  55.03  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55093.4  56.52   0.00  55.03  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55094.4  56.52   0.00  55.30  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55095.4  56.52   0.00  56.00  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55096.4  56.52   0.00  56.77  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55097.4  56.52   0.00  57.52  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55098.4  56.52   0.00  57.53  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55099.4  56.52   0.00  60.59  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55100.4  56.52   0.00  60.59  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55101.4  56.52   0.00  61.15  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55102.4  56.52   0.00  62.79  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55103.4  56.52   0.00  66.72  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55104.4  56.52   0.00  70.26  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55105.4  56.52   0.00  75.26  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55106.4  56.52   0.00  76.63  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55107.4  56.52   0.00  76.63  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55108.4  56.52   0.00  77.38  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n        55109.4  56.52   0.00  77.98  19.54  98.78  98.07   1196    9.725     2    0.077    9.802\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289633858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289637111","html_url":"https://github.com/apache/druid/issues/4108#issuecomment-289637111","issue_url":"https://api.github.com/repos/apache/druid/issues/4108","id":289637111,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTYzNzExMQ==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T01:41:39Z","updated_at":"2017-03-28T01:41:39Z","author_association":"MEMBER","body":"Btw, i tune the `JVM` of `Tranquility` to increase the capacity of `Eden Space` with those options that `-J-XX:NewSize=12G -J-XX:MaxNewSize=12G` for reducing the performance lose because of copying the large object into `Old Generation` even the `Allocation Failure` problem.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289637111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289671215","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-289671215","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":289671215,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTY3MTIxNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T05:56:51Z","updated_at":"2017-03-28T05:56:51Z","author_association":"MEMBER","body":"Netty found the same issue with interfaces: http://netty.io/wiki/new-and-noteworthy-in-4.0.html#bytebuf-is-not-an-interface-but-an-abstract-class","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289671215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289865646","html_url":"https://github.com/apache/druid/pull/4079#issuecomment-289865646","issue_url":"https://api.github.com/repos/apache/druid/issues/4079","id":289865646,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTg2NTY0Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T18:41:46Z","updated_at":"2017-03-28T18:41:46Z","author_association":"MEMBER","body":"@fjy we run this in production since December: charts in #3798 show that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289865646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289928497","html_url":"https://github.com/apache/druid/issues/3301#issuecomment-289928497","issue_url":"https://api.github.com/repos/apache/druid/issues/3301","id":289928497,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTkyODQ5Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T22:46:34Z","updated_at":"2017-03-28T22:46:34Z","author_association":"MEMBER","body":"@dclim could this issue be closed?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289928497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289932143","html_url":"https://github.com/apache/druid/issues/4113#issuecomment-289932143","issue_url":"https://api.github.com/repos/apache/druid/issues/4113","id":289932143,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTkzMjE0Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T23:06:52Z","updated_at":"2017-03-28T23:06:52Z","author_association":"MEMBER","body":"@himanshug so we are suggesting the same thing. I raised concern that this design is overly complex, but it might be unavoidable, if we genuinely need preContext and postContext sometimes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289932143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289951394","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-289951394","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":289951394,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTk1MTM5NA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T01:07:18Z","updated_at":"2017-03-29T01:07:18Z","author_association":"CONTRIBUTOR","body":"It's ready for review, @gianm @leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289951394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289958207","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-289958207","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":289958207,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTk1ODIwNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T01:53:20Z","updated_at":"2017-03-29T01:53:20Z","author_association":"CONTRIBUTOR","body":"The travis failure seems not related to this patch. @jon-wei, would you restart the build? I don't have permission.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289958207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289958237","html_url":"https://github.com/apache/druid/pull/3873#issuecomment-289958237","issue_url":"https://api.github.com/repos/apache/druid/issues/3873","id":289958237,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTk1ODIzNw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T01:53:32Z","updated_at":"2017-03-29T01:53:32Z","author_association":"CONTRIBUTOR","body":"The latest commit also adds a new `BucketUpdateHandler` interface used by the hash table, to handle updates to the bucket offset list and the aggregator relocation introduced in https://github.com/druid-io/druid/pull/4071","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289958237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289958539","html_url":"https://github.com/apache/druid/pull/3873#issuecomment-289958539","issue_url":"https://api.github.com/repos/apache/druid/issues/3873","id":289958539,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTk1ODUzOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T01:55:44Z","updated_at":"2017-03-29T01:55:44Z","author_association":"CONTRIBUTOR","body":"@jihoonson Addressed your comments, thanks for the review!\r\n\r\n@himanshug @nishantmonu51 Can you please review this PR again when you have a chance?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289958539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/289983802","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-289983802","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":289983802,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTk4MzgwMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T05:08:41Z","updated_at":"2017-03-29T05:08:41Z","author_association":"CONTRIBUTOR","body":"I updated the patch to drop segments which are not co-located anymore.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/289983802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290008635","html_url":"https://github.com/apache/druid/pull/4092#issuecomment-290008635","issue_url":"https://api.github.com/repos/apache/druid/issues/4092","id":290008635,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDAwODYzNQ==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T07:37:40Z","updated_at":"2017-03-29T07:37:40Z","author_association":"MEMBER","body":"## Benchmark Config\r\n\r\na) Tranquility:\r\n\t-Ddruid.extensions.directory=/home/druid/software/druid/extensions -Ddruid.extensions.loadList='[\"druid-avro-extensions\"]'\r\n\r\nb) JVM Option:\r\n\t-J-Xmx4G -J-Xms4G -J-XX:NewSize=2G -J-XX:MaxNewSize=2G\r\n\r\nc) Message:\r\n\t80000 msg/s\r\n\r\n\r\n## GC Result:\r\n\r\n### Origin (before adding the `PR`)\r\n```\r\nTimestamp  S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT\r\n9960.6  31.39   0.00  67.65  55.82  98.65  97.96   4759   49.634   102   17.693   67.327\r\n9961.6   0.00  12.19   4.80  55.83  98.65  97.96   4760   49.642   102   17.693   67.336\r\n9962.6   0.00  12.19  71.27  55.83  98.65  97.96   4760   49.642   102   17.693   67.336\r\n9963.6  41.34   0.00  62.58  55.84  98.65  97.96   4761   49.653   102   17.693   67.346\r\n9964.6   0.00  15.65  22.63  55.85  98.65  97.96   4762   49.663   102   17.693   67.356\r\n9965.6   0.00  15.65  62.73  55.85  98.65  97.96   4762   49.663   102   17.693   67.356\r\n9966.6  13.21   0.00   6.21  55.85  98.65  97.96   4763   49.673   102   17.693   67.366\r\n9967.6  13.21   0.00  51.76  55.85  98.65  97.96   4763   49.673   102   17.693   67.366\r\n9968.6  13.21   0.00  91.41  55.85  98.65  97.96   4763   49.673   102   17.693   67.366\r\n9969.6   0.00  14.65  22.41  55.86  98.65  97.96   4764   49.683   102   17.693   67.376\r\n9970.6   0.00  14.65  55.73  55.86  98.65  97.96   4764   49.683   102   17.693   67.376\r\n9971.6   0.00  14.65  92.99  55.86  98.65  97.96   4764   49.683   102   17.693   67.376\r\n9972.6  14.77   0.00  43.61  55.87  98.65  97.96   4765   49.694   102   17.693   67.387\r\n9973.6  14.77   0.00  75.22  55.87  98.65  97.96   4765   49.694   102   17.693   67.387\r\n9974.6   0.00  15.45  10.88  55.88  98.65  97.96   4766   49.704   102   17.693   67.397\r\n9975.6   0.00  15.45  87.55  55.88  98.65  97.96   4766   49.704   102   17.693   67.397\r\n9976.6  15.69   0.00  24.61  55.89  98.65  97.96   4767   49.714   102   17.693   67.407\r\n9977.6  15.69   0.00  71.86  55.89  98.65  97.96   4767   49.714   102   17.693   67.407\r\n9978.6   0.00  15.24   9.49  55.90  98.65  97.96   4768   49.724   102   17.693   67.417\r\n9979.6  99.95   0.00  28.38  56.14  98.65  97.96   4769   49.736   102   17.693   67.429\r\n9980.6  99.95   0.00  65.70  56.14  98.65  97.96   4769   49.736   102   17.693   67.429\r\n9981.6  99.95   0.00  95.80  56.14  98.65  97.96   4769   49.736   102   17.693   67.429\r\n9982.6   0.00  29.92  32.88  56.19  98.65  97.96   4770   49.746   102   17.693   67.439\r\n9983.6   0.00  29.92  38.40  56.19  98.65  97.96   4770   49.746   102   17.693   67.439\r\n9984.6   0.00  29.92  44.35  56.19  98.65  97.96   4770   49.746   102   17.693   67.439\r\n9985.6   0.00  29.92  83.88  56.19  98.65  97.96   4770   49.746   102   17.693   67.439\r\n9986.6  35.26   0.00  25.53  56.19  98.65  97.96   4771   49.756   102   17.693   67.450\r\n9987.6  35.26   0.00  68.72  56.19  98.65  97.96   4771   49.756   102   17.693   67.450\r\n9988.6   0.00  43.72  15.26  56.20  98.65  97.96   4772   49.767   102   17.693   67.461\r\n9989.6  99.89   0.00  22.09  56.31  98.65  97.96   4773   49.779   102   17.693   67.472\r\n9990.6  99.89   0.00  54.24  56.31  98.65  97.96   4773   49.779   102   17.693   67.472\r\n9991.6  99.89   0.00  82.46  56.31  98.65  97.96   4773   49.779   102   17.693   67.472\r\n9992.6   0.00  46.41  35.69  56.31  98.65  97.96   4774   49.788   102   17.693   67.481\r\n9993.6  48.31   0.00   4.72  56.31  98.65  97.96   4775   49.798   102   17.693   67.491\r\n9994.6   0.00  40.77  15.93  56.32  98.65  97.96   4776   49.806   102   17.693   67.499\r\n9995.6   0.00  40.77  70.63  56.32  98.65  97.96   4776   49.806   102   17.693   67.499\r\n9996.6  33.03   0.00  13.27  56.33  98.65  97.96   4777   49.816   102   17.693   67.509\r\n9997.6  33.03   0.00  50.83  56.33  98.65  97.96   4777   49.816   102   17.693   67.509\r\n9998.6  33.03   0.00  81.43  56.33  98.65  97.96   4777   49.816   102   17.693   67.509\r\n9999.6   0.00  40.58  12.93  56.34  98.65  97.96   4778   49.825   102   17.693   67.519\r\n10000.6   0.00  40.58  53.70  56.34  98.65  97.96   4778   49.825   102   17.693   67.519\r\n```\r\n\r\n\r\n### Improve (after adding the `PR`)\r\n```\r\nTimestamp  S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT\r\n9960.4   0.00  51.05  22.32  11.00  98.83  97.39   5603   41.975    56   10.500   52.475\r\n9961.4   0.00  51.05  75.14  11.00  98.83  97.39   5603   41.975    56   10.500   52.475\r\n9962.4  58.93   0.00  40.01  11.01  98.83  97.39   5604   41.981    56   10.500   52.481\r\n9963.4   0.00  44.39  15.53  11.43  98.83  97.39   5605   41.987    56   10.500   52.487\r\n9964.4  59.77   0.00  29.87  11.56  98.83  97.39   5606   41.995    56   10.500   52.495\r\n9965.4  59.77   0.00  84.19  11.56  98.83  97.39   5606   41.995    56   10.500   52.495\r\n9966.4   0.00  30.14  22.77  11.57  98.83  97.39   5607   41.999    56   10.500   52.499\r\n9967.4   0.00  30.14  47.62  11.57  98.83  97.39   5607   41.999    56   10.500   52.499\r\n9968.4   0.00  30.14  59.75  11.57  98.83  97.39   5607   41.999    56   10.500   52.499\r\n9969.4   0.00  30.14  86.03  11.57  98.83  97.39   5607   41.999    56   10.500   52.499\r\n9970.4  39.89   0.00  33.50  11.58  98.83  97.39   5608   42.004    56   10.500   52.503\r\n9971.4  39.89   0.00  69.47  11.58  98.83  97.39   5608   42.004    56   10.500   52.503\r\n9972.4   0.00  50.43   0.00  11.58  98.85  97.39   5609   42.009    56   10.500   52.509\r\n9973.4  53.50   0.00  15.91  11.59  98.85  97.39   5610   42.013    56   10.500   52.513\r\n9974.4  53.50   0.00  91.71  11.59  98.85  97.39   5610   42.013    56   10.500   52.513\r\n9975.4   0.00  28.23  51.00  11.89  98.85  97.39   5611   42.019    56   10.500   52.519\r\n9976.4   0.00  28.23  94.58  11.89  98.85  97.39   5611   42.019    56   10.500   52.519\r\n9977.4  12.88   0.00  51.51  11.97  98.85  97.39   5612   42.023    56   10.500   52.522\r\n9978.4   0.00  38.93  25.16  11.98  98.85  97.39   5613   42.026    56   10.500   52.526\r\n9979.4   0.00  38.93  97.56  11.98  98.85  97.39   5613   42.026    56   10.500   52.526\r\n9980.4   7.42   0.00  44.61  11.99  98.85  97.39   5614   42.029    56   10.500   52.529\r\n9981.4   7.42   0.00  89.16  11.99  98.85  97.39   5614   42.029    56   10.500   52.529\r\n9982.4   0.00   7.38  33.16  12.00  98.85  97.39   5615   42.032    56   10.500   52.532\r\n9983.4   0.00   7.38  98.33  12.00  98.85  97.39   5615   42.032    56   10.500   52.532\r\n9984.4   8.33   0.00  44.37  12.01  98.85  97.39   5616   42.035    56   10.500   52.535\r\n9985.4   8.33   0.00  91.58  12.01  98.85  97.39   5616   42.035    56   10.500   52.535\r\n9986.4   0.00  12.29  74.05  12.01  98.85  97.39   5617   42.038    56   10.500   52.538\r\n9987.4  12.72   0.00  19.85  12.02  98.85  97.39   5618   42.041    56   10.500   52.541\r\n9988.4  12.72   0.00  97.18  12.02  98.85  97.39   5618   42.041    56   10.500   52.541\r\n9989.4   0.00  13.42  46.33  12.03  98.85  97.39   5619   42.044    56   10.500   52.544\r\n9990.4   9.48   0.00   7.58  12.04  98.85  97.39   5620   42.047    56   10.500   52.547\r\n9991.4   9.48   0.00  61.54  12.04  98.85  97.39   5620   42.047    56   10.500   52.547\r\n9992.4   0.00  99.92  49.88  12.34  98.85  97.39   5621   42.055    56   10.500   52.555\r\n9993.4  30.67   0.00  15.47  12.35  98.85  97.39   5622   42.059    56   10.500   52.559\r\n9994.4  30.67   0.00  69.23  12.35  98.85  97.39   5622   42.059    56   10.500   52.559\r\n9995.4   0.00  31.49  14.39  12.35  98.85  97.39   5623   42.063    56   10.500   52.563\r\n9996.4   0.00  31.49  56.58  12.35  98.85  97.39   5623   42.063    56   10.500   52.563\r\n9997.4  83.25   0.00  83.48  12.36  98.85  97.39   5624   42.069    56   10.500   52.569\r\n9998.4   0.00  24.60   9.37  12.37  98.85  97.39   5625   42.073    56   10.500   52.573\r\n9999.4   0.00  24.60  42.22  12.37  98.85  97.39   5625   42.073    56   10.500   52.573\r\n10000.4   0.00  24.60  54.23  12.37  98.85  97.39   5625   42.073    56   10.500   52.573\r\n```\r\n@gianm @drcrallen ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290008635/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290101618","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-290101618","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":290101618,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDEwMTYxOA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T14:09:22Z","updated_at":"2017-03-29T14:09:22Z","author_association":"CONTRIBUTOR","body":"By \"use a different time zone\" do you mean the machine system is on a different time zones, or that the query is in a non-UTC timezone?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290101618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290103601","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-290103601","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":290103601,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDEwMzYwMQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T14:15:48Z","updated_at":"2017-03-29T14:15:48Z","author_association":"CONTRIBUTOR","body":"@drcrallen No all our machines are in UTC. I mean `granularity.timeZone` in the query JSON.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290103601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290132482","html_url":"https://github.com/apache/druid/pull/4127#issuecomment-290132482","issue_url":"https://api.github.com/repos/apache/druid/issues/4127","id":290132482,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDEzMjQ4Mg==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T15:45:55Z","updated_at":"2017-03-29T15:47:22Z","author_association":"MEMBER","body":"faced this on 0.10.0-rc2 also, this needs to be backported to 0.10.0 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290132482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290163892","html_url":"https://github.com/apache/druid/pull/4046#issuecomment-290163892","issue_url":"https://api.github.com/repos/apache/druid/issues/4046","id":290163892,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDE2Mzg5Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T17:32:17Z","updated_at":"2017-03-29T17:32:17Z","author_association":"CONTRIBUTOR","body":"@gianm sometimes queries fail and the error message still does not say exactly what was the cause, that makes tuning difficult.\r\nwhat do you think about the throwing exception approach ( https://github.com/druid-io/druid/pull/3953#issuecomment-281848859 ) so that message is generated where error happens.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290163892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290186755","html_url":"https://github.com/apache/druid/pull/4127#issuecomment-290186755","issue_url":"https://api.github.com/repos/apache/druid/issues/4127","id":290186755,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDE4Njc1NQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T18:44:05Z","updated_at":"2017-03-29T18:44:05Z","author_association":"CONTRIBUTOR","body":"👍  plz backport @nishantmonu51 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290186755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290192589","html_url":"https://github.com/apache/druid/pull/4127#issuecomment-290192589","issue_url":"https://api.github.com/repos/apache/druid/issues/4127","id":290192589,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDE5MjU4OQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T19:03:07Z","updated_at":"2017-03-29T19:03:07Z","author_association":"MEMBER","body":"backported in https://github.com/druid-io/druid/pull/4130","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290192589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290193719","html_url":"https://github.com/apache/druid/issues/3833#issuecomment-290193719","issue_url":"https://api.github.com/repos/apache/druid/issues/3833","id":290193719,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDE5MzcxOQ==","user":{"login":"arpankhagram","id":20059251,"node_id":"MDQ6VXNlcjIwMDU5MjUx","avatar_url":"https://avatars.githubusercontent.com/u/20059251?v=4","gravatar_id":"","url":"https://api.github.com/users/arpankhagram","html_url":"https://github.com/arpankhagram","followers_url":"https://api.github.com/users/arpankhagram/followers","following_url":"https://api.github.com/users/arpankhagram/following{/other_user}","gists_url":"https://api.github.com/users/arpankhagram/gists{/gist_id}","starred_url":"https://api.github.com/users/arpankhagram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arpankhagram/subscriptions","organizations_url":"https://api.github.com/users/arpankhagram/orgs","repos_url":"https://api.github.com/users/arpankhagram/repos","events_url":"https://api.github.com/users/arpankhagram/events{/privacy}","received_events_url":"https://api.github.com/users/arpankhagram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T19:07:06Z","updated_at":"2017-03-29T19:07:06Z","author_association":"NONE","body":"Hi Gianm,\r\n\r\nWe were also facing this issue while performing groupby using V2 when we are keeping the disk spill option.\r\n\r\nWe have remove disk spill option but have not been able to find a proper solution for running large groupBy queries.\r\n\r\n**Data Size** : We are having around 62-65 metrics and 7-8 dimensions in each poll of every 15 mins and around 8 million records every 15 mins. So total there are 30-35 million records (events) every hour. Say we have 8 million network ports (subelements) for which we get performance metrics data every 15 mins.\r\n\r\n**Requirements** : We have requirement to provide a feed with 24 hours data with few customized metrics and customized functions. Because of involvement of customized functions, we thought of doing them after getting the aggregated data through groupBy query. So the result of first groupBy query itself is 8 million where we divide the data into clean and dirty ( we have to fire another groupBy query individually for those dirty as part of customized functions and 1 combined query for those cleaned elements). Overall, it included a lot of queries being fired on Broker.\r\n\r\n**Issues**\r\nWe are struggling to find a tuned parameters for our Historical node and Broker node - we have been facing a lot of issues.\r\n\r\n1. Initially all our queries were getting timedout , when we reffered the documentation it says default timeout is 0 unlimited but it;s not behaving that way so we had to set the query timeout specifically. The exception grouping resource exhausted does not specifically help to identify what is the exact cause of the issue.\r\n\r\n2. After setting the query timeout as 10 mins, most of our queries are not able to complete within the time frame.\r\n\r\n3. We also wanted to fire multiple queries simultaneously but as soon as we tried to increase the connections and fire multiple queries simultaneously it was all started breaking after few mins.\r\n\r\n**Current configuration Historical**\r\nRAM - 64 GB\r\nCore - 32 (dual core)\r\nOS - Linux OEL6\r\n\r\nHistorical\r\n=======\r\nruntime.properties\r\ndruid.service=druid/historical\r\ndruid.port=8083\r\ndruid.server.tier=h69\r\n# HTTP server threads\r\ndruid.server.http.numThreads=40\r\n# Processing threads and buffers\r\n#druid.processing.buffer.sizeBytes=536870912\r\ndruid.processing.buffer.sizeBytes=1500000000\r\ndruid.processing.numThreads=19\r\ndruid.processing.numMergeBuffers=5\r\n# Segment storage\r\ndruid.segmentCache.locations=[{\"path\":\"var/druid/segment-cache\",\"maxSize\"\\:900000000000}]\r\ndruid.server.maxSize=900000000000\r\ndruid.historical.cache.unCacheable=[\"groupBy\"]\r\n# Query cache\r\ndruid.historical.cache.useCache=true\r\ndruid.historical.cache.populateCache=true\r\ndruid.cache.type=local\r\ndruid.cache.sizeInBytes=2000000000\r\n \r\n\r\njvm.properties\r\n-server\r\n-Xms1g\r\n-Xmx15g\r\n-XX:NewSize=4g\r\n-XX:MaxNewSize=4g\r\n-XX:MaxDirectMemorySize=35g\r\n-XX:+UseConcMarkSweepGC\r\n-XX:+PrintGCDetails\r\n-XX:+PrintGCTimeStamps\r\n-Duser.timezone=UTC\r\n-Dfile.encoding=UTF-8\r\n-Djava.io.tmpdir=var/tmp\r\n-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager\r\n-Dcom.sun.management.jmxremote.port=7092\r\n-Dcom.sun.management.jmxremote.authenticate=false\r\n-Dcom.sun.management.jmxremote.ssl=false\r\n\r\n\r\nWe were trying to find out what is going wrong with respect to memory settings through JMX port we were not able to track MaxDirectMemory anywhere.\r\n\r\nCan you please help us in providing druid with correct configuration and why it;s behaving weird.\r\n--------------------------------\r\n\r\nWe upgraded to latest snapshot codebase around 15-20 days ago and we are going to try now once with the latest rc2 Release candidate.\r\nRefer - https://github.com/druid-io/druid/issues/4025","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290193719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290194601","html_url":"https://github.com/apache/druid/issues/4129#issuecomment-290194601","issue_url":"https://api.github.com/repos/apache/druid/issues/4129","id":290194601,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDE5NDYwMQ==","user":{"login":"arpankhagram","id":20059251,"node_id":"MDQ6VXNlcjIwMDU5MjUx","avatar_url":"https://avatars.githubusercontent.com/u/20059251?v=4","gravatar_id":"","url":"https://api.github.com/users/arpankhagram","html_url":"https://github.com/arpankhagram","followers_url":"https://api.github.com/users/arpankhagram/followers","following_url":"https://api.github.com/users/arpankhagram/following{/other_user}","gists_url":"https://api.github.com/users/arpankhagram/gists{/gist_id}","starred_url":"https://api.github.com/users/arpankhagram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arpankhagram/subscriptions","organizations_url":"https://api.github.com/users/arpankhagram/orgs","repos_url":"https://api.github.com/users/arpankhagram/repos","events_url":"https://api.github.com/users/arpankhagram/events{/privacy}","received_events_url":"https://api.github.com/users/arpankhagram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T19:10:21Z","updated_at":"2017-03-29T19:10:21Z","author_association":"NONE","body":"Hi @akashdw  We have been facing similar issues with groupBy V2 where tuning is becoming difficult with similar message for most of the issues - i have replied @gianm about our problems - https://github.com/druid-io/druid/issues/3833. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290194601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290198563","html_url":"https://github.com/apache/druid/issues/4132#issuecomment-290198563","issue_url":"https://api.github.com/repos/apache/druid/issues/4132","id":290198563,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDE5ODU2Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T19:25:51Z","updated_at":"2017-03-29T19:25:51Z","author_association":"CONTRIBUTOR","body":"@arpankhagram Where we are going is for Druid just to have columns with types. if you disable rollup in Druid, you can you list all your columns as dimensions, and you can perform filters/aggregations/other functions over those columns. What you are asking for might already be possible, I just have to double check.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290198563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290225551","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-290225551","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":290225551,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDIyNTU1MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T21:04:57Z","updated_at":"2017-03-29T21:04:57Z","author_association":"MEMBER","body":"@drcrallen \r\n\r\n> These change make sense overall. There is a signature change on Query which I'm scratching my brain to see if is really needed.\r\n\r\n> It feels like something like the query tool chest should be ensuring the query is in the right kind of shape for being run, and I'm not convinced having the runners modify the Query object is the right kind of pattern in the long run.\r\n\r\nDidn't clearly understand, could you please elaborate?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290225551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290231091","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-290231091","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":290231091,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDIzMTA5MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T21:26:35Z","updated_at":"2017-03-29T21:26:35Z","author_association":"CONTRIBUTOR","body":"@leventov what I mean is that if you look at the implementations of `QueryRunner`, they tend to not modify the query object EXCEPT a few cases where a special function in the `QueryToolChest` does modification.\r\n\r\nAs such, I'm questioning if modification of the query in arbitrary `QueryRunner`s *AND* in the `QueryToolChest` makes sense. It feels like a bad precedent to set. I suggest looking into making the `QueryToolChest` the place to create the metrics items and attach them to the query, and the query runners simply consume the set values.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290231091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290236052","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-290236052","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":290236052,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDIzNjA1Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T21:45:45Z","updated_at":"2017-03-29T21:45:45Z","author_association":"MEMBER","body":"@drcrallen query object is already changed in the same way in some QueryRunners, e. g. `FinalizeResultsQueryRunner` and `GroupByMergingQueryRunnerV2`, via `withOverriddenContext()`.\r\n\r\nGenerally when I was preparing this PR, I was thinking that currently the `Query` abstraction is overloaded, and should be split into:\r\n\r\n 1. `Query` -- set of configs that affect the result data. Cachable.\r\n 2. `UniqueQuery`/`QueryInstance`/? -- `Query` + identity of the query sent to the Druid cluster, i. e. `queryId`. Maybe don't need to be a separate abstraction, and should be merged with `Query`, or with `QueryWithContext`?\r\n 3. `QueryWithContext`/`RuntimeQuery`/`RichQuery`/? - `UniqueQuery` + something attached to it, that makes sense only during the query execution within the Druid cluster. I. e. queryMetrics and most things, Query.context property is currently used for, except (maybe) queryId.\r\n\r\nThen `QueryRunner.run()` accepts `QueryWithContext` and is free to modify it, but not the underlying `Query`.\r\n\r\nBut anyway, I think it shouldn't be done as part of this PR, for compatibility reasons it might need to be delayed to 0.11.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290236052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290237328","html_url":"https://github.com/apache/druid/issues/3301#issuecomment-290237328","issue_url":"https://api.github.com/repos/apache/druid/issues/3301","id":290237328,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDIzNzMyOA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T21:50:24Z","updated_at":"2017-03-29T21:50:24Z","author_association":"CONTRIBUTOR","body":"@leventov yes, thank you","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290237328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290276310","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-290276310","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":290276310,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI3NjMxMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T01:37:13Z","updated_at":"2017-03-30T01:37:13Z","author_association":"MEMBER","body":"Please also change the title of the PR. Originally instead of completely changing the contents of the PR it was better to close this PR and create a new one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290276310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290280326","html_url":"https://github.com/apache/druid/issues/3833#issuecomment-290280326","issue_url":"https://api.github.com/repos/apache/druid/issues/3833","id":290280326,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI4MDMyNg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T02:04:29Z","updated_at":"2017-03-30T02:04:29Z","author_association":"CONTRIBUTOR","body":"Hi @arpankhagram, I'm looking at this problem.\r\n\r\n> 3. We also wanted to fire multiple queries simultaneously but as soon as we tried to increase the connections and fire multiple queries simultaneously it was all started breaking after few mins.\r\n\r\nWould you share more details about this problem?\r\n\r\nAlso, it would be great if you open a new issue for your problem.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290280326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290287681","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-290287681","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":290287681,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI4NzY4MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T02:55:01Z","updated_at":"2017-03-30T02:55:01Z","author_association":"CONTRIBUTOR","body":"Maybe due to the summer time. Would you try with ```CEST```?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290287681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290289076","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-290289076","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":290289076,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI4OTA3Ng==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T03:05:16Z","updated_at":"2017-03-30T03:05:16Z","author_association":"CONTRIBUTOR","body":"@jihoonson `CEST` always returns `Z` so it seems to have something to do with summer time. But with `CET` it's completely random which days in the result have a different timezone each time I run the exact same report. My guess is some time instance (I have no idea how that code works) is being reused somewhere without resetting the timezone properly.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290289076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290292850","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-290292850","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":290292850,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI5Mjg1MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T03:35:19Z","updated_at":"2017-03-30T03:35:19Z","author_association":"CONTRIBUTOR","body":"Looks weird.. When I test using almost same query on my local cluster, I god the following result which looks valid (https://github.com/JodaOrg/joda-time/blob/master/src/main/java/org/joda/time/DateTimeZone.java#L62).\r\n```json\r\n...\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-27T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2484\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-28T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2517\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-29T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2527\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-30T00:00:00.000+02:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2578\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-31T00:00:00.000+02:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2409\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-04-01T00:00:00.000+02:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2454\r\n  }\r\n},\r\n...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290292850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290300265","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-290300265","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":290300265,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDMwMDI2NQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T04:37:22Z","updated_at":"2017-03-30T04:37:22Z","author_association":"CONTRIBUTOR","body":"@jihoonson maybe try it on the exact same dates as my query?\r\n\r\nI uploaded 10 runs of the exact same query here so you can see the randomness: https://gist.github.com/erikdubbelboer/43b18dbe84d128609c3c1eb11ffdc066\r\n\r\nSomewhat related: isn't it weird that when I run a query in `CET` I get result dates in `UTC`? Doesn't it make more sense to return the timestamps in `CET` then as well?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290300265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290300985","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-290300985","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":290300985,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDMwMDk4NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T04:43:50Z","updated_at":"2017-03-30T04:43:50Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer yeah, it's also weird. \r\nThe only difference of my query was the interval. I'll try with the exactly same one.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290300985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290327585","html_url":"https://github.com/apache/druid/pull/3860#issuecomment-290327585","issue_url":"https://api.github.com/repos/apache/druid/issues/3860","id":290327585,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDMyNzU4NQ==","user":{"login":"dkhwangbo","id":13585249,"node_id":"MDQ6VXNlcjEzNTg1MjQ5","avatar_url":"https://avatars.githubusercontent.com/u/13585249?v=4","gravatar_id":"","url":"https://api.github.com/users/dkhwangbo","html_url":"https://github.com/dkhwangbo","followers_url":"https://api.github.com/users/dkhwangbo/followers","following_url":"https://api.github.com/users/dkhwangbo/following{/other_user}","gists_url":"https://api.github.com/users/dkhwangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/dkhwangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkhwangbo/subscriptions","organizations_url":"https://api.github.com/users/dkhwangbo/orgs","repos_url":"https://api.github.com/users/dkhwangbo/repos","events_url":"https://api.github.com/users/dkhwangbo/events{/privacy}","received_events_url":"https://api.github.com/users/dkhwangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T07:36:35Z","updated_at":"2017-03-30T07:37:37Z","author_association":"CONTRIBUTOR","body":"@fjy @b-slim @gianm Anything else?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290327585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290411794","html_url":"https://github.com/apache/druid/pull/3860#issuecomment-290411794","issue_url":"https://api.github.com/repos/apache/druid/issues/3860","id":290411794,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDQxMTc5NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T13:33:41Z","updated_at":"2017-03-30T13:33:41Z","author_association":"CONTRIBUTOR","body":"@dkhwangbo thanks for contribution ! this looks good to me ! good job !","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290411794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290457492","html_url":"https://github.com/apache/druid/pull/4134#issuecomment-290457492","issue_url":"https://api.github.com/repos/apache/druid/issues/4134","id":290457492,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDQ1NzQ5Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T16:00:16Z","updated_at":"2017-03-30T16:00:16Z","author_association":"CONTRIBUTOR","body":"Travis failure seems not related to this patch. All tests passed in my local machine.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290457492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290556688","html_url":"https://github.com/apache/druid/issues/4137#issuecomment-290556688","issue_url":"https://api.github.com/repos/apache/druid/issues/4137","id":290556688,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU1NjY4OA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T21:55:36Z","updated_at":"2017-03-30T21:55:36Z","author_association":"MEMBER","body":"do you have any default rule setup ? I think the problem is that for the outdated segment default rule will be applicable since the segment it is not within the last day and if the default rule not a load rule then the segment may not be loaded and task will not finish.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290556688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290557280","html_url":"https://github.com/apache/druid/issues/4137#issuecomment-290557280","issue_url":"https://api.github.com/repos/apache/druid/issues/4137","id":290557280,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU1NzI4MA==","user":{"login":"gvsmirnov","id":1493464,"node_id":"MDQ6VXNlcjE0OTM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1493464?v=4","gravatar_id":"","url":"https://api.github.com/users/gvsmirnov","html_url":"https://github.com/gvsmirnov","followers_url":"https://api.github.com/users/gvsmirnov/followers","following_url":"https://api.github.com/users/gvsmirnov/following{/other_user}","gists_url":"https://api.github.com/users/gvsmirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/gvsmirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gvsmirnov/subscriptions","organizations_url":"https://api.github.com/users/gvsmirnov/orgs","repos_url":"https://api.github.com/users/gvsmirnov/repos","events_url":"https://api.github.com/users/gvsmirnov/events{/privacy}","received_events_url":"https://api.github.com/users/gvsmirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T21:58:19Z","updated_at":"2017-03-30T21:58:19Z","author_association":"CONTRIBUTOR","body":"@pjain1 the only rule change from default is in the ticket. The default rule's load was changed from forever to `P1D`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290557280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290564610","html_url":"https://github.com/apache/druid/issues/4137#issuecomment-290564610","issue_url":"https://api.github.com/repos/apache/druid/issues/4137","id":290564610,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU2NDYxMA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T22:35:08Z","updated_at":"2017-03-30T22:35:31Z","author_association":"MEMBER","body":"hmm..tasks can be configured to drop such outdated message see `lateMessageRejectionPeriod ` in `KafkaSupervisorIOConfig` section [here](http://druid.io/docs/latest/development/extensions-core/kafka-ingestion.html). Assumption here is that the late message will be indexed by a batch pipeline eventually.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290564610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290574860","html_url":"https://github.com/apache/druid/issues/3879#issuecomment-290574860","issue_url":"https://api.github.com/repos/apache/druid/issues/3879","id":290574860,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU3NDg2MA==","user":{"login":"msn","id":74373,"node_id":"MDQ6VXNlcjc0Mzcz","avatar_url":"https://avatars.githubusercontent.com/u/74373?v=4","gravatar_id":"","url":"https://api.github.com/users/msn","html_url":"https://github.com/msn","followers_url":"https://api.github.com/users/msn/followers","following_url":"https://api.github.com/users/msn/following{/other_user}","gists_url":"https://api.github.com/users/msn/gists{/gist_id}","starred_url":"https://api.github.com/users/msn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msn/subscriptions","organizations_url":"https://api.github.com/users/msn/orgs","repos_url":"https://api.github.com/users/msn/repos","events_url":"https://api.github.com/users/msn/events{/privacy}","received_events_url":"https://api.github.com/users/msn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T23:36:07Z","updated_at":"2017-03-30T23:36:16Z","author_association":"NONE","body":"Think I might be hitting this too. org.apache.hadoop.mapred.LocalJobRunner bombs out based on a java.lang.NumberFormatException: For input string: \"\\N\"","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290574860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290579459","html_url":"https://github.com/apache/druid/pull/4079#issuecomment-290579459","issue_url":"https://api.github.com/repos/apache/druid/issues/4079","id":290579459,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU3OTQ1OQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T00:06:44Z","updated_at":"2017-03-31T00:06:44Z","author_association":"CONTRIBUTOR","body":"io/druid/query/aggregation/distinctcount/DistinctCountBufferAggregator.java:97\r\nProbably forget **mutableBitmapCollection** (used during aggregate())","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290579459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290579895","html_url":"https://github.com/apache/druid/pull/4079#issuecomment-290579895","issue_url":"https://api.github.com/repos/apache/druid/issues/4079","id":290579895,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU3OTg5NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T00:09:36Z","updated_at":"2017-03-31T00:09:36Z","author_association":"MEMBER","body":"@egor-ryashin it always has the same class: `Int2ObjectOpenHashMap`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290579895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290594338","html_url":"https://github.com/apache/druid/pull/4135#issuecomment-290594338","issue_url":"https://api.github.com/repos/apache/druid/issues/4135","id":290594338,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU5NDMzOA==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T01:56:58Z","updated_at":"2017-03-31T01:56:58Z","author_association":"MEMBER","body":"`Timeout Problem` happened again... Somebody could help me to rerun the `Travis` job? :(\r\n\r\n```\r\njava.lang.Exception: test timed out after 60000 milliseconds\r\n\tat java.lang.Thread.sleep(Native Method)\r\n\tat io.druid.server.coordinator.DruidCoordinatorTest.testCoordinatorRun(DruidCoordinatorTest.java:375)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290594338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290618935","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-290618935","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":290618935,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDYxODkzNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T05:23:03Z","updated_at":"2017-03-31T05:23:03Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer I've tested with the same interval, but the result was correct as shown below. Here are my [ingestionSpec](https://gist.github.com/jihoonson/a5ef400e3e2e502d5e5de9ebfc7c56f9) and [query](https://gist.github.com/jihoonson/f1f2d26df406e681f019ebe3e61c0c3c).\r\n```json\r\n[ {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-15T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2463\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-16T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2490\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-17T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2513\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-18T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2511\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-19T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2449\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-20T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2486\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-21T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2493\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-22T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2487\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-23T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2631\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-24T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2518\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-25T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2511\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-26T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2437\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-27T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2484\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"1998-03-28T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"countSum\" : 2517\r\n  }\r\n} ]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290618935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290621429","html_url":"https://github.com/apache/druid/pull/4135#issuecomment-290621429","issue_url":"https://api.github.com/repos/apache/druid/issues/4135","id":290621429,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDYyMTQyOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T05:41:58Z","updated_at":"2017-03-31T05:41:58Z","author_association":"CONTRIBUTOR","body":"LGTM. Thanks @asdf2014!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290621429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290626379","html_url":"https://github.com/apache/druid/issues/4137#issuecomment-290626379","issue_url":"https://api.github.com/repos/apache/druid/issues/4137","id":290626379,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDYyNjM3OQ==","user":{"login":"iNikem","id":3010154,"node_id":"MDQ6VXNlcjMwMTAxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3010154?v=4","gravatar_id":"","url":"https://api.github.com/users/iNikem","html_url":"https://github.com/iNikem","followers_url":"https://api.github.com/users/iNikem/followers","following_url":"https://api.github.com/users/iNikem/following{/other_user}","gists_url":"https://api.github.com/users/iNikem/gists{/gist_id}","starred_url":"https://api.github.com/users/iNikem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iNikem/subscriptions","organizations_url":"https://api.github.com/users/iNikem/orgs","repos_url":"https://api.github.com/users/iNikem/repos","events_url":"https://api.github.com/users/iNikem/events{/privacy}","received_events_url":"https://api.github.com/users/iNikem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T06:14:15Z","updated_at":"2017-03-31T06:14:15Z","author_association":"NONE","body":"But this is counterintuitive, that Historical node's load rule breaks segment hand-off from indexing node. I mean, one would assume that the responsibility of indexing node is to prepare the segment ready and signal coordinator about it. If some or any historicals refuse to load that segment due to their rules, well, then this segment is not currently needed and it can live quietly in deep storage. Why block the hand-off?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290626379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290633647","html_url":"https://github.com/apache/druid/pull/4139#issuecomment-290633647","issue_url":"https://api.github.com/repos/apache/druid/issues/4139","id":290633647,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDYzMzY0Nw==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T07:02:43Z","updated_at":"2017-03-31T07:02:43Z","author_association":"MEMBER","body":"It's weird! In my `branch`, it works. :sweat:\r\nhttps://github.com/asdf2014/druid/commits/travis [![Build Status](https://travis-ci.org/asdf2014/druid.svg?branch=travis)](https://travis-ci.org/asdf2014/druid)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290633647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290633843","html_url":"https://github.com/apache/druid/issues/3599#issuecomment-290633843","issue_url":"https://api.github.com/repos/apache/druid/issues/3599","id":290633843,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDYzMzg0Mw==","user":{"login":"uditsrn28","id":10800566,"node_id":"MDQ6VXNlcjEwODAwNTY2","avatar_url":"https://avatars.githubusercontent.com/u/10800566?v=4","gravatar_id":"","url":"https://api.github.com/users/uditsrn28","html_url":"https://github.com/uditsrn28","followers_url":"https://api.github.com/users/uditsrn28/followers","following_url":"https://api.github.com/users/uditsrn28/following{/other_user}","gists_url":"https://api.github.com/users/uditsrn28/gists{/gist_id}","starred_url":"https://api.github.com/users/uditsrn28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uditsrn28/subscriptions","organizations_url":"https://api.github.com/users/uditsrn28/orgs","repos_url":"https://api.github.com/users/uditsrn28/repos","events_url":"https://api.github.com/users/uditsrn28/events{/privacy}","received_events_url":"https://api.github.com/users/uditsrn28/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T07:03:52Z","updated_at":"2017-03-31T07:03:52Z","author_association":"NONE","body":"Yeah we definitely need `discoverDimensions` feature. I am stuck due to this. Have some predefined fields and some un defined ones. Cant ingest all the dimensions using dimension less schema. `useFieldDiscovery` is one of the powerful feature of druid.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290633843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290635094","html_url":"https://github.com/apache/druid/issues/3599#issuecomment-290635094","issue_url":"https://api.github.com/repos/apache/druid/issues/3599","id":290635094,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDYzNTA5NA==","user":{"login":"dhuadaar","id":14878279,"node_id":"MDQ6VXNlcjE0ODc4Mjc5","avatar_url":"https://avatars.githubusercontent.com/u/14878279?v=4","gravatar_id":"","url":"https://api.github.com/users/dhuadaar","html_url":"https://github.com/dhuadaar","followers_url":"https://api.github.com/users/dhuadaar/followers","following_url":"https://api.github.com/users/dhuadaar/following{/other_user}","gists_url":"https://api.github.com/users/dhuadaar/gists{/gist_id}","starred_url":"https://api.github.com/users/dhuadaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dhuadaar/subscriptions","organizations_url":"https://api.github.com/users/dhuadaar/orgs","repos_url":"https://api.github.com/users/dhuadaar/repos","events_url":"https://api.github.com/users/dhuadaar/events{/privacy}","received_events_url":"https://api.github.com/users/dhuadaar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T07:11:22Z","updated_at":"2017-03-31T07:11:22Z","author_association":"NONE","body":"Is there any development in pipeline on this issue or workaround. Even I am stuck due to this issue. Mentioning a `spatialDimension` is dropping all other dimensions I was expecting it to gather.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290635094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290643694","html_url":"https://github.com/apache/druid/issues/4140#issuecomment-290643694","issue_url":"https://api.github.com/repos/apache/druid/issues/4140","id":290643694,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY0MzY5NA==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T07:57:27Z","updated_at":"2017-03-31T07:57:27Z","author_association":"MEMBER","body":"Is it could due to `FileSystem` didn't close the stream?\r\n\r\n`final FileSystem fs = path.getFileSystem(hadoopConfig);`\r\n\r\n(https://github.com/druid-io/druid/blob/master/extensions-core/hdfs-storage/src/main/java/io/druid/storage/hdfs/tasklog/HdfsTaskLogs.java#L63)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290643694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290646473","html_url":"https://github.com/apache/druid/issues/4140#issuecomment-290646473","issue_url":"https://api.github.com/repos/apache/druid/issues/4140","id":290646473,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY0NjQ3Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T08:11:04Z","updated_at":"2017-03-31T08:11:04Z","author_association":"CONTRIBUTOR","body":"Seems you need more memory. The first exception means writing on hdfs failed due to insufficient memory, and it looks to cause the second exception.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290646473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290648884","html_url":"https://github.com/apache/druid/issues/4140#issuecomment-290648884","issue_url":"https://api.github.com/repos/apache/druid/issues/4140","id":290648884,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY0ODg4NA==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T08:22:46Z","updated_at":"2017-03-31T08:22:46Z","author_association":"MEMBER","body":"@jihoonson You are right, we are checking the `HDFS`. I close the issues.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290648884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290732579","html_url":"https://github.com/apache/druid/pull/4139#issuecomment-290732579","issue_url":"https://api.github.com/repos/apache/druid/issues/4139","id":290732579,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDczMjU3OQ==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T14:46:58Z","updated_at":"2017-03-31T14:46:58Z","author_association":"MEMBER","body":"@drcrallen Because changing the `.mavenrc` file need the `sudo` permission.\r\n```\r\nbefore_install: sudo echo \"MAVEN_OPTS='-Xmx2048m -Xms1024m'\" > ~/.mavenrc\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290732579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290733615","html_url":"https://github.com/apache/druid/pull/4139#issuecomment-290733615","issue_url":"https://api.github.com/repos/apache/druid/issues/4139","id":290733615,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDczMzYxNQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T14:50:50Z","updated_at":"2017-03-31T14:50:50Z","author_association":"CONTRIBUTOR","body":"We (administrators) should be able to add environment variables to the build. Is the reason for the expanded heap so that tests can run in parallel?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290733615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290734612","html_url":"https://github.com/apache/druid/pull/4139#issuecomment-290734612","issue_url":"https://api.github.com/repos/apache/druid/issues/4139","id":290734612,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDczNDYxMg==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T14:54:33Z","updated_at":"2017-03-31T14:54:33Z","author_association":"MEMBER","body":"Yeah, the default resource of `Travis` is few, i think it may be the cause of the task often` Timeout`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290734612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290743093","html_url":"https://github.com/apache/druid/pull/4139#issuecomment-290743093","issue_url":"https://api.github.com/repos/apache/druid/issues/4139","id":290743093,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDc0MzA5Mw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T15:24:06Z","updated_at":"2017-03-31T15:24:06Z","author_association":"CONTRIBUTOR","body":"Sudo on echo does not do what you are wanting. This needs thorough testing before acceptance.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290743093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290746108","html_url":"https://github.com/apache/druid/pull/4139#issuecomment-290746108","issue_url":"https://api.github.com/repos/apache/druid/issues/4139","id":290746108,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDc0NjEwOA==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T15:34:17Z","updated_at":"2017-03-31T15:34:17Z","author_association":"MEMBER","body":"I think so, maybe my assumption has some problem.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290746108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290780150","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-290780150","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":290780150,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDc4MDE1MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T17:44:11Z","updated_at":"2017-03-31T17:44:11Z","author_association":"CONTRIBUTOR","body":"@leventov It appears that QueryMetrics is added to Query so that it could be passed around to various runners... how do you feel about changing `QueryRunner.run(..)` to accept `ResponseContext` instead of `Map<String, Object>` and keep QueryMetrics in `ResponseContext` . ResponseContext might look like...\r\n\r\n```\r\nResponseContext {\r\n  QueryMetrics queryMetrics,\r\n  Map<String, Object> others, //current code context map\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290780150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290801546","html_url":"https://github.com/apache/druid/issues/3599#issuecomment-290801546","issue_url":"https://api.github.com/repos/apache/druid/issues/3599","id":290801546,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDgwMTU0Ng==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T19:06:32Z","updated_at":"2017-03-31T19:06:32Z","author_association":"CONTRIBUTOR","body":"Thanks for the feedback all, AFAIK this hasn't been implemented yet. Will mark for next release to see if it gets more attention. Anyone here is free to contribute this patch!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290801546/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290803312","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-290803312","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":290803312,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDgwMzMxMg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T19:14:03Z","updated_at":"2017-03-31T19:59:42Z","author_association":"MEMBER","body":"@himanshug as we discuss in #4113, responseContext shouldn't be used to pass anything to downstream query runners. `Query.withOverriddenContext()/Query.getContext()` should be used for that, it's a part of `Query` object. So I made `QueryMetrics` a part of `Query` object too.\r\n\r\nOn the other hand, the Query abstraction should probably be refactored into `Query` and `QueryWithContext`: https://github.com/druid-io/druid/pull/4131#issuecomment-290236052. But anyway, not as part of this PR and not in Druid 0.10.1.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290803312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290816719","html_url":"https://github.com/apache/druid/pull/1998#issuecomment-290816719","issue_url":"https://api.github.com/repos/apache/druid/issues/1998","id":290816719,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDgxNjcxOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T20:07:48Z","updated_at":"2017-03-31T20:07:48Z","author_association":"CONTRIBUTOR","body":"@guobingkun @himanshug \r\n\r\nAre there any plans to revive this PR? Looks like it was close to getting merged.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290816719/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290862390","html_url":"https://github.com/apache/druid/pull/4116#issuecomment-290862390","issue_url":"https://api.github.com/repos/apache/druid/issues/4116","id":290862390,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDg2MjM5MA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T23:27:56Z","updated_at":"2017-03-31T23:27:56Z","author_association":"CONTRIBUTOR","body":"Timeout issue closing and opening.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290862390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/290895425","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-290895425","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":290895425,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDg5NTQyNQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-01T04:58:15Z","updated_at":"2017-04-01T04:58:15Z","author_association":"CONTRIBUTOR","body":"We create segments per day with a hourly granularity: [ingestion.json](https://gist.github.com/erikdubbelboer/7652a3238c01609332902d56a18a7f5c)\r\nAlso maybe the year matters as your data is still in 1998.\r\n\r\nHow can I help to find this bug using our cluster?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/290895425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291120101","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-291120101","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":291120101,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTEyMDEwMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-03T11:45:57Z","updated_at":"2017-04-03T11:45:57Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer I've tested after adjusting the timestamp of my data and changing the ingestionSpec accordingly, but got the correct result like below. \r\n```json\r\n[ {\r\n...\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"2017-03-22T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"quantitySum\" : 62781,\r\n    \"countSum\" : 2465\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"2017-03-23T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"quantitySum\" : 65568,\r\n    \"countSum\" : 2579\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"2017-03-24T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"quantitySum\" : 63920,\r\n    \"countSum\" : 2474\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"2017-03-25T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"quantitySum\" : 64564,\r\n    \"countSum\" : 2536\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"2017-03-26T00:00:00.000+01:00\",\r\n  \"event\" : {\r\n    \"quantitySum\" : 63360,\r\n    \"countSum\" : 2490\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"2017-03-27T00:00:00.000+02:00\",\r\n  \"event\" : {\r\n    \"quantitySum\" : 62833,\r\n    \"countSum\" : 2439\r\n  }\r\n}, {\r\n  \"version\" : \"v1\",\r\n  \"timestamp\" : \"2017-03-28T00:00:00.000+02:00\",\r\n  \"event\" : {\r\n    \"quantitySum\" : 62084,\r\n    \"countSum\" : 2434\r\n  }\r\n} ]\r\n```\r\n\r\nMaybe there are some problems with your configurations or data. \r\nIf you can, please share your configurations here. Also, if possible, please share any small snippet of your data.\r\nIt will be more helpful because other people can also have a chance to help you.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291120101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291233914","html_url":"https://github.com/apache/druid/pull/4116#issuecomment-291233914","issue_url":"https://api.github.com/repos/apache/druid/issues/4116","id":291233914,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTIzMzkxNA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-03T18:38:10Z","updated_at":"2017-04-03T18:38:10Z","author_association":"CONTRIBUTOR","body":"👍 after Travis","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291233914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291349681","html_url":"https://github.com/apache/druid/pull/4134#issuecomment-291349681","issue_url":"https://api.github.com/repos/apache/druid/issues/4134","id":291349681,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTM0OTY4MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T00:48:24Z","updated_at":"2017-04-04T00:48:24Z","author_association":"CONTRIBUTOR","body":"@leventov, thanks. I've addressed your comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291349681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291350113","html_url":"https://github.com/apache/druid/pull/4143#issuecomment-291350113","issue_url":"https://api.github.com/repos/apache/druid/issues/4143","id":291350113,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTM1MDExMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T00:49:31Z","updated_at":"2017-04-04T00:49:31Z","author_association":"CONTRIBUTOR","body":"LGTM!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291350113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291380544","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-291380544","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":291380544,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTM4MDU0NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T02:58:50Z","updated_at":"2017-04-04T02:58:50Z","author_association":"MEMBER","body":"@himanshug do you have other comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291380544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291419278","html_url":"https://github.com/apache/druid/issues/4126#issuecomment-291419278","issue_url":"https://api.github.com/repos/apache/druid/issues/4126","id":291419278,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTQxOTI3OA==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T07:36:53Z","updated_at":"2017-04-04T07:36:53Z","author_association":"CONTRIBUTOR","body":"@jihoonson that is strange. Did you run the query multiple times?\r\n\r\nHere is part of our config, the ingestion spec, and some example data: https://gist.github.com/erikdubbelboer/7652a3238c01609332902d56a18a7f5c","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291419278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291589885","html_url":"https://github.com/apache/druid/issues/4132#issuecomment-291589885","issue_url":"https://api.github.com/repos/apache/druid/issues/4132","id":291589885,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTU4OTg4NQ==","user":{"login":"arpankhagram","id":20059251,"node_id":"MDQ6VXNlcjIwMDU5MjUx","avatar_url":"https://avatars.githubusercontent.com/u/20059251?v=4","gravatar_id":"","url":"https://api.github.com/users/arpankhagram","html_url":"https://github.com/arpankhagram","followers_url":"https://api.github.com/users/arpankhagram/followers","following_url":"https://api.github.com/users/arpankhagram/following{/other_user}","gists_url":"https://api.github.com/users/arpankhagram/gists{/gist_id}","starred_url":"https://api.github.com/users/arpankhagram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arpankhagram/subscriptions","organizations_url":"https://api.github.com/users/arpankhagram/orgs","repos_url":"https://api.github.com/users/arpankhagram/repos","events_url":"https://api.github.com/users/arpankhagram/events{/privacy}","received_events_url":"https://api.github.com/users/arpankhagram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T18:26:21Z","updated_at":"2017-04-04T18:26:50Z","author_association":"NONE","body":"Hi @fjy , Did you get anything around this ? The requirement i have is to run lastValue aggregation on specific dimension (which in our case is String metric)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291589885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291592355","html_url":"https://github.com/apache/druid/issues/3833#issuecomment-291592355","issue_url":"https://api.github.com/repos/apache/druid/issues/3833","id":291592355,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTU5MjM1NQ==","user":{"login":"arpankhagram","id":20059251,"node_id":"MDQ6VXNlcjIwMDU5MjUx","avatar_url":"https://avatars.githubusercontent.com/u/20059251?v=4","gravatar_id":"","url":"https://api.github.com/users/arpankhagram","html_url":"https://github.com/arpankhagram","followers_url":"https://api.github.com/users/arpankhagram/followers","following_url":"https://api.github.com/users/arpankhagram/following{/other_user}","gists_url":"https://api.github.com/users/arpankhagram/gists{/gist_id}","starred_url":"https://api.github.com/users/arpankhagram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arpankhagram/subscriptions","organizations_url":"https://api.github.com/users/arpankhagram/orgs","repos_url":"https://api.github.com/users/arpankhagram/repos","events_url":"https://api.github.com/users/arpankhagram/events{/privacy}","received_events_url":"https://api.github.com/users/arpankhagram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T18:35:05Z","updated_at":"2017-04-04T18:35:05Z","author_association":"NONE","body":"Hi @jihoonson The issue we were having was similar to what you have been discussing on #4134 - we earlier thought default value as 0 is no timeout and it waits for infinite time that seems not to be working as per our understanding so we decided to pass query timeout value in query context to set the actual timeout.\r\n\r\nAlso we were having very large filter in the query which was probably making the query very slow ( we were putting around 0.1 million filters for some of the queries.\r\n\r\n@gianm  Is this issue related to disk spill planned to be fixed in this release 0.10 ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291592355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291628474","html_url":"https://github.com/apache/druid/pull/4143#issuecomment-291628474","issue_url":"https://api.github.com/repos/apache/druid/issues/4143","id":291628474,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTYyODQ3NA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T20:53:00Z","updated_at":"2017-04-04T20:53:00Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291628474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291628657","html_url":"https://github.com/apache/druid/pull/4142#issuecomment-291628657","issue_url":"https://api.github.com/repos/apache/druid/issues/4142","id":291628657,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTYyODY1Nw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T20:53:45Z","updated_at":"2017-04-04T20:53:45Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291628657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291629909","html_url":"https://github.com/apache/druid/pull/4142#issuecomment-291629909","issue_url":"https://api.github.com/repos/apache/druid/issues/4142","id":291629909,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTYyOTkwOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T20:58:22Z","updated_at":"2017-04-04T20:58:22Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291629909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291634625","html_url":"https://github.com/apache/druid/pull/4039#issuecomment-291634625","issue_url":"https://api.github.com/repos/apache/druid/issues/4039","id":291634625,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTYzNDYyNQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T21:17:15Z","updated_at":"2017-04-04T21:17:21Z","author_association":"CONTRIBUTOR","body":"Took a quick look. Same issues as what @gianm pointed out but generally this looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291634625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291637092","html_url":"https://github.com/apache/druid/pull/4143#issuecomment-291637092","issue_url":"https://api.github.com/repos/apache/druid/issues/4143","id":291637092,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTYzNzA5Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-04T21:27:34Z","updated_at":"2017-04-04T21:27:34Z","author_association":"MEMBER","body":"@drcrallen @jihoonson @fjy thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291637092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291694211","html_url":"https://github.com/apache/druid/pull/4139#issuecomment-291694211","issue_url":"https://api.github.com/repos/apache/druid/issues/4139","id":291694211,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTY5NDIxMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T00:55:11Z","updated_at":"2017-04-05T00:55:11Z","author_association":"CONTRIBUTOR","body":"Hi @asdf2014, I think we need to figure out what the root cause is and devise an workaround if inevitable.\r\n#4142 is to show the cause of failure when DruidCoordinatorTest fails, and just merged to master. Let's see what happens if this problem occurs again.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291694211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291698550","html_url":"https://github.com/apache/druid/pull/4142#issuecomment-291698550","issue_url":"https://api.github.com/repos/apache/druid/issues/4142","id":291698550,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTY5ODU1MA==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T01:15:34Z","updated_at":"2017-04-05T01:15:34Z","author_association":"MEMBER","body":":+1: ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291698550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291699243","html_url":"https://github.com/apache/druid/pull/4139#issuecomment-291699243","issue_url":"https://api.github.com/repos/apache/druid/issues/4139","id":291699243,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTY5OTI0Mw==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T01:17:40Z","updated_at":"2017-04-05T01:17:40Z","author_association":"MEMBER","body":"@jihoonson Wonderful! Look forward to.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291699243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291737554","html_url":"https://github.com/apache/druid/issues/4137#issuecomment-291737554","issue_url":"https://api.github.com/repos/apache/druid/issues/4137","id":291737554,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTczNzU1NA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T03:20:00Z","updated_at":"2017-04-05T03:20:00Z","author_association":"MEMBER","body":"The current design makes sure that the indexed is always available for querying therefore task do not shutdown unless the segment is loaded by a historical. \r\n\r\nHowever, you are correct, in an ideal world task can drop segments if its not going to get loaded. Currently the indexing tasks does not have any knowledge about load/drop rules so they can't make this decision. Hopefully, this can be improved in a future version, if you are interested you are welcome to do a PR :) I can help you with it.\r\n\r\nAnother argument that can be made is that always set `lateMessageRejectionPeriod` as per the load/drop rules so that late data is dropped as anyways it is not going to get loaded. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291737554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291752076","html_url":"https://github.com/apache/druid/pull/3611#issuecomment-291752076","issue_url":"https://api.github.com/repos/apache/druid/issues/3611","id":291752076,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTc1MjA3Ng==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T04:38:12Z","updated_at":"2017-04-05T04:38:12Z","author_association":"CONTRIBUTOR","body":"@dclim  is the bug #4147 related this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291752076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291816139","html_url":"https://github.com/apache/druid/issues/4147#issuecomment-291816139","issue_url":"https://api.github.com/repos/apache/druid/issues/4147","id":291816139,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTgxNjEzOQ==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T10:08:49Z","updated_at":"2017-04-05T10:08:49Z","author_association":"CONTRIBUTOR","body":"I found it is related to segmentGranularity setting.\r\nif I specified \r\n```\r\n\"segmentGranularity\" : {\r\n          \"type\" : \"period\",\r\n          \"period\" : \"P1D\",\r\n          \"timeZone\" : \"+08:00\",\r\n          \"origin\" : null\r\n        }\r\n```\r\nother than\r\n```\r\n\"segmentGranularity\" : \"DAY\",\r\n```\r\n\r\nthis \"bug\" do not appear.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291816139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291848499","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-291848499","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":291848499,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTg0ODQ5OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T12:38:48Z","updated_at":"2017-04-05T12:38:48Z","author_association":"CONTRIBUTOR","body":"I found two problems when this patch is applied. \r\n1) Segments of broadcast data sources might not be fully co-located with segments of colocatedDataSources if load/drop rules for colocatedDataSources are run before BroadcastDistributionRule.\r\n2) Since DruidCoordinatorBalancer is run after DruidCoordinatorRuleRunner, DruidCoordinatorBalancer breaks the co-location of broadcast segments and colocatedDataSources' segments.\r\n\r\nThe solution I'm currently considering is as follows.\r\n1) Building a dependency graph of rules, and run rules from independent ones to dependent ones. There must be no cycle in the dependency graph. This solution changes Druid's rule application policy, '[_first matched rule is applied_](http://druid.io/docs/latest/operations/rule-configuration.html)', so we need more discussion.\r\n2) Changing the unit for load balancing from a segment to a set of co-located segments. The cost for moving co-located segments will be definitely large, so usually independent segments will be chosen for load balancing. \r\n\r\nSince BroadcastDistributionRules are just introduced here, and not used in anywhere, I think it would be ok to fix these problems in follow-up PRs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291848499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291906045","html_url":"https://github.com/apache/druid/issues/4144#issuecomment-291906045","issue_url":"https://api.github.com/repos/apache/druid/issues/4144","id":291906045,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTkwNjA0NQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T15:51:31Z","updated_at":"2017-04-05T15:51:31Z","author_association":"CONTRIBUTOR","body":"@Gowtham95india Tranquility Kafka allows you to specify a topicPattern, so you should be able to use \"topicPattern\": \"vtap_clickstream_*\" to accomplish what you want. Does this work for you?\r\n\r\nFor reference: https://github.com/druid-io/tranquility/blob/master/docs/kafka.md#matching-topics-to-data-sources","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291906045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291910944","html_url":"https://github.com/apache/druid/issues/4144#issuecomment-291910944","issue_url":"https://api.github.com/repos/apache/druid/issues/4144","id":291910944,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTkxMDk0NA==","user":{"login":"gwthm-in","id":8710113,"node_id":"MDQ6VXNlcjg3MTAxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/8710113?v=4","gravatar_id":"","url":"https://api.github.com/users/gwthm-in","html_url":"https://github.com/gwthm-in","followers_url":"https://api.github.com/users/gwthm-in/followers","following_url":"https://api.github.com/users/gwthm-in/following{/other_user}","gists_url":"https://api.github.com/users/gwthm-in/gists{/gist_id}","starred_url":"https://api.github.com/users/gwthm-in/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwthm-in/subscriptions","organizations_url":"https://api.github.com/users/gwthm-in/orgs","repos_url":"https://api.github.com/users/gwthm-in/repos","events_url":"https://api.github.com/users/gwthm-in/events{/privacy}","received_events_url":"https://api.github.com/users/gwthm-in/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T16:06:06Z","updated_at":"2017-04-05T16:06:06Z","author_association":"NONE","body":"@dclim Hey thanks for the suggestion. \r\n\r\nBut the above one I shared as example. On high level, we have around 15 services running. As of now, among those 15 services, 3 services will produce messages to different topics like \r\n\r\ndiscovery_engine_stats_1, vigeon_notifs_1, shopping_cart_orders_1,\r\ndiscovery_engine_stats_2, vigeon_notifs_2, shopping_cart_orders_2,\r\n\r\nSo, here is the doubt I have: \r\n\r\nIf my topics names are like the one I mentioned above, then I can simply use *_1 for vnk-clst datasource, and *_2 for mrv-clst ? Correct me if I'm wrong! \r\n\r\nThanks in advance!\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291910944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291925855","html_url":"https://github.com/apache/druid/issues/4144#issuecomment-291925855","issue_url":"https://api.github.com/repos/apache/druid/issues/4144","id":291925855,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTkyNTg1NQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T16:55:15Z","updated_at":"2017-04-05T16:55:15Z","author_association":"CONTRIBUTOR","body":"@Gowtham95india sorry I gave you a bad example - the topicPattern is actually a regex, so you can craft a regex that matches the topics you want to read into a datasource. In my example, it should actually have been something like `vtap_clickstream_.*` And yes, in your case you can do `.*_1`, or if you want to be explicit you can use something like topicPattern `discovery_engine_stats_1|vigeon_notifs_1|shopping_cart_orders_1`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291925855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/291927441","html_url":"https://github.com/apache/druid/pull/3611#issuecomment-291927441","issue_url":"https://api.github.com/repos/apache/druid/issues/3611","id":291927441,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTkyNzQ0MQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T17:00:23Z","updated_at":"2017-04-05T17:00:23Z","author_association":"CONTRIBUTOR","body":"@hamlet-lee no it's not, but I see you were able to figure it out","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291927441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]