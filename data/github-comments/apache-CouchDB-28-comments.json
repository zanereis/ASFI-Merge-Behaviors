[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325700065","html_url":"https://github.com/apache/couchdb/issues/781#issuecomment-325700065","issue_url":"https://api.github.com/repos/apache/couchdb/issues/781","id":325700065,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTcwMDA2NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-29T15:25:38Z","updated_at":"2017-08-29T15:25:38Z","author_association":"MEMBER","body":"We're waiting on an upstream dependency (Docker ansible images) to be released using stretch so our automated build process can be augmented.\r\n\r\nhttps://github.com/William-Yeh/docker-ansible/pull/31\r\n\r\nPlease feel free to upvote this issue if you think it will help.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325700065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325752290","html_url":"https://github.com/apache/couchdb/issues/779#issuecomment-325752290","issue_url":"https://api.github.com/repos/apache/couchdb/issues/779","id":325752290,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTc1MjI5MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-29T18:25:23Z","updated_at":"2017-08-29T18:25:23Z","author_association":"MEMBER","body":"My mistake. It looks like this endpoint has been removed in 2.x. Most likely this is because our logging backend now supports things like syslog and rsyslog directly, meaning that there may not even be a persistent storage mechanism through which the log can even be retrieved.\r\n\r\nI'll reopen this ticket as a reminder for us to remove documentation for the `_log` endpoint and add it to the list of breaking changes for 2.x.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325752290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325779750","html_url":"https://github.com/apache/couchdb/pull/761#issuecomment-325779750","issue_url":"https://api.github.com/repos/apache/couchdb/issues/761","id":325779750,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTc3OTc1MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-29T19:50:04Z","updated_at":"2017-08-29T19:50:04Z","author_association":"MEMBER","body":"Please squash before committing these in the future? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325779750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325812693","html_url":"https://github.com/apache/couchdb/pull/761#issuecomment-325812693","issue_url":"https://api.github.com/repos/apache/couchdb/issues/761","id":325812693,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTgxMjY5Mw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-29T21:41:05Z","updated_at":"2017-08-29T21:41:05Z","author_association":"CONTRIBUTOR","body":"I realized my mistake when it was too late :-(","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325812693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325926032","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-325926032","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":325926032,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTkyNjAzMg==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-30T08:49:04Z","updated_at":"2017-08-30T08:49:04Z","author_association":"NONE","body":"Hi,\r\nIs there any way to interpret what is in the error log? It just seem to be unreadable. \r\n[couch_error.txt](https://github.com/apache/couchdb/files/1262906/couch_error.txt)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325926032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325980919","html_url":"https://github.com/apache/couchdb/issues/779#issuecomment-325980919","issue_url":"https://api.github.com/repos/apache/couchdb/issues/779","id":325980919,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTk4MDkxOQ==","user":{"login":"olivenvrac","id":31409996,"node_id":"MDQ6VXNlcjMxNDA5OTk2","avatar_url":"https://avatars.githubusercontent.com/u/31409996?v=4","gravatar_id":"","url":"https://api.github.com/users/olivenvrac","html_url":"https://github.com/olivenvrac","followers_url":"https://api.github.com/users/olivenvrac/followers","following_url":"https://api.github.com/users/olivenvrac/following{/other_user}","gists_url":"https://api.github.com/users/olivenvrac/gists{/gist_id}","starred_url":"https://api.github.com/users/olivenvrac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olivenvrac/subscriptions","organizations_url":"https://api.github.com/users/olivenvrac/orgs","repos_url":"https://api.github.com/users/olivenvrac/repos","events_url":"https://api.github.com/users/olivenvrac/events{/privacy}","received_events_url":"https://api.github.com/users/olivenvrac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-30T12:54:15Z","updated_at":"2017-08-30T12:54:15Z","author_association":"NONE","body":"You'r welcome. Thanks for the rapidity of your responses\r\nSo, i renounce to use  this feature even if it should work in version 2.0 And I still do not understand why it doesn't","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325980919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326025939","html_url":"https://github.com/apache/couchdb/issues/782#issuecomment-326025939","issue_url":"https://api.github.com/repos/apache/couchdb/issues/782","id":326025939,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjAyNTkzOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-30T15:24:09Z","updated_at":"2017-08-30T15:24:09Z","author_association":"MEMBER","body":"We do not support creating your own _rev values in 1.6 or forward. You should be treating the _rev value as opaque. The only thing we guarantee is that, upon saving a new version using the correct _previous_ _rev value, the new one will be monotonically higher.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326025939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326112951","html_url":"https://github.com/apache/couchdb/issues/783#issuecomment-326112951","issue_url":"https://api.github.com/repos/apache/couchdb/issues/783","id":326112951,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjExMjk1MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-30T20:42:37Z","updated_at":"2017-08-30T20:43:39Z","author_association":"MEMBER","body":"At the moment, the Cluster Setup API doesn't officially support SSL connections - meaning we haven't tested that configuration. It's really a shortcut to help people who haven't learned the manual process, and isn't intended to cover all cases.\r\n\r\nAs a workaround, you should be able to join the cluster together by following the manual process for adding nodes as described here:\r\n\r\nhttp://docs.couchdb.org/en/2.1.0/cluster/nodes.html\r\n\r\nOnce all nodes have been added, you'll then need to manually create the system databases (`_replicator`, `_users` and `_global_changes`).\r\n\r\nOne thing to watch out for is that as you create the admin user on every node independently, you'll need to be sure that the ini file contains the *identical hashed password* on each node if you expect sessions to work correctly with the entire cluster residing behind a load balancer.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326112951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326282575","html_url":"https://github.com/apache/couchdb/issues/747#issuecomment-326282575","issue_url":"https://api.github.com/repos/apache/couchdb/issues/747","id":326282575,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjI4MjU3NQ==","user":{"login":"kvzhkv","id":20382494,"node_id":"MDQ6VXNlcjIwMzgyNDk0","avatar_url":"https://avatars.githubusercontent.com/u/20382494?v=4","gravatar_id":"","url":"https://api.github.com/users/kvzhkv","html_url":"https://github.com/kvzhkv","followers_url":"https://api.github.com/users/kvzhkv/followers","following_url":"https://api.github.com/users/kvzhkv/following{/other_user}","gists_url":"https://api.github.com/users/kvzhkv/gists{/gist_id}","starred_url":"https://api.github.com/users/kvzhkv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kvzhkv/subscriptions","organizations_url":"https://api.github.com/users/kvzhkv/orgs","repos_url":"https://api.github.com/users/kvzhkv/repos","events_url":"https://api.github.com/users/kvzhkv/events{/privacy}","received_events_url":"https://api.github.com/users/kvzhkv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T12:38:24Z","updated_at":"2017-08-31T12:38:24Z","author_association":"NONE","body":"@gbiellem, thanks! I've tried your approach and it changed nothing. Proxy authentication still is not working for me.\r\nNow I actually rolled back to 1.6.1 and it works fine:)\r\nSince title of this issue is changed, I'm going to wait until docs will be updated and then try it out.\r\n\r\n@wohali, should I close this issue?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326282575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326302718","html_url":"https://github.com/apache/couchdb/issues/732#issuecomment-326302718","issue_url":"https://api.github.com/repos/apache/couchdb/issues/732","id":326302718,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjMwMjcxOA==","user":{"login":"SCdF","id":583851,"node_id":"MDQ6VXNlcjU4Mzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/583851?v=4","gravatar_id":"","url":"https://api.github.com/users/SCdF","html_url":"https://github.com/SCdF","followers_url":"https://api.github.com/users/SCdF/followers","following_url":"https://api.github.com/users/SCdF/following{/other_user}","gists_url":"https://api.github.com/users/SCdF/gists{/gist_id}","starred_url":"https://api.github.com/users/SCdF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SCdF/subscriptions","organizations_url":"https://api.github.com/users/SCdF/orgs","repos_url":"https://api.github.com/users/SCdF/repos","events_url":"https://api.github.com/users/SCdF/events{/privacy}","received_events_url":"https://api.github.com/users/SCdF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T13:55:11Z","updated_at":"2017-08-31T13:55:11Z","author_association":"NONE","body":"I may be having the same issue, as I'm on a Mac and use Time Machine (I also use Arq to backup to the cloud, which covers this directory).\r\n\r\nThe issue I was having was my CouchDB would randomly start spitting errors over and over that look like this: https://gist.github.com/SCdF/9994ca2afdc727bd39270eaa97abe422\r\n\r\n```\r\n[error] 2017-08-31T08:58:09.717403Z couchdb@localhost emulator -------- Error in process <0.253.0> on node 'couchdb@localhost' with exit value: {{badmatch,{error,enoent}},[{couch_compaction_daemon,abs_path,1,[{file,\"src/couch_compaction_daemon.erl\"},{line,526}]},{couch_compaction_daemon,free_space_rec,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,517}]},{couch_compaction_daemon... \r\n[error] 2017-08-31T08:58:09.718157Z couchdb@localhost <0.251.0> -------- gen_server couch_compaction_daemon terminated with reason: {compaction_loop_died,{{badmatch,{error,enoent}},[{couch_compaction_daemon,abs_path,1,[{file,\"src/couch_compaction_daemon.erl\"},{line,526}]},{couch_compaction_daemon,free_space_rec,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,517}]},{couch_compaction_daemon,can_db_compact,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,327}]},{couch_compaction_daemon,maybe_compact_db,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,164}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"s...\"},...]},...]}}\r\n  last msg: {'EXIT',<0.253.0>,{{badmatch,{error,enoent}},[{couch_compaction_daemon,abs_path,1,[{file,\"src/couch_compaction_daemon.erl\"},{line,526}]},{couch_compaction_daemon,free_space_rec,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,517}]},{couch_compaction_daemon,can_db_compact,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,327}]},{couch_compaction_daemon,maybe_compact_db,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,164}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,273}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]}]}}\r\n     state: {state,<0.253.0>,[]}\r\n[error] 2017-08-31T08:58:09.718506Z couchdb@localhost <0.251.0> -------- CRASH REPORT Process couch_compaction_daemon (<0.251.0>) with 0 neighbors exited with reason: {compaction_loop_died,{{badmatch,{error,enoent}},[{couch_compaction_daemon,abs_path,1,[{file,\"src/couch_compaction_daemon.erl\"},{line,526}]},{couch_compaction_daemon,free_space_rec,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,517}]},{couch_compaction_daemon,can_db_compact,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,327}]},{couch_compaction_daemon,maybe_compact_db,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,164}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"s...\"},...]},...]}} at gen_server:terminate/7(line:804) <= proc_lib:init_p_do_apply/3(line:237); initial_call: {couch_compaction_daemon,init,['Argument__1']}, ancestors: [couch_secondary_services,couch_sup,<0.201.0>], messages: [], links: [<0.210.0>], dictionary: [], trap_exit: true, status: running, heap_size: 987, stack_size: 27, reductions: 2819\r\n[error] 2017-08-31T08:58:09.718956Z couchdb@localhost <0.210.0> -------- Supervisor couch_secondary_services had child compaction_daemon started with couch_compaction_daemon:start_link() at <0.251.0> exit with reason {compaction_loop_died,{{badmatch,{error,enoent}},[{couch_compaction_daemon,abs_path,1,[{file,\"src/couch_compaction_daemon.erl\"},{line,526}]},{couch_compaction_daemon,free_space_rec,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,517}]},{couch_compaction_daemon,can_db_compact,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,327}]},{couch_compaction_daemon,maybe_compact_db,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,164}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"s...\"},...]},...]}} in context child_terminated\r\n```\r\n\r\nThe only way I could find to fix it was basically delete all shard data and re-configure CouchDB.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326302718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326304280","html_url":"https://github.com/apache/couchdb/issues/732#issuecomment-326304280","issue_url":"https://api.github.com/repos/apache/couchdb/issues/732","id":326304280,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjMwNDI4MA==","user":{"login":"SCdF","id":583851,"node_id":"MDQ6VXNlcjU4Mzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/583851?v=4","gravatar_id":"","url":"https://api.github.com/users/SCdF","html_url":"https://github.com/SCdF","followers_url":"https://api.github.com/users/SCdF/followers","following_url":"https://api.github.com/users/SCdF/following{/other_user}","gists_url":"https://api.github.com/users/SCdF/gists{/gist_id}","starred_url":"https://api.github.com/users/SCdF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SCdF/subscriptions","organizations_url":"https://api.github.com/users/SCdF/orgs","repos_url":"https://api.github.com/users/SCdF/repos","events_url":"https://api.github.com/users/SCdF/events{/privacy}","received_events_url":"https://api.github.com/users/SCdF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T14:00:20Z","updated_at":"2017-08-31T14:00:20Z","author_association":"NONE","body":"Though if we think it's because of devices mounted with spaces in them, then while I don't have that problem with Time Machine, I do have the Recovery HD mounted by default for some reason:\r\n```\r\n$ ll /Volumes/\r\ntotal 8\r\nlrwxr-xr-x   1 root  wheel    1 24 Aug 14:01 Burrich -> /\r\ndrwxrwxr-x+ 22 root  wheel  816 29 Aug 18:07 External\r\ndrwxrwxrwx   0 root  wheel    0 31 Aug 14:56 MobileBackups\r\ndrwxr-xr-x   9 root  wheel  374 24 Aug 14:00 Recovery HD\r\ndrwxrwxr-x  14 root  wheel  544  1 Jul 19:36 TimeMachine\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326304280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326306968","html_url":"https://github.com/apache/couchdb/issues/732#issuecomment-326306968","issue_url":"https://api.github.com/repos/apache/couchdb/issues/732","id":326306968,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjMwNjk2OA==","user":{"login":"SCdF","id":583851,"node_id":"MDQ6VXNlcjU4Mzg1MQ==","avatar_url":"https://avatars.githubusercontent.com/u/583851?v=4","gravatar_id":"","url":"https://api.github.com/users/SCdF","html_url":"https://github.com/SCdF","followers_url":"https://api.github.com/users/SCdF/followers","following_url":"https://api.github.com/users/SCdF/following{/other_user}","gists_url":"https://api.github.com/users/SCdF/gists{/gist_id}","starred_url":"https://api.github.com/users/SCdF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SCdF/subscriptions","organizations_url":"https://api.github.com/users/SCdF/orgs","repos_url":"https://api.github.com/users/SCdF/repos","events_url":"https://api.github.com/users/SCdF/events{/privacy}","received_events_url":"https://api.github.com/users/SCdF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T14:09:29Z","updated_at":"2017-08-31T14:09:29Z","author_association":"NONE","body":"Ejecting Recovery HD has tentatively fixed the problem for me. I'll report back if that changes.\r\n\r\nIs there a reason CouchDB checks for disk space on mounts other than the one it's on?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326306968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326316364","html_url":"https://github.com/apache/couchdb/issues/732#issuecomment-326316364","issue_url":"https://api.github.com/repos/apache/couchdb/issues/732","id":326316364,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjMxNjM2NA==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T14:39:18Z","updated_at":"2017-08-31T14:39:18Z","author_association":"MEMBER","body":"I ran into a similar issue recently which turned out to be caused by https://bugs.erlang.org/browse/ERL-343. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326316364/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326321879","html_url":"https://github.com/apache/couchdb/issues/783#issuecomment-326321879","issue_url":"https://api.github.com/repos/apache/couchdb/issues/783","id":326321879,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjMyMTg3OQ==","user":{"login":"dsietz","id":21245551,"node_id":"MDQ6VXNlcjIxMjQ1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/21245551?v=4","gravatar_id":"","url":"https://api.github.com/users/dsietz","html_url":"https://github.com/dsietz","followers_url":"https://api.github.com/users/dsietz/followers","following_url":"https://api.github.com/users/dsietz/following{/other_user}","gists_url":"https://api.github.com/users/dsietz/gists{/gist_id}","starred_url":"https://api.github.com/users/dsietz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsietz/subscriptions","organizations_url":"https://api.github.com/users/dsietz/orgs","repos_url":"https://api.github.com/users/dsietz/repos","events_url":"https://api.github.com/users/dsietz/events{/privacy}","received_events_url":"https://api.github.com/users/dsietz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T14:56:49Z","updated_at":"2017-08-31T14:56:49Z","author_association":"NONE","body":"Thank you wohali for the fast reply and followup information. \r\nHowever, if I manually add the nodes to the cluster using the call...\r\n\r\n> curl -X PUT \"http://xxx.xxx.xxx.xxx:5986/_nodes/node2@yyy.yyy.yyy.yyy\" -d {}\r\n ... how do I specify that the clustered nodes uses the port 6984 (not the default 5984) when \"managing / syncing\" data? For example, I will come in the add a document to a data base on port 6984 (SSL), but will the cluster automatically \"talk\" between the nodes (e.g.: replicating their data) using that port? The _membership states the all_nodes and cluster_nodes are (e.g.: node2@yyy.yyy.yyy.yyy).\r\n\r\nI probably don't understand the cluster architecture well enough, so sorry for any misunderstanding on my part.  \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326321879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326333712","html_url":"https://github.com/apache/couchdb/issues/747#issuecomment-326333712","issue_url":"https://api.github.com/repos/apache/couchdb/issues/747","id":326333712,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjMzMzcxMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T15:34:58Z","updated_at":"2017-08-31T15:34:58Z","author_association":"MEMBER","body":"No, please - clearly we need to update our docs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326333712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326335136","html_url":"https://github.com/apache/couchdb/issues/783#issuecomment-326335136","issue_url":"https://api.github.com/repos/apache/couchdb/issues/783","id":326335136,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjMzNTEzNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T15:39:35Z","updated_at":"2017-08-31T15:39:35Z","author_association":"MEMBER","body":"CouchDB doesn't sync between nodes via the HTTP interface. Instead, it uses the Erlang distribution mechanism, which is managed via the Erlang port mapper daemon (epmd). This traffic occurs on dynamically allocated ports, the range of which can be altered. We describe the options necessary for constraining the epmd port range here: http://docs.couchdb.org/en/2.1.0/cluster/setup.html\r\n\r\nTo encrypt this traffic as well is beyond the scope of our installation docs. You can read more about the process here: https://www.erlang-solutions.com/blog/erlang-distribution-over-tls.html","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326335136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326345922","html_url":"https://github.com/apache/couchdb/issues/783#issuecomment-326345922","issue_url":"https://api.github.com/repos/apache/couchdb/issues/783","id":326345922,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjM0NTkyMg==","user":{"login":"dsietz","id":21245551,"node_id":"MDQ6VXNlcjIxMjQ1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/21245551?v=4","gravatar_id":"","url":"https://api.github.com/users/dsietz","html_url":"https://github.com/dsietz","followers_url":"https://api.github.com/users/dsietz/followers","following_url":"https://api.github.com/users/dsietz/following{/other_user}","gists_url":"https://api.github.com/users/dsietz/gists{/gist_id}","starred_url":"https://api.github.com/users/dsietz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsietz/subscriptions","organizations_url":"https://api.github.com/users/dsietz/orgs","repos_url":"https://api.github.com/users/dsietz/repos","events_url":"https://api.github.com/users/dsietz/events{/privacy}","received_events_url":"https://api.github.com/users/dsietz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T16:11:34Z","updated_at":"2017-08-31T16:11:34Z","author_association":"NONE","body":"Thank you VERY much for the help. That makes it all clear. I will work through the Erlang documentation to secure the port (e.g.: 9100) \r\n\r\nPS: I would never get such faster and specific support from a vendor. Hat's off to your team!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326345922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326347097","html_url":"https://github.com/apache/couchdb/issues/783#issuecomment-326347097","issue_url":"https://api.github.com/repos/apache/couchdb/issues/783","id":326347097,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjM0NzA5Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T16:15:59Z","updated_at":"2017-09-28T15:31:18Z","author_association":"MEMBER","body":"~~Note you need 1 port open per node in your cluster. Limiting to JUST port 9100 means you can only have a 2-node cluster.~~\r\n\r\nThis was wrong, instead SEE BELOW: https://github.com/apache/couchdb/issues/783#issuecomment-332873855","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326347097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326365967","html_url":"https://github.com/apache/couchdb/issues/713#issuecomment-326365967","issue_url":"https://api.github.com/repos/apache/couchdb/issues/713","id":326365967,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjM2NTk2Nw==","user":{"login":"luanmm","id":1708808,"node_id":"MDQ6VXNlcjE3MDg4MDg=","avatar_url":"https://avatars.githubusercontent.com/u/1708808?v=4","gravatar_id":"","url":"https://api.github.com/users/luanmm","html_url":"https://github.com/luanmm","followers_url":"https://api.github.com/users/luanmm/followers","following_url":"https://api.github.com/users/luanmm/following{/other_user}","gists_url":"https://api.github.com/users/luanmm/gists{/gist_id}","starred_url":"https://api.github.com/users/luanmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luanmm/subscriptions","organizations_url":"https://api.github.com/users/luanmm/orgs","repos_url":"https://api.github.com/users/luanmm/repos","events_url":"https://api.github.com/users/luanmm/events{/privacy}","received_events_url":"https://api.github.com/users/luanmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T17:26:37Z","updated_at":"2017-08-31T17:26:37Z","author_association":"NONE","body":"Hello, @wohali.\r\n\r\nFirst, sorry for delay this testing that much, but I was in a hurry because of other things that I've been doing since this issue report.\r\n\r\nToday I have upgraded to CouchDB/Fauxton 2.1.0 and the problem persists.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326365967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326370304","html_url":"https://github.com/apache/couchdb/issues/713#issuecomment-326370304","issue_url":"https://api.github.com/repos/apache/couchdb/issues/713","id":326370304,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjM3MDMwNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T17:42:41Z","updated_at":"2017-08-31T17:42:41Z","author_association":"MEMBER","body":"Please open a bug over at apache/couchdb-fauxton.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326370304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326397142","html_url":"https://github.com/apache/couchdb/issues/780#issuecomment-326397142","issue_url":"https://api.github.com/repos/apache/couchdb/issues/780","id":326397142,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjM5NzE0Mg==","user":{"login":"orolle","id":1541570,"node_id":"MDQ6VXNlcjE1NDE1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1541570?v=4","gravatar_id":"","url":"https://api.github.com/users/orolle","html_url":"https://github.com/orolle","followers_url":"https://api.github.com/users/orolle/followers","following_url":"https://api.github.com/users/orolle/following{/other_user}","gists_url":"https://api.github.com/users/orolle/gists{/gist_id}","starred_url":"https://api.github.com/users/orolle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orolle/subscriptions","organizations_url":"https://api.github.com/users/orolle/orgs","repos_url":"https://api.github.com/users/orolle/repos","events_url":"https://api.github.com/users/orolle/events{/privacy}","received_events_url":"https://api.github.com/users/orolle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T19:27:59Z","updated_at":"2017-08-31T19:27:59Z","author_association":"NONE","body":"I could not reproduce it with curl. Thanks a lot for this fast support! ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326397142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326398671","html_url":"https://github.com/apache/couchdb/issues/783#issuecomment-326398671","issue_url":"https://api.github.com/repos/apache/couchdb/issues/783","id":326398671,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjM5ODY3MQ==","user":{"login":"dsietz","id":21245551,"node_id":"MDQ6VXNlcjIxMjQ1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/21245551?v=4","gravatar_id":"","url":"https://api.github.com/users/dsietz","html_url":"https://github.com/dsietz","followers_url":"https://api.github.com/users/dsietz/followers","following_url":"https://api.github.com/users/dsietz/following{/other_user}","gists_url":"https://api.github.com/users/dsietz/gists{/gist_id}","starred_url":"https://api.github.com/users/dsietz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsietz/subscriptions","organizations_url":"https://api.github.com/users/dsietz/orgs","repos_url":"https://api.github.com/users/dsietz/repos","events_url":"https://api.github.com/users/dsietz/events{/privacy}","received_events_url":"https://api.github.com/users/dsietz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T19:34:43Z","updated_at":"2017-08-31T19:34:43Z","author_association":"NONE","body":"good point. Thanks for the tip!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326398671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326402543","html_url":"https://github.com/apache/couchdb/issues/780#issuecomment-326402543","issue_url":"https://api.github.com/repos/apache/couchdb/issues/780","id":326402543,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjQwMjU0Mw==","user":{"login":"orolle","id":1541570,"node_id":"MDQ6VXNlcjE1NDE1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1541570?v=4","gravatar_id":"","url":"https://api.github.com/users/orolle","html_url":"https://github.com/orolle","followers_url":"https://api.github.com/users/orolle/followers","following_url":"https://api.github.com/users/orolle/following{/other_user}","gists_url":"https://api.github.com/users/orolle/gists{/gist_id}","starred_url":"https://api.github.com/users/orolle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orolle/subscriptions","organizations_url":"https://api.github.com/users/orolle/orgs","repos_url":"https://api.github.com/users/orolle/repos","events_url":"https://api.github.com/users/orolle/events{/privacy}","received_events_url":"https://api.github.com/users/orolle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-31T19:50:51Z","updated_at":"2017-08-31T19:50:51Z","author_association":"NONE","body":"I found the bug in my code. Its not a couchdb issue.\r\nYou can close this bug.\r\nThanks a lot!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326402543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326633784","html_url":"https://github.com/apache/couchdb/pull/785#issuecomment-326633784","issue_url":"https://api.github.com/repos/apache/couchdb/issues/785","id":326633784,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjYzMzc4NA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-01T17:04:55Z","updated_at":"2017-09-01T17:04:55Z","author_association":"CONTRIBUTOR","body":"It doesn't seem to work for compressed attachments. Is it expected? \r\n```\r\n--- a/src/chttpd/test/chttpd_db_attachment_size_tests.erl\r\n+++ b/src/chttpd/test/chttpd_db_attachment_size_tests.erl\r\n@@ -56,7 +56,8 @@ attachment_size_test_() ->\r\n                     fun put_inline/1,\r\n                     fun put_simple/1,\r\n                     fun put_simple_chunked/1,\r\n-                    fun put_mp_related/1\r\n+                    fun put_mp_related/1,\r\n+                    fun put_compressed/1\r\n                 ]\r\n             }\r\n         }\r\n@@ -70,6 +71,14 @@ put_inline(Url) ->\r\n       ?assertEqual(413, put_inline(Url, \"doc3\", 51))\r\n   end).\r\n\r\n+put_compressed(Url) ->\r\n+  ?_test(begin\r\n+      Headers = [{\"Content-Type\", \"text/plain\"}, {\"Content-Encoding\", \"gzip\"}],\r\n+      Status1 = put_req(Url ++ \"/doc4/att1\", Headers, zlib:gzip(data(50))),\r\n+      ?assert(Status1 =:= 201 orelse Status1 =:= 202),\r\n+      Status2 = put_req(Url ++ \"/doc5/att1\", Headers, zlib:gzip(data(51))),\r\n+      ?assertEqual(413, Status2)\r\n+  end).\r\n```\r\n```\r\nmake eunit apps=chttpd tests=attachment_size_test_\r\nchttpd max_attachment_size tests\r\nApplication crypto was left running!\r\n  chttpd_db_attachment_size_tests:68: put_inline...[0.026 s] ok\r\n  chttpd_db_attachment_size_tests:84: put_simple...[0.045 s] ok\r\n  chttpd_db_attachment_size_tests:98: put_simple_chunked...[0.024 s] ok\r\n  chttpd_db_attachment_size_tests:112: put_mp_related...[0.034 s] ok\r\n  chttpd_db_attachment_size_tests:75: put_compressed...*failed*\r\nin function chttpd_db_attachment_size_tests:'-put_compressed/1-fun-1-'/2 (test/chttpd_db_attachment_size_tests.erl, line 80)\r\n**error:{assertEqual_failed,[{module,chttpd_db_attachment_size_tests},\r\n                     {line,80},\r\n                     {expression,\"Status2\"},\r\n                     {expected,413},\r\n                     {value,201}]}\r\n\r\n\r\n  [done in 1.146 s]\r\n=======================================================\r\n  Failed: 1.  Skipped: 0.  Passed: 4.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326633784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326635348","html_url":"https://github.com/apache/couchdb/pull/785#issuecomment-326635348","issue_url":"https://api.github.com/repos/apache/couchdb/issues/785","id":326635348,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjYzNTM0OA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-01T17:12:13Z","updated_at":"2017-09-01T17:12:13Z","author_association":"MEMBER","body":"One issue I see is with `_bulk_docs`, where a single attachment exceeding the limit leads to the whole request to fail, while bulk doc operation suppose to be non-atomic. Is this intentional behaviour?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326635348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326665971","html_url":"https://github.com/apache/couchdb/pull/785#issuecomment-326665971","issue_url":"https://api.github.com/repos/apache/couchdb/issues/785","id":326665971,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjY2NTk3MQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-01T19:32:29Z","updated_at":"2017-09-01T19:32:29Z","author_association":"CONTRIBUTOR","body":"@eiri that mirrors the document size behavior but I forgot why we did it that way there","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326665971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326672933","html_url":"https://github.com/apache/couchdb/pull/785#issuecomment-326672933","issue_url":"https://api.github.com/repos/apache/couchdb/issues/785","id":326672933,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjY3MjkzMw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-01T20:08:03Z","updated_at":"2017-09-01T20:08:03Z","author_association":"MEMBER","body":"@nickva Ah, good, as long as it is expected and consistent with previous approach. \r\n\r\nI run a couple of tests: creating docs with attachments, setting the limit lower then their sizes and then trying to read, read range, update, compact.\r\n\r\nMostly the things were how I'd expect them to be, but there are one tricky bit: if a doc with big attachment was created _before_ the limit was set, you can't update this doc without loosing attachment _after_ setting the limit, update with stub will fail. I guess that'd be expected and shouldn't be a problem with default been infinity, but just something to keep in mind.\r\n\r\nThat said the change itself looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326672933/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326674803","html_url":"https://github.com/apache/couchdb/pull/785#issuecomment-326674803","issue_url":"https://api.github.com/repos/apache/couchdb/issues/785","id":326674803,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjY3NDgwMw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-01T20:18:17Z","updated_at":"2017-09-01T20:46:08Z","author_association":"CONTRIBUTOR","body":"@iilyak I think that's expected the size of the attachment then is the compressed size which is 24 or so ( <= 50). At least I don't see the server decoding it, it just saves it as 24.\r\n\r\nOh I wonder if you meant the case where attachments are auto-compressed on the server when stored to disk. In that case it would be just checked based on Content-type so setting that to text/plain would enable it. However that's similar a bit to how compression works for documents, it saves disk space but external size and doc size limits is still calculated based on uploaded (uncompressed) size.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/326674803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327021955","html_url":"https://github.com/apache/couchdb/issues/787#issuecomment-327021955","issue_url":"https://api.github.com/repos/apache/couchdb/issues/787","id":327021955,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzAyMTk1NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-04T20:03:06Z","updated_at":"2017-09-04T20:03:06Z","author_association":"MEMBER","body":"You should be able to just upgrade to the 2.1 packages and use `couchup` to migrate your databases. \r\n\r\nThe new packages were designed for upgrade via `apt` or `apt-get`, which will uninstall 1.6 and install 2.1 in a single step. Further, the 2.1 packages still store databases at `/var/lib/couchdb` so your databases should be present for a `couchup` based migration.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327021955/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327079508","html_url":"https://github.com/apache/couchdb/issues/789#issuecomment-327079508","issue_url":"https://api.github.com/repos/apache/couchdb/issues/789","id":327079508,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzA3OTUwOA==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-05T06:03:59Z","updated_at":"2017-09-05T06:03:59Z","author_association":"MEMBER","body":"I think this is the same issue as https://github.com/apache/couchdb/issues/732; in turn, a result of https://bugs.erlang.org/browse/ERL-343. Check whether you have any devices with spaces in their mount points - ejecting them should fix this. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327079508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327111742","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-327111742","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":327111742,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzExMTc0Mg==","user":{"login":"DanielMaly","id":1443921,"node_id":"MDQ6VXNlcjE0NDM5MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1443921?v=4","gravatar_id":"","url":"https://api.github.com/users/DanielMaly","html_url":"https://github.com/DanielMaly","followers_url":"https://api.github.com/users/DanielMaly/followers","following_url":"https://api.github.com/users/DanielMaly/following{/other_user}","gists_url":"https://api.github.com/users/DanielMaly/gists{/gist_id}","starred_url":"https://api.github.com/users/DanielMaly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanielMaly/subscriptions","organizations_url":"https://api.github.com/users/DanielMaly/orgs","repos_url":"https://api.github.com/users/DanielMaly/repos","events_url":"https://api.github.com/users/DanielMaly/events{/privacy}","received_events_url":"https://api.github.com/users/DanielMaly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-05T08:45:31Z","updated_at":"2017-09-05T08:45:31Z","author_association":"NONE","body":"Could we get a rough time estimate when this could be fixed? I'm stuck on 1.6.1 at the moment, because couch_peruser is broken in 2.0 as well.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327111742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327129665","html_url":"https://github.com/apache/couchdb/pull/791#issuecomment-327129665","issue_url":"https://api.github.com/repos/apache/couchdb/issues/791","id":327129665,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzEyOTY2NQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-05T09:57:41Z","updated_at":"2017-09-05T09:57:41Z","author_association":"MEMBER","body":"JSON indexes only index documents where all the fields are non-null. I think this PR needs to account for `null` comparisons when matching the fields in the selector against the index. For example, if I have an index on:\r\n\r\n```\r\n[\"user_id\", \"age\"]\r\n```\r\n\r\nand a selector `{\"user_id\": {\"$lt\":8}, \"age\": { \"$gte\": null }}` then the index would not be valid, even though the fields in the selector match the index, because using the index would skip any documents where `age` is null.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327129665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327201615","html_url":"https://github.com/apache/couchdb/pull/726#issuecomment-327201615","issue_url":"https://api.github.com/repos/apache/couchdb/issues/726","id":327201615,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzIwMTYxNQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-05T14:55:09Z","updated_at":"2017-09-05T14:55:09Z","author_association":"MEMBER","body":"From my analysis on those results using Jiffy as a baseline: erlfast is about 180ms faster while having a total size difference of 429k, erlexact is 184ms slower while having an exact match in output, and jsone is off by 1,145K and nearly a second slower.\r\n\r\nSo it seems like jsone is definitely out but I'm not sure if either erl appraoch is a contender or not. On the one hand erlfast is faster by being slightly off in its counts (slightly off assuming jiffy as a baseline) while erlexact is exact but slightly slower. Also note that slightly slower in a production system may change depending on garbage collection and JSON document average sizes (ie, it could get way slower on large docs, and may end up being slightly faster for trivial docs).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327201615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327203207","html_url":"https://github.com/apache/couchdb/pull/785#issuecomment-327203207","issue_url":"https://api.github.com/repos/apache/couchdb/issues/785","id":327203207,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzIwMzIwNw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-05T15:00:13Z","updated_at":"2017-09-05T15:00:13Z","author_association":"CONTRIBUTOR","body":"@davisp agreed, good idea!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327203207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327207751","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-327207751","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":327207751,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzIwNzc1MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-05T15:14:44Z","updated_at":"2017-09-05T15:14:44Z","author_association":"MEMBER","body":"@chewbranca 's analysis says that the issues are not trivial. Russell, can you expand a bit on what needs to be done?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327207751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327250387","html_url":"https://github.com/apache/couchdb/pull/726#issuecomment-327250387","issue_url":"https://api.github.com/repos/apache/couchdb/issues/726","id":327250387,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzI1MDM4Nw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-05T17:39:16Z","updated_at":"2017-09-05T17:39:16Z","author_association":"CONTRIBUTOR","body":"The goal is not to exactly match jiffy but to provide a minimum / reasonable size check for user's encoder. Most users would not use jiffy to encode their json, but probably a mix of Java, Python, Node's json encoders.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327250387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327389839","html_url":"https://github.com/apache/couchdb/issues/789#issuecomment-327389839","issue_url":"https://api.github.com/repos/apache/couchdb/issues/789","id":327389839,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzM4OTgzOQ==","user":{"login":"mgesmundo","id":1668543,"node_id":"MDQ6VXNlcjE2Njg1NDM=","avatar_url":"https://avatars.githubusercontent.com/u/1668543?v=4","gravatar_id":"","url":"https://api.github.com/users/mgesmundo","html_url":"https://github.com/mgesmundo","followers_url":"https://api.github.com/users/mgesmundo/followers","following_url":"https://api.github.com/users/mgesmundo/following{/other_user}","gists_url":"https://api.github.com/users/mgesmundo/gists{/gist_id}","starred_url":"https://api.github.com/users/mgesmundo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgesmundo/subscriptions","organizations_url":"https://api.github.com/users/mgesmundo/orgs","repos_url":"https://api.github.com/users/mgesmundo/repos","events_url":"https://api.github.com/users/mgesmundo/events{/privacy}","received_events_url":"https://api.github.com/users/mgesmundo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T06:39:47Z","updated_at":"2017-09-06T06:39:47Z","author_association":"NONE","body":"Thank you @willholley! I unmounted all devices with a space and now CouchDB works fine as usual.\r\nAll the best.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327389839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327394222","html_url":"https://github.com/apache/couchdb/pull/785#issuecomment-327394222","issue_url":"https://api.github.com/repos/apache/couchdb/issues/785","id":327394222,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzM5NDIyMg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T07:02:58Z","updated_at":"2017-09-06T07:02:58Z","author_association":"CONTRIBUTOR","body":"@davisp Added tests for replication showing that docs which fail the size limit check on the target will be skipped and bump the `doc_write_failures` count. This is consistent with how maximum document body limits are handled as well.  Also added a test for compaction showing that reducing the limit when compacting works as expected.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327394222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327495931","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-327495931","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":327495931,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzQ5NTkzMQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T14:12:22Z","updated_at":"2017-09-06T14:12:22Z","author_association":"CONTRIBUTOR","body":"Try increasing max_dbs_open and see if it helps\r\n\r\n```\r\n[couchdb]\r\nmax_dbs_open = 2500\r\n```\r\n\r\nAs you increase it, keep an eye on memory usage","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327495931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327498198","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-327498198","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":327498198,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzQ5ODE5OA==","user":{"login":"FelipeTaiarol","id":859559,"node_id":"MDQ6VXNlcjg1OTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/859559?v=4","gravatar_id":"","url":"https://api.github.com/users/FelipeTaiarol","html_url":"https://github.com/FelipeTaiarol","followers_url":"https://api.github.com/users/FelipeTaiarol/followers","following_url":"https://api.github.com/users/FelipeTaiarol/following{/other_user}","gists_url":"https://api.github.com/users/FelipeTaiarol/gists{/gist_id}","starred_url":"https://api.github.com/users/FelipeTaiarol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelipeTaiarol/subscriptions","organizations_url":"https://api.github.com/users/FelipeTaiarol/orgs","repos_url":"https://api.github.com/users/FelipeTaiarol/repos","events_url":"https://api.github.com/users/FelipeTaiarol/events{/privacy}","received_events_url":"https://api.github.com/users/FelipeTaiarol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T14:19:26Z","updated_at":"2017-09-06T14:19:26Z","author_association":"NONE","body":"hey @nickva , I already had increased it to 5000 but the problem is still there, memory is not an issue as well, I'm running on a EC2 t.2xlarge instance.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327498198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327515148","html_url":"https://github.com/apache/couchdb/pull/793#issuecomment-327515148","issue_url":"https://api.github.com/repos/apache/couchdb/issues/793","id":327515148,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzUxNTE0OA==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T15:11:13Z","updated_at":"2017-09-06T15:11:13Z","author_association":"CONTRIBUTOR","body":"+1 \r\nWell written code, and comprehensive tests.\r\n\r\nI have tested on this ddoc for filters in `_changes` feed.  Everything worked well as expected:\r\n\r\n```json\r\n{\r\n    \"_id\":\"_design/f1\",\r\n    \"whatever\" : {\r\n        \"commonjs\" : {\r\n                \"fun1\" : \"exports.res1 = true\",\r\n                \"fun2\" : \"exports.res2 = false\"\r\n        }\r\n    },\r\n    \"filters\": {\r\n        \"ff1\": \"function (doc, req) {\r\n              if (doc.year > 2014){\r\n                  return require('whatever/commonjs/fun1').res1;\r\n              } \r\n              return require('whatever/commonjs/fun2').res2;\r\n         }\"\r\n    }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327515148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327515923","html_url":"https://github.com/apache/couchdb/issues/795#issuecomment-327515923","issue_url":"https://api.github.com/repos/apache/couchdb/issues/795","id":327515923,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzUxNTkyMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T15:13:45Z","updated_at":"2017-09-06T15:13:45Z","author_association":"MEMBER","body":"You should just be able to copy over the new nssm.exe to a 1.6.1 install and fix it that way.\r\n\r\nI don't have bandwidth to re-release 1.6.1 right now, but you can try compiling it yourself. Similarly there are reasons why an x86 build of 2.x is not forthcoming, but you can try building it yourself.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327515923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327516955","html_url":"https://github.com/apache/couchdb/pull/793#issuecomment-327516955","issue_url":"https://api.github.com/repos/apache/couchdb/issues/793","id":327516955,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzUxNjk1NQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T15:16:47Z","updated_at":"2017-09-06T15:17:01Z","author_association":"CONTRIBUTOR","body":"Thanks, Mayya!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327516955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327521837","html_url":"https://github.com/apache/couchdb/issues/795#issuecomment-327521837","issue_url":"https://api.github.com/repos/apache/couchdb/issues/795","id":327521837,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzUyMTgzNw==","user":{"login":"ramotswa","id":778529,"node_id":"MDQ6VXNlcjc3ODUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/778529?v=4","gravatar_id":"","url":"https://api.github.com/users/ramotswa","html_url":"https://github.com/ramotswa","followers_url":"https://api.github.com/users/ramotswa/followers","following_url":"https://api.github.com/users/ramotswa/following{/other_user}","gists_url":"https://api.github.com/users/ramotswa/gists{/gist_id}","starred_url":"https://api.github.com/users/ramotswa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramotswa/subscriptions","organizations_url":"https://api.github.com/users/ramotswa/orgs","repos_url":"https://api.github.com/users/ramotswa/repos","events_url":"https://api.github.com/users/ramotswa/events{/privacy}","received_events_url":"https://api.github.com/users/ramotswa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T15:31:18Z","updated_at":"2017-09-06T15:31:18Z","author_association":"NONE","body":"Thanks @wohali  - when you say copy nssm.exe over, am I just dropping it into my C:/Program Files/Apache Software Foundation/CouchDB/bin (?) folder? I can't find an existing nssm.exe to replace so unsure where to put it. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327521837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327521908","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-327521908","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":327521908,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzUyMTkwOA==","user":{"login":"FelipeTaiarol","id":859559,"node_id":"MDQ6VXNlcjg1OTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/859559?v=4","gravatar_id":"","url":"https://api.github.com/users/FelipeTaiarol","html_url":"https://github.com/FelipeTaiarol","followers_url":"https://api.github.com/users/FelipeTaiarol/followers","following_url":"https://api.github.com/users/FelipeTaiarol/following{/other_user}","gists_url":"https://api.github.com/users/FelipeTaiarol/gists{/gist_id}","starred_url":"https://api.github.com/users/FelipeTaiarol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelipeTaiarol/subscriptions","organizations_url":"https://api.github.com/users/FelipeTaiarol/orgs","repos_url":"https://api.github.com/users/FelipeTaiarol/repos","events_url":"https://api.github.com/users/FelipeTaiarol/events{/privacy}","received_events_url":"https://api.github.com/users/FelipeTaiarol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T15:31:31Z","updated_at":"2017-09-06T15:31:31Z","author_association":"NONE","body":" we just run on the same issue again. It is weird, it runs for some time and then I start getting those timeout errors. CPU and Memory utilization below 50%.\r\n\r\n![image](https://user-images.githubusercontent.com/859559/30120427-12e9df74-9329-11e7-9422-48eff7796550.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327521908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327523359","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-327523359","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":327523359,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzUyMzM1OQ==","user":{"login":"FelipeTaiarol","id":859559,"node_id":"MDQ6VXNlcjg1OTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/859559?v=4","gravatar_id":"","url":"https://api.github.com/users/FelipeTaiarol","html_url":"https://github.com/FelipeTaiarol","followers_url":"https://api.github.com/users/FelipeTaiarol/followers","following_url":"https://api.github.com/users/FelipeTaiarol/following{/other_user}","gists_url":"https://api.github.com/users/FelipeTaiarol/gists{/gist_id}","starred_url":"https://api.github.com/users/FelipeTaiarol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelipeTaiarol/subscriptions","organizations_url":"https://api.github.com/users/FelipeTaiarol/orgs","repos_url":"https://api.github.com/users/FelipeTaiarol/repos","events_url":"https://api.github.com/users/FelipeTaiarol/events{/privacy}","received_events_url":"https://api.github.com/users/FelipeTaiarol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T15:35:55Z","updated_at":"2017-09-06T15:40:05Z","author_association":"NONE","body":"This is my configuration:\r\n\r\n```\r\n{\r\n\t\"native_query_servers\": {\r\n\t\t\"query\": \"{mango_native_proc, start_link, []}\"\r\n\t},\r\n\t\"httpd_design_handlers\": {\r\n\t\t\"_compact\": \"{couch_mrview_http, handle_compact_req}\",\r\n\t\t\"_info\": \"{couch_mrview_http, handle_info_req}\",\r\n\t\t\"_list\": \"{couch_mrview_show, handle_view_list_req}\",\r\n\t\t\"_rewrite\": \"{couch_httpd_rewrite, handle_rewrite_req}\",\r\n\t\t\"_show\": \"{couch_mrview_show, handle_doc_show_req}\",\r\n\t\t\"_update\": \"{couch_mrview_show, handle_doc_update_req}\",\r\n\t\t\"_view\": \"{couch_mrview_http, handle_view_req}\",\r\n\t\t\"_view_changes\": \"{couch_mrview_http, handle_view_changes_req}\"\r\n\t},\r\n\t\"uuids\": {\r\n\t\t\"algorithm\": \"sequential\",\r\n\t\t\"max_count\": \"1000\"\r\n\t},\r\n\t\"cluster\": {\r\n\t\t\"n\": \"3\",\r\n\t\t\"q\": \"8\"\r\n\t},\r\n\t\"cors\": {\r\n\t\t\"credentials\": \"true\",\r\n\t\t\"headers\": \"accept, authorization, content-type, origin, referer\",\r\n\t\t\"methods\": \"GET, PUT, POST, HEAD, DELETE\",\r\n\t\t\"origins\": \"*\"\r\n\t},\r\n\t\"chttpd\": {\r\n\t\t\"backlog\": \"512\",\r\n\t\t\"bind_address\": \"0.0.0.0\",\r\n\t\t\"docroot\": \"./share/www\",\r\n\t\t\"port\": \"5984\",\r\n\t\t\"socket_options\": \"[{recbuf, 262144}, {sndbuf, 262144}, {nodelay, true}]\"\r\n\t},\r\n\t\"httpd_global_handlers\": {\r\n\t\t\"/\": \"{couch_httpd_misc_handlers, handle_welcome_req, <<\\\"Welcome\\\">>}\",\r\n\t\t\"_active_tasks\": \"{couch_httpd_misc_handlers, handle_task_status_req}\",\r\n\t\t\"_all_dbs\": \"{couch_httpd_misc_handlers, handle_all_dbs_req}\",\r\n\t\t\"_config\": \"{couch_httpd_misc_handlers, handle_config_req}\",\r\n\t\t\"_oauth\": \"{couch_httpd_oauth, handle_oauth_req}\",\r\n\t\t\"_plugins\": \"{couch_plugins_httpd, handle_req}\",\r\n\t\t\"_replicate\": \"{couch_replicator_httpd, handle_req}\",\r\n\t\t\"_restart\": \"{couch_httpd_misc_handlers, handle_restart_req}\",\r\n\t\t\"_session\": \"{couch_httpd_auth, handle_session_req}\",\r\n\t\t\"_stats\": \"{couch_stats_httpd, handle_stats_req}\",\r\n\t\t\"_system\": \"{chttpd_misc, handle_system_req}\",\r\n\t\t\"_utils\": \"{couch_httpd_misc_handlers, handle_utils_dir_req, \\\"./share/www\\\"}\",\r\n\t\t\"_uuids\": \"{couch_httpd_misc_handlers, handle_uuids_req}\",\r\n\t\t\"favicon.ico\": \"{couch_httpd_misc_handlers, handle_favicon_req, \\\"/opt/bitnami/couchdb/share/www\\\"}\"\r\n\t},\r\n\t\"attachments\": {\r\n\t\t\"compressible_types\": \"text/*, application/javascript, application/json, application/xml\",\r\n\t\t\"compression_level\": \"8\"\r\n\t},\r\n\t\"query_server_config\": {\r\n\t\t\"os_process_limit\": \"10\",\r\n\t\t\"reduce_limit\": \"true\"\r\n\t},\r\n\t\"vendor\": {\r\n\t\t\"name\": \"The Apache Software Foundation\"\r\n\t},\r\n\t\"replicator\": {\r\n\t\t\"connection_timeout\": \"30000\",\r\n\t\t\"http_connections\": \"20\",\r\n\t\t\"max_replication_retry_count\": \"10\",\r\n\t\t\"retries_per_request\": \"10\",\r\n\t\t\"socket_options\": \"[{keepalive, true}, {nodelay, false}]\",\r\n\t\t\"ssl_certificate_max_depth\": \"3\",\r\n\t\t\"start_delay\": \"0\",\r\n\t\t\"start_splay\": \"0\",\r\n\t\t\"verify_ssl_certificates\": \"false\",\r\n\t\t\"worker_batch_size\": \"500\",\r\n\t\t\"worker_processes\": \"4\"\r\n\t},\r\n\t\"couch_httpd_oauth\": {\r\n\t\t\"use_users_db\": \"false\"\r\n\t},\r\n\t\"ssl\": {\r\n\t\t\"port\": \"6984\"\r\n\t},\r\n\t\"log\": {\r\n\t\t\"level\": \"info\",\r\n\t\t\"writer\": \"stderr\"\r\n\t},\r\n\t\"indexers\": {\r\n\t\t\"couch_mrview\": \"true\"\r\n\t},\r\n\t\"view_compaction\": {\r\n\t\t\"keyvalue_buffer_size\": \"2097152\"\r\n\t},\r\n\t\"query_servers\": {\r\n\t\t\"coffeescript\": \"/opt/bitnami/couchdb/bin/couchjs /opt/bitnami/couchdb/share/server/main-coffee.js\",\r\n\t\t\"javascript\": \"/opt/bitnami/couchdb/bin/couchjs /opt/bitnami/couchdb/share/server/main.js\"\r\n\t},\r\n\t\"daemons\": {\r\n\t\t\"auth_cache\": \"{couch_auth_cache, start_link, []}\",\r\n\t\t\"compaction_daemon\": \"{couch_compaction_daemon, start_link, []}\",\r\n\t\t\"couch_peruser\": \"{couch_peruser, start_link, []}\",\r\n\t\t\"external_manager\": \"{couch_external_manager, start_link, []}\",\r\n\t\t\"httpd\": \"{couch_httpd, start_link, []}\",\r\n\t\t\"index_server\": \"{couch_index_server, start_link, []}\",\r\n\t\t\"os_daemons\": \"{couch_os_daemons, start_link, []}\",\r\n\t\t\"query_servers\": \"{couch_proc_manager, start_link, []}\",\r\n\t\t\"uuids\": \"{couch_uuids, start, []}\",\r\n\t\t\"vhosts\": \"{couch_httpd_vhost, start_link, []}\"\r\n\t},\r\n\t\"couch_peruser\": {\r\n\t\t\"delete_dbs\": \"false\",\r\n\t\t\"enable\": \"false\"\r\n\t},\r\n\t\"httpd\": {\r\n\t\t\"WWW-Authenticate\": \"Basic realm=\\\"Administrator\\\"\",\r\n\t\t\"allow_jsonp\": \"false\",\r\n\t\t\"authentication_handlers\": \"{couch_httpd_oauth, oauth_authentication_handler}, {couch_httpd_auth, cookie_authentication_handler}, {couch_httpd_auth, default_authentication_handler}\",\r\n\t\t\"bind_address\": \"127.0.0.1\",\r\n\t\t\"default_handler\": \"{couch_httpd_db, handle_request}\",\r\n\t\t\"enable_cors\": \"true\",\r\n\t\t\"port\": \"5986\",\r\n\t\t\"secure_rewrites\": \"true\",\r\n\t\t\"socket_options\": \"[{recbuf, 262144}, {sndbuf, 262144}]\",\r\n\t\t\"vhost_global_handlers\": \"_utils, _uuids, _session, _oauth, _users\"\r\n\t},\r\n\t\"httpd_db_handlers\": {\r\n\t\t\"_all_docs\": \"{couch_mrview_http, handle_all_docs_req}\",\r\n\t\t\"_changes\": \"{couch_httpd_db, handle_db_changes_req}\",\r\n\t\t\"_compact\": \"{couch_httpd_db, handle_compact_req}\",\r\n\t\t\"_design\": \"{couch_httpd_db, handle_design_req}\",\r\n\t\t\"_design_docs\": \"{couch_mrview_http, handle_design_docs_req}\",\r\n\t\t\"_local_docs\": \"{couch_mrview_http, handle_local_docs_req}\",\r\n\t\t\"_temp_view\": \"{couch_mrview_http, handle_temp_view_req}\",\r\n\t\t\"_view_cleanup\": \"{couch_mrview_http, handle_cleanup_req}\"\r\n\t},\r\n\t\"database_compaction\": {\r\n\t\t\"checkpoint_after\": \"5242880\",\r\n\t\t\"doc_buffer_size\": \"524288\"\r\n\t},\r\n\t\"csp\": {\r\n\t\t\"enable\": \"true\"\r\n\t},\r\n\t\"couch_httpd_auth\": {\r\n\t\t\"allow_persistent_cookies\": \"true\",\r\n\t\t\"auth_cache_size\": \"50\",\r\n\t\t\"authentication_db\": \"_users\",\r\n\t\t\"authentication_redirect\": \"/_utils/session.html\",\r\n\t\t\"iterations\": \"10\",\r\n\t\t\"require_valid_user\": \"true\",\r\n\t\t\"timeout\": \"604800\"\r\n\t},\r\n\t\"couchdb\": {\r\n\t\t\"attachment_stream_buffer_size\": \"4096\",\r\n\t\t\"database_dir\": \"/opt/bitnami/couchdb/var/lib/couchdb\",\r\n\t\t\"default_security\": \"admin_local\",\r\n\t\t\"delayed_commits\": \"false\",\r\n\t\t\"file_compression\": \"snappy\" g,\r\n\t\t\"max_dbs_open\": \"5000\",\r\n\t\t\"max_document_size\": \"67108864\",\r\n\t\t\"os_process_timeout\": \"25000\",\r\n\t\t\"plugin_dir\": \"/opt/bitnami/couchdb/lib/couchdb/plugins\",\r\n\t\t\"uuid\": \"88f2a33c450a742c62ec55ab26bbb6ec\",\r\n\t\t\"view_index_dir\": \"/opt/bitnami/couchdb/var/lib/couchdb\"\r\n\t},\r\n\t\"compaction_daemon\": {\r\n\t\t\"check_interval\": \"300\",\r\n\t\t\"min_file_size\": \"131072\"\r\n\t}\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327523359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327533671","html_url":"https://github.com/apache/couchdb/issues/795#issuecomment-327533671","issue_url":"https://api.github.com/repos/apache/couchdb/issues/795","id":327533671,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzUzMzY3MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T16:09:04Z","updated_at":"2017-09-06T16:09:04Z","author_association":"MEMBER","body":"Sorry, I flaked out. 1.6.1 doesn't rely on nssm.exe at all, it was prior to the rework of the service. What problem are you running into?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327533671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327547370","html_url":"https://github.com/apache/couchdb/issues/795#issuecomment-327547370","issue_url":"https://api.github.com/repos/apache/couchdb/issues/795","id":327547370,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzU0NzM3MA==","user":{"login":"ramotswa","id":778529,"node_id":"MDQ6VXNlcjc3ODUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/778529?v=4","gravatar_id":"","url":"https://api.github.com/users/ramotswa","html_url":"https://github.com/ramotswa","followers_url":"https://api.github.com/users/ramotswa/followers","following_url":"https://api.github.com/users/ramotswa/following{/other_user}","gists_url":"https://api.github.com/users/ramotswa/gists{/gist_id}","starred_url":"https://api.github.com/users/ramotswa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramotswa/subscriptions","organizations_url":"https://api.github.com/users/ramotswa/orgs","repos_url":"https://api.github.com/users/ramotswa/repos","events_url":"https://api.github.com/users/ramotswa/events{/privacy}","received_events_url":"https://api.github.com/users/ramotswa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T16:56:16Z","updated_at":"2017-09-06T16:56:16Z","author_association":"NONE","body":"Same as the issue linked; that the service doesn't automatically start in\nwindows 10. Was working fine for windows 8.1, but after fresh install of\n1.6.1 on 10 and checking the 'install as a setting and start' and then a\ndevice restart the service hasn't started (although it's set to automatic).\nOn Wed, 6 Sep 2017 at 17:09, Joan Touzet <notifications@github.com> wrote:\n\n> Sorry, I flaked out. 1.6.1 doesn't rely on nssm.exe at all, it was prior\n> to the rework of the service. What problem are you running into?\n>\n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/couchdb/issues/795#issuecomment-327533671>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AAvhIbGGlmv_ZQ7mL4E7IXbwmiiOf7ILks5sfsOlgaJpZM4POWOc>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327547370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327553575","html_url":"https://github.com/apache/couchdb/issues/757#issuecomment-327553575","issue_url":"https://api.github.com/repos/apache/couchdb/issues/757","id":327553575,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzU1MzU3NQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T17:19:34Z","updated_at":"2017-09-06T17:19:34Z","author_association":"MEMBER","body":"Fixed by #764 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327553575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327565465","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-327565465","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":327565465,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzU2NTQ2NQ==","user":{"login":"FelipeTaiarol","id":859559,"node_id":"MDQ6VXNlcjg1OTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/859559?v=4","gravatar_id":"","url":"https://api.github.com/users/FelipeTaiarol","html_url":"https://github.com/FelipeTaiarol","followers_url":"https://api.github.com/users/FelipeTaiarol/followers","following_url":"https://api.github.com/users/FelipeTaiarol/following{/other_user}","gists_url":"https://api.github.com/users/FelipeTaiarol/gists{/gist_id}","starred_url":"https://api.github.com/users/FelipeTaiarol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelipeTaiarol/subscriptions","organizations_url":"https://api.github.com/users/FelipeTaiarol/orgs","repos_url":"https://api.github.com/users/FelipeTaiarol/repos","events_url":"https://api.github.com/users/FelipeTaiarol/events{/privacy}","received_events_url":"https://api.github.com/users/FelipeTaiarol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T18:01:45Z","updated_at":"2017-09-06T18:03:32Z","author_association":"NONE","body":"This error might be more helpful in order to find the problem:\r\n\r\nIt says:  No DB shards could be opened.\r\n\r\nWhat does that mean ?\r\n\r\n```\r\n[error] 2017-09-06T17:58:34.380145Z couchdb@localhost <0.14476.8> 8c3f780d86 rexi_server exit:{timeout,{gen_server,call,[couch_server,{open,<<\"shards/40000000-5fffffff/ruum_1500369224024ttg2zer6jqcuiwa098li.1500369260\">>,[{timeout,400},{user_ctx,{user_ctx,<<\"admin\">>,[<<\"_admin\">>],<<\"default\">>}}]},400]}} [{gen_server,call,3,[{file,\"gen_server.erl\"},{line,212}]},{couch_server,open,2,[{file,\"src/couch_server.erl\"},{line,86}]},{couch_db,open,2,[{file,\"src/couch_db.erl\"},{line,91}]},{fabric_rpc,open_shard,2,[{file,\"src/fabric_rpc.erl\"},{line,248}]},{rexi_server,init_p,3,[{file,\"src/rexi_server.erl\"},{line,139}]}]\r\n[error] 2017-09-06T17:58:34.380466Z couchdb@localhost <0.20913.7> bc8c6439c1 req_err(801399354) internal_server_error : No DB shards could be opened.\r\n    [<<\"fabric_util:get_shard/4 L180\">>,<<\"fabric_util:get_shard/4 L195\">>,<<\"fabric_util:get_shard/4 L195\">>,<<\"fabric:get_security/2 L146\">>,<<\"chttpd_auth_request:db_authorization_check/1 L87\">>,<<\"chttpd_auth_request:authorize_request/1 L19\">>,<<\"chttpd:process_request/1 L291\">>,<<\"chttpd:handle_request_int/1 L229\">>]\r\n```\r\n\r\nOnce it happens the only thing that temporarily fixes it is to restart the database.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327565465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327600353","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-327600353","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":327600353,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzYwMDM1Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T20:15:31Z","updated_at":"2017-09-06T20:15:31Z","author_association":"MEMBER","body":"Still sounds like you're running into a max fds issue.\r\n\r\nI know nothing about that bitnami image, but do you know how it starts CouchDB? If it's via systemd, systemd has its own overrides on fd limits that need modifying. There are other places you need to change fd limits as well.\r\n\r\nSome resources:\r\n* https://stackoverflow.com/questions/1356675/check-the-open-fd-limit-for-a-given-process-in-linux\r\n* https://serverfault.com/questions/356962/where-are-the-default-ulimit-values-set-linux-centos\r\n* https://serverfault.com/questions/752086/how-to-permanently-increase-rabbitmq-file-descriptors-limit/855722 (rabbitmq but the same thing applies to CouchDB)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327600353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327607131","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-327607131","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":327607131,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzYwNzEzMQ==","user":{"login":"FelipeTaiarol","id":859559,"node_id":"MDQ6VXNlcjg1OTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/859559?v=4","gravatar_id":"","url":"https://api.github.com/users/FelipeTaiarol","html_url":"https://github.com/FelipeTaiarol","followers_url":"https://api.github.com/users/FelipeTaiarol/followers","following_url":"https://api.github.com/users/FelipeTaiarol/following{/other_user}","gists_url":"https://api.github.com/users/FelipeTaiarol/gists{/gist_id}","starred_url":"https://api.github.com/users/FelipeTaiarol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelipeTaiarol/subscriptions","organizations_url":"https://api.github.com/users/FelipeTaiarol/orgs","repos_url":"https://api.github.com/users/FelipeTaiarol/repos","events_url":"https://api.github.com/users/FelipeTaiarol/events{/privacy}","received_events_url":"https://api.github.com/users/FelipeTaiarol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-06T20:43:03Z","updated_at":"2017-09-06T20:55:17Z","author_association":"NONE","body":"This is the limits for the process running the couchdb\r\n![image](https://user-images.githubusercontent.com/859559/30133405-09c0f1be-9354-11e7-935e-2c14b3302a9b.png)\r\n\r\n```\r\nbitnami@ip-172-31-3-49:~$ sudo cat /proc/27037/limits \r\nLimit                     Soft Limit           Hard Limit           Units     \r\nMax cpu time              unlimited            unlimited            seconds   \r\nMax file size             unlimited            unlimited            bytes     \r\nMax data size             unlimited            unlimited            bytes     \r\nMax stack size            8388608              unlimited            bytes     \r\nMax core file size        0                    unlimited            bytes     \r\nMax resident set          unlimited            unlimited            bytes     \r\nMax processes             32768                32768                processes \r\nMax open files            100000               100000               files     \r\nMax locked memory         65536                65536                bytes     \r\nMax address space         unlimited            unlimited            bytes     \r\nMax file locks            unlimited            unlimited            locks     \r\nMax pending signals       257326               257326               signals   \r\nMax msgqueue size         819200               819200               bytes     \r\nMax nice priority         0                    0                    \r\nMax realtime priority     0                    0                    \r\nMax realtime timeout      unlimited            unlimited            us   \r\n```\r\nThe limit is 100k which I would assume is enough ?\r\n\r\nalso\r\n```\r\nbitnami@ip-172-31-3-49:~$ cat /proc/sys/fs/file-max\r\n100000\r\nbitnami@ip-172-31-3-49:~$ ulimit -Sn\r\n100000\r\nbitnami@ip-172-31-3-49:~$ ulimit -Hn\r\n100000\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327607131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327759191","html_url":"https://github.com/apache/couchdb/issues/795#issuecomment-327759191","issue_url":"https://api.github.com/repos/apache/couchdb/issues/795","id":327759191,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzc1OTE5MQ==","user":{"login":"ramotswa","id":778529,"node_id":"MDQ6VXNlcjc3ODUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/778529?v=4","gravatar_id":"","url":"https://api.github.com/users/ramotswa","html_url":"https://github.com/ramotswa","followers_url":"https://api.github.com/users/ramotswa/followers","following_url":"https://api.github.com/users/ramotswa/following{/other_user}","gists_url":"https://api.github.com/users/ramotswa/gists{/gist_id}","starred_url":"https://api.github.com/users/ramotswa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramotswa/subscriptions","organizations_url":"https://api.github.com/users/ramotswa/orgs","repos_url":"https://api.github.com/users/ramotswa/repos","events_url":"https://api.github.com/users/ramotswa/events{/privacy}","received_events_url":"https://api.github.com/users/ramotswa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-07T10:23:02Z","updated_at":"2017-09-07T10:23:02Z","author_association":"NONE","body":"For now we have just added a scheduled task on windows 10 to run a quick `net start \"CouchDB` call to start the service on every log on. Any additional hints as how to make it work properly would be appreciated, but we're ok with this workaround for now. Happy to close.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327759191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327809279","html_url":"https://github.com/apache/couchdb/issues/732#issuecomment-327809279","issue_url":"https://api.github.com/repos/apache/couchdb/issues/732","id":327809279,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzgwOTI3OQ==","user":{"login":"cwmichi","id":11738910,"node_id":"MDQ6VXNlcjExNzM4OTEw","avatar_url":"https://avatars.githubusercontent.com/u/11738910?v=4","gravatar_id":"","url":"https://api.github.com/users/cwmichi","html_url":"https://github.com/cwmichi","followers_url":"https://api.github.com/users/cwmichi/followers","following_url":"https://api.github.com/users/cwmichi/following{/other_user}","gists_url":"https://api.github.com/users/cwmichi/gists{/gist_id}","starred_url":"https://api.github.com/users/cwmichi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwmichi/subscriptions","organizations_url":"https://api.github.com/users/cwmichi/orgs","repos_url":"https://api.github.com/users/cwmichi/repos","events_url":"https://api.github.com/users/cwmichi/events{/privacy}","received_events_url":"https://api.github.com/users/cwmichi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-07T14:03:25Z","updated_at":"2017-09-07T14:03:25Z","author_association":"NONE","body":"I ran also into this same problem. I downloaded CouchDB 2.1.0 (2017-08-07) for Mac from the CouchDB Website.\r\n\r\nMy Time Machine is also every 1 hour active for doing the backups ... in this time the CouchDB is not available and crashes.\r\n\r\n[error] 2017-09-07T10:08:59.894213Z couchdb@localhost emulator -------- Error in process <0.2586.0> on node 'couchdb@localhost' with exit value: {{badmatch,{error,enoent}},[{couch_compaction_daemon,abs_path,1,[{file,\"src/couch_compaction_daemon.erl\"},{line,526}]},{couch_compaction_daemon,free_space_rec,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,517}]},{couch_compaction_daemon... \r\n[error] 2017-09-07T10:08:59.894478Z couchdb@localhost <0.2584.0> -------- gen_server couch_compaction_daemon terminated with reason: {compaction_loop_died,{{badmatch,{error,enoent}},[{couch_compaction_daemon,abs_path,1,[{file,\"src/couch_compaction_daemon.erl\"},{line,526}]},{couch_compaction_daemon,free_space_rec,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,517}]},{couch_compaction_daemon,can_db_compact,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,327}]},{couch_compaction_daemon,maybe_compact_db,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,164}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"s...\"},...]},...]}}\r\n  last msg: {'EXIT',<0.2586.0>,{{badmatch,{error,enoent}},[{couch_compaction_daemon,abs_path,1,[{file,\"src/couch_compaction_daemon.erl\"},{line,526}]},{couch_compaction_daemon,free_space_rec,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,517}]},{couch_compaction_daemon,can_db_compact,2,[{file,\"src/couch_compaction_daemon.erl\"},{line,327}]},{couch_compaction_daemon,maybe_compact_db,3,[{file,\"src/couch_compaction_daemon.erl\"},{line,164}]},{couch_compaction_daemon,'-compact_loop/1-fun-0-',3,[{file,\"src/couch_compaction_daemon.erl\"},{line,141}]},{couch_server,'-all_databases/2-fun-0-',4,[{file,\"src/couch_server.erl\"},{line,273}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,184}]},{filelib,do_fold_files2,8,[{file,\"filelib.erl\"},{line,194}]}]}}\r\n     state: {state,<0.2586.0>,[]}","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327809279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327846586","html_url":"https://github.com/apache/couchdb/issues/795#issuecomment-327846586","issue_url":"https://api.github.com/repos/apache/couchdb/issues/795","id":327846586,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzg0NjU4Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-07T16:06:36Z","updated_at":"2017-09-07T16:06:36Z","author_association":"MEMBER","body":"Thanks, gonna close for now. Appreciate the workaround.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327846586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327903614","html_url":"https://github.com/apache/couchdb/pull/726#issuecomment-327903614","issue_url":"https://api.github.com/repos/apache/couchdb/issues/726","id":327903614,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzkwMzYxNA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-07T19:44:08Z","updated_at":"2017-09-07T19:44:08Z","author_association":"MEMBER","body":"I agree with the logic to underestimate a bit so that a user won't get bitten at the threshold. However I wonder if we should try and quantify exactly how far off. If memory serves I think erlfast over estimated in some cases as well (floats if memory serves). And we may also want to get an idea of how far it would underestimate in case there's a significant issue there (ie, off by 1% seems fine, off by 500% seems not).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327903614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327931326","html_url":"https://github.com/apache/couchdb/pull/785#issuecomment-327931326","issue_url":"https://api.github.com/repos/apache/couchdb/issues/785","id":327931326,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzkzMTMyNg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-07T21:24:07Z","updated_at":"2017-09-07T21:24:07Z","author_association":"CONTRIBUTOR","body":"@davisp Good call on checking internal replication as well. I added a test for it\r\n\r\nhttps://github.com/apache/couchdb/pull/785/files#diff-8e0e0dfdc23aa26ce08f6099c8a923bbR604\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327931326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327940989","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-327940989","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":327940989,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzk0MDk4OQ==","user":{"login":"arcadius","id":1615850,"node_id":"MDQ6VXNlcjE2MTU4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1615850?v=4","gravatar_id":"","url":"https://api.github.com/users/arcadius","html_url":"https://github.com/arcadius","followers_url":"https://api.github.com/users/arcadius/followers","following_url":"https://api.github.com/users/arcadius/following{/other_user}","gists_url":"https://api.github.com/users/arcadius/gists{/gist_id}","starred_url":"https://api.github.com/users/arcadius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arcadius/subscriptions","organizations_url":"https://api.github.com/users/arcadius/orgs","repos_url":"https://api.github.com/users/arcadius/repos","events_url":"https://api.github.com/users/arcadius/events{/privacy}","received_events_url":"https://api.github.com/users/arcadius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-07T22:14:12Z","updated_at":"2017-09-07T22:14:12Z","author_association":"NONE","body":"Thanks @wohali and @chewbranca  for looking into this","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327940989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327941833","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-327941833","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":327941833,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzk0MTgzMw==","user":{"login":"arcadius","id":1615850,"node_id":"MDQ6VXNlcjE2MTU4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1615850?v=4","gravatar_id":"","url":"https://api.github.com/users/arcadius","html_url":"https://github.com/arcadius","followers_url":"https://api.github.com/users/arcadius/followers","following_url":"https://api.github.com/users/arcadius/following{/other_user}","gists_url":"https://api.github.com/users/arcadius/gists{/gist_id}","starred_url":"https://api.github.com/users/arcadius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arcadius/subscriptions","organizations_url":"https://api.github.com/users/arcadius/orgs","repos_url":"https://api.github.com/users/arcadius/repos","events_url":"https://api.github.com/users/arcadius/events{/privacy}","received_events_url":"https://api.github.com/users/arcadius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-07T22:18:58Z","updated_at":"2017-09-07T22:18:58Z","author_association":"NONE","body":"Hello @chewbranca . \r\nAnything trivial that I can help with to get this moving?\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/327941833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328111347","html_url":"https://github.com/apache/couchdb/issues/783#issuecomment-328111347","issue_url":"https://api.github.com/repos/apache/couchdb/issues/783","id":328111347,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODExMTM0Nw==","user":{"login":"dsietz","id":21245551,"node_id":"MDQ6VXNlcjIxMjQ1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/21245551?v=4","gravatar_id":"","url":"https://api.github.com/users/dsietz","html_url":"https://github.com/dsietz","followers_url":"https://api.github.com/users/dsietz/followers","following_url":"https://api.github.com/users/dsietz/following{/other_user}","gists_url":"https://api.github.com/users/dsietz/gists{/gist_id}","starred_url":"https://api.github.com/users/dsietz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsietz/subscriptions","organizations_url":"https://api.github.com/users/dsietz/orgs","repos_url":"https://api.github.com/users/dsietz/repos","events_url":"https://api.github.com/users/dsietz/events{/privacy}","received_events_url":"https://api.github.com/users/dsietz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-08T14:02:10Z","updated_at":"2017-09-08T14:02:48Z","author_association":"NONE","body":"If anyone is interested, I figured out how to get ports 9100 ( through 9200) using SSL. \r\nI added the following lines to the following files\r\n\r\n**local.ini**\r\n```\r\n[ssl]\r\nport = 6984\r\ncert_file = /etc/couchdb/cert/couchdb.pem\r\nkey_file = /etc/couchdb/cert/privkey.pem\r\nciphers = undefined\r\ntls_versions = undefined\r\nsecure_renegotiate = undefined\r\ncertfile = /etc/couchdb/cert/couchdb.pem\r\nkeyfile = /etc/couchdb/cert/privkey.pem\r\ncacertfile = undefined\r\n```\r\n\r\n**vm.args**\r\n```\r\n-kernel inet_dist_listen_min 9100\r\n-kernel inet_dist_listen_max 9200\r\n-pa /opt/couchdb/cert\r\n-proto_dist inet_tls\r\n-ssl_dist_opt server_certfile /etc/couchdb/cert/couchdb.pem server_keyfile /etc/couchdb/cert/privkey.pem\r\n```\r\n\r\nTo verify a port is secure I used the following command:\r\n```\r\nopenssl s_client -connect xxx.xxx.xxx.xxx:9100\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328111347/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328114529","html_url":"https://github.com/apache/couchdb/pull/797#issuecomment-328114529","issue_url":"https://api.github.com/repos/apache/couchdb/issues/797","id":328114529,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODExNDUyOQ==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-08T14:14:19Z","updated_at":"2017-09-08T14:14:19Z","author_association":"CONTRIBUTOR","body":"I noticed in ```fabric_util``` we have an error condition for this error, and also in ```view_errors``` we're testing for this situation. Was this error not propagated correctly before and thus the view builds blew up?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328114529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328125793","html_url":"https://github.com/apache/couchdb/pull/797#issuecomment-328125793","issue_url":"https://api.github.com/repos/apache/couchdb/issues/797","id":328125793,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODEyNTc5Mw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-08T14:55:49Z","updated_at":"2017-09-08T14:55:49Z","author_association":"MEMBER","body":"@tonysun83 My bad! Forgot to push after I found the view_errors.js test failure. I hadn't noticed the fabric_util clause but I've removed it since it'd be dead code now.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328125793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328142145","html_url":"https://github.com/apache/couchdb/pull/726#issuecomment-328142145","issue_url":"https://api.github.com/repos/apache/couchdb/issues/726","id":328142145,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODE0MjE0NQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-08T15:52:38Z","updated_at":"2017-09-08T16:51:46Z","author_association":"CONTRIBUTOR","body":"@davisp Good call on checking float sizes. I updated the benchmark repo with a float size comparison script. It includes, python, node.js and jsx encoders as well for more completeness.\r\n\r\nhttps://github.com/nickva/couch_ebench/blob/master/src/float_sizes.erl\r\n\r\nHere is output:\r\n\r\n```\r\n./==> jiffy (get-deps)\r\n==> jsx (get-deps)\r\n==> jsone (get-deps)\r\n==> couch_ebench (get-deps)\r\n==> jiffy (compile)\r\n==> jsx (compile)\r\n==> jsone (compile)\r\n==> couch_ebench (compile)\r\nCompiled src/float_sizes.erl\r\n                   Input |  jiffy |    erl |  jsone |    jsx | python |   node |\r\n--------------------------------------------------------------------------------\r\n                     0.0 |      3 |      3 |     26 |      3 |      3 |      1 |\r\n                     0.1 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                     0.2 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                     0.9 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                    0.01 |      4 |      4 |     26 |      4 |      4 |      4 |\r\n                   0.001 |      5 |      5 |     26 |      5 |      5 |      5 |\r\n                 0.00001 |      7 |      7 |     26 |      6 |      5 |      7 |\r\n                   0.002 |      5 |      5 |     26 |      5 |      5 |      5 |\r\n                  0.0002 |      6 |      6 |     26 |      6 |      6 |      6 |\r\n                0.000002 |      8 |      8 |     26 |      6 |      5 |      8 |\r\n                    0.11 |      4 |      4 |     26 |      4 |      4 |      4 |\r\n                   0.111 |      5 |      5 |     26 |      5 |      5 |      5 |\r\n                  0.1111 |      6 |      6 |     26 |      6 |      6 |      6 |\r\n               0.3333333 |      9 |      9 |     26 |      9 |      9 |      9 |\r\n              0.33333333 |     10 |     10 |     26 |     10 |     10 |     10 |\r\n              0.90000009 |     10 |     10 |     26 |     10 |     10 |     10 |\r\n             0.900000009 |     11 |     11 |     26 |     11 |     11 |     11 |\r\n              0.99999999 |     10 |     10 |     26 |     10 |     10 |     10 |\r\n             0.999999999 |     11 |     11 |     26 |     11 |     11 |     11 |\r\n    0.100000000000000017 |     19 |      3 |     26 |     19 |     19 |     19 |\r\n  0.10000000000000000018 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                     1.0 |      3 |      3 |     26 |      3 |      3 |      1 |\r\n                     1.1 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                   20.02 |      5 |      5 |     26 |      5 |      5 |      5 |\r\n                 300.003 |      7 |      7 |     26 |      7 |      7 |      7 |\r\n               4000.0004 |      9 |      9 |     26 |      9 |      9 |      9 |\r\n             50000.00005 |     11 |     11 |     26 |     11 |     11 |     11 |\r\n           600000.000006 |     13 |     13 |     26 |     13 |     13 |     13 |\r\n           10000000000.0 |     13 |     13 |     26 |      6 |     13 |     11 |\r\n          11111111111.01 |     14 |     22 |     26 |     14 |     14 |     14 |\r\n    99999999999.99999999 |     14 |     14 |     26 |      6 |     14 |     12 |\r\n3.3333332538604736328125 |     18 |     12 |     26 |     18 |     18 |     18 |\r\n               3.3333333 |      9 |      9 |     26 |      9 |      9 |      9 |\r\n                2.000002 |      8 |      8 |     26 |      8 |      8 |      8 |\r\n               2.0000002 |      9 |      9 |     26 |      9 |      9 |      9 |\r\n              2.00000002 |     10 |     10 |     26 |     10 |     10 |     10 |\r\n               2.0000057 |      9 |      9 |     26 |      9 |      9 |      9 |\r\n   2.0000057220458984375 |     18 |     12 |     26 |     18 |     18 |     18 |\r\n                   1.0e1 |      4 |      4 |     26 |      4 |      4 |      2 |\r\n                  1.0e10 |     13 |     13 |     26 |      6 |     13 |     11 |\r\n             1.000001e10 |     13 |     13 |     26 |     11 |     13 |     11 |\r\n            1.0000001e10 |     13 |     13 |     26 |     12 |     13 |     11 |\r\n             1.000001e16 |     19 |     16 |     26 |     11 |     12 |     17 |\r\n                  1.1e16 |     19 |     16 |     26 |      6 |      7 |     17 |\r\n                  1.0e25 |      5 |     16 |     26 |      6 |      5 |      5 |\r\n                  1.0e30 |      5 |     16 |     26 |      6 |      5 |      5 |\r\n        1.00000000001e29 |     17 |     16 |     26 |     16 |     17 |     17 |\r\n        1.00000000001e30 |     17 |     16 |     26 |     16 |     17 |     17 |\r\n                 1.0e100 |      6 |      6 |     27 |      7 |      6 |      6 |\r\n                 1.0e308 |      6 |      6 |     27 |      7 |      6 |      6 |\r\n    2.718281828459045235 |     17 |     12 |     26 |     17 |     17 |     17 |\r\n    3.141592653589793238 |     17 |     12 |     26 |     17 |     17 |     17 |\r\n3.141592653589793238e100 |     22 |      6 |     27 |     21 |     22 |     22 |\r\n           1.1443742e-28 |     13 |     16 |     26 |     13 |     13 |     13 |\r\n           3.0316488e-13 |     13 |      3 |     26 |     13 |     13 |     13 |\r\n            2.7670118E19 |     22 |     16 |     26 |     12 |     13 |     20 |\r\n                 1.0e-10 |      5 |     12 |     26 |      7 |      5 |      5 |\r\n                 1.0e-30 |      5 |     16 |     26 |      7 |      5 |      5 |\r\n         1.000000001e-30 |     15 |     16 |     26 |     15 |     15 |     15 |\r\n                1.0e-100 |      6 |      6 |     27 |      8 |      6 |      6 |\r\n                1.0e-200 |      6 |      6 |     27 |      8 |      6 |      6 |\r\n                1.0e-308 |      6 |      6 |     27 |      8 |      6 |      6 |\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328142145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328242652","html_url":"https://github.com/apache/couchdb/pull/797#issuecomment-328242652","issue_url":"https://api.github.com/repos/apache/couchdb/issues/797","id":328242652,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODI0MjY1Mg==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-09T00:36:28Z","updated_at":"2017-09-09T00:36:28Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328242652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328455725","html_url":"https://github.com/apache/couchdb/issues/802#issuecomment-328455725","issue_url":"https://api.github.com/repos/apache/couchdb/issues/802","id":328455725,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODQ1NTcyNQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-11T08:24:07Z","updated_at":"2017-09-11T08:24:07Z","author_association":"MEMBER","body":"looks like another instance of #732 - not Time Machine specific, just whitespace in mount points.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328455725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328455824","html_url":"https://github.com/apache/couchdb/issues/801#issuecomment-328455824","issue_url":"https://api.github.com/repos/apache/couchdb/issues/801","id":328455824,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODQ1NTgyNA==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-11T08:24:32Z","updated_at":"2017-09-11T08:24:32Z","author_association":"MEMBER","body":"looks like another instance of #732 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328455824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328456459","html_url":"https://github.com/apache/couchdb/issues/802#issuecomment-328456459","issue_url":"https://api.github.com/repos/apache/couchdb/issues/802","id":328456459,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODQ1NjQ1OQ==","user":{"login":"rvanzon","id":815029,"node_id":"MDQ6VXNlcjgxNTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/815029?v=4","gravatar_id":"","url":"https://api.github.com/users/rvanzon","html_url":"https://github.com/rvanzon","followers_url":"https://api.github.com/users/rvanzon/followers","following_url":"https://api.github.com/users/rvanzon/following{/other_user}","gists_url":"https://api.github.com/users/rvanzon/gists{/gist_id}","starred_url":"https://api.github.com/users/rvanzon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvanzon/subscriptions","organizations_url":"https://api.github.com/users/rvanzon/orgs","repos_url":"https://api.github.com/users/rvanzon/repos","events_url":"https://api.github.com/users/rvanzon/events{/privacy}","received_events_url":"https://api.github.com/users/rvanzon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-11T08:26:39Z","updated_at":"2017-09-11T08:28:02Z","author_association":"NONE","body":"Forget to mention, but there are are no whitespaces.\r\n(I updated the issue with the path of the databases)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328456459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328460932","html_url":"https://github.com/apache/couchdb/issues/802#issuecomment-328460932","issue_url":"https://api.github.com/repos/apache/couchdb/issues/802","id":328460932,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODQ2MDkzMg==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-11T08:42:39Z","updated_at":"2017-09-11T08:42:39Z","author_association":"MEMBER","body":"@rvanzon regarding #732, it doesn't need to be a mount point that's in the database path - any mount point (listed by `$ diskutil list`) containing whitespace could cause the crash, I think, because the compaction daemon [iterates through the system mount points](https://github.com/apache/couchdb/blob/master/src/couch/src/couch_compaction_daemon.erl#L507).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328460932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328631634","html_url":"https://github.com/apache/couchdb/issues/805#issuecomment-328631634","issue_url":"https://api.github.com/repos/apache/couchdb/issues/805","id":328631634,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODYzMTYzNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-11T19:20:16Z","updated_at":"2017-09-11T19:20:16Z","author_association":"MEMBER","body":"Our CORS test passes so this is likely a misconfiguration of some sort. I am not familiar with the CORS support so I can't immediately help further. Can you paste your full local.ini file?\r\n\r\nOur tests: https://github.com/apache/couchdb/blob/master/src/chttpd/test/chttpd_cors_test.erl","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328631634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328641367","html_url":"https://github.com/apache/couchdb/issues/805#issuecomment-328641367","issue_url":"https://api.github.com/repos/apache/couchdb/issues/805","id":328641367,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODY0MTM2Nw==","user":{"login":"t0nylai","id":5866413,"node_id":"MDQ6VXNlcjU4NjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/5866413?v=4","gravatar_id":"","url":"https://api.github.com/users/t0nylai","html_url":"https://github.com/t0nylai","followers_url":"https://api.github.com/users/t0nylai/followers","following_url":"https://api.github.com/users/t0nylai/following{/other_user}","gists_url":"https://api.github.com/users/t0nylai/gists{/gist_id}","starred_url":"https://api.github.com/users/t0nylai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t0nylai/subscriptions","organizations_url":"https://api.github.com/users/t0nylai/orgs","repos_url":"https://api.github.com/users/t0nylai/repos","events_url":"https://api.github.com/users/t0nylai/events{/privacy}","received_events_url":"https://api.github.com/users/t0nylai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-11T19:58:32Z","updated_at":"2017-09-11T19:58:32Z","author_association":"NONE","body":"Hi Joan,\n\nOn CouchDB 2.0, I used to have origins = * and credentials = true  for\nCORS.  In  ver 2.1, I see it doesn't allowed. So I have origins =\nhttp://intranet-dev,http://intranet-qa\n\n\"couchdb2_1-dev\" is a Windows 2008R2 machine where the Couchdb 2.1\ninstalled and database located.\n\"intranet-dev\" is a Windows 2008R2 IIS  web server has the application\nrunning and access db on couchdb2_1-dev\n\nI still have this error.\nXMLHttpRequest cannot load http://couchdb2_1-dev/sash_dev/. Response to\npreflight request doesn't pass access control check: No\n'Access-Control-Allow-Origin' header is present on the requested resource.\nOrigin 'http://intranet-dev' is therefore not allowed access. The response\nhad HTTP status code 401\n\nTony Lai\n\nOn Mon, Sep 11, 2017 at 12:20 PM, Joan Touzet <notifications@github.com>\nwrote:\n\n> Our CORS test passes so this is likely a misconfiguration of some sort. I\n> am not familiar with the CORS support so I can't immediately help further.\n> Can you paste your full local.ini file?\n>\n> Our tests: https://github.com/apache/couchdb/blob/master/src/\n> chttpd/test/chttpd_cors_test.erl\n>\n> \n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/couchdb/issues/805#issuecomment-328631634>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AFmDredVsye-4xB91Wi3sHtz12Kxr31gks5shYf4gaJpZM4PTnlT>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328641367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328655488","html_url":"https://github.com/apache/couchdb/pull/778#issuecomment-328655488","issue_url":"https://api.github.com/repos/apache/couchdb/issues/778","id":328655488,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODY1NTQ4OA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-11T20:54:19Z","updated_at":"2017-09-11T20:54:19Z","author_association":"MEMBER","body":"Closing this in favor of https://github.com/apache/couchdb/pull/806 which is significantly faster than this approach. Algorithmically they're equal as O(N log N) (if my analysis is correct) but the extra calls through couch_file for this approach (via btree lookups against seq_tree) means that we end up swamping any gains we made by not copying full_doc_info records in the meta file.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328655488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328697030","html_url":"https://github.com/apache/couchdb/pull/804#issuecomment-328697030","issue_url":"https://api.github.com/repos/apache/couchdb/issues/804","id":328697030,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODY5NzAzMA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T00:36:15Z","updated_at":"2017-09-12T00:36:15Z","author_association":"MEMBER","body":"What's the reasoning for complete removal of module name match? As far as I can see `no_usable_index` errors still thrown from a single and not multiple modules and as a matter of fact `{no_usable_index, selector_unsupported}` kept in `mango_cursor` and doesn't require changes in error module","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328697030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328759417","html_url":"https://github.com/apache/couchdb/pull/804#issuecomment-328759417","issue_url":"https://api.github.com/repos/apache/couchdb/issues/804","id":328759417,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODc1OTQxNw==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T07:04:09Z","updated_at":"2017-09-12T07:04:09Z","author_association":"MEMBER","body":"@eiri I didn't see the benefit of scoping those error message conversions to a single module; we're not likely to change the status code or message based on the module that raised the error and it makes the error conversion more brittle (as illustrated by the change that led to this regression). Arguably this logic applies to all of mango_error.erl - perhaps this PR should stick to the existing convention and use a separate PR to discuss whether to remove the module scope from error conversion?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328759417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328769175","html_url":"https://github.com/apache/couchdb/pull/775#issuecomment-328769175","issue_url":"https://api.github.com/repos/apache/couchdb/issues/775","id":328769175,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODc2OTE3NQ==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T07:44:52Z","updated_at":"2017-09-12T07:44:52Z","author_association":"MEMBER","body":"Replaced by https://github.com/apache/couchdb/pull/808","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328769175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328772265","html_url":"https://github.com/apache/couchdb/pull/807#issuecomment-328772265","issue_url":"https://api.github.com/repos/apache/couchdb/issues/807","id":328772265,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODc3MjI2NQ==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T07:55:56Z","updated_at":"2017-09-12T07:55:56Z","author_association":"MEMBER","body":"I like the idea of this. I don't really like the fact that mango_cursor is calling the http module to send the warning. I dont think the mango_cursor module should know about the http layer. It might be better to do this via the `handle_doc({row})` callback.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328772265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328799449","html_url":"https://github.com/apache/couchdb/pull/807#issuecomment-328799449","issue_url":"https://api.github.com/repos/apache/couchdb/issues/807","id":328799449,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODc5OTQ0OQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T09:37:50Z","updated_at":"2017-09-12T09:37:50Z","author_association":"MEMBER","body":"@garrensmith I kinda agree. However, it's no different to the pattern used by bookmarks or execution stats (i.e. JSON serialisation happens in the `maybe_` function rather than in httpd). Would you be more comfortable if the `maybe_add_warning` lived in a different module e.g. `mango_idx`?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328799449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328835439","html_url":"https://github.com/apache/couchdb/pull/804#issuecomment-328835439","issue_url":"https://api.github.com/repos/apache/couchdb/issues/804","id":328835439,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODgzNTQzOQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T12:19:56Z","updated_at":"2017-09-12T12:19:56Z","author_association":"MEMBER","body":"I don't know for sure, but my guess that was a kind of [a rudimentary traceback](https://github.com/willholley/couchdb/commit/bbe0f0d87c6e08760a214b0b9d8d1a033a41c269#diff-f7c867d23c179319495d65d8f6203df7R20) that got lost in a refactoring.\r\n\r\nYes, as I see it you here mixing fixes for index selection refactoring with mango_error's signature changes, which I'm not against of, but would prefer to be done in more organized fashion, rather than the scope creep. If that's all right with you let's do that in separate PR for sake of accountability and simplified revert, if that'd be necessary. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328835439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328838777","html_url":"https://github.com/apache/couchdb/pull/804#issuecomment-328838777","issue_url":"https://api.github.com/repos/apache/couchdb/issues/804","id":328838777,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODgzODc3Nw==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T12:34:11Z","updated_at":"2017-09-12T12:34:11Z","author_association":"MEMBER","body":"@eiri Interesting - I wonder why the logging was removed. In any case, I've reverted to the existing pattern for now and we can consider the error signature changes as a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328838777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328841171","html_url":"https://github.com/apache/couchdb/pull/804#issuecomment-328841171","issue_url":"https://api.github.com/repos/apache/couchdb/issues/804","id":328841171,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODg0MTE3MQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T12:43:51Z","updated_at":"2017-09-12T12:43:51Z","author_association":"MEMBER","body":"Judging by minimalistic description of [commit where it was done](https://github.com/apache/couchdb/commit/422fdcdbeedb818e1e69478b7f1f492cdc71c15c#diff-f7c867d23c179319495d65d8f6203df7L19) - in heat of refactoring :)\r\n\r\nCool, thank you for the change! +1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328841171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328851901","html_url":"https://github.com/apache/couchdb/pull/803#issuecomment-328851901","issue_url":"https://api.github.com/repos/apache/couchdb/issues/803","id":328851901,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODg1MTkwMQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T13:23:41Z","updated_at":"2017-09-12T13:26:56Z","author_association":"CONTRIBUTOR","body":"Looks good. Squash and merge.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328851901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328878657","html_url":"https://github.com/apache/couchdb/issues/809#issuecomment-328878657","issue_url":"https://api.github.com/repos/apache/couchdb/issues/809","id":328878657,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODg3ODY1Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T14:55:58Z","updated_at":"2017-09-12T14:55:58Z","author_association":"MEMBER","body":"Continuous replication doesn't poll. The replicator sits on a `_changes` feed that publishes changes to the database as they occur. There is no introduced delay, but changes may not be published on the feed instantaneously.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328878657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328898003","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-328898003","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":328898003,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODg5ODAwMw==","user":{"login":"FelipeTaiarol","id":859559,"node_id":"MDQ6VXNlcjg1OTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/859559?v=4","gravatar_id":"","url":"https://api.github.com/users/FelipeTaiarol","html_url":"https://github.com/FelipeTaiarol","followers_url":"https://api.github.com/users/FelipeTaiarol/followers","following_url":"https://api.github.com/users/FelipeTaiarol/following{/other_user}","gists_url":"https://api.github.com/users/FelipeTaiarol/gists{/gist_id}","starred_url":"https://api.github.com/users/FelipeTaiarol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelipeTaiarol/subscriptions","organizations_url":"https://api.github.com/users/FelipeTaiarol/orgs","repos_url":"https://api.github.com/users/FelipeTaiarol/repos","events_url":"https://api.github.com/users/FelipeTaiarol/events{/privacy}","received_events_url":"https://api.github.com/users/FelipeTaiarol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T15:56:29Z","updated_at":"2017-09-12T15:56:29Z","author_association":"NONE","body":"Just checking if anybody else knows what else could be the problem ? Also, is it correct to expect that CouchDB should be able to handle thousands of clients listening to the _changes feed ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328898003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328943882","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-328943882","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":328943882,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODk0Mzg4Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T18:38:56Z","updated_at":"2017-09-12T18:38:56Z","author_association":"MEMBER","body":"I'm afraid I don't have any free time to further look at your issue. There are companies offering commercial CouchDB support if that suits your needs.\r\n\r\nYes, CouchDB can handle \"thousands of clients\" listening to a _changes feed, though you'd be better served with a 3-node cluster behind a load balancer rather than a single machine handling all that load.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328943882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328952246","html_url":"https://github.com/apache/couchdb/pull/726#issuecomment-328952246","issue_url":"https://api.github.com/repos/apache/couchdb/issues/726","id":328952246,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODk1MjI0Ng==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-12T19:10:30Z","updated_at":"2017-09-12T19:10:30Z","author_association":"CONTRIBUTOR","body":"Updated to always underestimate the sizes:\r\n\r\n```\r\n==> jiffy (get-deps)\r\n==> jsx (get-deps)\r\n==> jsone (get-deps)\r\n==> couch_ebench (get-deps)\r\n==> jiffy (compile)\r\n==> jsx (compile)\r\n==> jsone (compile)\r\n==> couch_ebench (compile)\r\nCompiled src/couch_ejson_size1.erl\r\n                   Input |  jiffy |    erl |  jsone |    jsx | python |   node |\r\n--------------------------------------------------------------------------------\r\n                     0.0 |      3 |      3 |     26 |      3 |      3 |      1 |\r\n                     0.1 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                     0.2 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                     0.9 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                    0.01 |      4 |      4 |     26 |      4 |      4 |      4 |\r\n                   0.001 |      5 |      4 |     26 |      5 |      5 |      5 |\r\n                 0.00001 |      7 |      4 |     26 |      6 |      5 |      7 |\r\n                   0.002 |      5 |      4 |     26 |      5 |      5 |      5 |\r\n                  0.0002 |      6 |      4 |     26 |      6 |      6 |      6 |\r\n                0.000002 |      8 |      4 |     26 |      6 |      5 |      8 |\r\n                    0.11 |      4 |      3 |     26 |      4 |      4 |      4 |\r\n                   0.111 |      5 |      3 |     26 |      5 |      5 |      5 |\r\n                  0.1111 |      6 |      3 |     26 |      6 |      6 |      6 |\r\n               0.3333333 |      9 |      3 |     26 |      9 |      9 |      9 |\r\n              0.33333333 |     10 |      3 |     26 |     10 |     10 |     10 |\r\n              0.90000009 |     10 |      3 |     26 |     10 |     10 |     10 |\r\n             0.900000009 |     11 |      3 |     26 |     11 |     11 |     11 |\r\n              0.99999999 |     10 |      3 |     26 |     10 |     10 |     10 |\r\n             0.999999999 |     11 |      3 |     26 |     11 |     11 |     11 |\r\n    0.100000000000000017 |     19 |      3 |     26 |     19 |     19 |     19 |\r\n  0.10000000000000000018 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                     1.0 |      3 |      3 |     26 |      3 |      3 |      1 |\r\n                     1.1 |      3 |      3 |     26 |      3 |      3 |      3 |\r\n                   20.02 |      5 |      3 |     26 |      5 |      5 |      5 |\r\n                 300.003 |      7 |      3 |     26 |      7 |      7 |      7 |\r\n               4000.0004 |      9 |      3 |     26 |      9 |      9 |      9 |\r\n             50000.00005 |     11 |      3 |     26 |     11 |     11 |     11 |\r\n           600000.000006 |     13 |      3 |     26 |     13 |     13 |     13 |\r\n           10000000000.0 |     13 |      4 |     26 |      6 |     13 |     11 |\r\n          11111111111.01 |     14 |      4 |     26 |     14 |     14 |     14 |\r\n    99999999999.99999999 |     14 |      4 |     26 |      6 |     14 |     12 |\r\n3.3333332538604736328125 |     18 |      3 |     26 |     18 |     18 |     18 |\r\n               3.3333333 |      9 |      3 |     26 |      9 |      9 |      9 |\r\n                2.000002 |      8 |      3 |     26 |      8 |      8 |      8 |\r\n               2.0000002 |      9 |      3 |     26 |      9 |      9 |      9 |\r\n              2.00000002 |     10 |      3 |     26 |     10 |     10 |     10 |\r\n               2.0000057 |      9 |      3 |     26 |      9 |      9 |      9 |\r\n   2.0000057220458984375 |     18 |      3 |     26 |     18 |     18 |     18 |\r\n                   1.0e1 |      4 |      3 |     26 |      4 |      4 |      2 |\r\n                  1.0e10 |     13 |      4 |     26 |      6 |     13 |     11 |\r\n             1.000001e10 |     13 |      4 |     26 |     11 |     13 |     11 |\r\n            1.0000001e10 |     13 |      4 |     26 |     12 |     13 |     11 |\r\n             1.000001e16 |     19 |      4 |     26 |     11 |     12 |     17 |\r\n                  1.1e16 |     19 |      4 |     26 |      6 |      7 |     17 |\r\n                  1.0e25 |      5 |      4 |     26 |      6 |      5 |      5 |\r\n                  1.0e30 |      5 |      4 |     26 |      6 |      5 |      5 |\r\n        1.00000000001e29 |     17 |      4 |     26 |     16 |     17 |     17 |\r\n        1.00000000001e30 |     17 |      4 |     26 |     16 |     17 |     17 |\r\n                 1.0e100 |      6 |      5 |     27 |      7 |      6 |      6 |\r\n                 1.0e308 |      6 |      5 |     27 |      7 |      6 |      6 |\r\n    2.718281828459045235 |     17 |      3 |     26 |     17 |     17 |     17 |\r\n    3.141592653589793238 |     17 |      3 |     26 |     17 |     17 |     17 |\r\n3.141592653589793238e100 |     22 |      5 |     27 |     21 |     22 |     22 |\r\n           1.1443742e-28 |     13 |      5 |     26 |     13 |     13 |     13 |\r\n           3.0316488e-13 |     13 |      5 |     26 |     13 |     13 |     13 |\r\n            2.7670118E19 |     22 |      4 |     26 |     12 |     13 |     20 |\r\n                 1.0e-10 |      5 |      5 |     26 |      7 |      5 |      5 |\r\n                 1.0e-30 |      5 |      5 |     26 |      7 |      5 |      5 |\r\n         1.000000001e-30 |     15 |      5 |     26 |     15 |     15 |     15 |\r\n                1.0e-100 |      6 |      6 |     27 |      8 |      6 |      6 |\r\n                1.0e-200 |      6 |      6 |     27 |      8 |      6 |      6 |\r\n                1.0e-308 |      6 |      3 |     27 |      8 |      6 |      6 |\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/328952246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329036582","html_url":"https://github.com/apache/couchdb/pull/726#issuecomment-329036582","issue_url":"https://api.github.com/repos/apache/couchdb/issues/726","id":329036582,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTAzNjU4Mg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T02:12:17Z","updated_at":"2017-09-13T02:18:22Z","author_association":"CONTRIBUTOR","body":"A speed benchmark with the latest version\r\n\r\n```\r\n ./run_ebench.sh 100 1000 10000\r\nGenerating inputs...\r\nRunning benchmark: 4 encoders x 42 tests x input size(s): [100,1000,10000]\r\nFinished running benchmark.\r\nEnc.  | Input size | Input type   | USec       | Bytes\r\n------+------------+--------------+------------+----------\r\n\r\njiffy\r\n      |        100 |       file_1 |     1692.0 |     130301\r\n      |        100 |    float_17d |       32.5 |       2001\r\n      |        100 | float_1d_arr |       21.2 |        401\r\n      |        100 | float_large_ |       21.6 |        701\r\n      |        100 | int_large_ar |      157.0 |      10301\r\n      |        100 | int_small_ar |       18.7 |        301\r\n      |        100 |   nested_arr |       12.0 |        202\r\n      |        100 |   nested_obj |       16.3 |        609\r\n      |        100 |    str_basic |        0.7 |        102\r\n      |        100 |     str_cent |        1.6 |        202\r\n      |        100 |     str_ctr1 |        1.3 |        602\r\n      |        100 |     str_escn |        1.1 |        202\r\n      |        100 |     str_euro |        2.0 |        302\r\n      |        100 |    str_hwair |        2.2 |        402\r\n      |       1000 |       file_1 |    17800.3 |    1303001\r\n      |       1000 |    float_17d |      306.6 |      20001\r\n      |       1000 | float_1d_arr |      226.7 |       4001\r\n      |       1000 | float_large_ |      317.8 |       7001\r\n      |       1000 | int_large_ar |     2171.0 |     103001\r\n      |       1000 | int_small_ar |      224.1 |       3001\r\n      |       1000 |   nested_arr |      147.3 |       2002\r\n      |       1000 |   nested_obj |      194.1 |       6009\r\n      |       1000 |    str_basic |        3.6 |       1002\r\n      |       1000 |     str_cent |       12.1 |       2002\r\n      |       1000 |     str_ctr1 |        8.3 |       6002\r\n      |       1000 |     str_escn |        6.4 |       2002\r\n      |       1000 |     str_euro |       16.9 |       3002\r\n      |       1000 |    str_hwair |       20.0 |       4002\r\n      |      10000 |       file_1 |   184360.2 |   13030001\r\n      |      10000 |    float_17d |     3030.1 |     200001\r\n      |      10000 | float_1d_arr |     2401.1 |      40001\r\n      |      10000 | float_large_ |     2307.9 |      70001\r\n      |      10000 | int_large_ar |    28966.1 |    1030001\r\n      |      10000 | int_small_ar |     2177.0 |      30001\r\n      |      10000 |   nested_arr |     1381.3 |      20002\r\n      |      10000 |   nested_obj |     1636.3 |      60009\r\n      |      10000 |    str_basic |       24.2 |      10002\r\n      |      10000 |     str_cent |       86.9 |      20002\r\n      |      10000 |     str_ctr1 |       57.5 |      60002\r\n      |      10000 |     str_escn |       47.2 |      20002\r\n      |      10000 |     str_euro |      147.0 |      30002\r\n      |      10000 |    str_hwair |      217.8 |      40002\r\n\r\nerlfast\r\n      |        100 |       file_1 |      418.4 |     129001\r\n      |        100 |    float_17d |        4.9 |        401\r\n      |        100 | float_1d_arr |        4.9 |        401\r\n      |        100 | float_large_ |        4.4 |        601\r\n      |        100 | int_large_ar |       14.9 |      10301\r\n      |        100 | int_small_ar |        3.1 |        301\r\n      |        100 |   nested_arr |        3.1 |        202\r\n      |        100 |   nested_obj |        6.7 |        609\r\n      |        100 |    str_basic |        0.0 |        102\r\n      |        100 |     str_cent |        0.0 |        202\r\n      |        100 |     str_ctr1 |        0.0 |        102\r\n      |        100 |     str_escn |        0.0 |        102\r\n      |        100 |     str_euro |        0.0 |        302\r\n      |        100 |    str_hwair |        0.0 |        402\r\n      |       1000 |       file_1 |     4376.1 |    1290001\r\n      |       1000 |    float_17d |       53.1 |       4001\r\n      |       1000 | float_1d_arr |       58.7 |       4001\r\n      |       1000 | float_large_ |       49.5 |       6001\r\n      |       1000 | int_large_ar |      158.9 |     103001\r\n      |       1000 | int_small_ar |       40.5 |       3001\r\n      |       1000 |   nested_arr |       36.9 |       2002\r\n      |       1000 |   nested_obj |       76.4 |       6009\r\n      |       1000 |    str_basic |        0.0 |       1002\r\n      |       1000 |     str_cent |        0.0 |       2002\r\n      |       1000 |     str_ctr1 |        0.0 |       1002\r\n      |       1000 |     str_escn |        0.0 |       1002\r\n      |       1000 |     str_euro |        0.0 |       3002\r\n      |       1000 |    str_hwair |        0.0 |       4002\r\n      |      10000 |       file_1 |    43961.1 |   12900001\r\n      |      10000 |    float_17d |      504.0 |      40001\r\n      |      10000 | float_1d_arr |      487.8 |      40001\r\n      |      10000 | float_large_ |      451.9 |      60001\r\n      |      10000 | int_large_ar |     1871.3 |    1030001\r\n      |      10000 | int_small_ar |      428.1 |      30001\r\n      |      10000 |   nested_arr |      354.4 |      20002\r\n      |      10000 |   nested_obj |      826.9 |      60009\r\n      |      10000 |    str_basic |        0.1 |      10002\r\n      |      10000 |     str_cent |        0.3 |      20002\r\n      |      10000 |     str_ctr1 |        0.0 |      10002\r\n      |      10000 |     str_escn |        0.1 |      10002\r\n      |      10000 |     str_euro |        0.1 |      30002\r\n      |      10000 |    str_hwair |        0.1 |      40002\r\n\r\nerlexact\r\n      |        100 |       file_1 |     3534.4 |     130301\r\n      |        100 |    float_17d |       81.7 |       2001\r\n      |        100 | float_1d_arr |       73.8 |        401\r\n      |        100 | float_large_ |       74.2 |        701\r\n      |        100 | int_large_ar |       11.6 |      10301\r\n      |        100 | int_small_ar |        5.2 |        301\r\n      |        100 |   nested_arr |        3.4 |        202\r\n      |        100 |   nested_obj |       11.1 |        609\r\n      |        100 |    str_basic |        2.5 |        102\r\n      |        100 |     str_cent |        4.1 |        202\r\n      |        100 |     str_ctr1 |        2.3 |        602\r\n      |        100 |     str_escn |        2.3 |        202\r\n      |        100 |     str_euro |        3.1 |        302\r\n      |        100 |    str_hwair |        2.3 |        402\r\n      |       1000 |       file_1 |    35486.8 |    1303001\r\n      |       1000 |    float_17d |      757.2 |      20001\r\n      |       1000 | float_1d_arr |      701.9 |       4001\r\n      |       1000 | float_large_ |      707.5 |       7001\r\n      |       1000 | int_large_ar |       92.3 |     103001\r\n      |       1000 | int_small_ar |       51.6 |       3001\r\n      |       1000 |   nested_arr |       34.5 |       2002\r\n      |       1000 |   nested_obj |      138.0 |       6009\r\n      |       1000 |    str_basic |       23.9 |       1002\r\n      |       1000 |     str_cent |       39.1 |       2002\r\n      |       1000 |     str_ctr1 |       20.6 |       6002\r\n      |       1000 |     str_escn |       22.6 |       2002\r\n      |       1000 |     str_euro |       30.0 |       3002\r\n      |       1000 |    str_hwair |       21.8 |       4002\r\n      |      10000 |       file_1 |   350994.4 |   13030001\r\n      |      10000 |    float_17d |     8522.7 |     200001\r\n      |      10000 | float_1d_arr |     6650.3 |      40001\r\n      |      10000 | float_large_ |     6538.2 |      70001\r\n      |      10000 | int_large_ar |     1264.5 |    1030001\r\n      |      10000 | int_small_ar |      508.0 |      30001\r\n      |      10000 |   nested_arr |      339.3 |      20002\r\n      |      10000 |   nested_obj |     1089.0 |      60009\r\n      |      10000 |    str_basic |      239.3 |      10002\r\n      |      10000 |     str_cent |      382.3 |      20002\r\n      |      10000 |     str_ctr1 |      208.8 |      60002\r\n      |      10000 |     str_escn |      221.7 |      20002\r\n      |      10000 |     str_euro |      298.5 |      30002\r\n      |      10000 |    str_hwair |      221.2 |      40002\r\n\r\njsone\r\n      |        100 |       file_1 |     7879.2 |     134101\r\n      |        100 |    float_17d |       78.2 |       2701\r\n      |        100 | float_1d_arr |       74.5 |       2701\r\n      |        100 | float_large_ |      160.3 |       2801\r\n      |        100 | int_large_ar |      100.1 |      10301\r\n      |        100 | int_small_ar |       13.2 |        301\r\n      |        100 |   nested_arr |       10.3 |        202\r\n      |        100 |   nested_obj |       33.4 |        609\r\n      |        100 |    str_basic |        5.2 |        102\r\n      |        100 |     str_cent |       16.3 |        602\r\n      |        100 |     str_ctr1 |        7.5 |        602\r\n      |        100 |     str_escn |        3.3 |        202\r\n      |        100 |     str_euro |       11.5 |        602\r\n      |        100 |    str_hwair |       24.9 |       1202\r\n      |       1000 |       file_1 |    92657.6 |    1341001\r\n      |       1000 |    float_17d |      795.1 |      27001\r\n      |       1000 | float_1d_arr |      717.4 |      27001\r\n      |       1000 | float_large_ |     1581.0 |      28001\r\n      |       1000 | int_large_ar |      955.5 |     103001\r\n      |       1000 | int_small_ar |      132.9 |       3001\r\n      |       1000 |   nested_arr |      102.3 |       2002\r\n      |       1000 |   nested_obj |      290.2 |       6009\r\n      |       1000 |    str_basic |       50.5 |       1002\r\n      |       1000 |     str_cent |      131.5 |       6002\r\n      |       1000 |     str_ctr1 |       68.6 |       6002\r\n      |       1000 |     str_escn |       31.2 |       2002\r\n      |       1000 |     str_euro |      109.2 |       6002\r\n      |       1000 |    str_hwair |      352.8 |      12002\r\n      |      10000 |       file_1 |   967573.9 |   13410001\r\n      |      10000 |    float_17d |     7768.7 |     270001\r\n      |      10000 | float_1d_arr |     7831.8 |     270001\r\n      |      10000 | float_large_ |    17069.9 |     280001\r\n      |      10000 | int_large_ar |    11148.5 |    1030001\r\n      |      10000 | int_small_ar |     1468.5 |      30001\r\n      |      10000 |   nested_arr |     1483.7 |      20002\r\n      |      10000 |   nested_obj |     3742.5 |      60009\r\n      |      10000 |    str_basic |      631.4 |      10002\r\n      |      10000 |     str_cent |     1125.7 |      60002\r\n      |      10000 |     str_ctr1 |      703.1 |      60002\r\n      |      10000 |     str_escn |      317.7 |      20002\r\n      |      10000 |     str_euro |     1431.2 |      60002\r\n      |      10000 |    str_hwair |     2626.6 |     120002\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329036582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329056468","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-329056468","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":329056468,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTA1NjQ2OA==","user":{"login":"FelipeTaiarol","id":859559,"node_id":"MDQ6VXNlcjg1OTU1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/859559?v=4","gravatar_id":"","url":"https://api.github.com/users/FelipeTaiarol","html_url":"https://github.com/FelipeTaiarol","followers_url":"https://api.github.com/users/FelipeTaiarol/followers","following_url":"https://api.github.com/users/FelipeTaiarol/following{/other_user}","gists_url":"https://api.github.com/users/FelipeTaiarol/gists{/gist_id}","starred_url":"https://api.github.com/users/FelipeTaiarol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelipeTaiarol/subscriptions","organizations_url":"https://api.github.com/users/FelipeTaiarol/orgs","repos_url":"https://api.github.com/users/FelipeTaiarol/repos","events_url":"https://api.github.com/users/FelipeTaiarol/events{/privacy}","received_events_url":"https://api.github.com/users/FelipeTaiarol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T04:36:46Z","updated_at":"2017-09-13T04:36:46Z","author_association":"NONE","body":"yes, I would be interested in recommendations of companies offering professional support.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329056468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329060856","html_url":"https://github.com/apache/couchdb/issues/747#issuecomment-329060856","issue_url":"https://api.github.com/repos/apache/couchdb/issues/747","id":329060856,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTA2MDg1Ng==","user":{"login":"domachine","id":413208,"node_id":"MDQ6VXNlcjQxMzIwOA==","avatar_url":"https://avatars.githubusercontent.com/u/413208?v=4","gravatar_id":"","url":"https://api.github.com/users/domachine","html_url":"https://github.com/domachine","followers_url":"https://api.github.com/users/domachine/followers","following_url":"https://api.github.com/users/domachine/following{/other_user}","gists_url":"https://api.github.com/users/domachine/gists{/gist_id}","starred_url":"https://api.github.com/users/domachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/domachine/subscriptions","organizations_url":"https://api.github.com/users/domachine/orgs","repos_url":"https://api.github.com/users/domachine/repos","events_url":"https://api.github.com/users/domachine/events{/privacy}","received_events_url":"https://api.github.com/users/domachine/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T05:11:33Z","updated_at":"2017-09-13T05:11:33Z","author_association":"NONE","body":"@gbiellem Are you running in cluster mode or in single mode?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329060856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329061026","html_url":"https://github.com/apache/couchdb/issues/747#issuecomment-329061026","issue_url":"https://api.github.com/repos/apache/couchdb/issues/747","id":329061026,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTA2MTAyNg==","user":{"login":"gbiellem","id":2351700,"node_id":"MDQ6VXNlcjIzNTE3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2351700?v=4","gravatar_id":"","url":"https://api.github.com/users/gbiellem","html_url":"https://github.com/gbiellem","followers_url":"https://api.github.com/users/gbiellem/followers","following_url":"https://api.github.com/users/gbiellem/following{/other_user}","gists_url":"https://api.github.com/users/gbiellem/gists{/gist_id}","starred_url":"https://api.github.com/users/gbiellem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbiellem/subscriptions","organizations_url":"https://api.github.com/users/gbiellem/orgs","repos_url":"https://api.github.com/users/gbiellem/repos","events_url":"https://api.github.com/users/gbiellem/events{/privacy}","received_events_url":"https://api.github.com/users/gbiellem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T05:12:55Z","updated_at":"2017-09-13T05:12:55Z","author_association":"NONE","body":"@domachine single mode","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329061026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329180189","html_url":"https://github.com/apache/couchdb/issues/813#issuecomment-329180189","issue_url":"https://api.github.com/repos/apache/couchdb/issues/813","id":329180189,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE4MDE4OQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T14:11:08Z","updated_at":"2017-09-13T14:11:08Z","author_association":"MEMBER","body":"This exception is from rebar's cover module, not from couch_log code. Here is a similar issue from rebar3 erlang/rebar3#1538.\r\n\r\nI've noticed that in the listing cover ran over `workspace/CouchDB_2.1.0_UB_17.04`, but the exception raised from `workspace/CouchDB_2.0.0_UB_17.04`. Could it be env mixup where cover accidentally run over beams compiled without debug info?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329180189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329198834","html_url":"https://github.com/apache/couchdb/issues/813#issuecomment-329198834","issue_url":"https://api.github.com/repos/apache/couchdb/issues/813","id":329198834,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE5ODgzNA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T15:10:00Z","updated_at":"2017-09-13T15:10:00Z","author_association":"CONTRIBUTOR","body":"Sometimes cover doesn't play well with meck. I had luck upgrading meck  locally when encountering a cover issue before. Though might want to try meck <= 8.6 as later it was upgraded to rebar3 https://github.com/eproxus/meck/releases/tag/0.8.6","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329198834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329219197","html_url":"https://github.com/apache/couchdb/pull/495#issuecomment-329219197","issue_url":"https://api.github.com/repos/apache/couchdb/issues/495","id":329219197,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIxOTE5Nw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T16:15:28Z","updated_at":"2017-09-13T16:15:28Z","author_association":"MEMBER","body":"This has been rebased onto master as of now. Is anyone against me merging this to master in preparation for merging PSE in a week or two? Note that this PR is totes not scary as its mostly just moving code and removing the public definition of the `#db{}` record.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329219197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329230197","html_url":"https://github.com/apache/couchdb/pull/814#issuecomment-329230197","issue_url":"https://api.github.com/repos/apache/couchdb/issues/814","id":329230197,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIzMDE5Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T16:54:14Z","updated_at":"2017-09-13T16:54:14Z","author_association":"MEMBER","body":"nice, +1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329230197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329524878","html_url":"https://github.com/apache/couchdb/pull/817#issuecomment-329524878","issue_url":"https://api.github.com/repos/apache/couchdb/issues/817","id":329524878,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTUyNDg3OA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T15:48:01Z","updated_at":"2017-09-14T15:48:01Z","author_association":"MEMBER","body":"@nickva Had to revert spec restoration commit, apparently R16 still doesn't know about `dict()` type ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329524878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329527329","html_url":"https://github.com/apache/couchdb/issues/815#issuecomment-329527329","issue_url":"https://api.github.com/repos/apache/couchdb/issues/815","id":329527329,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTUyNzMyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T15:55:37Z","updated_at":"2017-09-14T15:55:37Z","author_association":"MEMBER","body":"Duplicate of #617.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329527329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329528687","html_url":"https://github.com/apache/couchdb/pull/817#issuecomment-329528687","issue_url":"https://api.github.com/repos/apache/couchdb/issues/817","id":329528687,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTUyODY4Nw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T16:00:15Z","updated_at":"2017-09-14T16:00:15Z","author_association":"CONTRIBUTOR","body":"Ah ok, cool. Still approved, merge it when ready.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329528687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329531543","html_url":"https://github.com/apache/couchdb/issues/781#issuecomment-329531543","issue_url":"https://api.github.com/repos/apache/couchdb/issues/781","id":329531543,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTUzMTU0Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T16:10:10Z","updated_at":"2017-09-14T16:10:10Z","author_association":"MEMBER","body":"This is now unblocked.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329531543/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329534962","html_url":"https://github.com/apache/couchdb/pull/818#issuecomment-329534962","issue_url":"https://api.github.com/repos/apache/couchdb/issues/818","id":329534962,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTUzNDk2Mg==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T16:22:32Z","updated_at":"2017-09-14T16:22:32Z","author_association":"MEMBER","body":"It needs rebasing on master but basically looks good to me. What happens if both `selector` and `partialfilterselector` are specified?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329534962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329537652","html_url":"https://github.com/apache/couchdb/pull/818#issuecomment-329537652","issue_url":"https://api.github.com/repos/apache/couchdb/issues/818","id":329537652,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTUzNzY1Mg==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T16:31:46Z","updated_at":"2017-09-14T16:31:46Z","author_association":"MEMBER","body":"@willholley I've just rebased\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329537652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329538812","html_url":"https://github.com/apache/couchdb/issues/617#issuecomment-329538812","issue_url":"https://api.github.com/repos/apache/couchdb/issues/617","id":329538812,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTUzODgxMg==","user":{"login":"drasko","id":149944,"node_id":"MDQ6VXNlcjE0OTk0NA==","avatar_url":"https://avatars.githubusercontent.com/u/149944?v=4","gravatar_id":"","url":"https://api.github.com/users/drasko","html_url":"https://github.com/drasko","followers_url":"https://api.github.com/users/drasko/followers","following_url":"https://api.github.com/users/drasko/following{/other_user}","gists_url":"https://api.github.com/users/drasko/gists{/gist_id}","starred_url":"https://api.github.com/users/drasko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drasko/subscriptions","organizations_url":"https://api.github.com/users/drasko/orgs","repos_url":"https://api.github.com/users/drasko/repos","events_url":"https://api.github.com/users/drasko/events{/privacy}","received_events_url":"https://api.github.com/users/drasko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T16:35:59Z","updated_at":"2017-09-14T16:35:59Z","author_association":"NONE","body":"I did a build on OTP20 Debian Testing (Buster) - seems to be working fine. Deprication warnings along the way, but nothing critical IMHO.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329538812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329543705","html_url":"https://github.com/apache/couchdb/pull/818#issuecomment-329543705","issue_url":"https://api.github.com/repos/apache/couchdb/issues/818","id":329543705,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTU0MzcwNQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T16:54:05Z","updated_at":"2017-09-14T16:54:05Z","author_association":"MEMBER","body":"@garrensmith I think we should follow the convention for other fields and use `_` as a delimiter - i.e. `partial_filter_selector` instead of `partialfilterselector`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/329543705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]