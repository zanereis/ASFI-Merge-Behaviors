[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582000","html_url":"https://github.com/apache/storm/issues/4793#issuecomment-2612582000","issue_url":"https://api.github.com/repos/apache/storm/issues/4793","id":2612582000,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODIwMDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T06:57:31Z","updated_at":"2025-01-24T13:52:35Z","author_association":"COLLABORATOR","body":"Subtask of parent task STORM-920","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123242642","html_url":"https://github.com/apache/storm/pull/641#issuecomment-123242642","issue_url":"https://api.github.com/repos/apache/storm/issues/641","id":123242642,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzI0MjY0Mg==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T09:42:01Z","updated_at":"2015-07-21T09:42:01Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123242642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440454","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440454","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440454,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0NTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T09:42:02Z","updated_at":"2025-01-24T12:40:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/641#issuecomment-123242642\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/641#issuecomment-123242642</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123243525","html_url":"https://github.com/apache/storm/pull/632#issuecomment-123243525","issue_url":"https://api.github.com/repos/apache/storm/issues/632","id":123243525,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzI0MzUyNQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T09:44:09Z","updated_at":"2015-07-21T09:44:09Z","author_association":"CONTRIBUTOR","body":"+1 looks good to me\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123243525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612576403","html_url":"https://github.com/apache/storm/issues/4756#issuecomment-2612576403","issue_url":"https://api.github.com/repos/apache/storm/issues/4756","id":2612576403,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzY0MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T09:44:17Z","updated_at":"2025-01-24T13:50:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/632#issuecomment-123243525\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/632#issuecomment-123243525</a></p>\n\n<p>    +1 looks good to me</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612576403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612576409","html_url":"https://github.com/apache/storm/issues/4756#issuecomment-2612576409","issue_url":"https://api.github.com/repos/apache/storm/issues/4756","id":2612576409,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzY0MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T09:52:53Z","updated_at":"2025-01-24T13:50:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/632\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/632</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612576409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612576412","html_url":"https://github.com/apache/storm/issues/4756#issuecomment-2612576412","issue_url":"https://api.github.com/repos/apache/storm/issues/4756","id":2612576412,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzY0MTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T09:58:02Z","updated_at":"2025-01-24T13:50:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Thanks, </p>\n\n<p>I merged this into master. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612576412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123252705","html_url":"https://github.com/apache/storm/pull/615#issuecomment-123252705","issue_url":"https://api.github.com/repos/apache/storm/issues/615","id":123252705,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzI1MjcwNQ==","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T10:19:18Z","updated_at":"2015-07-21T10:19:18Z","author_association":"CONTRIBUTOR","body":"+1 I would check this in but my laptop Internet connection is really bad right now. I'll try later on to see if things get better but if someone else wants to that is fine with me\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123252705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612575671","html_url":"https://github.com/apache/storm/issues/4751#issuecomment-2612575671","issue_url":"https://api.github.com/repos/apache/storm/issues/4751","id":2612575671,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzU2NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T10:19:19Z","updated_at":"2025-01-24T13:49:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/615#issuecomment-123252705\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/615#issuecomment-123252705</a></p>\n\n<p>    +1 I would check this in but my laptop Internet connection is really bad right now. I'll try later on to see if things get better but if someone else wants to that is fine with me</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612575671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440458","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440458","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440458,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0NTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T14:38:47Z","updated_at":"2025-01-24T12:40:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/641#discussion_r35109156\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/641#discussion_r35109156</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/grouping/PartialKeyGrouping.java &#8212;<br/>\n    @@ -65,7 +66,11 @@ public void prepare(WorkerTopologyContext context, GlobalStreamId stream, List<I<br/>\n     List<Object> selectedFields = outFields.select(fields, values);<br/>\n     ByteBuffer out = ByteBuffer.allocate(selectedFields.size() * 4);<br/>\n     for (Object o: selectedFields) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>out.putInt(o.hashCode());<br/>\n    +    if (o instanceof Object[]) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r <br/>\n    Could we add same thing (converting List to Object[] by toArray, and apply Arrays.deepHashCode()) from list-hash-code to this?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440464","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440464","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440464,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T16:04:30Z","updated_at":"2025-01-24T12:40:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/641#discussion_r35120287\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/641#discussion_r35120287</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/grouping/PartialKeyGrouping.java &#8212;<br/>\n    @@ -65,7 +66,11 @@ public void prepare(WorkerTopologyContext context, GlobalStreamId stream, List<I<br/>\n     List<Object> selectedFields = outFields.select(fields, values);<br/>\n     ByteBuffer out = ByteBuffer.allocate(selectedFields.size() * 4);<br/>\n     for (Object o: selectedFields) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>out.putInt(o.hashCode());<br/>\n    +    if (o instanceof Object[]) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Yes, we need to catch the primitive array types as well somehow.</p>\n\n<p>    Here `o` may not be a List.  I think we need to check not only `instanceof Object[]` but all of the other primitive array types as well.  Probably something like this?</p>\n\n<p>    ```Java<br/>\n    for (Object o: selectedFields) {<br/>\nif (o instanceof Object[]) </p>\n{\n    out.putInt(Arrays.deepHashCode((Object[])o));\n}\n<p> else if (o instanceof byte[]) </p>\n{\n    out.putInt(Arrays.hashCode((byte[]) o));\n}\n<p> else if (o instanceof short[]) </p>\n{\n    out.putInt(Arrays.hashCode((short[]) o));\n}\n<p> else if (o instanceof int[]) </p>\n{\n    out.putInt(Arrays.hashCode((int[]) o));\n}\n<p> else if (o instanceof long[]) </p>\n{\n    out.putInt(Arrays.hashCode((long[]) o));\n}\n<p> else if (o instanceof char[]) </p>\n{\n    out.putInt(Arrays.hashCode((char[]) o));\n}\n<p> else if (o instanceof float[]) </p>\n{\n    out.putInt(Arrays.hashCode((float[]) o));\n}\n<p> else if (o instanceof double[]) </p>\n{\n    out.putInt(Arrays.hashCode((double[]) o));\n}\n<p> else if (o instanceof boolean[]) </p>\n{\n    out.putInt(Arrays.hashCode((boolean[]) o));\n}\n<p> else if (o != null) </p>\n{\n    out.putInt(o.hashCode());\n}\n<p> else </p>\n{\n  out.putInt(0);\n}\n<p>    ```</p>\n\n<p>    This seems to be what <a href=\"#deepHashCode\" target=\"_blank\" rel=\"noopener\">Arrays#deepHashCode</a>(<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Arrays.java#3709\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Arrays.java#3709</a>) does.</p>\n\n<p>    What do you think?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440470","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440470","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440470,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0NzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T16:14:48Z","updated_at":"2025-01-24T12:40:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/641#discussion_r35121430\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/641#discussion_r35121430</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/grouping/PartialKeyGrouping.java &#8212;<br/>\n    @@ -65,7 +66,11 @@ public void prepare(WorkerTopologyContext context, GlobalStreamId stream, List<I<br/>\n     List<Object> selectedFields = outFields.select(fields, values);<br/>\n     ByteBuffer out = ByteBuffer.allocate(selectedFields.size() * 4);<br/>\n     for (Object o: selectedFields) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>out.putInt(o.hashCode());<br/>\n    +    if (o instanceof Object[]) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @d2r <br/>\n    I didn't think about primitive array type.<br/>\n    Actually I mean that,</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>Does 'o' have an chance to be instance of List?</li>\n\t<li>If then, could we apply ```((List)o).toArray()``` to convert it Object[], and let if statement handle it?</li>\n</ul>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440474","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440474","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440474,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T17:04:29Z","updated_at":"2025-01-24T12:40:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/641#discussion_r35127032\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/641#discussion_r35127032</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/grouping/PartialKeyGrouping.java &#8212;<br/>\n    @@ -65,7 +66,11 @@ public void prepare(WorkerTopologyContext context, GlobalStreamId stream, List<I<br/>\n     List<Object> selectedFields = outFields.select(fields, values);<br/>\n     ByteBuffer out = ByteBuffer.allocate(selectedFields.size() * 4);<br/>\n     for (Object o: selectedFields) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>out.putInt(o.hashCode());<br/>\n    +    if (o instanceof Object[]) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I see. Yes, I could add this.  However, since we do not currently do this in backtype.storm.tuple it would be inconsistent.</p>\n\n<p>    In b.s.tuple, I always get a List<Object>.  I convert it to an array there because the call to Arrays#deepHashCode is simple.  If a tuple is <em>itself</em> a List, then Arrays#hashCode will call List#hashCode on it.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440478","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440478","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440478,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T17:40:58Z","updated_at":"2025-01-24T12:40:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/641#discussion_r35130923\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/641#discussion_r35130923</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/tuple.clj &#8212;<br/>\n    @@ -15,8 +15,11 @@<br/>\n     ;; limitations under the License.</p>\n\n<p>     (ns backtype.storm.tuple</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(:import <span class=\"error\">&#91;java.util List&#93;</span>))<br/>\n    +  (:import <span class=\"error\">&#91;java.util Arrays List&#93;</span>))</li>\n</ul>\n\n\n<p>     (defn list-hash-code<br/>\n       <span class=\"error\">&#91;^List alist&#93;</span></p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(.hashCode alist))<br/>\n    +  (if (nil? alist)<br/>\n    +    1<br/>\n    +    (let [^\"<span class=\"error\">&#91;Ljava.lang.Object;\" array (.toArray alist)&#93;</span> ;; Object[]<br/>\n    +      (Arrays/deepHashCode array))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    The type hint here seems to be unnecessary.  I'll remove it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560566","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560566","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560566,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA1NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T19:30:24Z","updated_at":"2025-01-24T13:42:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user arunmahadevan opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-837\" title=\"HdfsState ignores commits\" class=\"issue-link\" data-issue-key=\"STORM-837\"><del>STORM-837</del></a> Support for exactly once semantics in HdfsState</p>\n\n<p>    Changes to support exactly once semantics in HdfsState.</p>\n\n<p>    1. Moved the file rotation and sync to commit()<br/>\n    2. In pre-commit, if we have previously seen the txnid, recover the data up to that point by copying to a new file and discard the current data file.<br/>\n    3. In pre-commit atomically update <span class=\"error\">&#91;current txid, the datafile path and the current offset&#93;</span> in a (per partition) index file.<br/>\n    4. To keep it simple, automatically turn off exactly once semantics if TimedRotation policy is in use.</p>\n\n<p>    Have tested with the normal flow and simulating the recovery scenario, with both regular Hdfs file and sequence files. Appears to work fine.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/arunmahadevan/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/arunmahadevan/storm</a> master</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #644</p>\n\n<hr />\n<p>commit 5631b9d4746f34127a1bc89cb4488d2b2d8ec9d7<br/>\nAuthor: Arun Mahadevan <aiyer@hortonworks.com><br/>\nDate:   2015-07-21T19:04:09Z</p>\n\n<p>    Support for exactly once semantics in HdfsState</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560567","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560567","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560567,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA1Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T21:12:43Z","updated_at":"2025-01-24T13:42:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644#discussion_r35155252\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644#discussion_r35155252</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/trident/HdfsState.java &#8212;<br/>\n    @@ -17,14 +17,14 @@<br/>\n      */<br/>\n     package org.apache.storm.hdfs.trident;</p>\n\n<p>    +import backtype.storm.Config;<br/>\n     import backtype.storm.task.IMetricsContext;<br/>\n     import backtype.storm.topology.FailedException;<br/>\n     import org.apache.hadoop.conf.Configuration;<br/>\n    -import org.apache.hadoop.fs.FSDataOutputStream;<br/>\n    -import org.apache.hadoop.fs.FileSystem;<br/>\n    -import org.apache.hadoop.fs.Path;<br/>\n    +import org.apache.hadoop.fs.*;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Let's not import *</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560572","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560572","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560572,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA1NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T21:13:11Z","updated_at":"2025-01-24T13:42:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user knusbaum commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644#discussion_r35155299\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644#discussion_r35155299</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/trident/HdfsState.java &#8212;<br/>\n    @@ -40,8 +40,7 @@<br/>\n     import storm.trident.state.State;<br/>\n     import storm.trident.tuple.TridentTuple;</p>\n\n<p>    -import java.io.IOException;<br/>\n    -import java.io.Serializable;<br/>\n    +import java.io.*;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Again here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581164","html_url":"https://github.com/apache/storm/issues/4789#issuecomment-2612581164","issue_url":"https://api.github.com/repos/apache/storm/issues/4789","id":2612581164,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODExNjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T22:57:31Z","updated_at":"2025-01-24T13:52:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user harshach opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/645\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/645</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-951\" title=\"Storm Hive connector leaking connections\" class=\"issue-link\" data-issue-key=\"STORM-951\"><del>STORM-951</del></a>. Storm Hive connector leaking connections.</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/harshach/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/harshach/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-951\" title=\"Storm Hive connector leaking connections\" class=\"issue-link\" data-issue-key=\"STORM-951\"><del>STORM-951</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/645.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/645.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #645</p>\n\n<hr />\n<p>commit acb36df704d292b514d5c8e8437dc2d1c84a93d8<br/>\nAuthor: Sriharsha Chintalapani <mail@harsha.io><br/>\nDate:   2015-07-21T22:42:22Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-951\" title=\"Storm Hive connector leaking connections\" class=\"issue-link\" data-issue-key=\"STORM-951\"><del>STORM-951</del></a>. Storm Hive connector leaking connections.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123504221","html_url":"https://github.com/apache/storm/pull/645#issuecomment-123504221","issue_url":"https://api.github.com/repos/apache/storm/issues/645","id":123504221,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzUwNDIyMQ==","user":{"login":"Parth-Brahmbhatt","id":6914358,"node_id":"MDQ6VXNlcjY5MTQzNTg=","avatar_url":"https://avatars.githubusercontent.com/u/6914358?v=4","gravatar_id":"","url":"https://api.github.com/users/Parth-Brahmbhatt","html_url":"https://github.com/Parth-Brahmbhatt","followers_url":"https://api.github.com/users/Parth-Brahmbhatt/followers","following_url":"https://api.github.com/users/Parth-Brahmbhatt/following{/other_user}","gists_url":"https://api.github.com/users/Parth-Brahmbhatt/gists{/gist_id}","starred_url":"https://api.github.com/users/Parth-Brahmbhatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Parth-Brahmbhatt/subscriptions","organizations_url":"https://api.github.com/users/Parth-Brahmbhatt/orgs","repos_url":"https://api.github.com/users/Parth-Brahmbhatt/repos","events_url":"https://api.github.com/users/Parth-Brahmbhatt/events{/privacy}","received_events_url":"https://api.github.com/users/Parth-Brahmbhatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T23:06:29Z","updated_at":"2015-07-21T23:06:29Z","author_association":"CONTRIBUTOR","body":"+1.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123504221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581170","html_url":"https://github.com/apache/storm/issues/4789#issuecomment-2612581170","issue_url":"https://api.github.com/repos/apache/storm/issues/4789","id":2612581170,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODExNzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T23:06:31Z","updated_at":"2025-01-24T13:52:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Parth-Brahmbhatt commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/645#issuecomment-123504221\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/645#issuecomment-123504221</a></p>\n\n<p>    +1.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123536182","html_url":"https://github.com/apache/storm/pull/645#issuecomment-123536182","issue_url":"https://api.github.com/repos/apache/storm/issues/645","id":123536182,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzUzNjE4Mg==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T02:18:40Z","updated_at":"2015-07-22T02:18:40Z","author_association":"MEMBER","body":"+1 LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123536182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581173","html_url":"https://github.com/apache/storm/issues/4789#issuecomment-2612581173","issue_url":"https://api.github.com/repos/apache/storm/issues/4789","id":2612581173,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODExNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T02:18:43Z","updated_at":"2025-01-24T13:52:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/645#issuecomment-123536182\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/645#issuecomment-123536182</a></p>\n\n<p>    +1 LGTM</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123562150","html_url":"https://github.com/apache/storm/pull/644#issuecomment-123562150","issue_url":"https://api.github.com/repos/apache/storm/issues/644","id":123562150,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzU2MjE1MA==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T04:52:15Z","updated_at":"2015-07-22T04:52:15Z","author_association":"CONTRIBUTOR","body":"@knusbaum makes sense, have removed wildcard imports.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123562150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560576","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560576","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560576,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA1NzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T04:52:17Z","updated_at":"2025-01-24T13:42:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644#issuecomment-123562150\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644#issuecomment-123562150</a></p>\n\n<p>    @knusbaum makes sense, have removed wildcard imports.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123578961","html_url":"https://github.com/apache/storm/pull/405#issuecomment-123578961","issue_url":"https://api.github.com/repos/apache/storm/issues/405","id":123578961,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzU3ODk2MQ==","user":{"login":"slora","id":4678475,"node_id":"MDQ6VXNlcjQ2Nzg0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/4678475?v=4","gravatar_id":"","url":"https://api.github.com/users/slora","html_url":"https://github.com/slora","followers_url":"https://api.github.com/users/slora/followers","following_url":"https://api.github.com/users/slora/following{/other_user}","gists_url":"https://api.github.com/users/slora/gists{/gist_id}","starred_url":"https://api.github.com/users/slora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slora/subscriptions","organizations_url":"https://api.github.com/users/slora/orgs","repos_url":"https://api.github.com/users/slora/repos","events_url":"https://api.github.com/users/slora/events{/privacy}","received_events_url":"https://api.github.com/users/slora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T06:43:43Z","updated_at":"2015-07-22T06:43:43Z","author_association":"NONE","body":"First of all, thanks @vesense for your work here!\n\nUnfortunately , we're experiencing the same issues with 0.9.6 (includes @vesense  patch). The topology worked well for 6h, but then KafkaSpout seems to be trying to retrieve the same (different for each worker) outdated offset repeatedly. Is anyone else having the same issue? The worker logs are full of this lines:\n\n```\n[WARN] Got fetch request with offset out of range: [11024170]; retrying with default start offset time from configuration. configured start offset time: [-2]\n[WARN] Using new offset: 11322905\n```\n\nI couldn't find in the logs the message that logs which failed offsets have been deleted:\n\n``` java\nLOG.warn(\"Removing the failed offsets that are out of range: {}\", omitted);\n```\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123578961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612522437","html_url":"https://github.com/apache/storm/issues/4484#issuecomment-2612522437","issue_url":"https://api.github.com/repos/apache/storm/issues/4484","id":2612522437,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MjI0Mzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T06:43:45Z","updated_at":"2025-01-24T13:23:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user slora commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/405#issuecomment-123578961\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/405#issuecomment-123578961</a></p>\n\n<p>    First of all, thanks @vesense for your work here!</p>\n\n<p>    Unfortunately , we're experiencing the same issues with 0.9.6 (includes @vesense  patch). The topology worked well for 6h, but then KafkaSpout seems to be trying to retrieve the same (different for each worker) outdated offset repeatedly. Is anyone else having the same issue? The worker logs are full of this lines:<br/>\n    ```<br/>\n    <span class=\"error\">&#91;WARN&#93;</span> Got fetch request with offset out of range: <span class=\"error\">&#91;11024170&#93;</span>; retrying with default start offset time from configuration. configured start offset time: <span class=\"error\">&#91;-2&#93;</span><br/>\n    <span class=\"error\">&#91;WARN&#93;</span> Using new offset: 11322905<br/>\n    ```<br/>\n    I couldn't find in the logs the message that logs which failed offsets have been deleted:<br/>\n    ```java<br/>\n    LOG.warn(\"Removing the failed offsets that are out of range: {}\", omitted);<br/>\n    ```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612522437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123581897","html_url":"https://github.com/apache/storm/pull/405#issuecomment-123581897","issue_url":"https://api.github.com/repos/apache/storm/issues/405","id":123581897,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzU4MTg5Nw==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T06:53:38Z","updated_at":"2015-07-22T07:17:59Z","author_association":"MEMBER","body":"@slora\n Maybe you compile your project including the storm-kafka(old version eg:storm-kafka-0.9.5.jar).\n So, add `<scope>provided</scope>` to POM(storm-kafka dependency). \n Recompile it. And just try again.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123581897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612522441","html_url":"https://github.com/apache/storm/issues/4484#issuecomment-2612522441","issue_url":"https://api.github.com/repos/apache/storm/issues/4484","id":2612522441,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MjI0NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T06:53:40Z","updated_at":"2025-01-24T13:23:16Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/405#issuecomment-123581897\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/405#issuecomment-123581897</a></p>\n\n<p>     Maybe you compile your project including the storm-kafka.<br/>\n     So, add </p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\"><scope>provided</scope></pre>\n</div></div>\n<p> to POM(storm-kafka dependency).<br/>\n     And just try again.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612522441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582120","html_url":"https://github.com/apache/storm/issues/4794#issuecomment-2612582120","issue_url":"https://api.github.com/repos/apache/storm/issues/4794","id":2612582120,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODIxMjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T07:51:59Z","updated_at":"2025-01-24T13:52:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user chuanlei opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/647\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/647</a></p>\n\n<p>    (<a href=\"https://issues.apache.org/jira/browse/STORM-956\" title=\"When the execute() or nextTuple() hang on external resources, stop the Worker&#39;s heartbeat\" class=\"issue-link\" data-issue-key=\"STORM-956\"><del>STORM-956</del></a>) When the execute() or nextTuple() hang on external resources, stop the Worker's heartbeat</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/chuanlei/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/chuanlei/storm</a> feature-stop-worker-heartbeat-when-executor-threads-hang</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/647.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/647.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #647</p>\n\n<hr />\n<p>commit c0d1c4ef6ae0d1e144f5af85174d68d5a93eb06a<br/>\nAuthor: chuanlei <nichuanlei@126.com><br/>\nDate:   2015-07-22T07:37:28Z</p>\n\n<p>    stop worker heartbeat, when the executor threads hang-on</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560580","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560580","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560580,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA1ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T17:36:38Z","updated_at":"2025-01-24T13:42:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644#discussion_r35240425\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644#discussion_r35240425</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/trident/HdfsState.java &#8212;<br/>\n    @@ -136,33 +193,40 @@ public void run() {<br/>\n     private transient FSDataOutputStream out;<br/>\n     protected RecordFormat format;<br/>\n     private long offset = 0;<br/>\n    +private int bufferSize =  131072; // default 128 K</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withFsUrl(String fsUrl){<br/>\n    +public HdfsFileOptions withFsUrl(String fsUrl) \n{\n this.fsUrl = fsUrl;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withConfigKey(String configKey){<br/>\n    +public HdfsFileOptions withConfigKey(String configKey) \n{\n this.configKey = configKey;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withFileNameFormat(FileNameFormat fileNameFormat){<br/>\n    +public HdfsFileOptions withFileNameFormat(FileNameFormat fileNameFormat) \n{\n this.fileNameFormat = fileNameFormat;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withRecordFormat(RecordFormat format){<br/>\n    +public HdfsFileOptions withRecordFormat(RecordFormat format) \n{\n this.format = format;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withRotationPolicy(FileRotationPolicy rotationPolicy){<br/>\n    +public HdfsFileOptions withRotationPolicy(FileRotationPolicy rotationPolicy) \n{\n this.rotationPolicy = rotationPolicy;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions addRotationAction(RotationAction action){<br/>\n    +public HdfsFileOptions withBufferSize(int size) {<br/>\n    +    this.bufferSize = Math.max(4096, size); // at least 4K\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    4096 should be substituted with buffersize? or do we need to take max it looks like we are saying the minimum should be default bufferSize. if this is needed we need to document it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560584","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560584","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560584,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA1ODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T18:06:42Z","updated_at":"2025-01-24T13:42:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644#discussion_r35243876\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644#discussion_r35243876</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/main/java/org/apache/storm/hdfs/trident/HdfsState.java &#8212;<br/>\n    @@ -136,33 +193,40 @@ public void run() {<br/>\n     private transient FSDataOutputStream out;<br/>\n     protected RecordFormat format;<br/>\n     private long offset = 0;<br/>\n    +private int bufferSize =  131072; // default 128 K</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withFsUrl(String fsUrl){<br/>\n    +public HdfsFileOptions withFsUrl(String fsUrl) \n{\n this.fsUrl = fsUrl;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withConfigKey(String configKey){<br/>\n    +public HdfsFileOptions withConfigKey(String configKey) \n{\n this.configKey = configKey;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withFileNameFormat(FileNameFormat fileNameFormat){<br/>\n    +public HdfsFileOptions withFileNameFormat(FileNameFormat fileNameFormat) \n{\n this.fileNameFormat = fileNameFormat;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withRecordFormat(RecordFormat format){<br/>\n    +public HdfsFileOptions withRecordFormat(RecordFormat format) \n{\n this.format = format;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions withRotationPolicy(FileRotationPolicy rotationPolicy){<br/>\n    +public HdfsFileOptions withRotationPolicy(FileRotationPolicy rotationPolicy) \n{\n this.rotationPolicy = rotationPolicy;\n return this;\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public HdfsFileOptions addRotationAction(RotationAction action){<br/>\n    +public HdfsFileOptions withBufferSize(int size) {<br/>\n    +    this.bufferSize = Math.max(4096, size); // at least 4K\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    The default is 131072 (128 K). Here just ensuring that, if at all user tries to change the default, it does not go below 4 K.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123815242","html_url":"https://github.com/apache/storm/pull/641#issuecomment-123815242","issue_url":"https://api.github.com/repos/apache/storm/issues/641","id":123815242,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzgxNTI0Mg==","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T18:18:33Z","updated_at":"2015-07-22T18:18:33Z","author_association":"NONE","body":"Ok, addressed comments.\n\n@HeartSaVioR, I made your suggested change as well.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123815242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440480","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440480","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440480,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T18:18:34Z","updated_at":"2025-01-24T12:40:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/641#issuecomment-123815242\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/641#issuecomment-123815242</a></p>\n\n<p>    Ok, addressed comments.</p>\n\n<p>    @HeartSaVioR, I made your suggested change as well.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612482492","html_url":"https://github.com/apache/storm/issues/4282#issuecomment-2612482492","issue_url":"https://api.github.com/repos/apache/storm/issues/4282","id":2612482492,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0ODI0OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T19:50:54Z","updated_at":"2025-01-24T13:02:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user redsanket opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/648\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/648</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-440\" title=\"NimbusClient throws NPE if Config.STORM_THRIFT_TRANSPORT_PLUGIN is not set\" class=\"issue-link\" data-issue-key=\"STORM-440\"><del>STORM-440</del></a> completed exposing the drpcclient and nimbusclient without need for configs</p>\n\n<p>    completed exposing the drpcclient and nimbusclient without the need for config initialization</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/redsanket/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/redsanket/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-440\" title=\"NimbusClient throws NPE if Config.STORM_THRIFT_TRANSPORT_PLUGIN is not set\" class=\"issue-link\" data-issue-key=\"STORM-440\"><del>STORM-440</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/648.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/648.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #648</p>\n\n<hr />\n<p>commit 5045f26d10c4cff782cf1d8661d0b192a4a5332d<br/>\nAuthor: Sanket <schintap@untilservice-lm><br/>\nDate:   2015-07-22T19:42:59Z</p>\n\n<p>    completed exposing the drpcclient and nimbusclient without the need for config initialization</p>\n\n<p>commit 207d9a671fd4d7aa90191d227a10cded10c555af<br/>\nAuthor: Sanket <schintap@untilservice-lm><br/>\nDate:   2015-07-22T19:48:37Z</p>\n\n<p>    indentation edits</p>\n\n<p>commit 76f0c4c3f3f9e2d57de8e0a735962d2ec7f22bb2<br/>\nAuthor: Sanket <schintap@untilservice-lm><br/>\nDate:   2015-07-22T19:51:02Z</p>\n\n<p>    removed unneccessary constructor created while solving the problem</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612482492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582490","html_url":"https://github.com/apache/storm/issues/4796#issuecomment-2612582490","issue_url":"https://api.github.com/repos/apache/storm/issues/4796","id":2612582490,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI0OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T21:42:33Z","updated_at":"2025-01-24T13:52:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user d2r opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/649\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/649</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-958\" title=\"Add config for init params of group mapping service\" class=\"issue-link\" data-issue-key=\"STORM-958\"><del>STORM-958</del></a> adds config for group.mapping.service init params</p>\n\n<p>    Users can provide optional parameters to the plugin in the form of a Map.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/d2r/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/d2r/storm</a> storm-958-grp-map-svc-params</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/649.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/649.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #649</p>\n\n<hr />\n<p>commit e0f0ce57d443aa7fc295504e3355a7f11e05621e<br/>\nAuthor: Derek Dagit <derekd@yahoo-inc.com><br/>\nDate:   2015-07-22T21:41:12Z</p>\n\n<p>    adds config for group.mapping.service init params</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123884557","html_url":"https://github.com/apache/storm/pull/641#issuecomment-123884557","issue_url":"https://api.github.com/repos/apache/storm/issues/641","id":123884557,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzg4NDU1Nw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T22:13:38Z","updated_at":"2015-07-22T22:13:38Z","author_association":"CONTRIBUTOR","body":"LGTM, +1.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123884557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440486","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440486","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440486,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T22:13:41Z","updated_at":"2025-01-24T12:40:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/641#issuecomment-123884557\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/641#issuecomment-123884557</a></p>\n\n<p>    LGTM, +1.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440491","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440491","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440491,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0OTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T23:40:05Z","updated_at":"2025-01-24T12:40:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/641\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/641</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440493","html_url":"https://github.com/apache/storm/issues/3981#issuecomment-2612440493","issue_url":"https://api.github.com/repos/apache/storm/issues/3981","id":2612440493,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDA0OTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-22T23:48:31Z","updated_at":"2025-01-24T12:40:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagit\" class=\"user-hover\" rel=\"dagit\">Derek Dagit</a>.<br/>\nI merged into master.</p>\n\n<p>Since it affects whole version lines, I'd like to apply this to all lines, too.<br/>\nI'll add this to my list of \"backport\", and ask opinions with that list from dev mailing list.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582362","html_url":"https://github.com/apache/storm/issues/4795#issuecomment-2612582362","issue_url":"https://api.github.com/repos/apache/storm/issues/4795","id":2612582362,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODIzNjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T00:07:31Z","updated_at":"2025-01-24T13:52:45Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Hello.<br/>\nProper place for asking a question is Storm users mailing list.<br/>\n(You can subscribe mailing list by sending email to user-subscribe@storm.apache.org, and after subscribing you can send email to user@storm.apache.org to ask.)<br/>\nPlease refer <a href=\"http://storm.apache.org/documentation/Home.html\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://storm.apache.org/documentation/Home.html</a> to more details.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123982826","html_url":"https://github.com/apache/storm/pull/573#issuecomment-123982826","issue_url":"https://api.github.com/repos/apache/storm/issues/573","id":123982826,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzk4MjgyNg==","user":{"login":"sweetest","id":6868049,"node_id":"MDQ6VXNlcjY4NjgwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/6868049?v=4","gravatar_id":"","url":"https://api.github.com/users/sweetest","html_url":"https://github.com/sweetest","followers_url":"https://api.github.com/users/sweetest/followers","following_url":"https://api.github.com/users/sweetest/following{/other_user}","gists_url":"https://api.github.com/users/sweetest/gists{/gist_id}","starred_url":"https://api.github.com/users/sweetest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweetest/subscriptions","organizations_url":"https://api.github.com/users/sweetest/orgs","repos_url":"https://api.github.com/users/sweetest/repos","events_url":"https://api.github.com/users/sweetest/events{/privacy}","received_events_url":"https://api.github.com/users/sweetest/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T05:50:19Z","updated_at":"2015-07-23T05:50:19Z","author_association":"CONTRIBUTOR","body":"Thanks for comments from all of you guys.\n\n@harshach \nI added javadocs you've mentioned.\n\n@HeartSaVioR @mnogu \nRegarding Elasticsearch-hadoop, those bolt/spout interfaces are for elasticsearch-hadoop, not for native elasticsearch. Thus target users may differ and this could be one reason for maintaining separate connector here. But more importantly, I think it's beneficial to have ES driver in storm repo, since having various 3rd party integrations would help attract possible users into Storm community.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123982826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561886","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561886","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561886,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE4ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T05:50:20Z","updated_at":"2025-01-24T13:43:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user sweetest commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#issuecomment-123982826\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#issuecomment-123982826</a></p>\n\n<p>    Thanks for comments from all of you guys.</p>\n\n<p>    @harshach <br/>\n    I added javadocs you've mentioned.</p>\n\n<p>    @HeartSaVioR @mnogu <br/>\n    Regarding Elasticsearch-hadoop, those bolt/spout interfaces are for elasticsearch-hadoop, not for native elasticsearch. Thus target users may differ and this could be one reason for maintaining separate connector here. But more importantly, I think it's beneficial to have ES driver in storm repo, since having various 3rd party integrations would help attract possible users into Storm community.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/123992565","html_url":"https://github.com/apache/storm/pull/573#issuecomment-123992565","issue_url":"https://api.github.com/repos/apache/storm/issues/573","id":123992565,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzk5MjU2NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T06:24:25Z","updated_at":"2015-07-23T06:24:25Z","author_association":"CONTRIBUTOR","body":"@sweetest \nGood. \nI also think supporting ES is a valuable feature since many users already enjoys with ES + Kibana.\nAnd at a glimpse EsSpout and EsBolt contains only very basic feature so we may be eager for having more powerful ES + Storm connector.\n\nI'd also like to volunteer to be a sponsor this module. I'll take a look and comment later.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/123992565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561888","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561888","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561888,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE4ODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T06:24:26Z","updated_at":"2025-01-24T13:43:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#issuecomment-123992565\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#issuecomment-123992565</a></p>\n\n<p>    @sweetest <br/>\n    Good. <br/>\n    I also think supporting ES is a valuable feature since many users already enjoys with ES + Kibana.<br/>\n    And at a glimpse EsSpout and EsBolt contains only very basic feature so we may be eager for having more powerful ES + Storm connector.</p>\n\n<p>    I'd also like to volunteer to be a sponsor this module. I'll take a look and comment later.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582650","html_url":"https://github.com/apache/storm/issues/4797#issuecomment-2612582650","issue_url":"https://api.github.com/repos/apache/storm/issues/4797","id":2612582650,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI2NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T09:35:47Z","updated_at":"2025-01-24T13:52:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user caofangkun opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/652\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/652</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-959\" title=\"remove unnecessary dependency from storm-hive/pom.xml\" class=\"issue-link\" data-issue-key=\"STORM-959\"><del>STORM-959</del></a>:remove unnecessary dependency from storm-hive/pom.xml</p>\n\n<p>    org.apache.calcite:calcite-core:0.9.2-incubating does not take affect at all. </p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/caofangkun/apache-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/caofangkun/apache-storm</a> storm-959</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/652.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/652.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #652</p>\n\n<hr />\n<p>commit cd8bdfed00bf6ef6eb8322c2e7be2a32d377235c<br/>\nAuthor: caofangkun <caofangkun@gmail.com><br/>\nDate:   2015-07-23T09:32:48Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-959\" title=\"remove unnecessary dependency from storm-hive/pom.xml\" class=\"issue-link\" data-issue-key=\"STORM-959\"><del>STORM-959</del></a>:remove unnecessary dependency from storm-hive/pom.xml</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124034146","html_url":"https://github.com/apache/storm/pull/652#issuecomment-124034146","issue_url":"https://api.github.com/repos/apache/storm/issues/652","id":124034146,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDAzNDE0Ng==","user":{"login":"caofangkun","id":1931407,"node_id":"MDQ6VXNlcjE5MzE0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1931407?v=4","gravatar_id":"","url":"https://api.github.com/users/caofangkun","html_url":"https://github.com/caofangkun","followers_url":"https://api.github.com/users/caofangkun/followers","following_url":"https://api.github.com/users/caofangkun/following{/other_user}","gists_url":"https://api.github.com/users/caofangkun/gists{/gist_id}","starred_url":"https://api.github.com/users/caofangkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caofangkun/subscriptions","organizations_url":"https://api.github.com/users/caofangkun/orgs","repos_url":"https://api.github.com/users/caofangkun/repos","events_url":"https://api.github.com/users/caofangkun/events{/privacy}","received_events_url":"https://api.github.com/users/caofangkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T09:36:47Z","updated_at":"2015-07-23T09:36:47Z","author_association":"CONTRIBUTOR","body":"@harshach \nCould you please have a look at this PR?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124034146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582654","html_url":"https://github.com/apache/storm/issues/4797#issuecomment-2612582654","issue_url":"https://api.github.com/repos/apache/storm/issues/4797","id":2612582654,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI2NTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T09:36:48Z","updated_at":"2025-01-24T13:52:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user caofangkun commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/652#issuecomment-124034146\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/652#issuecomment-124034146</a></p>\n\n<p>    @harshach <br/>\n    Could you please have a look at this PR?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124075611","html_url":"https://github.com/apache/storm/pull/651#issuecomment-124075611","issue_url":"https://api.github.com/repos/apache/storm/issues/651","id":124075611,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDA3NTYxMQ==","user":{"login":"runesl","id":1193502,"node_id":"MDQ6VXNlcjExOTM1MDI=","avatar_url":"https://avatars.githubusercontent.com/u/1193502?v=4","gravatar_id":"","url":"https://api.github.com/users/runesl","html_url":"https://github.com/runesl","followers_url":"https://api.github.com/users/runesl/followers","following_url":"https://api.github.com/users/runesl/following{/other_user}","gists_url":"https://api.github.com/users/runesl/gists{/gist_id}","starred_url":"https://api.github.com/users/runesl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/runesl/subscriptions","organizations_url":"https://api.github.com/users/runesl/orgs","repos_url":"https://api.github.com/users/runesl/repos","events_url":"https://api.github.com/users/runesl/events{/privacy}","received_events_url":"https://api.github.com/users/runesl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T11:59:07Z","updated_at":"2015-07-23T11:59:07Z","author_association":"NONE","body":"Event hub (and Kafka) play well into event source architectures as event ingest point for later Storm processing to downstream stateful consumers.\n\nAdvanced event stream processing, such as replaying parts of a stream, requires that the downstream consumers can synchronise different \"stream runs\" to their stateful view, which itself can be seen as an aggregation of all previous events. To set up the right context for re-processing the stream in a deterministic way, they need to sync their view with the incoming old data. To be able to do this, they need knowledge of the event sequenceNumber and partition.\n\nFor example, if you have a bolt that calculates total_order_amount for a stream of orders, and emits order tuples with the total_order_amount calculated for all previous orders, replaying an order event should not change total_order_amount. I.e. orders with a higher sequenceNumber than the order being processed should not be included in total_order_amount.\n\nThis synchronisation can be achieved if the bolt has access to the parition and sequenceNumber from eventHub.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124075611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582657","html_url":"https://github.com/apache/storm/issues/4797#issuecomment-2612582657","issue_url":"https://api.github.com/repos/apache/storm/issues/4797","id":2612582657,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI2NTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T12:46:41Z","updated_at":"2025-01-24T13:52:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dossett@gmail.com\">dossett@gmail.com</a>:</i>\n<p>This is a duplicate of <a href=\"https://issues.apache.org/jira/browse/STORM-944\" title=\"storm-hive pom.xml has a dependency conflict with calcite\" class=\"issue-link\" data-issue-key=\"STORM-944\"><del>STORM-944</del></a>, which has a similar PR pending.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582760","html_url":"https://github.com/apache/storm/issues/4798#issuecomment-2612582760","issue_url":"https://api.github.com/repos/apache/storm/issues/4798","id":2612582760,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI3NjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T12:51:56Z","updated_at":"2025-01-24T13:52:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user dossett opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/653\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/653</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-960\" title=\"Hive-Bolt can lose tuples when flushing data\" class=\"issue-link\" data-issue-key=\"STORM-960\"><del>STORM-960</del></a> HiveBolt should ack tuples only after flushing</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/dossett/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/dossett/storm</a> HiveBoltAck</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/653.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/653.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #653</p>\n\n<hr />\n<p>commit aac496ade94210888a0ca473df648855c408496b<br/>\nAuthor: Sriharsha Chintalapani <mail@harsha.io><br/>\nDate:   2015-07-21T22:42:22Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-951\" title=\"Storm Hive connector leaking connections\" class=\"issue-link\" data-issue-key=\"STORM-951\"><del>STORM-951</del></a>. Storm Hive connector leaking connections.</p>\n\n<p>commit 6a5d0dcb44b58063035bfdaac4ebddba401dc914<br/>\nAuthor: Aaron Dossett <aaron.dossett@target.com><br/>\nDate:   2015-07-23T12:50:25Z</p>\n\n<p>    STORM 960: HiveBolt should only ack after succesful flush</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582766","html_url":"https://github.com/apache/storm/issues/4798#issuecomment-2612582766","issue_url":"https://api.github.com/repos/apache/storm/issues/4798","id":2612582766,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI3NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T12:53:28Z","updated_at":"2025-01-24T13:52:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dossett@gmail.com\">dossett@gmail.com</a>:</i>\n<p>I realize this PR also contains the commit for <a href=\"https://issues.apache.org/jira/browse/STORM-951\" title=\"Storm Hive connector leaking connections\" class=\"issue-link\" data-issue-key=\"STORM-951\"><del>STORM-951</del></a>, which I was testing with.  I can remove the <a href=\"https://issues.apache.org/jira/browse/STORM-951\" title=\"Storm Hive connector leaking connections\" class=\"issue-link\" data-issue-key=\"STORM-951\"><del>STORM-951</del></a> commit if necessary.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461235","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461235","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461235,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEyMzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-23T13:07:17Z","updated_at":"2025-01-24T12:52:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jia.fu\">jia.fu</a>:</i>\n<p>I meet this issue yet .anyone has a  solution on production storm cluster ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582772","html_url":"https://github.com/apache/storm/issues/4798#issuecomment-2612582772","issue_url":"https://api.github.com/repos/apache/storm/issues/4798","id":2612582772,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI3NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T00:11:15Z","updated_at":"2025-01-24T13:52:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\">sriharsha</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dossett%40gmail.com\" class=\"user-hover\" rel=\"dossett@gmail.com\">Aaron Dossett</a>  there is flushAndCloseAllWriters in case of exception . This will commit the tuples that are already in transaction. Have you noticed this is not happening.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582780","html_url":"https://github.com/apache/storm/issues/4798#issuecomment-2612582780","issue_url":"https://api.github.com/repos/apache/storm/issues/4798","id":2612582780,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI3ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T00:12:45Z","updated_at":"2025-01-24T13:52:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\">sriharsha</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dossett%40gmail.com\" class=\"user-hover\" rel=\"dossett@gmail.com\">Aaron Dossett</a> can you send just your commit only easy to review.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561891","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561891","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561891,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE4OTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:16:09Z","updated_at":"2025-01-24T13:43:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#discussion_r35388631\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#discussion_r35388631</a></p>\n\n<p>    &#8212; Diff: external/storm-elasticsearch/README.md &#8212;<br/>\n    @@ -0,0 +1,66 @@<br/>\n    +# Storm Elasticsearch Bolt & Trident State<br/>\n    +<br/>\n    +  EsIndexBolt, EsPercolateBolt and EsState allows users to stream data from storm into Elasticsearch directly.<br/>\n    +  For detailed description, please refer to the following.   <br/>\n    +<br/>\n    +## EsIndexBolt (org.apache.storm.elasticsearch.bolt.EsIndexBolt)<br/>\n    +<br/>\n    +EsIndexBolt streams tuples directly into Elasticsearch. Tuples are indexed in specified index & type combination. <br/>\n    +User should make sure that there are \"source\", \"index\",\"type\", and \"id\" fields declared in preceding bolts or spout.<br/>\n    +\"index\" and \"type\" fields are used for identifying target index and type.<br/>\n    +\"source\" is a document in JSON format string that will be indexed in elastic search.<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    elastic search => Elasticsearch</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561894","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561894","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561894,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE4OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:16:32Z","updated_at":"2025-01-24T13:43:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#discussion_r35388649\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#discussion_r35388649</a></p>\n\n<p>    &#8212; Diff: external/storm-elasticsearch/README.md &#8212;<br/>\n    @@ -0,0 +1,66 @@<br/>\n    +# Storm Elasticsearch Bolt & Trident State<br/>\n    +<br/>\n    +  EsIndexBolt, EsPercolateBolt and EsState allows users to stream data from storm into Elasticsearch directly.<br/>\n    +  For detailed description, please refer to the following.   <br/>\n    +<br/>\n    +## EsIndexBolt (org.apache.storm.elasticsearch.bolt.EsIndexBolt)<br/>\n    +<br/>\n    +EsIndexBolt streams tuples directly into Elasticsearch. Tuples are indexed in specified index & type combination. <br/>\n    +User should make sure that there are \"source\", \"index\",\"type\", and \"id\" fields declared in preceding bolts or spout.<br/>\n    +\"index\" and \"type\" fields are used for identifying target index and type.<br/>\n    +\"source\" is a document in JSON format string that will be indexed in elastic search.<br/>\n    +<br/>\n    +```java<br/>\n    +EsConfig esConfig = new EsConfig();<br/>\n    +esConfig.setClusterName(clusterName);<br/>\n    +esConfig.setNodes(new String[]</p>\n{\"localhost:9300\"}\n<p>);<br/>\n    +EsIndexBolt indexBolt = new IndexBolt(esConfig);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    new IndexBolt(esConfig) => new EsIndexBolt(esConfig)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561899","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561899","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561899,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE4OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:18:03Z","updated_at":"2025-01-24T13:43:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#discussion_r35388715\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#discussion_r35388715</a></p>\n\n<p>    &#8212; Diff: external/storm-elasticsearch/README.md &#8212;<br/>\n    @@ -0,0 +1,66 @@<br/>\n    +# Storm Elasticsearch Bolt & Trident State<br/>\n    +<br/>\n    +  EsIndexBolt, EsPercolateBolt and EsState allows users to stream data from storm into Elasticsearch directly.<br/>\n    +  For detailed description, please refer to the following.   <br/>\n    +<br/>\n    +## EsIndexBolt (org.apache.storm.elasticsearch.bolt.EsIndexBolt)<br/>\n    +<br/>\n    +EsIndexBolt streams tuples directly into Elasticsearch. Tuples are indexed in specified index & type combination. <br/>\n    +User should make sure that there are \"source\", \"index\",\"type\", and \"id\" fields declared in preceding bolts or spout.<br/>\n    +\"index\" and \"type\" fields are used for identifying target index and type.<br/>\n    +\"source\" is a document in JSON format string that will be indexed in elastic search.<br/>\n    +<br/>\n    +```java<br/>\n    +EsConfig esConfig = new EsConfig();<br/>\n    +esConfig.setClusterName(clusterName);<br/>\n    +esConfig.setNodes(new String[]</p>\n{\"localhost:9300\"}\n<p>);<br/>\n    +EsIndexBolt indexBolt = new IndexBolt(esConfig);<br/>\n    +```<br/>\n    +<br/>\n    +## EsPercolateBolt (org.apache.storm.elasticsearch.bolt.EsPercolateBolt)<br/>\n    +<br/>\n    +EsPercolateBolt streams tuples directly into Elasticsearch. Tuples are used to send percolate request to specified index & type combination. <br/>\n    +User should make sure that there are \"source\", \"index\", and \"type\" fields declared in preceding bolts or spout.<br/>\n    +\"index\" and \"type\" fields are used for identifying target index and type.<br/>\n    +\"source\" is a document in JSON format string that will be sent in percolate request to elastic search.<br/>\n    +<br/>\n    +```java<br/>\n    +EsConfig esConfig = new EsConfig();<br/>\n    +esConfig.setClusterName(clusterName);<br/>\n    +esConfig.setNodes(new String[]</p>\n{\"localhost:9300\"}\n<p>);<br/>\n    +EsPercolateBolt percolateBolt = new EsPercolateBolt(esConfig);<br/>\n    +```<br/>\n    +<br/>\n    +### EsConfig (org.apache.storm.elasticsearch.common.EsConfig)<br/>\n    &#8212; End diff &#8211;</p>\n\n<ol>\n\t<li>\n\t<ol>\n\t\t<li>\n\t\t<ol>\n\t\t\t<li>EsConfig => ## EsConfig<br/>\n    (EsConfig is not only for EsPercolateBolt.)</li>\n\t\t</ol>\n\t\t</li>\n\t</ol>\n\t</li>\n</ol>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561905","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561905","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561905,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE5MDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:19:10Z","updated_at":"2025-01-24T13:43:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#discussion_r35388752\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#discussion_r35388752</a></p>\n\n<p>    &#8212; Diff: external/storm-elasticsearch/README.md &#8212;<br/>\n    @@ -0,0 +1,66 @@<br/>\n    +# Storm Elasticsearch Bolt & Trident State<br/>\n    +<br/>\n    +  EsIndexBolt, EsPercolateBolt and EsState allows users to stream data from storm into Elasticsearch directly.<br/>\n    +  For detailed description, please refer to the following.   <br/>\n    +<br/>\n    +## EsIndexBolt (org.apache.storm.elasticsearch.bolt.EsIndexBolt)<br/>\n    +<br/>\n    +EsIndexBolt streams tuples directly into Elasticsearch. Tuples are indexed in specified index & type combination. <br/>\n    +User should make sure that there are \"source\", \"index\",\"type\", and \"id\" fields declared in preceding bolts or spout.<br/>\n    +\"index\" and \"type\" fields are used for identifying target index and type.<br/>\n    +\"source\" is a document in JSON format string that will be indexed in elastic search.<br/>\n    +<br/>\n    +```java<br/>\n    +EsConfig esConfig = new EsConfig();<br/>\n    +esConfig.setClusterName(clusterName);<br/>\n    +esConfig.setNodes(new String[]</p>\n{\"localhost:9300\"}\n<p>);<br/>\n    +EsIndexBolt indexBolt = new IndexBolt(esConfig);<br/>\n    +```<br/>\n    +<br/>\n    +## EsPercolateBolt (org.apache.storm.elasticsearch.bolt.EsPercolateBolt)<br/>\n    +<br/>\n    +EsPercolateBolt streams tuples directly into Elasticsearch. Tuples are used to send percolate request to specified index & type combination. <br/>\n    +User should make sure that there are \"source\", \"index\", and \"type\" fields declared in preceding bolts or spout.<br/>\n    +\"index\" and \"type\" fields are used for identifying target index and type.<br/>\n    +\"source\" is a document in JSON format string that will be sent in percolate request to elastic search.<br/>\n    +<br/>\n    +```java<br/>\n    +EsConfig esConfig = new EsConfig();<br/>\n    +esConfig.setClusterName(clusterName);<br/>\n    +esConfig.setNodes(new String[]</p>\n{\"localhost:9300\"}\n<p>);<br/>\n    +EsPercolateBolt percolateBolt = new EsPercolateBolt(esConfig);<br/>\n    +```<br/>\n    +<br/>\n    +### EsConfig (org.apache.storm.elasticsearch.common.EsConfig)<br/>\n    +  <br/>\n    +Two bolts above takes in EsConfig as a constructor arg.<br/>\n    +<br/>\n    +  ```java<br/>\n    +   EsConfig esConfig = new EsConfig();<br/>\n    +   esConfig.setClusterName(clusterName);<br/>\n    +   esConfig.setNodes(new String[]</p>\n{\"localhost:9300\"}\n<p>);<br/>\n    +  ```<br/>\n    +<br/>\n    +EsConfig params<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    ```EsConfig params => ### EsConfig params```</p>\n\n<p>    It would be better to emphasize this section.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461241","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612461241","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612461241,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjEyNDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:20:06Z","updated_at":"2025-01-24T12:52:01Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mauzhang\">mauzhang</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jia.fu\" class=\"user-hover\" rel=\"jia.fu\">jia.fu</a> This jira is resolved. You can get help on the user or dev list with detailed description of your issue.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612461241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561914","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561914","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561914,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE5MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:22:17Z","updated_at":"2025-01-24T13:43:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#discussion_r35388900\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#discussion_r35388900</a></p>\n\n<p>    &#8212; Diff: external/storm-elasticsearch/src/main/java/org/apache/storm/elasticsearch/bolt/EsIndexBolt.java &#8212;<br/>\n    @@ -0,0 +1,71 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.elasticsearch.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import org.apache.storm.elasticsearch.common.EsConfig;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class EsIndexBolt extends AbstractEsBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(EsIndexBolt.class);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * EsIndexBolt constructor<br/>\n    +     * @param esConfig Elasticsearch configuration containing node addresses and cluster name </p>\n{@link EsConfig}\n<p>    +     */<br/>\n    +    public EsIndexBolt(EsConfig esConfig) </p>\n{\n    +super(esConfig);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map map, TopologyContext topologyContext, OutputCollector outputCollector) </p>\n{\n    +super.prepare(map, topologyContext, outputCollector);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Executes index request for given tuple.<br/>\n    +     * @param tuple should contain string values of 4 declared fields: \"source\", \"index\", \"type\", \"id\"<br/>\n    +     */<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try </p>\n{\n    +    String source = tuple.getStringByField(\"source\");\n    +    String index = tuple.getStringByField(\"index\");\n    +    String type = tuple.getStringByField(\"type\");\n    +    String id = tuple.getStringByField(\"id\");\n    +\n    +    client.prepareIndex(index, type, id).setSource(source).execute().actionGet();\n    +    collector.ack(tuple);\n    +}\n<p> catch (Exception e) {<br/>\n    +    e.printStackTrace();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Please use LOG instead of printing to stderr.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561918","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561918","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561918,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE5MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:22:55Z","updated_at":"2025-01-24T13:43:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#discussion_r35388927\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#discussion_r35388927</a></p>\n\n<p>    &#8212; Diff: external/storm-elasticsearch/src/main/java/org/apache/storm/elasticsearch/bolt/EsPercolateBolt.java &#8212;<br/>\n    @@ -0,0 +1,81 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.elasticsearch.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.tuple.Fields;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import org.apache.storm.elasticsearch.common.EsConfig;<br/>\n    +import org.elasticsearch.action.percolate.PercolateResponse;<br/>\n    +import org.elasticsearch.action.percolate.PercolateSourceBuilder;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class EsPercolateBolt extends AbstractEsBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(EsPercolateBolt.class);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * EsPercolateBolt constructor<br/>\n    +     * @param esConfig Elasticsearch configuration containing node addresses and cluster name </p>\n{@link EsConfig}\n<p>    +     */<br/>\n    +    public EsPercolateBolt(EsConfig esConfig) </p>\n{\n    +super(esConfig);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map map, TopologyContext topologyContext, OutputCollector outputCollector) </p>\n{\n    +super.prepare(map, topologyContext, outputCollector);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Executes percolate request for given tuple.<br/>\n    +     * @param tuple should contain string values of 3 declared fields: \"source\", \"index\", \"type\"<br/>\n    +     */<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    String source = tuple.getStringByField(\"source\");<br/>\n    +    String index = tuple.getStringByField(\"index\");<br/>\n    +    String type = tuple.getStringByField(\"type\");<br/>\n    +<br/>\n    +    PercolateResponse response = client.preparePercolate().setIndices(index).setDocumentType(type)<br/>\n    +    .setPercolateDoc(PercolateSourceBuilder.docBuilder().setDoc(source)).execute().actionGet();<br/>\n    +    if (response.getCount() > 0) {<br/>\n    +for (PercolateResponse.Match match : response) </p>\n{\n    +    String id = match.getId().toString();\n    +    collector.emit(new Values(id));\n    +}\n<p>    +    }<br/>\n    +    collector.ack(tuple);<br/>\n    +} catch (Exception e) {<br/>\n    +    e.printStackTrace();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Please use LOG instead of printing to stderr.<br/>\n    (Line 71)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561925","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561925","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561925,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE5MjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:23:59Z","updated_at":"2025-01-24T13:43:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#discussion_r35388973\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#discussion_r35388973</a></p>\n\n<p>    &#8212; Diff: external/storm-elasticsearch/src/main/java/org/apache/storm/elasticsearch/trident/EsStateFactory.java &#8212;<br/>\n    @@ -0,0 +1,51 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.elasticsearch.trident;<br/>\n    +<br/>\n    +import backtype.storm.task.IMetricsContext;<br/>\n    +import org.apache.storm.elasticsearch.common.EsConfig;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import storm.trident.state.State;<br/>\n    +import storm.trident.state.StateFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class EsStateFactory implements StateFactory {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(EsStateFactory.class);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    LOG => redundency, can be removed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561930","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561930","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561930,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE5MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:25:01Z","updated_at":"2025-01-24T13:43:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#discussion_r35389019\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#discussion_r35389019</a></p>\n\n<p>    &#8212; Diff: external/storm-elasticsearch/src/main/java/org/apache/storm/elasticsearch/bolt/EsPercolateBolt.java &#8212;<br/>\n    @@ -0,0 +1,81 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.elasticsearch.bolt;<br/>\n    +<br/>\n    +import backtype.storm.task.OutputCollector;<br/>\n    +import backtype.storm.task.TopologyContext;<br/>\n    +import backtype.storm.topology.OutputFieldsDeclarer;<br/>\n    +import backtype.storm.tuple.Fields;<br/>\n    +import backtype.storm.tuple.Tuple;<br/>\n    +import backtype.storm.tuple.Values;<br/>\n    +import org.apache.storm.elasticsearch.common.EsConfig;<br/>\n    +import org.elasticsearch.action.percolate.PercolateResponse;<br/>\n    +import org.elasticsearch.action.percolate.PercolateSourceBuilder;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class EsPercolateBolt extends AbstractEsBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(EsPercolateBolt.class);<br/>\n    +<br/>\n    +    /**<br/>\n    +     * EsPercolateBolt constructor<br/>\n    +     * @param esConfig Elasticsearch configuration containing node addresses and cluster name </p>\n{@link EsConfig}\n<p>    +     */<br/>\n    +    public EsPercolateBolt(EsConfig esConfig) </p>\n{\n    +super(esConfig);\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map map, TopologyContext topologyContext, OutputCollector outputCollector) </p>\n{\n    +super.prepare(map, topologyContext, outputCollector);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * Executes percolate request for given tuple.<br/>\n    +     * @param tuple should contain string values of 3 declared fields: \"source\", \"index\", \"type\"<br/>\n    +     */<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple tuple) {<br/>\n    +try {<br/>\n    +    String source = tuple.getStringByField(\"source\");<br/>\n    +    String index = tuple.getStringByField(\"index\");<br/>\n    +    String type = tuple.getStringByField(\"type\");<br/>\n    +<br/>\n    +    PercolateResponse response = client.preparePercolate().setIndices(index).setDocumentType(type)<br/>\n    +    .setPercolateDoc(PercolateSourceBuilder.docBuilder().setDoc(source)).execute().actionGet();<br/>\n    +    if (response.getCount() > 0) {<br/>\n    +for (PercolateResponse.Match match : response) {<br/>\n    +    String id = match.getId().toString();<br/>\n    +    collector.emit(new Values(id));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I'm curious that emitting only query id list covers general use case. <br/>\n    If users need to know query's information, they should write codes to retrieve it.<br/>\n    If PercolateResponse.Match can be serialized, I think it's better to emit it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124287695","html_url":"https://github.com/apache/storm/pull/573#issuecomment-124287695","issue_url":"https://api.github.com/repos/apache/storm/issues/573","id":124287695,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDI4NzY5NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:27:31Z","updated_at":"2015-07-24T01:27:31Z","author_association":"CONTRIBUTOR","body":"@sweetest \nThe code looks great to me overall, too.\n\nBtw, actually I read your post from your company's official technical blog.\n(http://d2.naver.com/helloworld/1044388)\nThis module covers your use case, but IMO some functionalities should be added to cover more (and general) use cases.\n\nSurely, we can just add to another issues, and implement it later. Here's the list.\n- Introduces Tuple -> ES document mapper to get rid of constant field mapping (source, index, type)\n- Introduces Lookup(or Query)Bolt which retrieves matched documents from ES and emit them\n- Introduces BaseQueryFunction which is same to Lookup(or Query)Bolt but can be used in Trident topology\n\nFor Lookup(or Query)Bolt and BaseQueryFunction, we need to introduce ES document -> Tuple mapper, and we may want to set which field is used for querying. \nWe may also want to consider about the strategy - what we can do when too many documents are matched.\n\n@revans2 @harshach @sweetest \nPlease comment me when you're unsure about features I've suggested. Thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124287695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561934","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561934","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561934,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE5MzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:27:33Z","updated_at":"2025-01-24T13:43:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#issuecomment-124287695\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#issuecomment-124287695</a></p>\n\n<p>    @sweetest <br/>\n    The code looks great to me overall, too.</p>\n\n<p>    Btw, actually I read your post from your company's official technical blog.<br/>\n    (<a href=\"http://d2.naver.com/helloworld/1044388\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://d2.naver.com/helloworld/1044388</a>)<br/>\n    This module covers your use case, but IMO some functionalities should be added to cover more (and general) use cases.</p>\n\n<p>    Surely, we can just add to another issues, and implement it later. Here's the list.</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>Introduces Tuple -> ES document mapper to get rid of constant field mapping (source, index, type)</li>\n\t<li>Introduces Lookup(or Query)Bolt which retrieves matched documents from ES and emit them</li>\n\t<li>Introduces BaseQueryFunction which is same to Lookup(or Query)Bolt but can be used in Trident topology</li>\n</ul>\n\n\n<p>    For Lookup(or Query)Bolt and BaseQueryFunction, we need to introduce ES document -> Tuple mapper, and we may want to set which field is used for querying. <br/>\n    We may also want to consider about the strategy - what we can do when too many documents are matched.</p>\n\n<p>    @revans2 @harshach @sweetest <br/>\n    Please comment me when you're unsure about features I've suggested. Thanks!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124288880","html_url":"https://github.com/apache/storm/pull/573#issuecomment-124288880","issue_url":"https://api.github.com/repos/apache/storm/issues/573","id":124288880,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDI4ODg4MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:38:40Z","updated_at":"2015-07-24T01:38:40Z","author_association":"CONTRIBUTOR","body":"@sweetest \nAnd I saw elasticsearch-hadoop has EsSpout, but this module doesn't include Spout implementation.\nhttps://github.com/elastic/elasticsearch-hadoop/blob/master/storm/src/main/java/org/elasticsearch/storm/EsSpout.java\n\nDid you take a look at EsSpout and decided it is not necessary for current module?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124288880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561937","html_url":"https://github.com/apache/storm/issues/4685#issuecomment-2612561937","issue_url":"https://api.github.com/repos/apache/storm/issues/4685","id":2612561937,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjE5Mzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T01:38:43Z","updated_at":"2025-01-24T13:43:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/573#issuecomment-124288880\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/573#issuecomment-124288880</a></p>\n\n<p>    @sweetest <br/>\n    And I saw elasticsearch-hadoop has EsSpout, but this module doesn't include Spout implementation.<br/>\n    <a href=\"https://github.com/elastic/elasticsearch-hadoop/blob/master/storm/src/main/java/org/elasticsearch/storm/EsSpout.java\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/elastic/elasticsearch-hadoop/blob/master/storm/src/main/java/org/elasticsearch/storm/EsSpout.java</a></p>\n\n<p>    Did you take a look at EsSpout and decided it is not necessary for current module?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612561937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124295316","html_url":"https://github.com/apache/storm/pull/652#issuecomment-124295316","issue_url":"https://api.github.com/repos/apache/storm/issues/652","id":124295316,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDI5NTMxNg==","user":{"login":"caofangkun","id":1931407,"node_id":"MDQ6VXNlcjE5MzE0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1931407?v=4","gravatar_id":"","url":"https://api.github.com/users/caofangkun","html_url":"https://github.com/caofangkun","followers_url":"https://api.github.com/users/caofangkun/followers","following_url":"https://api.github.com/users/caofangkun/following{/other_user}","gists_url":"https://api.github.com/users/caofangkun/gists{/gist_id}","starred_url":"https://api.github.com/users/caofangkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caofangkun/subscriptions","organizations_url":"https://api.github.com/users/caofangkun/orgs","repos_url":"https://api.github.com/users/caofangkun/repos","events_url":"https://api.github.com/users/caofangkun/events{/privacy}","received_events_url":"https://api.github.com/users/caofangkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T02:32:08Z","updated_at":"2015-07-24T02:32:08Z","author_association":"CONTRIBUTOR","body":"duplicates #609 \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124295316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582660","html_url":"https://github.com/apache/storm/issues/4797#issuecomment-2612582660","issue_url":"https://api.github.com/repos/apache/storm/issues/4797","id":2612582660,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI2NjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T02:32:10Z","updated_at":"2025-01-24T13:52:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user caofangkun commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/652#issuecomment-124295316\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/652#issuecomment-124295316</a></p>\n\n<p>    duplicates #609 </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515847","html_url":"https://github.com/apache/storm/issues/4435#issuecomment-2612515847","issue_url":"https://api.github.com/repos/apache/storm/issues/4435","id":2612515847,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTU4NDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T02:38:09Z","updated_at":"2025-01-24T13:19:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=memorylake@qq.com\">memorylake@qq.com</a>:</i>\n<p>Hi Jon, what do you mean by using latency*events/sec? It seems to be the same thing as capacity in my understanding. You also mentioned that each worker has the same number and type of bolts and spouts, are you suggesting that every bolt should have a parallel degree that is larger than or even a multiple of the number of workers?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581177","html_url":"https://github.com/apache/storm/issues/4789#issuecomment-2612581177","issue_url":"https://api.github.com/repos/apache/storm/issues/4789","id":2612581177,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODExNzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T07:45:17Z","updated_at":"2025-01-24T13:52:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user caofangkun commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/645#discussion_r35401647\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/645#discussion_r35401647</a></p>\n\n<p>    &#8212; Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java &#8212;<br/>\n    @@ -170,10 +170,10 @@ public void run() {<br/>\n     }<br/>\n }</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private void flushAllWriters()<br/>\n    +    private void flushAllWriters(boolean rollToNext)<br/>\n     throws HiveWriter.CommitFailure, HiveWriter.TxnBatchFailure, HiveWriter.TxnFailure, InterruptedException {<br/>\n     for(HiveWriter writer: allWriters.values()) {</li>\n\t<li>writer.flush(true);<br/>\n    +    writer.flush(rollToNext);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    If ```rollToNext == false``` should we ``` writer.close()``` ? <br/>\n    Like:<br/>\n    ```<br/>\n     writer.flush(rollToNext);<br/>\n     if (!rollToNext) </p>\n{\nwriter.close();\n     }\n<p>    ```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124425109","html_url":"https://github.com/apache/storm/pull/623#issuecomment-124425109","issue_url":"https://api.github.com/repos/apache/storm/issues/623","id":124425109,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDQyNTEwOQ==","user":{"login":"caofangkun","id":1931407,"node_id":"MDQ6VXNlcjE5MzE0MDc=","avatar_url":"https://avatars.githubusercontent.com/u/1931407?v=4","gravatar_id":"","url":"https://api.github.com/users/caofangkun","html_url":"https://github.com/caofangkun","followers_url":"https://api.github.com/users/caofangkun/followers","following_url":"https://api.github.com/users/caofangkun/following{/other_user}","gists_url":"https://api.github.com/users/caofangkun/gists{/gist_id}","starred_url":"https://api.github.com/users/caofangkun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caofangkun/subscriptions","organizations_url":"https://api.github.com/users/caofangkun/orgs","repos_url":"https://api.github.com/users/caofangkun/repos","events_url":"https://api.github.com/users/caofangkun/events{/privacy}","received_events_url":"https://api.github.com/users/caofangkun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T08:13:28Z","updated_at":"2015-07-24T08:13:28Z","author_association":"CONTRIBUTOR","body":"@DevInsanity \nDo your topology use [StormSubmitter.submitTopologyWithProgressBar](https://github.com/apache/storm/blob/master/storm-core/src/jvm/backtype/storm/StormSubmitter.java#L287) ?\nIt will wait & show progress for the topology to deploy before exiting\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124425109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612577597","html_url":"https://github.com/apache/storm/issues/4765#issuecomment-2612577597","issue_url":"https://api.github.com/repos/apache/storm/issues/4765","id":2612577597,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Nzc1OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T08:13:29Z","updated_at":"2025-01-24T13:50:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user caofangkun commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/623#issuecomment-124425109\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/623#issuecomment-124425109</a></p>\n\n<p>    @DevInsanity <br/>\n    Do your topology use <span class=\"error\">&#91;StormSubmitter.submitTopologyWithProgressBar&#93;</span>(<a href=\"https://github.com/apache/storm/blob/master/storm-core/src/jvm/backtype/storm/StormSubmitter.java#L287\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/storm-core/src/jvm/backtype/storm/StormSubmitter.java#L287</a>) ?<br/>\n    It will wait & show progress for the topology to deploy before exiting</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612577597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124442778","html_url":"https://github.com/apache/storm/pull/623#issuecomment-124442778","issue_url":"https://api.github.com/repos/apache/storm/issues/623","id":124442778,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDQ0Mjc3OA==","user":{"login":"DevInsanity","id":906231,"node_id":"MDQ6VXNlcjkwNjIzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/906231?v=4","gravatar_id":"","url":"https://api.github.com/users/DevInsanity","html_url":"https://github.com/DevInsanity","followers_url":"https://api.github.com/users/DevInsanity/followers","following_url":"https://api.github.com/users/DevInsanity/following{/other_user}","gists_url":"https://api.github.com/users/DevInsanity/gists{/gist_id}","starred_url":"https://api.github.com/users/DevInsanity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DevInsanity/subscriptions","organizations_url":"https://api.github.com/users/DevInsanity/orgs","repos_url":"https://api.github.com/users/DevInsanity/repos","events_url":"https://api.github.com/users/DevInsanity/events{/privacy}","received_events_url":"https://api.github.com/users/DevInsanity/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T08:37:46Z","updated_at":"2015-07-24T08:37:46Z","author_association":"NONE","body":"@caofangkun \nNo, we're using a flux based topology and deploying to a remote cluster (via `storm.cmd jar project.jar org.apache.storm.flux.Flux --remote project.yaml --filter project.properties`).\n\nThe problem is that because storm.cmd launches the actual process via `start /b` then it doesn't wait for the topology to deploy before returning to the caller, so you can't get any error codes back from the deployer (for example, if the yaml is invalid).\n\nWe're actually invoking this from a maven antrun plugin task as part of build process. In that case, it's even worse, as in the case of an error, not only does maven still report a build successful (as the antrun plugin's exec task doesn't see an error code), but none of the output is captured either. With the change, the output from the deployment is captured by maven properly.\n\nWhile we could specify the storm_debug option explicitly (which would still need the quotes added around the %JAVA% to work properly when java is installed under Program Files), the jar command doesn't appear to be intended to launch a background server, so should wait for it's action to finish before returning.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124442778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612577604","html_url":"https://github.com/apache/storm/issues/4765#issuecomment-2612577604","issue_url":"https://api.github.com/repos/apache/storm/issues/4765","id":2612577604,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1Nzc2MDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T08:37:47Z","updated_at":"2025-01-24T13:50:35Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user DevInsanity commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/623#issuecomment-124442778\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/623#issuecomment-124442778</a></p>\n\n<p>    @caofangkun <br/>\n    No, we're using a flux based topology and deploying to a remote cluster (via `storm.cmd jar project.jar org.apache.storm.flux.Flux --remote project.yaml --filter project.properties`).</p>\n\n<p>    The problem is that because storm.cmd launches the actual process via `start /b` then it doesn't wait for the topology to deploy before returning to the caller, so you can't get any error codes back from the deployer (for example, if the yaml is invalid).</p>\n\n<p>    We're actually invoking this from a maven antrun plugin task as part of build process. In that case, it's even worse, as in the case of an error, not only does maven still report a build successful (as the antrun plugin's exec task doesn't see an error code), but none of the output is captured either. With the change, the output from the deployment is captured by maven properly.</p>\n\n<p>    While we could specify the storm_debug option explicitly (which would still need the quotes added around the %JAVA% to work properly when java is installed under Program Files), the jar command doesn't appear to be intended to launch a background server, so should wait for it's action to finish before returning.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612577604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612482497","html_url":"https://github.com/apache/storm/issues/4282#issuecomment-2612482497","issue_url":"https://api.github.com/repos/apache/storm/issues/4282","id":2612482497,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0ODI0OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T08:58:36Z","updated_at":"2025-01-24T13:02:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user caofangkun commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/648#discussion_r35406122\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/648#discussion_r35406122</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/DRPCClient.java &#8212;<br/>\n    @@ -46,7 +46,22 @@ public DRPCClient(Map conf, String host, int port, Integer timeout) throws TTran<br/>\n     this.port = port;<br/>\n     this.client = new DistributedRPC.Client(_protocol);<br/>\n }</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li><p>    +<br/>\n    +    public static DistributedRPC.Client getConfiguredDRPCClient(String host, int port) </p>\n{\n    +    return getConfiguredDRPCClient(null, host, port);\n    +    }\n<p>    +<br/>\n    +    public static DistributedRPC.Client getConfiguredDRPCClient(Map conf, String host, int port) {<br/>\n    +      try {<br/>\n    +Map fullConf = Utils.readStormConfig();<br/>\n    +if (conf != null) </p>\n{\n    +  fullConf.putAll(conf);\n    +}\n<p>    +return new DRPCClient(conf, host, port).getClient();</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    shoud be ```return new DRPCClient(fullConf, host, port).getClient();```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612482497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612482500","html_url":"https://github.com/apache/storm/issues/4282#issuecomment-2612482500","issue_url":"https://api.github.com/repos/apache/storm/issues/4282","id":2612482500,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0ODI1MDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T09:00:26Z","updated_at":"2025-01-24T13:02:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user caofangkun commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/648#discussion_r35406230\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/648#discussion_r35406230</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/NimbusClient.java &#8212;<br/>\n    @@ -30,11 +30,18 @@<br/>\n private Nimbus.Client _client;<br/>\n private static final Logger LOG = LoggerFactory.getLogger(NimbusClient.class);</p>\n\n<p>    +    public static NimbusClient getConfiguredClient() </p>\n{\n    +      return getConfiguredClient(null);\n    +    }\n\n<p> public static NimbusClient getConfiguredClient(Map conf) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>try {</li>\n\t<li>String nimbusHost = (String) conf.get(Config.NIMBUS_HOST);</li>\n\t<li>return new NimbusClient(conf, nimbusHost);<br/>\n    +      try {<br/>\n    +Map fullConf = Utils.readStormConfig();<br/>\n    +if (conf != null) \n{\n    + fullConf.putAll(conf);\n    +}\n<p>    +String nimbusHost = (String) conf.get(Config.NIMBUS_HOST);<br/>\n    +      return new NimbusClient(conf, nimbusHost);</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    should be <br/>\n    ```<br/>\n     String nimbusHost = (String) fullConf.get(Config.NIMBUS_HOST);<br/>\n     return new NimbusClient(fullConf, nimbusHost);<br/>\n    ```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612482500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612575862","html_url":"https://github.com/apache/storm/issues/4752#issuecomment-2612575862","issue_url":"https://api.github.com/repos/apache/storm/issues/4752","id":2612575862,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzU4NjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T09:54:40Z","updated_at":"2025-01-24T13:49:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user caofangkun commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/606#discussion_r35409819\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/606#discussion_r35409819</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/test/java/org/apache/storm/hdfs/trident/TridentSequenceTopology.java &#8212;<br/>\n    @@ -60,7 +61,7 @@ public static StormTopology buildTopology(String hdfsUrl){<br/>\n     .withSequenceFormat(new DefaultSequenceFormat(\"key\", \"sentence\"))<br/>\n     .withRotationPolicy(rotationPolicy)<br/>\n     .withFsUrl(hdfsUrl)</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>.withConfigKey(\"hdfs.config\")\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @tedxia <br/>\n    if you change ```hdfs.config``` to ```topology.hdfs.config``` <br/>\n    should the following several files  change too ?<br/>\n    <span class=\"error\">&#91;HdfsFileTopology.java&#93;</span>(<a href=\"https://github.com/apache/storm/blob/master/external/storm-hdfs/src/test/java/org/apache/storm/hdfs/bolt/HdfsFileTopology.java#L82\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/external/storm-hdfs/src/test/java/org/apache/storm/hdfs/bolt/HdfsFileTopology.java#L82</a>)<br/>\n    <span class=\"error\">&#91;simple_hdfs.yaml&#93;</span>(<a href=\"https://github.com/apache/storm/blob/master/external/flux/flux-examples/src/main/resources/simple_hdfs.yaml#L74\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/external/flux/flux-examples/src/main/resources/simple_hdfs.yaml#L74</a>)<br/>\n    <span class=\"error\">&#91;hdfs_test.yaml&#93;</span>(<a href=\"https://github.com/apache/storm/blob/master/external/flux/flux-core/src/test/resources/configs/hdfs_test.yaml#L82\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/external/flux/flux-core/src/test/resources/configs/hdfs_test.yaml#L82</a>)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612575862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612575866","html_url":"https://github.com/apache/storm/issues/4752#issuecomment-2612575866","issue_url":"https://api.github.com/repos/apache/storm/issues/4752","id":2612575866,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NzU4NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T10:02:10Z","updated_at":"2025-01-24T13:49:46Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user tedxia commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/606#discussion_r35410221\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/606#discussion_r35410221</a></p>\n\n<p>    &#8212; Diff: external/storm-hdfs/src/test/java/org/apache/storm/hdfs/trident/TridentSequenceTopology.java &#8212;<br/>\n    @@ -60,7 +61,7 @@ public static StormTopology buildTopology(String hdfsUrl){<br/>\n     .withSequenceFormat(new DefaultSequenceFormat(\"key\", \"sentence\"))<br/>\n     .withRotationPolicy(rotationPolicy)<br/>\n     .withFsUrl(hdfsUrl)</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>.withConfigKey(\"hdfs.config\")\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    yesI think we should change to hdfs.config for this reason, I will add a patch later.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612575866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581180","html_url":"https://github.com/apache/storm/issues/4789#issuecomment-2612581180","issue_url":"https://api.github.com/repos/apache/storm/issues/4789","id":2612581180,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODExODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T14:12:16Z","updated_at":"2025-01-24T13:52:17Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/645#discussion_r35425503\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/645#discussion_r35425503</a></p>\n\n<p>    &#8212; Diff: external/storm-hive/src/main/java/org/apache/storm/hive/bolt/HiveBolt.java &#8212;<br/>\n    @@ -170,10 +170,10 @@ public void run() {<br/>\n     }<br/>\n }</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private void flushAllWriters()<br/>\n    +    private void flushAllWriters(boolean rollToNext)<br/>\n     throws HiveWriter.CommitFailure, HiveWriter.TxnBatchFailure, HiveWriter.TxnFailure, InterruptedException {<br/>\n     for(HiveWriter writer: allWriters.values()) {</li>\n\t<li>writer.flush(true);<br/>\n    +    writer.flush(rollToNext);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    @caofangkun closing Writer handled in different method you can flushAllAndCloseWriters().</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124537309","html_url":"https://github.com/apache/storm/pull/644#issuecomment-124537309","issue_url":"https://api.github.com/repos/apache/storm/issues/644","id":124537309,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDUzNzMwOQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T14:15:35Z","updated_at":"2015-07-24T14:15:35Z","author_association":"CONTRIBUTOR","body":"@revans2 @ptgoetz can you take a look at this patch. Thanks.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124537309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560591","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560591","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560591,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA1OTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T14:15:36Z","updated_at":"2025-01-24T13:42:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644#issuecomment-124537309\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644#issuecomment-124537309</a></p>\n\n<p>    @revans2 @ptgoetz can you take a look at this patch. Thanks.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515850","html_url":"https://github.com/apache/storm/issues/4435#issuecomment-2612515850","issue_url":"https://api.github.com/repos/apache/storm/issues/4435","id":2612515850,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTU4NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T14:50:30Z","updated_at":"2025-01-24T13:19:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jon.weygandt\">jon.weygandt</a>:</i>\n<p>latency*events/sec = capacity - We are probably saying the same thing. Which is different than UIUC's proposal using queue lengths. I believe this metric behaves much more linearly with respect to load, when the system is in the normal rage of operations. Of course capacity may be one of many, but that will be my starting point.</p>\n\n<p>RE Parallelism: yes, for this model: \"a bolts parallelism\" = n * workers; where n is an integer.<br/>\nEveryone I have worked with seem to agree that this is simply more than a \"good rule of thumb\", but necessary to have a predictable system.</p>\n\n<p>I believe my scaling system will work for many, but not for all. Storm has many uses. There could be a place for UIUC's proposal, as it did not have this constraint. Keeping comments on one topic and small, see next comment on some ideas I have.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515853","html_url":"https://github.com/apache/storm/issues/4435#issuecomment-2612515853","issue_url":"https://api.github.com/repos/apache/storm/issues/4435","id":2612515853,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTU4NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T15:29:01Z","updated_at":"2025-01-24T13:19:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jon.weygandt\">jon.weygandt</a>:</i>\n<p>I believe it will be a long time before someone creates a single auto-scale solution that will suit all Storm users. My solution will have a \"parallelism constraint\", which does not seem bad, as is seems many users already behave this way. But I realize there will be others who don't like this constraint. To that end, I will attempt to create a layer whereby one can plug in different AutoScaleManagers (I'm going to propose a name like \"AutoScaleManager\", as Threshold Monitor Daemon seems to imply implementations). If we do it right, my implementation can coexist with UIUC's implementation, and others. I wish them well in their solution, my motivation is that I'm going to be responsible for 100's of independent Topologies, and without something like this it will be an operational nightmare. </p>\n\n<p>I envision the AutoScaleManager will be associated with the Topology when it is submitted to Nimbus. Could be part of the core Storm code base, or a custom user class.</p>\n\n<p>There will be one (or more) strategically placed calls from the Topology management code during the management lifecycle, such as during deployment/delivery of code to Workers, to modify/enhance the topology. It will be in this phase that saved history or initial defaults will be applied to the Topology, altering parallelism, workers, ackers, queue sizes etc... This call will be a \"black box\" to core Storm code. The \"saved history\" will be the sole responsibility of the AutoScaleManager.</p>\n\n<p>Then the AutoScaleManager must run as a daemon somewhere. I'm going to propose that it run as a Thread inside Nimbus. This will make management of the daemon easy for simple use cases. And when Nimbus solves the HA/failover issues, the AutoScaleManager take advantage of that solution as well. Whenever Nimbus is watching over a Topology, the AutoScaleManager for that Topology is running. We will need various lifecycle methods such as start and stop that Nimbus will call at the correct times.</p>\n\n<p>When the AutoScaleManager needs to make changes, all of the Nimbus APIs are available. It could do whatever runtime changes are allowed, like alter parallelism. For large changes it will simply stop then start the Topology, the \"enhance\" callback will perform the changes. Furthermore, if it is making runtime changes, it will need to remember them so when code changes happen, they are used as the initial defaults for that code roll.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124560610","html_url":"https://github.com/apache/storm/pull/644#issuecomment-124560610","issue_url":"https://api.github.com/repos/apache/storm/issues/644","id":124560610,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDU2MDYxMA==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T15:35:43Z","updated_at":"2015-07-24T15:35:43Z","author_association":"MEMBER","body":"@arunmahadevan Quick question (I haven't done a full review yet): Is there a way to make this work for Timed rotation policies? That one of the most widely used rotation policies.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124560610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560594","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560594","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560594,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA1OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T15:35:46Z","updated_at":"2025-01-24T13:42:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644#issuecomment-124560610\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644#issuecomment-124560610</a></p>\n\n<p>    @arunmahadevan Quick question (I haven't done a full review yet): Is there a way to make this work for Timed rotation policies? That one of the most widely used rotation policies.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612482507","html_url":"https://github.com/apache/storm/issues/4282#issuecomment-2612482507","issue_url":"https://api.github.com/repos/apache/storm/issues/4282","id":2612482507,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0ODI1MDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T16:28:38Z","updated_at":"2025-01-24T13:02:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user redsanket commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/648#discussion_r35439293\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/648#discussion_r35439293</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/NimbusClient.java &#8212;<br/>\n    @@ -30,11 +30,18 @@<br/>\n private Nimbus.Client _client;<br/>\n private static final Logger LOG = LoggerFactory.getLogger(NimbusClient.class);</p>\n\n<p>    +    public static NimbusClient getConfiguredClient() </p>\n{\n    +      return getConfiguredClient(null);\n    +    }\n\n<p> public static NimbusClient getConfiguredClient(Map conf) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>try {</li>\n\t<li>String nimbusHost = (String) conf.get(Config.NIMBUS_HOST);</li>\n\t<li>return new NimbusClient(conf, nimbusHost);<br/>\n    +      try {<br/>\n    +Map fullConf = Utils.readStormConfig();<br/>\n    +if (conf != null) \n{\n    + fullConf.putAll(conf);\n    +}\n<p>    +String nimbusHost = (String) conf.get(Config.NIMBUS_HOST);<br/>\n    +      return new NimbusClient(conf, nimbusHost);</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Sorry pushed the wrong commit, shall do it now, thanks for pointing it out</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612482507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582789","html_url":"https://github.com/apache/storm/issues/4798#issuecomment-2612582789","issue_url":"https://api.github.com/repos/apache/storm/issues/4798","id":2612582789,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODI3ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T17:02:14Z","updated_at":"2025-01-24T13:52:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dossett@gmail.com\">dossett@gmail.com</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sriharsha\" class=\"user-hover\" rel=\"sriharsha\">Harsha</a> PR updated to reflect only my commits.  Thank you for the comment about flushAndCloseAllWriters, I have made another commit to account for this and make the unit tests better.</p>\n\n<p>Here's the test scenario where I see tuple loss:</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>Set hive batch size = 10</li>\n\t<li>process nine tuples, hive table has zero rows as expected</li>\n\t<li>take down Hive metastore</li>\n\t<li>process one more tuple.  That tuple is failed because hive metastore is down as expected.  Note at this point all previous nine tuples have been acked.</li>\n\t<li>restart hive metastore</li>\n\t<li>the 10th tuple is eventually processed and the hive writer flushes (because currentBatchSize is now 10)</li>\n\t<li>one row is in the hive table</li>\n\t<li>wait several minutes to ensure that first nine tuples are not retried</li>\n\t<li>confirm only one row exists in the hive table</li>\n</ul>\n\n\n<p>With my change and the same test scenario:</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>after restarting the metastore and waiting several minutes for a retry, confirmed that 10 rows were in the Hive table.</li>\n</ul>\n\n\n<p>If the metastore is completely down then flushAllWriters and flushAndCloseWriters will fail to write to Hive.  In that case no tuples should end up being acknowledged.</p>\n\n<p>Note: a key change for this was to have flushAndCloseWriters re-throw any exception it catches from flushAllWriters</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612582789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124612279","html_url":"https://github.com/apache/storm/pull/644#issuecomment-124612279","issue_url":"https://api.github.com/repos/apache/storm/issues/644","id":124612279,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDYxMjI3OQ==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T18:31:42Z","updated_at":"2015-07-24T18:31:42Z","author_association":"MEMBER","body":"It took me some time to follow what's going on with this patch, so I'll document it here for the benefit other reviewers.\n\nIt operates by using the concept of a temporary \"transaction file\" that contains the last successfully written/committed file write offset and the transaction ID. That file is initially read in the `prepare()` method call, and is initialized if it does not already exist. The POJO representing that file is stored in a `lastTxn` instance variable, which represents that last committed transaction.\n\nIn the `beginCommit()` method, it checks the transaction ID against the one stored in `lastTxn`. If it is <= (indicating a replay of a batch), it triggers recovery (more on that later), otherwise it continues normally (writing data in the `execute()` method).\n\nIn the `commit()` method, it essentially re-writes the transaction file with the new transaction ID and the current file offset after the latest batch data was written. This offset serves as the starting point for recovery.\n\n**Recovery**\nWhen recovery is triggered, it is assumed that there was a failure during the `execute()` method, and the data file now contains data from tuples that will be replayed. If it were to simply append to that file, there would be duplicate records. So it effectively truncates the data file by creating new file, and copying everything from the old data file _up to the last successfully committed offset,_ and discarding the remaining data.\n\nI think this is an interesting approach and is certainly more resilient than what we currently have, but I think there's a scaling problem with the recovery functionality. Recovery works by essentially copying the old/orphaned data file into a new file and skipping any extra, uncommitted data it contains. This is fine for small files, but what about the case where the data file is really big and the recovery time would take longer than `topology.message.timeout.secs`?\n\nAnother problem I see is the lack of support for time-based file rotation. I understand why it's not supported by this patch, but as I mentioned earlier, that's one of the most common use cases.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124612279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560599","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560599","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560599,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA1OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T18:31:43Z","updated_at":"2025-01-24T13:42:31Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644#issuecomment-124612279\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644#issuecomment-124612279</a></p>\n\n<p>    It took me some time to follow what's going on with this patch, so I'll document it here for the benefit other reviewers.</p>\n\n<p>    It operates by using the concept of a temporary \"transaction file\" that contains the last successfully written/committed file write offset and the transaction ID. That file is initially read in the `prepare()` method call, and is initialized if it does not already exist. The POJO representing that file is stored in a `lastTxn` instance variable, which represents that last committed transaction.</p>\n\n<p>    In the `beginCommit()` method, it checks the transaction ID against the one stored in `lastTxn`. If it is <= (indicating a replay of a batch), it triggers recovery (more on that later), otherwise it continues normally (writing data in the `execute()` method).</p>\n\n<p>    In the `commit()` method, it essentially re-writes the transaction file with the new transaction ID and the current file offset after the latest batch data was written. This offset serves as the starting point for recovery.</p>\n\n<p>    *<b>Recovery</b>*<br/>\n    When recovery is triggered, it is assumed that there was a failure during the `execute()` method, and the data file now contains data from tuples that will be replayed. If it were to simply append to that file, there would be duplicate records. So it effectively truncates the data file by creating new file, and copying everything from the old data file <b>up to the last successfully committed offset,</b> and discarding the remaining data.</p>\n\n<p>    I think this is an interesting approach and is certainly more resilient than what we currently have, but I think there's a scaling problem with the recovery functionality. Recovery works by essentially copying the old/orphaned data file into a new file and skipping any extra, uncommitted data it contains. This is fine for small files, but what about the case where the data file is really big and the recovery time would take longer than `topology.message.timeout.secs`?</p>\n\n<p>    Another problem I see is the lack of support for time-based file rotation. I understand why it's not supported by this patch, but as I mentioned earlier, that's one of the most common use cases.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124635613","html_url":"https://github.com/apache/storm/pull/644#issuecomment-124635613","issue_url":"https://api.github.com/repos/apache/storm/issues/644","id":124635613,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDYzNTYxMw==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T19:02:43Z","updated_at":"2015-07-24T19:02:43Z","author_association":"CONTRIBUTOR","body":"@ptgoetz to address the concern of recovery times for large files, can we recommend (or auto enforce) the max size in \"size based rotation\" to a reasonable threshold (say 1GB). As long as the files get rotated at a reasonable threshold which can be copied over quickly there wont be issues.\n\nRegarding time based rotation: It may be possible to support by guarding all the operations with locks and then have the new file path updated in the index along with rotation. (there might be other corner cases which needs to be thought through). \n\nHowever the issue I see with time based rotation is we don't have a control of the file size and if users configure a daily rotation policy and the data rate is high, we wont be able to recover such huge files in case of failure.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124635613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560603","html_url":"https://github.com/apache/storm/issues/4677#issuecomment-2612560603","issue_url":"https://api.github.com/repos/apache/storm/issues/4677","id":2612560603,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1NjA2MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T19:02:49Z","updated_at":"2025-01-24T13:42:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/644#issuecomment-124635613\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/644#issuecomment-124635613</a></p>\n\n<p>    @ptgoetz to address the concern of recovery times for large files, can we recommend (or auto enforce) the max size in \"size based rotation\" to a reasonable threshold (say 1GB). As long as the files get rotated at a reasonable threshold which can be copied over quickly there wont be issues.</p>\n\n<p>    Regarding time based rotation: It may be possible to support by guarding all the operations with locks and then have the new file path updated in the index along with rotation. (there might be other corner cases which needs to be thought through). </p>\n\n<p>    However the issue I see with time based rotation is we don't have a control of the file size and if users configure a daily rotation policy and the data rate is high, we wont be able to recover such huge files in case of failure.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612560603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581718","html_url":"https://github.com/apache/storm/issues/4792#issuecomment-2612581718","issue_url":"https://api.github.com/repos/apache/storm/issues/4792","id":2612581718,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODE3MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-24T19:32:29Z","updated_at":"2025-01-24T13:52:28Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arunmahadevan\">arunmahadevan</a>:</i>\n<p>Putting down high level thoughts below. </p>\n\n<p>Have an internal bolt (EventInspector) that is capable of receiving tuples from any spout or bolt. EventInspector would log the tuples and any additional meta data it received into a log file which can be used to inspect the events via the storm UI.</p>\n\n<p>Users can turn on event inspection for specific spouts or bolts (or globally for all) via the UI and this flag is passed on to the workers via a zookeeper watch. This will also ensure turning on/off the event inspection without restarting the topology.</p>\n\n<p>We will add edges (streams) from all spouts and bolts to EventInspector during topology construction. Worker / Executors send out the tuples and additional metadata to EventInspector for those spouts and bolts which have the flag turned on.</p>\n\n<p>To keep the load under control, we let users specify (or auto apply) some sampling percentage and also write out data to log files in batches for better performance. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612581718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124790891","html_url":"https://github.com/apache/storm/pull/643#issuecomment-124790891","issue_url":"https://api.github.com/repos/apache/storm/issues/643","id":124790891,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDc5MDg5MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-25T02:46:50Z","updated_at":"2015-07-25T02:46:50Z","author_association":"CONTRIBUTOR","body":"+1.\nI'll merge it.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124790891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124791193","html_url":"https://github.com/apache/storm/pull/643#issuecomment-124791193","issue_url":"https://api.github.com/repos/apache/storm/issues/643","id":124791193,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDc5MTE5Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-25T02:49:48Z","updated_at":"2015-07-25T02:49:48Z","author_association":"CONTRIBUTOR","body":"Thanks @vesense, I merged into master.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124791193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515858","html_url":"https://github.com/apache/storm/issues/4435#issuecomment-2612515858","issue_url":"https://api.github.com/repos/apache/storm/issues/4435","id":2612515858,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTU4NTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-25T09:42:16Z","updated_at":"2025-01-24T13:19:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=memorylake@qq.com\">memorylake@qq.com</a>:</i>\n<p>Hi Jon, From my humble understanding, putting parallelism like that is not very tenable, as some components are just responsible for writing some negligible results and thus shouldn't be spread over the cluster.  But apart from that, I think the most tricky part is how would you identify the most bottlenecked component, and how to tackle this imbalance problem. The bottleneck could be either with spout whose instances are not powerful enough (so that some of the bolts are actually starving) or some bolts lying in the critical path that do not have enough parallelism hints. Since the bottleneck is absolutely application dependent, I believe a \"good rule of thumb\" is still needed in an universal auto-scaling system and maybe you need to address that clearly in your approach.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124851746","html_url":"https://github.com/apache/storm/pull/643#issuecomment-124851746","issue_url":"https://api.github.com/repos/apache/storm/issues/643","id":124851746,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDg1MTc0Ng==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-25T14:43:22Z","updated_at":"2015-07-25T14:43:22Z","author_association":"MEMBER","body":"Thx.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124851746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515863","html_url":"https://github.com/apache/storm/issues/4435#issuecomment-2612515863","issue_url":"https://api.github.com/repos/apache/storm/issues/4435","id":2612515863,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTU4NjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-25T15:18:03Z","updated_at":"2025-01-24T13:19:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jon.weygandt\">jon.weygandt</a>:</i>\n<p>I have yet to work with a use case like that, although one of my colleagues pointed this out. I am really interested in how Nimbus actually converts bolts/parallelism/workers into a physical executable layout. This has always fascinated me, as how does one take the given input and create something that is stable and manageable. I have yet to look at the code for this, but if it is very predictable and what one wants: the \"singleton bolts\" will need to be tagged in a method the AutoScaleManager recognizes and the scaling algorithm will use that tagging. If the topology allocation is not what one wants, but it is somewhat \"modular\", perhaps the AutoScaleManager could have a computePhysicalTopology method, so that part of the layout is under the control of the auto-scale system.</p>\n\n<p>Although we did go into more detail on what bolts classify as \"singleton bolts\". One that does: an accumulator of some distributed operation, that is accumulating partial results into a final result. Thus if you partitioned it you would not get the results you want. These must be \"singleton bolts\". One that does not: an email out bolt. Yes it is trivial, the system will work fine with only one. But logically the system will work fine with one per worker as well. Some might think that's wasteful, but for email, not really. You have one more thread, but it is doing X/workers amount of work. In fact this may be more efficient, as you won't have to do (de)serialization and IPC to the singleton. Now if it is a database output bolt, and connections to the DB are limited, a tradeoff. </p>\n\n<p>We will support both scenarios, so the Storm developer will have a choice.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515867","html_url":"https://github.com/apache/storm/issues/4435#issuecomment-2612515867","issue_url":"https://api.github.com/repos/apache/storm/issues/4435","id":2612515867,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1MTU4Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-25T15:40:31Z","updated_at":"2025-01-24T13:19:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jon.weygandt\">jon.weygandt</a>:</i>\n<p>How to detect bottlenecks: This is tricky to predict and we won't in a single iteration, and UIUC did about 16 (+/-) iterations in their sample runs. Remember this may not work for everything, which is why this is designed to be a \"plugin\", so others can improve on this or do things differently.</p>\n\n<p>One input will be the target tps for each spout. We have daily/weekly/seasonal variations, and the owner of the topology should have some idea of the target rates. That will mean that during the busy time (also most important time) the system is not trying to rebalance, as rebalances may produce s small glitch in the flow. FWIW - I'm not trying to solve a totally elastic min by min or hr by hr flex problem. The problem I'm working on is to ease the management of a topology over the entire lifetime: the initial deployment and adjustment of numbers; as well as longer term, code roll to code roll, gradual increase in load; the changes for the estimated increase for seasonal traffic; as well as some automated handling and/or alerting when there are unexpected changes.</p>\n\n<p>Algorithm proposal: </p>\n\n<p>Step 1: So if the spout is pegged at 100% capacity, and we know the current tps, and target tps, we can estimate the number of instances. If the spout is not, likely one of the downstream bolts is. We do the same estimate.  </p>\n\n<p>Step 2: Then the next part is tricker, but follow the topology and you can get a ratio of the weighted average input of the spouts tps with respect to each bolts tps, and each bolts capacity. And knowing the target spouts capacity, do the math and get an estimate. As the bottleneck moves from spout to the last bolt, this estimate will get better and better for the bolts further up stream.</p>\n\n<p>Add in some hysteresis to prevent needless cycling.</p>\n\n<p>I believe this will converge for many system in a few cycles. And it may quite likely be bounded by the length/depth of the topology.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612515867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/124856128","html_url":"https://github.com/apache/storm/pull/644#issuecomment-124856128","issue_url":"https://api.github.com/repos/apache/storm/issues/644","id":124856128,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDg1NjEyOA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-25T15:55:55Z","updated_at":"2015-07-25T15:55:55Z","author_association":"CONTRIBUTOR","body":"@ptgoetz @arunmahadevan  can we not make this as a default behaviour instead make this as option. We can document that exactly-once behaviour  comes with limitations around file rotation.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/124856128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]