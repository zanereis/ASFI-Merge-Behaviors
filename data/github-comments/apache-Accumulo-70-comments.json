[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872174301","html_url":"https://github.com/apache/accumulo/pull/2186#issuecomment-872174301","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2186","id":872174301,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjE3NDMwMQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T11:42:39Z","updated_at":"2021-07-01T11:42:39Z","author_association":"CONTRIBUTOR","body":"I think there are some issues with the comments being reformatted in Property.java. Did the formatter do this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872174301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872175446","html_url":"https://github.com/apache/accumulo/pull/2038#issuecomment-872175446","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2038","id":872175446,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjE3NTQ0Ng==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T11:44:34Z","updated_at":"2021-07-01T11:44:34Z","author_association":"CONTRIBUTOR","body":"@milleruntime - I think this can be closed. I resolved #2030 in a different PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872175446/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872199988","html_url":"https://github.com/apache/accumulo/pull/2186#issuecomment-872199988","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2186","id":872199988,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjE5OTk4OA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T12:20:50Z","updated_at":"2021-07-01T14:39:06Z","author_association":"CONTRIBUTOR","body":"I’ll see if I can fix it – but I didn’t do it.  Not sure where its coming from at this point.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872199988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872436542","html_url":"https://github.com/apache/accumulo/pull/2181#issuecomment-872436542","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2181","id":872436542,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjQzNjU0Mg==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T17:48:14Z","updated_at":"2021-07-01T17:48:47Z","author_association":"CONTRIBUTOR","body":"> java.lang.OutOfMemoryError: Java heap space\r\n>-XX:OnOutOfMemoryError=\"kill -9 %p\"\r\n>   Executing /bin/sh -c \"kill -9 41830\"...\r\n>[1]    41830 killed     accumulo wal-info \r\n\r\nFor the OOM issue, should I adjust heap space for wal-info inside accumulo-env.sh or is that something we should let the user decide on what heap space to give that particular utility? I tested upping the limit to 512m and did not run into the error.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872436542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872578979","html_url":"https://github.com/apache/accumulo/issues/1117#issuecomment-872578979","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1117","id":872578979,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjU3ODk3OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T22:06:00Z","updated_at":"2021-07-01T22:06:00Z","author_association":"MEMBER","body":"@foster33 Yes, this would still be a nice addition. Adding both \"since\" and \"deprecated since\", and also \"replaced by\", if relevant, information to the generated docs at https://accumulo.apache.org/docs/2.x/configuration/server-properties would be great. The code that generates the Markdown for that page is in core/src/main/java/org/apache/accumulo/core/conf/ConfigurationDocGen.java\r\n\r\nFor \"deprecated since\" you could use the `@Deprecated(since = \"1.6.4\")` annotation information. You can pull the \"replaced by\" information from our own `@ReplacedBy` annotation. You'll probably have to create some kind of `@Since` annotation, but you may wish to avoid using that name, so it's not confused with the built-in javadoc `@since` tag. Perhaps `@AvailableSince`?\r\n\r\nA quick Google search and I found a tutorial about accessing annotation parameters that could be useful at https://nadundesilva.medium.com/reading-annotations-at-run-time-using-the-java-reflections-api-ce175ba43b2\r\n\r\nAdding these in an automated way using these annotations could help us remove the same, redundant information from the description fields that we had been manually adding.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872578979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872582136","html_url":"https://github.com/apache/accumulo/issues/1117#issuecomment-872582136","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1117","id":872582136,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjU4MjEzNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T22:13:09Z","updated_at":"2021-07-01T22:13:09Z","author_association":"MEMBER","body":"The original ticket did suggest using the enum constructor parameter to store this information, but annotations might be easier. It'd just be annoying to have a new annotation for *every* enum, since that's a lot of new lines to add to the file. It might be best to store \"since\" information in the enum, passed as a constructor parameter, and only use the annotations for `@Deprecated` and `@ReplacedBy`, since those are rarer. Even if this doesn't save space, it can be used to guarantee that everything gets \"since\" information, because parameters can be made mandatory, and it's easy to accidentally omit an annotation. Though, a unit test could be used to ensure everything's annotated with \"since\" information if you go that route.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872582136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872604475","html_url":"https://github.com/apache/accumulo/issues/1753#issuecomment-872604475","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1753","id":872604475,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjYwNDQ3NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T23:12:42Z","updated_at":"2021-07-01T23:12:42Z","author_association":"MEMBER","body":"@Manno15 I didn't see a comment about this, but saw that this WIP PR #1770 was automatically closed when you deleted your branch. Are you going to table this work, or are you going to take a different approach?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872604475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872611269","html_url":"https://github.com/apache/accumulo/issues/1753#issuecomment-872611269","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1753","id":872611269,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MjYxMTI2OQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-01T23:31:09Z","updated_at":"2021-07-01T23:31:09Z","author_association":"CONTRIBUTOR","body":"@ctubbsii Sorry, this was a mistake. I was cleaning out branches and I was mainly going off staleness and closed this one by mistake","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872611269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872952860","html_url":"https://github.com/apache/accumulo/pull/2181#issuecomment-872952860","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2181","id":872952860,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Mjk1Mjg2MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-02T12:14:39Z","updated_at":"2021-07-02T12:14:39Z","author_association":"CONTRIBUTOR","body":"> > java.lang.OutOfMemoryError: Java heap space\r\n> > -XX:OnOutOfMemoryError=\"kill -9 %p\"\r\n> > Executing /bin/sh -c \"kill -9 41830\"...\r\n> > [1]    41830 killed     accumulo wal-info\r\n> \r\n> For the OOM issue, should I adjust heap space for wal-info inside accumulo-env.sh or is that something we should let the user decide on what heap space to give that particular utility? I tested upping the limit to 512m and did not run into the error.\r\n\r\nI think we should try and prevent the OOM error. It could be reading too much with the null range.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/872952860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873027870","html_url":"https://github.com/apache/accumulo/pull/2181#issuecomment-873027870","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2181","id":873027870,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzAyNzg3MA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-02T14:09:15Z","updated_at":"2021-07-02T14:09:15Z","author_association":"CONTRIBUTOR","body":"> I think we should try and prevent the OOM error. It could be reading too much with the null range.\r\n\r\nI will investigate further but if I recall correctly from my testing, the OOM happens pretty early on in the operation so I am not quite sure.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873027870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873046612","html_url":"https://github.com/apache/accumulo/pull/2181#issuecomment-873046612","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2181","id":873046612,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzA0NjYxMg==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-02T14:36:59Z","updated_at":"2021-07-02T14:36:59Z","author_association":"CONTRIBUTOR","body":"@milleruntime I confirmed in my testing that the OOM will still happen even with a set range. It really depends on how much information/LogEvents we want to show but to be safe, I think it would be best to have the default heap size higher.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873046612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873093928","html_url":"https://github.com/apache/accumulo/pull/2181#issuecomment-873093928","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2181","id":873093928,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzA5MzkyOA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-02T15:48:13Z","updated_at":"2021-07-02T15:48:13Z","author_association":"CONTRIBUTOR","body":"For reference, here is the full output when heap size is increased:\r\n\r\n<details>\r\n\r\n```\r\nOPEN 54a8593a-310b-48a9-933c-d97ec372a7eb\r\n\r\nDEFINE_TABLET 1 1 +r<<\r\n\r\nDEFINE_TABLET 1 3 +r<<\r\n\r\nDEFINE_TABLET 1 5 +r<<\r\n\r\nDEFINE_TABLET 3 1 !0;~<\r\n\r\nDEFINE_TABLET 4 1 1<<\r\n\r\nDEFINE_TABLET 5 1 2<<\r\n\r\nCOMPACTION_START 1 2 hdfs://groot:8020/accumulo/tables/+r/root_tablet/F0000002.rf\r\n\r\nCOMPACTION_FINISH 1 3\r\n\r\nCOMPACTION_START 1 4 hdfs://groot:8020/accumulo/tables/+r/root_tablet/F0000006.rf\r\n\r\nCOMPACTION_FINISH 1 5\r\n\r\nCOMPACTION_START 3 2 hdfs://groot:8020/accumulo/tables/!0/table_info/F0000001.rf\r\n\r\nCOMPACTION_FINISH 3 3\r\n\r\nCOMPACTION_START 3 4 hdfs://groot:8020/accumulo/tables/!0/table_info/F0000005.rf\r\n\r\nCOMPACTION_FINISH 3 5\r\n\r\nCOMPACTION_START 5 2 hdfs://groot:8020/accumulo/tables/2/default_tablet/F0000000.rf\r\n\r\nCOMPACTION_FINISH 5 3\r\n\r\nCOMPACTION_START 5 4 hdfs://groot:8020/accumulo/tables/2/default_tablet/F0000003.rf\r\n\r\nCOMPACTION_FINISH 5 5\r\n\r\nCOMPACTION_START 5 6 hdfs://groot:8020/accumulo/tables/2/default_tablet/F0000004.rf\r\n\r\nCOMPACTION_FINISH 5 7\r\n\r\nMANY_MUTATIONS 1 1\r\n2 mutations:\r\n  !0;~\r\n      suspend:loc [system]:1 [] <deleted>\r\n      future:1000051b34d0004 [system]:1 [] groot:9997\r\n  !0<\r\n      suspend:loc [system]:2 [] <deleted>\r\n      future:1000051b34d0004 [system]:2 [] groot:9997\r\n\r\nMUTATION 1 1\r\n2 mutations:\r\n  !0<\r\n      loc:1000051b34d0004 [system]:3 [] groot:9997\r\n      future:1000051b34d0004 [system]:3 [] <deleted>\r\n      suspend:loc [system]:3 [] <deleted>\r\n  !0;~\r\n      loc:1000051b34d0004 [system]:4 [] groot:9997\r\n      future:1000051b34d0004 [system]:4 [] <deleted>\r\n      suspend:loc [system]:4 [] <deleted>\r\n\r\nMUTATION 1 3\r\n1 mutations:\r\n  !0;~\r\n      file:hdfs://groot:8020/accumulo/tables/!0/table_info/F0000001.rf [system]:5 [] 590,14\r\n      srv:time [system]:5 [] L6\r\n      last:1000051b34d0004 [system]:5 [] groot:9997\r\n      srv:flush [system]:5 [] 0\r\n      srv:lock [system]:5 [] tservers/groot:9997/zlock#fe1ada18-f3ef-415f-b60a-592e5e8d5563#0000000000$1000051b34d0004\r\n\r\nMUTATION 1 5\r\n1 mutations:\r\n  !0;~\r\n      file:hdfs://groot:8020/accumulo/tables/!0/table_info/F0000005.rf [system]:6 [] 601,6\r\n      srv:time [system]:6 [] L8\r\n      last:1000051b34d0004 [system]:6 [] groot:9997\r\n      srv:flush [system]:6 [] 0\r\n      srv:lock [system]:6 [] tservers/groot:9997/zlock#fe1ada18-f3ef-415f-b60a-592e5e8d5563#0000000000$1000051b34d0004\r\n\r\nMUTATION 3 1\r\n6 mutations:\r\n  1<\r\n      ~tab:~pr [system]:1 [] \r\n      srv:dir [system]:1 [] default_tablet\r\n      srv:time [system]:1 [] M0\r\n      srv:lock [system]:1 [] managers/lock/zlock#e2c30677-5926-4615-9df1-b0a667569b00#0000000000$1000051b34d0009\r\n  1<\r\n      suspend:loc [system]:2 [] <deleted>\r\n      future:1000051b34d0004 [system]:2 [] groot:9997\r\n  1<\r\n      loc:1000051b34d0004 [system]:3 [] groot:9997\r\n      future:1000051b34d0004 [system]:3 [] <deleted>\r\n      suspend:loc [system]:3 [] <deleted>\r\n  2<\r\n      ~tab:~pr [system]:4 [] \r\n      srv:dir [system]:4 [] default_tablet\r\n      srv:time [system]:4 [] M0\r\n      srv:lock [system]:4 [] managers/lock/zlock#e2c30677-5926-4615-9df1-b0a667569b00#0000000000$1000051b34d0009\r\n  2<\r\n      suspend:loc [system]:5 [] <deleted>\r\n      future:1000051b34d0004 [system]:5 [] groot:9997\r\n...\r\nMUTATION 3 3\r\n2 mutations:\r\n  2<\r\n      file:hdfs://groot:8020/accumulo/tables/2/default_tablet/F0000000.rf [system]:7 [] 10285525,395990\r\n      srv:time [system]:7 [] M1625236693271\r\n      last:1000051b34d0004 [system]:7 [] groot:9997\r\n      srv:flush [system]:7 [] 0\r\n      srv:lock [system]:7 [] tservers/groot:9997/zlock#fe1ada18-f3ef-415f-b60a-592e5e8d5563#0000000000$1000051b34d0004\r\n  2<\r\n      file:hdfs://groot:8020/accumulo/tables/2/default_tablet/F0000003.rf [system]:8 [] 15817470,604010\r\n      srv:time [system]:8 [] M1625236697022\r\n      last:1000051b34d0004 [system]:8 [] groot:9997\r\n      srv:flush [system]:8 [] 0\r\n      srv:lock [system]:8 [] tservers/groot:9997/zlock#fe1ada18-f3ef-415f-b60a-592e5e8d5563#0000000000$1000051b34d0004\r\n\r\nMUTATION 3 5\r\n1 mutations:\r\n  2<\r\n      file:hdfs://groot:8020/accumulo/tables/2/default_tablet/F0000004.rf [system]:9 [] 16423100,453276\r\n      srv:time [system]:9 [] M1625236700134\r\n      last:1000051b34d0004 [system]:9 [] groot:9997\r\n      srv:flush [system]:9 [] 0\r\n      srv:lock [system]:9 [] tservers/groot:9997/zlock#fe1ada18-f3ef-415f-b60a-592e5e8d5563#0000000000$1000051b34d0004\r\n\r\nMANY_MUTATIONS 4 1\r\n2 mutations:\r\n  563864db09fcf1ed\r\n      span:[879f12653b2754eb]:a5c902a56d5643c5 [system]:1625236703647 [] \tlocalhosttserver���ᶲ����ͪ�����&����^�����^start\r\n                                                                                                                              ��������\r\n  idx:tserver:17a67a7fcf9\r\n      start:localhost [system]:1625236703647 [] 563864db09fcf1ed:105\r\n\r\nMANY_MUTATIONS 5 1\r\n395990 mutations:\r\n  00001e46cd9dbb6d\r\n      33f1:6f7b [system]:1625236692263 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:000000000000f30f::60ef982f\r\n  0002ef551d05b9ef\r\n      5e53:4d00 [system]:1625236692263 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000008367::a17a26cd\r\n  0003614899fb7e09\r\n      64b3:2f64 [system]:1625236692263 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000011be2::e068d7a2\r\n  0003ae1440ced624\r\n      2394:1b9d [system]:1625236692263 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:000000000000d306::8ac2c2fb\r\n  0003ae69a3481887\r\n      4810:7226 [system]:1625236692263 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:000000000000b211::85b1994f\r\n...\r\nMANY_MUTATIONS 5 3\r\n208020 mutations:\r\n  32464fcaeb797b43\r\n      7cf2:0959 [system]:1625236695399 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000c15ac::2fdc324f\r\n  0b82924a76aad40f\r\n      68a1:0e80 [system]:1625236695399 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000c15ad::a68e8831\r\n  0f29c7e66a8c6606\r\n      6753:6abc [system]:1625236695399 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000c15ae::5048f32a\r\n  5e434005727b80c6\r\n      1021:4341 [system]:1625236695399 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000c15af::54571bd4\r\n  51762841b00ece87\r\n      240f:457c [system]:1625236695399 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000c15b0::95dc1793\r\n...\r\nMANY_MUTATIONS 5 3\r\n395990 mutations:\r\n  29f338c7360f1d7b\r\n      7fbc:00df [system]:1625236693566 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000060ad6::c4f27f03\r\n  354c04e63944a06e\r\n      21d7:51c6 [system]:1625236693566 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000060ad7::40341a31\r\n  5ca1b0f76f317baa\r\n      4434:182d [system]:1625236693566 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000060ad8::63334983\r\n  7a64b29ae63ed4b7\r\n      18f3:295b [system]:1625236693566 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000060ad9::96038494\r\n  7ff576d10fa3d1bd\r\n      34ba:51ee [system]:1625236693566 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000060ada::027dd2a8\r\n...\r\nMANY_MUTATIONS 5 5\r\n453276 mutations:\r\n  4921f22f02b58d14\r\n      3468:5685 [system]:1625236697323 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000f4240:46545744488120eb:b1bc14a8\r\n  0679069f15cd67fb\r\n      0638:724b [system]:1625236697323 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000f4241:65bff8ad2b27763a:f25897f9\r\n  44529c6226d3950d\r\n      6495:14ae [system]:1625236697323 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000f4242:4e0a5c7eb0b27e7e:089c33ed\r\n  637acdf343c0b9d9\r\n      38e8:6944 [system]:1625236697323 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000f4243:02df37a5a45040f8:fcd2cac2\r\n  2aa310518bcca498\r\n      3456:0b91 [system]:1625236697323 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000000f4244:3158d0931f445890:29deea07\r\n...\r\nMANY_MUTATIONS 5 7\r\n377730 mutations:\r\n  04c44e1aabc3dc4e\r\n      22ce:47de [system]:1625236700973 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000001753f6:252071511bfa33c9:b2d2068a\r\n  435ec0daef4a2566\r\n      3425:6c1a [system]:1625236700973 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000001753f7:2df4ee72bf6a996b:87ea4301\r\n  278087d17016d2f1\r\n      0a4d:3622 [system]:1625236700973 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000001753f8:64c72d82f7d4846b:00931bdb\r\n  58acc86753d592a0\r\n      2e76:020f [system]:1625236700973 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000001753f9:57ac1858c4b0e62a:d81c54e1\r\n  041cd3e3468f6d43\r\n      2de7:51e0 [system]:1625236700973 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:00000000001753fa:6eb09bace7089627:1f3abf52\r\n...\r\nMANY_MUTATIONS 5 7\r\n75546 mutations:\r\n  339356b860d4a8a6\r\n      1689:1937 [system]:1625236700436 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000162cdc:5c50fd0732b857cb:ad4e580e\r\n  4d1d70c2a055aadb\r\n      69f7:2a5e [system]:1625236700436 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000162cdd:479b556f4f7233fc:9df3bd39\r\n  2292ff1fcb744e31\r\n      1508:71d6 [system]:1625236700436 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000162cde:61ec957f4a4df758:cae1fbd5\r\n  1746f7c0307593e1\r\n      1c89:35c9 [system]:1625236700436 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000162cdf:34103199d6b718ca:5cc485df\r\n  31c48b8ac80bd581\r\n      51c3:27ba [system]:1625236700436 [] 4f2d016e-77dd-4422-ab3c-012bf81aff68:0000000000162ce0:43bd5015f4da1296:ffa29c69\r\n...\r\n```\r\n\r\n</details>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873093928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873094021","html_url":"https://github.com/apache/accumulo/pull/1981#issuecomment-873094021","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1981","id":873094021,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzA5NDAyMQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-02T15:48:21Z","updated_at":"2021-07-02T15:48:21Z","author_association":"MEMBER","body":"Superseded by #2188.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873094021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873429251","html_url":"https://github.com/apache/accumulo/issues/1916#issuecomment-873429251","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1916","id":873429251,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzQyOTI1MQ==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-03T16:01:56Z","updated_at":"2021-07-03T16:08:39Z","author_association":"MEMBER","body":"Found [mr 1379](https://github.com/apache/accumulo/pull/1379) and [issue 1260](https://github.com/apache/accumulo/issues/1260) where @keith-turner has some fixes around this area in 1.10.  Working to replicate in 1.9 line, then will try the test in 1.10 to see.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/873429251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/874990652","html_url":"https://github.com/apache/accumulo/issues/2174#issuecomment-874990652","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2174","id":874990652,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDk5MDY1Mg==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-06T18:33:56Z","updated_at":"2021-07-06T18:33:56Z","author_association":"MEMBER","body":"After further investigation and discussion it seems that this change would require more work than it is worth. Instead, the number of files in a scan may be added as a metric.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/874990652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875531840","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-875531840","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":875531840,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTUzMTg0MA==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T11:38:51Z","updated_at":"2021-07-07T11:38:51Z","author_association":"CONTRIBUTOR","body":"> Code changes look good to me, though I did not check if the since dates were accurate or not.\r\n\r\nI did make some decisions on some versions that the properties have. For example, for the `manager` properties, I decided to use the version number of the property before the name change. I thought this would be more useful than simply putting 2.1.0 for all of them. If this was wrong to think let me know and I can go back through them and change the version number.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875531840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875532240","html_url":"https://github.com/apache/accumulo/issues/2187#issuecomment-875532240","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2187","id":875532240,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTUzMjI0MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T11:39:34Z","updated_at":"2021-07-07T11:39:34Z","author_association":"CONTRIBUTOR","body":"I did a bit of refactoring on the `LogSorter` in #2191 so it will at least use the system configuration to write the sorted RFiles. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875532240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875745985","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-875745985","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":875745985,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTc0NTk4NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T16:24:51Z","updated_at":"2021-07-07T16:55:22Z","author_association":"CONTRIBUTOR","body":"One approach to supporting yaml is that we write a Java program to parse the yaml and emit text that is easy to deal with in bash.  This avoids the dependency on `yq` or `shyaml` commands, while possibly introducing a yaml dep in java.  Then could do something like the following in the accumulo-cluster bash script.\r\n\r\n```bash\r\naccumulo org.apache.accumulo.core.cluster.YamlExtract <cluster conf file>\r\n```\r\n\r\nThe java program could extract specific information based on arguments OR convert the yaml to CSV like the following that is easy to process in bash.\r\n\r\n```\r\ntserver,host1\r\ntserver,host2\r\ntserver,host3\r\nmanager,host4\r\nmanager,host7\r\ngc,host5\r\nmonitor,host6\r\ncompactor,host1,Q1\r\ncompactor,host2,Q2\r\ncompactor,host3,Q2\r\ncompactor,host3,Q2\r\n```\r\n\r\nNot sure if its better to make the java program smart w/ lots of options or make it dumb and spit out something like CSV moving more logic to bash.  Making the java program smarter would look like the following, where the list of tservers is extracted from the yaml file.\r\n\r\n```bash\r\n$ accumulo org.apache.accumulo.core.cluster.YamlExtract --server-type tserver <cluster conf file>\r\nhost1\r\nhost2\r\nhost3\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875745985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875754712","html_url":"https://github.com/apache/accumulo/pull/2191#issuecomment-875754712","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2191","id":875754712,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTc1NDcxMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T16:36:37Z","updated_at":"2021-07-07T16:36:37Z","author_association":"MEMBER","body":"The change looks fine. My only concern about this change is that it doesn't fully fix the issue. As far as I can tell, the configuration that is being passed in is always the system config, and never the per-table configuration, in spite of per-table properties being read from it later on.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875754712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875790269","html_url":"https://github.com/apache/accumulo/pull/2191#issuecomment-875790269","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2191","id":875790269,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTc5MDI2OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T17:26:55Z","updated_at":"2021-07-07T17:26:55Z","author_association":"CONTRIBUTOR","body":"> The change looks fine. My only concern about this change is that it doesn't fully fix the issue. As far as I can tell, the configuration that is being passed in is always the system config, and never the per-table configuration, in spite of per-table properties being read from it later on.\r\n\r\nCorrect. It is only an improvement of what is there. This doesn't fix https://github.com/apache/accumulo/issues/2187","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875790269/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875791496","html_url":"https://github.com/apache/accumulo/issues/2187#issuecomment-875791496","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2187","id":875791496,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTc5MTQ5Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T17:28:39Z","updated_at":"2021-07-07T17:28:39Z","author_association":"MEMBER","body":"Our config tends to be a big massive pool of properties. A challenge is to figure out how to \"localize\" subsets of the config to the specific scope of the components that utilize it. The way we've done this is by heavily relying on the hierarchical nature of our properties, and using common prefixes to store configuration properties that are related. However, these prefixes can be stripped off when the properties are \"localized\" to the code that actually reads the properties' values to perform its function.\r\n\r\nWe currently localize some properties by using `AccumuloConfiguration.getAllPropertiesWithPrefixStripped(Property contextSpecificPrefix)` for extracting and localizing scan dispatch configuration and some compaction configuration.\r\n\r\nThe fact that we can \"localize\" sets of properties this way pretty easily, means we can also have the same set of properties stored in different contexts, established with different prefixes. For example, `table.file.*` and `tserver.wal.sort.file.*`.\r\n\r\nSo, all we need to do is figure out the set of properties that RFile read/write code needs locally, and then make sure we can extract them from the big pool using a common prefix for different contexts, as in:\r\n\r\n```java\r\nvar tableFileConf = FileConfig.fromMap(tableConf.getAllPropertiesWithPrefixStripped(\"table.file.\"));\r\nvar walFileConf = FileConfig.fromMap(systemConf.getAllPropertiesWithPrefixStripped(\"tserver.wal.sort.file.\"));\r\n```\r\n\r\nThis requires thinking about config that is \"local\" to RFile operations, and perhaps creating a concrete RFileConfiguration type for use in its public API and other related APIs (like AccumuloFileOutputFormat).\r\n\r\nAlternatively, the simplest thing to do is do nothing, and just read the per-table settings from the system config, as though these RFiles are logically associated with a generic, system-wide, non-existent table, rather than a specific sorted WAL context. We certainly have existing code that behaves this way, but it's less than ideal, and can create confusion for users.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875791496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875797179","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-875797179","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":875797179,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTc5NzE3OQ==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T17:37:28Z","updated_at":"2021-07-07T17:37:28Z","author_association":"CONTRIBUTOR","body":"I had also thought of another addition that may be useful. When it mentions that a property is \"replaced by X\" it may be useful to link to the property that is replacing the old one. I went ahead and made the changes for this and will wait for feedback as to if this would be useful / if I made the changes correctly. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875797179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875813442","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-875813442","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":875813442,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTgxMzQ0Mg==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T18:01:50Z","updated_at":"2021-07-07T18:01:50Z","author_association":"CONTRIBUTOR","body":"![Selection_011](https://user-images.githubusercontent.com/84727868/124807351-ab921f00-df2b-11eb-9cd6-c6e6cedc9ffc.png)\r\n\r\nHere is an example of what some of the changes may look like.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875813442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875858238","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-875858238","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":875858238,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTg1ODIzOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T19:06:56Z","updated_at":"2021-07-07T19:07:45Z","author_association":"MEMBER","body":"@keith-turner that's basically what I was thinking, since we probably have everything we need on the class path already in `lib/`. I wasn't sure which way to go either, but I think I prefer keeping the bash simpler by having arguments. Emitting lists of things as newline- or space-delimited makes it easier to loop over, if necessary, in bash. (But we'd want to avoid making it so smart that it's effectively another yq or shyaml implementation... we're not trying to write a generic utility.)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875858238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875927752","html_url":"https://github.com/apache/accumulo/pull/2188#issuecomment-875927752","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2188","id":875927752,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTkyNzc1Mg==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T20:57:36Z","updated_at":"2021-07-07T20:57:36Z","author_association":"MEMBER","body":"I marked this as ready for review so I could start getting feedback on these changes. At this point I could use some suggestions on next steps or other improvements.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/875927752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876356001","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-876356001","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":876356001,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjM1NjAwMQ==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T11:21:28Z","updated_at":"2021-07-08T11:21:28Z","author_association":"CONTRIBUTOR","body":"> I haven't checked all the values for the \"availableSince\", and I'm curious how you populated those, but trust that they're correct. Perhaps somebody will be able to verify before merging.\r\n\r\nI had gone through each of the tags available on github starting at 1.3.5 and continued until the current state. I looked at `Property.java` each time and compared the file to the previous version tag and would mark down the version number of any new properties. \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876356001/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876367995","html_url":"https://github.com/apache/accumulo/pull/2181#issuecomment-876367995","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2181","id":876367995,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjM2Nzk5NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T11:40:17Z","updated_at":"2021-07-08T11:40:17Z","author_association":"CONTRIBUTOR","body":"> Thinking about this a bit, it's a little weird that we can't read a single sorted WAL file. We can read a directory containing one, but we can't read it by itself? That doesn't seem to be a useful restriction for this utility, which is primarily intended to be a troubleshooting utility. \r\n\r\nThis is a restriction of the underlying code, not the utility. The `RecoveryLogsIterator` validates the directory while getting the sorted files to read. This is done here: https://github.com/apache/accumulo/blob/3e765b1f3b487092206cee036097820c37b7907e/server/tserver/src/main/java/org/apache/accumulo/tserver/log/RecoveryLogsIterator.java#L125-L146\r\n\r\n> If we pass in a single RFile, I feel like this tool should still be able to read it. That could be done here or in a separate PR, unless there's a reason to not support that at all.\r\n\r\nReading a sorted wal RFile that has not completed the sort has limited utility. It will take some refactoring of critical code in the complicated recovery process that may not be worth the trouble. An admin can still use `accumulo rfile-info` on these files to get information about them or read the original WAL to get the whole picture.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876367995/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876379764","html_url":"https://github.com/apache/accumulo/issues/2187#issuecomment-876379764","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2187","id":876379764,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjM3OTc2NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T12:01:47Z","updated_at":"2021-07-08T12:01:47Z","author_association":"CONTRIBUTOR","body":"> This requires thinking about config that is \"local\" to RFile operations, and perhaps creating a concrete RFileConfiguration type for use in its public API and other related APIs (like AccumuloFileOutputFormat).\r\n\r\nThis is an interesting idea that I had not considered. Are you thinking of the new Configuration interface within PluginEnvironment? Or the one in SPI under ServiceEnvironment? It would make sense to me to have one in the public API that goes along with RFile API. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876379764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876434997","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-876434997","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":876434997,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjQzNDk5Nw==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T13:21:43Z","updated_at":"2021-07-08T13:21:43Z","author_association":"CONTRIBUTOR","body":"![Selection_012](https://user-images.githubusercontent.com/84727868/124928333-82c26600-dfcd-11eb-9d9f-c460c23cbb39.png)\r\n\r\nHere is an updated example of the output after the recent commit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876434997/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876443472","html_url":"https://github.com/apache/accumulo/pull/2181#issuecomment-876443472","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2181","id":876443472,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjQ0MzQ3Mg==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T13:33:17Z","updated_at":"2021-07-08T13:33:17Z","author_association":"CONTRIBUTOR","body":"I will work on adding the unit test to this PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876443472/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876577274","html_url":"https://github.com/apache/accumulo/pull/2193#issuecomment-876577274","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2193","id":876577274,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjU3NzI3NA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T16:26:10Z","updated_at":"2021-07-08T16:26:10Z","author_association":"MEMBER","body":"If you are going for maximum efficiency would if be faster to append to `String prefix = \"part-r-\"` instead of creating another variable - `pad`?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876577274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876581786","html_url":"https://github.com/apache/accumulo/pull/2193#issuecomment-876581786","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2193","id":876581786,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjU4MTc4Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T16:32:57Z","updated_at":"2021-07-08T16:32:57Z","author_association":"CONTRIBUTOR","body":"> If you are going for maximum efficiency would if be faster to append to `String prefix = \"part-r-\"` instead of creating another variable - `pad`?\r\n\r\nYeah I think that would be one less string concatenation. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876581786/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876629446","html_url":"https://github.com/apache/accumulo/pull/2193#issuecomment-876629446","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2193","id":876629446,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjYyOTQ0Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T17:49:53Z","updated_at":"2021-07-08T17:49:53Z","author_association":"CONTRIBUTOR","body":"> Was the format statement shown to be an issue? That method is doing I/O. Unless shown otherwise, it seems unlikely that calling format once at the start of the method would have any measurable impact on performance.\r\n\r\nIt is probably not an issue since it is only called once but String.format() isn't great so I try to avoid it if possible. We created our only class in Accumulo just to avoid it. If I was dealing with byte arrays here, I would use it. Check out [FastFormat](https://github.com/apache/accumulo/blob/6e8787e36e5b89dbc9c5af5e2d2b35bab74b7f36/core/src/main/java/org/apache/accumulo/core/util/FastFormat.java) ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876629446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876769003","html_url":"https://github.com/apache/accumulo/pull/2193#issuecomment-876769003","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2193","id":876769003,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Njc2OTAwMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T21:50:31Z","updated_at":"2021-07-08T21:50:31Z","author_association":"MEMBER","body":"> It is probably not an issue since it is only called once but String.format() isn't great so I try to avoid it if possible.\r\n\r\nYeah, the performance isn't great, but the readability, and ease-of-use, and code brevity are also factors to consider. We should avoid it when it matters, but I don't think we should universally avoid it. There are cases where it is preferable to alternatives. I think in this case, it's probably preferable to keep it the way it is.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876769003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876789996","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-876789996","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":876789996,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Njc4OTk5Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T22:41:07Z","updated_at":"2021-07-08T22:41:07Z","author_association":"MEMBER","body":"> I had gone through each of the tags available on github starting at 1.3.5\r\n\r\nWow, thanks for being so thorough! The output looks nice, too. I'm going to take a look at the overall result in the generated output to see if I have any additional feedback, but as far as I can tell, this looks great! I think these will be very useful to users.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876789996/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876792029","html_url":"https://github.com/apache/accumulo/issues/2187#issuecomment-876792029","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2187","id":876792029,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Njc5MjAyOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T22:47:10Z","updated_at":"2021-07-08T22:47:10Z","author_association":"MEMBER","body":"> Are you thinking of the new Configuration interface within PluginEnvironment? Or the one in SPI under ServiceEnvironment?\r\n\r\nNeither. I was thinking about something along the lines of BatchWriterConfig or NewTableConfiguration.\r\n\r\n> It would make sense to me to have one in the public API that goes along with RFile API.\r\n\r\nI agree. I am thinking of the RFile API as being something that could, in theory, be completely separated from Accumulo, as its own module. The kind of API it should have should be along those lines. I doubt we can separate the RFile API from Accumulo at all right now, but that's the basic idea... that you don't need \"Accumulo\" to read and write your own RFiles, and you don't need Accumulo's Configuration to create an RFileConfiguration for use in the RFile API. However, we will need to be able to translate our AccumuloConfiguration into an RFileConfiguration (similar to how we translate ClientProperties into BatchWriterConfig), by extracting the relevant subset of key/value pairs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876792029/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876804010","html_url":"https://github.com/apache/accumulo/pull/2183#issuecomment-876804010","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2183","id":876804010,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjgwNDAxMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T23:18:27Z","updated_at":"2021-07-08T23:18:27Z","author_association":"MEMBER","body":"I'm going to take another pass at this, using `TTable` and `TNamespace` instead.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876804010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876907241","html_url":"https://github.com/apache/accumulo/pull/2195#issuecomment-876907241","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2195","id":876907241,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjkwNzI0MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T04:38:21Z","updated_at":"2021-07-09T04:38:21Z","author_association":"MEMBER","body":"These are some things that I noticed while working on #2183 and stood out as something that should be done first.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/876907241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877299859","html_url":"https://github.com/apache/accumulo/pull/2193#issuecomment-877299859","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2193","id":877299859,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzI5OTg1OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T16:16:15Z","updated_at":"2021-07-09T16:16:15Z","author_association":"CONTRIBUTOR","body":"Sounds like sacrificing readability of the one line of code isn't quite worth it in this case. Closing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877299859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877307961","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-877307961","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":877307961,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzMwNzk2MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T16:29:15Z","updated_at":"2021-07-09T16:29:15Z","author_association":"MEMBER","body":"This issue was not very specific in what kind of sanity checks it wanted. I suppose we could check each one to see if they are valid per-table properties (to be allowed to be stored in ZK for the table), and that each property value conforms to the constraints for the type. But, it might be best to get more info from the original reporter, which I think was @jmark99 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877307961/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877473856","html_url":"https://github.com/apache/accumulo/pull/2197#issuecomment-877473856","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2197","id":877473856,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzQ3Mzg1Ng==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T21:48:46Z","updated_at":"2021-07-09T21:48:46Z","author_association":"CONTRIBUTOR","body":"Depending on which PR is merged first, the properties changed here should match the design set in #2190.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877473856/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877504554","html_url":"https://github.com/apache/accumulo/pull/2197#issuecomment-877504554","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2197","id":877504554,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzUwNDU1NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T23:17:13Z","updated_at":"2021-07-09T23:17:36Z","author_association":"MEMBER","body":"> Depending on which PR is merged first, the properties changed here should match the design set in #2190.\r\n\r\nI'll finish reviewing #2190 so we can get that in first, since that's much more narrowly scoped (and fewer than 70 files to review!)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877504554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877505214","html_url":"https://github.com/apache/accumulo/pull/2195#issuecomment-877505214","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2195","id":877505214,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzUwNTIxNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T23:19:18Z","updated_at":"2021-07-09T23:19:18Z","author_association":"MEMBER","body":"This change broke SummaryIT, because of the IllegalArgumentException getting the summary retriever now throws as a fast-failure when the table doesn't exist. I'm working on a fix.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/877505214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878342245","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-878342245","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":878342245,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODM0MjI0NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T14:48:52Z","updated_at":"2021-07-12T14:49:29Z","author_association":"CONTRIBUTOR","body":"As part of the FATE op to create a table the following executes to set any new table props.\r\n\r\nhttps://github.com/apache/accumulo/blob/80c8ee78342cfaea978882c37ebfcfc4af990fa1/server/manager/src/main/java/org/apache/accumulo/manager/tableOps/create/PopulateZookeeper.java#L61-L63\r\n\r\nThe setTableProp method does a validity check and if that fails it returns false.\r\n\r\nhttps://github.com/apache/accumulo/blob/80c8ee78342cfaea978882c37ebfcfc4af990fa1/server/base/src/main/java/org/apache/accumulo/server/util/TablePropUtil.java#L42-L43\r\n\r\nSo it seems if a user passed in invalid props to a table create op that those may be silently ignored.  Would probably be better if the table was not created and the create table operation client side got an error. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878342245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878538662","html_url":"https://github.com/apache/accumulo/issues/2138#issuecomment-878538662","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2138","id":878538662,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODUzODY2Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T19:32:11Z","updated_at":"2021-07-12T19:32:11Z","author_association":"CONTRIBUTOR","body":"> @keith-turner that's basically what I was thinking, since we probably have everything we need on the class path already in lib/.\r\n\r\nI didn't see your earlier message I see it now.  It seems like doing the heavy lifting in Java is the best way to go, especially if we already had the needed deps on the classpath.\r\n\r\n> I think I prefer keeping the bash simpler by having arguments.\r\n\r\nI think I do too.  I also agree that we want to avoid creating something like yq or shyaml in Java.  The Java code and options should be tailored to the accumulo cluster file format.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878538662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878586928","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-878586928","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":878586928,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODU4NjkyOA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T20:52:28Z","updated_at":"2021-07-12T20:52:28Z","author_association":"MEMBER","body":"I'm almost done double checking the since tags. Should be finished early tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878586928/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878593172","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-878593172","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":878593172,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODU5MzE3Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T21:03:13Z","updated_at":"2021-07-12T21:03:13Z","author_association":"MEMBER","body":"> So it seems if a user passed in invalid props to a table create op that those may be silently ignored. Would probably be better if the table was not created and the create table operation client side got an error.\r\n\r\nI agree, but we probably shouldn't wait for it to fail inside the FaTE operation. It seems the original proposal was to validate them before kicking off the FaTE operation, and return an exception in the FateServiceHandler before it starts. I think that seems reasonable, but then we'd be left with a second validation check inside the FaTE operation. We could handle that redundant validation and cause the FaTE operation to roll back (safest, but redundant), or continue to silently ignore it there (easiest, but redundant), or we could try to bypass the validation checks there, since we've already done the validation (least redundant, but involves creating a validation bypass, which could be abused later).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878593172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878653866","html_url":"https://github.com/apache/accumulo/pull/2181#issuecomment-878653866","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2181","id":878653866,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODY1Mzg2Ng==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T23:04:34Z","updated_at":"2021-07-13T15:26:39Z","author_association":"CONTRIBUTOR","body":"I added a unit test in my latest commit. I ultimately decided to keep it on the simple side since `SortedLogRecoveryTest` is a bit more complex and recovery utilizes RLI so I feel it is adequately tested there. I do however test the features of RLI, such as validateFirstKey. I also test the error cases, such as trying to read a single file and trying to iterate through a directory that doesn't contain the finished marker. \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878653866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878999458","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-878999458","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":878999458,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODk5OTQ1OA==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T11:14:31Z","updated_at":"2021-07-13T11:14:31Z","author_association":"CONTRIBUTOR","body":"> With these additional changes, I'm ready to merge this in, but since I added two new commits, I wanted to double check back with you, to see if you're okay with these changes, or had any other proposed changes, before merging.\r\n\r\nThese changes look good to me! ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/878999458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879076708","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-879076708","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":879076708,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTA3NjcwOA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T13:13:11Z","updated_at":"2021-07-13T13:17:44Z","author_association":"MEMBER","body":"I went through and double checked that the correct since tags were present. Below are my findings. Please double check what I found before making changes.\r\n\r\nMANAGER_RECOVERY_DELAY seen at 1.5.0 2db5ce6186e32c451328154b024951cc5090505f originally 'MASTER_RECOVERY_DELAY'\r\nGENERAL_KERBEROS_RENEWAL_PERIOD marked 1.6.5 seen at 1.7.1 3aa9d307d7405d8d98c02dcc11c94cfe07ea2a14\r\nTSERV_UPDATE_SESSION_MAXIDLE marked 1.6.6 seen at 1.6.5 46ad8368e160c56c03571b467f8ae603c50992f6\r\nTABLE_FILE_SUMMARY_MAX_SIZE marked at 1.4.0 seen at 2.0.0 94cdcc4d3f0a8ccf95894f206cb71e6117f4e51d\r\nMANAGER_RENAME_THREADS marked as 1.8.0 seen at 1.7.0 5cbcffbb4ce08325af6451eb2941ece6c3886598 \r\nMANAGER_BULK_THREADPOOL_TIMEOUT marked 1.4.3 seen at (2.1.0?) 352d2cd050411233148fd476531d93297b98d308 originally 'MASTER_BULK_THREADPOOL_ALLOW_TIMEOUT'\r\nTSERV_UPDATE_SESSION_MAXIDLE marked 1.6.6 seen at 1.6.5 46ad8368e160c56c03571b467f8ae603c50992f6\r\nTSERV_MINTHREADS_TIMEOUT marked 1.4.3 seen at 2.1.0? 352d2cd050411233148fd476531d93297b98d308 originally 'MASTER_MINTHREADS_ALLOW_TIMEOUT'\r\nTABLE_FILE_SUMMARY_MAX_SIZE marked 1.4.0 seen at 2.0.0 94cdcc4d3f0a8ccf95894f206cb71e6117f4e51d\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879076708/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879117710","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-879117710","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":879117710,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTExNzcxMA==","user":{"login":"foster33","id":84727868,"node_id":"MDQ6VXNlcjg0NzI3ODY4","avatar_url":"https://avatars.githubusercontent.com/u/84727868?v=4","gravatar_id":"","url":"https://api.github.com/users/foster33","html_url":"https://github.com/foster33","followers_url":"https://api.github.com/users/foster33/followers","following_url":"https://api.github.com/users/foster33/following{/other_user}","gists_url":"https://api.github.com/users/foster33/gists{/gist_id}","starred_url":"https://api.github.com/users/foster33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/foster33/subscriptions","organizations_url":"https://api.github.com/users/foster33/orgs","repos_url":"https://api.github.com/users/foster33/repos","events_url":"https://api.github.com/users/foster33/events{/privacy}","received_events_url":"https://api.github.com/users/foster33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T14:04:41Z","updated_at":"2021-07-13T14:04:41Z","author_association":"CONTRIBUTOR","body":"> Please double check what I found before making changes.\r\n\r\nI went through and checked your proposed corrections and everything looked good besides:\r\n\r\nGENERAL_KERBEROS_RENEWAL_PERIOD -- found in rel/1.6.5 not 1.7.1\r\nMANAGER_RENAME_THREADS -- we are both incorrect. After looking into it further, it was first seen in 2.1.0\r\n\r\nI will go ahead and make these corrections in my next commit. Thank you for double checking!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879117710/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879119574","html_url":"https://github.com/apache/accumulo/pull/2190#issuecomment-879119574","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2190","id":879119574,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTExOTU3NA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T14:06:56Z","updated_at":"2021-07-13T14:06:56Z","author_association":"MEMBER","body":"> GENERAL_KERBEROS_RENEWAL_PERIOD -- found in rel/1.6.5 not 1.7.1\r\n> MANAGER_RENAME_THREADS -- we are both incorrect. After looking into it further, it was first seen in 2.1.0\r\n\r\nLooks like you are correct here. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879119574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879341594","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-879341594","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":879341594,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTM0MTU5NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T19:25:17Z","updated_at":"2021-07-13T19:25:17Z","author_association":"CONTRIBUTOR","body":"> we probably shouldn't wait for it to fail inside the FaTE operation\r\n\r\nNot sure if its possible, but if we could just throw an exception in the FATE op that would avoid the redundant code outside the FATE op which may result in more maintainable code.  The thing I am uncertain about is if the throwing an exception in the FATE op will properly cleanup the partially created table and result in a client side exception.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879341594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879395731","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-879395731","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":879395731,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTM5NTczMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T20:54:33Z","updated_at":"2021-07-13T20:54:33Z","author_association":"MEMBER","body":"> The thing I am uncertain about is if the throwing an exception in the FATE op will properly cleanup the partially created table and result in a client side exception.\r\n\r\nThat's my concern as well. I think it's better to validate the properties without kicking it off and making any persistent changes at all, even those to kick off the FaTE op.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879395731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879415745","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-879415745","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":879415745,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTQxNTc0NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T21:29:31Z","updated_at":"2021-07-13T21:29:31Z","author_association":"CONTRIBUTOR","body":"> That's my concern as well. I think it's better to validate the properties without kicking it off and making any persistent changes at all, even those to kick off the FaTE op.\r\n\r\nOne nice way to do that would be to call the same method in both places to do the validation.  Thinking this will make the code more maintainable.  This method could throw an error when the validation fails.  Would not expect it to ever throw an exception in the FATE op, but if it does it will cause a failure instead of silently ignoring it.\r\n\r\nIf we only wanted to do the check in the FATE op, would probably need an IT that ensures no persistent data is left behind.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879415745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879441650","html_url":"https://github.com/apache/accumulo/issues/2199#issuecomment-879441650","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2199","id":879441650,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTQ0MTY1MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T22:16:40Z","updated_at":"2021-07-13T22:32:02Z","author_association":"CONTRIBUTOR","body":"The problem described in this issue can be [seen in a test](https://gist.github.com/keith-turner/29b72dfa97acad53c395dd0724b65f1c#results-for-1605-cluster) I ran a while ago.  In this test user compactions were periodically scheduled while ingest was running.  When the user compactions was initiated it immediately reserved all files on all tablet.  However it would take a few hours for the user compaction to complete and a lot of tablets were queued for user compaction during this time with their reserved files unavailable to system compactions.  This caused the average files per tablets to spike upward while the user compactions ran as seen in the metrics plots from the test.  System compactions could still occur on non-reserved files that arrived after the user compaction was initiated for the table.\r\n\r\nI suspect if the change described in this issue were made that the files per tablet would not spike in the test (assuming user compactions and system compactions have different thread pools as they did in the test).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/879441650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880182286","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-880182286","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":880182286,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDE4MjI4Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T20:20:44Z","updated_at":"2021-07-14T20:20:44Z","author_association":"MEMBER","body":"> Would not expect it to ever throw an exception in the FATE op, but if it does it will cause a failure instead of silently ignoring it.\r\n\r\nYeah, I'd hate for this to validate redundantly, but I think that's probably the best way to go, so we don't code in a bypass to validation, and can reuse the existing code. (This is the option I called \"safest, but redundant\" above)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880182286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880205506","html_url":"https://github.com/apache/accumulo/issues/2200#issuecomment-880205506","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2200","id":880205506,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDIwNTUwNg==","user":{"login":"classickartik","id":73540552,"node_id":"MDQ6VXNlcjczNTQwNTUy","avatar_url":"https://avatars.githubusercontent.com/u/73540552?v=4","gravatar_id":"","url":"https://api.github.com/users/classickartik","html_url":"https://github.com/classickartik","followers_url":"https://api.github.com/users/classickartik/followers","following_url":"https://api.github.com/users/classickartik/following{/other_user}","gists_url":"https://api.github.com/users/classickartik/gists{/gist_id}","starred_url":"https://api.github.com/users/classickartik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/classickartik/subscriptions","organizations_url":"https://api.github.com/users/classickartik/orgs","repos_url":"https://api.github.com/users/classickartik/repos","events_url":"https://api.github.com/users/classickartik/events{/privacy}","received_events_url":"https://api.github.com/users/classickartik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-14T20:59:12Z","updated_at":"2021-07-14T20:59:12Z","author_association":"CONTRIBUTOR","body":"I would like to work on this issue\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880205506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880462310","html_url":"https://github.com/apache/accumulo/pull/2201#issuecomment-880462310","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2201","id":880462310,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDQ2MjMxMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T07:25:19Z","updated_at":"2021-07-15T07:25:19Z","author_association":"MEMBER","body":"Thanks for the PR @classickartik . If you wish to be added as a contributor to https://accumulo.apache.org/people/ , please open a pull request to add yourself at https://github.com/apache/accumulo-website/edit/main/pages/people.md and leave a reference to `apache/accumulo#2201` in your commit log.\r\n\r\nIf you intend to be a regular contributor to Accumulo projects, please consider subscribing to our developer mailing list (https://accumulo.apache.org/contact-us/) and introducing yourself. :smiley_cat:","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880462310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880746789","html_url":"https://github.com/apache/accumulo/pull/2189#issuecomment-880746789","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2189","id":880746789,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDc0Njc4OQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T14:35:24Z","updated_at":"2021-07-15T14:36:31Z","author_association":"MEMBER","body":"@keith-turner, I did my best to include your suggestions in 0649fd2","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880746789/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880769278","html_url":"https://github.com/apache/accumulo/pull/2189#issuecomment-880769278","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2189","id":880769278,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDc2OTI3OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T15:03:45Z","updated_at":"2021-07-15T15:03:45Z","author_association":"CONTRIBUTOR","body":"Need to update the javadoc for `forTablet()` and `forTablets()` to reflect the new behavior of only returning extents that match exactly.\r\n\r\nhttps://github.com/apache/accumulo/blob/5a44af4cfed519e9fbd4fa036c6582b56bffd26f/core/src/main/java/org/apache/accumulo/core/metadata/schema/TabletsMetadata.java#L383-L387","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880769278/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880932369","html_url":"https://github.com/apache/accumulo/pull/2189#issuecomment-880932369","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2189","id":880932369,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDkzMjM2OQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-15T18:49:00Z","updated_at":"2021-07-15T18:49:00Z","author_association":"MEMBER","body":"Looks like the changes in 83506eb may be making the tests hang for some reason looking into it now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/880932369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881489766","html_url":"https://github.com/apache/accumulo/pull/2189#issuecomment-881489766","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2189","id":881489766,"node_id":"IC_kwDOACaFSM40indm","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T14:25:07Z","updated_at":"2021-07-16T14:25:07Z","author_association":"CONTRIBUTOR","body":"I confirmed on my end that these tests pass with the recent changes. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881489766/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881551643","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-881551643","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":881551643,"node_id":"IC_kwDOACaFSM40i2kb","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T15:58:23Z","updated_at":"2021-07-16T15:58:23Z","author_association":"MEMBER","body":"> We could handle that redundant validation and cause the FaTE operation to roll back\r\n\r\nWhat do you mean by \"roll back\" here, @ctubbsii? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881551643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881563124","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-881563124","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":881563124,"node_id":"IC_kwDOACaFSM40i5X0","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T16:15:15Z","updated_at":"2021-07-16T16:15:15Z","author_association":"CONTRIBUTOR","body":"FATE operations can be composed of multiple \"steps\" . If an error occurs, the FATE transaction stack tries to roll back and unwind any steps that may have completed so the state is consistent with the state when the FATE transaction started.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881563124/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881715846","html_url":"https://github.com/apache/accumulo/issues/2206#issuecomment-881715846","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2206","id":881715846,"node_id":"IC_kwDOACaFSM40jeqG","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T21:01:19Z","updated_at":"2021-07-16T21:01:19Z","author_association":"MEMBER","body":"This, and the two referenced JIRA issues seem very similar to #2182 in their intended outcome. I don't think we have a strong need to change FaTE's architecture to support preemption more generically than that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881715846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881718492","html_url":"https://github.com/apache/accumulo/issues/2206#issuecomment-881718492","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2206","id":881718492,"node_id":"IC_kwDOACaFSM40jfTc","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T21:07:07Z","updated_at":"2021-07-16T21:07:07Z","author_association":"CONTRIBUTOR","body":"I did not see that issue so that is my mistake. I agree that the goals are similar so this issue can probably be closed along with those Jira tickers.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881718492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881719056","html_url":"https://github.com/apache/accumulo/issues/2206#issuecomment-881719056","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2206","id":881719056,"node_id":"IC_kwDOACaFSM40jfcQ","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T21:08:22Z","updated_at":"2021-07-16T21:08:22Z","author_association":"CONTRIBUTOR","body":"There is also Jira ticket [2535](https://issues.apache.org/jira/browse/ACCUMULO-2535) that falls under this umbrella as well. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881719056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881722506","html_url":"https://github.com/apache/accumulo/issues/2206#issuecomment-881722506","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2206","id":881722506,"node_id":"IC_kwDOACaFSM40jgSK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T21:15:54Z","updated_at":"2021-07-16T21:15:54Z","author_association":"MEMBER","body":"> There is also Jira ticket [2535](https://issues.apache.org/jira/browse/ACCUMULO-2535) that falls under this umbrella as well.\r\n\r\nPossibly. It seemed that the underlying cause had not been identified on that one. It may not have been compaction-related. Regardless, it should be closed as well, because it's either the same issue as here, or it's something we don't have enough information to reproduce.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/881722506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882642571","html_url":"https://github.com/apache/accumulo/pull/2189#issuecomment-882642571","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2189","id":882642571,"node_id":"IC_kwDOACaFSM40nA6L","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T15:28:34Z","updated_at":"2021-07-19T15:28:34Z","author_association":"MEMBER","body":"> remove the redundant code in AmpleImpl.\r\n\r\n> TabletServer.checkMetadata() which does not handle null\r\n\r\nAddressed in 0b82f08 @keith-turner ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882642571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882756191","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-882756191","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":882756191,"node_id":"IC_kwDOACaFSM40ncpf","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T18:14:01Z","updated_at":"2021-07-19T18:14:01Z","author_association":"MEMBER","body":"Does it seem like something similar to:\r\n```java\r\nfor (Map.Entry<String,String> entry : options.entrySet()) {\r\n     if (!Property.isTablePropertyValid(entry.getKey(), entry.getValue())) {\r\n          throw new ThriftTableOperationException(null, tableName, tableOp,\r\n               TableOperationExceptionType.OTHER,\r\n               \"Property or value not valid \" + entry.getKey() + \"=\" + entry.getValue());\r\n     }\r\n}\r\n```\r\nMight work if placed in FateServiceHandler.java and PopulateZookeeper.java?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882756191/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882764925","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-882764925","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":882764925,"node_id":"IC_kwDOACaFSM40nex9","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T18:27:48Z","updated_at":"2021-07-19T18:27:48Z","author_association":"CONTRIBUTOR","body":"> Might work if placed in FateServiceHandler.java and PopulateZookeeper.java?\r\n\r\nFor the code you posted, it could be placed in a static method and called from those two places.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882764925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882772978","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-882772978","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":882772978,"node_id":"IC_kwDOACaFSM40ngvy","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T18:41:43Z","updated_at":"2021-07-19T18:57:11Z","author_association":"MEMBER","body":"> For the code you posted, it could be placed in a static method and called from those two places.\r\n\r\nhttps://github.com/apache/accumulo/blob/80c8ee78342cfaea978882c37ebfcfc4af990fa1/server/manager/src/main/java/org/apache/accumulo/manager/tableOps/create/PopulateZookeeper.java#L61-L63\r\n\r\nIn PopulateZookeeper.java we could potentially make use of `TablePropUtil.setTableProperty` which performs the same check. Would look like this:\r\n\r\n```java\r\n      for (Entry<String,String> entry : tableInfo.props.entrySet()) {\r\n        if (!TablePropUtil.setTableProperty(manager.getContext(), tableInfo.getTableId(),\r\n            entry.getKey(), entry.getValue())) {\r\n          throw new ThriftTableOperationException(null, tableInfo.getTableName(),\r\n              TableOperation.CREATE, TableOperationExceptionType.OTHER,\r\n              \"Property or value not valid \" + entry.getKey() + \"=\" + entry.getValue());\r\n        }\r\n      }\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882772978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882817966","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-882817966","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":882817966,"node_id":"IC_kwDOACaFSM40nruu","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T19:57:25Z","updated_at":"2021-07-19T19:57:25Z","author_association":"MEMBER","body":"So each would be slightly different. Not sure which approach would be best, either two different code blocks (using whats returned from `TablePropUtil.setTableProperty` in PopulateZookeeper.java and `Property.isTablePropertyValid` in FateServiceHandler.java) or making a static method to use in both places. If we make a static method it seems the check would end up happening twice in FateServiceHandler anyways since `TablePropUtil.setTableProperty` will be called regardless (even though its return value is currently ignored).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882817966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882818126","html_url":"https://github.com/apache/accumulo/issues/2196#issuecomment-882818126","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2196","id":882818126,"node_id":"IC_kwDOACaFSM40nrxO","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T19:57:40Z","updated_at":"2021-07-19T19:57:40Z","author_association":"MEMBER","body":"I would like to be assigned to this ticket please.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882818126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882845325","html_url":"https://github.com/apache/accumulo/issues/2203#issuecomment-882845325","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2203","id":882845325,"node_id":"IC_kwDOACaFSM40nyaN","user":{"login":"harjitdotsingh","id":75006,"node_id":"MDQ6VXNlcjc1MDA2","avatar_url":"https://avatars.githubusercontent.com/u/75006?v=4","gravatar_id":"","url":"https://api.github.com/users/harjitdotsingh","html_url":"https://github.com/harjitdotsingh","followers_url":"https://api.github.com/users/harjitdotsingh/followers","following_url":"https://api.github.com/users/harjitdotsingh/following{/other_user}","gists_url":"https://api.github.com/users/harjitdotsingh/gists{/gist_id}","starred_url":"https://api.github.com/users/harjitdotsingh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harjitdotsingh/subscriptions","organizations_url":"https://api.github.com/users/harjitdotsingh/orgs","repos_url":"https://api.github.com/users/harjitdotsingh/repos","events_url":"https://api.github.com/users/harjitdotsingh/events{/privacy}","received_events_url":"https://api.github.com/users/harjitdotsingh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-19T20:41:28Z","updated_at":"2021-07-19T20:41:28Z","author_association":"CONTRIBUTOR","body":"@ctubbsii  - I can take this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/882845325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/883354704","html_url":"https://github.com/apache/accumulo/issues/2208#issuecomment-883354704","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2208","id":883354704,"node_id":"IC_kwDOACaFSM40puxQ","user":{"login":"SivaTharun","id":23101407,"node_id":"MDQ6VXNlcjIzMTAxNDA3","avatar_url":"https://avatars.githubusercontent.com/u/23101407?v=4","gravatar_id":"","url":"https://api.github.com/users/SivaTharun","html_url":"https://github.com/SivaTharun","followers_url":"https://api.github.com/users/SivaTharun/followers","following_url":"https://api.github.com/users/SivaTharun/following{/other_user}","gists_url":"https://api.github.com/users/SivaTharun/gists{/gist_id}","starred_url":"https://api.github.com/users/SivaTharun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SivaTharun/subscriptions","organizations_url":"https://api.github.com/users/SivaTharun/orgs","repos_url":"https://api.github.com/users/SivaTharun/repos","events_url":"https://api.github.com/users/SivaTharun/events{/privacy}","received_events_url":"https://api.github.com/users/SivaTharun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T12:31:11Z","updated_at":"2021-07-20T12:31:11Z","author_association":"NONE","body":"@keith-turner can i work on this issue?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/883354704/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/883595649","html_url":"https://github.com/apache/accumulo/pull/2188#issuecomment-883595649","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2188","id":883595649,"node_id":"IC_kwDOACaFSM40qpmB","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T18:14:07Z","updated_at":"2021-07-20T18:17:58Z","author_association":"CONTRIBUTOR","body":"A follow-on task may be to implement a bridge between micrometer and the hadoop metrics system so that, if a hadoop exporter was present, it would read metrics from micrometer and then publish to hadoop configured sinks.\r\n\r\nThe basic concept would be to find / extend a micrometer registry (see https://micrometer.io/docs/guide/customMeterRegistry) that would instantiate a hadoop metrics system (see System design - https://blog.cloudera.com/what-is-hadoop-metrics2/ ) The custom micrometer registry would function as the \"metrics sources\" and the hadoop metrics system would configure the sinks by reading the hadoop.metrics.xxx.properties file.  So when the hadoop metrics system \"read\" metrics from the sources, the values would be obtained via the micrometer metrics registry.  The goal would be that the Accumulo would only have micrometer Meters (gauges / counters,...) and if a hadoop metrics exporter was configured, it would read from the micrometer registry to get those values.  \r\n\r\nI'm not sure that the hadoop metrics would be compatible with a StepMeterRegistry - it might require the more general MeterRegistry.  Using a StepMeterRegistry might be enough to figure out some of the concepts - and then find an existing registry (etsy statsd, datadog,...) that matches the hadoop metrics system dimensionality (hierarchical / dimensional), rate aggregation (client / server) and publication (pull / push)  My impression is that hadoop would be hierarchical, client and pull) but that's making some guesses and needs to be confirmed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/883595649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/884363138","html_url":"https://github.com/apache/accumulo/issues/2209#issuecomment-884363138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2209","id":884363138,"node_id":"IC_kwDOACaFSM40tk-C","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T17:29:35Z","updated_at":"2021-07-21T17:29:35Z","author_association":"MEMBER","body":"Finding this IT hard to work with but have tracked down the failure to \r\nhttps://github.com/apache/accumulo/blob/8a636a3ba91f5dae1d8b09b095178889a7d79c1d/test/src/main/java/org/apache/accumulo/test/functional/SplitRecoveryIT.java#L192-L193\r\nOther than that, no indication yet on what might be causing this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/884363138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/884465617","html_url":"https://github.com/apache/accumulo/issues/2209#issuecomment-884465617","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2209","id":884465617,"node_id":"IC_kwDOACaFSM40t9_R","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T20:08:39Z","updated_at":"2021-07-21T20:08:39Z","author_association":"MEMBER","body":"More specifically it looks like the error is coming from https://github.com/apache/accumulo/blob/cd58dbb0198601ffda5e1162a757648861c8ea14/core/src/main/java/org/apache/accumulo/core/metadata/schema/TabletMetadata.java#L203-L206\r\nWhich checks that `fetchedCols.contains(ColumnType.LOADED)`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/884465617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/884889331","html_url":"https://github.com/apache/accumulo/pull/2197#issuecomment-884889331","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2197","id":884889331,"node_id":"IC_kwDOACaFSM40vlbz","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T12:55:21Z","updated_at":"2021-07-22T12:55:21Z","author_association":"CONTRIBUTOR","body":"> > Depending on which PR is merged first, the properties changed here should match the design set in #2190.\r\n> \r\n> I'll finish reviewing #2190 so we can get that in first, since that's much more narrowly scoped (and fewer than 70 files to review!)\r\n\r\nSounds good. I don't think the complexity of this change is that bad though. And don't let the number intimidate you, more than half of those are Tests.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/884889331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/885037013","html_url":"https://github.com/apache/accumulo/issues/2209#issuecomment-885037013","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2209","id":885037013,"node_id":"IC_kwDOACaFSM40wJfV","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T16:11:52Z","updated_at":"2021-07-22T16:11:52Z","author_association":"CONTRIBUTOR","body":"From my testing, I got this IT to pass by reverting the changes made here https://github.com/DomGarguilo/accumulo/blob/0b82f085073a3d5d3de5ebb22244887b345ea860/core/src/main/java/org/apache/accumulo/core/metadata/schema/TabletsMetadata.java#L193-L199. Which is just removing the Iterators.filter portion. I am not sure why that piece of the code caused things to error though. ConvertRow is what alters LoadedFiles which ties into @DomGarguilo findings mentioned above. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/885037013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/885136787","html_url":"https://github.com/apache/accumulo/issues/2210#issuecomment-885136787","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2210","id":885136787,"node_id":"IC_kwDOACaFSM40wh2T","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T18:24:38Z","updated_at":"2021-07-22T18:24:38Z","author_association":"MEMBER","body":"Since we now have use of JShell, I think it would be reasonable to just deprecate and eventually drop the scan interpreter stuff (especially since it's not even spelled correctly). It's a bit weird to have shell-specific config stored in the per-table config on the server-side anyway. JShell is a much more powerful and flexible tool, and a lot less work to support, than these quirky shell behaviors.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/885136787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/885683174","html_url":"https://github.com/apache/accumulo/pull/2211#issuecomment-885683174","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2211","id":885683174,"node_id":"IC_kwDOACaFSM40ynPm","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T14:34:25Z","updated_at":"2021-07-23T14:34:25Z","author_association":"CONTRIBUTOR","body":"@EdColeman is this an OK time to merge this PR? I know it touches some code you are working on.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/885683174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/885718535","html_url":"https://github.com/apache/accumulo/pull/2160#issuecomment-885718535","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2160","id":885718535,"node_id":"IC_kwDOACaFSM40yv4H","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T15:27:18Z","updated_at":"2021-07-23T15:27:18Z","author_association":"CONTRIBUTOR","body":"There is definitely more room for improvement with this code but I am going to merge this change since it should at least throw an exception when the cacheId is null.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/885718535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/886886405","html_url":"https://github.com/apache/accumulo/issues/631#issuecomment-886886405","issue_url":"https://api.github.com/repos/apache/accumulo/issues/631","id":886886405,"node_id":"IC_kwDOACaFSM403NAF","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T17:21:19Z","updated_at":"2021-07-26T17:21:19Z","author_association":"MEMBER","body":"I'm wondering if something similar to the changes in #1635 might work here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/886886405/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/886981904","html_url":"https://github.com/apache/accumulo/issues/1587#issuecomment-886981904","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1587","id":886981904,"node_id":"IC_kwDOACaFSM403kUQ","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T19:53:19Z","updated_at":"2021-07-26T19:53:19Z","author_association":"MEMBER","body":"I am unable to reproduce this. Has this been looked into recently? @karthick-rn ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/886981904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/886984900","html_url":"https://github.com/apache/accumulo/pull/2214#issuecomment-886984900","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2214","id":886984900,"node_id":"IC_kwDOACaFSM403lDE","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T19:58:26Z","updated_at":"2021-07-26T19:58:26Z","author_association":"CONTRIBUTOR","body":"Thanks for taking a look @milleruntime. Looking more closely is a good idea since we definitely want the GC to work as expected. I've run the unit and IT tests as well as the sunny profile. Additionally, I ran the GC test in the accumulo-testing repo, although I'd like to run it for a longer period of time. I may wait and see if @keith-turner would like to take a look before merging since he had created the initial ticket.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/886984900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887006394","html_url":"https://github.com/apache/accumulo/issues/1587#issuecomment-887006394","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1587","id":887006394,"node_id":"IC_kwDOACaFSM403qS6","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T20:31:29Z","updated_at":"2021-07-26T20:31:29Z","author_association":"MEMBER","body":"It looks like I fixed this as part of 55ed4c19b0b514bfb7397f09a3a37f0bbbc7bbde / #1800 / #1817 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887006394/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887568756","html_url":"https://github.com/apache/accumulo/pull/2214#issuecomment-887568756","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2214","id":887568756,"node_id":"IC_kwDOACaFSM405zl0","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T14:38:09Z","updated_at":"2021-07-27T14:38:09Z","author_association":"CONTRIBUTOR","body":"@jmark99 I just took an initial look at this.  I plan to take a more in-depth look later this afternoon. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887568756/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887599616","html_url":"https://github.com/apache/accumulo/pull/2214#issuecomment-887599616","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2214","id":887599616,"node_id":"IC_kwDOACaFSM4057IA","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T15:15:36Z","updated_at":"2021-07-27T15:15:36Z","author_association":"CONTRIBUTOR","body":"@mjwall might have additional insight if this overlaps with the issue that he has been tracking down. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887599616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887795956","html_url":"https://github.com/apache/accumulo/pull/2214#issuecomment-887795956","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2214","id":887795956,"node_id":"IC_kwDOACaFSM406rD0","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T20:01:34Z","updated_at":"2021-07-27T20:02:05Z","author_association":"CONTRIBUTOR","body":"@milleruntime , @keith-turner I did some re-factoring based upon @keith-turner suggestion concerning the getCandidates method. It now returns an iterator. With that change, the flow now more closely resembles the original flow of the code but without the continue point. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887795956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887926761","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-887926761","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":887926761,"node_id":"IC_kwDOACaFSM407K_p","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-28T00:46:14Z","updated_at":"2021-07-28T00:46:14Z","author_association":"CONTRIBUTOR","body":"These are general questions - rather than comment on the code that triggered the question for me, it seems better to just raise them in general.\r\n\r\nWould it be possible to replace passing the secret and instead use the authentication of the user that launched the shell?  Depending on granted user permissions, it may be desirable to permit certain FATE command options like print and dump to a wider group than fail or delete.  FATE fail or delete should require \"root\" access, but other operators would have valid use of print or dump to examine system state. This would enable more restrictive access policies for operations that change system state versus operations that examine the system state on a users granted permissions rather than needing the secret.  One down side of this approach could what is needed to perform the authentication - FATE fail requires the global lock which implies that a manager processes is not going to be available.\r\n\r\nIf the client authorization cannot be used, wondering if it would be better to use char[] or a byte array instead of a string? Even better would be if the hashed digest value derived from the secret was used in the methods. If this is mirroring other places in the code, then maybe as a follow on issue as a general improvement in password best practices.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/887926761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888257867","html_url":"https://github.com/apache/accumulo/pull/2214#issuecomment-888257867","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2214","id":888257867,"node_id":"IC_kwDOACaFSM408b1L","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-28T12:10:34Z","updated_at":"2021-07-28T12:10:34Z","author_association":"MEMBER","body":"I can look at this tonight if it is still open","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888257867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888322764","html_url":"https://github.com/apache/accumulo/pull/2197#issuecomment-888322764","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2197","id":888322764,"node_id":"IC_kwDOACaFSM408rrM","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-28T13:46:49Z","updated_at":"2021-07-28T13:46:49Z","author_association":"CONTRIBUTOR","body":"I tested this branch on Uno locally using continuous ingest and was able to ingest 160 million entries in 20 minutes. The data verified correctly in about 15 minutes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888322764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888389483","html_url":"https://github.com/apache/accumulo/pull/2215#issuecomment-888389483","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2215","id":888389483,"node_id":"IC_kwDOACaFSM40879r","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-28T15:09:14Z","updated_at":"2021-07-28T15:09:14Z","author_association":"CONTRIBUTOR","body":"@EdColeman. I was following what was already in Fate Command at the time. It allowed the user to pass in a secret instead of using what was in the SiteConfiguration. That is not the default case and only occurs if a user specifies that parameter. I am not quite sure on the initial goal of that though so maybe it is possible to use user authorization but I have not taken a look into it. As for object type, I could replace it with a byte array but the object is only used to create a new `ZooReaderWriter` which takes in a string so I am not sure the gain there. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888389483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888427622","html_url":"https://github.com/apache/accumulo/pull/2214#issuecomment-888427622","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2214","id":888427622,"node_id":"IC_kwDOACaFSM409FRm","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-28T15:59:08Z","updated_at":"2021-07-28T16:19:53Z","author_association":"CONTRIBUTOR","body":"@mjwall I will wait until tomorrow to merge if you wish to take a look tonight.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888427622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888497972","html_url":"https://github.com/apache/accumulo/issues/2187#issuecomment-888497972","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2187","id":888497972,"node_id":"IC_kwDOACaFSM409Wc0","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-28T17:44:33Z","updated_at":"2021-07-28T17:48:07Z","author_association":"CONTRIBUTOR","body":"What do you think about just one new prefix property as a catch all?\r\n<pre>\r\nTSERV_SORT_FILE_PREFIX(\"tserver.sort.file.\", null, PropertyType.PREFIX,\r\n      \"The rfile properties to use when sorting logs during recovery. Most of the properties\"\r\n         + \" that begin with 'table.file' can be used here. For example, to set the compression\"\r\n          + \" of the sorted recovery files to snappy use 'tserver.sort.file.compress.type=snappy'\",\r\n      \"2.1.0\"),\r\n</pre>\r\n\r\nAn RFileConfiguration object would be nice but we aren't using the RFile API for writing during the sorted recovery. I think we just need a prefix property and translate them to table properties in the constructor of LogSorter. This would allow using the table property validation and if a user specifies a valid property that is not used, it will just be ignored.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888497972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888522824","html_url":"https://github.com/apache/accumulo/issues/2187#issuecomment-888522824","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2187","id":888522824,"node_id":"IC_kwDOACaFSM409chI","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-28T18:21:45Z","updated_at":"2021-07-28T18:21:45Z","author_association":"MEMBER","body":"> What do you think about just one new prefix property as a catch all?\r\n> \r\n> TSERV_SORT_FILE_PREFIX(\"tserver.sort.file.\", null, PropertyType.PREFIX,\r\n>       \"The rfile properties to use when sorting logs during recovery. Most of the properties\"\r\n>          + \" that begin with 'table.file' can be used here. For example, to set the compression\"\r\n>           + \" of the sorted recovery files to snappy use 'tserver.sort.file.compress.type=snappy'\",\r\n>       \"2.1.0\"),\r\n\r\nI think that's basically what I suggested with `tserver.wal.sort.file.` above. I'm not sure about `tserver.sort.file.` without the `wal` part, because Accumulo's sole function is to maintain sorted data and all RFiles are sorted files, so without the `wal` part to clarify it's related to write-ahead logs, users could easily misunderstand the property name.\r\n\r\n> An RFileConfiguration object would be nice but we aren't using the RFile API for writing during the sorted recovery. I think we just need a prefix property and translate them to table properties in the constructor of LogSorter. This would allow using the table property validation and if a user specifies a valid property that is not used, it will just be ignored.\r\n\r\nYeah, that's fine. I was thinking of the configuration object as basically a \"translate them\" implementation detail. Basically, depending on context, we'd translate table properties into this config object, or we'd translate the sorted WAL properties into this config object. I was just thinking about internally distancing ourselves from where the properties came from once we're inside the RFile code, to decouple the RFile code from Accumulo's configuration mechanisms. But, if it's easier to do the implementation by translating into \"table properties\", that's fine for now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/888522824/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889058217","html_url":"https://github.com/apache/accumulo/pull/2214#issuecomment-889058217","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2214","id":889058217,"node_id":"IC_kwDOACaFSM40_fOp","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-29T12:01:27Z","updated_at":"2021-07-29T12:01:27Z","author_association":"MEMBER","body":"This looks good to me @jmark99 .  It is unrelated to what I am tracking in #1916.  First I have looked at Ample, cool abstraction.  Hope it is enough &lt;pun intended&gt;","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/889058217/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]