[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176509969","html_url":"https://github.com/apache/iceberg/pull/4902#issuecomment-1176509969","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4902","id":1176509969,"node_id":"IC_kwDOCW7NX85GIB4R","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T17:49:23Z","updated_at":"2022-07-06T17:49:23Z","author_association":"MEMBER","body":"@rdblue : Thanks for the review and the parser code support. Let's wait for @RussellSpitzer 's review. \r\nHoping to see this feature in 0.14.0 release. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176509969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176578207","html_url":"https://github.com/apache/iceberg/issues/2391#issuecomment-1176578207","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2391","id":1176578207,"node_id":"IC_kwDOCW7NX85GISif","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T19:10:50Z","updated_at":"2022-07-06T19:10:50Z","author_association":"CONTRIBUTOR","body":"This has been completed thanks to @\\huaxingao and others.\r\n\r\nSee some related PRs:\r\n- https://github.com/apache/iceberg/pull/4938\r\n- https://github.com/apache/iceberg/pull/5035\r\n- https://github.com/apache/iceberg/pull/5172\r\n\r\nIf there's anything else you'd like to follow up on, please create a new issue (as this one is somewhat old). There are a few open issues for example Flink support etc.\r\n\r\nI'm going to close this, but feel free to open a new issue or reopen this one if you feel it's necessary (I suggest opening a new one as this issue is pretty old).\r\n\r\nThanks @shangxinli!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176578207/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176623567","html_url":"https://github.com/apache/iceberg/pull/5214#issuecomment-1176623567","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5214","id":1176623567,"node_id":"IC_kwDOCW7NX85GIdnP","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T19:44:16Z","updated_at":"2022-07-06T19:44:16Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, FYI","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176623567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176764929","html_url":"https://github.com/apache/iceberg/pull/4715#issuecomment-1176764929","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4715","id":1176764929,"node_id":"IC_kwDOCW7NX85GJAIB","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T21:26:06Z","updated_at":"2022-07-06T21:26:06Z","author_association":"CONTRIBUTOR","body":"Thanks, @edgarRd! Could you also port this to Spark 3.3?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176764929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176765754","html_url":"https://github.com/apache/iceberg/pull/4283#issuecomment-1176765754","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4283","id":1176765754,"node_id":"IC_kwDOCW7NX85GJAU6","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T21:27:17Z","updated_at":"2022-07-06T21:27:17Z","author_association":"CONTRIBUTOR","body":"Thanks, @tprelle!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176765754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176806791","html_url":"https://github.com/apache/iceberg/pull/5204#issuecomment-1176806791","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5204","id":1176806791,"node_id":"IC_kwDOCW7NX85GJKWH","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T22:19:11Z","updated_at":"2022-07-06T22:19:11Z","author_association":"COLLABORATOR","body":"Thanks @huaxingao for change, and @singhpk234 for additional review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176806791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176806897","html_url":"https://github.com/apache/iceberg/pull/4715#issuecomment-1176806897","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4715","id":1176806897,"node_id":"IC_kwDOCW7NX85GJKXx","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T22:19:18Z","updated_at":"2022-07-06T22:19:18Z","author_association":"CONTRIBUTOR","body":"Thank you, @rdblue - I'll send a PR for porting to Spark 3.3 in a bit.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176806897/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176807637","html_url":"https://github.com/apache/iceberg/issues/5132#issuecomment-1176807637","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5132","id":1176807637,"node_id":"IC_kwDOCW7NX85GJKjV","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T22:20:20Z","updated_at":"2022-07-06T22:20:20Z","author_association":"COLLABORATOR","body":"Closed by #5204 , we can work on the optimizations later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176807637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176820884","html_url":"https://github.com/apache/iceberg/pull/5204#issuecomment-1176820884","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5204","id":1176820884,"node_id":"IC_kwDOCW7NX85GJNyU","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T22:35:26Z","updated_at":"2022-07-06T22:35:26Z","author_association":"CONTRIBUTOR","body":"Thank you very much! @szehon-ho  Also thank you @singhpk234 for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176820884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176853748","html_url":"https://github.com/apache/iceberg/pull/4518#issuecomment-1176853748","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4518","id":1176853748,"node_id":"IC_kwDOCW7NX85GJVz0","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T23:28:47Z","updated_at":"2022-07-06T23:28:47Z","author_association":"CONTRIBUTOR","body":"Hey @rizaon, some recent changes actually exposed FileIO properties, which I believe would simplify how we can cache manifest files.\r\n\r\nWhere we [read manifest files](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/ManifestFiles.java#L85), we now have the file legnth and properties from the FileIO.  It seems like we could just add a simple cache to the ManifestFiles and allow caching configuration via `FileIO::properties()`.\r\n\r\nI feel like that would really simplify this and avoid depending on things like regex+pathing to isolate which files to cache. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176853748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176854697","html_url":"https://github.com/apache/iceberg/pull/4736#issuecomment-1176854697","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4736","id":1176854697,"node_id":"IC_kwDOCW7NX85GJWCp","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T23:30:39Z","updated_at":"2022-07-07T03:09:37Z","author_association":"COLLABORATOR","body":"Hi @aokolnychyi @rdblue , update on this discussion (see main changes in #3457).  I  implemented and was playing around with these optimizations in calculating the delete candidate files:  (skipping current snapshot_ids, and skipping current manifests).  But I find actually that only this optimization : \r\n```all_manifest table.reference_snapshot_id in  set(expired snapshots ids)``` makes a positive difference.  The result is the same as what I saw initially, reduce time of Spark job 30-40% in the case of expiring 1 snapshot out of many snapshots.  \r\n\r\nI found in my scenario (expiring 1 snapshot), the skipping of valid manifests actually makes the performance worse.\r\nAs each manifest in all-manifest table is now marked with snapshot id, I think the first filter already filters out any current reachable manifests.  So all this does is add one more Spark read of all_manifest table and a Spark join, decreasing the performance in this scenario.\r\n\r\nEDIT:  Was thinking that there is a scenario that skipping the current manifest will help is:  The snapshots to expire point to a lot of data files that wont be deleted, because the manifests they point to are still live in the retained set of snapshots.  But still, I feel the cost of adding the extra spark join may not be worth it in all cases.  In the skip valid snapshot case, we can do a free in-memory filter pushdown without taking a Spark job, whereas it has to be an addition Spark join the way the current code works for reading all the manifests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176854697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176855384","html_url":"https://github.com/apache/iceberg/pull/3457#issuecomment-1176855384","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3457","id":1176855384,"node_id":"IC_kwDOCW7NX85GJWNY","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T23:31:59Z","updated_at":"2022-07-06T23:31:59Z","author_association":"COLLABORATOR","body":"Update: I implemented a draft for removing current manifests from delete candidate calcuation, but found it doesn't help much and actually makes the performance worse:  see https://github.com/apache/iceberg/pull/4736#issuecomment-1176854697. , so I'll put a hold on that.  That being said, it could be scenario dependent and I'm not seeing the scenario it helps with.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176855384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176955606","html_url":"https://github.com/apache/iceberg/issues/5218#issuecomment-1176955606","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5218","id":1176955606,"node_id":"IC_kwDOCW7NX85GJurW","user":{"login":"a49a","id":12015546,"node_id":"MDQ6VXNlcjEyMDE1NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/12015546?v=4","gravatar_id":"","url":"https://api.github.com/users/a49a","html_url":"https://github.com/a49a","followers_url":"https://api.github.com/users/a49a/followers","following_url":"https://api.github.com/users/a49a/following{/other_user}","gists_url":"https://api.github.com/users/a49a/gists{/gist_id}","starred_url":"https://api.github.com/users/a49a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a49a/subscriptions","organizations_url":"https://api.github.com/users/a49a/orgs","repos_url":"https://api.github.com/users/a49a/repos","events_url":"https://api.github.com/users/a49a/events{/privacy}","received_events_url":"https://api.github.com/users/a49a/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T01:58:05Z","updated_at":"2022-07-07T01:58:05Z","author_association":"CONTRIBUTOR","body":"I will take this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176955606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176958399","html_url":"https://github.com/apache/iceberg/issues/5058#issuecomment-1176958399","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5058","id":1176958399,"node_id":"IC_kwDOCW7NX85GJvW_","user":{"login":"cbwn123","id":94812844,"node_id":"U_kgDOBaa6rA","avatar_url":"https://avatars.githubusercontent.com/u/94812844?v=4","gravatar_id":"","url":"https://api.github.com/users/cbwn123","html_url":"https://github.com/cbwn123","followers_url":"https://api.github.com/users/cbwn123/followers","following_url":"https://api.github.com/users/cbwn123/following{/other_user}","gists_url":"https://api.github.com/users/cbwn123/gists{/gist_id}","starred_url":"https://api.github.com/users/cbwn123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbwn123/subscriptions","organizations_url":"https://api.github.com/users/cbwn123/orgs","repos_url":"https://api.github.com/users/cbwn123/repos","events_url":"https://api.github.com/users/cbwn123/events{/privacy}","received_events_url":"https://api.github.com/users/cbwn123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T02:03:37Z","updated_at":"2022-07-07T02:03:37Z","author_association":"NONE","body":"I have same problem by using SparkActions.get(ss).rewriteDataFiles function.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176958399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176980409","html_url":"https://github.com/apache/iceberg/issues/5217#issuecomment-1176980409","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5217","id":1176980409,"node_id":"IC_kwDOCW7NX85GJ0u5","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T02:41:33Z","updated_at":"2022-07-07T02:41:33Z","author_association":"CONTRIBUTOR","body":"Hi @melin. To keep up with the ongoing efforts around Iceberg, it’s useful to check out the [notes](https://docs.google.com/document/d/1YuGhUdukLP5gGiqCbk0A5_Wifqe2CZWgOd3TbhY3UQg/edit?usp=drive_web) from the community sync. @rdblue is the release manager for 0.14 and pending a few blockers listed in the community notes, we are expecting a release candidate very soon.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176980409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176999603","html_url":"https://github.com/apache/iceberg/issues/4212#issuecomment-1176999603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4212","id":1176999603,"node_id":"IC_kwDOCW7NX85GJ5az","user":{"login":"itaise","id":64745584,"node_id":"MDQ6VXNlcjY0NzQ1NTg0","avatar_url":"https://avatars.githubusercontent.com/u/64745584?v=4","gravatar_id":"","url":"https://api.github.com/users/itaise","html_url":"https://github.com/itaise","followers_url":"https://api.github.com/users/itaise/followers","following_url":"https://api.github.com/users/itaise/following{/other_user}","gists_url":"https://api.github.com/users/itaise/gists{/gist_id}","starred_url":"https://api.github.com/users/itaise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itaise/subscriptions","organizations_url":"https://api.github.com/users/itaise/orgs","repos_url":"https://api.github.com/users/itaise/repos","events_url":"https://api.github.com/users/itaise/events{/privacy}","received_events_url":"https://api.github.com/users/itaise/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T03:08:55Z","updated_at":"2022-07-07T03:08:55Z","author_association":"NONE","body":"Thanks you @rdblue, I tried with \"iceberg\" instead of parquet, and got the same results. \r\nWe would like to write the field comments to \"timestamp without tz\" field, any other suggestion?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1176999603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177003302","html_url":"https://github.com/apache/iceberg/issues/5058#issuecomment-1177003302","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5058","id":1177003302,"node_id":"IC_kwDOCW7NX85GJ6Um","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T03:15:20Z","updated_at":"2022-07-07T03:17:23Z","author_association":"COLLABORATOR","body":"I think the way to do this is to write a Spark job that finds 'dangling' delete files (that is, delete files that don't point to any live data file).  I think once this pr is in:  https://github.com/apache/iceberg/pull/4812, we can implement the new Spark action 'removeDanglingDeleteFile'.  (This Spark action was mentioned in the original delete file design doc https://docs.google.com/document/d/1-EyKSfwd_W9iI5jrzAvomVw3w1mb_kayVNT7f2I-SUg/edit#heading=h.fxypqdd7zxcj but no implementation details, I am thinking this could be one way to do it)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177003302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177003865","html_url":"https://github.com/apache/iceberg/pull/4578#issuecomment-1177003865","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4578","id":1177003865,"node_id":"IC_kwDOCW7NX85GJ6dZ","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T03:16:18Z","updated_at":"2022-07-10T05:59:20Z","author_association":"CONTRIBUTOR","body":"@namrathamyske \r\n\r\n> With this PR, the breaking change is to set cleanExpiredFiles to false if the table has more than one ref.\r\n\r\nNo, the operation will fail if cleanExpiredFiles is set and there are multiple retained refs. It shouldn't break any existing cases prior to the addition of branching/tagging and should be backwards compatible but please report in case you ran into any issues! \r\n\r\nSee this [comment](https://github.com/apache/iceberg/pull/4578#discussion_r863337777) . To do a correct removal of files with multiple references, a reachability analysis needs to be done which requires quite a bit more implementation which is why for this PR we opted for just failing if cleanExpiredFiles is set and there are multiple branches.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177003865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177015829","html_url":"https://github.com/apache/iceberg/pull/5191#issuecomment-1177015829","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5191","id":1177015829,"node_id":"IC_kwDOCW7NX85GJ9YV","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T03:37:22Z","updated_at":"2022-07-07T03:37:22Z","author_association":"CONTRIBUTOR","body":"Unfortunately, I don't have permission to run the CI workflows for first-time contributors","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177015829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177100084","html_url":"https://github.com/apache/iceberg/pull/4518#issuecomment-1177100084","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4518","id":1177100084,"node_id":"IC_kwDOCW7NX85GKR80","user":{"login":"rizaon","id":6033430,"node_id":"MDQ6VXNlcjYwMzM0MzA=","avatar_url":"https://avatars.githubusercontent.com/u/6033430?v=4","gravatar_id":"","url":"https://api.github.com/users/rizaon","html_url":"https://github.com/rizaon","followers_url":"https://api.github.com/users/rizaon/followers","following_url":"https://api.github.com/users/rizaon/following{/other_user}","gists_url":"https://api.github.com/users/rizaon/gists{/gist_id}","starred_url":"https://api.github.com/users/rizaon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rizaon/subscriptions","organizations_url":"https://api.github.com/users/rizaon/orgs","repos_url":"https://api.github.com/users/rizaon/repos","events_url":"https://api.github.com/users/rizaon/events{/privacy}","received_events_url":"https://api.github.com/users/rizaon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T05:37:48Z","updated_at":"2022-07-07T05:37:48Z","author_association":"CONTRIBUTOR","body":"Hi @danielcweeks , thank you for the update. I will check PR #5207 and study how we can utilize it.\r\n\r\nSo with that PR, am I correct that we should implement the caching in ManifestFiles.java instead of creating a new CachingFileIO.java as this PR did?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177100084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177123362","html_url":"https://github.com/apache/iceberg/issues/3127#issuecomment-1177123362","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3127","id":1177123362,"node_id":"IC_kwDOCW7NX85GKXoi","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T06:02:51Z","updated_at":"2022-07-07T06:02:51Z","author_association":"CONTRIBUTOR","body":"Which execution engine are you using?\r\nAre you still using Iceberg 0.12?\r\n\r\nThere is a little section on the Hive documentation page describing the supported engines.\r\n\r\nWe have unit tests for different engines, but not for HiceCli, or Kerberos. We test in-house with Kerberos, Tez, Hive4 and it is working fine. It would be good to have a clear understanding of the versions/engines/environment where you face this issue. \r\n\r\nThanks, Peter ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177123362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177126001","html_url":"https://github.com/apache/iceberg/pull/5187#issuecomment-1177126001","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5187","id":1177126001,"node_id":"IC_kwDOCW7NX85GKYRx","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T06:05:43Z","updated_at":"2022-07-07T06:05:43Z","author_association":"CONTRIBUTOR","body":"I am confused. This PR does not seem to include all changes from #4922. Are both needed then?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177126001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177188144","html_url":"https://github.com/apache/iceberg/pull/5191#issuecomment-1177188144","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5191","id":1177188144,"node_id":"IC_kwDOCW7NX85GKncw","user":{"login":"zoucao","id":32817398,"node_id":"MDQ6VXNlcjMyODE3Mzk4","avatar_url":"https://avatars.githubusercontent.com/u/32817398?v=4","gravatar_id":"","url":"https://api.github.com/users/zoucao","html_url":"https://github.com/zoucao","followers_url":"https://api.github.com/users/zoucao/followers","following_url":"https://api.github.com/users/zoucao/following{/other_user}","gists_url":"https://api.github.com/users/zoucao/gists{/gist_id}","starred_url":"https://api.github.com/users/zoucao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zoucao/subscriptions","organizations_url":"https://api.github.com/users/zoucao/orgs","repos_url":"https://api.github.com/users/zoucao/repos","events_url":"https://api.github.com/users/zoucao/events{/privacy}","received_events_url":"https://api.github.com/users/zoucao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T07:23:43Z","updated_at":"2022-07-07T07:23:43Z","author_association":"CONTRIBUTOR","body":"Let's wait for a maintainer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177188144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177506225","html_url":"https://github.com/apache/iceberg/issues/4510#issuecomment-1177506225","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4510","id":1177506225,"node_id":"IC_kwDOCW7NX85GL1Gx","user":{"login":"itaise","id":64745584,"node_id":"MDQ6VXNlcjY0NzQ1NTg0","avatar_url":"https://avatars.githubusercontent.com/u/64745584?v=4","gravatar_id":"","url":"https://api.github.com/users/itaise","html_url":"https://github.com/itaise","followers_url":"https://api.github.com/users/itaise/followers","following_url":"https://api.github.com/users/itaise/following{/other_user}","gists_url":"https://api.github.com/users/itaise/gists{/gist_id}","starred_url":"https://api.github.com/users/itaise/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itaise/subscriptions","organizations_url":"https://api.github.com/users/itaise/orgs","repos_url":"https://api.github.com/users/itaise/repos","events_url":"https://api.github.com/users/itaise/events{/privacy}","received_events_url":"https://api.github.com/users/itaise/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T12:08:04Z","updated_at":"2022-07-07T12:11:20Z","author_association":"NONE","body":"Thank you @rdblue - I tried your suggestion but unfortunately getting another error, I added the following just after the table overwrite and it didn't help:\r\n\r\n`spark.sql(f\"\"\"ALTER TABLE iprod.test_schema.example SET TBLPROPERTIES ('format-version' = '2')\"\"\")`\r\n\r\nas mentioned in the Tabular article: https://tabular.io/blog/iceberg-format-version/\r\n\r\nand getting this error: \r\n\r\n`Caused by: java.lang.NullPointerException: Cannot find source column: 1\r\n\tat org.apache.iceberg.relocated.com.google.common.base.Preconditions.checkNotNull(Preconditions.java:953)\r\n\tat org.apache.iceberg.PartitionSpec$Builder.add(PartitionSpec.java:490)\r\n\tat org.apache.iceberg.PartitionSpecParser.buildFromJsonFields(PartitionSpecParser.java:155)\r\n\tat org.apache.iceberg.PartitionSpecParser.fromJson(PartitionSpecParser.java:78)\r\n\tat org.apache.iceberg.PartitionSpecParser.lambda$fromJson$0(PartitionSpecParser.java:91)\r\n\tat org.apache.iceberg.shaded.com.github.benmanes.caffeine.cache.BoundedLocalCache.lambda$doComputeIfAbsent$14(BoundedLocalCache.java:2344)\r\n\tat java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1853)\r\n\tat org.apache.iceberg.shaded.com.github.benmanes.caffeine.cache.BoundedLocalCache.doComputeIfAbsent(BoundedLocalCache.java:2342)\r\n\tat org.apache.iceberg.shaded.com.github.benmanes.caffeine.cache.BoundedLocalCache.computeIfAbsent(BoundedLocalCache.java:2325)\r\n\tat org.apache.iceberg.shaded.com.github.benmanes.caffeine.cache.LocalCache.computeIfAbsent(LocalCache.java:108)\r\n\tat org.apache.iceberg.shaded.com.github.benmanes.caffeine.cache.LocalManualCache.get(LocalManualCache.java:62)\r\n\tat org.apache.iceberg.PartitionSpecParser.fromJson(PartitionSpecParser.java:88)\r\n\tat org.apache.iceberg.SerializableTable.lambda$specs$2(SerializableTable.java:186)\r\n\tat java.util.HashMap.forEach(HashMap.java:1290)\r\n\tat org.apache.iceberg.SerializableTable.specs(SerializableTable.java:185)\r\n\tat org.apache.iceberg.SerializableTable.spec(SerializableTable.java:175)\r\n\tat org.apache.iceberg.io.OutputFileFactory$Builder.<init>(OutputFileFactory.java:152)\r\n\tat org.apache.iceberg.io.OutputFileFactory$Builder.<init>(OutputFileFactory.java:140)\r\n\tat org.apache.iceberg.io.OutputFileFactory.builderFor(OutputFileFactory.java:108)\r\n\tat org.apache.iceberg.spark.source.SparkWrite$WriterFactory.createWriter(SparkWrite.java:542)\r\n\tat org.apache.iceberg.spark.source.SparkWrite$WriterFactory.createWriter(SparkWrite.java:535)\r\n\tat org.apache.spark.sql.execution.datasources.v2.DataWritingSparkTask$.run(WriteToDataSourceV2Exec.scala:408)\r\n\tat org.apache.spark.sql.execution.datasources.v2.V2TableWriteExec.$anonfun$writeWithV2$2(WriteToDataSourceV2Exec.scala:360)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177506225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177587582","html_url":"https://github.com/apache/iceberg/issues/5111#issuecomment-1177587582","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5111","id":1177587582,"node_id":"IC_kwDOCW7NX85GMI9-","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T13:08:53Z","updated_at":"2022-07-07T13:08:53Z","author_association":"CONTRIBUTOR","body":"fixed by https://github.com/apache/iceberg-docs/pull/95","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177587582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177655527","html_url":"https://github.com/apache/iceberg/pull/5212#issuecomment-1177655527","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5212","id":1177655527,"node_id":"IC_kwDOCW7NX85GMZjn","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T13:55:40Z","updated_at":"2022-07-07T13:55:40Z","author_association":"MEMBER","body":"Thanks for the PR @nastra  and @Fokko and @kbendick for review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177655527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177680976","html_url":"https://github.com/apache/iceberg/pull/4824#issuecomment-1177680976","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4824","id":1177680976,"node_id":"IC_kwDOCW7NX85GMfxQ","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T14:12:42Z","updated_at":"2022-07-07T14:12:42Z","author_association":"CONTRIBUTOR","body":"Why can't we support development with Windows? This is unfriendly to developers using Windows. 😢 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177680976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177773675","html_url":"https://github.com/apache/iceberg/pull/4518#issuecomment-1177773675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4518","id":1177773675,"node_id":"IC_kwDOCW7NX85GM2Zr","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T15:15:02Z","updated_at":"2022-07-07T15:15:02Z","author_association":"CONTRIBUTOR","body":"@rizaon because we want to isolate the caching to metadata files only, I think MetadataFiles.java would be a good place to start.  We might want some utilities so if we find we want to cache FileIO elsewhere, we can reuse the same approach, but this seems like a full FileIO implementation isn't necessary (and introduces other problems).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177773675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177783433","html_url":"https://github.com/apache/iceberg/pull/4949#issuecomment-1177783433","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4949","id":1177783433,"node_id":"IC_kwDOCW7NX85GM4yJ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T15:22:00Z","updated_at":"2022-07-07T15:22:00Z","author_association":"CONTRIBUTOR","body":"I think the next steps here are to bring this up on the dev list and make sure there is consensus around adding it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177783433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177845066","html_url":"https://github.com/apache/iceberg/pull/5187#issuecomment-1177845066","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5187","id":1177845066,"node_id":"IC_kwDOCW7NX85GNH1K","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T15:58:40Z","updated_at":"2022-07-07T15:58:40Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, I updated #4922 to fix the outstanding problems to get it into the release, but it looks like it was updated yesterday. A review would still be helpful to make sure we're happy with the change, on either PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177845066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177858748","html_url":"https://github.com/apache/iceberg/pull/5205#issuecomment-1177858748","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5205","id":1177858748,"node_id":"IC_kwDOCW7NX85GNLK8","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T16:06:05Z","updated_at":"2022-07-07T16:06:05Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer I'm not sure if you guys use these functions internally.\r\n\r\nThey've always given somewhat difficult to reason about error prone warnings, and I discovered they aren't used at all (outside of in their associated tests). So I deprecated them but wanted to give you a heads up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1177858748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178051840","html_url":"https://github.com/apache/iceberg/issues/5224#issuecomment-1178051840","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5224","id":1178051840,"node_id":"IC_kwDOCW7NX85GN6UA","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T18:34:49Z","updated_at":"2022-07-07T18:34:49Z","author_association":"CONTRIBUTOR","body":"We are using another approach for dynamic filtering in 3.2 that does not involve `DynamicFileFilter`.\r\nSee `RowLevelCommandDynamicPruning` for more details.\r\nCan you share `EXPLAIN EXTENDED` output? Is dynamic partition pruning enabled in Spark? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178051840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178157252","html_url":"https://github.com/apache/iceberg/pull/5208#issuecomment-1178157252","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5208","id":1178157252,"node_id":"IC_kwDOCW7NX85GOUDE","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T19:59:22Z","updated_at":"2022-07-07T19:59:22Z","author_association":"MEMBER","body":"3.3 is fine\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178157252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178179414","html_url":"https://github.com/apache/iceberg/pull/5186#issuecomment-1178179414","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5186","id":1178179414,"node_id":"IC_kwDOCW7NX85GOZdW","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T20:20:18Z","updated_at":"2022-07-07T20:20:18Z","author_association":"CONTRIBUTOR","body":"@kbendick, can you either open a separate PR or update this one to only include the gradle task that drops a file into `core/build/iceberg-build.properties`? I'd like to get that reviewed quickly, without lots of unrelated things.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178179414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178212702","html_url":"https://github.com/apache/iceberg/pull/5186#issuecomment-1178212702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5186","id":1178212702,"node_id":"IC_kwDOCW7NX85GOhle","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T20:50:54Z","updated_at":"2022-07-07T20:52:17Z","author_association":"CONTRIBUTOR","body":"> @kbendick, can you either open a separate PR or update this one to only include the gradle task that drops a file into `core/build/iceberg-build.properties`? I'd like to get that reviewed quickly, without lots of unrelated things.\r\n\r\nI saved everything that was in this branch elsewhere, but I can open a new PR if we’d like.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178212702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178354750","html_url":"https://github.com/apache/iceberg/pull/5204#issuecomment-1178354750","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5204","id":1178354750,"node_id":"IC_kwDOCW7NX85GPEQ-","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T23:12:18Z","updated_at":"2022-07-07T23:12:18Z","author_association":"COLLABORATOR","body":"@huaxingao do you want to make a change for other spark branches (ie, 3.2)?  Otherwise I or someone can look at it too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178354750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178358827","html_url":"https://github.com/apache/iceberg/pull/5187#issuecomment-1178358827","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5187","id":1178358827,"node_id":"IC_kwDOCW7NX85GPFQr","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T23:18:01Z","updated_at":"2022-07-07T23:18:01Z","author_association":"CONTRIBUTOR","body":"Thanks, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178358827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178359206","html_url":"https://github.com/apache/iceberg/pull/4922#issuecomment-1178359206","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4922","id":1178359206,"node_id":"IC_kwDOCW7NX85GPFWm","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T23:18:32Z","updated_at":"2022-07-07T23:18:32Z","author_association":"CONTRIBUTOR","body":"Reopening this. I accidentally closed it through a different PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178359206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178361431","html_url":"https://github.com/apache/iceberg/pull/4941#issuecomment-1178361431","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4941","id":1178361431,"node_id":"IC_kwDOCW7NX85GPF5X","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T23:20:49Z","updated_at":"2022-07-07T23:20:49Z","author_association":"CONTRIBUTOR","body":"@rajarshisarkar, I updated this to fix the test failures and opened a PR so we could get it into the 0.14.0 release. That just got merged, but I see you've updated this in the meantime. Since this is already in, could you add the test that @RussellSpitzer asked for in this PR? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178361431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178365408","html_url":"https://github.com/apache/iceberg/pull/5210#issuecomment-1178365408","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5210","id":1178365408,"node_id":"IC_kwDOCW7NX85GPG3g","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T23:26:06Z","updated_at":"2022-07-07T23:26:06Z","author_association":"COLLABORATOR","body":"It makes sense to upgrade to me, but do you think we can leave out the ArgumentMatchers => Mockito refactor?  It doesn't seem that valuable unless its enforced going forward, one way or the other.  As any() is defined on ArgumentMatchers, I was actually thinking it makes sense to call it from where it is defined.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178365408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178369480","html_url":"https://github.com/apache/iceberg/pull/5204#issuecomment-1178369480","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5204","id":1178369480,"node_id":"IC_kwDOCW7NX85GPH3I","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T23:32:57Z","updated_at":"2022-07-07T23:32:57Z","author_association":"CONTRIBUTOR","body":"@szehon-ho I will do this later today or tomorrow. Do we need this in all the spark branches (3.2, 3.1, 3.0, 2.4)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178369480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178380586","html_url":"https://github.com/apache/iceberg/pull/5204#issuecomment-1178380586","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5204","id":1178380586,"node_id":"IC_kwDOCW7NX85GPKkq","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-07T23:52:43Z","updated_at":"2022-07-07T23:52:43Z","author_association":"CONTRIBUTOR","body":"BTW, I saw the CI failed (https://github.com/apache/iceberg/runs/7223837382?check_suite_focus=true) because of this test\r\n\r\n```\r\norg.apache.iceberg.parquet.TestBloomRowGroupFilter > testBytesEq FAILED\r\n    java.lang.AssertionError: Should not read: cannot match a new generated binary\r\n        at org.junit.Assert.fail(Assert.java:89)\r\n        at org.junit.Assert.assertTrue(Assert.java:42)\r\n        at org.junit.Assert.assertFalse(Assert.java:65)\r\n        at org.apache.iceberg.parquet.TestBloomRowGroupFilter.testBytesEq(TestBloomRowGroupFilter.java:587)\r\n```\r\n\r\nThe failure is not related to the changes in this PR. I think the failure is because bloom filter can be false positive. I will fix the bloom filter test. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178380586/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178417191","html_url":"https://github.com/apache/iceberg/issues/5219#issuecomment-1178417191","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5219","id":1178417191,"node_id":"IC_kwDOCW7NX85GPTgn","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T00:55:27Z","updated_at":"2022-07-08T00:55:27Z","author_association":"MEMBER","body":"I actually wrote something for cleaning up Partition Specs because of a slightly related issue.\r\n\r\nhttps://github.com/apache/iceberg/pull/3462\r\n\r\nBut we could always extend this to schema's as well. Basically just a \"cleanMetadata\" function.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178417191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178418612","html_url":"https://github.com/apache/iceberg/issues/5224#issuecomment-1178418612","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5224","id":1178418612,"node_id":"IC_kwDOCW7NX85GPT20","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T00:58:24Z","updated_at":"2022-07-08T18:07:00Z","author_association":"CONTRIBUTOR","body":"Thank you @aokolnychyi for jumping in quickly, here's detailed explain output I found for spark 3.2 \r\n\r\nso for this particular delete query we are looking at \r\n```sql\r\nDELETE FROM somedb.tableA tgt\r\nWHERE tgt.partition_col >= '20220320' AND tgt.partition_col <= '20220321'\r\nAND upper(tgt.col13) IN (SELECT * FROM tableB)\r\n```\r\n\r\n- the table `somedb.tableA` is alias to `tgt` and partitioned by column `partition_col`\r\n- the secondary table `tableB ` in sub query is not partitioned and it only have single column \r\n\r\nI do observe some `dynamicpruning` filter is used but I dont see the one specifically mentioned by you.\r\n\r\nI also double checked `spark.sql.optimizer.dynamicPartitionPruning.enabled` is not explicit set in our application, default enabled in OSS and our spark distribution, so I assume it's turned on. I also tried to reproduce with explicit set this spark conf to be enabled, but still generate TB level of shuffle write, so might need second pair of eye here\r\n\r\nI redacted some of irrelevant columns here below, hope it helps!\r\n\r\n---\r\n\r\n## == Parsed Logical Plan ==\r\n```\r\n'DeleteFromTable ((('tgt.partition_col >= 20220320) AND ('tgt.partition_col <= 20220321)) AND 'upper('tgt.col13) IN (list#267 []))\r\n:  +- 'Project [*]\r\n:     +- 'UnresolvedRelation [tableB], [], false\r\n+- 'SubqueryAlias tgt\r\n   +- 'UnresolvedRelation [somedb, tableA], [], false\r\n```\r\n\r\n## == Analyzed Logical Plan ==\r\n```\r\nDeleteFromTable (((partition_col#670 >= cast(20220320 as int)) AND (partition_col#670 <= cast(20220321 as int))) AND upper(col13#682) IN (list#267 []))\r\n:  +- Project [col12#258]\r\n:     +- SubqueryAlias tableB\r\n:        +- View (`tableB`, [col12#258])\r\n:           +- Deduplicate [col12#258]\r\n:              +- Project [col12#258]\r\n:                 +- Filter ((date#741 >= 20220605) AND (date#741 <= 20220705))\r\n:                    +- Project [upper(col12)#252 AS col12#258, date#741]\r\n:                       +- Project [upper(col12#739) AS upper(col12)#252, date#741]\r\n:                          +- RelationV2[id#738, col12#739, ] spark_catalog.anotherdb.tableC\r\n:- RelationV2[partition_col#670, col13#682, ] spark_catalog.somedb.tableA\r\n+- ReplaceData RelationV2[partition_col#670, col13#682, ] spark_catalog.somedb.tableA\r\n   +- Filter NOT ((((partition_col#670 >= cast(20220320 as int)) AND (partition_col#670 <= cast(20220321 as int))) AND upper(col13#682) IN (list#267 [])) <=> true)\r\n      :  +- Project [col12#258]\r\n      :     +- SubqueryAlias tableB\r\n      :        +- View (`tableB`, [col12#258])\r\n      :           +- Deduplicate [col12#258]\r\n      :              +- Project [col12#258]\r\n      :                 +- Filter ((date#239 >= 20220605) AND (date#239 <= 20220705))\r\n      :                    +- Project [upper(col12)#252 AS col12#258, date#239]\r\n      :                       +- Project [upper(col12#237) AS upper(col12)#252, date#239]\r\n      :                          +- RelationV2[id#236, col12#237, ] spark_catalog.anotherdb.tableC\r\n      +- RelationV2[partition_col#670, col13#682, _file#736, _pos#737L] spark_catalog.somedb.tableA\r\n```\r\n\r\n## == Optimized Logical Plan ==\r\n```\r\nReplaceData RelationV2[partition_col#670, col13#682, ] spark_catalog.somedb.tableA, IcebergWrite(table=spark_catalog.somedb.tableA, format=PARQUET)\r\n+- Project [partition_col#670, col13#682, ]\r\n   +- Sort [partition_col#670 ASC NULLS FIRST, _file#736 ASC NULLS FIRST, _pos#737L ASC NULLS FIRST], false\r\n      +- RepartitionByExpression [_file#736], 960\r\n         +- Project [partition_col#670, col13#682, _file#736, _pos#737L]\r\n            +- Filter NOT ((((partition_col#670 >= 20220320) AND (partition_col#670 <= 20220321)) AND exists#967) <=> true)\r\n               +- Join ExistenceJoin(exists#967), (upper(col13#682) = col12#258)\r\n                  :- Filter dynamicpruning#1034 [_file#736]\r\n                  :  :  +- Project [_file#1032]\r\n                  :  :     +- Join LeftSemi, (upper(col13#980) = col12#258)\r\n                  :  :        :- Project [col13#980, _file#1032]\r\n                  :  :        :  +- Filter ((isnotnull(partition_col#968) AND (partition_col#968 >= 20220320)) AND (partition_col#968 <= 20220321))\r\n                  :  :        :     +- RelationV2[partition_col#968,  col13#980, ] spark_catalog.somedb.tableA\r\n                  :  :        +- InMemoryRelation [col12#258], StorageLevel(disk, memory, deserialized, 1 replicas)\r\n                  :  :              +- *(2) HashAggregate(keys=[col12#258], functions=[], output=[col12#258])\r\n                  :  :                 +- Exchange hashpartitioning(col12#258, 960), ENSURE_REQUIREMENTS, [id=#89]\r\n                  :  :                    +- *(1) HashAggregate(keys=[col12#258], functions=[], output=[col12#258])\r\n                  :  :                       +- *(1) Project [upper(col12#237) AS col12#258]\r\n                  :  :                          +- *(1) Filter ((isnotnull(date#239) AND (date#239 >= 20220605)) AND (date#239 <= 20220705))\r\n                  :  :                             +- BatchScan[col12#237, date#239] spark_catalog.anotherdb.tableC [filters=date IS NOT NULL, date >= '20220605', date <= '20220705'] RuntimeFilters: []\r\n                  :  +- RelationV2[partition_col#670, col13#682, _file#736, _pos#737L] spark_catalog.somedb.tableA\r\n                  +- InMemoryRelation [col12#258], StorageLevel(disk, memory, deserialized, 1 replicas)\r\n                        +- *(2) HashAggregate(keys=[col12#258], functions=[], output=[col12#258])\r\n                           +- Exchange hashpartitioning(col12#258, 960), ENSURE_REQUIREMENTS, [id=#89]\r\n                              +- *(1) HashAggregate(keys=[col12#258], functions=[], output=[col12#258])\r\n                                 +- *(1) Project [upper(col12#237) AS col12#258]\r\n                                    +- *(1) Filter ((isnotnull(date#239) AND (date#239 >= 20220605)) AND (date#239 <= 20220705))\r\n                                       +- BatchScan[col12#237, date#239] spark_catalog.anotherdb.tableC [filters=date IS NOT NULL, date >= '20220605', date <= '20220705'] RuntimeFilters: []\r\n```\r\n\r\n## == Physical Plan ==\r\n```\r\nReplaceData IcebergWrite(table=spark_catalog.somedb.tableA, format=PARQUET)\r\n+- *(2) Project [partition_col#670, col13#682, ]\r\n   +- *(2) Sort [partition_col#670 ASC NULLS FIRST, _file#736 ASC NULLS FIRST, _pos#737L ASC NULLS FIRST], false, 0\r\n      +- Exchange hashpartitioning(_file#736, 960), REPARTITION_BY_NUM, [id=#469]\r\n         +- *(1) Project [partition_col#670, col13#682, _file#736, _pos#737L]\r\n            +- *(1) Filter NOT ((((partition_col#670 >= 20220320) AND (partition_col#670 <= 20220321)) AND exists#967) <=> true)\r\n               +- *(1) BroadcastHashJoin [upper(col13#682)], [col12#258], ExistenceJoin(exists#967), BuildRight, false\r\n                  :- *(1) Project [partition_col#670, col13#682, _file#736, _pos#737L]\r\n                  :  +- BatchScan[partition_col#670, col13#682, _file#736, _pos#737L] spark_catalog.somedb.tableA [filters=partition_col >= 20220320, partition_col <= 20220321] RuntimeFilters: [dynamicpruningexpression(_file#736 IN subquery#1051)]\r\n                  :        +- Subquery subquery#1051, [id=#408]\r\n                  :           +- *(2) HashAggregate(keys=[_file#1032#1050], functions=[], output=[_file#1032#1050])\r\n                  :              +- Exchange hashpartitioning(_file#1032#1050, 960), ENSURE_REQUIREMENTS, [id=#404]\r\n                  :                 +- *(1) HashAggregate(keys=[_file#1032 AS _file#1032#1050], functions=[], output=[_file#1032#1050])\r\n                  :                    +- *(1) Project [_file#1032]\r\n                  :                       +- *(1) BroadcastHashJoin [upper(col13#980)], [col12#258], LeftSemi, BuildRight, false\r\n                  :                          :- *(1) Project [col13#980, _file#1032]\r\n                  :                          :  +- *(1) Filter ((isnotnull(partition_col#968) AND (partition_col#968 >= 20220320)) AND (partition_col#968 <= 20220321))\r\n                  :                          :     +- BatchScan[partition_col#968,  col13#980, ] spark_catalog.somedb.tableA [filters=partition_col >= 20220320, partition_col <= 20220321] RuntimeFilters: []\r\n                  :                          +- BroadcastExchange HashedRelationBroadcastMode(List(input[0, string, true]),false), [id=#389]\r\n                  :                             +- InMemoryTableScan [col12#258]\r\n                  :                                   +- InMemoryRelation [col12#258], StorageLevel(disk, memory, deserialized, 1 replicas)\r\n                  :                                         +- *(2) HashAggregate(keys=[col12#258], functions=[], output=[col12#258])\r\n                  :                                            +- Exchange hashpartitioning(col12#258, 960), ENSURE_REQUIREMENTS, [id=#89]\r\n                  :                                               +- *(1) HashAggregate(keys=[col12#258], functions=[], output=[col12#258])\r\n                  :                                                  +- *(1) Project [upper(col12#237) AS col12#258]\r\n                  :                                                     +- *(1) Filter ((isnotnull(date#239) AND (date#239 >= 20220605)) AND (date#239 <= 20220705))\r\n                  :                                                        +- BatchScan[col12#237, date#239] spark_catalog.anotherdb.tableC [filters=date IS NOT NULL, date >= '20220605', date <= '20220705'] RuntimeFilters: []\r\n                  +- ReusedExchange [col12#258], BroadcastExchange HashedRelationBroadcastMode(List(input[0, string, true]),false), [id=#389]\r\n```\r\n\r\n-- edit for one more round of redaction","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178418612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178454729","html_url":"https://github.com/apache/iceberg/issues/5219#issuecomment-1178454729","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5219","id":1178454729,"node_id":"IC_kwDOCW7NX85GPcrJ","user":{"login":"lintingbin","id":5699014,"node_id":"MDQ6VXNlcjU2OTkwMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/5699014?v=4","gravatar_id":"","url":"https://api.github.com/users/lintingbin","html_url":"https://github.com/lintingbin","followers_url":"https://api.github.com/users/lintingbin/followers","following_url":"https://api.github.com/users/lintingbin/following{/other_user}","gists_url":"https://api.github.com/users/lintingbin/gists{/gist_id}","starred_url":"https://api.github.com/users/lintingbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lintingbin/subscriptions","organizations_url":"https://api.github.com/users/lintingbin/orgs","repos_url":"https://api.github.com/users/lintingbin/repos","events_url":"https://api.github.com/users/lintingbin/events{/privacy}","received_events_url":"https://api.github.com/users/lintingbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T02:02:16Z","updated_at":"2022-07-08T02:02:16Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer This sounds like a good idea. However, the iceberg community staff did not express any of their opinions, so your code has not been merged into master.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178454729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178457621","html_url":"https://github.com/apache/iceberg/issues/5219#issuecomment-1178457621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5219","id":1178457621,"node_id":"IC_kwDOCW7NX85GPdYV","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T02:07:22Z","updated_at":"2022-07-08T02:07:22Z","author_association":"MEMBER","body":"Yes as I noted, this was something we used internally and I didn't push for it to be merged here because I wasn't sure there was any utility. This also would not cover your specific issue but provides a template for what could be a solution. As for community interest, I'm sure we could get something like this in if it is not solely for fixing our internal issues.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178457621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178577243","html_url":"https://github.com/apache/iceberg/pull/4902#issuecomment-1178577243","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4902","id":1178577243,"node_id":"IC_kwDOCW7NX85GP6lb","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T05:43:18Z","updated_at":"2022-07-08T05:43:18Z","author_association":"MEMBER","body":"> I worry about checking the exact order as we may change the algorithm in the future.\r\n\r\n@RussellSpitzer : I believe we can update the test case when we change the underlying order in future. Right now order checking is needed as it is the only way to confirm zorder is actually used. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178577243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178639093","html_url":"https://github.com/apache/iceberg/pull/5210#issuecomment-1178639093","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5210","id":1178639093,"node_id":"IC_kwDOCW7NX85GQJr1","user":{"login":"XN137","id":1204398,"node_id":"MDQ6VXNlcjEyMDQzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204398?v=4","gravatar_id":"","url":"https://api.github.com/users/XN137","html_url":"https://github.com/XN137","followers_url":"https://api.github.com/users/XN137/followers","following_url":"https://api.github.com/users/XN137/following{/other_user}","gists_url":"https://api.github.com/users/XN137/gists{/gist_id}","starred_url":"https://api.github.com/users/XN137/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XN137/subscriptions","organizations_url":"https://api.github.com/users/XN137/orgs","repos_url":"https://api.github.com/users/XN137/repos","events_url":"https://api.github.com/users/XN137/events{/privacy}","received_events_url":"https://api.github.com/users/XN137/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T07:14:00Z","updated_at":"2022-07-08T07:17:18Z","author_association":"CONTRIBUTOR","body":"> As any() is defined on ArgumentMatchers, I was actually thinking it makes sense to call it from where it is defined.\r\n\r\nthis was the situation on master:\r\n```\r\n~/code/iceberg$ rg \"Mockito.any\" | wc -l\r\n45\r\n~/code/iceberg$ rg \"ArgumentMatchers.any\" | wc -l\r\n9\r\n```\r\nso it looked like to me, that the any-methods from Mockito might be preferred across the codebase.\r\nthus i replaced the now deleted `Matchers` with `Mockito`\r\nand refactored `ArgumentMatchers` usage as well for consistency.\r\n\r\ni think generally it is not unusual to use wildcard imports with Mockito as an exception:\r\n`import static org.mockito.Mockito.*;`\r\nor just import `Mockito` and have all related methods discoverable from a single entry point (i.e. auto-complete).\r\n\r\nthat being said, i am fine to revert this part of the change if you still want me to?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178639093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178670854","html_url":"https://github.com/apache/iceberg/issues/4164#issuecomment-1178670854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4164","id":1178670854,"node_id":"IC_kwDOCW7NX85GQRcG","user":{"login":"peay","id":7261177,"node_id":"MDQ6VXNlcjcyNjExNzc=","avatar_url":"https://avatars.githubusercontent.com/u/7261177?v=4","gravatar_id":"","url":"https://api.github.com/users/peay","html_url":"https://github.com/peay","followers_url":"https://api.github.com/users/peay/followers","following_url":"https://api.github.com/users/peay/following{/other_user}","gists_url":"https://api.github.com/users/peay/gists{/gist_id}","starred_url":"https://api.github.com/users/peay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peay/subscriptions","organizations_url":"https://api.github.com/users/peay/orgs","repos_url":"https://api.github.com/users/peay/repos","events_url":"https://api.github.com/users/peay/events{/privacy}","received_events_url":"https://api.github.com/users/peay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T07:50:26Z","updated_at":"2022-07-08T07:50:26Z","author_association":"NONE","body":"Great, thanks @bryanck @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178670854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178893117","html_url":"https://github.com/apache/iceberg/pull/4941#issuecomment-1178893117","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4941","id":1178893117,"node_id":"IC_kwDOCW7NX85GRHs9","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T11:45:17Z","updated_at":"2022-07-08T11:45:17Z","author_association":"CONTRIBUTOR","body":"Sure, @rdblue!\r\n\r\n@RussellSpitzer I have added the test. Although, I couldn't reproduce the error `already closed files for partition x ... `.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1178893117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179071298","html_url":"https://github.com/apache/iceberg/pull/4902#issuecomment-1179071298","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4902","id":1179071298,"node_id":"IC_kwDOCW7NX85GRzNC","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T14:46:09Z","updated_at":"2022-07-08T14:46:09Z","author_association":"MEMBER","body":"Thanks for the work @ajantha-bhat ! And thank you for reviewing @rdblue !\r\n\r\nI assume we'll need to put this in 3.3 as well?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179071298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179075316","html_url":"https://github.com/apache/iceberg/pull/4902#issuecomment-1179075316","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4902","id":1179075316,"node_id":"IC_kwDOCW7NX85GR0L0","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T14:50:04Z","updated_at":"2022-07-08T14:50:04Z","author_association":"MEMBER","body":"@RussellSpitzer : Thanks for merging. I will do a port for spark 3.3 very soon.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179075316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179083356","html_url":"https://github.com/apache/iceberg/issues/5216#issuecomment-1179083356","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5216","id":1179083356,"node_id":"IC_kwDOCW7NX85GR2Jc","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T14:57:39Z","updated_at":"2022-07-08T14:57:39Z","author_association":"MEMBER","body":"It does merge data and delete files. Unfortunately the logic for cleaning up delete files is more complicated and we haven't set that up quite yet. The main issue being that just because a delete file is applied to 1 data file doesn't mean it was applied to all relevant data files. Currently the way we do the processing doesn't let us know if a delete file has been completely or only partially merged. There are various efforts going forward to clean this up at the moment.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179083356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179100180","html_url":"https://github.com/apache/iceberg/pull/5227#issuecomment-1179100180","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5227","id":1179100180,"node_id":"IC_kwDOCW7NX85GR6QU","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T15:14:06Z","updated_at":"2022-07-08T15:14:06Z","author_association":"CONTRIBUTOR","body":"@szehon-ho Do we need to back-port to 3.1, 3.0 and 2.4 too?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179100180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179107341","html_url":"https://github.com/apache/iceberg/pull/5199#issuecomment-1179107341","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5199","id":1179107341,"node_id":"IC_kwDOCW7NX85GR8AN","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T15:21:29Z","updated_at":"2022-07-08T15:21:29Z","author_association":"CONTRIBUTOR","body":"> changes LGTM, but I think it would be good to have some tests that show/verify this behavior (since the PR mentions that it currently only affects tests)\r\n\r\nI added an assertion that checks that the file spec ID matches the table spec ID.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179107341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179121130","html_url":"https://github.com/apache/iceberg/pull/5205#issuecomment-1179121130","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5205","id":1179121130,"node_id":"IC_kwDOCW7NX85GR_Xq","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T15:33:27Z","updated_at":"2022-07-08T15:33:27Z","author_association":"MEMBER","body":"We do not use these, +1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179121130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179155796","html_url":"https://github.com/apache/iceberg/issues/4933#issuecomment-1179155796","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4933","id":1179155796,"node_id":"IC_kwDOCW7NX85GSH1U","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T16:10:28Z","updated_at":"2022-07-08T16:10:28Z","author_association":"CONTRIBUTOR","body":"Closing now that PR #5169 was merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179155796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179171915","html_url":"https://github.com/apache/iceberg/pull/4578#issuecomment-1179171915","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4578","id":1179171915,"node_id":"IC_kwDOCW7NX85GSLxL","user":{"login":"namrathamyske","id":17932873,"node_id":"MDQ6VXNlcjE3OTMyODcz","avatar_url":"https://avatars.githubusercontent.com/u/17932873?v=4","gravatar_id":"","url":"https://api.github.com/users/namrathamyske","html_url":"https://github.com/namrathamyske","followers_url":"https://api.github.com/users/namrathamyske/followers","following_url":"https://api.github.com/users/namrathamyske/following{/other_user}","gists_url":"https://api.github.com/users/namrathamyske/gists{/gist_id}","starred_url":"https://api.github.com/users/namrathamyske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namrathamyske/subscriptions","organizations_url":"https://api.github.com/users/namrathamyske/orgs","repos_url":"https://api.github.com/users/namrathamyske/repos","events_url":"https://api.github.com/users/namrathamyske/events{/privacy}","received_events_url":"https://api.github.com/users/namrathamyske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T16:30:30Z","updated_at":"2022-07-08T16:31:29Z","author_association":"CONTRIBUTOR","body":"@amogh-jahagirdar Thanks for the info. Earlier i never set cleanExpiredFiles. It defaults to True. So i did not get any exception when I try expire snapshots. Now i need to explicitly set cleanExpiredFiles as False when I have multiple refs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179171915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179181076","html_url":"https://github.com/apache/iceberg/issues/5140#issuecomment-1179181076","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5140","id":1179181076,"node_id":"IC_kwDOCW7NX85GSOAU","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T16:41:03Z","updated_at":"2022-07-08T16:41:03Z","author_association":"MEMBER","body":"Glad to hear it, Let us know what you plan to do or if you have a PR for review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179181076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179194873","html_url":"https://github.com/apache/iceberg/pull/5227#issuecomment-1179194873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5227","id":1179194873,"node_id":"IC_kwDOCW7NX85GSRX5","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T16:59:36Z","updated_at":"2022-07-08T16:59:47Z","author_association":"COLLABORATOR","body":"@huaxingao yea I think its always beneficial if the issue exists in that Spark version, I was more eager about fixing 3.2 personally but I think we can do it to the others as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179194873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179215916","html_url":"https://github.com/apache/iceberg/issues/5224#issuecomment-1179215916","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5224","id":1179215916,"node_id":"IC_kwDOCW7NX85GSWgs","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T17:28:04Z","updated_at":"2022-07-08T17:28:04Z","author_association":"CONTRIBUTOR","body":"I see dynamic filtering working correctly:\r\n\r\n```\r\nRuntimeFilters: [dynamicpruningexpression(_file#736 IN subquery#1051)]\r\n```\r\n\r\nThe only non-broadcast shuffle happens later to cluster records by `_file`.\r\nYou can disable it by setting `write.delete.distribution-mode` to none as you are using broadcast joins otherwise.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179215916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179251349","html_url":"https://github.com/apache/iceberg/issues/5224#issuecomment-1179251349","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5224","id":1179251349,"node_id":"IC_kwDOCW7NX85GSfKV","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T18:17:13Z","updated_at":"2022-07-08T18:17:13Z","author_association":"CONTRIBUTOR","body":"Thank you @aokolnychyi for all of your help, after set `write.delete.distribution-mode` to none instead of default `hash`, our job on spark3.2 /iceberg 13 work as expected, really appreciate your insights!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179251349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179253108","html_url":"https://github.com/apache/iceberg/pull/5228#issuecomment-1179253108","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5228","id":1179253108,"node_id":"IC_kwDOCW7NX85GSfl0","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T18:19:46Z","updated_at":"2022-07-08T20:35:21Z","author_association":"CONTRIBUTOR","body":"Example output of the `iceberg-version.properties` file from the tarball (after modifying `dev/source-release.sh` to add the file and then the script locally).\r\n\r\nI verified that the git SHA is the same as the one from the `version.txt` commit and that the tag is correct, provided `gradlew generateGitProperties` is run _after_ the commit to add `version.txt` and after the tag is generated.\r\n\r\nWe might consider removing some of the information in a follow up (possibly writing our own file out in our own task), given that it leaks a lot of information about the build user and their machine etc (such as their email, which might not be the one used for the signing keys and that they might choose to hide on github, etc).\r\n\r\n```bash\r\n$ cat apache-iceberg-0.808/iceberg-version.properties\r\ngit.branch=kb-gradle-git-properties-plugin-file-generation\r\ngit.build.host=Kyles-MacBook-Pro-2.local\r\ngit.build.user.email=kjbendickson@gmail.com\r\ngit.build.user.name=Kyle Bendickson\r\ngit.build.version=0.808\r\ngit.closest.tag.commit.count=0\r\ngit.closest.tag.name=apache-iceberg-0.808-rc1\r\ngit.commit.id=e2aeac66dfdbbcf82a8dbc240e3908a02e0af637\r\ngit.commit.id.abbrev=e2aeac6\r\ngit.commit.id.describe=apache-iceberg-0.808-rc1\r\ngit.commit.message.full=Add version.txt for release 0.808\\n\r\ngit.commit.message.short=Add version.txt for release 0.808\r\ngit.commit.time=2022-07-08T11\\:09\\:02-0700\r\ngit.commit.user.email=kjbendickson@gmail.com\r\ngit.commit.user.name=Kyle Bendickson\r\ngit.dirty=false\r\ngit.remote.origin.url=git@github.com\\:kbendick/iceberg.git\r\ngit.tags=apache-iceberg-0.808-rc1\r\ngit.total.commit.count=2937\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179253108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179260602","html_url":"https://github.com/apache/iceberg/pull/5227#issuecomment-1179260602","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5227","id":1179260602,"node_id":"IC_kwDOCW7NX85GSha6","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T18:30:45Z","updated_at":"2022-07-08T18:30:45Z","author_association":"COLLABORATOR","body":"Thanks @huaxingao for backport and @hililiwei for additional review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179260602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179265583","html_url":"https://github.com/apache/iceberg/pull/5227#issuecomment-1179265583","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5227","id":1179265583,"node_id":"IC_kwDOCW7NX85GSiov","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T18:38:24Z","updated_at":"2022-07-08T18:38:24Z","author_association":"CONTRIBUTOR","body":"Thanks a lot @szehon-ho @hililiwei ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179265583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179300349","html_url":"https://github.com/apache/iceberg/pull/5228#issuecomment-1179300349","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5228","id":1179300349,"node_id":"IC_kwDOCW7NX85GSrH9","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T19:28:32Z","updated_at":"2022-07-08T19:28:32Z","author_association":"CONTRIBUTOR","body":"Ok. This PR is now only adding the git properties file from the plugin to `build/iceberg-build.properties`.\r\n\r\n```bash\r\n➜  iceberg: ./gradlew :generateGitProperties\r\n\r\nBUILD SUCCESSFUL in 4s\r\n1 actionable task: 1 executed\r\n➜  iceberg: cat build/iceberg-build.properties\r\ngit.branch=kb-gradle-git-properties-plugin-file-generation\r\ngit.build.host=Kyles-MacBook-Pro-2.local\r\ngit.build.user.email=kjbendickson@gmail.com\r\ngit.build.user.name=Kyle Bendickson\r\ngit.build.version=0.14.0-SNAPSHOT\r\ngit.closest.tag.commit.count=680\r\ngit.closest.tag.name=release-base-0.13.0\r\ngit.commit.id=c324a7e5636181768d5b099d2992ae74844324ed\r\ngit.commit.id.abbrev=c324a7e\r\ngit.commit.id.describe=release-base-0.13.0-680-gc324a7e\r\ngit.commit.message.full=use file in gitPropertiesResourceDir\\n\r\ngit.commit.message.short=use file in gitPropertiesResourceDir\r\ngit.commit.time=2022-07-08T12\\:25\\:54-0700\r\ngit.commit.user.email=kjbendickson@gmail.com\r\ngit.commit.user.name=Kyle Bendickson\r\ngit.dirty=false\r\ngit.remote.origin.url=git@github.com\\:kbendick/iceberg.git\r\ngit.tags=\r\ngit.total.commit.count=2938\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179300349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179413831","html_url":"https://github.com/apache/iceberg/pull/5228#issuecomment-1179413831","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5228","id":1179413831,"node_id":"IC_kwDOCW7NX85GTG1H","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T22:48:47Z","updated_at":"2022-07-08T22:48:47Z","author_association":"CONTRIBUTOR","body":"cc @rdblue this PR now has only the minimal changes for the one top level git properties file.\r\n\r\nI've saved all of my previous changes and can pull them out when needed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179413831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179418280","html_url":"https://github.com/apache/iceberg/pull/5210#issuecomment-1179418280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5210","id":1179418280,"node_id":"IC_kwDOCW7NX85GTH6o","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T23:01:30Z","updated_at":"2022-07-08T23:01:30Z","author_association":"COLLABORATOR","body":"Yea , I do understand the desire to make it the same, but there's definitely many correct ways unless there is some definite rule, so I'd say let's revert those changes to focus this pr?  Other changes look good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179418280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179418959","html_url":"https://github.com/apache/iceberg/pull/3457#issuecomment-1179418959","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3457","id":1179418959,"node_id":"IC_kwDOCW7NX85GTIFP","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T23:03:21Z","updated_at":"2022-07-08T23:03:21Z","author_association":"COLLABORATOR","body":"Test got cancelled somehow, retriggering","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179418959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179432740","html_url":"https://github.com/apache/iceberg/pull/5228#issuecomment-1179432740","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5228","id":1179432740,"node_id":"IC_kwDOCW7NX85GTLck","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-08T23:48:48Z","updated_at":"2022-07-08T23:48:48Z","author_association":"CONTRIBUTOR","body":"@kbendick I'm not sure which path was settled on for the properties file.  I see both `/build/iceberg-build.properties` and `core/build/iceberg-build.properties` paths referenced.\r\n\r\n@rdblue I think you may have meant `core/build/iceberg-build.properties` which you referenced in the other PR, but that's not sufficient to get into a jar.\r\n\r\nWe can either produce a top-level `iceberg-build.properties` and then later copy it into location for the jar to pick it up or we can set the location to `gitPropertiesResourceDir = file(\"${rootDir}/core/build/resources/main\")`, which will put it in a place where it will be included.\r\n\r\nWe could also update the Jar task to include the top-level file (assuming you can reference from the project root).\r\n\r\nWhether we want to do it in this PR or not, we should make sure that building the jar should generate the file so we don't require calling a specific task to get the build information included.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179432740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179441910","html_url":"https://github.com/apache/iceberg/pull/5228#issuecomment-1179441910","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5228","id":1179441910,"node_id":"IC_kwDOCW7NX85GTNr2","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T00:24:02Z","updated_at":"2022-07-09T00:24:02Z","author_association":"CONTRIBUTOR","body":"> @kbendick I'm not sure which path was settled on for the properties file. I see both `/build/iceberg-build.properties` and `core/build/iceberg-build.properties` paths referenced.\r\n\r\nThat’s a historical artifact of the PR. At one point, the PR implemented a git attributes file generated for every subproject. And the previous version of the PR implemented similar functionality but without a plugin for just the core subproject, placing it into `core/build/resources/main`).\r\n\r\nIf the plugin is applied to the `core` subproject, then the git attributes file would be placed into `core/build/resources/main/${fileName}` by default (or some variant thereof - where $fileName can be specified per subproject or configured however we want, as iceberg-build.properties which is what was suggested here).\r\n\r\nAs mentioned, placing the file into `file(\"${rootDir}/core/build/resources/main\")` will put the file in a place where it will be \r\n included in the `core` subproject's output jar and by extension the bundle jars that use `iceberg-core` (e.g. for usage from Spark etc).\r\n\r\n> We can either produce a top-level iceberg-build.properties and then later copy it into location for the jar to pick it up or we can set the location to gitPropertiesResourceDir = file(\"${rootDir}/core/build/resources/main\"), which will put it in a place where it will be included.\r\n\r\nOriginally, I had the plugin also configured to generate a top-level  git attributes file (which would go into `file(\"${rootDir}/build/resources/main\")` or wherever else we requested it).\r\n\r\nThe reasoning for this is that when the artifacts are built from the tarball, the `.git` folder isn't included. So the `generateGitProperties` action won't work at all and the file won't be generated via a simple `./gradlew build` or even calling the action directly.\r\n\r\nSo when pushing the generated tarball of the project to svn, we'd want to have pre-generated the file and then we could include it here during the `deploy` phase: https://github.com/apache/iceberg/blob/b0937a4951a2d4a40b67eda484d49c4a4d32566e/deploy.gradle#L54-L59\r\n\r\nI could make a gradle task that copies the generated file, though if we want the SHA to match the release we'll need to call the task as part of `dev/source-release.sh` the tag and SHA are correct (as the last commit is done in `dev/source-release.sh`).\r\n\r\nBut yeah, in the case that the artifacts are built from svn / the generated tarball, the `generateGitProperties` command won't work.\r\n\r\nSo we can add a task which will generate and copy the file over to a location that will be included in the tarball.\r\n\r\nI think `core/build/resources/main` is good as that's where it's needed to be accessible from within the `core` code at runtime.\r\n\r\nLet me find links to my older commits that have a few ways of doing it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179441910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179442356","html_url":"https://github.com/apache/iceberg/pull/5228#issuecomment-1179442356","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5228","id":1179442356,"node_id":"IC_kwDOCW7NX85GTNy0","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T00:26:17Z","updated_at":"2022-07-09T00:38:56Z","author_association":"CONTRIBUTOR","body":"It's probably easier if I just push a branch that reflects the older state of this PR, which would have the generated git properties file both:\r\n1. In the runtime classspath of `iceberg-core` and\r\n2. Accessible when building the tarball for tagged releases, so that users could `./gradlew build` the project without the `.git` directory and still have access to the git properties file (by including it in the tarball).\r\n\r\nI pushed the older version to my fork. Forgive me if it's a bit messy as I just stashed those changes at a point in time, but the description of the two separate scenarios is easier to see via the code than the explanation above:\r\n\r\nhttps://github.com/kbendick/iceberg/pull/87\r\n\r\nThe 3rd place it's missing is actually from `test` resources / classes from my past experience (though maybe with the plugins placing the test situation would resolve itself), but let's not muddy the discussion too much with that now as it's less important than just getting the attributes file into the jars. 🙂 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179442356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179453686","html_url":"https://github.com/apache/iceberg/pull/5232#issuecomment-1179453686","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5232","id":1179453686,"node_id":"IC_kwDOCW7NX85GTQj2","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T01:25:00Z","updated_at":"2022-07-09T01:25:00Z","author_association":"COLLABORATOR","body":"@RussellSpitzer @rdblue , can you take a quick look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179453686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179501986","html_url":"https://github.com/apache/iceberg/pull/5210#issuecomment-1179501986","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5210","id":1179501986,"node_id":"IC_kwDOCW7NX85GTcWi","user":{"login":"XN137","id":1204398,"node_id":"MDQ6VXNlcjEyMDQzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204398?v=4","gravatar_id":"","url":"https://api.github.com/users/XN137","html_url":"https://github.com/XN137","followers_url":"https://api.github.com/users/XN137/followers","following_url":"https://api.github.com/users/XN137/following{/other_user}","gists_url":"https://api.github.com/users/XN137/gists{/gist_id}","starred_url":"https://api.github.com/users/XN137/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XN137/subscriptions","organizations_url":"https://api.github.com/users/XN137/orgs","repos_url":"https://api.github.com/users/XN137/repos","events_url":"https://api.github.com/users/XN137/events{/privacy}","received_events_url":"https://api.github.com/users/XN137/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T08:16:24Z","updated_at":"2022-07-09T08:16:24Z","author_association":"CONTRIBUTOR","body":"@szehon-ho ok i have removed the refactoring around `ArgumentMatchers` now","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179501986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179510026","html_url":"https://github.com/apache/iceberg/issues/5153#issuecomment-1179510026","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5153","id":1179510026,"node_id":"IC_kwDOCW7NX85GTeUK","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T09:08:59Z","updated_at":"2022-07-09T09:09:38Z","author_association":"CONTRIBUTOR","body":"+1 on the above, along with this we can also leverage the GitHub Actions resources from the forked repositories instead of using the resources in ASF organisation at GitHub.\r\n\r\nThis is what Apache Spark does presently : \r\n  - We create a PR and our repository triggers the workflow. Our PR uses the resources allocated to us for testing.\r\n  - Apache Spark repository finds our workflow, and links it in a comment in our PR\r\n\r\nrelevant PR in spark : \r\n- https://github.com/apache/spark/pull/32092\r\n\r\nWould love to know your thoughts on the same :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179510026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179530088","html_url":"https://github.com/apache/iceberg/issues/5163#issuecomment-1179530088","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5163","id":1179530088,"node_id":"IC_kwDOCW7NX85GTjNo","user":{"login":"yabola","id":31469905,"node_id":"MDQ6VXNlcjMxNDY5OTA1","avatar_url":"https://avatars.githubusercontent.com/u/31469905?v=4","gravatar_id":"","url":"https://api.github.com/users/yabola","html_url":"https://github.com/yabola","followers_url":"https://api.github.com/users/yabola/followers","following_url":"https://api.github.com/users/yabola/following{/other_user}","gists_url":"https://api.github.com/users/yabola/gists{/gist_id}","starred_url":"https://api.github.com/users/yabola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yabola/subscriptions","organizations_url":"https://api.github.com/users/yabola/orgs","repos_url":"https://api.github.com/users/yabola/repos","events_url":"https://api.github.com/users/yabola/events{/privacy}","received_events_url":"https://api.github.com/users/yabola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T11:48:35Z","updated_at":"2022-07-09T12:16:40Z","author_association":"CONTRIBUTOR","body":"@szehon-ho @RussellSpitzer \r\nI also have a strong need to call register table on the same table to update meta location.\r\nMy background:\r\nWe write using hadoop catalog, but need to read from hive catalog for special reasons (for example, we need to create a hive view to read table, hadoop catalog can't create hive view). Hive is **Read Only** here.\r\nBut in order to update the metadata, we need to update the meta location information regularly.\r\n\r\nI took a rough look at the current implementation. I think if the register table is to implement the update mechanism, it is better not to call the `BaseMetastoreTableOperations#commit` method here. Because register table is similar to the mirror reading of the table, there should be no modification operation, but there is modification in the commit method .And the meaning of function `BaseMetastoreTableOperations#doCommit` is that changing meta from base to newMetadata which may not be suitable for the current scene.\r\n\r\n**I would like to complete `registerTable` related function if possible**.  If you have any ideas, let me know and I can handle it. Thanks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179530088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179546876","html_url":"https://github.com/apache/iceberg/pull/5215#issuecomment-1179546876","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5215","id":1179546876,"node_id":"IC_kwDOCW7NX85GTnT8","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T13:39:18Z","updated_at":"2022-07-09T13:39:18Z","author_association":"CONTRIBUTOR","body":"This is already merged, but I thought I'd leave feedback anyway, in case it is useful.\r\n\r\nAs a data engineer, many tables I have maintained have more than 32 top-level columns. Often columns used for partitioning, sorting, auditing, and so forth are put at the end of a table schema, but these are some of the most frequently used in filtering. Also, additional columns are generally added at the end of the schema. The assumption that the first columns in a table schema are the most important to have stats on is not always accurate. \r\n\r\nIn testing 0.14, I ran into missing stats on tables, which was confusing and difficult to debug. I image those new to Iceberg and who are most likely to leave settings at the default, it would be even more confusing.\r\n\r\nI feel a more sensible default is to leave it the same as previous Iceberg versions (i.e. no column limit). Then an option could be introduced to limit the number of columns so those that prefer can set it on their tables, e.g. \"first(32)\". I feel it is better to err on the side of too many stats and dial that back as needed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179546876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179590320","html_url":"https://github.com/apache/iceberg/pull/5010#issuecomment-1179590320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5010","id":1179590320,"node_id":"IC_kwDOCW7NX85GTx6w","user":{"login":"namrathamyske","id":17932873,"node_id":"MDQ6VXNlcjE3OTMyODcz","avatar_url":"https://avatars.githubusercontent.com/u/17932873?v=4","gravatar_id":"","url":"https://api.github.com/users/namrathamyske","html_url":"https://github.com/namrathamyske","followers_url":"https://api.github.com/users/namrathamyske/followers","following_url":"https://api.github.com/users/namrathamyske/following{/other_user}","gists_url":"https://api.github.com/users/namrathamyske/gists{/gist_id}","starred_url":"https://api.github.com/users/namrathamyske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namrathamyske/subscriptions","organizations_url":"https://api.github.com/users/namrathamyske/orgs","repos_url":"https://api.github.com/users/namrathamyske/repos","events_url":"https://api.github.com/users/namrathamyske/events{/privacy}","received_events_url":"https://api.github.com/users/namrathamyske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T18:54:28Z","updated_at":"2022-07-10T00:20:34Z","author_association":"CONTRIBUTOR","body":"@rdblue @amogh-jahagirdar I have implemented toBranch method only for Append operations as per suggestion in https://github.com/apache/iceberg/pull/4926#discussion_r889296626. For other operations it will throw an **UnsupportedOperationException**. Please let me know if this looks good? Can be merged only after https://github.com/apache/iceberg/pull/4926","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179590320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179609004","html_url":"https://github.com/apache/iceberg/pull/5181#issuecomment-1179609004","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5181","id":1179609004,"node_id":"IC_kwDOCW7NX85GT2es","user":{"login":"namrathamyske","id":17932873,"node_id":"MDQ6VXNlcjE3OTMyODcz","avatar_url":"https://avatars.githubusercontent.com/u/17932873?v=4","gravatar_id":"","url":"https://api.github.com/users/namrathamyske","html_url":"https://github.com/namrathamyske","followers_url":"https://api.github.com/users/namrathamyske/followers","following_url":"https://api.github.com/users/namrathamyske/following{/other_user}","gists_url":"https://api.github.com/users/namrathamyske/gists{/gist_id}","starred_url":"https://api.github.com/users/namrathamyske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namrathamyske/subscriptions","organizations_url":"https://api.github.com/users/namrathamyske/orgs","repos_url":"https://api.github.com/users/namrathamyske/repos","events_url":"https://api.github.com/users/namrathamyske/events{/privacy}","received_events_url":"https://api.github.com/users/namrathamyske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T21:25:44Z","updated_at":"2022-07-10T00:17:30Z","author_association":"CONTRIBUTOR","body":"@rdblue @aokolnychyi @amogh-jahagirdar can you give inputs on this ? Can be merged only after https://github.com/apache/iceberg/pull/4926","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179609004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179614512","html_url":"https://github.com/apache/iceberg/pull/4926#issuecomment-1179614512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4926","id":1179614512,"node_id":"IC_kwDOCW7NX85GT30w","user":{"login":"namrathamyske","id":17932873,"node_id":"MDQ6VXNlcjE3OTMyODcz","avatar_url":"https://avatars.githubusercontent.com/u/17932873?v=4","gravatar_id":"","url":"https://api.github.com/users/namrathamyske","html_url":"https://github.com/namrathamyske","followers_url":"https://api.github.com/users/namrathamyske/followers","following_url":"https://api.github.com/users/namrathamyske/following{/other_user}","gists_url":"https://api.github.com/users/namrathamyske/gists{/gist_id}","starred_url":"https://api.github.com/users/namrathamyske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namrathamyske/subscriptions","organizations_url":"https://api.github.com/users/namrathamyske/orgs","repos_url":"https://api.github.com/users/namrathamyske/repos","events_url":"https://api.github.com/users/namrathamyske/events{/privacy}","received_events_url":"https://api.github.com/users/namrathamyske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-09T22:18:09Z","updated_at":"2022-07-10T00:59:14Z","author_association":"CONTRIBUTOR","body":"@rdblue @amogh-jahagirdar can someone review this PR once again so that Implementation for child operations Append: https://github.com/apache/iceberg/pull/5010 , RowDelta https://github.com/apache/iceberg/pull/5181 can move forward ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179614512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179659723","html_url":"https://github.com/apache/iceberg/issues/5174#issuecomment-1179659723","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5174","id":1179659723,"node_id":"IC_kwDOCW7NX85GUC3L","user":{"login":"KarlManong","id":2627662,"node_id":"MDQ6VXNlcjI2Mjc2NjI=","avatar_url":"https://avatars.githubusercontent.com/u/2627662?v=4","gravatar_id":"","url":"https://api.github.com/users/KarlManong","html_url":"https://github.com/KarlManong","followers_url":"https://api.github.com/users/KarlManong/followers","following_url":"https://api.github.com/users/KarlManong/following{/other_user}","gists_url":"https://api.github.com/users/KarlManong/gists{/gist_id}","starred_url":"https://api.github.com/users/KarlManong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KarlManong/subscriptions","organizations_url":"https://api.github.com/users/KarlManong/orgs","repos_url":"https://api.github.com/users/KarlManong/repos","events_url":"https://api.github.com/users/KarlManong/events{/privacy}","received_events_url":"https://api.github.com/users/KarlManong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T05:28:53Z","updated_at":"2022-07-10T05:28:53Z","author_association":"CONTRIBUTOR","body":"see https://github.com/apache/iceberg/issues/2737\r\n\r\nI think one of your table is not iceberg format.\r\n\r\nYou can execute `show create table`.\r\n\r\n`org.apache.iceberg.spark.extensions.TestMerge` may be help.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179659723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179750643","html_url":"https://github.com/apache/iceberg/pull/5199#issuecomment-1179750643","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5199","id":1179750643,"node_id":"IC_kwDOCW7NX85GUZDz","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T15:38:27Z","updated_at":"2022-07-10T15:38:27Z","author_association":"CONTRIBUTOR","body":"This has gotten a little complicated, trying to infer the create table (I tried to keep the change scoped to CatalogHandlers). There is a simpler approach but it requires some changes to other classes (I'm testing it out now).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179750643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179757269","html_url":"https://github.com/apache/iceberg/pull/5199#issuecomment-1179757269","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5199","id":1179757269,"node_id":"IC_kwDOCW7NX85GUarV","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T16:17:30Z","updated_at":"2022-07-10T16:17:30Z","author_association":"CONTRIBUTOR","body":"Here is the [alternative approach](https://github.com/bryanck/iceberg/pull/1/files). This changes the TableMetadata builder to allow starting from empty (rather than requiring a base). Also, it changes the REST create to always include a partition spec and sort order.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179757269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179770414","html_url":"https://github.com/apache/iceberg/pull/5220#issuecomment-1179770414","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5220","id":1179770414,"node_id":"IC_kwDOCW7NX85GUd4u","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T17:45:28Z","updated_at":"2022-07-10T17:45:28Z","author_association":"CONTRIBUTOR","body":"Thanks, @stevenzwu!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179770414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179770708","html_url":"https://github.com/apache/iceberg/pull/5191#issuecomment-1179770708","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5191","id":1179770708,"node_id":"IC_kwDOCW7NX85GUd9U","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T17:47:43Z","updated_at":"2022-07-10T17:47:43Z","author_association":"CONTRIBUTOR","body":"Thanks, @zoucao!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179770708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179771895","html_url":"https://github.com/apache/iceberg/pull/5233#issuecomment-1179771895","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5233","id":1179771895,"node_id":"IC_kwDOCW7NX85GUeP3","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T17:56:43Z","updated_at":"2022-07-10T17:56:43Z","author_association":"CONTRIBUTOR","body":"Thanks, @Fokko! Good to have this documented.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179771895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179779446","html_url":"https://github.com/apache/iceberg/pull/5228#issuecomment-1179779446","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5228","id":1179779446,"node_id":"IC_kwDOCW7NX85GUgF2","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T18:48:12Z","updated_at":"2022-07-10T18:48:12Z","author_association":"CONTRIBUTOR","body":"To clear up some of the confusion, I talked with @kbendick directly about file paths and breaking down the problem.\r\n\r\nThe first step is to be able to generate the file when the `.git` directory is present with a gradle task. The file is at `build/iceberg-build.properties` so that we can [pull it into Jars using `include`](https://github.com/apache/iceberg/blob/master/deploy.gradle#L56-L57) like we do for `LICENSE` and `NOTICE`. We only need one copy for that. The reason why we put it in `build` is that it is a temporary file generated for the build.\r\n\r\nThe next steps are:\r\n1. Add the file to all Jars using `include`\r\n2. Add the file to the root of the source tarball when generating a source build\r\n3. Add a task that either generates the content from `.git` or copies the file from the root of the build (like the current version.txt handling)\r\n4. Add the commit to expose version information in a class and set the version header","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179779446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179780121","html_url":"https://github.com/apache/iceberg/pull/5199#issuecomment-1179780121","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5199","id":1179780121,"node_id":"IC_kwDOCW7NX85GUgQZ","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T18:53:34Z","updated_at":"2022-07-10T18:53:34Z","author_association":"CONTRIBUTOR","body":"I'm closing this, in favor of https://github.com/apache/iceberg/pull/5235\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179780121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179781697","html_url":"https://github.com/apache/iceberg/pull/5234#issuecomment-1179781697","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5234","id":1179781697,"node_id":"IC_kwDOCW7NX85GUgpB","user":{"login":"namrathamyske","id":17932873,"node_id":"MDQ6VXNlcjE3OTMyODcz","avatar_url":"https://avatars.githubusercontent.com/u/17932873?v=4","gravatar_id":"","url":"https://api.github.com/users/namrathamyske","html_url":"https://github.com/namrathamyske","followers_url":"https://api.github.com/users/namrathamyske/followers","following_url":"https://api.github.com/users/namrathamyske/following{/other_user}","gists_url":"https://api.github.com/users/namrathamyske/gists{/gist_id}","starred_url":"https://api.github.com/users/namrathamyske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namrathamyske/subscriptions","organizations_url":"https://api.github.com/users/namrathamyske/orgs","repos_url":"https://api.github.com/users/namrathamyske/repos","events_url":"https://api.github.com/users/namrathamyske/events{/privacy}","received_events_url":"https://api.github.com/users/namrathamyske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T19:05:06Z","updated_at":"2022-07-10T19:05:06Z","author_association":"CONTRIBUTOR","body":"@amogh-jahagirdar @rdblue As per https://github.com/apache/iceberg/pull/4926#issuecomment-1161499158 I have changed validation checks when we commit to a branch. Right now I have implemented for BaseRowDelta usecase. My future plan is to extend for others.\r\n\r\nMy thought process is every-time we check for validations, the start snapshot should start from an ancestor of the branch. If not we can throw a validation exception. Start snapshot should ideally never go before the snapshot with which branch was created. But we don't store the commit for which the branch was created in metadata. So i am quite confused how to go ahead. Any thoughts appreciated!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179781697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179789489","html_url":"https://github.com/apache/iceberg/pull/5228#issuecomment-1179789489","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5228","id":1179789489,"node_id":"IC_kwDOCW7NX85GUiix","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T20:01:29Z","updated_at":"2022-07-10T20:01:29Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick! This worked in my testing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179789489/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179790347","html_url":"https://github.com/apache/iceberg/pull/5010#issuecomment-1179790347","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5010","id":1179790347,"node_id":"IC_kwDOCW7NX85GUiwL","user":{"login":"namrathamyske","id":17932873,"node_id":"MDQ6VXNlcjE3OTMyODcz","avatar_url":"https://avatars.githubusercontent.com/u/17932873?v=4","gravatar_id":"","url":"https://api.github.com/users/namrathamyske","html_url":"https://github.com/namrathamyske","followers_url":"https://api.github.com/users/namrathamyske/followers","following_url":"https://api.github.com/users/namrathamyske/following{/other_user}","gists_url":"https://api.github.com/users/namrathamyske/gists{/gist_id}","starred_url":"https://api.github.com/users/namrathamyske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namrathamyske/subscriptions","organizations_url":"https://api.github.com/users/namrathamyske/orgs","repos_url":"https://api.github.com/users/namrathamyske/repos","events_url":"https://api.github.com/users/namrathamyske/events{/privacy}","received_events_url":"https://api.github.com/users/namrathamyske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T20:07:00Z","updated_at":"2022-07-10T20:09:05Z","author_association":"CONTRIBUTOR","body":"@rdblue @amogh-jahagirdar After appending to a branch, The sequence number for main ref is continued from last number from branch ref. Should the sequence number continue from last last commit in main ref or branch ref ? Any thoughts appreciated. \r\n\r\nIf the sequence number is continued from branch ref, the linearity is broken. But if we continue from main ref, we will have snapshots with same sequence number.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179790347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179793486","html_url":"https://github.com/apache/iceberg/pull/5236#issuecomment-1179793486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5236","id":1179793486,"node_id":"IC_kwDOCW7NX85GUjhO","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T20:26:23Z","updated_at":"2022-07-10T20:26:23Z","author_association":"CONTRIBUTOR","body":"I created 0.14.0-rc0 to test out the `source-release.sh` script: https://dist.apache.org/repos/dist/dev/iceberg/apache-iceberg-0.14.0-rc0/\r\n\r\nI also verified that release and everything looks good:\r\n* The `iceberg-build.properties` and `version.txt` files are present\r\n* All Jars that are built include the `iceberg-build.properties` file\r\n* The tag and hash in the properties file matches the release candidate","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179793486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179801921","html_url":"https://github.com/apache/iceberg/pull/5236#issuecomment-1179801921","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5236","id":1179801921,"node_id":"IC_kwDOCW7NX85GUllB","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T21:20:51Z","updated_at":"2022-07-10T21:23:16Z","author_association":"CONTRIBUTOR","body":"Will this place `iceberg-build.properties` on the runtime classpath for subprojects? Including if used from the IDE or from testing?\r\n\r\nThings in `core/build/resources/**` will be accessible from core’s runtime classpath when I tested. But I’m less sure about the top-level `build/**` files.\r\n\r\nPossibly that’s going to be handled in a follow up though (if needed at all). I’m less familiar with gradle than you are and this differs slightly from the way I was testing it before, so this could be fine.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179801921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179802732","html_url":"https://github.com/apache/iceberg/pull/5228#issuecomment-1179802732","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5228","id":1179802732,"node_id":"IC_kwDOCW7NX85GUlxs","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T21:26:35Z","updated_at":"2022-07-10T21:26:56Z","author_association":"CONTRIBUTOR","body":"> Thanks, @kbendick! This worked in my testing.\r\n\r\nGreat! Let me know if you want me to open PRs for any of the above steps. I have code that does all of them as I was testing the plug-in out. Though I like your improvements in https://github.com/apache/iceberg/pull/5236 (but I can’t say with certainty they’d work with my code 100% as is but with small edits they would).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179802732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179810910","html_url":"https://github.com/apache/iceberg/pull/5236#issuecomment-1179810910","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5236","id":1179810910,"node_id":"IC_kwDOCW7NX85GUnxe","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T22:21:23Z","updated_at":"2022-07-10T22:21:23Z","author_association":"CONTRIBUTOR","body":"@kbendick, #5237 adds this to the classpath for the tests in `iceberg-api`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179810910/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179814273","html_url":"https://github.com/apache/iceberg/pull/5171#issuecomment-1179814273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5171","id":1179814273,"node_id":"IC_kwDOCW7NX85GUomB","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T22:42:38Z","updated_at":"2022-07-10T22:42:38Z","author_association":"CONTRIBUTOR","body":"Thanks, @Fokko!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179814273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179814402","html_url":"https://github.com/apache/iceberg/pull/5232#issuecomment-1179814402","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5232","id":1179814402,"node_id":"IC_kwDOCW7NX85GUooC","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T22:43:39Z","updated_at":"2022-07-10T22:43:39Z","author_association":"CONTRIBUTOR","body":"Thanks, @szehon-ho!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179814402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179818910","html_url":"https://github.com/apache/iceberg/pull/4816#issuecomment-1179818910","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4816","id":1179818910,"node_id":"IC_kwDOCW7NX85GUpue","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T23:10:50Z","updated_at":"2022-07-10T23:10:50Z","author_association":"CONTRIBUTOR","body":"Thanks, @CircArgs!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179818910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179822539","html_url":"https://github.com/apache/iceberg/pull/4816#issuecomment-1179822539","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4816","id":1179822539,"node_id":"IC_kwDOCW7NX85GUqnL","user":{"login":"CircArgs","id":35903677,"node_id":"MDQ6VXNlcjM1OTAzNjc3","avatar_url":"https://avatars.githubusercontent.com/u/35903677?v=4","gravatar_id":"","url":"https://api.github.com/users/CircArgs","html_url":"https://github.com/CircArgs","followers_url":"https://api.github.com/users/CircArgs/followers","following_url":"https://api.github.com/users/CircArgs/following{/other_user}","gists_url":"https://api.github.com/users/CircArgs/gists{/gist_id}","starred_url":"https://api.github.com/users/CircArgs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CircArgs/subscriptions","organizations_url":"https://api.github.com/users/CircArgs/orgs","repos_url":"https://api.github.com/users/CircArgs/repos","events_url":"https://api.github.com/users/CircArgs/events{/privacy}","received_events_url":"https://api.github.com/users/CircArgs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T23:25:28Z","updated_at":"2022-07-10T23:25:28Z","author_association":"CONTRIBUTOR","body":"> Thanks, @CircArgs!\r\n\r\nThank you @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179822539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179826290","html_url":"https://github.com/apache/iceberg/pull/5235#issuecomment-1179826290","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5235","id":1179826290,"node_id":"IC_kwDOCW7NX85GUrhy","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-10T23:48:05Z","updated_at":"2022-07-10T23:48:05Z","author_association":"CONTRIBUTOR","body":"Thanks, @bryanck! Looks great. And thanks for finding a better solution!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1179826290/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]