[{"url":"https://api.github.com/repos/apache/druid/issues/comments/268047442","html_url":"https://github.com/apache/druid/pull/3788#issuecomment-268047442","issue_url":"https://api.github.com/repos/apache/druid/issues/3788","id":268047442,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA0NzQ0Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T18:58:27Z","updated_at":"2016-12-19T18:58:27Z","author_association":"CONTRIBUTOR","body":"Ah ok, that was the method I was thinking of. Is it possible to use the same methodology in the two places? i.e. use `_` instead of `%3A`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268047442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268050358","html_url":"https://github.com/apache/druid/pull/3788#issuecomment-268050358","issue_url":"https://api.github.com/repos/apache/druid/issues/3788","id":268050358,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA1MDM1OA==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T19:09:46Z","updated_at":"2016-12-19T19:09:46Z","author_association":"CONTRIBUTOR","body":"@drcrallen the issue is with people already using the google extension who will already have segments with `:` in the path that won't be fixed by replacing it by `_` now.\r\n\r\nWe could add `google` to https://github.com/druid-io/druid/blob/da007ca3c2a7acec4b86186de95bc370d6867f6a/indexing-hadoop/src/main/java/io/druid/indexer/JobHelper.java#L585 to prevent future segments from having this problem but changing `:` to `%3A` makes this not really needed.\r\n\r\nI agree that the replace seems a bit weird limited to one character and hard coded but it's the best solution for existing segments that I found. We are already using this internally at the moment.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268050358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268051071","html_url":"https://github.com/apache/druid/pull/3767#issuecomment-268051071","issue_url":"https://api.github.com/repos/apache/druid/issues/3767","id":268051071,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA1MTA3MQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T19:12:44Z","updated_at":"2016-12-19T19:12:44Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268051071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268051850","html_url":"https://github.com/apache/druid/pull/3788#issuecomment-268051850","issue_url":"https://api.github.com/repos/apache/druid/issues/3788","id":268051850,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA1MTg1MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T19:15:51Z","updated_at":"2016-12-19T19:15:51Z","author_association":"CONTRIBUTOR","body":"@erikdubbelboer ok that makes sense.\r\n\r\nCan you please:\r\n\r\n1. Add a comment to the code as to why this does not use `_`\r\n2. Add unit tests to verify functionality.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268051850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268052693","html_url":"https://github.com/apache/druid/pull/3697#issuecomment-268052693","issue_url":"https://api.github.com/repos/apache/druid/issues/3697","id":268052693,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA1MjY5Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T19:18:55Z","updated_at":"2016-12-19T19:18:55Z","author_association":"CONTRIBUTOR","body":"@b-slim any more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268052693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268053199","html_url":"https://github.com/apache/druid/pull/3711#issuecomment-268053199","issue_url":"https://api.github.com/repos/apache/druid/issues/3711","id":268053199,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA1MzE5OQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T19:20:47Z","updated_at":"2016-12-19T19:20:47Z","author_association":"CONTRIBUTOR","body":"I'm üëç  on this as this. There's additional documentation work and whatnot that can be done, but it can wait until some discussion conclude.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268053199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268060079","html_url":"https://github.com/apache/druid/pull/3789#issuecomment-268060079","issue_url":"https://api.github.com/repos/apache/druid/issues/3789","id":268060079,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA2MDA3OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T19:48:23Z","updated_at":"2016-12-19T19:48:23Z","author_association":"CONTRIBUTOR","body":"@gianm updated","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268060079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268060470","html_url":"https://github.com/apache/druid/pull/3789#issuecomment-268060470","issue_url":"https://api.github.com/repos/apache/druid/issues/3789","id":268060470,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA2MDQ3MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T19:50:01Z","updated_at":"2016-12-19T19:50:01Z","author_association":"CONTRIBUTOR","body":"üëç  after travis","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268060470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268073706","html_url":"https://github.com/apache/druid/pull/3703#issuecomment-268073706","issue_url":"https://api.github.com/repos/apache/druid/issues/3703","id":268073706,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA3MzcwNg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T20:46:48Z","updated_at":"2016-12-19T20:46:48Z","author_association":"CONTRIBUTOR","body":"@anshbansal can you sign the CLA? http://druid.io/community/cla.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268073706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268081745","html_url":"https://github.com/apache/druid/pull/3766#issuecomment-268081745","issue_url":"https://api.github.com/repos/apache/druid/issues/3766","id":268081745,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA4MTc0NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T21:20:45Z","updated_at":"2016-12-19T21:20:45Z","author_association":"CONTRIBUTOR","body":"i reviewed it internally, :+1: ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268081745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268083412","html_url":"https://github.com/apache/druid/pull/3787#issuecomment-268083412","issue_url":"https://api.github.com/repos/apache/druid/issues/3787","id":268083412,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODA4MzQxMg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-19T21:27:16Z","updated_at":"2016-12-19T21:27:16Z","author_association":"CONTRIBUTOR","body":"on the surface, it looks like this patch does not change anything except making a particular method invocation using reflection instead of direct call. we do run hadoop 2.7.2 with this patch and things have worked fine so far.\r\n\r\n@hamlet-lee did you find out why you were getting IllegalAccessError without reflection usage? Can you check that you did not have multiple hadoop versions on the classpath e.g. one set of hadoop jars coming via hdfs-storage module and one set explicitly specified on the classpath ?\r\n\r\nI'm trying to understand why reflection solves this particular issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268083412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268142493","html_url":"https://github.com/apache/druid/pull/3570#issuecomment-268142493","issue_url":"https://api.github.com/repos/apache/druid/issues/3570","id":268142493,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODE0MjQ5Mw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T03:08:24Z","updated_at":"2016-12-20T03:08:24Z","author_association":"CONTRIBUTOR","body":"@gianm Renamed:\r\n\r\nQueryTypeHelper -> ColumnSelectorStrategy\r\nQueryDimensionInfo -> ColumnSelectorPlus\r\n\r\nRemoved DimensionQueryHelper, some of the methods were only used by GroupBy so those have been moved into the GroupBy strategy interface (which has changed now), the value matcher methods were split off into a ValueMatcherColumnSelectorStrategy","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268142493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268152421","html_url":"https://github.com/apache/druid/pull/2945#issuecomment-268152421","issue_url":"https://api.github.com/repos/apache/druid/issues/2945","id":268152421,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODE1MjQyMQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T04:31:38Z","updated_at":"2016-12-20T04:31:38Z","author_association":"CONTRIBUTOR","body":"@sirpkt I was imagining something like below, that uses configured parser first to convert blob returned from delegate into an InputRow and then wraps that to have additional dimensions. something like below...\r\n\r\n```\r\npublic class PartitionedDataInputFormat extends InputFormat<NullWritable, InputRow>\r\n{\r\n  //create instance of this using reflection,\r\n  // name would be set by PartitionedPathSpec into hadoop configuration\r\n  private InputFormat delegate;\r\n\r\n\r\n  @Override\r\n  public RecordReader<NullWritable, InputRow> createRecordReader(\r\n      InputSplit split,\r\n      TaskAttemptContext context\r\n  ) throws IOException, InterruptedException\r\n  {\r\n    return new PartitionedDataRecordReader(\r\n        delegate.createRecordReader(split, context),\r\n        HadoopDruidIndexerConfig.fromConfiguration(context.getConfiguration()).getParser()\r\n    );\r\n  }\r\n}\r\n\r\npublic class PartitionedDataRecordReader extends RecordReader<NullWritable, InputRow>\r\n{\r\n\r\n  private RecordReader delegate;\r\n  private InputRowParser parser;\r\n\r\n  public PartitionedDataRecordReader(RecordReader delegate, InputRowParser parser)\r\n  {\r\n    this.delegate = delegate;\r\n    this.parser = parser;\r\n  }\r\n\r\n  @Override\r\n  public boolean nextKeyValue() throws IOException, InterruptedException\r\n  {\r\n    return delegate.nextKeyValue();\r\n  }\r\n\r\n  @Override\r\n  public InputRow getCurrentValue() throws IOException, InterruptedException\r\n  {\r\n    final InputRow original = parser.parse(delegate.getCurrentValue());\r\n    //wrap original row with another that has additional dimensions\r\n    return new InputRow() {\r\n      //wraps original\r\n    };\r\n  }\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268152421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268153088","html_url":"https://github.com/apache/druid/issues/3791#issuecomment-268153088","issue_url":"https://api.github.com/repos/apache/druid/issues/3791","id":268153088,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODE1MzA4OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T04:38:14Z","updated_at":"2016-12-20T04:38:14Z","author_association":"CONTRIBUTOR","body":"i think its a genuine bug.... would you like to send a PR to fix it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268153088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268167626","html_url":"https://github.com/apache/druid/issues/3791#issuecomment-268167626","issue_url":"https://api.github.com/repos/apache/druid/issues/3791","id":268167626,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODE2NzYyNg==","user":{"login":"XuKyle","id":13128059,"node_id":"MDQ6VXNlcjEzMTI4MDU5","avatar_url":"https://avatars.githubusercontent.com/u/13128059?v=4","gravatar_id":"","url":"https://api.github.com/users/XuKyle","html_url":"https://github.com/XuKyle","followers_url":"https://api.github.com/users/XuKyle/followers","following_url":"https://api.github.com/users/XuKyle/following{/other_user}","gists_url":"https://api.github.com/users/XuKyle/gists{/gist_id}","starred_url":"https://api.github.com/users/XuKyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuKyle/subscriptions","organizations_url":"https://api.github.com/users/XuKyle/orgs","repos_url":"https://api.github.com/users/XuKyle/repos","events_url":"https://api.github.com/users/XuKyle/events{/privacy}","received_events_url":"https://api.github.com/users/XuKyle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T06:40:08Z","updated_at":"2016-12-20T06:40:08Z","author_association":"NONE","body":"i didn't do those things before,are you sure of it?I'm not very confident with my skill.....","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268167626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268168637","html_url":"https://github.com/apache/druid/issues/3791#issuecomment-268168637","issue_url":"https://api.github.com/repos/apache/druid/issues/3791","id":268168637,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODE2ODYzNw==","user":{"login":"XuKyle","id":13128059,"node_id":"MDQ6VXNlcjEzMTI4MDU5","avatar_url":"https://avatars.githubusercontent.com/u/13128059?v=4","gravatar_id":"","url":"https://api.github.com/users/XuKyle","html_url":"https://github.com/XuKyle","followers_url":"https://api.github.com/users/XuKyle/followers","following_url":"https://api.github.com/users/XuKyle/following{/other_user}","gists_url":"https://api.github.com/users/XuKyle/gists{/gist_id}","starred_url":"https://api.github.com/users/XuKyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuKyle/subscriptions","organizations_url":"https://api.github.com/users/XuKyle/orgs","repos_url":"https://api.github.com/users/XuKyle/repos","events_url":"https://api.github.com/users/XuKyle/events{/privacy}","received_events_url":"https://api.github.com/users/XuKyle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T06:48:17Z","updated_at":"2016-12-20T06:48:17Z","author_association":"NONE","body":"```\r\nComparators:\r\nprivate static final Comparator<Interval> INTERVAL_EXCLUDE_CONTAIN = new Comparator<Interval>() {\r\n        private final DateTimeComparator dateTimeComp = DateTimeComparator.getInstance();\r\n\r\n        @Override\r\n        public int compare(Interval lhs, Interval rhs) {\r\n            if (lhs.getChronology().equals(rhs.getChronology())) {\r\n                int compare = Longs.compare(lhs.getStartMillis(), rhs.getStartMillis());\r\n                int compareEnd = Longs.compare(lhs.getEndMillis(), rhs.getEndMillis());\r\n                if (compare == 0) {\r\n                    return compareEnd <= 0 ? 0 : compareEnd;\r\n                }\r\n                return compareEnd <= 0 ? 0 : compare;\r\n            }\r\n            int retValStart = dateTimeComp.compare(lhs.getStart(), rhs.getStart());\r\n            int retValEnd = dateTimeComp.compare(lhs.getEnd(), rhs.getEnd());\r\n            if (retValStart == 0) {\r\n                return retValEnd <= 0 ? 0 : retValEnd;\r\n            }\r\n            return retValEnd <= 0 ? 0 : retValStart;\r\n        }\r\n    };\r\n\r\nJodaUtils:\r\nTreeSet<Interval> sortedIntervals = Sets.newTreeSet(INTERVAL_BY_START_THEN_END);\r\n        for (Interval interval : intervals) {\r\n            sortedIntervals.add(interval);\r\n        }\r\n\r\n        TreeSet<Interval> distinctIntervals = Sets.newTreeSet(INTERVAL_EXCLUDE_CONTAIN);\r\n        for (Interval sortedInterval : sortedIntervals) {\r\n            distinctIntervals.add(sortedInterval);\r\n        }\r\n```\r\nin my own project,i change those files . is it elegant enough? ‚ò∫‚ò∫‚ò∫","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268168637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268171045","html_url":"https://github.com/apache/druid/pull/3787#issuecomment-268171045","issue_url":"https://api.github.com/repos/apache/druid/issues/3787","id":268171045,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODE3MTA0NQ==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T07:06:59Z","updated_at":"2016-12-20T07:08:31Z","author_association":"CONTRIBUTOR","body":"my middle manager is started as\r\n```\r\nHADOOP_CLASSPATH=$HADOOP_CONF_DIR nohup  java -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:MaxPermSize=256m -XX:PermSize=256m -Xms1024m -Xmx5000m -Duser.timezone=GMT+8 -Dfile.encoding=UTF-8 -classpath ${HADOOP_CONF_DIR}:${DRUID_CONF}/_common:${DRUID_CONF}/middleManager:${DRUID_HOME}/lib/*:`$HADOOP_HOME/bin/hadoop classpath`: io.druid.cli.Main server middleManager\r\n```\r\n\r\nI print classloader by below code:\r\n```\r\npublic static boolean rename(FileSystem fs, Path from, Path to) throws IOException\r\n  {\r\n    try {\r\n      log.info( \"HadoopFsWrapper classloader: \" +HadoopFsWrapper.class.getClassLoader());\r\n      log.info( \"FileSystem classloader: \" + FileSystem.class.getClassLoader());\r\n\r\n      Method renameMethod = fs.getClass().getMethod(\"rename\", Path.class, Path.class, Options.Rename[].class);\r\n      renameMethod.invoke(fs, from, to, new Options.Rename[]{Options.Rename.NONE});\r\n      return true;\r\n    }\r\n    catch (Exception ex) {\r\n      log.warn(ex, \"Failed to rename [%s] to [%s].\", from, to);\r\n      return false;\r\n    }\r\n  }\r\n```\r\n\r\n```\r\n2016-12-20T15:01:30,234 INFO [appenderator_merge_0] org.apache.hadoop.fs.HadoopFsWrapper - HadoopFsWrapper classloader: java.net.URLClassLoader@7cd1ac19\r\n2016-12-20T15:01:30,234 INFO [appenderator_merge_0] org.apache.hadoop.fs.HadoopFsWrapper - FileSystem classloader: sun.misc.Launcher$AppClassLoader@5f184fc6\r\n```\r\n\r\nHadoopFsWrapper  and FileSystem  are from different classloader.  This may caused the exception.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268171045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268217803","html_url":"https://github.com/apache/druid/pull/3703#issuecomment-268217803","issue_url":"https://api.github.com/repos/apache/druid/issues/3703","id":268217803,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODIxNzgwMw==","user":{"login":"anshbansal","id":4127841,"node_id":"MDQ6VXNlcjQxMjc4NDE=","avatar_url":"https://avatars.githubusercontent.com/u/4127841?v=4","gravatar_id":"","url":"https://api.github.com/users/anshbansal","html_url":"https://github.com/anshbansal","followers_url":"https://api.github.com/users/anshbansal/followers","following_url":"https://api.github.com/users/anshbansal/following{/other_user}","gists_url":"https://api.github.com/users/anshbansal/gists{/gist_id}","starred_url":"https://api.github.com/users/anshbansal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anshbansal/subscriptions","organizations_url":"https://api.github.com/users/anshbansal/orgs","repos_url":"https://api.github.com/users/anshbansal/repos","events_url":"https://api.github.com/users/anshbansal/events{/privacy}","received_events_url":"https://api.github.com/users/anshbansal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T11:13:43Z","updated_at":"2016-12-20T11:13:43Z","author_association":"CONTRIBUTOR","body":"@fjy Why do I need to share my mailing address?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268217803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268286181","html_url":"https://github.com/apache/druid/pull/3788#issuecomment-268286181","issue_url":"https://api.github.com/repos/apache/druid/issues/3788","id":268286181,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODI4NjE4MQ==","user":{"login":"erikdubbelboer","id":522870,"node_id":"MDQ6VXNlcjUyMjg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/522870?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdubbelboer","html_url":"https://github.com/erikdubbelboer","followers_url":"https://api.github.com/users/erikdubbelboer/followers","following_url":"https://api.github.com/users/erikdubbelboer/following{/other_user}","gists_url":"https://api.github.com/users/erikdubbelboer/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdubbelboer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdubbelboer/subscriptions","organizations_url":"https://api.github.com/users/erikdubbelboer/orgs","repos_url":"https://api.github.com/users/erikdubbelboer/repos","events_url":"https://api.github.com/users/erikdubbelboer/events{/privacy}","received_events_url":"https://api.github.com/users/erikdubbelboer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T16:19:12Z","updated_at":"2016-12-20T16:19:12Z","author_association":"CONTRIBUTOR","body":"@drcrallen done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268286181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268288508","html_url":"https://github.com/apache/druid/pull/3787#issuecomment-268288508","issue_url":"https://api.github.com/repos/apache/druid/issues/3787","id":268288508,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODI4ODUwOA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T16:27:59Z","updated_at":"2016-12-20T16:27:59Z","author_association":"CONTRIBUTOR","body":"If that is correct this patch probably makes sure the class ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268288508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268288986","html_url":"https://github.com/apache/druid/pull/3787#issuecomment-268288986","issue_url":"https://api.github.com/repos/apache/druid/issues/3787","id":268288986,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODI4ODk4Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T16:29:39Z","updated_at":"2016-12-20T16:29:39Z","author_association":"CONTRIBUTOR","body":"Stupid mobile.....\r\n\r\nMakes sure the class loader is correct. Can you debug why there is a miss match in class loaders here?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268288986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268300340","html_url":"https://github.com/apache/druid/issues/2748#issuecomment-268300340","issue_url":"https://api.github.com/repos/apache/druid/issues/2748","id":268300340,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODMwMDM0MA==","user":{"login":"saurabhere","id":7585822,"node_id":"MDQ6VXNlcjc1ODU4MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7585822?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhere","html_url":"https://github.com/saurabhere","followers_url":"https://api.github.com/users/saurabhere/followers","following_url":"https://api.github.com/users/saurabhere/following{/other_user}","gists_url":"https://api.github.com/users/saurabhere/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhere/subscriptions","organizations_url":"https://api.github.com/users/saurabhere/orgs","repos_url":"https://api.github.com/users/saurabhere/repos","events_url":"https://api.github.com/users/saurabhere/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhere/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T17:11:27Z","updated_at":"2016-12-20T17:11:27Z","author_association":"NONE","body":"Is there any ETA/ release version for this feature to be implemented yet? \r\nWe also need to access S3 for hadoop ingestion and always passing AWS credentials is not safe. Can it at least be hidden in the task logs?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268300340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268304900","html_url":"https://github.com/apache/druid/issues/2748#issuecomment-268304900","issue_url":"https://api.github.com/repos/apache/druid/issues/2748","id":268304900,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODMwNDkwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T17:29:40Z","updated_at":"2016-12-20T17:29:40Z","author_association":"CONTRIBUTOR","body":"@saurabhere no ETA that I am aware of.\r\n\r\nYou should be able to work around this, though, by setting `fs.s3.impl` and `fs.s3n.impl` both to \"org.apache.hadoop.fs.s3a.S3AFileSystem\" and possibly setting some other properties too. That should get the system into using s3a for all `s3://` and `s3n://` urls, and it should be able to use your instance roles.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268304900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268312544","html_url":"https://github.com/apache/druid/issues/2748#issuecomment-268312544","issue_url":"https://api.github.com/repos/apache/druid/issues/2748","id":268312544,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODMxMjU0NA==","user":{"login":"saurabhere","id":7585822,"node_id":"MDQ6VXNlcjc1ODU4MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7585822?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhere","html_url":"https://github.com/saurabhere","followers_url":"https://api.github.com/users/saurabhere/followers","following_url":"https://api.github.com/users/saurabhere/following{/other_user}","gists_url":"https://api.github.com/users/saurabhere/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhere/subscriptions","organizations_url":"https://api.github.com/users/saurabhere/orgs","repos_url":"https://api.github.com/users/saurabhere/repos","events_url":"https://api.github.com/users/saurabhere/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhere/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T18:00:30Z","updated_at":"2016-12-20T18:25:46Z","author_association":"NONE","body":"I tried that.\r\nI got\r\n```\r\nCaused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.fs.s3a.S3AFileSystem not found\r\n\tat org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:2101) ~[?:?]\r\n```\r\nSo, I downloaded hadoop-aws-2.7.3 explicitely into hadoop-dependencies\r\nThen, i got\r\n```\r\nCaused by: java.lang.NoSuchMethodError: com.amazonaws.services.s3.transfer.TransferManagerConfiguration.setMultipartUploadThreshold(I)V\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:285) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2669) ~[?:?]\r\n```\r\nThis takes me to https://issues.apache.org/jira/browse/HADOOP-12420\r\nThen I tried copying aws-java-sdk-1.7.4  to the hadoop-dependencies in vain. \r\nIs there something else I can do?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268312544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268316201","html_url":"https://github.com/apache/druid/pull/3631#issuecomment-268316201","issue_url":"https://api.github.com/repos/apache/druid/issues/3631","id":268316201,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODMxNjIwMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T18:15:30Z","updated_at":"2016-12-20T18:15:30Z","author_association":"MEMBER","body":"Running this change (along with https://github.com/metamx/extendedset/pull/13) in production now, seen 50-70% less GC CPU, 30% less distinct garbage collection pauses and the pauses became somewhat shorter as well.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268316201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268324090","html_url":"https://github.com/apache/druid/pull/3787#issuecomment-268324090","issue_url":"https://api.github.com/repos/apache/druid/issues/3787","id":268324090,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODMyNDA5MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T18:47:07Z","updated_at":"2016-12-20T18:47:07Z","author_association":"CONTRIBUTOR","body":"my guess is,\r\n\r\nhdfs-storage (and default hadoop jars of version 2.3.0)  loaded in the extension classloader , main classloader has hadoop 2.7.1 jars on the classpath .... and depending on position of stars unpredictable things happen :)\r\n\r\nI think this issue will also possibly get solved if hdfs-storage was built with hadoop 2.7.1 as dependency in the pom so as to have hadoop 2.7.1 jars in the extension folder.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268324090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268328693","html_url":"https://github.com/apache/druid/issues/3791#issuecomment-268328693","issue_url":"https://api.github.com/repos/apache/druid/issues/3791","id":268328693,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODMyODY5Mw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T19:05:29Z","updated_at":"2016-12-20T19:05:29Z","author_association":"CONTRIBUTOR","body":"@XuKyle that is a good attempt, thanks. I will get it fixed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268328693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268331804","html_url":"https://github.com/apache/druid/pull/3792#issuecomment-268331804","issue_url":"https://api.github.com/repos/apache/druid/issues/3792","id":268331804,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODMzMTgwNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T19:18:01Z","updated_at":"2016-12-20T19:27:50Z","author_association":"CONTRIBUTOR","body":"Here are some JMH benchmark results (```SearchBenchmark.java```) to decide proper thresholds for selecting a good strategy. The benchmark tests were conducted with my local machine.\r\n\r\n**Operation time with varying filter selectivity**\r\n- With concise index: https://docs.google.com/spreadsheets/d/1nVoDMmBHqCyHfYF9pmjHLD02nkPKiV27xXj0VcyTHkQ/pubchart?oid=1752856339&format=interactive\r\n- With roaring index: https://docs.google.com/spreadsheets/d/1nVoDMmBHqCyHfYF9pmjHLD02nkPKiV27xXj0VcyTHkQ/pubchart?oid=583240140&format=interactive\r\n\r\n**Operation time with varying search dimension's cardinality**\r\n- With concise index: https://docs.google.com/spreadsheets/d/1nVoDMmBHqCyHfYF9pmjHLD02nkPKiV27xXj0VcyTHkQ/pubchart?oid=996559516&format=interactive\r\n- With roaring index: https://docs.google.com/spreadsheets/d/1nVoDMmBHqCyHfYF9pmjHLD02nkPKiV27xXj0VcyTHkQ/pubchart?oid=1085077172&format=interactive","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268331804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268341833","html_url":"https://github.com/apache/druid/pull/3793#issuecomment-268341833","issue_url":"https://api.github.com/repos/apache/druid/issues/3793","id":268341833,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODM0MTgzMw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T19:54:33Z","updated_at":"2016-12-20T19:54:33Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268341833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268383445","html_url":"https://github.com/apache/druid/pull/3631#issuecomment-268383445","issue_url":"https://api.github.com/repos/apache/druid/issues/3631","id":268383445,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODM4MzQ0NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T22:55:45Z","updated_at":"2016-12-20T22:55:45Z","author_association":"CONTRIBUTOR","body":"i think it makes sense that removing finalize() improved GC stats considering such objects can only be collected by major GCs and typically have higher instantiation overhead.\r\n\r\nhowever, using Cleaner is not good in all cases. current implementation of StupidPool would not perform well under concurrency because Cleaner create/clean are internally \"static synchronized\" .  so, note that contention will not only be with threads using StupidPool but everything else that uses Cleaner e.g. DirectByteBuffer.\r\n\r\nI'm assuming you ran it in production and looked out for contention issues and concluded that using Cleaner is better overall.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268383445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268389453","html_url":"https://github.com/apache/druid/pull/3766#issuecomment-268389453","issue_url":"https://api.github.com/repos/apache/druid/issues/3766","id":268389453,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODM4OTQ1Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-20T23:28:30Z","updated_at":"2016-12-20T23:28:30Z","author_association":"CONTRIBUTOR","body":"I'm confused by this PR. Our goal has been to move towards a single concept of Granularity and now we have 3 granularities. Can this decision plz be justified?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268389453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268398453","html_url":"https://github.com/apache/druid/pull/3766#issuecomment-268398453","issue_url":"https://api.github.com/repos/apache/druid/issues/3766","id":268398453,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODM5ODQ1Mw==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T00:20:26Z","updated_at":"2016-12-21T01:54:26Z","author_association":"CONTRIBUTOR","body":"@fjy I wasn't aware that there was a goal to only have a single concept of Granularity. \r\n\r\nI had earlier sent a PR for https://github.com/druid-io/druid/pull/3528. For that, I had to work around the fact that Granularity enum inherently didn't support timezone. Early on, @cheddar suggested to solve this by taking note of how QueryGranularity supports `period`. But we didn't have the time to do this before the first PR. Now, I ended up refactoring by creating a `PeriodSegmentGranularity` and `PeriodQueryGranularity`. Both of them have shared logic about truncation, increments and decrements for a `period` that is encapsulated in `PeriodGranularity`. \r\n\r\nThe last sentence above should also answer your comment on `PeriodGranualrity`\r\n\r\nHope this offers some more context for this PR. If its alright, I can take a stab at unifying into a single concept in the next PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268398453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268407917","html_url":"https://github.com/apache/druid/pull/3778#issuecomment-268407917","issue_url":"https://api.github.com/repos/apache/druid/issues/3778","id":268407917,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODQwNzkxNw==","user":{"login":"KurtYoung","id":955396,"node_id":"MDQ6VXNlcjk1NTM5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/955396?v=4","gravatar_id":"","url":"https://api.github.com/users/KurtYoung","html_url":"https://github.com/KurtYoung","followers_url":"https://api.github.com/users/KurtYoung/followers","following_url":"https://api.github.com/users/KurtYoung/following{/other_user}","gists_url":"https://api.github.com/users/KurtYoung/gists{/gist_id}","starred_url":"https://api.github.com/users/KurtYoung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KurtYoung/subscriptions","organizations_url":"https://api.github.com/users/KurtYoung/orgs","repos_url":"https://api.github.com/users/KurtYoung/repos","events_url":"https://api.github.com/users/KurtYoung/events{/privacy}","received_events_url":"https://api.github.com/users/KurtYoung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T01:21:50Z","updated_at":"2016-12-21T01:21:50Z","author_association":"CONTRIBUTOR","body":"Don't think so if we need a new \"segmentGranularity\" policy. Can we just extend the \"messageTime\" policy?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268407917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268408161","html_url":"https://github.com/apache/druid/pull/3778#issuecomment-268408161","issue_url":"https://api.github.com/repos/apache/druid/issues/3778","id":268408161,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODQwODE2MQ==","user":{"login":"KurtYoung","id":955396,"node_id":"MDQ6VXNlcjk1NTM5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/955396?v=4","gravatar_id":"","url":"https://api.github.com/users/KurtYoung","html_url":"https://github.com/KurtYoung","followers_url":"https://api.github.com/users/KurtYoung/followers","following_url":"https://api.github.com/users/KurtYoung/following{/other_user}","gists_url":"https://api.github.com/users/KurtYoung/gists{/gist_id}","starred_url":"https://api.github.com/users/KurtYoung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KurtYoung/subscriptions","organizations_url":"https://api.github.com/users/KurtYoung/orgs","repos_url":"https://api.github.com/users/KurtYoung/repos","events_url":"https://api.github.com/users/KurtYoung/events{/privacy}","received_events_url":"https://api.github.com/users/KurtYoung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T01:23:38Z","updated_at":"2016-12-21T01:23:38Z","author_association":"CONTRIBUTOR","body":"Just extend the existing policy to consider the \"segmentGranularity\", the events which are out of window but still in the effective segment can harmlessly considered as valid. \r\n@fjy any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268408161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268409591","html_url":"https://github.com/apache/druid/pull/3570#issuecomment-268409591","issue_url":"https://api.github.com/repos/apache/druid/issues/3570","id":268409591,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODQwOTU5MQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T01:33:40Z","updated_at":"2016-12-21T01:33:40Z","author_association":"CONTRIBUTOR","body":"@gianm addressed your comments, still waiting on benchmark results","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268409591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268440364","html_url":"https://github.com/apache/druid/pull/3570#issuecomment-268440364","issue_url":"https://api.github.com/repos/apache/druid/issues/3570","id":268440364,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODQ0MDM2NA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T05:40:16Z","updated_at":"2016-12-21T05:40:16Z","author_association":"CONTRIBUTOR","body":"@gianm added benchmark results to top level comment","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268440364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268550676","html_url":"https://github.com/apache/druid/issues/3794#issuecomment-268550676","issue_url":"https://api.github.com/repos/apache/druid/issues/3794","id":268550676,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU1MDY3Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T15:28:47Z","updated_at":"2016-12-21T15:28:47Z","author_association":"CONTRIBUTOR","body":"fnCombine gets called on `AggregatorFactory.combine` but the JavaScriptAggregatorTest doesn't test this. It only tests `aggregate`. I think this is just a lack of test coverage.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268550676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268555950","html_url":"https://github.com/apache/druid/issues/3794#issuecomment-268555950","issue_url":"https://api.github.com/repos/apache/druid/issues/3794","id":268555950,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU1NTk1MA==","user":{"login":"linbojin","id":5894707,"node_id":"MDQ6VXNlcjU4OTQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5894707?v=4","gravatar_id":"","url":"https://api.github.com/users/linbojin","html_url":"https://github.com/linbojin","followers_url":"https://api.github.com/users/linbojin/followers","following_url":"https://api.github.com/users/linbojin/following{/other_user}","gists_url":"https://api.github.com/users/linbojin/gists{/gist_id}","starred_url":"https://api.github.com/users/linbojin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linbojin/subscriptions","organizations_url":"https://api.github.com/users/linbojin/orgs","repos_url":"https://api.github.com/users/linbojin/repos","events_url":"https://api.github.com/users/linbojin/events{/privacy}","received_events_url":"https://api.github.com/users/linbojin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T15:47:07Z","updated_at":"2016-12-21T15:47:07Z","author_association":"CONTRIBUTOR","body":"Actually, i dive deep into the codes, because i tested the aggregator on our server, i found the problem:\r\n```\r\n    {\r\n      \"type\": \"javascript\",\r\n      \"name\": \"sum(log(x)*y) + 10\",\r\n      \"fieldNames\": [\r\n        \"traffic\",\r\n        \"throughputEstimate\"\r\n      ],\r\n      \"fnAggregate\": \"function(current, a, b)      { return current + (Math.log(a) * b); }\",\r\n      \"fnCombine\": \"function combinePartialResults(partialA, partialB) { return partialA + partialB; }\",\r\n      \"fnReset\": \"function()                   { return 10; }\"\r\n    }\r\n```\r\n![image](https://cloud.githubusercontent.com/assets/5894707/21395466/8b18c5be-c7d7-11e6-8280-c70cab3509af.png)\r\nand i changed to return 0, but two query give me the same result.\r\n![image](https://cloud.githubusercontent.com/assets/5894707/21395483/97f0c9ee-c7d7-11e6-80a0-750b41362a4d.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268555950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268557180","html_url":"https://github.com/apache/druid/pull/3664#issuecomment-268557180","issue_url":"https://api.github.com/repos/apache/druid/issues/3664","id":268557180,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU1NzE4MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T15:51:38Z","updated_at":"2016-12-21T15:51:38Z","author_association":"CONTRIBUTOR","body":"I'm not too familiar with Exhibitor, but based on this patch my understanding is that, when exhibitor is configured.... curator client first goes to exhibitor instance to get list of zookeeper hosts and then afterwards it is talking directly to zookeeper instances.\r\nso, druid.zk.service.* settings are still utilized..... right ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268557180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268557708","html_url":"https://github.com/apache/druid/issues/3794#issuecomment-268557708","issue_url":"https://api.github.com/repos/apache/druid/issues/3794","id":268557708,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU1NzcwOA==","user":{"login":"linbojin","id":5894707,"node_id":"MDQ6VXNlcjU4OTQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5894707?v=4","gravatar_id":"","url":"https://api.github.com/users/linbojin","html_url":"https://github.com/linbojin","followers_url":"https://api.github.com/users/linbojin/followers","following_url":"https://api.github.com/users/linbojin/following{/other_user}","gists_url":"https://api.github.com/users/linbojin/gists{/gist_id}","starred_url":"https://api.github.com/users/linbojin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linbojin/subscriptions","organizations_url":"https://api.github.com/users/linbojin/orgs","repos_url":"https://api.github.com/users/linbojin/repos","events_url":"https://api.github.com/users/linbojin/events{/privacy}","received_events_url":"https://api.github.com/users/linbojin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T15:53:42Z","updated_at":"2016-12-21T15:53:42Z","author_association":"CONTRIBUTOR","body":"I also changed this line inside QueryRunnerTestHelper: https://github.com/druid-io/druid/blob/master/processing/src/test/java/io/druid/query/QueryRunnerTestHelper.java#L134\r\n```\r\npublic static final String JS_COMBINE_A_PLUS_B = \"function combine(a, b) { return a + b; }\";\r\n```\r\nto\r\n```\r\npublic static final String JS_COMBINE_A_PLUS_B = \"function combine(a, b) { return 0; }\";\r\n```\r\nand run TimeseriesQueryRunnerTest tests, again, all passed:\r\n![image](https://cloud.githubusercontent.com/assets/5894707/21395735/988276c2-c7d8-11e6-8bba-50f3c3741ccf.png)\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268557708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268558368","html_url":"https://github.com/apache/druid/issues/3794#issuecomment-268558368","issue_url":"https://api.github.com/repos/apache/druid/issues/3794","id":268558368,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU1ODM2OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T15:56:18Z","updated_at":"2016-12-21T15:56:18Z","author_association":"CONTRIBUTOR","body":"Do you have more than one segment being queried? If you are only querying one segment, then `combine` won't get called. Your intervals in that query only cover 15 minutes so it may only be hitting one segment.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268558368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268558634","html_url":"https://github.com/apache/druid/issues/3794#issuecomment-268558634","issue_url":"https://api.github.com/repos/apache/druid/issues/3794","id":268558634,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU1ODYzNA==","user":{"login":"linbojin","id":5894707,"node_id":"MDQ6VXNlcjU4OTQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5894707?v=4","gravatar_id":"","url":"https://api.github.com/users/linbojin","html_url":"https://github.com/linbojin","followers_url":"https://api.github.com/users/linbojin/followers","following_url":"https://api.github.com/users/linbojin/following{/other_user}","gists_url":"https://api.github.com/users/linbojin/gists{/gist_id}","starred_url":"https://api.github.com/users/linbojin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linbojin/subscriptions","organizations_url":"https://api.github.com/users/linbojin/orgs","repos_url":"https://api.github.com/users/linbojin/repos","events_url":"https://api.github.com/users/linbojin/events{/privacy}","received_events_url":"https://api.github.com/users/linbojin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T15:57:20Z","updated_at":"2016-12-21T15:57:20Z","author_association":"CONTRIBUTOR","body":"Thx, I will test more late.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268558634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268558834","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268558834","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268558834,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU1ODgzNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T15:58:06Z","updated_at":"2016-12-21T15:58:06Z","author_association":"CONTRIBUTOR","body":"How did travis CI java7 build not catch this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268558834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268559146","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268559146","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268559146,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU1OTE0Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T15:59:23Z","updated_at":"2016-12-21T15:59:23Z","author_association":"CONTRIBUTOR","body":"ohhh, because it compiles in java 7 for java 7","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268559146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268559156","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268559156","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268559156,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU1OTE1Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T15:59:25Z","updated_at":"2016-12-21T15:59:25Z","author_association":"CONTRIBUTOR","body":"I bet the travis CI java7 build actually uses a java7 compiler.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268559156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268561530","html_url":"https://github.com/apache/druid/pull/3664#issuecomment-268561530","issue_url":"https://api.github.com/repos/apache/druid/issues/3664","id":268561530,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2MTUzMA==","user":{"login":"yuusaku-t","id":75201,"node_id":"MDQ6VXNlcjc1MjAx","avatar_url":"https://avatars.githubusercontent.com/u/75201?v=4","gravatar_id":"","url":"https://api.github.com/users/yuusaku-t","html_url":"https://github.com/yuusaku-t","followers_url":"https://api.github.com/users/yuusaku-t/followers","following_url":"https://api.github.com/users/yuusaku-t/following{/other_user}","gists_url":"https://api.github.com/users/yuusaku-t/gists{/gist_id}","starred_url":"https://api.github.com/users/yuusaku-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuusaku-t/subscriptions","organizations_url":"https://api.github.com/users/yuusaku-t/orgs","repos_url":"https://api.github.com/users/yuusaku-t/repos","events_url":"https://api.github.com/users/yuusaku-t/events{/privacy}","received_events_url":"https://api.github.com/users/yuusaku-t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:08:33Z","updated_at":"2016-12-21T16:08:33Z","author_association":"CONTRIBUTOR","body":"@himanshug Thank you for review!\r\n\r\n> druid.zk.service.* settings are still utilized..... right ?\r\n\r\nYes, that's right. ```druid.exhibitor.service.``` setting items are only for periodically updating the list of Zookeeper servers. ```druid.zk.service.``` settings is used to connect to the actual zookeeper server.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268561530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268561542","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268561542","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268561542,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2MTU0Mg==","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:08:37Z","updated_at":"2016-12-21T16:13:09Z","author_association":"NONE","body":"You could use Animal Sniffer","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268561542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268562174","html_url":"https://github.com/apache/druid/pull/3570#issuecomment-268562174","issue_url":"https://api.github.com/repos/apache/druid/issues/3570","id":268562174,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2MjE3NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:10:58Z","updated_at":"2016-12-21T16:10:58Z","author_association":"CONTRIBUTOR","body":"thanks @jon-wei, taking another look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268562174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268563708","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268563708","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268563708,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2MzcwOA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:16:43Z","updated_at":"2016-12-21T16:16:43Z","author_association":"CONTRIBUTOR","body":"can you explain, \"Pass the JDK7 runtime to bootclasspath when compiling with javac\" a bit more?\r\n\r\nwill that be equivalent of compiling with java7 compiler instead of java8 compiler targeting version-7 ? If yes, I would like that because that will also take care of other similar (undiscovered) issues.\r\n\r\nand, let us keep marching on java-8 only goal if tranquility and spark work fine but not let that be a blocker for the issue at hand.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268563708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268565473","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268565473","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268565473,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2NTQ3Mw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:22:57Z","updated_at":"2016-12-21T16:22:57Z","author_association":"CONTRIBUTOR","body":"The suggested work around from the maintainers is to cast to `Map` before calling `keySet()`\r\nhttps://bugs.openjdk.java.net/browse/JDK-8151366?focusedCommentId=13973374&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13973374 Which sounds good to me","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268565473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268565652","html_url":"https://github.com/apache/druid/issues/2748#issuecomment-268565652","issue_url":"https://api.github.com/repos/apache/druid/issues/2748","id":268565652,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2NTY1Mg==","user":{"login":"saurabhere","id":7585822,"node_id":"MDQ6VXNlcjc1ODU4MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7585822?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabhere","html_url":"https://github.com/saurabhere","followers_url":"https://api.github.com/users/saurabhere/followers","following_url":"https://api.github.com/users/saurabhere/following{/other_user}","gists_url":"https://api.github.com/users/saurabhere/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabhere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabhere/subscriptions","organizations_url":"https://api.github.com/users/saurabhere/orgs","repos_url":"https://api.github.com/users/saurabhere/repos","events_url":"https://api.github.com/users/saurabhere/events{/privacy}","received_events_url":"https://api.github.com/users/saurabhere/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:23:28Z","updated_at":"2016-12-21T16:23:43Z","author_association":"NONE","body":"So, I built my own version of hadoop-aws-2.7.3 by changing the aws-java-sdk version dependency to 1.10.21 and updating the call to `TransferManagerConfiguration.setMultipartUploadThreshold(L)`,\r\nand it works smoothly.\r\nThanks @gianm for the vote of confidence. :grin: ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268565652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268565992","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268565992","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268565992,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2NTk5Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:24:32Z","updated_at":"2016-12-21T16:24:32Z","author_association":"CONTRIBUTOR","body":"@himanshug \"Pass the JDK7 runtime to bootclsaspath\" was referring to this comment https://bugs.openjdk.java.net/browse/JDK-8151366?focusedCommentId=13909482&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13909482","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268565992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268566137","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268566137","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268566137,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2NjEzNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:24:57Z","updated_at":"2016-12-21T16:24:57Z","author_association":"CONTRIBUTOR","body":"Both of those two workarounds were suggested by different people in the JDK-8151366 ticket.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268566137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268566881","html_url":"https://github.com/apache/druid/issues/2748#issuecomment-268566881","issue_url":"https://api.github.com/repos/apache/druid/issues/2748","id":268566881,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2Njg4MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:27:17Z","updated_at":"2016-12-21T16:27:17Z","author_association":"CONTRIBUTOR","body":"Yay üòÑ\r\n\r\nI'd like to add official support for this at some point but I'm glad you found a workaround.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268566881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268568391","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268568391","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268568391,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU2ODM5MQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:33:36Z","updated_at":"2016-12-21T16:33:43Z","author_association":"CONTRIBUTOR","body":"there is no way to quantitatively select either of those. let us just go with \"casting to Map\" workaround . if we find similar issues in future then we can switch to \"pass the jdk7 runtime to bootclasspath\" later.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268568391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268570121","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268570121","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268570121,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU3MDEyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T16:39:56Z","updated_at":"2016-12-21T16:39:56Z","author_association":"CONTRIBUTOR","body":"That Animal Sniffer thing @ben-manes mentioned looks like it has a maven plugin (http://www.mojohaus.org/animal-sniffer/animal-sniffer-maven-plugin/), maybe that would help verify.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268570121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268575926","html_url":"https://github.com/apache/druid/pull/3694#issuecomment-268575926","issue_url":"https://api.github.com/repos/apache/druid/issues/3694","id":268575926,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU3NTkyNg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T17:00:03Z","updated_at":"2016-12-21T17:00:03Z","author_association":"CONTRIBUTOR","body":"@akashdw sorry for the delay, I think we're good here. If you can fix merge conflicts I can merge","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268575926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268582997","html_url":"https://github.com/apache/druid/pull/3792#issuecomment-268582997","issue_url":"https://api.github.com/repos/apache/druid/issues/3792","id":268582997,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU4Mjk5Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T17:25:02Z","updated_at":"2016-12-21T17:25:02Z","author_association":"CONTRIBUTOR","body":"@fjy thank you for your review. I updated my patch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268582997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268583132","html_url":"https://github.com/apache/druid/issues/3795#issuecomment-268583132","issue_url":"https://api.github.com/repos/apache/druid/issues/3795","id":268583132,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU4MzEzMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T17:25:17Z","updated_at":"2016-12-21T17:25:17Z","author_association":"CONTRIBUTOR","body":"PR in #3796.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268583132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268591551","html_url":"https://github.com/apache/druid/pull/3796#issuecomment-268591551","issue_url":"https://api.github.com/repos/apache/druid/issues/3796","id":268591551,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU5MTU1MQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T17:46:51Z","updated_at":"2016-12-21T17:46:51Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268591551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268608710","html_url":"https://github.com/apache/druid/pull/3792#issuecomment-268608710","issue_url":"https://api.github.com/repos/apache/druid/issues/3792","id":268608710,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODYwODcxMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T18:54:13Z","updated_at":"2016-12-21T18:54:24Z","author_association":"CONTRIBUTOR","body":"@fjy could you chime in about a whether you agree with having the strategy be a context parameter (https://github.com/druid-io/druid/pull/3792#discussion_r93484241) and whether you agree that the search query should self-contain its own decision making with respect to the bitmap types (https://github.com/druid-io/druid/pull/3792#discussion_r93489747)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268608710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268609591","html_url":"https://github.com/apache/druid/pull/3792#issuecomment-268609591","issue_url":"https://api.github.com/repos/apache/druid/issues/3792","id":268609591,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODYwOTU5MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T18:57:14Z","updated_at":"2016-12-21T18:57:14Z","author_association":"CONTRIBUTOR","body":"@gianm agree","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268609591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268611752","html_url":"https://github.com/apache/druid/pull/3779#issuecomment-268611752","issue_url":"https://api.github.com/repos/apache/druid/issues/3779","id":268611752,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODYxMTc1Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T19:05:48Z","updated_at":"2016-12-21T19:05:48Z","author_association":"CONTRIBUTOR","body":"The whole point here was that an extension did not have to be loaded on the coordinator in order for the coordinator to manage it.\r\n\r\nA few alternative solutions would be to harden up the failure case when one lookup is bad in a bunch, and/or add a lookup validator to `io.druid.cli.validate.DruidJsonValidator`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268611752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268659913","html_url":"https://github.com/apache/druid/pull/3542#issuecomment-268659913","issue_url":"https://api.github.com/repos/apache/druid/issues/3542","id":268659913,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODY1OTkxMw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T22:27:58Z","updated_at":"2016-12-21T22:27:58Z","author_association":"CONTRIBUTOR","body":"@navis if you can address @gianm's comment, I think this is ready for merge","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268659913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268660107","html_url":"https://github.com/apache/druid/pull/2883#issuecomment-268660107","issue_url":"https://api.github.com/repos/apache/druid/issues/2883","id":268660107,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODY2MDEwNw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T22:28:48Z","updated_at":"2016-12-21T22:28:48Z","author_association":"CONTRIBUTOR","body":"ping @jaehc ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268660107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268661029","html_url":"https://github.com/apache/druid/pull/3677#issuecomment-268661029","issue_url":"https://api.github.com/repos/apache/druid/issues/3677","id":268661029,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODY2MTAyOQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T22:32:34Z","updated_at":"2016-12-21T22:32:34Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268661029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268662093","html_url":"https://github.com/apache/druid/pull/2459#issuecomment-268662093","issue_url":"https://api.github.com/repos/apache/druid/issues/2459","id":268662093,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODY2MjA5Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T22:37:40Z","updated_at":"2016-12-21T22:37:40Z","author_association":"CONTRIBUTOR","body":"I'm removing the milestone for now based on author's comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268662093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268670515","html_url":"https://github.com/apache/druid/pull/3766#issuecomment-268670515","issue_url":"https://api.github.com/repos/apache/druid/issues/3766","id":268670515,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODY3MDUxNQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T23:21:04Z","updated_at":"2016-12-21T23:32:52Z","author_association":"CONTRIBUTOR","body":"@praveev I think for future developers and to describe Druid to folks, it'd be good to create a unified Granularity object that understands timezones and can be used for queries and ingestion. Can we do it in this PR? Edit: Given this has already been reviewed, we can do it in a follow up PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268670515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268678045","html_url":"https://github.com/apache/druid/pull/3631#issuecomment-268678045","issue_url":"https://api.github.com/repos/apache/druid/issues/3631","id":268678045,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODY3ODA0NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-21T23:55:56Z","updated_at":"2016-12-21T23:55:56Z","author_association":"MEMBER","body":"@himanshug indeed I've seen some contention in production, despite only during the first seconds of the historical instance serving requests, when the StupidPool is \"filled\".\r\n\r\nI've improved the logic, so Cleaners are reused now and not created and cleared all the time, seen no contention after this change.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268678045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268686955","html_url":"https://github.com/apache/druid/issues/3794#issuecomment-268686955","issue_url":"https://api.github.com/repos/apache/druid/issues/3794","id":268686955,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODY4Njk1NQ==","user":{"login":"linbojin","id":5894707,"node_id":"MDQ6VXNlcjU4OTQ3MDc=","avatar_url":"https://avatars.githubusercontent.com/u/5894707?v=4","gravatar_id":"","url":"https://api.github.com/users/linbojin","html_url":"https://github.com/linbojin","followers_url":"https://api.github.com/users/linbojin/followers","following_url":"https://api.github.com/users/linbojin/following{/other_user}","gists_url":"https://api.github.com/users/linbojin/gists{/gist_id}","starred_url":"https://api.github.com/users/linbojin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linbojin/subscriptions","organizations_url":"https://api.github.com/users/linbojin/orgs","repos_url":"https://api.github.com/users/linbojin/repos","events_url":"https://api.github.com/users/linbojin/events{/privacy}","received_events_url":"https://api.github.com/users/linbojin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-22T00:36:41Z","updated_at":"2016-12-22T00:36:41Z","author_association":"CONTRIBUTOR","body":"@gianm You are right, if i query on multiple segments, fnCombine works well. So it is just a lack of test coverage. Thx, i will close this issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268686955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268707812","html_url":"https://github.com/apache/druid/pull/3570#issuecomment-268707812","issue_url":"https://api.github.com/repos/apache/druid/issues/3570","id":268707812,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODcwNzgxMg==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-22T03:11:30Z","updated_at":"2016-12-22T03:11:30Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268707812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268722966","html_url":"https://github.com/apache/druid/pull/3766#issuecomment-268722966","issue_url":"https://api.github.com/repos/apache/druid/issues/3766","id":268722966,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODcyMjk2Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-22T05:37:53Z","updated_at":"2016-12-22T05:37:53Z","author_association":"MEMBER","body":"Please don't merge, I'm going to review this before the end of the week","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268722966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268738679","html_url":"https://github.com/apache/druid/pull/3766#issuecomment-268738679","issue_url":"https://api.github.com/repos/apache/druid/issues/3766","id":268738679,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODczODY3OQ==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-22T07:43:03Z","updated_at":"2016-12-22T08:12:30Z","author_association":"CONTRIBUTOR","body":"@leventov - Sure. Thanks.\r\n@himanshug  @fjy I found two issues since and have fixed them in 088c990. Added tests as well.\r\n\r\n1. The code for mapping a period to granularityType only worked if the period was in one of the pre-defined granularities (the ones from GranularityType). As a result, if we specified a custom period like say PT2S or P2M etc, the constructor would throw an exception b/c it wouldn‚Äôt be able to find an appropriate granularityType. The reason the mapping exists is so that we can get the appropriate formatters - hive, default and lowerDefault.\r\n2. The custom serialization to help with rolling upgrade didn‚Äôt take into account custom periods.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268738679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268844124","html_url":"https://github.com/apache/druid/issues/1750#issuecomment-268844124","issue_url":"https://api.github.com/repos/apache/druid/issues/1750","id":268844124,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODg0NDEyNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-22T17:05:31Z","updated_at":"2016-12-22T17:05:31Z","author_association":"CONTRIBUTOR","body":"This was done through analysisTypes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268844124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268905405","html_url":"https://github.com/apache/druid/pull/3693#issuecomment-268905405","issue_url":"https://api.github.com/repos/apache/druid/issues/3693","id":268905405,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODkwNTQwNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-22T22:32:33Z","updated_at":"2016-12-22T22:32:33Z","author_association":"MEMBER","body":"@fjy @gianm this is a part of #3798, let it be the justification for this PR","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268905405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268928703","html_url":"https://github.com/apache/druid/pull/3682#issuecomment-268928703","issue_url":"https://api.github.com/repos/apache/druid/issues/3682","id":268928703,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODkyODcwMw==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T01:58:19Z","updated_at":"2016-12-23T02:27:46Z","author_association":"CONTRIBUTOR","body":"@gianm I believe there is a conflict with jackson-databind 2.6.3 from avatica.jar (comes from calcite-core) and druid's explicit jackson-databind 2.4.6 dependency. I see issues during batch ingestion. Realtime using tranquility is fine. Here is a [gist](https://gist.github.com/praveev/d30fc34642796c09a148f0eef31ae148) containing the stack trace\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268928703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268933300","html_url":"https://github.com/apache/druid/pull/3664#issuecomment-268933300","issue_url":"https://api.github.com/repos/apache/druid/issues/3664","id":268933300,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODkzMzMwMA==","user":{"login":"yuusaku-t","id":75201,"node_id":"MDQ6VXNlcjc1MjAx","avatar_url":"https://avatars.githubusercontent.com/u/75201?v=4","gravatar_id":"","url":"https://api.github.com/users/yuusaku-t","html_url":"https://github.com/yuusaku-t","followers_url":"https://api.github.com/users/yuusaku-t/followers","following_url":"https://api.github.com/users/yuusaku-t/following{/other_user}","gists_url":"https://api.github.com/users/yuusaku-t/gists{/gist_id}","starred_url":"https://api.github.com/users/yuusaku-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuusaku-t/subscriptions","organizations_url":"https://api.github.com/users/yuusaku-t/orgs","repos_url":"https://api.github.com/users/yuusaku-t/repos","events_url":"https://api.github.com/users/yuusaku-t/events{/privacy}","received_events_url":"https://api.github.com/users/yuusaku-t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T02:58:21Z","updated_at":"2016-12-23T02:58:21Z","author_association":"CONTRIBUTOR","body":"@himanshug @drcrallen I rewrote the patch again based on your review. Please confirm.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268933300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/268946289","html_url":"https://github.com/apache/druid/issues/2886#issuecomment-268946289","issue_url":"https://api.github.com/repos/apache/druid/issues/2886","id":268946289,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODk0NjI4OQ==","user":{"login":"du00cs","id":6407028,"node_id":"MDQ6VXNlcjY0MDcwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6407028?v=4","gravatar_id":"","url":"https://api.github.com/users/du00cs","html_url":"https://github.com/du00cs","followers_url":"https://api.github.com/users/du00cs/followers","following_url":"https://api.github.com/users/du00cs/following{/other_user}","gists_url":"https://api.github.com/users/du00cs/gists{/gist_id}","starred_url":"https://api.github.com/users/du00cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/du00cs/subscriptions","organizations_url":"https://api.github.com/users/du00cs/orgs","repos_url":"https://api.github.com/users/du00cs/repos","events_url":"https://api.github.com/users/du00cs/events{/privacy}","received_events_url":"https://api.github.com/users/du00cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T06:27:14Z","updated_at":"2016-12-23T06:27:14Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 I met this on 0.9.1.1, a similar exception is thrown: \r\n\r\n```\r\n2016-12-23 04:15:10,090 ERROR i.d.i.o.RemoteTaskRunner [Curator-PathChildrenCache-6] Failed to handle new worker status: {class=io.druid.indexing.overlord.RemoteTaskRunner, exceptionType=class java.util.concurrent.RejectedExecutionException, exceptionMessage=Task java.util.concurrent.FutureTask@61ce9c92 rejected from java.util.concurrent.ThreadPoolExecutor@4b88b5ac[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 6], worker=c3-hadoop-druid01.bj:8091, znode=/druid/prod/indexer/status/c3-hadoop-druid01.bj:8091/index_realtime_profile_mifg_druid_event_2016-12-22T19:00:00.000Z_1_0}\r\njava.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@61ce9c92 rejected from java.util.concurrent.ThreadPoolExecutor@4b88b5ac[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 6]\r\n        at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2047) ~[?:1.8.0_31]\r\n        at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:823) ~[?:1.8.0_31]\r\n        at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1369) ~[?:1.8.0_31]\r\n        at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134) ~[?:1.8.0_31]\r\n        at io.druid.indexing.overlord.RemoteTaskRunner.runPendingTasks(RemoteTaskRunner.java:597) ~[druid-indexing-service-0.9.1.1.jar:0.9.1.1]\r\n        at io.druid.indexing.overlord.RemoteTaskRunner.access$2100(RemoteTaskRunner.java:120) ~[druid-indexing-service-0.9.1.1.jar:0.9.1.1]\r\n        at io.druid.indexing.overlord.RemoteTaskRunner$6.childEvent(RemoteTaskRunner.java:942) [druid-indexing-service-0.9.1.1.jar:0.9.1.1]\r\n        at org.apache.curator.framework.recipes.cache.PathChildrenCache$5.apply(PathChildrenCache.java:522) [curator-recipes-2.10.0.jar:?]\r\n        at org.apache.curator.framework.recipes.cache.PathChildrenCache$5.apply(PathChildrenCache.java:516) [curator-recipes-2.10.0.jar:?]\r\n        at org.apache.curator.framework.listen.ListenerContainer$1.run(ListenerContainer.java:93) [curator-framework-2.10.0.jar:?]\r\n        at com.google.common.util.concurrent.MoreExecutors$SameThreadExecutorService.execute(MoreExecutors.java:297)[guava-16.0.1.jar:?]\r\n        at org.apache.curator.framework.listen.ListenerContainer.forEach(ListenerContainer.java:85) [curator-framework-2.10.0.jar:?]\r\n        at org.apache.curator.framework.recipes.cache.PathChildrenCache.callListeners(PathChildrenCache.java:514) [curator-recipes-2.10.0.jar:?]\r\n        at org.apache.curator.framework.recipes.cache.EventOperation.invoke(EventOperation.java:35) [curator-recipes-2.10.0.jar:?]\r\n        at org.apache.curator.framework.recipes.cache.PathChildrenCache$9.run(PathChildrenCache.java:772) [curator-recipes-2.10.0.jar:?]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_31]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_31]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_31]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_31]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_31]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_31]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_31]\r\n```\r\n\r\nAny idea?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/268946289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269003458","html_url":"https://github.com/apache/druid/pull/3682#issuecomment-269003458","issue_url":"https://api.github.com/repos/apache/druid/issues/3682","id":269003458,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTAwMzQ1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T15:12:51Z","updated_at":"2016-12-23T15:12:51Z","author_association":"CONTRIBUTOR","body":"@praveev could you raise a separate issue for this please? Does adding exclusions to the pom help?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269003458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269035063","html_url":"https://github.com/apache/druid/pull/3797#issuecomment-269035063","issue_url":"https://api.github.com/repos/apache/druid/issues/3797","id":269035063,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTAzNTA2Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T19:27:19Z","updated_at":"2016-12-23T19:27:19Z","author_association":"CONTRIBUTOR","body":"@leventov thanks for the review. I just pushed a round of changes, please let me know what you think.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269035063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269040115","html_url":"https://github.com/apache/druid/issues/3799#issuecomment-269040115","issue_url":"https://api.github.com/repos/apache/druid/issues/3799","id":269040115,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0MDExNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T20:08:36Z","updated_at":"2016-12-23T20:08:36Z","author_association":"MEMBER","body":"Shouldn't this issue be called like \"Make benchmarks to emulate non-uniformity of production queries\"?\r\n\r\nHowever this work will be made obsolete by #3798, because the essence of #3798 is specifically getting rid of megamorphism inside hot query processing loops, that makes production to perform just like mono-query benchmarks. But #3798 almost certainly won't be part of 0.10.0, because it is 10-15 PRs away from completion. And propagating this optimization to types of queries different from topN will take even longer.\r\n\r\nAnd also because adding `DimensionSelector.makeValueMatcher()` is a useful optimization with or without #3798, I suggest to add it before 0.10.0 to ensure there is no performance regression in this area in 0.10.0. While preparing, running and verifying proper benchmarks for 0.10.0 is a lot of work, that will be obsolete soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269040115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269041035","html_url":"https://github.com/apache/druid/issues/3799#issuecomment-269041035","issue_url":"https://api.github.com/repos/apache/druid/issues/3799","id":269041035,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0MTAzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T20:17:55Z","updated_at":"2016-12-23T20:17:55Z","author_association":"CONTRIBUTOR","body":"I think \"Make benchmarks to emulate non-uniformity of production queries\" is too broad to be a github issue (how would you know when you fully achieved that?) so would prefer to make issues for smaller things where it's clear when they are achieved. It sounds like you are suggesting to _not_ do benchmarks but to just do the optimization anyway, is that right?\r\n\r\nAlso, could you please write up a proposal about what changes you need to make #3798 work? It seems like whatever changes you are making there are likely to have code conflicts with work that @jon-wei is doing to follow up on #3570, to handle grouping on more types than just strings (bringing even more polymorphism to the query path).\r\n\r\nThe goal would be to get both of those efforts moving in the same direction.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269041035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269042605","html_url":"https://github.com/apache/druid/issues/3799#issuecomment-269042605","issue_url":"https://api.github.com/repos/apache/druid/issues/3799","id":269042605,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0MjYwNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T20:34:07Z","updated_at":"2016-12-23T20:34:07Z","author_association":"MEMBER","body":"Yes, I suggest to not do benchmarks, because this work (very time-consuming) will be obsoleted soon. So yes, I suggest to \"blindly\" do some optimization before 0.10.0 to have the same level of ValueMatcher specialization we had before #3797.\r\n\r\nDefinitely there will be some code conflicts between #3798 and #3570 follow-ups, but they are not going to be very big, those works are not contradictory. So either I or @jon-wei will need to rebase, depending on whose work is merged into master first. Adding more polymorphism is not a problem for #3798, because it's job is to turn any level of polymorphism into monomorphism.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269042605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269042745","html_url":"https://github.com/apache/druid/issues/3799#issuecomment-269042745","issue_url":"https://api.github.com/repos/apache/druid/issues/3799","id":269042745,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0Mjc0NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T20:35:35Z","updated_at":"2016-12-23T20:35:35Z","author_association":"MEMBER","body":"Regarding this optimization, `DimensionSelector.makeValueMatcher()`, I'm ready to do it myself.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269042745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269043297","html_url":"https://github.com/apache/druid/issues/3799#issuecomment-269043297","issue_url":"https://api.github.com/repos/apache/druid/issues/3799","id":269043297,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0MzI5Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T20:41:12Z","updated_at":"2016-12-23T20:41:12Z","author_association":"CONTRIBUTOR","body":"Ok, that'd be helpful. Hopefully the optimization doesn't blow up the code size too badly.\r\n\r\nI'd still really like to see at least a sketch of a proposal of #3798 ‚Äì¬†I'm curious what approach you plan on taking.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269043297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269043781","html_url":"https://github.com/apache/druid/pull/3802#issuecomment-269043781","issue_url":"https://api.github.com/repos/apache/druid/issues/3802","id":269043781,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0Mzc4MQ==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T20:45:56Z","updated_at":"2016-12-23T22:55:24Z","author_association":"CONTRIBUTOR","body":"oops. i didn't wait for unit tests to run. But both batch and real time ingestion are fine with this change. However it breaks SQL support.\r\n\r\n@gianm here's my understanding of this issue.\r\n\r\n1. druid brings calcite-core brings **avatica** 1.8.0, **avatica-server** 1.8.0 brings jackson 2.6.3. \r\n2. druid brings avatica-server brings **avatica-core** 1.9.0 brings jackson 2.6.3.\r\n3. druid brings **avatica-core** 1.9.0 brings jackson 2.6.3.\r\n\r\n**Attempt 1**\r\nI simply tried adding exclusions for jackson to all the above. Still had the ingestion jackson issue.\r\n\r\n**Attempt 2**\r\nI was reading up on avatica and found this: https://issues.apache.org/jira/browse/CALCITE-1224\r\nand https://github.com/apache/calcite/pull/282\r\n\r\nBasically avatica is a shaded jar and avatica-core is an unshaded jar.\r\n\r\nI thought great, lets have calcite-core use unshaded jar instead. So I excluded the avatica shaded jar from calcite-core itself and had that use avatica-core that came from druid. The exclusions for jackson on avatica-server and avatica-core remained in place from attempt 1.\r\n\r\nThis solved the ingestion jackson issue but breaks calcite b/c calcite-core wants avatica version 1.8.0 but druid brings in avatica-core version 1.9.0. I believe this is a version discrepancy and not an issue with shaded vs unshaded. I am unable to have druid roll back avatica-core to 1.8.0 b/c unshaded avatica-core was only introduced in 1.9.0. \r\n\r\nWhy does druid bring in avatica-server 1.9.0 and avatica-core 1.9.0? I'm asking b/c calcite-core brings in avatica-server 1.8.0 and avatica 1.8.0. If there is no reason,  we can try bringing druid deps on avatica in parity with calcite-core to look like below. \r\n\r\n1. druid brings calcite-core brings **avatica** 1.8.0, **avatica-server** 1.8.0 brings jackson 2.6.3. \r\n2. druid brings avatica-server brings **avatica** 1.8.0 brings jackson 2.6.3.\r\n3. druid brings **avatica** 1.8.0 brings jackson 2.6.3.\r\n\r\nSee 2 and 3. They are different from the ones listed earlier. Then we can try excluding jackson.\r\n\r\nThis PR has the change described in attempt 2. @gianm i'm not very familiar with how these deps are getting used in druid. So pls let me know if you have any thoughts on how to fix this.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269043781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269045047","html_url":"https://github.com/apache/druid/issues/3798#issuecomment-269045047","issue_url":"https://api.github.com/repos/apache/druid/issues/3798","id":269045047,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0NTA0Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T20:59:46Z","updated_at":"2016-12-23T21:03:47Z","author_association":"MEMBER","body":"Outline of the \"Faster topN query processing\" part:\r\n 1. Add `QueryProcessingHotLoopCallee` marker interface with `inspectRuntimeShape()` method. `inspectRuntimeShape()` is similar to `toString()`, but it focuses on exact classes of the fields for monomorphism and selected aspects for branch predictability, e. g. the fraction of set bits in bitmaps we iterate over. `DimensionSelector`, `ValueMatcher`, `BufferAggregator`, `Float/Long/ObjectColumnSelector`, `IndexedInts`, `Offset` and probably some other interfaces extend `QueryProcessingHotLoopCallee`.\r\n 2. Before making a query, getting the *runtime shape* of the relevant parts e. g. for topN it's offset and aggregators. Make copies of query processing class (e. g. stateless `TopNProcessor`) and cache instances of those copied classes in `ConcurrentMap<RuntimeShape, TopNProcessor> shapeProcessors`. Then query like `shapeProcessors.get(aggregator.inspectRuntimeShape()).process(aggregator, offset, resultsBuffer, ...)`.\r\n 3. Specialize single-value `DimensionSelector`s with method `int getRowValue()`.\r\n 4. Specialize historical-side and common `Dimension/Long/FloatSelector`s with methods which accept `rowNum` externally: `DimensionSelector.getRow[Value](int rowNum)`, `FloatColumnSelector.get(int rowNum)`, etc.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269045047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269045073","html_url":"https://github.com/apache/druid/issues/3799#issuecomment-269045073","issue_url":"https://api.github.com/repos/apache/druid/issues/3799","id":269045073,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0NTA3Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T21:00:07Z","updated_at":"2016-12-23T21:00:07Z","author_association":"MEMBER","body":"@gianm see https://github.com/druid-io/druid/issues/3798#issuecomment-269045047","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269045073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269046091","html_url":"https://github.com/apache/druid/pull/3797#issuecomment-269046091","issue_url":"https://api.github.com/repos/apache/druid/issues/3797","id":269046091,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0NjA5MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T21:11:32Z","updated_at":"2016-12-23T21:11:39Z","author_association":"CONTRIBUTOR","body":"@leventov: pushed new commits adding RangeIndexedInts, the ZeroIndexedInts comment, some tweaks to the concurrent usage guard on DimFilterHavingSpec, and some minor refactorings.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269046091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269046982","html_url":"https://github.com/apache/druid/issues/3798#issuecomment-269046982","issue_url":"https://api.github.com/repos/apache/druid/issues/3798","id":269046982,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0Njk4Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T21:21:59Z","updated_at":"2016-12-23T21:21:59Z","author_association":"CONTRIBUTOR","body":"Is the idea that TopNProcessors will be code-generated when Druid is built? Or would they be hand-written?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269046982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269048296","html_url":"https://github.com/apache/druid/issues/3798#issuecomment-269048296","issue_url":"https://api.github.com/repos/apache/druid/issues/3798","id":269048296,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0ODI5Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T21:37:59Z","updated_at":"2016-12-23T21:37:59Z","author_association":"MEMBER","body":"@gianm \"TopNProcessor\" is a normal class: https://github.com/metamx/druid/blob/753848c38789e3b7558988d81f17c771ac4da8fc/processing/src/main/java/io/druid/query/topn/GenericPooledTopNScannerPrototype.java\r\n\r\nIn runtime, bytecode of this class is copied to a new class with minor modifications using ASM library: https://github.com/metamx/druid/blob/753848c38789e3b7558988d81f17c771ac4da8fc/processing/src/main/java/io/druid/query/topn/PooledTopNAlgorithm.java#L102-L144\r\n\r\nDon't pay attention to the details of the referenced code, it is \"dirty\".","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269048296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269048654","html_url":"https://github.com/apache/druid/issues/3798#issuecomment-269048654","issue_url":"https://api.github.com/repos/apache/druid/issues/3798","id":269048654,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA0ODY1NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T21:42:31Z","updated_at":"2016-12-23T21:42:31Z","author_association":"CONTRIBUTOR","body":"Got it, sounds like a nice approach.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269048654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269050069","html_url":"https://github.com/apache/druid/pull/3797#issuecomment-269050069","issue_url":"https://api.github.com/repos/apache/druid/issues/3797","id":269050069,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA1MDA2OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T21:59:16Z","updated_at":"2016-12-23T21:59:16Z","author_association":"CONTRIBUTOR","body":"@leventov I like your suggestion but think it is not necessary for this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269050069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269052549","html_url":"https://github.com/apache/druid/pull/3682#issuecomment-269052549","issue_url":"https://api.github.com/repos/apache/druid/issues/3682","id":269052549,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA1MjU0OQ==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-23T22:31:18Z","updated_at":"2016-12-23T22:31:18Z","author_association":"CONTRIBUTOR","body":"@gianm I've created #3800 to track this. Exclusions didn't help.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269052549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269064049","html_url":"https://github.com/apache/druid/issues/3804#issuecomment-269064049","issue_url":"https://api.github.com/repos/apache/druid/issues/3804","id":269064049,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA2NDA0OQ==","user":{"login":"glycerine","id":445247,"node_id":"MDQ6VXNlcjQ0NTI0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/445247?v=4","gravatar_id":"","url":"https://api.github.com/users/glycerine","html_url":"https://github.com/glycerine","followers_url":"https://api.github.com/users/glycerine/followers","following_url":"https://api.github.com/users/glycerine/following{/other_user}","gists_url":"https://api.github.com/users/glycerine/gists{/gist_id}","starred_url":"https://api.github.com/users/glycerine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glycerine/subscriptions","organizations_url":"https://api.github.com/users/glycerine/orgs","repos_url":"https://api.github.com/users/glycerine/repos","events_url":"https://api.github.com/users/glycerine/events{/privacy}","received_events_url":"https://api.github.com/users/glycerine/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-24T02:07:46Z","updated_at":"2016-12-24T02:07:46Z","author_association":"NONE","body":"similar problem building tag 0.9.2, so I suspect some issue with my build env? Please advise.\r\n\r\n~~~\r\n[INFO] druid-orc-extensions ............................... FAILURE [02:39 min]\r\n[INFO] druid-caffeine-cache ............................... SKIPPED\r\n[INFO] distribution ....................................... SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 28:27 min\r\n[INFO] Finished at: 2016-12-23T20:02:54-06:00\r\n[INFO] Final Memory: 176M/1655M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal on project druid-orc-extensions: Could not resolve dependencies for project io.druid.extensions.contrib:druid-orc-extensions:jar:0.9.2: Failed to collect dependencies at org.apache.hive:hive-exec:jar:2.0.0 -> org.apache.calcite:calcite-core:jar:1.5.0 -> org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Failed to read artifact descriptor for org.pentaho:pentaho-aggdesigner-algorithm:jar:5.1.5-jhyde: Could not transfer artifact org.pentaho:pentaho-aggdesigner-algorithm:pom:5.1.5-jhyde from/to datanucleus (http://www.datanucleus.org/downloads/maven2): Connect to www.datanucleus.org:80 [www.datanucleus.org/80.86.85.8] failed: Operation timed out -> [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn <goals> -rf :druid-orc-extensions\r\n ~/go/src/github.com/druid-io/druid (druid-0.9.2) $ \r\n~~~","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269064049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269064207","html_url":"https://github.com/apache/druid/pull/3697#issuecomment-269064207","issue_url":"https://api.github.com/repos/apache/druid/issues/3697","id":269064207,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA2NDIwNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-24T02:12:02Z","updated_at":"2016-12-24T02:12:02Z","author_association":"MEMBER","body":"@b-slim @drcrallen thank you","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269064207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269068996","html_url":"https://github.com/apache/druid/pull/3693#issuecomment-269068996","issue_url":"https://api.github.com/repos/apache/druid/issues/3693","id":269068996,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA2ODk5Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-24T04:46:05Z","updated_at":"2016-12-24T04:46:05Z","author_association":"CONTRIBUTOR","body":"Other than those 3 comments, the rest looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269068996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269069740","html_url":"https://github.com/apache/druid/issues/3800#issuecomment-269069740","issue_url":"https://api.github.com/repos/apache/druid/issues/3800","id":269069740,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA2OTc0MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-24T05:15:17Z","updated_at":"2016-12-24T05:15:17Z","author_association":"CONTRIBUTOR","body":"@glycerine that looks like a different issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269069740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269069780","html_url":"https://github.com/apache/druid/issues/3804#issuecomment-269069780","issue_url":"https://api.github.com/repos/apache/druid/issues/3804","id":269069780,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA2OTc4MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-24T05:16:45Z","updated_at":"2016-12-24T05:16:45Z","author_association":"CONTRIBUTOR","body":"This error:\r\n\r\n```\r\nCould not transfer artifact org.pentaho:pentaho-aggdesigner-algorithm:pom:5.1.5-jhyde from/to datanucleus (http://www.datanucleus.org/downloads/maven2): Connect to www.datanucleus.org:80 [www.datanucleus.org/80.86.85.8] failed: Operation timed out\r\n```\r\n\r\nMeans that you don't have connectivity to http://www.datanucleus.org/downloads/maven2/ from your build environment. Maybe you have a firewall blocking it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269069780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/269070466","html_url":"https://github.com/apache/druid/pull/3802#issuecomment-269070466","issue_url":"https://api.github.com/repos/apache/druid/issues/3802","id":269070466,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTA3MDQ2Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-24T05:43:38Z","updated_at":"2016-12-24T05:43:38Z","author_association":"CONTRIBUTOR","body":"@praveev I think we actually don't need avatica-core, so in #3805 I dropped that from the pom, downgraded avatica-server to 1.8.0, and excluded Jackson from that. The SQL server still works for me after doing that.\r\n\r\nDoes it fix your issue too?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/269070466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]